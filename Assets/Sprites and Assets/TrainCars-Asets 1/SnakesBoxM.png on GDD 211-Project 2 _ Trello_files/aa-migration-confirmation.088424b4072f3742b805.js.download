(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationConfirmationDialog.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationConfirmationDialog.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1};n(i,s);e.exports=i.locals||{}},"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationConfirmationDialog.tsx":function(e,a,t){"use strict";t.r(a),t.d(a,"AtlassianAccountMigrationConfirmationDialog",(function(){return z}));var n=t("./node_modules/react/index.js"),i=t.n(n),s=t("./packages/atlassian-analytics/index.ts"),o=t("./packages/i18n/index.ts"),l=t("./packages/config/index.ts"),r=t("./packages/storage/index.ts"),c=t("./packages/error-reporting/index.ts"),m=t("./app/src/components/Wizard/index.ts"),p=t("./app/src/components/MemberAvatar/index.ts"),d=t("./packages/trello-canonical-components/index.ts"),u=t("./app/src/components/EmailHygieneWizard/emailHygieneStorageIds.ts"),f=t("./app/src/components/AtlassianAccountMigration/fetchIllustration.ts"),g=t("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationConfirmationDialog.less"),x=t.n(g),k=t("./packages/nachos/button.ts");const h={atlassianProfileUrl:"".concat(l.identityBaseUrl,"/manage-profile/profile-and-visibility"),twoFactorSetupUrl:"".concat(l.identityBaseUrl,"/manage-profile/security/two-step-verification"),trelloAaHelpUrl:"https://help.trello.com/article/1197-using-trello-with-an-atlassian-account"};var b=t("./packages/nachos/icons/check.tsx"),_=t("./app/src/components/AtlassianAccountMigration/ListItem.less"),v=t.n(_);const y=({children:e})=>i.a.createElement("div",{className:v.a.listItem},i.a.createElement("span",{className:v.a.checkIcon},i.a.createElement(b.a,{size:"large",color:"green"})),i.a.createElement("span",null,e)),E=({href:e,onClick:a,children:t})=>i.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",onClick:a},t),A=Object(o.forNamespace)(["aa migration confirmation"],{shouldEscapeStrings:!1}),j=({hasRemovedSecondaryEmails:e,onDismiss:a,analyticsSource:t,analyticsContext:n})=>{const o=e=>{s.Analytics.sendClickedLinkEvent({linkName:e,source:t,attributes:n})};return i.a.createElement("div",{className:x.a.description},i.a.createElement(y,null,A("trello-login-message")+(e?" "+A("emails-removed-message"):"")),i.a.createElement(y,null,A("setup-2fa-message",{setup2faLink:i.a.createElement(E,{href:h.twoFactorSetupUrl,key:"setup-2fa-link",onClick:()=>{o("setup2faLink")}},i.a.createElement("u",null,A("setup-2fa-link")))})),i.a.createElement(y,null,A("manage-profile-message",{manageProfileLink:i.a.createElement(E,{href:h.atlassianProfileUrl,key:"manage-profile-link",onClick:()=>{o("manageProfileLink")}},i.a.createElement("u",null,A("manage-profile-link")))})),i.a.createElement("div",{className:x.a.buttonSection},i.a.createElement(k.Button,{appearance:"primary",size:"wide",onClick:()=>{s.Analytics.sendClickedButtonEvent({buttonName:"dismissButton",source:t,attributes:n}),a()}},A("got it")),i.a.createElement(E,{href:h.trelloAaHelpUrl,onClick:()=>{o("learnMoreLink")}},A("learn more"))))},w=Object(o.forNamespace)(["aa migration confirmation"],{shouldEscapeStrings:!1}),P=({email:e,isProfileSyncUnblocked:a,onDismiss:t,analyticsSource:n,analyticsContext:o})=>{const l=e=>{s.Analytics.sendClickedLinkEvent({linkName:e,source:n,attributes:o})};return i.a.createElement("div",{className:x.a.content},i.a.createElement("div",{className:x.a.description},i.a.createElement(y,null,w("email-login-message",{aaEmail:i.a.createElement("strong",{key:"email"},e)})),i.a.createElement(y,null,w("setup-2fa-message",{setup2faLink:i.a.createElement(E,{href:h.twoFactorSetupUrl,key:"setup-2fa-link",onClick:()=>{l("setup2faLink")}},w("setup-2fa-link"))})),i.a.createElement(y,null,a?w("review-profile-message",{reviewProfileLink:i.a.createElement(E,{href:h.atlassianProfileUrl,key:"review-profile-link",onClick:()=>{l("manageProfileLink")}},w("review-profile-link"))}):w("manage-profile-message",{manageProfileLink:i.a.createElement(E,{href:h.atlassianProfileUrl,key:"manage-profile-link",onClick:()=>{l("manageProfileLink")}},w("manage-profile-link"))})),i.a.createElement("div",{className:x.a.buttonSection},i.a.createElement(k.Button,{appearance:"primary",size:"wide",onClick:()=>{s.Analytics.sendClickedButtonEvent({buttonName:"dismissButton",source:n,attributes:o}),t()}},w("got it")),i.a.createElement(E,{href:h.trelloAaHelpUrl,onClick:()=>{l("learnMoreLink")}},w("learn more")))))},C=Object(o.forNamespace)(["aa migration confirmation"],{shouldEscapeStrings:!1}),M={main:{full:t("./resources/images/aa-migration-wizard/illustration-profile.svg"),mobile:t("./resources/images/aa-migration-wizard/illustration-profile-mobile.svg")}},S=({avatarUrl:e})=>e?i.a.createElement(d.CanonicalAvatar,{avatarSource:"atlassianAccount",img:e,size:56,className:x.a.atlassianProfileAvatar}):null,z=({id:e,name:a,email:t,isProfileSyncUnblocked:o,wasActiveMigration:d,wasInactiveMigration:g,onDismiss:k,analyticsContext:h})=>{const[b,_]=Object(n.useState)(a),[v,y]=Object(n.useState)(t),[E,A]=Object(n.useState)(""),w=Object(n.useCallback)((async()=>{try{const e=await fetch("".concat(l.atlassianApiGateway,"gateway/api/me"),{credentials:"include"}),a=await e.json(),{name:t,email:n,picture:i}=a;_(t),y(n),A(i)}catch(e){Object(c.sendCrashEvent)(e)}}),[]);Object(n.useEffect)((()=>{w()}),[w]),Object(n.useEffect)((()=>{Object(f.a)(M.main.full,x.a.illustration),Object(f.a)(M.main.mobile,x.a.illustration)}));const z=d?"aaMigrationWizardConfirmationScreen":"aaInactiveMigrationConfirmationScreen";Object(n.useEffect)((()=>{s.Analytics.sendScreenEvent({name:z,attributes:h})}),[]);const N=!!r.TrelloStorage.get(u.a),D=Object(n.useCallback)((()=>{N&&r.TrelloStorage.unset(u.a),k()}),[k,N]),T=d?C("your accounts are connected"):g?C("youre all set"):"";return i.a.createElement(m.a,{title:T,tip:null,closeDialog:D,isCentered:!1,image:Object(f.a)(M.main.full,x.a.illustration),mobileImage:Object(f.a)(M.main.mobile,x.a.illustration)},i.a.createElement("div",{className:x.a.content},d?i.a.createElement(j,{hasRemovedSecondaryEmails:N,onDismiss:k,analyticsSource:z,analyticsContext:h}):g?i.a.createElement(P,{email:v,isProfileSyncUnblocked:o,onDismiss:k,analyticsSource:z,analyticsContext:h}):null,i.a.createElement("div",{className:x.a.profileInformation},i.a.createElement("span",{className:x.a.avatar},i.a.createElement(S,{avatarUrl:E}),i.a.createElement(p.a,{size:56,idMember:e})),i.a.createElement("p",{title:b,className:x.a.atlassianProfileName},b),i.a.createElement("span",{title:v,className:x.a.atlassianProfileEmail},v))))};a.default=z},"./app/src/components/AtlassianAccountMigration/ListItem.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/ListItem.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1};n(i,s);e.exports=i.locals||{}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationConfirmationDialog.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3TBpDYCKAjKyaD{display:flex;flex:1;flex-direction:column;max-height:328px}._3TBpDYCKAjKyaD .lHB-YNZvQ2oDvJ{display:flex;flex-direction:column;overflow-y:auto}._3TBpDYCKAjKyaD ._35WjmP275RChhz{margin-top:30px}._3TBpDYCKAjKyaD ._35WjmP275RChhz button{margin-right:8px}._3oDcLdaOOKYKvQ{word-wrap:break-word}@media only screen and (max-width:1020px){.-fNNBdprivSmQ6{width:100%;min-width:375px}}._1878r_PfgT869H{position:absolute;padding:24px 4px 24px 70px;width:200px;height:40px;top:212px;right:60px;background:#fff;text-overflow:ellipsis;z-index:100;overflow:hidden}._1878r_PfgT869H ._1lPF2isZJMr7UM,._1878r_PfgT869H .vhzX2nNusAYH34{max-width:100%;text-overflow:ellipsis;overflow:hidden;margin-bottom:0;white-space:nowrap}._1878r_PfgT869H .vhzX2nNusAYH34{font-weight:500;font-size:16px;line-height:20px;letter-spacing:.256px;color:#172b4d}._1878r_PfgT869H ._1lPF2isZJMr7UM{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.256px;color:#5e6c84}._1878r_PfgT869H ._5I5-jkz-buFJPW{position:absolute;left:4px;top:16px}._1878r_PfgT869H ._5I5-jkz-buFJPW>*{position:absolute;z-index:1}._1878r_PfgT869H ._5I5-jkz-buFJPW .fX5juxFbTdVsBU{z-index:2}.qq1LaMiZXAcepl{margin-top:16px}.qq1LaMiZXAcepl button{margin-right:16px}@media only screen and (max-width:1020px){._1878r_PfgT869H{padding:12px 4px 12px 80px;left:18%;height:40px;width:auto;top:66px;right:18%}._1878r_PfgT869H ._5I5-jkz-buFJPW{left:40px;margin-left:-28px;top:4px}}@media only screen and (max-width:420px){._1878r_PfgT869H{padding-left:70px;left:50%;margin-left:-120px;width:160px;right:auto}._1878r_PfgT869H ._5I5-jkz-buFJPW{left:35px}}",""]),a.locals={content:"_3TBpDYCKAjKyaD",description:"lHB-YNZvQ2oDvJ",buttons:"_35WjmP275RChhz",breakable:"_3oDcLdaOOKYKvQ",illustration:"-fNNBdprivSmQ6",profileInformation:"_1878r_PfgT869H",atlassianProfileName:"vhzX2nNusAYH34",atlassianProfileEmail:"_1lPF2isZJMr7UM",avatar:"_5I5-jkz-buFJPW",atlassianProfileAvatar:"fX5juxFbTdVsBU",buttonSection:"qq1LaMiZXAcepl"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/ListItem.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".FX3RWs9CV3xZET{padding:8px;padding-left:32px;position:relative}._1S920M_8hKWOn7{position:absolute;left:0;top:5px}",""]),a.locals={listItem:"FX3RWs9CV3xZET",checkIcon:"_1S920M_8hKWOn7"}},"./resources/images/aa-migration-wizard/illustration-profile-mobile.svg":function(e,a,t){e.exports=t.p+"images/aa-migration-wizard/illustration-profile-mobile.e1442c4bd0627f059dbc.svg"},"./resources/images/aa-migration-wizard/illustration-profile.svg":function(e,a,t){e.exports=t.p+"images/aa-migration-wizard/illustration-profile.6611f6717246f7dc75ef.svg"}}]);
//# sourceMappingURL=aa-migration-confirmation.088424b4072f3742b805.js.map