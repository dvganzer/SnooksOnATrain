(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"./app/src/components/AtlassianAccountMigrationPrompt/AtlassianAccountMigrationPrompt.less":function(e,t,a){var n=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigrationPrompt/AtlassianAccountMigrationPrompt.less");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var o={insert:"head",singleton:!1};n(s,o);e.exports=s.locals||{}},"./app/src/components/AtlassianAccountMigrationPrompt/index.ts":function(e,t,a){"use strict";a.r(t),a.d(t,"AtlassianAccountMigrationPrompt",(function(){return g}));var n=a("./node_modules/react/index.js"),s=a.n(n),o=a("./app/src/components/AtlassianAccountMigrationStage/index.ts"),i=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationQuery.generated.tsx"),c=a("./app/src/components/Overlay/index.ts"),r=a("./packages/use-lazy-component/index.ts"),l=a("./app/src/components/AtlassianAccountMigrationPrompt/AtlassianAccountMigrationPrompt.less"),m=a.n(l);const d={createAa:{full:a("./resources/images/email-hygiene-wizard/illustration-atlassian.svg"),mobile:a("./resources/images/email-hygiene-wizard/illustration-atlassian-mobile.svg")}},p=new Map,u=e=>{const t=p.get(e);if(t)return t;const a=document.createElement("div");return a.className=m.a.illustration,p.set(e,a),(async e=>{const t=await window.fetch(e);if(null!=t&&t.ok)return t.text()})(e).then((e=>{e&&(a.innerHTML=e)})),a},g=({prompt:e})=>{const[t,l]=Object(n.useState)(!1),[m,p]=Object(n.useState)(!1),{stage:g,refetchStage:A}=Object(o.useAtlassianAccountMigrationStage)(),w=Object(i.a)({variables:{memberId:"me"}}),b=w.data&&w.data.member;Object(n.useEffect)((()=>{l("migrate"===e&&Object(o.isStageActionable)(g)),p("create"===e)}),[g,e]);const h=Object(r.useLazyComponent)((()=>a.e(21).then(a.bind(null,"./app/src/components/AtlassianAccountMigrationPrompt/CreateAaDisplay.tsx"))),{namedImport:"CreateAaDisplay",preload:m}),j=()=>{p(!1);const e=new URLSearchParams(window.location.search);e.delete("showAaMigrate");const t=e.toString();window.history.replaceState({},document.title,"".concat(window.location.origin).concat(window.location.pathname)+(t?"?".concat(t):""))};return b?s.a.createElement(s.a.Fragment,null,m&&s.a.createElement(c.a,{background:c.c.LIGHT,closeOnEscape:!1,onClose:j,alignment:c.b.TOP},s.a.createElement(h,{closeDialog:j,image:u(d.createAa.full),mobileImage:u(d.createAa.mobile),currentTrelloEmail:(null==b?void 0:b.email)||""})),t&&s.a.createElement(o.AtlassianAccountMigrationStageOverlay,{stage:g,attributes:{stage:g,origin:"accountSwitcherUpdateLink"},onComplete:()=>{l(!1),A()},onDismiss:()=>l(!1)})):null}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigrationPrompt/AtlassianAccountMigrationPrompt.less":function(e,t,a){(t=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"@media only screen and (max-width:1020px){._1hj2hfec4m0Ryi{width:100%;min-width:375px}}",""]),t.locals={illustration:"_1hj2hfec4m0Ryi"}}}]);
//# sourceMappingURL=atlassian-account-migration-banner.92a798e7ea362bb7f296.js.map