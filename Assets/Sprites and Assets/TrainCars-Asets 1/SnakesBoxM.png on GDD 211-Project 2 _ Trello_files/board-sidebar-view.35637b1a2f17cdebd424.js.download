/*! For license information please see board-sidebar-view.35637b1a2f17cdebd424.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"./app/scripts/data/latest-power-ups-message.js":function(e,t,s){const i=s("./node_modules/underscore/underscore.js"),r=s("./app/scripts/data/new-power-ups.js"),n=i.chain(r).values().max().value();e.exports=n>Date.now()?"NewPowerUps_".concat(n.toISOString().substr(0,10)):void 0},"./app/scripts/data/new-power-ups.js":function(e,t,s){const i=s("./node_modules/underscore/underscore.js");e.exports=i.chain({"55a5d917446f51777421000d":"2016-08-07","56d5e249a98895a9797bebb9":"2016-08-23","570262ea1100fa611d7e200a":"2016-08-23","56cdf5f7071f133a93eb2363":"2016-08-23","57b47fb862d25a30298459b1":"2016-08-23"}).pairs().map((function(...e){const[t,s]=Array.from(e[0]);return[t,new Date(Date.parse(s))]})).object().value()},"./app/scripts/data/stickers.js":function(e,t,s){e.exports={standard:{premium:!1,stickers:[{image:"check",url:s("./resources/images/stickers/check.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/check.png")},{width:200,height:200,url:s("./resources/images/stickers/check@2x.png")}]},{image:"heart",url:s("./resources/images/stickers/heart.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/heart.png")},{width:200,height:200,url:s("./resources/images/stickers/heart@2x.png")}]},{image:"warning",url:s("./resources/images/stickers/warning.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/warning.png")},{width:200,height:200,url:s("./resources/images/stickers/warning@2x.png")}]},{image:"clock",url:s("./resources/images/stickers/clock.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/clock.png")},{width:200,height:200,url:s("./resources/images/stickers/clock@2x.png")}]},{image:"smile",url:s("./resources/images/stickers/smile.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/smile.png")},{width:200,height:200,url:s("./resources/images/stickers/smile@2x.png")}]},{image:"laugh",url:s("./resources/images/stickers/laugh.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/laugh.png")},{width:200,height:200,url:s("./resources/images/stickers/laugh@2x.png")}]},{image:"huh",url:s("./resources/images/stickers/huh.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/huh.png")},{width:200,height:200,url:s("./resources/images/stickers/huh@2x.png")}]},{image:"frown",url:s("./resources/images/stickers/frown.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/frown.png")},{width:200,height:200,url:s("./resources/images/stickers/frown@2x.png")}]},{image:"thumbsup",url:s("./resources/images/stickers/thumbsup.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/thumbsup.png")},{width:200,height:200,url:s("./resources/images/stickers/thumbsup@2x.png")}]},{image:"thumbsdown",url:s("./resources/images/stickers/thumbsdown.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/thumbsdown.png")},{width:200,height:200,url:s("./resources/images/stickers/thumbsdown@2x.png")}]},{image:"star",url:s("./resources/images/stickers/star.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/star.png")},{width:200,height:200,url:s("./resources/images/stickers/star@2x.png")}]},{image:"rocketship",url:s("./resources/images/stickers/rocketship.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/rocketship.png")},{width:200,height:200,url:s("./resources/images/stickers/rocketship@2x.png")}]}]},taco:{premium:!0,stickers:[{image:"taco-love",url:s("./resources/images/stickers/taco-love.png"),scaled:[{width:140,height:140,url:s("./resources/images/stickers/taco-love.png")},{width:280,height:280,url:s("./resources/images/stickers/taco-love@2x.png")}]},{image:"taco-confused",url:s("./resources/images/stickers/taco-confused.png"),scaled:[{width:140,height:140,url:s("./resources/images/stickers/taco-confused.png")},{width:280,height:280,url:s("./resources/images/stickers/taco-confused@2x.png")}]},{image:"taco-cool",url:s("./resources/images/stickers/taco-cool.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/taco-cool.png")},{width:200,height:200,url:s("./resources/images/stickers/taco-cool@2x.png")}]},{image:"taco-angry",url:s("./resources/images/stickers/taco-angry.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/taco-angry.png")},{width:200,height:200,url:s("./resources/images/stickers/taco-angry@2x.png")}]},{image:"taco-celebrate",url:s("./resources/images/stickers/taco-celebrate.png"),scaled:[{width:140,height:140,url:s("./resources/images/stickers/taco-celebrate.png")},{width:280,height:280,url:s("./resources/images/stickers/taco-celebrate@2x.png")}]},{image:"taco-robot",url:s("./resources/images/stickers/taco-robot.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/taco-robot.png")},{width:200,height:200,url:s("./resources/images/stickers/taco-robot@2x.png")}]},{image:"taco-alert",url:s("./resources/images/stickers/taco-alert.png"),scaled:[{width:140,height:140,url:s("./resources/images/stickers/taco-alert.png")},{width:280,height:280,url:s("./resources/images/stickers/taco-alert@2x.png")}]},{image:"taco-active",url:s("./resources/images/stickers/taco-active.png"),scaled:[{width:140,height:140,url:s("./resources/images/stickers/taco-active.png")},{width:280,height:280,url:s("./resources/images/stickers/taco-active@2x.png")}]},{image:"taco-money",url:s("./resources/images/stickers/taco-money.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/taco-money.png")},{width:200,height:200,url:s("./resources/images/stickers/taco-money@2x.png")}]},{image:"taco-reading",url:s("./resources/images/stickers/taco-reading.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/taco-reading.png")},{width:200,height:200,url:s("./resources/images/stickers/taco-reading@2x.png")}]},{image:"taco-trophy",url:s("./resources/images/stickers/taco-trophy.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/taco-trophy.png")},{width:200,height:200,url:s("./resources/images/stickers/taco-trophy@2x.png")}]},{image:"taco-sleeping",url:s("./resources/images/stickers/taco-sleeping.png"),scaled:[{width:140,height:140,url:s("./resources/images/stickers/taco-sleeping.png")},{width:280,height:280,url:s("./resources/images/stickers/taco-sleeping@2x.png")}]},{image:"taco-pixel",url:s("./resources/images/stickers/taco-pixel.png"),scaled:[{width:140,height:140,url:s("./resources/images/stickers/taco-pixel.png")},{width:280,height:280,url:s("./resources/images/stickers/taco-pixel@2x.png")}]},{image:"taco-proto",url:s("./resources/images/stickers/taco-proto.png"),scaled:[{width:140,height:140,url:s("./resources/images/stickers/taco-proto.png")},{width:280,height:280,url:s("./resources/images/stickers/taco-proto@2x.png")}]},{image:"taco-embarrassed",url:s("./resources/images/stickers/taco-embarrassed.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/taco-embarrassed.png")},{width:200,height:200,url:s("./resources/images/stickers/taco-embarrassed@2x.png")}]},{image:"taco-clean",url:s("./resources/images/stickers/taco-clean.png"),scaled:[{width:140,height:140,url:s("./resources/images/stickers/taco-clean.png")},{width:280,height:280,url:s("./resources/images/stickers/taco-clean@2x.png")}]}]},pete:{premium:!0,stickers:[{image:"pete-happy",url:s("./resources/images/stickers/pete-happy.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-happy.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-happy@2x.png")}]},{image:"pete-love",url:s("./resources/images/stickers/pete-love.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-love.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-love@2x.png")}]},{image:"pete-broken",url:s("./resources/images/stickers/pete-broken.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-broken.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-broken@2x.png")}]},{image:"pete-alert",url:s("./resources/images/stickers/pete-alert.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-alert.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-alert@2x.png")}]},{image:"pete-talk",url:s("./resources/images/stickers/pete-talk.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-talk.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-talk@2x.png")}]},{image:"pete-vacation",url:s("./resources/images/stickers/pete-vacation.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-vacation.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-vacation@2x.png")}]},{image:"pete-confused",url:s("./resources/images/stickers/pete-confused.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-confused.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-confused@2x.png")}]},{image:"pete-shipped",url:s("./resources/images/stickers/pete-shipped.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-shipped.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-shipped@2x.png")}]},{image:"pete-busy",url:s("./resources/images/stickers/pete-busy.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-busy.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-busy@2x.png")}]},{image:"pete-completed",url:s("./resources/images/stickers/pete-completed.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-completed.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-completed@2x.png")}]},{image:"pete-space",url:s("./resources/images/stickers/pete-space.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-space.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-space@2x.png")}]},{image:"pete-sketch",url:s("./resources/images/stickers/pete-sketch.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-sketch.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-sketch@2x.png")}]},{image:"pete-ghost",url:s("./resources/images/stickers/pete-ghost.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-ghost.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-ghost@2x.png")}]},{image:"pete-award",url:s("./resources/images/stickers/pete-award.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-award.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-award@2x.png")}]},{image:"pete-music",url:s("./resources/images/stickers/pete-music.png"),scaled:[{width:100,height:100,url:s("./resources/images/stickers/pete-music.png")},{width:200,height:200,url:s("./resources/images/stickers/pete-music@2x.png")}]}]}}},"./app/scripts/lib/util/selection/has-selection-in.js":function(e,t){e.exports=function(e){const t=window.getSelection(),s=t.toString(),i=t.anchorNode;return!!s&&!!e.find(i).length}},"./app/scripts/views/archive/archive-view.js":function(e,t,s){const i=s("./app/scripts/views/archive/archived-cards-view.js"),r=s("./app/scripts/views/archive/archived-lists-view.js"),n=s("./app/scripts/lib/util/index.js"),a=s("./app/scripts/views/internal/view.js"),o=s("./app/scripts/lib/localize.js"),c=s("./node_modules/react/index.js"),{renderComponent:l}=s("./app/src/components/ComponentWrapper/index.ts"),{BoardArchive:d}=s("./app/scripts/views/templates/BoardArchive.js");class p extends a{static initClass(){this.prototype.viewTitleKey="archive",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-switch-section":"didClickSwitchSections","input .js-search":"searchChanged"}}initialize(){return this.searchText=this.slot(""),this.cardsView=this.subview(i,this.model,{searchText:this.searchText}).render(),this.listsView=this.subview(r,this.model,{searchText:this.searchText}).render(),this.activeSubview=this.slot(this.cardsView)}searchChanged(){return this.searchText.set(this.$searchInput.val().trim())}didClickSwitchSections(e){var t,s,i;return this.activeSubview.set((t=this.activeSubview.get(),s=this.cardsView,i=this.listsView,t===s?i:s)),this.$searchInput.focus(),n.stop(e)}injectSubview(e){return this.$(".js-archive-content").append(e.el),e.didBecomeActive()}remove(){return this.unmountBoardArchive&&this.unmountBoardArchive(),super.remove(...arguments)}renderOnce(){return this.unmountBoardArchive||(this.unmountBoardArchive=l(c.createElement(d,null),this.$el[0])),this.$searchInput=this.$(".js-search"),this.subscribeChanges(this.activeSubview,{in:this.injectSubview,out:e=>e.$el.detach()}),this.watch("activeSubview",(e=>{const t=e===this.cardsView?"switch to archived lists":"switch to archived cards";return this.$(".js-switch-section").text(o(t))})),this.watch("activeSubview.isLoading",(e=>(this.$(".js-loading-spinner").toggleClass("hide",!e),this.$(".js-archive-content").toggleClass("hide",e)))),this}}p.initClass(),e.exports=p},"./app/scripts/views/archive/archived-card-view.js":function(e,t,s){const i=s("./packages/jquery/index.js"),{Analytics:r}=s("./packages/atlassian-analytics/index.ts"),n=s("./app/scripts/views/card/card-view.js"),{maybeDisplayLimitsErrorOnCardOpen:a}=s("./app/scripts/views/card/card-limits-error.js"),o=s("./app/scripts/views/lib/confirm.js"),c=s("./app/scripts/controller/index.js"),l=s("./app/scripts/views/lib/dialog.js"),{featureFlagClient:d}=s("./packages/feature-flag-client/index.ts"),p=s("./app/scripts/lib/util/index.js"),u=s("./app/scripts/views/internal/view.js"),m=s("./node_modules/react/index.js"),{renderComponent:h}=s("./app/src/components/ComponentWrapper/index.ts"),{ArchivedCardOptions:g}=s("./app/scripts/views/templates/ArchivedCardOptions.js");class b extends u{static initClass(){this.prototype.tagName="div",this.prototype.className="archived-list-card",this.prototype.events={"click .list-card":"openCard","click .js-delete":"deleteModel","click .js-reopen":"reopen"},this.prototype.vigor=this.VIGOR.NONE}initialize(){return null==this.$reactRoot&&(this.$reactRoot=i("<div></div>")),this.linkCardsEnabled=d.get("wildcard.link-cards",!1),this.sendGASEvent=d.get("dataeng.gasv3-event-tracking",!1)}render(){const e=this.subview(n,this.model,{dontFilter:!0,quickEditHidden:!0});e.render(),this.$el.append(e.el);const t={editable:this.model.editable(),canDelete:this.options.canDelete,canReopen:null!=this.model.getList(),reOpenText:this.options.reOpenText};return this.$el.append(this.$reactRoot),this.unmountArchivedCardOptions||(this.unmountArchivedCardOptions=h(m.createElement(g,t),this.$reactRoot[0])),super.render()}remove(){return this.unmountArchivedCardOptions&&(this.unmountArchivedCardOptions(),this.unmountArchivedCardOptions=null),super.remove(...arguments)}openCard(e){"link"===this.model.get("cardRole")&&this.linkCardsEnabled||(p.stop(e),c.showCardDetail(this.model),l.calcPos())}deleteModel(e){var t,s;p.stop(e),o.toggle("delete card",{elem:(t=i(e.target).closest(".js-delete"),s=e=>e[0],null!=t?s(t):void 0),model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:()=>(this.model.destroy(),this.unmountArchivedCardOptions&&this.unmountArchivedCardOptions(),r.sendTrackEvent({action:"deleted",actionSubject:"card",source:"archiveScreen",containers:{card:{id:this.model.id},list:{id:this.model.getList().id},board:{id:this.model.getBoard().id}}}))})}reopen(e){p.preventDefault(e);const t={$elem:i(e.target),hasAttachments:this.model.attachmentList.length>0,destinationBoard:this.model.getBoard(),destinationList:this.model.getList()};if(a(t))return;const s=r.startTask({taskName:"edit-card",subTask:"closed",source:"archiveScreen"});return this.model.update({closed:!1,traceId:s},((e,t)=>{if(e)throw r.taskFailed({taskName:"edit-card",subTask:"closed",traceId:s,source:"archiveScreen",error:e});return r.sendUpdatedCardFieldEvent({field:"closed",source:"archiveScreen",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:s}}),r.taskSucceeded({taskName:"edit-card",subTask:"closed",traceId:s,source:"archiveScreen"}),this.unmountArchivedCardOptions&&(this.unmountArchivedCardOptions(),this.unmountArchivedCardOptions=null),r.sendTrackEvent({action:"reopened",actionSubject:"card",source:"archiveScreen",containers:{card:{id:this.model.id},list:{id:this.model.getList().id},board:{id:this.model.getBoard().id}}})})),!1}}b.initClass(),e.exports=b},"./app/scripts/views/archive/archived-cards-view.js":function(e,t,s){const{Analytics:i}=s("./packages/atlassian-analytics/index.ts"),r=s("./app/scripts/views/archive/archived-card-view.js"),n=s("./app/scripts/views/archive/search-help-view.js"),a=s("./app/scripts/lib/dates.js"),{featureFlagClient:o}=s("./packages/feature-flag-client/index.ts"),c=s("./app/scripts/db/model-loader.js"),l=s("./app/scripts/views/internal/view.js"),d=s("./node_modules/underscore/underscore.js"),p=s("./app/scripts/lib/localize.js"),u=s("./node_modules/effing/lib/index.js"),m=s("./app/scripts/views/lib/pop-over.js"),h=s("./app/scripts/lib/util/index.js"),g=s("./node_modules/react/index.js"),{renderComponent:b}=s("./app/src/components/ComponentWrapper/index.ts"),{ArchivedCards:f}=s("./app/scripts/views/templates/ArchivedCards.js");let v=void 0,k=void 0;class w extends l{static initClass(){this.prototype.CARDS_PER_PAGE=30,this.prototype.SEARCH_LIMIT=50,v={},k=function(e){let t=v;return{lease(){const s=function(){t!==v&&s!==t||e.apply(this,arguments)};return t=s,s}}},this.prototype.events={"click .js-more-cards":"getMoreCards","click .js-show-search-tips":"showSearchTips"},this.prototype.vigor=this.VIGOR.SOME}initialize({searchText:e}){this.searchText=e,this.isLoadingInitialCards=this.slot(!1),this.isLoadingMoreCards=this.slot(!1),this.isLoadingSearchResults=this.slot(!1),this.tooManySearchResults=this.slot(!1),this.isLoading=this.using(this.isLoadingInitialCards.or(this.isLoadingSearchResults)),this.isSearching=this.using(this.searchText.map((e=>e.length>0)).distinct()),this.hasMoreCards=this.slot(!1),this.searchResults=this.slot([]),this.sortedContiguousCards=this.slot([]),this.sendGASEvent=o.get("dataeng.gasv3-event-tracking",!1),this.updateSearchCallback=k((e=>{const t=e.map((e=>this.modelCache.get("Card",e.id)));return this.tooManySearchResults.set(t.length===this.SEARCH_LIMIT),this.searchResults.set(t),this.isLoadingSearchResults.set(!1)}));const t=e=>(this.sortedContiguousCards.set(d.without(this.sortedContiguousCards.get(),e)),this.searchResults.set(d.without(this.searchResults.get(),e)));return this.listenTo(this.modelCache,{"remove:Card":t,"change:Card:closed":e=>{e.get("idBoard")===this.model.id&&(e.get("closed")?this.sortedContiguousCards.set([e,...Array.from(this.sortedContiguousCards.get())]):t(e))}}),this.cards=this.using(this.isSearching.if(this.searchResults,this.sortedContiguousCards))}didBecomeActive(){if(this.hasBeenActiveBefore)return;this.hasBeenActiveBefore=!0;const e={limit:this.CARDS_PER_PAGE};return this.isLoadingInitialCards.set(!0),c.loadClosedCards(this.model.id,e).tap(u(this,"didLoadContiguousCards")).finally((()=>this.isLoadingInitialCards.set(!1))).done()}didLoadContiguousCards(e){this.hasMoreCards.set(e.length===this.CARDS_PER_PAGE);const t=d.sortBy(e,(e=>-this.cardSortRank(e))),s=[...Array.from(this.sortedContiguousCards.get()),...Array.from(t)];return this.sortedContiguousCards.set(d.uniq(s))}cardSortRank(e){let t;return null!=(s=a.parse(e.get("dateLastActivity")),i="getTime",r=e=>e.getTime(),t=null!=s&&"function"==typeof s[i]?r(s,i):void 0)?t:null;var s,i,r}getMoreCards(){const e=d.last(this.sortedContiguousCards.get()),t={limit:this.CARDS_PER_PAGE,before:null!=e?this.cardSortRank(e):null};return this.isLoadingMoreCards.set(!0),c.loadClosedCards(this.model.id,t).tap(u(this,"didLoadContiguousCards")).finally((()=>this.isLoadingMoreCards.set(!1))).done()}removeSubviews(e){return this.unmountArchivedCards&&this.unmountArchivedCards(),super.removeSubviews(e)}remove(){return this.unmountArchivedCards&&this.unmountArchivedCards(),super.remove(...arguments)}renderOnce(){this.unmountArchivedCards&&this.unmountArchivedCards(),this.unmountArchivedCards=b(g.createElement(f,null),this.$el[0]),this.watch("isLoadingMoreCards",(function(e){return this.$(".js-more-cards").attr("disabled",e)}));const e=this.hasMoreCards.and(this.isSearching.not());this.subscribe(e,(function(e){return this.$(".js-more-cards").toggleClass("hide",!e)})),this.$(".js-search-message").html(p("too many results",{limit:"<strong>".concat(this.SEARCH_LIMIT.toString(),"+</strong>"),learnMoreLink:'<a class="js-show-search-tips" href="#">'.concat(p("learn more"),"</a>")},{raw:!0}));const t=this.tooManySearchResults;this.subscribe(t,(function(e){return this.$(".js-search-message").toggleClass("hide",!e)})),this.watch("isSearching",(function(e){const t=e?"no results":"no archived cards";return this.$(".js-empty-message").text(p(t))})),this.watch("cards",(function(e){return this.$(".js-empty-message").toggleClass("hide",e.length>0)})),this.watch("isLoadingSearchResults",(function(e){return this.$(".js-search-loading").toggleClass("hide",!e)}));const s=this.debounce(this.loadSearchResults,400);return this.subscribe(this.searchText.filter((e=>e.length>0)),(function(){return this.isLoadingSearchResults.set(!0),s.call(this)})),this.subscribe(this.cards,this.frameDebounce(this.renderCards))}loadSearchResults(){const e={query:"is:archived ".concat(this.searchText.get()),modelTypes:"cards",idBoards:this.model.id,card_stickers:!0,card_attachments:"cover",partial:!0,cards_limit:this.SEARCH_LIMIT};return c.loadSearchData(e).get("cards").then(this.updateSearchCallback.lease()).done()}renderCards(){const e=this.$(".js-archive-items");e.children().detach();const t=Array.from(this.cards.get()).map((e=>this.subview(r,e,{reOpenText:p("unarchive card"),canDelete:!0})));this.appendSubviews(t,e)}showSearchTips(e){h.stop(e),i.sendClickedLinkEvent({linkName:"showSearchTipsLink",source:"archiveScreen",containers:{board:{id:this.model.id}}}),m.toggle({elem:e.target,view:n})}}w.initClass(),e.exports=w},"./app/scripts/views/archive/archived-list-view.js":function(e,t,s){const i=s("./packages/jquery/index.js"),{track:r}=s("./packages/analytics/index.ts"),n=s("./app/scripts/lib/util/index.js"),a=s("./app/scripts/views/archive/archived-model-view.js"),{maybeDisplayLimitsErrorOnCardOpen:o}=s("./app/scripts/views/card/card-limits-error.js"),c=s("./app/scripts/views/templates/archive_item.js"),{Analytics:l}=s("./packages/atlassian-analytics/index.ts"),{featureFlagClient:d}=s("./packages/feature-flag-client/index.ts"),p=s("./app/scripts/db/model-loader.js");e.exports=class extends a{initialize(){return this.sendGASEvent=d.get("dataeng.gasv3-event-tracking",!1)}reopen(e){return n.preventDefault(e),p.loadListCards(this.model.id).then((()=>{let t=!1;this.model.cardList.forEach((function(e){let s;const i=null!=(r=e.get("badges"),n=e=>e.attachments,s=null!=r?n(r):void 0)?s:0;var r,n;return t=t||i>0}));const s={$elem:i(e.target),hasAttachments:t,destinationBoard:this.model.getBoard()};if(!o(s))return this.model.update({closed:!1},(e=>{if(null!=e)throw this.model.update({closed:!0}),r("List","Reopen","Via Archive","Failed"),this.sendGASEvent&&l.sendTrackEvent({action:"reopened",actionSubject:"list",source:"archiveScreen",containers:{list:{id:this.model.id},board:{id:this.model.getBoard().id}},attributes:{succeeded:!1}}),e;if(r("List","Reopen","Via Archive"),this.sendGASEvent)return l.sendTrackEvent({action:"reopened",actionSubject:"list",source:"archiveScreen",containers:{list:{id:this.model.id},board:{id:this.model.getBoard().id}},attributes:{succeeded:!0}})}))})),!1}render(){return this.$el.html(c({name:this.model.get("name"),url:"function"==typeof this.model.getUrl?this.model.getUrl():void 0,reOpenText:this.options.reOpenText,canReopen:this.canReopen()})),this}}},"./app/scripts/views/archive/archived-lists-view.js":function(e,t,s){const i=s("./app/scripts/views/archive/archived-list-view.js"),r=s("./app/scripts/db/model-loader.js"),n=s("./app/scripts/lib/util/index.js"),a=s("./app/scripts/views/internal/view.js"),o=s("./node_modules/underscore/underscore.js"),c=s("./app/scripts/lib/localize.js"),l=s("./node_modules/react/index.js"),{renderComponent:d}=s("./app/src/components/ComponentWrapper/index.ts"),{ArchivedLists:p}=s("./app/scripts/views/templates/ArchivedLists.js");class u extends a{static initClass(){this.prototype.hasBeenActiveBefore=!1,this.prototype.vigor=this.VIGOR.SOME}initialize({searchText:e}){return this.searchText=e,this.isLoading=this.slot(!0),this.allArchivedLists=this.slot([]),this.sortedFilteredLists=this.allArchivedLists.combine(this.searchText).map((function(...e){const[t,s]=Array.from(e[0]);if(""===s)return t;{const e=n.buildFuzzyMatcher(s);return o.filter(t,(t=>e(t.get("name"))))}})).map((e=>o.sortBy(e,(e=>e.get("name"))))),this.using(this.sortedFilteredLists),this.listenTo(this.modelCache,"change:List:closed",(e=>e.get("closed")?this.allArchivedLists.set([e,...Array.from(this.allArchivedLists.get())]):this.allArchivedLists.set(o.without(this.allArchivedLists.get(),e))))}remove(){return this.unmountArchivedLists&&this.unmountArchivedLists(),super.remove(...arguments)}didBecomeActive(){this.hasBeenActiveBefore||(this.hasBeenActiveBefore=!0,r.loadArchivedLists(this.model.id).then((e=>{const t=this.modelCache.find("List",(e=>e.get("idBoard")===this.model.id&&e.get("closed")));return this.allArchivedLists.set(t),this.isLoading.set(!1)})))}renderOnce(){return this.unmountArchivedLists&&this.unmountArchivedLists(),this.unmountArchivedLists=d(l.createElement(p,null),this.$el[0]),this.watch("searchText",(function(e){const t=0===e.length?"no archived lists":"no results";return this.$(".js-empty-message").text(c(t))})),this.watch("sortedFilteredLists",(function(e){return this.$(".js-empty-message").toggleClass("hide",e.length>0)})),this.watch("sortedFilteredLists",this.frameDebounce(this.renderLists))}renderLists(){this.$(".js-archive-items").children().detach();const e=Array.from(this.sortedFilteredLists.get()).map((e=>this.subview(i,e,{reOpenText:c("unarchive list"),canDelete:!1})));return this.appendSubviews(e,this.$(".js-archive-items")),this}}u.initClass(),e.exports=u},"./app/scripts/views/archive/archived-model-view.js":function(e,t,s){const i=s("./app/scripts/views/lib/pop-over.js"),r=s("./app/scripts/views/board/reopen-board-popover-view.js"),n=s("./app/scripts/db/model-loader.js"),a=s("./node_modules/bluebird/js/browser/bluebird.js"),o=s("./app/scripts/lib/util/index.js"),c=s("./app/scripts/views/internal/view.js"),{track:l}=s("./packages/analytics/index.ts"),d=s("./app/scripts/lib/localize.js"),p=s("./app/scripts/db/auth.js"),u=s("./app/scripts/views/templates/archive_item.js"),{Analytics:m}=s("./packages/atlassian-analytics/index.ts"),{featureFlagClient:h}=s("./packages/feature-flag-client/index.ts");class g extends c{static initClass(){this.prototype.tagName="li",this.prototype.className="u-clearfix",this.prototype.events={"click .js-reopen":"reopen"}}initialize(){if(this.sendGASEvent=h.get("dataeng.gasv3-event-tracking",!1),this.me=p.me(),this.listenTo(this.model,"deleting",this.render),null!=this.model.getBoard)return this.listenTo(this.model.getBoard(),"change:limits",this.render)}_checkTargetCapacity(){let e=!0;return null!=this.model.getBoard&&(e=this.model.getBoard().hasCapacity(this.model)),e}canReopen(){const e=this._checkTargetCapacity();return null!=this.model.owned?e&&this.model.owned():e&&this.model.editable()}render(){let e;return this.$el.html(u({name:this.model.get("name"),orgName:(e=this.model.getOrganization())?e.get("displayName"):this.model.hasOrganization()?d(["templates","board_header","private-team"]):d("personal"),url:"function"==typeof this.model.getUrl?this.model.getUrl():void 0,reOpenText:this.options.reOpenText,canReopen:this.canReopen(),reopenDisabled:this.options.reopenDisabled})),this}reopen(e){o.stop(e);const t=this.model.getOrganization();if(null!=t?t.isAtOrOverFreeBoardLimit():void 0)return;const s=[this.model.getNewBillableGuests()];return!t||t.adminList&&0!==t.adminList.length||s.push(n.loadOrganizationMembersMinimal(t.id)),a.all(s).then(((...e)=>{const[s]=Array.from(e[0]),{newBillableGuests:n,availableLicenseCount:a}=s;return n.length>0?i.show({elem:this.$(".js-reopen"),view:new r({board:this.model,org:t,newBillableGuests:n,availableLicenseCount:a,onReopen:()=>{if(l(this.model.typeName,"Reopen","Via Archive"),this.sendGASEvent)return m.sendTrackEvent({action:"reopened",actionSubject:"board",source:"closedBoardsScreen",containers:{board:{id:this.model.id}}})}})}):(this.model.reopen(),l(this.model.typeName,"Reopen","Via Archive"),this.sendGASEvent?m.sendTrackEvent({action:"reopened",actionSubject:"board",source:"closedBoardsScreen",containers:{board:{id:this.model.id}}}):void 0)}))}}g.initClass(),e.exports=g},"./app/scripts/views/archive/search-help-view.js":function(e,t,s){const i=s("./app/scripts/views/internal/view.js"),r=s("./app/scripts/views/templates/search_help_popover.js");class n extends i{static initClass(){this.prototype.viewTitleKey="help"}render(){return this.$el.html(r()),this}}n.initClass(),e.exports=n},"./app/scripts/views/board-menu/BoardSidebarPuPUpsell.tsx":function(e,t,s){"use strict";s.r(t),s.d(t,"BoardSidebarPuPUpsell",(function(){return m}));var i=s("./node_modules/react/index.js"),r=s.n(i),n=s("./app/src/components/UpgradePrompts/index.ts"),a=s("./packages/test-ids/index.ts"),o=s("./packages/i18n/index.ts"),c=s("./packages/analytics/index.ts"),l=s("./packages/feature-flag-client/index.ts"),d=s("./packages/nachos/icons/power-up.tsx"),p=s("./packages/nachos/icons/private.tsx");const u=Object(o.forNamespace)("upgrade prompt"),m=({billingUrl:e,orgId:t})=>{const s=Object(l.useFeatureFlag)("btg.upgrade-prompt-audit",!1);return r.a.createElement("span",{className:"board-menu-navigation-item-link disabled"},r.a.createElement("span",{className:"board-menu-navigation-item-link-icon mod-upsell-slot"},r.a.createElement(p.a,{size:"small"})),s?r.a.createElement(n.UpgradeSmartComponent,{orgId:t||"",promptId:"boardMenuDrawerPromptFull"}):r.a.createElement(n.UpgradePromptFull,{content:u(["board menu","power ups","content"]),headline:u(["board menu","power ups","headline"]),cta:u("learn more"),orgId:t,ctaLink:e,ctaOnClick:()=>{Object(c.trackUe)({category:c.Noun.BOARD_MENU,verb:c.Verb.OPENS,directObj:c.Noun.BC_MODAL,method:"by clicking full upgrade prompt in board menu pup section"})},icon:r.a.createElement(d.a,null),source:"boardMenuDrawer",testId:a.UpgradePromptTestIds.PuPsUpgradePrompt}))}},"./app/scripts/views/board-menu/about-this-board-admin-list-view.js":function(e,t,s){const i=s("./app/scripts/views/internal/view.js"),r=s("./app/scripts/views/internal/templates.js"),n=s("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),{Analytics:a}=s("./packages/atlassian-analytics/index.ts"),{featureFlagClient:o}=s("./packages/feature-flag-client/index.ts");class c extends i{static initClass(){this.prototype.viewTitleKey="multi admin list"}initialize(){return this.listenTo(this.model)}render(){const e=this.model.toJSON();return o.get("dataeng.gasv3-event-tracking",!1)&&a.sendScreenEvent({name:"aboutThisBoardAdminListInlineDialog",containers:{board:{id:this.model.id}}}),this.$el.html(r.fill(s("./app/scripts/views/templates/popover_about_this_board_admin_list.js"),e)),this.renderAdminList(),this}renderAdminList(){const e=this.$(".js-show-all-admins"),t=this.model.orderedVisibleAdmins(),s=Array.from(t).map((e=>this.subview(n,e,{board:this.model})));return this.ensureSubviews(s,e)}}c.initClass(),e.exports=c},"./app/scripts/views/board-menu/board-collections-select-view.js":function(e,t,s){const i=s("./app/scripts/db/auth.js"),r=s("./app/scripts/views/organization/add-tag-view.js"),n=s("./app/scripts/views/lib/pop-over.js"),a=s("./app/scripts/lib/util/index.js"),o=s("./app/scripts/views/internal/view.js"),c=s("./app/scripts/controller/index.js"),l=s("./node_modules/underscore/underscore.js"),d=s("./packages/jquery/index.js"),{Analytics:p,tracingCallback:u}=s("./packages/atlassian-analytics/index.ts"),m=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_collections"),h=m.renderable((function(e,t){if(e)return m.ul(".select-tags-list",(()=>Array.from(e).map((e=>m.li(".select-tags-list-item.js-tag-item",{"data-id-tag":e.id},(()=>m.a(".select-tags-list-item-name-link.js-toggle-tag",(function(){return t&&m.icon("check",{class:"select-tags-list-item-name-link-check-icon"}),m.text(e.get("name"))}))))))))})),g=m.renderable((function(e){return h(e.associated,!0),h(e.notAssociated,!1)})),b=m.renderable((function({board:e,collectionsEnabled:t,billingUrl:i,orgUrl:r,hasTags:n,hideExplainer:a}){return t?(a||m.div(".collections-info",(function(){return m.span(".collections-explainer-close.js-close-explainer",(()=>m.icon("close"))),m.img(".collections-image",{src:s("./resources/images/collections/business-class-feature-roadmap.png")}),m.p((()=>m.format("collections-let-you-group-and-filter"))),m.p(".js-learn-more",(()=>m.format("learn-more-about-collections")))})),m.div(".collections-select-lists",(function(){return n?(m.div(".has-collections",(function(){return m.p(".js-team-page",(()=>m.format("visit-team-page-create-some",{orgUrl:r}))),m.a(".quiet-button.full.create-collection-btn.js-add-tag",{href:"#"},(()=>m.format("create-collection")))})),m.input(".js-collections-search",{type:"text",placeholder:m.l("search-collections"),autocomplete:"off"}),m.div(".js-filtered-collections")):m.div(".no-collections",(function(){return m.p((()=>m.format("no-collections"))),m.p(".js-team-page",(()=>m.format("visit-team-page-create-some",{orgUrl:r}))),m.a(".quiet-button.full.create-collection-btn.js-add-tag",{href:"#"},(()=>m.format("create-collection")))}))}))):void m.div(".collections-upsell.ads-layouts-experiment",(()=>m.div(".collections-upsell-body",(function(){return m.h4(".collections-upsell-header",(()=>m.format("ads-title"))),m.p((()=>m.format("collections-let-you-group-and-filter"))),m.a(".js-learn-more",{href:"/business-class",target:"_blank"},(()=>m.format("ads-learn-more"))),m.div(".collections-upgrade-action",(function(){return i?m.a(".nch-button.nch-button--primary.js-upgrade",{href:i},(()=>m.format("ads-upgrade"))):m.a(".nch-button.nch-button--primary.js-add-team",{href:"#"},(()=>m.format("ads-upgrade")))}))}))))}));class f extends o{static initClass(){this.prototype.className="board-menu-collections-select",this.prototype.noPadding=!0,this.prototype.events={"click .js-add-tag":"addTag","keyup .js-collections-search":"renderFilteredCollections","click .js-toggle-tag"(e){return this.toggleTag((e=>d(e.target).closest(".js-tag-item")[0].getAttribute("data-id-tag"))(e))},"click .js-add-team":"addTeam","click .js-close-explainer":"closeExplainer","click .js-learn-more a":e=>p.sendClickedLinkEvent({linkName:"learnMoreLink",source:"boardMenuDrawerCollectionsScreen"}),"click .js-team-page a":e=>p.sendClickedLinkEvent({linkName:"orgPageLink",source:"boardMenuDrawerCollectionsScreen"}),"click .js-upgrade"(e){return p.sendClickedButtonEvent({buttonName:"upgradeButton",source:"boardMenuDrawerCollectionsScreen",containers:{board:{id:this.model.id},organization:{id:this.model.getOrganization().id}}})}},this.prototype.viewTitleKey="pick tags"}initialize(){return this.sidebarView=this.options.sidebarView,this.organization=(null!=this.options?this.options.org:void 0)||this.model.getOrganization(),this.collectionsEnabled=null!=this.organization&&this.organization.isFeatureEnabled("tags"),this.listenTo(this.model,"change:idOrganization",this.refereshOrganization),this.listenTo(this.model,"change:idTags",this.render),this.listenTo(i.me(),"change:oneTimeMessagesDismissed",this.render),this.collectionsEnabled&&this.listenTo(this.organization.tagList,"add remove reset change",this.render),super.initialize(...arguments)}addTag(e){return a.stop(e),p.sendClickedLinkEvent({linkName:"createCollectionLink",source:"boardMenuDrawerCollectionsScreen",containers:{board:{id:this.model.id},organization:{id:this.model.getOrganization().id}}}),n.toggle({elem:e.target,view:r,options:{model:this.organization,modelCache:this.modelCache,boardView:!0}})}toggleTag(e){const t=this.model.getIdTags().includes(e),s=p.startTask({taskName:"edit-board",subTask:"idTags",source:"boardMenuDrawerCollectionsScreen"});return this.model.toggleTag(e,s,u({taskName:"edit-board",subTask:"idTags",traceId:s,source:"boardMenuDrawerCollectionsScreen"},(i=>{const r=this.model.get("id"),n=this.model.get("idOrganization");i||p.sendTrackEvent({action:"toggled",actionSubject:"collection",source:"boardMenuDrawerCollectionsScreen",attributes:{taskId:s,idCollection:e,toggleOff:t},containers:{board:{id:r},organization:{id:n}}})})))}addTeam(e){return a.stop(e),p.sendClickedButtonEvent({buttonName:"addTeamFromCollectionsButton",source:"boardMenuDrawerCollectionsScreen",containers:{board:{id:this.model.id},organization:{id:this.model.getOrganization().id}}}),this.model.trigger("add-to-team")}closeExplainer(){return i.me().dismiss("CollectionsExplainer"),p.sendDismissedComponentEvent({componentType:"overlay",componentName:"collectionsExplainerOverlay",source:"boardMenuDrawerCollectionsScreen"})}filterTagsBySearch(e){const t=this._searchVal().toLowerCase();return l.isEmpty(t)?e:l.filter(e,(e=>v(e.get("name"),(e=>e.toLowerCase().indexOf(t)))>-1))}filterTagsByAssociation(e,t){return l.groupBy(e,(e=>Array.from(t).includes(e.id)?"associated":"notAssociated"))}_searchVal(){let e;return null!=(e=v(this.$(".js-collections-search").val(),(e=>e.trim())))?e:""}renderFilteredCollections(){if(!(null!=this.organization?this.organization.tagList.models.length:void 0))return;const e=this.filterTagsByAssociation(this.filterTagsBySearch(this.organization.tagList.models),this.model.getIdTags());return this.$(".js-filtered-collections").empty().append(g(e))}refereshOrganization(){const e=this.modelCache.get("Organization",this.model.previous("idOrganization")),t=this.model.getOrganization();return null!=e&&this.stopListening(e.tagList),this.organization=t,this.collectionsEnabled=null!=this.organization&&this.organization.isFeatureEnabled("tags"),this.collectionsEnabled&&this.listenTo(this.organization.tagList,"add remove reset change",this.render),this.render()}render(){let e,t;const s=i.me().isDismissed("CollectionsExplainer"),r=null!=this.organization?this.organization.tagList.models.length:void 0;return this.organization&&(t=c.getOrganizationUrl(this.organization),e=c.getOrganizationBillingUrl(this.organization)),this.$el.html(b({board:this.model,collectionsEnabled:this.collectionsEnabled,billingUrl:e,orgUrl:t,hasTags:r,hideExplainer:s})),this.renderFilteredCollections(),this}}function v(e,t){return null!=e?t(e):void 0}f.initClass(),e.exports=f},"./app/scripts/views/board-menu/board-collections-view.js":function(e,t,s){function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let r;const n=s("./app/scripts/views/board-menu/board-collections-select-view.js"),a=s("./app/scripts/views/board-menu/board-add-to-team-view.js"),o=s("./app/scripts/db/auth.js"),c=s("./app/scripts/db/model-loader.js"),l=s("./app/scripts/views/internal/view.js"),{Feature:d}=s("./app/scripts/debug/constants.ts"),{sendErrorEvent:p}=s("./packages/error-reporting/index.ts"),u=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_collections"),m=u.renderable((()=>{u.div((()=>{u.div(".spinner.loading")}))}));class h extends l{render(){return this.$el.html(m())}}class g extends l{constructor(...e){super(...e),i(this,"vigor",this.VIGOR.NONE)}renderOnce(){return this.$el.html(u.render((()=>{u.div(".count-explanation",(()=>{u.p((()=>u.format("only-team-members-can-enable-collections")))}))})))}}e.exports=(r=class extends l{constructor(...e){super(...e),i(this,"viewTitleKey","collections")}className(){return"board-menu-content-frame board-collections-view"}static initClass(){this.prototype.noPadding=!0}initialize(){this.sidebarView=this.options.sidebarView,this.listenTo(this.model,"team-has-bc",(()=>{this.redirecting=!1,this.addToTeam=!1,this.render()})),this.listenTo(this.model,"added-to-team",(()=>{this.redirecting=!0,this.render()})),this.listenTo(this.model,"cancel-add-to-team",(()=>{this.addToTeam=!1,this.render()})),this.listenTo(this.model,"cancel-upgrade",(()=>{this.initialViewState=null,this.render()})),this.listenTo(this.model,"add-to-team",(()=>{this.model.owned()?(this.initialViewState=null,this.addToTeam=!0,this.render()):window.location="/business-class"}))}render(){try{this.$el.empty();const e=this.model,t=e.hasOrganization(),s=e.getOrganization(),i=o.me(),r=e.isMember(i),n=null==s?void 0:s.isMember(i),a=!r&&!n,c=e.isPublic()&&(null==s?void 0:s.isPublic()),l=t&&(r&&!n||a&&c);this.redirecting?this.renderSpinner():this.addToTeam?this.renderAddToTeam():l?this.renderOnlyForTeamMembers():this.renderTagSelect()}catch(e){p(e,{tags:{ownershipArea:"trello-remarkable",feature:d.Collections}})}}renderOnlyForTeamMembers(){this.appendSubview(this.subview(g,this.model))}renderSpinner(){this.appendSubview(this.subview(h,this.model))}renderAddToTeam(){if(this.model.hasOrganization())return this.appendSubview(this.subview(g,this.model)),this;c.loadMyOrganizations(),this.appendSubview(this.subview(a,this.model,{menuType:"Collections"}))}renderTagSelect(){this.appendSubview(this.subview(n,this.model,{modelCache:this.modelCache,sidebarView:this.sidebarView}))}},r.initClass(),r=r)},"./app/scripts/views/board-menu/board-labels-view.js":function(e,t,s){const i=s("./app/scripts/views/label/labels-view.js"),r=s("./app/scripts/views/internal/view.js");class n extends r{static initClass(){this.prototype.viewTitleKey="labels"}el(){const e=this.subview(i,this.model,{board:this.model,popOverMethod:"toggle",className:"board-menu-content-frame",selectLabel:t=>{if(this.model.editable())return e.editLabel(t)}});return e.render().el}}n.initClass(),e.exports=n},"./app/scripts/views/board-menu/board-menu-about-this-board-view.js":function(e,t,s){const i=s("./app/scripts/db/auth.js"),r=s("./app/scripts/lib/util/index.js"),n=s("./app/scripts/views/internal/view.js"),a=s("./app/scripts/views/lib/pop-over.js"),o=s("./node_modules/react/index.js"),c=s("./app/scripts/lib/localize.js"),l=s("./app/scripts/views/templates/board_menu_about_this_board.js"),{trackUe:d}=s("./packages/analytics/index.ts"),{renderComponent:p}=s("./app/src/components/ComponentWrapper/index.ts"),{BoardMenuViewsAndCopies:u}=s("./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.tsx"),m=s("./app/scripts/views/board-menu/about-this-board-admin-list-view.js"),h=s("./app/scripts/views/description/description-view.js"),g=s("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),b=s("./app/scripts/views/member-menu-profile/member-on-board-view.js"),f=s("./app/scripts/views/board-menu/search-input-view.js");class v extends n{static initClass(){this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-change-permissions":"changePermissions","click .js-fill-board-admin-count":"openAllMembers"}}initialize({sidebarView:e}){return this.sidebarView=e,super.initialize(...arguments),this.listenTo(this.model,{"change:memberships":this.renderDebounced,"change:prefs.voting":this.renderDebounced,"change:prefs.comments":this.renderDebounced,"change:desc":this.renderDebounced}),this.descView=this.subview(h,this.model,{maxDescLength:700,board:this.model,placeholderKey:this.getPlaceHolderText(),source:"boardMenuDrawerAboutScreen"}),this.makeDebouncedMethods("render")}getPlaceHolderText(){const e=this.model.isTemplate(),t=i.me(),s=this.model.ownedByMember(t),r=this.model.isMember(t);return e?s||r?"about-this-template-description-admin":"about-this-template-description-visitor":"its-your-boards-time-to-shine"}getViewTitle(){return this.model.isTemplate()?c(["view title","about-this-template"]):c(["view title","about-this-board"])}render(){const e=i.isLoggedIn(),t=i.me(),s={};if(s.isLoggedIn=e,s.isAdmin=this.model.ownedByMember(t),s.isNonAdminMember=this.model.isMember(t)&&!s.isAdmin,s.isTemplate=this.model.isTemplate(),s.isAdmin){const e=this.model.getCommentPerm(),t=this.model.getPref("voting");s.canComment="disabled"!==e,s.canVote="disabled"!==t,s.commentHeader=this.getPermissionsLevelHeader(e),s.votingHeader=this.getPermissionsLevelHeader(t),s.permissionsHierarchy=this.getPermissionsHierarchy(e,t)}else e?(s.canComment=this.model.canComment(t),s.canVote=this.model.canVote(t)):(s.canComment="public"===this.model.getCommentPerm(),s.canVote="public"===this.model.getPref("voting"));this.$el.html(l(s));const r=1===this.model.adminList.length;return r?this.renderSingleAdminProfile():this.renderAdminFacepile(),this.$(".about-this-board-multi-admin").toggleClass("hide",r),this.$(".about-this-board-desc").toggleClass("visitor-single-admin",r&&!s.isAdmin),this.descView.placeholderKey=this.getPlaceHolderText(),this.appendSubview(this.descView,this.$(".js-fill-atb-desc")),this.renderSearchInputView(),this.renderViewCopyCount(),this}renderSingleAdminProfile(){const e=this.model.adminList.models[0],t=e.toJSON();t.showEmail=!1,t.isMe=e===i.me();const s=this.$(".js-made-by"),r=this.subview(g,e);return this.ensureSubview(r,s)}renderAdminFacepile(){const e=this.$(".js-made-by-facepile"),t=this.model.orderedVisibleAdmins(),s=t.length,i=t.slice(0,5),r=s-5;r>0?(this.$(".js-fill-board-admin-count").text("+".concat(r)),this.$(".js-fill-board-admin-count").toggleClass("pile",r<100),this.$(".js-fill-board-admin-count").toggleClass("pile-lg",r>=100)):this.$(".js-fill-board-admin-count").text("");const n=Array.from(i).map((e=>this.subview(b,e,{board:this.model})));if(e.length)return this.ensureSubviews(n,e)}openAllMembers(e){var t,s;return r.stop(e),d("board sidebar","toggles","admin list popover","from about view","","by clicking on admin count",{boardId:this.model.id,teamId:(t=this.model.getOrganization(),s=e=>e.id,null!=t?s(t):void 0)}),a.toggle({elem:this.$(".js-fill-board-admin-count"),maxWidth:304,view:m,options:{model:this.model,modelCache:this.modelCache}})}getPermissionsLevelHeader(e){switch(e){case"members":return"members-can";case"observers":return"members-and-observers-can";case"org":return"team-members-can";case"public":return"any-trello-user-can"}}getPermissionsHierarchy(e,t){if(e===t)return"equal";if("disabled"!==e&&"disabled"===t)return"comment";if("disabled"===e&&"disabled"!==t)return"voting";{const s=["members","observers","org","public"];return s.indexOf(e)<s.indexOf(t)?"comment":"voting"}}changePermissions(e){r.stop(e),this.sidebarView.pushView("settings")}showCardFilter(e){r.stop(e),this.sidebarView.pushView("filter")}renderSearchInputView(){const e=this.$(".js-search-input-view");if(e.length){const t=this.subview(f,this.model.filter,{showCardFilter:this.showCardFilter.bind(this)});return this.appendSubview(t,e)}}renderViewCopyCount(){return p(o.createElement(u,{idBoard:this.model.id,isTemplate:this.model.isTemplate(),showLabels:!1}),this.$(".js-view-copy-count")[0]),this}}v.initClass(),e.exports=v},"./app/scripts/views/board-menu/board-menu-activity-view.js":function(e,t,s){const i=s("./app/scripts/models/collections/action-list.js"),r=s("./app/scripts/views/action/action-list-view.js"),{Analytics:n}=s("./packages/atlassian-analytics/index.ts"),a=s("./app/scripts/views/internal/view-with-actions.js"),o=s("./app/scripts/views/internal/view.js"),c=s("./app/scripts/views/internal/templates.js"),l=s("./node_modules/underscore/underscore.js");class d extends o{static initClass(){this.prototype.viewTitleKey="activity",this.prototype.viewIcon="activity",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-show-all":"showAll","click .js-show-comments":"showComments","click .js-more-actions":"loadMoreActions"}}initialize(){this.mode="all",({fullHistory:this.fullHistory}=this.options),null==this.fullHistory&&(this.fullHistory=!1),this.actionListView=this.collectionSubview(r,new i(this.getActions(),{modelCache:this.modelCache}),{renderOpts:{compact:!this.fullHistory,key:"boardmenuactivity",context:this.model,source:"boardMenuDrawerActivityScreen"}}),this.makeDebouncedMethods("renderMoreActionsLink"),this.listenTo(this.modelCache,"add:Action:".concat(this.model.id),(()=>(this.actionListView.collection.reset(this.getActions()),this.renderMoreActionsLinkDebounced()))),this.listenTo(this.model.memberList,{"change:initials change:avatarUrl change:avatarSource change:fullName change:username":this.render}),this.loadMoreActions()}render(){return this.$el.html(c.fill(s("./app/scripts/views/templates/board_menu_activity.js"),this.model.toJSON())),this.actionListView.setElement(this.$(".js-list-activity")[0]),this.renderActions(),this.renderMode(),this}renderActions(){return this.actionListView.render(),this.renderMoreActionsLink()}renderMoreActionsLink(){return this.$(".js-more-actions").toggle(this.hasMoreActions()),this}renderMode(){return this.$(".js-control-option").removeClass("is-active"),"all"===this.mode?(this.$(".js-list-activity").removeClass("is-only-comments"),this.$(".js-show-all").addClass("is-active")):(this.$(".js-list-activity").addClass("is-only-comments"),this.$(".js-show-comments").addClass("is-active")),this}showAll(e){this.mode="all",this.renderMode(),n.sendClickedButtonEvent({buttonName:"showAllActivityButton",source:"boardMenuDrawerActivityScreen"})}showComments(e){this.mode="comments",this.renderMode(),n.sendClickedButtonEvent({buttonName:"showCommentsOnlyButton",source:"boardMenuDrawerActivityScreen"})}}d.initClass(),l.extend(d.prototype,a),e.exports=d},"./app/scripts/views/board-menu/board-menu-more-view.js":function(e,t,s){const i=s("./packages/jquery/index.js"),r=s("./app/scripts/views/lib/alerts.js"),n=s("./app/scripts/db/auth.js"),{Analytics:a,tracingCallback:o}=s("./packages/atlassian-analytics/index.ts"),c=s("./app/scripts/views/internal/board-display-helpers.js"),l=s("./app/scripts/controller/index.js"),d=s("./app/scripts/views/lib/pop-over.js"),p=s("./app/scripts/lib/util/index.js"),u=s("./app/scripts/views/internal/view.js"),m=s("./app/scripts/views/lib/confirm.js"),h=s("./app/scripts/views/board/share-popover-view.js"),g=s("./app/scripts/views/board-menu/edit-email-settings-view.js"),b=s("./app/scripts/views/board/copy-board-view.js"),f=s("./app/scripts/views/board/convert-board-template-view.js"),{Noun:v,Verb:k,track:w,trackUe:y}=s("./packages/analytics/index.ts"),j=s("./app/scripts/lib/localize.js"),x=s("./app/scripts/views/templates/board_menu_more.js"),{dontUpsell:C}=s("./packages/browser/index.ts"),S=s("./app/scripts/db/model-loader.js"),_=s("./app/scripts/views/board-menu/board-add-to-team-view.js"),{featureFlagClient:T}=s("./packages/feature-flag-client/index.ts"),E=s("./node_modules/react/index.js"),P=s("./packages/react-dom-wrapper/index.ts"),{renderComponent:O}=s("./app/src/components/ComponentWrapper/index.ts"),{UpgradePromptFull:A}=s("./app/src/components/UpgradePrompts/UpgradePromptFull.tsx"),{UpgradeSmartComponent:B}=s("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx"),{UpgradePromptPill:D}=s("./app/src/components/UpgradePrompts/UpgradePromptPill.tsx"),{UpgradeSmartComponentConnected:N}=s("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx"),{UpgradePromptTestIds:M}=s("./packages/test-ids/index.ts"),{renderUpgradePrompt:I}=s("./app/src/components/UpgradePrompts/renderUpgradePrompt.ts"),{BusinessClassIcon:L}=s("./packages/nachos/icons/business-class.tsx"),{CollectionIcon:U}=s("./packages/nachos/icons/collection.tsx"),{PlanSelectionOverlay:V}=s("./app/src/components/FreeTrial/index.ts"),{QrCodePopover:z}=s("./app/src/components/QrCode/index.ts");class F extends u{static initClass(){this.prototype.viewTitleKey="more",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-open-collections":"openCollections","click .js-open-settings":"openSettings","click .js-open-stickers":"openStickers","click .js-open-labels":"openLabels","click .js-open-archive":"openArchivedItems","click .js-share":"shareBoard","click .js-email":"openEmailSettings","click .js-board-subscribe":"toggleSubscribe","click .js-copy-board":"copyBoard","click .js-close-board":"closeConfirm","click .js-leave-board":"leaveConfirm","click .js-short-url":"selectUrl","click .js-make-template":"makeTemplate","click .js-convert-to-board":"convertToBoard","submit form":"cancel"}}initialize({sidebarView:e}){this.sidebarView=e,this.makeDebouncedMethods("render"),this.listenTo(this.model,{"change:subscribed":this.renderSubscribeState,"change:prefs.isTemplate":this.renderDebounced,"change:prefs.permissionLevel":this.renderDebounced,"change:idOrganization":this.renderDebounced,"change:memberships":this.renderDebounced}),this.listenTo(this.model,"cancel-add-to-team",(()=>(this.addToTeam=!1,this.render()))),this.listenTo(this.model,"add-to-team",(()=>this.model.owned()?(this.addToTeam=!0,this.render()):window.location="/business-class")),this.sendGASEvent=T.get("dataeng.gasv3-event-tracking",!1)}remove(){return"function"==typeof this.unmountCollectionsPromptPill&&this.unmountCollectionsPromptPill(),"function"==typeof this.unmountCollectionsPromptFull&&this.unmountCollectionsPromptFull(),"function"==typeof this.unmountTemplatesPromptPill&&this.unmountTemplatesPromptPill(),this.unmountQrCodePopover(),super.remove(...arguments)}render(e){let t;this.$el.empty();const s=n.me(),i=this.model,r=this.model.toJSON();r.canJoin=this.model.canJoin(),r.canInviteMembers=this.model.canInviteMembers(),r.confirmed=s.get("confirmed"),r.isLoggedIn=s.isLoggedIn();const o=this.model.getOrganization(),d=o?l.getOrganizationBillingUrl(o):void 0,p=o?o.id:void 0;r.canCloseBoard=this.model.owned()||!!(null==o?void 0:o.hasPremiumFeature("superAdmins"))&&(null!=o?o.owned():void 0),r.editableByMember=this.model.editableByMember(s),r.canLeaveBoard=(this.model.isMemberObserver(s)||this.model.editableByMember(s))&&s.getMembershipData(this.model).canRemove,r.canCloseOrLeave=r.canLeaveBoard||r.canCloseBoard,r.pLevelClass=c.getPermLevelIconClassForBoard(this.model),r.pLevelAltText=c.getPermLevelAltTextForBoard(this.model),r.helperText=j(["board perms",this.model.getPermLevel(),"short summary"]);const u=null!=o?o.isFeatureEnabled("tags"):void 0;r.showCollections=this.model.hasOrganization()&&(u||!C()),r.hasMultipleMembers=R(this.model.get("memberships"),(e=>e.length))>1,r.isAtOrOverFreeBoardLimit=R(this.model.getOrganization(),(e=>e.isAtOrOverFreeBoardLimit())),r.isOrgBcOrEnt=!!(null!=o&&o.isBusinessClass()||null!=o&&o.belongsToRealEnterprise()),r.isAdmin=this.model.ownedByMember(s),r.isTemplate=this.model.isTemplate(),r.canBeTemplate="public"===this.model.getPermLevel()||r.isOrgBcOrEnt,r.showTemplateUpgrade=this.model.hasOrganization()&&r.isAdmin&&!C();const m=this.model.isGuest(s),h=this.model.isPublic()&&this.model.isTemplate(),g=!this.model.isMember(s)&&!this.model.canJoin(),b=this.model.get("idEnterprise")&&s.isManagedEntMemberOf(this.model.get("idEnterprise"));if(i.get("enterpriseOwned")&&m&&!b?r.canCopyBoard=!1:this.model.allowsSelfJoin()&&(t=this.model.getPref("permissionLevel"),["org","enterprise"].includes(t))?r.canCopyBoard=!0:i.get("enterpriseOwned")&&g&&!b&&!h?r.canCopyBoard=!1:r.canCopyBoard=!0,this.addToTeam)this.renderAddToTeam();else{this.$el.html(x(r));const e=this.$el.find(".js-board-menu-pill-collections-upgrade")[0];if(null!=o&&o.isMember(s)){const t=T.get("btg.upgrade-prompt-audit",!1),s=()=>{if(y({category:v.BOARD_MENU,verb:k.OPENS,directObj:v.TEAM_PAGE_BC_TAB,method:"by clicking pill upgrade prompt in board menu more section"}),this.sendGASEvent&&a.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"collectionsBcUpgradePill",source:"boardMenuDrawerMoreScreen"}),!t){const t=document.createElement("span");return e.appendChild(t),O(E.createElement(V,{ctaLink:l.getOrganizationBillingUrl(p),onContinue:()=>window.location.assign("/business-class"),orgId:p,onClose:()=>(P.unmountComponentAtNode(t),t.remove())}),t,{boardModel:this.model})}},n=this.$el.find(".js-board-menu-pill-collections-upgrade")[0];if(t?n&&(this.unmountcollectionsPromptPill=()=>{P.unmountComponentAtNode(n)},O(E.createElement(N,{orgId:p,promptId:"boardMenuMoreCollectionsPromptPill"}),n)):this.unmountCollectionsPromptPill=I(E.createElement(D,{testId:M.CollectionsUpgradePill,icon:E.createElement(L,null),cta:j(["upgrade prompt","upgrade"]),ctaOnClick:s}),this.$el.find(".js-board-menu-pill-collections-upgrade")[0],{boardModel:i},r.showCollections),T.get("btg.upgrade-prompt-audit",!1)){const e=this.$el.find(".js-board-menu-prompt-collections")[0];e&&O(E.createElement(B,{orgId:p,promptId:"boardMenuMoreCollectionsPromptFull"}),e)}else this.unmountCollectionsPromptFull=I((function({dismiss:e}){const t={headline:j(["upgrade prompt","board menu","collections","headline-2"]),content:j(["upgrade prompt","board menu","collections","content-2"]),className:"board-menu-prompt-collections",cta:j(["upgrade prompt","learn more"]),ctaLink:d,orgId:p,source:"boardMenuDrawerMoreScreen",ctaOnClick:()=>y({category:v.BOARD_MENU,verb:k.OPENS,directObj:v.BC_MODAL,method:"by clicking full upgrade prompt in board menu more section"}),icon:E.createElement(U,null),isDismissable:!0,onDismiss:e,testId:M.CollectionsUpgradePrompt};return E.createElement(A,t)}),this.$el.find(".js-board-menu-prompt-collections")[0],{promptID:"ad-bc-prompt-upgrade-board-more-collection",boardModel:this.model});const o=this.$el.find(".js-board-menu-pill-templates-upgrade")[0];t?o&&(this.unmountTemplatesPromptPill=()=>P.unmountComponentAtNode(o),O(E.createElement(N,{orgId:p,promptId:"boardMenuMoreTemplatesPromptPill"}),o)):this.unmountTemplatesPromptPill=I(E.createElement(D,{testId:M.TemplatesUpgradePill,icon:E.createElement(L,null),cta:j(["upgrade prompt","upgrade"]),ctaOnClick:()=>{y({category:v.BOARD_MENU,verb:k.OPENS,directObj:v.TEAM_PAGE_BC_TAB,method:"by clicking make template upgrade prompt in board menu more section"}),this.sendGASEvent&&a.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"makeTemplateBcUpgradePill",source:"boardMenuDrawerMoreScreen"});const t=document.createElement("span");return e.appendChild(t),O(E.createElement(V,{ctaLink:l.getOrganizationBillingUrl(p),onContinue:()=>window.location.assign("/business-class"),orgId:p,onClose:()=>(P.unmountComponentAtNode(t),t.remove())}),t,{boardModel:this.model})}}),o,{boardModel:i},r.showCollections)}this.renderSubscribeState()}if(T.get("aaaa.qr-codes",!1)){const e=this.model.get("shortUrl");this.mountQrCodePopover(e)}return this}renderAddToTeam(){return S.loadMyOrganizations(),this.appendSubview(this.subview(_,this.model,{menuType:"More"}))}renderSubscribeState(){this.$(".js-subscribed-state").toggleClass("hide",!this.model.get("subscribed"))}openCollections(e){p.stop(e),this.sidebarView.pushView("collections")}openSettings(e){p.stop(e),this.sidebarView.pushView("settings")}openLabels(e){p.stop(e),this.sidebarView.pushView("labels")}openStickers(e){p.stop(e),this.sidebarView.pushView("stickers")}openArchivedItems(e){p.stop(e),this.sidebarView.pushView("archive")}shareBoard(e){p.stop(e),d.toggle({elem:this.$(e.target).closest(".js-share"),view:new h({model:this.model,modelCache:this.modelCache})}),w("Board Menu","Open Share, Print, and Export Menu")}openEmailSettings(e){p.stop(e),d.toggle({elem:this.$(e.target).closest(".js-email"),view:new g({model:this.model,modelCache:this.modelCache})}),w("Board Menu","Open Email Settings - Menu")}copyBoard(e){p.stop(e),i(e.target).hasClass("disabled")||(w("Board Menu","Open Copy Board"),this.sidebarView.sendClickedDrawerNavItemEvent("more","copyBoard"),d.toggle({elem:this.$(e.target).closest(".js-copy-board"),view:new b({model:this.model,modelCache:this.modelCache})}))}toggleSubscribe(e){if(p.preventDefault(e),!i(e.target).hasClass("disabled")){const e=a.startTask({taskName:"edit-board",subTask:"subscribed",source:"boardMenuDrawerMoreScreen"});this.model.subscribeWithTracing(!this.model.get("subscribed"),{taskName:"edit-board",subTask:"subscribed",source:"boardMenuDrawerMoreScreen",traceId:e,next:t=>{t||a.sendTrackEvent({action:this.model.get("subscribed")?"subscribed":"unsubscribed",actionSubject:"board",source:"boardMenuDrawerMoreScreen",containers:{board:{id:this.model.id}},attributes:{taskId:e}})}}),w("Board Menu","Subscribe/Unsubscribe"),this.sidebarView.sendClickedDrawerNavItemEvent("more","watch",{watchEnabled:this.model.get("subscribed")})}}closeConfirm(e){p.stop(e),w("Board Menu","Open Close Menu"),this.sidebarView.sendClickedDrawerNavItemEvent("more","closeBoard"),m.toggle("close board",{elem:i(e.target).closest("a"),model:this.model,confirmBtnClass:"nch-button nch-button--danger",templateData:{boardsPageUrl:"/".concat(n.me().get("username"),"/boards")},fxConfirm:e=>{const t=a.startTask({taskName:"edit-board",subTask:"closed",source:"boardMenuDrawerMoreScreen"});this.model.close({traceId:t},o({taskName:"edit-board",subTask:"closed",source:"boardMenuDrawerMoreScreen",traceId:t},((e,s)=>{s&&a.sendTrackEvent({action:"closed",actionSubject:"board",source:"boardMenuDrawerMoreScreen",containers:{board:{id:this.model.id}},attributes:{taskId:t}})})))}})}leaveConfirm(e){p.stop(e),w("Board Menu","Open Leave Menu"),this.sidebarView.sendClickedDrawerNavItemEvent("more","leaveBoard");const t=n.me(),s=t.removeMembershipConfirmationKey(this.model);m.toggle(s,{elem:i(e.target).closest("a"),confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>{const s=a.startTask({taskName:"edit-board",subTask:"members/remove",source:"boardMenuDrawerMoreScreen"});return this.model.removeMemberWithTracing(t,s,o({taskName:"edit-board",subTask:"members/remove",source:"boardMenuDrawerMoreScreen",traceId:s},((e,t)=>{t&&a.sendTrackEvent({action:"left",actionSubject:"board",source:"boardMenuDrawerMoreScreen",containers:{board:{id:this.model.board}},attributes:{taskId:s}})})))}})}selectUrl(e){return this.$(".js-short-url").focus().select()}cancel(e){return p.stop(e),!1}makeTemplate(e){if(p.stop(e),y("board menu","opens","create template menu","","","by clicking create template button",{boardId:this.model.id,teamId:R(this.model.getOrganization(),(e=>e.id))}),this.sidebarView.sendClickedDrawerNavItemEvent("more","makeTemplateFromBoard"),!i(e.target).hasClass("disabled"))return d.toggle({elem:this.$(e.target).closest(".js-make-template"),view:new f({model:this.model,modelCache:this.modelCache})})}convertToBoard(){r.show("converting","info","templates",1e3);const e=a.startTask({taskName:"edit-board",subTask:"prefs/isTemplate",source:"boardMenuDrawerMoreScreen"});return this.model.setPrefWithTracing("isTemplate",!1,{taskName:"edit-board",subTask:"prefs/isTemplate",source:"boardMenuDrawerMoreScreen",traceId:e,next:(e,t)=>{var s,i;t&&a.sendUpdatedBoardFieldEvent({field:"prefs/isTemplate",source:"boardMenuDrawerMoreScreen",containers:{board:{id:this.model.id},organization:{id:null===(s=this.model)||void 0===s||null===(i=s.getOrganization())||void 0===i?void 0:i.id}}})}}).save(),y("board menu","converts","template","to board","","by clicking template toggle",{boardId:this.model.id,teamId:R(this.model.getOrganization(),(e=>e.id))}),this.sidebarView.sendClickedDrawerNavItemEvent("more","convertToBoard")}mountQrCodePopover(e){const t=this.$el.find(".js-qr-code")[0];t&&O(E.createElement(z,{url:e,type:"board"}),t)}unmountQrCodePopover(){const e=this.$el.find(".js-qr-code")[0];e&&P.unmountComponentAtNode(e)}}function R(e,t){return null!=e?t(e):void 0}F.initClass(),e.exports=F},"./app/scripts/views/board-menu/board-settings-view.js":function(e,t,s){const i=s("./packages/jquery/index.js"),r=s("./app/scripts/db/auth.js"),n=s("./app/scripts/views/board-menu/board-select-organization-view.js"),a=s("./app/scripts/views/board-menu/change-board-add-member-perms-view.js"),o=s("./app/scripts/views/board-menu/change-board-commenting-perms-view.js"),c=s("./app/scripts/views/power-ups/voting-settings-view.js"),l=s("./app/scripts/views/lib/pop-over.js"),d=s("./app/scripts/lib/util/index.js"),p=s("./app/scripts/views/internal/view.js"),u=s("./app/scripts/views/internal/templates.js"),{track:m,trackUe:h}=s("./packages/analytics/index.ts"),g=s("./app/scripts/lib/localize.js"),{Analytics:b,tracingCallback:f}=s("./packages/atlassian-analytics/index.ts"),{featureFlagClient:v}=s("./packages/feature-flag-client/index.ts"),k=s("./node_modules/react/index.js"),w=s("./packages/react-dom-wrapper/index.ts"),{WorkspacesPreambleChangeTeamButton:y}=s("./app/src/components/WorkspacesPreamble/index.ts"),{renderComponent:j}=s("./app/src/components/ComponentWrapper/index.ts");class x extends p{static initClass(){this.prototype.viewTitleKey="settings",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-change-org:not(.disabled)":"changeOrg","click .js-toggle-covers:not(.disabled)":"toggleCovers","click .js-change-comments:not(.disabled)":"changeCommentingPerms","click .js-change-voting:not(.disabled)":"changeVotingPerms","click .js-change-add-members:not(.disabled)":"changeAddMemberPerms","click .js-toggle-org-mem-join:not(.disabled)":"toggleSelfJoin","click .js-change-cookie-settings":"changeCookieSettings"}}initialize({sidebarView:e}){this.sidebarView=e,this.makeDebouncedMethods("render"),this.listenTo(this.model,"change",this.renderDebounced),this.blockTeamlessBoardsEnabled=v.get("btg.block-teamless-boards",!1),this.workspacesPreambleChangeTeamButtonTarget=null}render(){const e=this.model.toJSON({prefs:!0,url:!0,labels:!0});e.isLoggedIn=r.isLoggedIn(),e.cardCovers=e.prefs.cardCovers;const t=this.model.getOrganization();return e.orgDisplayName=null!=t?t.get("displayName"):void 0,e.hasOrg=null!=(null!=t?t.id:void 0),e.votingEnabled=this.model.isPowerUpEnabled("voting"),e.commentsDisplay=g(["board pref perms",this.model.getCommentPerm()]),e.votingDisplay=g(["board pref perms",this.model.getPref("voting")]),e.invitationsDisplay=g(["board pref perms",this.model.getInvitePerm()]),e.blockTeamlessBoardsEnabled=this.blockTeamlessBoardsEnabled,this.blockTeamlessBoardsEnabled?e.canChangeOrg=this.model.owned():(e.canChangeOrg=(null!=t?t.owned():void 0)||this.model.owned(),e.setOrgNull=(null!=t?t.owned():void 0)&&!this.model.owned()),e.isTemplate=this.model.isTemplate(),this.$el.html(u.fill(s("./app/scripts/views/templates/board_menu_settings.js"),e,{editable:this.model.editable(),owned:this.model.owned()})),this.blockTeamlessBoardsEnabled&&this.renderWorkspacesPreambleChangeTeamButton(),this}changeOrg(e){if(d.stop(e),this.model.owned())l.toggle({elem:i(e.target).closest("a"),view:n,options:{model:this.model,modelCache:this.modelCache}}),m("Board Menu","Settings","Change Org"),this.sidebarView.sendClickedDrawerNavItemEvent("settings","changeOrg");else{var t;const e=b.startTask({taskName:"edit-board",subTask:"idOrganization",source:"boardMenuDrawerSettingsScreen"}),s=this.model.get("idOrganization");null===(t=this.modelCache.get("Organization",s))||void 0===t||t.boardList.remove(this.model);const i={idOrganization:"",traceId:e};this.model.update(i,f({taskName:"edit-board",subTask:"idOrganization",source:"boardMenuDrawerSettingsScreen",traceId:e},(t=>{t||b.sendUpdatedBoardFieldEvent({field:"organization",source:"boardMenuDrawerSettingsScreen",containers:{board:{id:this.model.id}},attributes:{previous:s,taskId:e}})}))),l.hide(),m("Board Menu","Settings","Remove Org"),this.sidebarView.sendClickedDrawerNavItemEvent("settings","removeOrg")}}toggleCovers(e,t){d.stop(e);const s=b.startTask({taskName:"edit-board",subTask:"prefs/cardCovers",source:"boardMenuDrawerSettingsScreen"});this.sidebarView.sendClickedDrawerNavItemEvent("settings","cardCovers",{cardCoversEnabled:this.model.getPref("cardCovers"),taskId:s}),this.model.setPrefWithTracing("cardCovers",!this.model.getPref("cardCovers"),{taskName:"edit-board",subTask:"prefs/cardCovers",source:"boardMenuDrawerSettingsScreen",traceId:s,next:e=>{var t;e||(m("Board Menu","Settings","Enable/Disable Cover Images"),b.sendUpdatedBoardFieldEvent({field:"cardCoversPref",value:this.model.getPref("cardCovers"),source:"boardMenuDrawerSettingsScreen",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id}},attributes:{taskId:s}}))}})}changeCommentingPerms(e){d.stop(e),l.toggle({elem:i(e.target).closest("a"),view:new o({model:this.model,modelCache:this.modelCache})}),m("Board Menu","Settings","Open Change Commenting Permissions"),this.sidebarView.sendClickedDrawerNavItemEvent("settings","commentPerms")}changeVotingPerms(e){d.stop(e),l.toggle({elem:i(e.target).closest("a"),view:new c({model:this.model,modelCache:this.modelCache})}),m("Board Menu","Settings","Open Change Voting Permissions"),this.sidebarView.sendClickedDrawerNavItemEvent("settings","votingPerms")}changeAddMemberPerms(e){d.stop(e),l.toggle({elem:i(e.target).closest("a"),view:new a({model:this.model,modelCache:this.modelCache})}),m("Board Menu","Settings","Open Change Add Member Permissions"),this.sidebarView.sendClickedDrawerNavItemEvent("settings","invitationsPerms",{invitationsEnabled:this.model.getPref("invitations")})}toggleSelfJoin(e){d.stop(e);const t=b.startTask({taskName:"edit-board",subTask:"prefs/selfJoin",source:"boardMenuDrawerSettingsScreen"});this.sidebarView.sendClickedDrawerNavItemEvent("settings","selfJoin",{selfJoinEnabled:this.model.getPref("selfJoin"),taskId:t}),this.model.setPrefWithTracing("selfJoin",!this.model.getPref("selfJoin"),{taskName:"edit-board",subTask:"prefs/selfJoin",source:"boardMenuDrawerSettingsScreen",traceId:t,next:e=>{var s;e||(m("Board Menu","Settings","Toggle Allow Org Join"),b.sendUpdatedBoardFieldEvent({field:"selfJoinPref",value:this.model.getPref("selfJoin"),source:"boardMenuDrawerSettingsScreen",containers:{board:{id:this.model.id},organization:{id:null===(s=this.model.getOrganization())||void 0===s?void 0:s.id}},attributes:{taskId:t}}))}}).save()}changeCookieSettings(){return h("boards sidebar","opens","cookie settings"),this.sidebarView.sendClickedDrawerNavItemEvent("settings","cookieConsent"),window.trelloCookieConsentDialog()}unmountWorkspacesPreambleChangeTeamButton(){if(this.workspacesPreambleChangeTeamButtonTarget)return w.unmountComponentAtNode(this.workspacesPreambleChangeTeamButtonTarget)}renderWorkspacesPreambleChangeTeamButton(){this.unmountWorkspacesPreambleChangeTeamButton(),this.workspacesPreambleChangeTeamButtonTarget=this.$("#board-settings-change-org")[0],this.workspacesPreambleChangeTeamButtonTarget&&j(k.createElement(y,{boardId:this.model.id}),this.workspacesPreambleChangeTeamButtonTarget)}remove(){return this.unmountWorkspacesPreambleChangeTeamButton(),super.remove(...arguments)}}x.initClass(),e.exports=x},"./app/scripts/views/board-menu/board-sidebar-default-view.js":function(e,t,s){const i=s("./app/scripts/models/collections/action-list.js"),r=s("./app/scripts/views/action/action-list-view.js"),{Analytics:n}=s("./packages/atlassian-analytics/index.ts"),a=s("./app/scripts/db/auth.js"),o=s("./app/scripts/data/backgrounds.js"),c=s("./app/scripts/views/board-menu/board-sidebar-power-up-slots-view.js"),{BUTLER_POWER_UP_ID:l}=s("./app/scripts/data/butler-id.js"),d=s("./app/scripts/views/internal/plugins/plugin-runner.js"),{TrelloStorage:p}=s("./packages/storage/index.ts"),u=s("./app/scripts/lib/util/index.js"),m=s("./app/scripts/views/internal/view.js"),h=s("./node_modules/underscore/underscore.js"),g=s("./app/scripts/views/internal/templates.js"),b=s("./app/scripts/views/templates/board_menu_default.js"),f=s("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),{featureFlagClient:v}=s("./packages/feature-flag-client/index.ts"),k=s("./app/scripts/lib/localize-count.js"),{asNumber:w}=s("./packages/i18n/formatters.ts"),y=s("./app/scripts/views/internal/view-with-actions.js"),j=s("./app/scripts/data/latest-power-ups-message.js"),x=s("./app/scripts/controller/index.js");class C extends m{static initClass(){this.prototype.viewTitleKey="menu",this.prototype.viewIcon="member",this.prototype.className="board-menu-content-frame",this.prototype.headerDisplayTypeClass="is-board-menu-default-view",this.prototype.events={"click .js-about-this-board":"openAboutThisBoard","click .js-change-background":"changeBackground","click .js-open-power-ups"(e){return n.sendClickedLinkEvent({linkName:"boardMenuPowerUpLink",attributes:{boardId:this.model.id,organizationId:this.model.get("idOrganization")},source:"boardMenuDrawer"}),this.showPowerUps(e)},"click .js-open-stickers":"openStickers","click .js-open-card-filter":"showCardFilter","click .js-open-activity":"openActivity","click .js-open-more":"openMore","click .js-power-up-empty-slot":"showPowerUps","click .js-enterprise-upsell-dismiss":"enterpriseUpsellDismiss","click .js-enterprise-upsell-learn-more":"enterpriseUpsellLearnMore","click .js-open-butler":"openButler"}}initialize({sidebarView:e}){this.sidebarView=e,this.numActionsToShow=15,this.makeDebouncedMethods("render","renderMembers"),this.listenTo(this.model,{"change:datePluginDisable":this.renderPowerUpDisableTimer,"change:prefs.permissionLevel":this.renderDebounced,"change:prefs.isTemplate":this.renderDebounced,"change:powerUps":this.renderEnabledPowerUpCount,"change:desc":this.renderAboutThisBoardSummary,"change:memberships":this.renderAboutThisBoardSummary,"change:idOrganization":()=>(this.renderButlerButton(),this.renderEnabledPowerUpCount())}),this.listenTo(a.me().organizationList,"change",(()=>this.renderDebounced())),this.listenTo(this.model.boardPluginList,{"add remove reset":e=>(this.renderEnabledPowerUpCount(),this.renderButlerButton())}),this.subscribe(f(this.model),(()=>this.renderEnabledPowerUpCount())),this.actionListView=this.collectionSubview(r,new i([],{modelCache:this.modelCache}),{renderOpts:{limit:this.numActionsToShow,context:this.model,compact:!0,truncateComments:e=>e.get("date")<this.model.get("dateLastView"),excludeTypes:["copyCommentCard"],source:"boardMenuDrawerDefaultScreen"}}),this.waitForId(this.model,(()=>(this.listenTo(this.modelCache,"add:Action:".concat(this.model.id," remove:Action:").concat(this.model.id," change:Action:").concat(this.model.id),this.frameDebounce((()=>(this.renderActionCount(),this.actionListView.collection.reset(this.getActions()))))),this.actionListView.collection.reset(this.getActions())))),this.enterpriseUpsellsEnabled=this.model.canUpsellToEnterprise()&&v.get("enterprise.up_sells",!1)}renderAboutThisBoardSummary(){const e=this.model.isMember(a.me()),t=this.model.get("desc").length>0;return this.$(".board-menu-about-this-board-summary").toggleClass("hide",t||!e),this}render(){const e=a.me(),t={editable:this.model.editable(),hasPaidOrgPowerUps:e.hasPaidOrgPowerUps(),hasGoldPowerUps:e.isFeatureEnabled("threePlugins"),isTemplate:this.model.isTemplate(),showEnterpriseUpsell:this.enterpriseUpsellsEnabled};if(this.$el.html(b(t)),this.enterpriseUpsellsEnabled){const e=this.model.get("idOrganization");n.sendScreenEvent({name:"boardMenuDrawerEnterpriseUpsellInlineDialog",containers:{organization:{id:e}}})}return this.$(".js-menu-action-list").length&&(this.actionListView.setElement(this.$(".js-menu-action-list")[0]),this.renderActions(),this.renderActionCount()),this.renderEnabledPowerUpCount(),this.renderBackgroundPreview(),this.renderPowerUpDisableTimer(),this.renderPowerUpSlots(),this.renderAboutThisBoardSummary(),this.renderButlerButton(),this}renderBackgroundPreview(){let e,t;const s=this.$(".js-fill-background-preview").css({"background-image":"","background-color":""});if(null!=S(o[this.model.getPref("background")],(e=>e.tile)))t=this.model.getPref("backgroundImage");else if(null!=this.model.getPref("backgroundImageScaled")||null!=this.model.getPref("backgroundImage")){let e,s;t=null!=(e=null!=(s=S(u.previewBetween(this.model.getPref("backgroundImageScaled"),90,60,600,400),(e=>e.url)))?s:this.model.get("fullSizeUrl"))?e:this.model.getPref("backgroundImage")}else e=null!=this.model.getPref("backgroundColor")?this.model.getClientBackgroundColor(this.model.getPref("background")):this.model.getClientBackgroundColor("blue");return s.css({"background-image":t?"url(".concat(t,")"):"","background-color":e}),this}getDateLastViewedActionsStorageKey(){return this.model.id?"timeLastViewedActions-".concat(this.model.id):null}setDateLastViewedActions(e){let t;null!=(t=this.getDateLastViewedActionsStorageKey())&&p.set(t,e.toISOString())}setDateLastViewedActionsAsNow(){this.setDateLastViewedActions(new Date)}getDateLastViewedActions(){let e;if(null!=(e=this.getDateLastViewedActionsStorageKey())){let t;if(null!=(t=p.get(e)))return new Date(t)}return null}renderActionCount(){if(!this.$(".js-unread-activity-count").length)return;this.$(".js-unread-activity-count").empty();let e=this.getDateLastViewedActions();null==e&&(e=new Date,this.setDateLastViewedActions(e));const t=t=>{const s=new Date(t.get("date"))>e,i=t.get("idMemberCreator")!==a.me().id;return s&&i};let i=0;for(const e of Array.from(this.model.getActions()))t(e)&&i++;0<i&&i<=this.numActionsToShow&&this.setDateLastViewedActionsAsNow();let r=i;i>=50&&(r="".concat(50,"+")),i>this.numActionsToShow&&this.$(".js-unread-activity-count").text(r);const n={count:r,hasCount:i>this.numActionsToShow};return this.$(".js-fill-activity-button").empty().append(g.fill(s("./app/scripts/views/templates/board_menu_more_activity_button.js"),n)),this}renderPowerUpDisableTimer(){const e=this.model.daysUntilPluginsDisable();return null!==e?this.$(".js-power-up-disable-timer").removeClass("hide").text(k("days remaining",e)):this.$(".js-power-up-disable-timer").addClass("hide")}getEnabledPowerUpCount(){return(this.model.get("powerUps")?this.model.get("powerUps").length:0)+this.model.powerUpsCount()}renderButlerButton(){return this.$(".js-butler-button").toggleClass("hide",!this.model.isButlerCore())}renderEnabledPowerUpCount(){const e=a.me();if(e&&j&&!e.isDismissed(j))this.$(".js-enabled-power-up-count").text(""),this.$(".js-power-up-new").removeClass("hide");else{this.$(".js-power-up-new").addClass("hide");const e=this.getEnabledPowerUpCount();e>0?this.$(".js-enabled-power-up-count").text(w(e)):this.$(".js-enabled-power-up-count").text("")}return this}renderActions(){return this.actionListView.render(),this}showPowerUps(e){u.stop(e);const t=a.me();t&&j&&!t.isDismissed(j)&&t.dismiss(j);const s=this.sidebarView.getBoardView();var i,r;(s.toggleDirectory(),this.model.canEnableAdditionalPowerUps())||n.sendTrackEvent({action:"exceeded",actionSubject:"powerUpLimit",source:"inBoardPowerUpDirectory",containers:{board:{id:this.model.id},organization:{id:null===(i=this.model)||void 0===i?void 0:i.get("idOrganization")},enterprise:{id:null===(r=this.model)||void 0===r?void 0:r.get("idEnterprise")}},attributes:{fromBoardMenu:!0,fromCard:!1}});if(!s.directoryView){this.$(e.target).hasClass("js-power-up-empty-slot")?n.sendClickedButtonEvent({buttonName:"emptyPowerUpSlotButton",source:"boardMenuDrawerDefaultScreen",containers:{board:{id:this.model.id}}}):this.sidebarView.sendClickedDrawerNavItemEvent("default","powerUpDirectory")}}showCardFilter(e){u.stop(e),this.sidebarView.pushView("filter")}openStickers(e){u.stop(e),this.sidebarView.pushView("stickers")}openAboutThisBoard(e){u.stop(e),this.sidebarView.pushView("about")}changeBackground(e){u.stop(e),this.sidebarView.pushView("background")}openActivity(e){u.stop(e),this.sidebarView.pushView("activity"),this.setDateLastViewedActionsAsNow()}openMore(e){u.stop(e),this.sidebarView.pushView("more")}remove(){return"function"==typeof this.unmountBCPrompt&&this.unmountBCPrompt(),this.setDateLastViewedActionsAsNow(),super.remove(...arguments)}renderPowerUpSlots(){const e=this.$(".js-power-up-slots-container"),t=this.subview(c,this.model);return this.appendSubview(t,e)}enterpriseUpsellDismiss(){const e=this.model.get("idOrganization");return a.me().dismiss("enterprise-upsell-board-sidebar"),n.sendDismissedComponentEvent({componentType:"inlineDialog",componentName:"boardMenuDrawerEnterpriseUpsellInlineDialog",containers:{organization:{id:e}}}),this.$(".enterprise-up-sell.on-board").remove()}enterpriseUpsellLearnMore(){var e,t,s,i;const r=this.model.get("idOrganization"),a=null!==(e=this.model)&&void 0!==e&&null!==(t=e.getOrganization())&&void 0!==t&&t.isBusinessClass()?"bc":null!==(s=this.model)&&void 0!==s&&null!==(i=s.getOrganization())&&void 0!==i&&i.isStandard()?"standard":"free";return n.sendClickedLinkEvent({linkName:"learnMoreLink",source:"boardMenuDrawerEnterpriseUpsellInlineDialog",containers:{organization:{id:r,type:a}}}),window.open("/enterprise?app_source=board_sidebar&org_id=".concat(r,"&org_type=").concat(a))}openButler(e){return v.get("workflowers.new-butler-board-button",!1)?x.getCurrentBoardView().toggleButlerView(this.model.id):d.one({plugin:l,command:"show-settings",board:this.model,el:e.currentTarget})}}function S(e,t){return null!=e?t(e):void 0}C.initClass(),h.extend(C.prototype,y),e.exports=C},"./app/scripts/views/board-menu/board-sidebar-power-up-slot-view.js":function(e,t,s){let i;const{Analytics:r}=s("./packages/atlassian-analytics/index.ts"),n=s("./app/scripts/views/directory/directory-plugin-item-view.js"),a=s("./app/scripts/views/lib/pop-over.js"),o=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_power_up_slot"),c=s("./app/scripts/controller/index.js"),{navigate:l}=s("./app/scripts/controller/navigate.js"),d=s("./packages/config/index.ts").mapPowerUpId,p=o.renderable((({id:e,name:t,icon:s})=>o.a(".board-menu-navigation-item-link.mod-enabled",{href:"#"},(function(){return o.span(".board-menu-navigation-item-link-icon.mod-enabled",{style:"background-image: url(".concat(s.url,")")}),o.raw("&nbsp;"),o.text(t)}))));e.exports=(i=class extends n{static initClass(){this.prototype.tagName="li",this.prototype.className="board-menu-navigation-item mod-power-up-slot",this.prototype.events={click:"toggleOptions"}}initialize({plugin:e}){return this.plugin=e,super.initialize(...arguments)}showListingOption(){return this.plugin.id!==d}navigateToListing(){const e=c.getBoardUrl(this.model.id,"power-up",[this.plugin.id]);return l(e,{trigger:!0}),a.hide(),r.sendClickedButtonEvent({buttonName:"powerUpSlotButton",source:"boardMenuDrawerDefaultScreen",containers:{board:{id:this.model.id}},attributes:{powerUpId:this.plugin.id}})}render(){return this.$el.html(p({id:this.plugin.id,name:this.plugin.get("name"),icon:this.plugin.get("icon")})),this}},i.initClass(),i=i)},"./app/scripts/views/board-menu/board-sidebar-power-up-slots-view.js":function(e,t,s){const i=s("./node_modules/underscore/underscore.js"),r=s("./node_modules/react/index.js"),{Analytics:n}=s("./packages/atlassian-analytics/index.ts"),a=s("./app/scripts/db/auth.js"),o=s("./app/scripts/views/board-menu/board-sidebar-power-up-slot-view.js"),c=s("./app/scripts/controller/index.js"),l=s("./app/scripts/view-models/member-state.js"),d=s("./app/scripts/views/internal/plugins/plugin-runner.js"),p=s("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),u=s("./node_modules/bluebird/js/browser/bluebird.js"),m=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_power_up_slot"),{BoardSidebarPuPUpsell:h}=s("./app/scripts/views/board-menu/BoardSidebarPuPUpsell.tsx"),{renderUpgradePrompt:g}=s("./app/src/components/UpgradePrompts/renderUpgradePrompt.ts"),b=s("./app/scripts/lib/util/index.js"),f=s("./app/scripts/views/internal/view.js"),v=m.renderable((()=>m.li(".board-menu-navigation-item.mod-power-up-slot.js-empty-slot-upsell"))),k=m.renderable((({index:e})=>m.li(".board-menu-navigation-item.mod-power-up-slot",(()=>m.a(".board-menu-navigation-item-link.js-power-up-empty-slot",{href:"#"},(function(){return m.span(".board-menu-navigation-item-link-icon",(function(){if(null!=e)return m.text(e)})),m.raw("&nbsp;"),m.format("add-power-up")})))))),w=m.renderable((function(){return m.ul(".board-menu-navigation.js-power-up-slots"),m.ul(".board-menu-navigation.js-upsell-slots"),m.ul(".board-menu-navigation",(function(){return m.li(".board-menu-navigation-item.mod-power-up-slot.js-show-fewer.hide",(()=>m.a(".board-menu-navigation-item-link",{href:"#"},(function(){return m.raw("&nbsp;"),m.format("show-fewer-power-ups")})))),m.li(".board-menu-navigation-item.mod-power-up-slot.js-show-more.hide",(()=>m.a(".board-menu-navigation-item-link",{href:"#"},(function(){return m.raw("&nbsp;"),m.format("view-all-power-ups")}))))}))}));class y extends f{static initClass(){this.prototype.events={"click .js-show-fewer":"showFewer","click .js-show-more":"showMore"}}initialize(){this.collapsed=!1,this.makeDebouncedMethods("renderPowerUpSlots"),this.listenTo(this.model,{"change:idOrganization":this.renderPowerUpSlotsDebounced}),this.listenTo(this.model.boardPluginList,{"add remove reset":e=>this.renderPowerUpSlotsDebounced()}),this.subscribe(p(this.model),(()=>this.renderPowerUpSlotsDebounced())),this.listenTo(l,{"change:idBoardCollapsedPowerUps":this.renderPowerUpSlotsDebounced})}remove(){return"function"==typeof this.unmountPupPrompt&&this.unmountPupPrompt(),super.remove(...arguments)}showFewer(e){return b.stop(e),n.sendClickedButtonEvent({buttonName:"showFewerPowerUpsButton",source:"boardMenuDrawerDefaultScreen",containers:{board:{id:this.model.id}}}),l.pushBoardCollapsedPowerUps(this.model.id)}showMore(e){return b.stop(e),n.sendClickedButtonEvent({buttonName:"showAllPowerUpsButton",source:"boardMenuDrawerDefaultScreen",containers:{board:{id:this.model.id}}}),l.pullBoardCollapsedPowerUps(this.model.id)}isCollapsed(){return l.inSet("idBoardCollapsedPowerUps",this.model.id)}renderPowerUpSlots(){const e=this.isCollapsed();let t=this.model.boardPluginList.models;return this.model.isButlerCore()&&(t=t.filter((e=>!e.isButler()))),this.model.isMapCore()&&(t=t.filter((e=>!e.isMap()))),u.map(t,(e=>d.getOrLoadPlugin(this.model,e.get("idPlugin")))).map((e=>this.subview(o,this.model,{plugin:e,currentPage:"board view"},e.id))).then((t=>{let s=t;return e&t.length>3&&(s=i.first(t,3)),this.ensureSubviews(s,this.$(".js-power-up-slots"))})).finally((()=>{let t;const s=this.$(".js-upsell-slots");"function"==typeof this.unmountPupPrompt&&this.unmountPupPrompt(),s.empty();const n=this.model.powerUpsCount(),o=n>3&&!e;this.$(".js-show-fewer").toggleClass("hide",!o);const l=n>3&&e;this.$(".js-show-more").toggleClass("hide",!l);const d=a.me(),p=this.model.getOrganization(),u=null!=(t=null!=p?p.isPremium():void 0)&&t;if(this.model.canEnableAdditionalPowerUps()){let e=1;d.isFeatureEnabled("threePlugins")&&(e=3-n),d.getPowerUpsLimit(p)>=3&&(e=n<3?3-n:1),i.times(e,(e=>s.append(k({index:u?void 0:e+1+n}))))}const m=p?c.getOrganizationBillingUrl(p):void 0,b=p?p.id:void 0;return s.append(v()),this.unmountPupPrompt=g(r.createElement(h,{billingUrl:m,orgId:b}),s.find(".js-empty-slot-upsell")[0],{boardModel:this.model})}))}render(){return this.$el.html(w()),this.renderPowerUpSlots(),this}}y.initClass(),e.exports=y},"./app/scripts/views/board-menu/board-sidebar-view.js":function(e,t,s){const i=s("./packages/jquery/index.js"),r=s("./node_modules/react/index.js"),n=s("./packages/react-dom-wrapper/index.ts"),a=s("./app/scripts/views/archive/archive-view.js"),o=s("./app/scripts/db/auth.js"),c=s("./app/scripts/views/board-menu/board-menu-about-this-board-view.js"),l=s("./app/scripts/views/board-menu/board-labels-view.js"),d=s("./app/scripts/views/board-menu/board-menu-activity-view.js"),p=s("./app/scripts/views/board-menu/board-sidebar-default-view.js"),u=s("./app/scripts/views/board-menu/board-settings-view.js"),m=s("./app/scripts/views/board-menu/board-menu-more-view.js"),h=s("./app/scripts/views/board-menu/board-collections-view.js"),g=s("./app/scripts/views/board-menu/card-filter-view.js"),b=s("./app/scripts/views/board-menu/change-board-background-view.js"),f=s("./app/scripts/views/board-menu/change-board-background-select-view.js"),{Key:v,registerShortcut:k,Scope:w,unregisterShortcut:y}=s("./packages/keybindings/index.ts"),j=s("./app/scripts/views/lib/pop-over.js"),x=s("./app/scripts/views/board-menu/sticker-picker-view.js"),C=s("./app/scripts/lib/util/index.js"),S=s("./app/scripts/views/internal/view.js"),_=s("./node_modules/underscore/underscore.js");let{featureFlagClient:T}=s("./packages/feature-flag-client/index.ts");const E=s("./app/scripts/views/internal/templates.js"),{track:P,trackUe:O}=s("./packages/analytics/index.ts"),{Analytics:A}=s("./packages/atlassian-analytics/index.ts"),{renderComponent:B}=s("./app/src/components/ComponentWrapper/index.ts"),{LazyTemplateTipsPopover:D}=s("./app/src/components/TemplateTips/LazyTemplateTipsPopover.tsx");({featureFlagClient:T}=s("./packages/feature-flag-client/index.ts"));const N=T.getTrackedVariation("board-header-filtering-experiment",!1);class M extends S{static initClass(){this.prototype.events={"click .js-hide-sidebar":"hideSidebar","click .js-pop-widget-view":"popView"},this.prototype.className="board-menu-container",this.prototype.hackySidebarLifetimeEvents={filter:{didBecomeVisible(e){const t=e.$(".js-autofocus")[0];return C.setCaretAtEnd(t)}},more:{didBecomeVisible:e=>e.selectUrl()},archive:{didBecomeVisible(e){const t=e.$(".js-autofocus")[0];return C.setCaretAtEnd(t)},didBecomeRemoved:e=>(e.removeSubviews(),e.remove())}}}constructor(e){super(e),N||(this.onShortcut=this.onShortcut.bind(this),k(this.onShortcut,{scope:w.Sidebar,key:v.f}))}initialize({boardView:e}){this.boardView=e,this.listenTo(this.model,{"change:prefs.isTemplate"(){return this.handleTemplateMode(),this.renderTemplateTips()}}),this.listenTo(this.model,{"change:prefs.permissionLevel"(){return this.renderTemplateTips()}}),this.aboutView=this.subview(c,this.model,{sidebarView:this}),this.defaultView=this.subview(p,this.model,{sidebarView:this});const t=this.model.isTemplate();if(t&&!(null!=this.model?this.model.isMember(o.me()):void 0))this.viewStack=[{name:"about",view:this.aboutView}];else{this.viewStack=[{name:"default",view:this.defaultView}];const e=!!this.model.get("desc")||this.model.ownedByMember(o.me());(this.model.isPublic()&&e||t)&&this.pushView("about",{},{easeIn:!1,showSidebar:this.model.viewState.get("showSidebar")})}this.sendGASEvent=T.get("dataeng.gasv3-event-tracking",!1)}remove(){N||y(this.onShortcut);const e=this.viewNamed("archive",{});return this.hackySidebarLifetimeEvents.archive.didBecomeRemoved(e),super.remove(...arguments)}onShortcut(){if(this.pushView("filter"),P("Keyboard Shortcuts","F - Search and Filter Cards"),this.sendGASEvent)return A.sendPressedShortcutEvent({shortcutName:"searchAndFilterCardsShortcut",source:"boardScreen",keyValue:"F"})}render(){return this.$el.html(E.fill(s("./app/scripts/views/templates/board_sidebar.js"))),this.defer((()=>this.renderView())),this}sidebarSubviews(){return{default:p,filter:g,about:c,archive:a,stickers:x,labels:l,background:b,backgroundColors:f,backgroundPhotos:f,activity:d,more:m,settings:u,collections:h}}viewNamed(e,t){for(const{name:t,view:s}of Array.from(this.viewStack))if(e===t)return s;const s=_.result(this,"sidebarSubviews")[e];if(null==s)throw new Error("Unknown sidebar view ".concat(e));const i="filter"===e?this.model.filter:this.model;return new s(_.extend({model:i,modelCache:this.modelCache,sidebarView:this,viewState:null!=t?t.viewState:void 0},t))}topSidebarView(){return _.last(this.viewStack).view}topSidebarViewOptions(){return _.last(this.viewStack).options}topSidebarViewName(){return _.last(this.viewStack).name}getScreenFromViewName(e){null==e&&(e=this.topSidebarViewName());const t=e[0].toUpperCase()+e.slice(1);return"boardMenuDrawer".concat(t,"Screen")}sendDrawerScreenEvent(e,t){if(this.sendGASEvent)return A.sendScreenEvent({name:this.getScreenFromViewName(),containers:{board:{id:this.model.id},organization:{id:I(this.model.getOrganization(),(e=>e.id))||""}},attributes:{previousDrawerScreen:this.getScreenFromViewName(e),drawerNavigationMethod:t}})}renderView(e){null==e&&(e={});const{direction:t,callOnce:s,easeIn:r}=e,n=this.$(".js-board-menu-title"),a=this.$(".js-board-menu-title-text").empty(),o=this.$(".js-board-menu-content-wrapper").empty().scrollTop(0),c=this.topSidebarView();this.$(".board-menu-header").toggleClass("no-transition",!r),o.toggleClass("no-padding",!0===c.noPadding),null!=c.headerDisplayTypeClass?this.$(".js-board-menu-title").addClass(c.headerDisplayTypeClass):1===this.viewStack.length?this.$(".js-board-menu-title").addClass("is-board-menu-default-view"):this.$(".js-board-menu-title").removeClass("is-board-menu-default-view");const l=c.renderIfNecessary().$el;null!=t&&l.addClass(t);const d=c.getViewTitle();return d?(n.addClass("is-in-frame"),a.append(d)):n.removeClass("is-in-frame"),o.append(l),null!=s&&i(".board-menu-content-frame").one("transitionend webkitTransitionEnd",(e=>s(c))),this.defer((()=>{if(null!=t)return l.removeClass(t)})),c.delegateEvents(),this}renderTemplateTips(){return this.model.isTemplate()&&(null!=this.model?this.model.isMember(o.me()):void 0)&&(null!=this.model?this.model.isPublic():void 0)?(i(".board-wrapper").append('<div class="template-tips"></div>'),this.targetDiv=i(".template-tips")[0],B(r.createElement(D,{boardId:this.model.id,name:this.model.get("name"),username:o.me().get("username"),toggleAboutThisTemplate:()=>this.pushView("about"),toggleBackgroundSelector:()=>this.pushView("background"),isInGallery:!!this.model.get("templateGallery")}),this.targetDiv)):this.targetDiv?(n.unmountComponentAtNode(this.targetDiv),this.targetDiv=null):void 0}pushView(e,t,s){let r;null==t&&(t={}),null==s&&(s={});let{animate:n,showSidebar:a,easeIn:o}=s;null==n&&(n=!0),null==a&&(a=!0),null==o&&(o=!0);const c=this.viewNamed(e,t),l=null!=I(null!=this.hackySidebarLifetimeEvents?this.hackySidebarLifetimeEvents[e]:void 0,(e=>e.didBecomeVisible))?I(null!=this.hackySidebarLifetimeEvents?this.hackySidebarLifetimeEvents[e]:void 0,(e=>e.didBecomeVisible)):function(){},d=c===this.topSidebarView(),p=this.model.viewState.get("showSidebar");if(p?d?l(c):r=l:i(".board-menu").one("transitionend webkitTransitionEnd",(e=>l(c))),a&&!p&&this.model.viewState.setShowSidebar(!0),d)return;const u=this.topSidebarViewName();this.viewStack.push({name:e,view:c,options:t});const m=n?"is-right-of-frame":void 0;this.renderView({direction:m,callOnce:r,easeIn:o}),O("board sidebar","opens","".concat(this.topSidebarViewName()," view"),"from ".concat(u," view"),"","",{boardId:this.model.id,teamId:I(this.model.getOrganization(),(e=>e.id))}),this.sendDrawerScreenEvent(u,"push"),j.hide()}popView(){if(1===this.viewStack.length)return;const e=I(this.topSidebarViewOptions(),(e=>e.resetTo));if(e)return this.resetTo(e);const t=this.topSidebarViewName();this.topSidebarView().remove(),this.viewStack.pop(),this.renderView({animate:"is-left-of-frame",easeIn:!0}),O("board sidebar","opens","".concat(this.topSidebarViewName()," view"),"from ".concat(t," view"),"","by clicking on back button",{boardId:this.model.id,teamId:I(this.model.getOrganization(),(e=>e.id))}),this.sendDrawerScreenEvent(t,"back"),j.hide()}resetTo(e,t){null==t&&(t={});let{animate:s}=t;null==s&&(s=!0);const i=this.topSidebarViewName();for(;1!==this.viewStack.length;)this.viewStack.pop();e&&this.pushView(e,{},t),this.renderView({animate:s?"is-left-of-frame":void 0}),O("board sidebar","opens","".concat(this.topSidebarViewName()," view"),"from ".concat(i," view"),"","via reset",{boardId:this.model.id,teamId:I(this.model.getOrganization(),(e=>e.id))}),this.sendDrawerScreenEvent(i,"reset"),j.hide()}hideSidebar(){this.model.viewState.setShowSidebar(!1),O("board sidebar","closes","sidebar","on ".concat(this.topSidebarViewName()," view"),"","",{boardId:this.model.id,teamId:I(this.model.getOrganization(),(e=>e.id))}),this.sendGASEvent&&A.sendClickedButtonEvent({buttonName:"boardMenuDrawerCloseButton",source:this.getScreenFromViewName(),containers:{board:{id:this.model.id},organization:{id:I(this.model.getOrganization(),(e=>e.id))}}})}getBoardView(){return this.boardView}handleTemplateMode(){const e=this.model.isTemplate();return e&&!this.model.owned()?(this.viewStack=[{name:"about",view:this.aboutView}],this.renderView()):e||"about"===this.topSidebarViewName()?(this.viewStack=[{name:"default",view:this.defaultView}],this.pushView("about",{},{easeIn:!1,showSidebar:this.model.viewState.get("showSidebar")})):void 0}sendClickedDrawerNavItemEvent(e,t,s){null==s&&(s={});const i=["makeTemplateFromBoard","convertToBoard"].includes(t);if(!this.sendGASEvent&&!i)return;e=e[0].toUpperCase()+e.slice(1).toLowerCase();const r={action:"clicked",actionSubject:"drawerNavigationItem",actionSubjectId:(t=t[0].toLowerCase()+t.slice(1))+"DrawerNavigationItem",source:"boardMenuDrawer".concat(e,"Screen"),containers:{board:{id:this.model.id},organization:{id:I(this.model.getOrganization(),(e=>e.id))}}};return Object.keys(s).length&&(r.attributes=s),A.sendUIEvent(r)}}function I(e,t){return null!=e?t(e):void 0}M.initClass(),e.exports=M},"./app/scripts/views/board-menu/change-board-add-member-perms-view.js":function(e,t,s){let i;const r=s("./app/scripts/views/board-menu/change-board-perms-view.js");e.exports=(i=class extends r{static initClass(){this.prototype.viewTitleKey="add member permissions"}getTemplate(){return s("./app/scripts/views/templates/board_menu_invitations.js")}getPerm(){return"invitations"}},i.initClass(),i=i)},"./app/scripts/views/board-menu/change-board-background-colors-component-view.js":function(e,t,s){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}const r=s("./app/scripts/data/backgrounds.js"),n=s("./node_modules/react/index.js"),a=s("./node_modules/underscore/underscore.js"),{Analytics:o}=s("./packages/atlassian-analytics/index.ts"),{featureFlagClient:c}=s("./packages/feature-flag-client/index.ts"),l=[],d=[];for(const e in r){const t=r[e];"default"===t.type&&l.push({key:e,name:e,color:t.color}),"gradient"===t.type&&d.push({key:e,name:e,gradient:t.path,color:t.color,emoji:t.emoji})}const p=({setBackgroundColor:e,name:t,color:s,boardId:i,size:r})=>n.createElement("div",{onClick:function(){const r=o.startTask({taskName:"edit-board",subTask:"prefs/background",source:"boardMenuDrawerBackgroundColorsScreen"});e(t,s,{taskName:"edit-board",subTask:"prefs/background",source:"boardMenuDrawerBackgroundColorsScreen",traceId:r,next:(e,s)=>{s&&o.sendUpdatedBoardFieldEvent({field:"background",value:t,source:"boardMenuDrawerBackgroundColorsScreen",containers:{board:{id:i}},attributes:{backgroundType:"color"}})}})},className:"board-backgrounds-section-tile board-backgrounds-section-tile-".concat(r)},n.createElement("div",{className:"image",style:{backgroundColor:s}})),u=({setBackgroundGradient:e,name:t,gradient:s,color:i,emoji:r,boardId:a,size:c})=>n.createElement("div",{onClick:function(){const r=o.startTask({taskName:"edit-board",subTask:"prefs/background",source:"boardMenuDrawerBackgroundColorsScreen"});e(t,s,i,{taskName:"edit-board",subTask:"prefs/background",source:"boardMenuDrawerBackgroundColorsScreen",traceId:r,next:(e,s)=>{s&&o.sendUpdatedBoardFieldEvent({field:"background",value:t,source:"boardMenuDrawerBackgroundColorsScreen",containers:{board:{id:a}},attributes:{backgroundType:"gradient"}})}})},className:"board-backgrounds-section-tile board-backgrounds-section-tile-".concat(c)},n.createElement("div",{className:"image",style:{backgroundColor:i,backgroundImage:"url(".concat(s,")")}},n.createElement("span",{className:"emoji"},r)));class m extends n.Component{static initClass(){this.prototype.displayName="ColorsView"}render(){const{setBackgroundColor:e,setBackgroundGradient:t}=this.props;return c.get("aaaa.web.board-bkgd-gradients",!1)?n.createElement("div",null,n.createElement("div",{className:"board-backgrounds-section-tiles"},d.map((e=>n.createElement(u,i({},a.extend({setBackgroundGradient:t},e),{size:"large"}))))),n.createElement("hr",{className:"board-menu-header-divider"}),n.createElement("div",{className:"board-backgrounds-section-tiles"},l.map((t=>n.createElement(p,i({},a.extend({setBackgroundColor:e},t),{size:"small"})))))):n.createElement("div",null,n.createElement("div",{className:"board-backgrounds-section-tiles"},l.map((t=>n.createElement(p,i({},a.extend({setBackgroundColor:e},t),{size:"large"}))))))}}m.initClass(),e.exports=m},"./app/scripts/views/board-menu/change-board-background-photos-component-view/index.js":function(e,t,s){const i=s("./node_modules/react/index.js"),r=s("./app/scripts/lib/localize.js"),{debounce:n}=s("./node_modules/underscore/underscore.js"),{unsplashClient:a}=s("./packages/unsplash/index.ts"),o=s("./app/scripts/views/board-menu/change-board-background-photos-component-view/photos-list.js"),{DEFAULT_COLLECTION_ID:c}=a.constants,l=function(){const e=Math.ceil(screen.height/112*2);let t=Math.ceil(1.5*e);return t%2&&t++,t}();class d extends i.Component{static initClass(){this.prototype.displayName="PhotosView"}constructor(e){super(e);const t=e=>({connectionError:!1,id:e,images:[],isLoading:!1,marker:null,maxPage:1,page:1});this.state={collections:[t(c),t("search")],defaultCollectionActive:!0,defaultCollectionShowTitle:!1,queueID:0,searchTerm:null},this.renderList=this.renderList.bind(this),this.onSearchInputChange=this.onSearchInputChange.bind(this),this.nextPage=this.nextPage.bind(this),this.updateCollection=this.updateCollection.bind(this),this.showErrorInCollection=this.showErrorInCollection.bind(this),this.getUnsplashBackgrounds=this.getUnsplashBackgrounds.bind(this),this.bindObserver=this.bindObserver.bind(this),this.bindMarkers=this.bindMarkers.bind(this),this.debouncedGetUnsplashBackgrounds=n(this.getUnsplashBackgrounds,250)}componentDidMount(){return this.getUnsplashBackgrounds(c)}render(){const{defaultCollectionActive:e,defaultCollectionShowTitle:t,searchTerm:s}=this.state;return i.createElement("div",{className:"board-backgrounds-photos"},i.createElement("div",{className:"search-photos"},i.createElement("input",{onChange:this.onSearchInputChange,placeholder:r(["background photos","photos"]),type:"text"}),i.createElement("span",{className:"icon-sm icon-search"})),i.createElement("div",{className:"board-backgrounds-list-observer",ref:this.bindObserver},s?this.renderList("search"):void 0,t?i.createElement("div",{className:"collection-title"},r(["background photos","top picks"])):void 0,e?this.renderList(c):void 0))}renderList(e){const{boardId:t}=this.props,{collections:s}=this.state,{connectionError:r,images:n,isLoading:a,maxPage:c,page:l}=s.filter((t=>t.id===e))[0];return i.createElement(o,{boardId:t,collectionID:e,connectionError:r,images:n,isLoading:a,maxPage:c,page:l,registerMarker:this.registerMarker(e)})}onSearchInputChange(e){const{collections:t}=this.state,s=e.target.value.trim();if(this.setState({collections:t.map((function(e){return"search"===e.id&&(e.images=[],e.isLoading=!0),e})),defaultCollectionActive:!s,defaultCollectionShowTitle:!1,searchTerm:s}),s)return this.debouncedGetUnsplashBackgrounds("search")}nextPage(e){const{collections:t}=this.state,{page:s}=t.filter((t=>t.id===e))[0];return this.getUnsplashBackgrounds(e,s+1)}updateCollection(e,t,s){const i=this.state.collections.map((function(i){return i.id===e&&(i.connectionError=!1,i.images=i.images.concat(t),i.isLoading=!1,i.maxPage=s),i}));let r=!0,n=!1;return"search"===e&&(r=!i.filter((e=>"search"===e.id))[0].images.length,n=r),this.setState({collections:i,defaultCollectionActive:r,defaultCollectionShowTitle:n})}showErrorInCollection(e){return this.setState({collections:this.state.collections.map((function(t){return t.id===e&&(t.connectionError=!0,t.isLoading=!1),t}))})}getUnsplashBackgrounds(e,t){null==t&&(t=1);let{queueID:s}=this.state;const{collections:i,searchTerm:r}=this.state;return s++,this.setState({queueID:s,collections:i.map((function(s){return s.id===e&&(s.page=t,s.isLoading=!0),s}))}),("search"===e?a.searchPhotos(r,t,l,!0).then((({results:t,total:i})=>{if(this.state.queueID===s)return this.updateCollection(e,t,Math.ceil(i/l))})):a.getCollectionPhotos(e,t,l,"latest").then((s=>{let i=t+1;return s.length<l&&(i=t),this.updateCollection(e,s,i)}))).catch((()=>this.showErrorInCollection(e)))}registerMarker(e){return t=>{if(!t)return;const s=this.state.collections.map((function(s){return s.id===e&&(s.marker=t),s}));return this.setState({collections:s}),this.observer?this.bindMarkers():void 0}}bindObserver(e){if(this.observer||!e)return;const{collections:t}=this.state;return this.observer=new IntersectionObserver((e=>(()=>{const s=[];for(const i of Array.from(e)){const e=i.isIntersecting||i.intersectionRatio,r=t.filter((e=>e.marker===i.target))[0];e&&!r.isLoading?s.push(this.nextPage(r.id)):s.push(void 0)}return s})()),{root:e}),this.bindMarkers()}bindMarkers(){const{collections:e}=this.state;return this.observer.disconnect(),(()=>{const t=[];for(const s of Array.from(e))s.marker?t.push(this.observer.observe(s.marker)):t.push(void 0);return t})()}}d.initClass(),e.exports=d},"./app/scripts/views/board-menu/change-board-background-photos-component-view/photos-list.js":function(e,t,s){const i=s("./node_modules/react/index.js"),r=s("./app/scripts/lib/localize.js"),{unsplashClient:n}=s("./packages/unsplash/index.ts"),a=s("./app/scripts/views/board-create/photo-attribution-component.js"),{Analytics:o}=s("./packages/atlassian-analytics/index.ts");class c extends i.Component{static initClass(){this.prototype.displayName="PhotosList"}constructor(e){super(e),this.state={uploadingImageID:null},this.thumbMap=this.thumbMap.bind(this),this.addMarker=this.addMarker.bind(this)}shouldComponentUpdate(e,t){const{images:s,isLoading:i}=this.props,{uploadingImageID:r}=this.state;return s.length!==e.images.length||i!==e.isLoading||r!==t.uploadingImageID}render(){const{collectionID:e,connectionError:t,images:s,isLoading:n,maxPage:a,page:o}=this.props,c=a>o,l=n?"logo-loading active":"logo-loading";let d=s.map(this.thumbMap);return c&&(d=this.addMarker(d)),i.createElement("div",{className:"board-backgrounds-list"},d.length?d:"search"!==e||n||t?void 0:i.createElement("div",{className:"no-results"},r(["background photos","no results"])),t?i.createElement("div",{className:"error"},r(["background photos","connection error unsplash"])):void 0,i.createElement("div",{className:l}))}thumbMap(e,t){const{uploadingImageID:s}=this.state;return i.createElement("div",{className:"board-background-select",key:["thumb",t,e.id].join(":"),onClick:this.setUnsplashBackground(e)},i.createElement("span",{className:"background-box",style:{backgroundImage:"url(".concat(e.urls.thumb,")")}},s===e.id?i.createElement("div",{className:"uploading"},i.createElement("span",{className:"spinner small u-float-left"}),r(["templates","board_background_selection","uploading-ellipsis"])):i.createElement(a,{user:e.user,size:"large"})))}setUnsplashBackground(e){return()=>{const t=o.startTask({taskName:"edit-board",subTask:"prefs/background",source:"boardMenuDrawerBackgroundPhotosScreen"}),i=s("./app/scripts/network/api-promise.js"),{boardId:r}=this.props;return n.trackDownload(e),this.setState({uploadingImageID:e.id}),i({traceId:t,url:"/1/boards/".concat(r,"/prefs/background"),type:"post",data:{url:n.appendImageParameters(e.urls.raw)}}).then((()=>{o.sendUpdatedBoardFieldEvent({field:"background",value:"unsplash-".concat(e.id),source:"boardMenuDrawerBackgroundPhotosScreen",containers:{board:{id:r}},attributes:{backgroundType:"photo"}}),o.taskSucceeded({taskName:"edit-board",subTask:"prefs/background",source:"boardMenuDrawerBackgroundPhotosScreen",traceId:t})})).catch((e=>{throw o.taskFailed({taskName:"edit-board",subTask:"prefs/background",source:"boardMenuDrawerBackgroundPhotosScreen",traceId:t,error:e})})).finally((()=>this.setState({uploadingImageID:null})))}}addMarker(e){const{registerMarker:t}=this.props,s=i.createElement("div",{key:"marker",className:"scroll-marker",ref:t});return e.splice(-8,0,s),e}}c.initClass(),e.exports=c},"./app/scripts/views/board-menu/change-board-background-select-view.js":function(e,t,s){const i=s("./app/scripts/views/board-menu/change-board-background-colors-component-view.js"),r=s("./app/scripts/views/board-menu/change-board-background-photos-component-view/index.js"),n=s("./node_modules/react/index.js"),a=s("./packages/react-dom-wrapper/index.ts"),o=s("./app/scripts/views/internal/view.js"),c=s("./node_modules/xtend/immutable.js"),{unsplashClient:l}=s("./packages/unsplash/index.ts"),d={colors:i,photos:r},p=function(e){const t={};for(const s in e){const i=e[s];s.indexOf("background")>-1&&(t[s]=i)}return t};class u extends o{static initClass(){this.prototype.viewTitleArguments={unsplashUrl:l.attributionUrl},this.prototype.className="board-menu-content-frame"}viewTitleKey(){return"colors"===this.options.component?"change background colors":"change background photos"}initialize(){this.listenTo(this.model,"change:prefs.background change:prefs.backgroundTile change:prefs.backgroundBrightness",this.frameDebounce(this.render))}render(){const e={boardId:this.model.id,backgroundPrefs:p(this.model.attributes.prefs)};"colors"===this.options.component&&(e.setBackgroundColor=(e,t,s)=>{this.model.set({prefs:c(this.model.get("prefs"),{background:e,backgroundColor:t,backgroundImage:null,backgroundImageScaled:null})}).setPrefWithTracing("background",e,s)},e.setBackgroundGradient=(e,t,s)=>{this.model.set({prefs:c(this.model.get("prefs"),{background:e,backgroundColor:s,backgroundImage:t,backgroundImageScaled:null})}).setPref("background",e)});const t=n.createElement(d[this.options.component],e);return a.render(t,this.el),this}}u.initClass(),e.exports=u},"./app/scripts/views/board-menu/change-board-background-view.js":function(e,t,s){const i=s("./node_modules/react/index.js"),r=s("./app/scripts/views/lib/alerts.js"),{Analytics:n}=s("./packages/atlassian-analytics/index.ts"),a=s("./app/scripts/db/auth.js"),o=s("./app/scripts/db/model-loader.js"),c=s("./app/scripts/views/board-menu/select-custom-background-view.js"),l=s("./app/scripts/lib/util/index.js"),d=s("./app/scripts/views/internal/view.js"),p=s("./node_modules/underscore/underscore.js"),{dontUpsell:u}=s("./packages/browser/index.ts"),m=s("./app/scripts/views/templates/product_promo_disable_overlay.js"),h=s("./app/scripts/views/templates/board_change_background.js"),g=s("./app/scripts/views/board-menu/board-add-to-team-view.js"),{renderComponent:b}=s("./app/src/components/ComponentWrapper/index.ts"),{FeatureId:f,NewPill:v}=s("./app/src/components/NewFeature/index.ts"),k=s("./packages/react-dom-wrapper/index.ts"),{featureFlagClient:w}=s("./packages/feature-flag-client/index.ts");class y extends d{static initClass(){this.prototype.viewTitleKey="change background",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-bg-colors":"openBackgroundColors","click .js-bg-photos":"openBackgroundPhotos","change .js-upload-image":"setUploadImage"}}initialize({sidebarView:e}){var t,s;this.sidebarView=e,super.initialize(...arguments),this.makeDebouncedMethods("render","renderCustomBackgrounds"),this.listenTo(a.me().boardBackgroundList,"change add remove reset",this.renderCustomBackgroundsDebounced),this.listenTo(this.model,"cancel-add-to-team",(()=>(this.addToTeam=!1,this.render()))),(a.me().hasPremiumFeature("customBoardBackgrounds")||null!==(t=this.model)&&void 0!==t&&null!==(s=t.getOrganization())&&void 0!==s&&s.hasPremiumFeature("customBoardBackgrounds"))&&o.loadMemberCustomBackgrounds(a.myId()).done()}fillBackgroundList(e,t,s){null==s&&(s=c),e.find(".js-select-background:not(.js-uploader)").remove(),this.appendSubviews(Array.from(t).map((e=>this.subview(s,e,{board:this.model}))),e)}render(){var e,t;this.$el.empty();const s=this.model.toJSON();return s.enabled_customBoardBackgrounds=a.me().hasPremiumFeature("customBoardBackgrounds")||(null===(e=this.model)||void 0===e||null===(t=e.getOrganization())||void 0===t?void 0:t.hasPremiumFeature("customBoardBackgrounds")),s.idMember=a.myId(),s.upsellEnabled=!u(),this.addToTeam?(o.loadMyOrganizations(),this.$el.parent().addClass("no-padding"),this.appendSubview(this.subview(g,this.model,{menuType:"Change Background"}))):(this.$el.html(h(s)),this.renderCustomBackgrounds()),this.renderGradientsNewPill(),this}remove(){this.removeGradientsNewPill(),super.remove(...arguments)}renderCustomBackgrounds(){var e,t;const s=a.me().hasPremiumFeature("customBoardBackgrounds")||(null===(e=this.model)||void 0===e||null===(t=e.getOrganization())||void 0===t?void 0:t.hasPremiumFeature("customBoardBackgrounds")),i=this.$(".js-custom-list");if(s){const e=this.modelCache.get("Member",a.myId()).boardBackgroundList.chain().filter((e=>"custom"===e.get("type"))).sortBy("id").reverse().value();this.fillBackgroundList(i,e,c),i.find(".js-uploader").prependTo(i)}else i.append(m());return this}uploadBackgroundsAndAddPreviews(e){return Array.from(e).map(((e,t)=>(t=>{var s,i;const o=new FileReader;if(!l.validFileSize(e))return void r.flash("file too large","error");const c=n.startTask({taskName:"create-attachment",subTask:"boardBackground",source:"boardMenuDrawerBackgroundUploadScreen"}),d=new FormData;d.append("token",a.myToken()),d.append("file",e);const u=null===(s=this.model)||void 0===s||null===(i=s.getOrganization())||void 0===i?void 0:i.id;return u&&d.append("idOrganization",u),o.onload=e=>this.modelCache.get("Member",a.myId()).boardBackgroundList.createWithTracing({type:"custom",fullSizeUrl:e.target.result},{data:d,processData:!1,contentType:!1,traceId:c,error:(e,t)=>{n.taskFailed({taskName:"create-attachment",subTask:"boardBackground",source:"boardMenuDrawerBackgroundUploadScreen",traceId:c,error:t}),e.set("error","Failed"),this.setTimeout((()=>e.destroy()),5e3)},success:e=>{const t=this.model;return p.extend(t.attributes.prefs,{backgroundColor:e.get("color"),backgroundImage:e.get("fullSizeUrl"),backgroundImageScaled:e.get("scaled"),backgroundTile:e.get("tile"),backgroundBrightness:e.get("brightness")}),t.setPrefWithTracing("background",e.id,{taskName:"create-attachment",subTask:"boardBackground",source:"boardMenuDrawerBackgroundUploadScreen",traceId:c,next:(e,t)=>{var s,i;t&&n.sendTrackEvent({action:"uploaded",actionSubject:"background",source:"boardMenuDrawerBackgroundUploadScreen",containers:{board:{id:this.model.id},organization:{id:null===(s=this.model)||void 0===s||null===(i=s.getOrganization())||void 0===i?void 0:i.id}},attributes:{backgroundType:"custom"}})}})}}),o.readAsDataURL(e)})()))}setUploadImage(e){l.stop(e);const t=this.$(".js-upload-image");if(null==t.prop("files")&&t.val())return void l.uploadFile(a.myToken(),t,(function(){}));const{files:s}=t[0];s.length>0&&this.uploadBackgroundsAndAddPreviews(s)}openBackgroundColors(e){l.stop(e),this.sidebarView.pushView("backgroundColors",{component:"colors"})}openBackgroundPhotos(e){l.stop(e),this.sidebarView.pushView("backgroundPhotos",{component:"photos"})}renderGradientsNewPill(){const e=this.$(".js-gradients-new-lozenge")[0];w.get("aaaa.web.board-bkgd-gradients",!1)&&e&&b(i.createElement(v,{featureId:f.BoardBkgdGradients,source:"boardMenuDrawerBackgroundScreen"}),e)}removeGradientsNewPill(){const e=this.$(".js-gradients-new-lozenge")[0];e&&k.unmountComponentAtNode(e)}}y.initClass(),e.exports=y},"./app/scripts/views/board-menu/change-board-commenting-perms-view.js":function(e,t,s){let i;const r=s("./app/scripts/views/board-menu/change-board-perms-view.js");e.exports=(i=class extends r{static initClass(){this.prototype.viewTitleKey="commenting permissions"}getTemplate(){return s("./app/scripts/views/templates/board_menu_commenting.js")}getPerm(){return"comments"}},i.initClass(),i=i)},"./app/scripts/views/board-menu/change-board-perms-view.js":function(e,t,s){const i=s("./packages/jquery/index.js"),{Analytics:r}=s("./packages/atlassian-analytics/index.ts"),n=s("./app/scripts/views/internal/board-display-helpers.js"),a=s("./app/scripts/views/lib/pop-over.js"),o=s("./app/scripts/lib/util/index.js"),c=s("./app/scripts/views/internal/view.js"),l=s("./app/scripts/views/internal/templates.js");class d extends c{static initClass(){this.prototype.viewTitleKey="change permissions",this.prototype.events={"click .js-select":"selectPerm"}}initialize(){this.listenTo(this.model,"change",this.frameDebounce(this.render))}render(){let e;const t=this.model.toJSON({prefs:!0,url:!0});t.cardCovers=t.prefs.cardCovers;const s=this.model.getOrganization();t.hasOrg=null!=(null!=s?s.id:void 0),t.orgCanSee=t.hasOrg&&(e=this.model.getPref("permissionLevel"),["public","org"].includes(e)),t.premium=null!=s?s.isFeatureEnabled("observers"):void 0,t.voting_showObservers=(t.premium||t.voting_observers)&&t.hasOrg,t.comments_showObservers=(t.premium||t.comments_observers)&&t.hasOrg,t.pLevelClass=n.getPermLevelIconClassForBoard(this.model),(null!=s?s.owned():void 0)?(t.orgOwner=!0,t.orgName=s.get("displayName"),this.model.owned()||(t.setOrgNull=!0)):this.model.owned()||(t.noEditOrg=!0);const i=this.getTemplate();return this.$el.html(l.fillMenu(i,t,{editable:this.model.editable(),owned:this.model.owned()})),this}selectPerm(e){o.stop(e);const t=i(e.target).closest(".js-select");if(t.hasClass("disabled")||t.closest(".js-disabled").length)return;const s=this.getPerm(),n="prefs/".concat(s),c=r.startTask({taskName:"edit-board",subTask:n,source:"changeBoardPermissionsInlineDialog"}),l=t.attr("name");this.model.setPrefWithTracing(s,l,{taskName:"edit-board",subTask:n,source:"changeBoardPermissionsInlineDialog",traceId:c,next:(e,t)=>{var i;t&&r.sendUpdatedBoardFieldEvent({field:"".concat(s,"Pref"),value:l,source:"changeBoardPermissionsInlineDialog",attributes:{taskId:c},containers:{board:{id:this.model.id},organization:{id:null===(i=this.model.getOrganization())||void 0===i?void 0:i.id}}})}}),this.model.save(),a.popView()}}d.initClass(),e.exports=d},"./app/scripts/views/board-menu/custom-background-options-view.js":function(e,t,s){const i=s("./packages/jquery/index.js"),r=s("./app/scripts/views/lib/confirm.js"),n=s("./app/scripts/lib/util/index.js"),a=s("./app/scripts/views/internal/view.js"),o=s("./app/scripts/views/internal/templates.js"),{Analytics:c,tracingCallback:l}=s("./packages/atlassian-analytics/index.ts");class d extends a{static initClass(){this.prototype.viewTitleKey="background options",this.prototype.events={"click .js-delete-background":"deleteBackground","click .js-select-option":"selectOption"}}initialize(){return this.listenTo(this.model,"change",this.render)}render(){const e=this.model.toJSON();e.tile=this.model.get("tile");const t=this.model.get("brightness");return e.brightnessLight="light"===t,e.brightnessDark="dark"===t,this.$el.html(o.fill(s("./app/scripts/views/templates/board_background_options.js"),e)),this}selectOption(e){const t=i(e.target).closest(".js-select-option"),s=c.startTask({taskName:"edit-member",subTask:"customBoardBackgrounds",source:"boardMenuDrawerBackgroundScreen"}),r={traceId:s};if(null!=t.attr("data-board-brightness"))r.brightness=t.attr("data-board-brightness");else if(null!=t.attr("data-background-display-type")){const e=t.attr("data-background-display-type");r.tile="tile"===e}this.model.update(r,l({taskName:"edit-member",subTask:"customBoardBackgrounds",source:"boardMenuDrawerBackgroundScreen",traceId:s},((e,t)=>{t&&c.sendTrackEvent({action:"changed",actionSubject:"background",source:"boardMenuDrawerBackgroundScreen",containers:{board:{id:this.model.id}},attributes:{taskId:s,brightness:r.brightness,tile:r.tile}})})))}deleteBackground(e){return n.stop(e),r.pushView("delete background",{elem:i(e.target).closest(".js-delete-background"),model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>{const t=c.startTask({taskName:"delete-attachment",subTask:"boardBackground",source:"boardMenuDrawerBackgroundScreen"});this.model.destroyWithTracing({traceId:t},l({taskName:"delete-attachment",subTask:"boardBackground",source:"boardMenuDrawerBackgroundScreen",traceId:t},((e,s)=>{s&&c.sendTrackEvent({action:"deleted",actionSubject:"background",source:"boardMenuDrawerBackgroundScreen",containers:{board:{id:this.model.id}},attributes:{backgroundType:"custom",taskId:t}})}))),this.remove()}})}}d.initClass(),e.exports=d},"./app/scripts/views/board-menu/search-input-view.js":function(e,t,s){const{getKey:i,Key:r}=s("./packages/keybindings/index.ts"),n=s("./app/scripts/views/internal/view.js"),a=s("./app/scripts/views/templates/board_sidebar_search_input.js");class o extends n{static initClass(){this.prototype.className="board-menu-content-frame",this.prototype.events={"keyup .js-input":"keyUpEvent","keydown .js-input":"keyDownEvent","click .js-search-clear-title":"clearAndFocusInput","click .js-search-open-card-filter":"showCardFilter"}}initialize(){return this.listenTo(this.model,"change",this.renderInputIcon)}render(){return this.$el.html(a.renderInputRow({title:this.model.get("title"),showFilterButton:null!=(null!=this.options?this.options.showCardFilter:void 0)})),this.renderInputIcon(),this}renderInputIcon(){return this.$(".js-input-search-icon").html(a.renderInputIcon({title:this.model.get("title")}))}keyUpEvent(e){const t=i(e);if(![r.Escape,r.Enter,r.ArrowUp,r.ArrowDown].includes(t))return this.model.save({title:this.$(".js-input").val(),limitMembers:!0,limitLabels:!0})}keyDownEvent(e){if(i(e)===r.Enter)return this.showCardFilter()}clearAndFocusInput(){return this.model.save({title:""}),this.$(".js-input").val("").focus()}showCardFilter(){return e=this.options,t="showCardFilter",s=e=>e.showCardFilter(),null!=e&&"function"==typeof e[t]?s(e,t):void 0;var e,t,s}}o.initClass(),e.exports=o},"./app/scripts/views/board-menu/select-custom-background-view.js":function(e,t,s){const i=s("./app/scripts/views/board-menu/custom-background-options-view.js"),r=s("./app/scripts/views/lib/pop-over.js"),n=s("./app/scripts/lib/util/index.js"),{Analytics:a}=s("./packages/atlassian-analytics/index.ts"),o=s("./app/scripts/views/internal/templates.js"),c=s("./node_modules/underscore/underscore.js"),l=s("./app/scripts/views/internal/view.js");class d extends l{static initClass(){this.prototype.className="board-background-select js-select-background",this.prototype.events={"click .js-options":"openOptions",click:"selectBackground"}}initialize(){return this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"change:error",this.render)}render(){const e=this.model.toJSON();if(e.pending=null==this.getId()&&null==e.error,null==e.color){var t;let s;e.backgroundImageThumbnail=null!=(s=null===(t=n.previewBetween(this.model.get("scaled"),90,60,600,400))||void 0===t?void 0:t.url)?s:this.model.get("fullSizeUrl")}return this.$el.html(o.fill(s("./app/scripts/views/templates/board_background_selection.js"),e)),this.$el.toggleClass("is-still-uploading-background",e.pending),this}openOptions(e){return n.stop(e),a.sendClickedLinkEvent({linkName:"backgroundOptionsLink",source:"boardMenuDrawerBackgroundScreen"}),r.toggle({elem:this.$(".js-options"),view:new i({model:this.model,modelCache:this.modelCache})})}getId(){return this.model.id}selectBackground(e){let t,s;if(n.stop(e),null==this.getId())return;const i=a.startTask({taskName:"edit-board",subTask:"prefs/background",source:"boardMenuDrawerBackgroundScreen"}),{board:r}=this.options;c.extend(r.attributes.prefs,{backgroundColor:this.model.get("color"),backgroundImage:this.model.get("fullSizeUrl"),backgroundImageScaled:this.model.get("scaled"),backgroundTile:null!=(t=this.model.get("tile"))&&t,backgroundBrightness:null!=(s=this.model.get("brightness"))?s:"unknown"}),r.setPrefWithTracing("background",this.getId(),{taskName:"edit-board",subTask:"prefs/background",source:"boardMenuDrawerBackgroundScreen",traceId:i,next:(e,t)=>{var s;t&&a.sendUpdatedBoardFieldEvent({field:"background",value:this.getId(),source:"boardMenuDrawerBackgroundScreen",containers:{board:{id:r.id},organization:{id:null===(s=r.getOrganization())||void 0===s?void 0:s.id}},attributes:{backgroundType:"custom"}})}})}}d.initClass(),e.exports=d},"./app/scripts/views/board-menu/sticker-picker-view.js":function(e,t,s){let i=s("./node_modules/underscore/underscore.js");const r=s("./packages/jquery/index.js"),n=s("./app/scripts/views/lib/alerts.js"),{Analytics:a,tracingCallback:o}=s("./packages/atlassian-analytics/index.ts"),c=s("./app/scripts/db/auth.js"),l=s("./app/scripts/views/stickers/custom-sticker-selection-view.js"),d=s("./app/scripts/views/lib/drag-sort.js"),p=s("./app/scripts/db/model-loader.js"),u=s("./node_modules/bluebird/js/browser/bluebird.js"),{Sticker:m}=s("./app/scripts/models/Sticker.ts"),h=s("./app/scripts/data/stickers.js"),g=s("./app/scripts/views/stickers/sticker-selection-view.js"),b=s("./app/scripts/lib/util/index.js"),f=s("./app/scripts/views/internal/view.js");i=s("./node_modules/underscore/underscore.js");const v=s("./app/scripts/views/internal/templates.js"),k=s("./app/scripts/lib/localize.js"),{dontUpsell:w}=s("./packages/browser/index.ts"),y=s("./app/scripts/views/templates/product_promo_disable_overlay.js"),j=s("./app/scripts/views/templates/sticker_select.js"),{getGiphyApi:x,giphyStickersToTrelloStickers:C,mapTrelloLocaleToGiphyLocale:S}=s("./packages/giphy/index.ts"),{getKey:_,Key:T}=s("./packages/keybindings/index.ts"),E=s("./app/scripts/view-models/member-state.js"),P=s("./packages/locale/index.ts"),{isChrome:O}=s("./packages/browser/index.ts");class A extends f{static initClass(){this.prototype.viewTitleKey="stickers",this.prototype.viewIcon="sticker",this.prototype.className="board-menu-content-frame",this.prototype.events={"keyup .js-search-stickers":"onQueryChange","change .js-upload-image":"setUploadImage","change .js-use-animated-stickers":"onAnimationPreferenceChange"}}initialize(){let e;this.me=c.me();const t=null!=(e=this.model.getOrganization())?e:null;return(this.me.hasPremiumFeature("additionalStickers")||null!=t&&t.hasPremiumFeature("additionalStickers"))&&p.loadMemberCustomStickers(this.me.id).done(),this.listenTo(this.me.customStickerList,"change add remove reset",this.renderCustomStickers),this.searchForStickerDebounced=i.debounce(this.searchForSticker,1e3)}render(){let e;this.$el.empty();const t=null!=(e=this.model.getOrganization())?e:null,s=this.model.toJSON();return s.additionalStickersEnabled=this.me.hasPremiumFeature("additionalStickers")||(null==t?void 0:t.hasPremiumFeature("additionalStickers"))||!1,s.upsellEnabled=!w(),s.useAnimatedStickers=E.getUseAnimatedStickers(),this.$el.html(j(s)),this.renderStandardStickers(),this.renderPremiumStickers(),this.renderCustomStickers(),this.defer((()=>d.refreshDraggableStickers())),this}_getStickers(e){const{premium:t}=h[e];return h[e].stickers.map((e=>new m(i.extend({premium:t},e),{modelCache:this.modelCache})))}_loadStickers(e){const t="sticker-list-loading";e.addClass(t);const s=e.find(".sticker-select-image").get().map((function(e){const t=r(e);return new u((function(e){return t.load(e),t.error(e)}))}));return u.all(s).then((()=>e.removeClass(t))).done()}renderStandardStickers(){const e=this.$(".js-standard-sticker-list"),t=this._getStickers("standard").map((e=>this.subview(g,e)));return this.appendSubviews(t,e),this._loadStickers(e),this}renderPremiumStickers(){let e;const t=null!=(e=this.model.getOrganization())?e:null,i=this.$(".js-premium-stickers"),n=this.me.hasPremiumFeature("additionalStickers")||(null==t?void 0:t.hasPremiumFeature("additionalStickers"))||!1;for(const e in h){const{premium:a}=h[e];if(a){const a=r(v.fill(s("./app/scripts/views/templates/sticker_pack_selection_list.js"),{displayName:k(["sticker packs",e])})),o=a.filter(".js-sticker-list"),c=this._getStickers(e).map((e=>this.subview(g,e,{org:t})));this.appendSubviews(c,o),this._loadStickers(o),i.append(a),n||o.append(y())}}return this}renderCustomStickers(){let e;const t=null!=(e=this.model.getOrganization())?e:null,i=this.$(".js-custom-sticker-list");i.children().detach();if(this.me.hasPremiumFeature("customStickers")||(null==t?void 0:t.hasPremiumFeature("customStickers"))||!1){const e=this.me.customStickerList.map((e=>this.subview(l,e,{org:t})));this.appendSubviews(e,i)}else i.append(y());return i.append(v.fill(s("./app/scripts/views/templates/sticker_select_item_upload.js"),{id:this.me.id})),this.defer((()=>d.refreshDraggableStickers())),this}setUploadImage(e){b.stop(e);const t=this.$(".js-upload-image");if(null==t.prop("files")&&t.val())return void b.uploadFile(c.myToken(),t,(function(){}));const{files:s}=t[0];s.length>0&&this.uploadStickers(s)}uploadStickers(e){i.each(e,(e=>{var t,s;const i=a.startTask({taskName:"create-attachment",subTask:"sticker",source:"boardMenuDrawerStickersScreen"}),r=new FileReader;if(!b.validFileSize(e))return a.taskAborted({taskName:"create-attachment",subTask:"sticker",traceId:i,source:"boardMenuDrawerStickersScreen",error:new Error("file too large"),attributes:{fileSize:e.size,fileType:e.type}}),void n.flash("file too large","error");const l=new FormData;l.append("token",c.myToken()),l.append("file",e);const d=null===(t=this.model)||void 0===t||null===(s=t.getOrganization())||void 0===s?void 0:s.id;return d&&l.append("idOrganization",d),r.onload=e=>{const t=e.target.result;return this.me.customStickerList.createWithTracing({url:t},{data:l,processData:!1,contentType:!1,traceId:i,error:e=>(e.set("error","Failed"),this.setTimeout((()=>e.destroy()),5e3))},o({taskName:"create-attachment",subTask:"sticker",traceId:i,source:"boardMenuDrawerStickersScreen",attributes:{fileSize:e.size,fileType:e.type}},((t,s)=>{const r=this.model;var n,o;s&&r&&a.sendTrackEvent({action:"uploaded",actionSubject:"stickerAttachment",source:"boardMenuDrawerStickersScreen",attributes:{taskId:i,fileSize:e.size,fileType:e.type},containers:{board:{id:r.id},organization:{id:null===(n=r.getOrganization())||void 0===n?void 0:n.id},enterprise:{id:null===(o=r.getEnterprise())||void 0===o?void 0:o.id}}})})))},r.readAsDataURL(e)}))}onAnimationPreferenceChange(e){return b.stop(e),E.setUseAnimatedStickers(e.target.checked)}onQueryChange(e){b.stop(e);const t=_(e);if([T.Enter,T.Escape].includes(t))return;const s=e.target.value;if(this.currentQuery!==s&&this.showSearchSpinner(),this.currentQuery=s,null!=s?s.length:void 0)return this.searchForStickerDebounced(s);this.showStaticStickers()}searchForSticker(e){if(null!=e?e.length:void 0)return x().search(e,{limit:48,rating:"g",lang:S(P.currentLocale),type:"stickers"}).then((t=>{if(e===this.currentQuery){const e=C(t.data,O());return this.renderStickerSearchResults(e)}})).catch((()=>this.renderStickerSearchResults([])))}renderStickerSearchResults(e){let t;this.$(".js-giphy-stickers-no-results").toggleClass("hide",0!==e.length);const s=null!=(t=this.model.getOrganization())?t:null,r=e.map((e=>{const t=new m(i.extend({isGiphySticker:!0,image:e.url},e),{modelCache:this.modelCache});return this.subview(g,t,{org:s})}));return this.ensureSubviews(r,this.$(".js-search-sticker-list")),this.showSearchResults(),this.defer((()=>d.refreshDraggableStickers())),this}showSearchSpinner(){return this.hideStaticStickers(),this.hideSearchResults(),this.$(".js-search-spinner").removeClass("hide")}showStaticStickers(){return this.hideSearchSpinner(),this.hideSearchResults(),this.$(".js-static-stickers").removeClass("hide")}showSearchResults(){return this.hideSearchSpinner(),this.hideStaticStickers(),this.$(".js-giphy-stickers").removeClass("hide")}hideStaticStickers(){return this.$(".js-static-stickers").addClass("hide")}hideSearchSpinner(){return this.$(".js-search-spinner").addClass("hide")}hideSearchResults(){return this.$(".js-giphy-stickers").addClass("hide")}}A.initClass(),e.exports=A},"./app/scripts/views/board/convert-board-template-view.js":function(e,t,s){const i=s("./app/scripts/views/lib/alerts.js"),{Analytics:r}=s("./packages/atlassian-analytics/index.ts"),n=s("./app/scripts/lib/util/index.js"),a=s("./app/scripts/views/internal/view.js"),o=s("./app/scripts/views/internal/templates.js");class c extends a{static initClass(){this.prototype.viewTitleKey="make template",this.prototype.events={"submit form":"convertToTemplate"}}render(){return this.$el.html(o.fill(s("./app/scripts/views/templates/board_convert_template.js"))),this}convertToTemplate(e){n.stop(e),this.$(".js-convert").prop("disabled"),i.show("converting","info","templates",1e3);const t=r.startTask({taskName:"edit-board",subTask:"prefs/isTemplate",source:"boardMenuDrawerMoreScreen"});this.model.setPrefWithTracing("isTemplate",!0,{taskName:"edit-board",subTask:"prefs/isTemplate",source:"boardMenuDrawerMoreScreen",traceId:t,next:(e,t)=>{var s,i;t&&r.sendUpdatedBoardFieldEvent({field:"prefs/isTemplate",source:"boardMenuDrawerMoreScreen",containers:{board:{id:this.model.id},organization:{id:null===(s=this.model)||void 0===s||null===(i=s.getOrganization())||void 0===i?void 0:i.id}}})}}).save()}}c.initClass(),e.exports=c},"./app/scripts/views/board/share-popover-view.js":function(e,t,s){const i=s("./app/scripts/views/lib/pop-over.js"),r=s("./app/scripts/lib/util/index.js"),n=s("./app/scripts/views/internal/view.js"),a=s("./app/scripts/views/templates/popover_share.js"),{Noun:o,Verb:c,track:l,trackUe:d}=s("./packages/analytics/index.ts"),{dontUpsell:p}=s("./packages/browser/index.ts"),u=s("./app/scripts/controller/index.js"),m=s("./app/scripts/db/auth.js"),h=s("./node_modules/react/index.js"),g=s("./packages/react-dom-wrapper/index.ts"),{renderComponent:b,ComponentWrapper:f}=s("./app/src/components/ComponentWrapper/index.ts"),{print:v}=s("./packages/browser-compatibility/index.ts"),{BusinessClassIcon:k}=s("./packages/nachos/icons/business-class.tsx"),{DownloadIcon:w}=s("./packages/nachos/icons/download.tsx"),{UpgradePromptPill:y}=s("./app/src/components/UpgradePrompts/UpgradePromptPill.tsx"),{UpgradePromptFull:j}=s("./app/src/components/UpgradePrompts/UpgradePromptFull.tsx"),{UpgradeSmartComponent:x}=s("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx"),{PlanSelectionOverlay:C}=s("./app/src/components/FreeTrial/index.ts"),{renderUpgradePrompt:S}=s("./app/src/components/UpgradePrompts/renderUpgradePrompt.ts"),_=s("./app/scripts/lib/localize.js"),{Analytics:T}=s("./packages/atlassian-analytics/index.ts"),{featureFlagClient:E}=s("./packages/feature-flag-client/index.ts"),{ExportPopoverContent:P}=s("./app/src/components/ExportPopoverContent/index.ts"),{UpgradePromptTestIds:O}=s("./packages/test-ids/index.ts"),A=s("./node_modules/underscore/underscore.js"),{clientVersion:B}=s("./packages/config/index.ts");let D;class N extends n{static initClass(){this.prototype.viewTitleKey="print and export",D=E.get("fv.export-service-export-board",!1),this.prototype.events={"click .js-print":"printModel","click .js-export-json":"exportJSON","click .js-export":"renderExportPopover","click .js-export-csv":"exportCSV"}}constructor(e){super(e),this.upgradePromptPill=this.upgradePromptPill.bind(this),this.debouncedTracedExport=A.debounce(this.tracedExportCSV,2500,!0)}remove(){return"function"==typeof this.unmountPill&&this.unmountPill(),super.remove(...arguments)}render(){const e=this.model.getOrganization(),t=this.model.toJSON();t.hasCsvExport=!1,t.hasOrganization=this.model.hasOrganization(),t.upgradeUrl=u.getUpgradeUrl(this.model),t.isAdDismissed=m.me().isAdDismissed("share-popover"),null!=e&&(null!=e?e.isFeatureEnabled("csvExport"):void 0)&&(t.hasCsvExport=!0,t.csvURL="/b/".concat(this.model.get("shortLink"),".csv")),(null!=e?e.isPremium():void 0)&&!(null!=e?e.isFeatureEnabled("csvExport"):void 0)&&(t.needsUpgradeForCsv=!0),t.jsonURL="/b/".concat(this.model.get("shortLink"),".json"),t.upsellEnabled=!p(),t.featureFlag=D,this.$el.html(a(t));const s=e&&!e.isPremium(),i=this.getBillingUrl(e),r=null!=e?e.id:void 0;if(!t.isAdDismissed&&s&&!t.hasCsvExport&&t.upsellEnabled){const e=this.$(".print-and-export-upgrade-prompt-wrapper")[0];b(this.adContainer(r,i,e),e)}return E.get("dataeng.gasv3-event-tracking",!1)&&T.sendScreenEvent({name:"printAndExportBoardInlineDialog",containers:{board:{id:this.model.id}}}),this.upgradePromptPill(i,r),this}getBillingUrl(e){return e?u.getOrganizationBillingUrl(e):"/business-class"}renderExportPopover(){return i.pushView({getViewTitle:()=>_(["view title","export board"]),reactElement:h.createElement(f,{key:"exportPopover"},h.createElement(P,{idBoard:this.model.id}))})}adContainer(e,t,s){return h.createElement(h.Fragment,null,h.createElement("hr",null),this.upgradePrompt(e,t,s))}upgradePromptPill(e,t){const s=this.$("#js-export-csv-pill-update-prompt")[0];return this.unmountPill=S(h.createElement(y,{cta:_(["upgrade prompt","upgrade"]),ctaOnClick:()=>{d({category:o.BOARD_MENU,verb:c.OPENS,directObj:o.TEAM_PAGE_BC_TAB,method:"by clicking pill upgrade prompt in the board menu export page"});const e=document.createElement("span");return s.appendChild(e),b(h.createElement(C,{orgId:t,onContinue:()=>window.location.assign("/business-class"),onClose:()=>(g.unmountComponentAtNode(e),e.remove())}),e,{boardModel:this.model})},icon:h.createElement(k,null),isDismissable:!1}),s,{boardModel:this.model})}upgradePrompt(e,t,s){if(E.get("btg.upgrade-prompt-audit",!1))return h.createElement(x,{orgId:e,promptId:"moreMenuShareInlineDialogPromptFull"});const i={content:_(["upgrade prompt","board menu","print and export","content-2"]),headline:_(["upgrade prompt","board menu","print and export","headline-2"]),cta:_(["upgrade prompt","learn more"]),ctaLink:t,orgId:e,testId:O.PrintAndExportUpgradePrompt,source:"moreMenuShareInlineDialog",ctaOnClick:()=>d({category:o.BOARD_MENU,verb:c.OPENS,directObj:o.BC_MODAL,method:"by clicking full upgrade prompt in the board menu export page"}),icon:h.createElement(w,null),isDismissable:!0,onDismiss:()=>(g.unmountComponentAtNode(s),m.me().dismissAd("share-popover"))};return h.createElement(j,i)}printModel(e){r.stop(e),l("Board Menu","Print and Export Menu","Print"),i.hide(),this.defer((()=>v()))}exportJSON(e){return l("Board Menu","Print and Export Menu","Export JSON")}export(e){return l("Board Menu","Print and Export Menu","Export")}fetchCSVData(e,t){return fetch(e,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json","X-Trello-Client-Version":B,"X-Trello-TraceId":t,"X-Trello-Task":"create-export/board"}})}async tracedExportCSV(e){const t=T.startTask({taskName:"create-export",subTask:"board",source:"printAndExportBoardInlineDialog"});try{var s;const i=null==e||null===(s=e.target)||void 0===s?void 0:s.href,n=await this.fetchCSVData(i,t);if(!n.ok)return void T.taskFailed({taskName:"create-export",subTask:"board",traceId:t,source:"printAndExportBoardInlineDialog",error:new Error("".concat(n.statusText,": Failed to fetch CSV export'"))});const a=await n.blob(),o=this.model.get("shortLink"),c=r.makeSlug(this.model.get("name")),l="".concat(o," - ").concat(c,".csv"),d=document.createElement("a");d.download=l,d.href=window.URL.createObjectURL(a),document.body.appendChild(d),d.click(),document.body.removeChild(d),T.taskSucceeded({taskName:"create-export",subTask:"board",traceId:t,source:"printAndExportBoardInlineDialog"})}catch(e){throw T.taskFailed({taskName:"create-export",subTask:"board",traceId:t,source:"printAndExportBoardInlineDialog",error:e})}}exportCSV(e){return E.get("dataeng.vitalstats-create-export",!1)&&(r.stop(e),this.debouncedTracedExport(e)),l("Board Menu","Print and Export Menu","Export CSV")}}N.initClass(),e.exports=N},"./app/scripts/views/card/formatting-help-view.js":function(e,t,s){const i=s("./app/scripts/views/internal/view.js"),r=s("./app/scripts/views/internal/templates.js");class n extends i{static initClass(){this.prototype.viewTitleKey="formatting help"}render(){return this.$el.html(r.fill(s("./app/scripts/views/templates/formatting_help.js"))),this}}n.initClass(),e.exports=n},"./app/scripts/views/description/description-view.js":function(e,t,s){const i=s("./node_modules/underscore/underscore.js"),r=s("./app/scripts/db/auth.js"),n=s("./app/scripts/views/internal/autocomplete/auto-insertion-view.js"),a=s("./app/scripts/views/internal/autocomplete/completer-util.js"),o=s("./app/scripts/views/internal/editable-view.js"),c=s("./app/scripts/views/card/formatting-help-view.js"),l=s("./app/scripts/views/lib/layout.js"),d=s("./app/scripts/views/lib/pop-over.js"),p=s("./app/scripts/lib/markdown/tfm.js"),u=s("./app/scripts/lib/util/index.js"),m=s("./app/scripts/views/internal/friendly-links.js"),h=s("./app/scripts/lib/localize.js"),{Analytics:g}=s("./packages/atlassian-analytics/index.ts"),b=s("./app/scripts/views/templates/description.js"),{getKey:f,Key:v,isForceSubmitEvent:k}=s("./packages/keybindings/index.ts"),{applyMarkdownShortcuts:w}=s("./app/scripts/views/lib/markdown-transform.ts"),{markdownTracker:y}=s("./app/scripts/lib/util/markdown-tracker.ts");class j extends o{static initClass(){this.prototype.events={"click .js-format-help":"openFormatHelp","click .js-edit-desc":"editDesc","click .js-edit-desc-button"(){return g.sendClickedButtonEvent({buttonName:"editDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}})},"keydown .field"(e){if(k(e)&&(this.recordCardAction(),this._discardDraft("desc")),w(e),f(e)===v.Escape)return u.stop(e),d.isVisible?void d.hide():(this.saveDrafts(),this.$(".js-description-draft").val(this.model.get("desc")),g.sendPressedShortcutEvent({shortcutName:"escapeShortcut",keyValue:"esc",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}},attributes:{whileEditingDescription:!0}}),void this.render())},"keyup .field"(e){return f(e)===v.Escape&&u.stop(e),this.keyAutoMention(e)},"click .js-cancel-edit"(e){return g.sendClickedButtonEvent({buttonName:"cancelEditDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}),this.cancelEditDesc(e,"by clicking on cancel button")},"click .js-desc-content.is-hide-full"(){return g.sendClickedButtonEvent({buttonName:"showFullDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}),this.showFullDescription()}}}initialize({board:e,card:t,maxDescLength:s,placeholderKey:i,source:r}){return this.board=e,this.card=t,this.maxDescLength=s,this.placeholderKey=i,this.source=r,super.initialize(...arguments),this.hideFullDescription=x(this.model.get("desc"),(e=>e.length))>this.maxDescLength,this.descType="".concat(this.model.typeName.toLowerCase()," description"),this.makeDebouncedMethods("render"),this.listenTo(l,this.getAutosaveEvent(),this.onAutosaveEdit),this.listenTo(this.model,"change:desc",this.renderDebounced)}render(){var e,t;const s={};s.editable=this.model.editable(),s.isCardDesc="Card"===this.model.typeName,s.placeholderKey=this.placeholderKey,s.isTemplate=s.isCardDesc?this.model.isOnBoardTemplate():this.model.isTemplate(),this.$el.html(b(s));const i=this.model.get("desc"),r=p.description.format(null!=i?i:"",{textData:this.model.get("descData")}).output,n=this.$(".js-desc");n.empty().append(r).data("unmarkeddown",i),n.find("p").attr("dir","auto"),m(n[0],this.board,{publicLinksVariation:"beta",analyticsContext:{source:this.source,containers:null===(e=this.model)||void 0===e||null===(t=e.getAnalyticsContainers)||void 0===t?void 0:t.call(e),attributes:{fromSection:"description"}}});const a=!/^\s*$/.test(r);this.$(".js-show-with-desc").toggleClass("hide",!a),this.$(".js-hide-with-desc").toggleClass("hide",a);const o=x(this.$(".js-description-draft").val(),(e=>e.length))>0;return this.$(".js-description-draft").addClass(this.descType.split(" ").join("-")),this.$(".js-hide-with-draft").toggleClass("hide",o),this.$(".js-desc-content").toggleClass("is-hide-full",this.hideFullDescription),this.renderFormattingButton(),this.recallDrafts(),this}showFullDescription(){this.hideFullDescription=!1,this.$(".js-desc-content").removeClass("is-hide-full")}editDesc(e){u.stop(e),this.showFullDescription(),this.edit("desc")}cancelEditDesc(e,t){const s=t.includes("escape key");return g.sendTrackEvent({action:"cancelled",actionSubject:"descriptionEdit",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}},attributes:{method:s?"escapeKey":"cancelEditDescriptionButton"}}),this.clearEdits(e)}expandDesc(e){u.stop(e),this.showFullDescription(),this.edit("desc",!1)}renderFormattingButton(){const e=h(["view title","formatting help"]),t="board description"===this.descType&&e.length>20;return this.$(".description-edit").toggleClass("long",t),this.$(".description-edit .helper").toggleClass("long",t)}openFormatHelp(e){return g.sendClickedButtonEvent({buttonName:"formattingHelpDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}),d.toggle({elem:this.$(".js-format-help"),view:c,options:{model:this.model,modelCache:this.modelCache},keepEdits:!0}),!1}getAutosaveEvent(){return"autosave".concat(this.model.typeName,"Description")}onAutosaveEdit(e){return this.hideFullDescription=!1,this.commitEdits(null,e)}commitEdits(){if(this.$(".description-title .editing").length)return r.me().editing({idBoard:this.board.id}),this.$(".description-title .editing").removeClass("editing"),!this.card&&this.board?g.sendUpdatedBoardFieldEvent({field:"description",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}):this.recordCardAction(),this._discardDraft("desc"),super.commitEdits(...arguments)}recordCardAction(){if("Card"!==this.model.typeName)return;const e=this.$(".js-description-draft").val(),t=this.model.get("desc");t!==e&&this.model.recordAction({type:"update-description",description:e,previousDescription:t}),y(e,"description")}getTextInput(){const e=this.$(".js-description-draft:visible");if(e.length)return e}getMentionTarget(){const e=this.$(".js-description-draft:visible");if(e.length)return e[0]}getEmojiTarget(){const e=this.$(".js-description-draft:visible");if(e.length)return e[0]}}function x(e,t){return null!=e?t(e):void 0}j.initClass(),i.extend(j.prototype,n,a),e.exports=j},"./app/scripts/views/internal/editable-view.js":function(e,t,s){function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function r(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const a=s("./packages/jquery/index.js"),{Analytics:o}=s("./packages/atlassian-analytics/index.ts"),c=s("./app/scripts/views/internal/autocomplete/auto-mentioner-view.js"),l=s("./app/scripts/models/board.js"),d=s("./app/scripts/models/card.js"),p=s("./app/scripts/views/lib/drag-sort.js"),u=s("./app/scripts/views/templates/edit_controls.js"),m=s("./app/scripts/views/internal/autocomplete/emoji-completer-view.js"),h=s("./app/scripts/lib/util/selection/has-selection-in.js"),{getKey:g,isForceSubmitEvent:b,Key:f}=s("./packages/keybindings/index.ts"),v=s("./app/scripts/views/lib/layout.js"),k=s("./app/scripts/views/lib/pop-over.js"),{TrelloStorage:w}=s("./packages/storage/index.ts"),y=s("./app/scripts/lib/util/index.js"),j=s("./app/scripts/views/internal/view.js"),x=s("./node_modules/underscore/underscore.js"),C=s("./app/scripts/debug/log.js"),{track:S,trackUe:_}=s("./packages/analytics/index.ts"),T=s("./app/scripts/lib/localize.js"),{asNumber:E}=s("./packages/i18n/formatters.ts");class P extends j{static initClass(){this.prototype.allowNewlines=!0}initialize(){return super.initialize(...arguments),a(window).on("beforeunload.EditableView-".concat(this.model.cid),(()=>{this.saveDrafts("unload")}))}remove(){return this.saveDrafts("removing view"),a(window).off(".EditableView-".concat(this.model.cid)),super.remove(...arguments)}_draftKey(e){return"draft_".concat(this.model.id,"_").concat(e)}_saveDraft(e,t){return w.set(this._draftKey(e),t)}_recallDraft(e){return w.get(this._draftKey(e))}_discardDraft(e){return w.unset(this._draftKey(e))}saveDrafts(e){return null!=this.model.id&&(()=>{const t=[];for(const s of Array.from(this.getEdits())){const i=s.attr("attr"),r=s.find(".field:first").val();0!==a.trim(r).length&&(this.model.get(i)!==r&&r!==this._recallDraft(i)?(e&&(S("Editable View","Save Draft","Save draft via ".concat(e)),_("Editable View","Save Draft","","","","when ".concat(e),"")),t.push(this._saveDraft(i,r))):t.push(void 0))}return t})()}editField(e){const t=a(e.target).closest("a");if(t.length>0&&"#"!==t.attr("href"))return;if(p.sorting)return;const s=a(e.target).closest(".editable");if(0===s.length)return;if(h(s))return;if(a(e.target).closest(".js-react-root").length)return;y.stop(e),k.hide();const i=s.attr("attr");return this.edit(i)}edit(e,t){let s;null==t&&(t=!0),e.indexOf(".")>-1&&(s=e.split("."),e=s[1]);const i=this.$("[attr=".concat(e,"]")),r=this.$(".js-no-higher-edits [attr=".concat(e,"]")),n=i.not(r);if(0===n.length)return;v.cancelEdits();const a=n.find(".edit:first");if(0===a.length)return;const o=n.find(".field:first");a.append(u()),n.addClass("editing"),""===o.val()&&o.val(y.traverse(this.model.attributes,null!=s?s:e)),this.waitForId(this.model,(()=>o.data("draftKey",this._draftKey(e)))),C("editable",this.model),t&&o.focus().select(),o.autosize({append:!1})}getEdits(){const e=this.$("[attr]"),t=this.$(".js-no-higher-edits [attr]");return e.not(t).map(((e,t)=>a(t)))}recallDrafts(){return this.getEdits().each(((e,t)=>{const s=t.attr("attr");if(null!=this.model.id){const e=this._recallDraft(s);if(null!=e){return t.find(".field:first").val(e),this.defer((()=>t.find(".edits-warning").show()))}}}))}stopEditing(e){return y.stop(e),v.cancelEdits(),!1}clearEdits(e){y.stop(e);const t=a(e.target).closest(".editable[attr]"),s=t.attr("attr");return null!=s&&this._discardDraft(s),t.find(".field").val(""),t.find(".edits-warning").hide(),t.find(".edits-error").hide(),t.removeClass("editing"),v.cancelEdits(),!1}validate(){let e;for(e of Array.from(this.$(".editing.non-empty .field")))if(/^\s*$/.test(a(e).val()))return!1;for(e of Array.from(this.$(".editing .field"))){let t;const s=(null!=(t=a(e).val())?t:"").length;if(s>16384)return a(".editing").find(".edits-error").text(T("text too long",{over:E(s-16384)})).show(),!1}return!0}keydownEvent(e){const t=g(e);v.isEditing()&&(k.view instanceof m||k.view instanceof c?"function"==typeof this.checkInsert&&this.checkInsert(e):b(e)||t===f.Enter&&(!a(e.target).is("textarea")||a(e.currentTarget).hasClass("single-line"))&&!e.shiftKey?(y.stop(e),this.commitEdits(e)):t!==f.Enter||this.allowNewlines||y.stop(e))}commitEdits(e,t=null){e&&y.stop(e);const s=t||a(e.target).closest(".editable.editing[attr]");if(s.find(".edits-error").hide(),!this.validate())return;const i=this,{model:n}=this;return s.remove("input[type=submit]"),s.removeClass("editing").each((function(){const e=a(this).attr("attr");let t=a(this).find(".field").val();if(i.allowNewlines||(t=t.replace(/[\r\n]+/g," ")),0===a.trim(t).length&&(t=""),n.get(e)===t)return i._discardDraft(e);{let a={subTask:"desc"};n instanceof d&&(a=r(r({},a),{},{taskName:"edit-card",source:"cardDetailScreen"})),n instanceof l&&(a=r(r({},a),{},{taskName:"edit-board",source:"boardMenuDrawerAboutScreen"}));const c=o.startTask(a),p={traceId:c};return p[e]=t,n.update(p,(function(p,u){null!=p?(s.find(".edits-error").text(p.message).show(),i._saveDraft(e,t),o.taskFailed(r(r({},a),{},{traceId:c,error:p}))):(i._discardDraft(e),n instanceof d&&o.sendUpdatedCardFieldEvent({field:"description",source:"cardDetailScreen",containers:{card:{id:u.id},board:{id:u.idBoard},list:{id:u.idList}},attributes:{taskId:c}}),n instanceof l&&o.sendUpdatedBoardFieldEvent({field:"description",source:"boardMenuDrawerAboutScreen",containers:{board:{id:u.id}},attributes:{taskId:c}}),o.taskSucceeded(r(r({},a),{},{traceId:c})))}))}})).find(".field").val(""),s.find(".edits-warning").hide(),!0}clickSetting(e){const t=a(e.target);if(t.hasClass("disabled")||t.closest(".js-disabled").length)return;const s=t.attr("href");if(s&&"#"!==s)return;const i=t.closest(".pref").attr("name");if(!i)return;let r=t.attr("value");r=(()=>{switch(r){case"true":return!0;case"false":return!1;default:return r}})(),this.model.setPref(i,r),this.model.save(),y.stop(e)}delegateEvents(e){const t={"click .current":"editField","click .js-cancel-edit":"clearEdits","click .js-discard-edits":"clearEdits","click .js-view-edits":"editField","click .js-save-edit":"commitEdits","keydown .field":"keydownEvent","click input":y.stopPropagation,"click textarea":y.stopPropagation};return null!=this.model.setPref&&(t["click a"]="clickSetting"),super.delegateEvents(x.extend(t,e||this.events))}}P.initClass(),e.exports=P},"./app/scripts/views/organization/add-tag-view.js":function(e,t,s){let i;const{Analytics:r,getScreenFromUrl:n,tracingCallback:a}=s("./packages/atlassian-analytics/index.ts"),o=s("./app/scripts/views/organization/set-tag-view.js"),c=s("./app/scripts/views/lib/pop-over.js"),{trackUe:l,Noun:d,Verb:p}=s("./packages/analytics/index.ts");e.exports=(i=class extends o{static initClass(){this.prototype.viewTitleKey="add tag"}onSubmit(e){if(e){const t=n(),s=r.startTask({taskName:"create-tag",source:t});this.model.tagList.createWithTracing({name:e},{wait:!0,traceId:s},a({taskName:"create-tag",traceId:s,source:t},((e,i)=>{const n=this.model;!e&&i&&n&&r.sendTrackEvent({action:"created",actionSubject:"collection",source:t,attributes:{taskId:s,isBCFeature:!0,requiredBC:!0},containers:{organization:{id:n.id}}})}))),c.popView(),l({category:d.BUSINESS_CLASS_FEATURE,verb:p.CREATES,directObj:d.COLLECTION,context:{organizationId:this.model.id,requiredBC:!0}})}}},i.initClass(),i=i)},"./app/scripts/views/organization/set-tag-view.js":function(e,t,s){const i=s("./app/scripts/lib/util/index.js"),r=s("./app/scripts/views/internal/view.js"),{track:n}=s("./packages/analytics/index.ts"),{Feature:a}=s("./app/scripts/debug/constants.ts"),{sendErrorEvent:o}=s("./packages/error-reporting/index.ts"),c=s("./app/scripts/views/internal/teacup-with-helpers.js")("org_filtering"),l=c.renderable((({name:e,isDeleteable:t})=>{c.form(".js-add-tag-form",(()=>{c.label((()=>{c.format("name"),c.input(".js-add-tag-name.js-autofocus",{type:"text",value:e})})),c.input(".nch-button.nch-button--primary",{type:"submit",value:c.l("save")}),t&&c.button(".nch-button.nch-button--danger.u-float-right.js-delete-tag",{type:"button"},(()=>c.format("delete")))}))}));e.exports=class extends r{events(){return{"submit .js-add-tag-form"(e){try{e.preventDefault(),this.options.boardView?n("Board Menu","Collections Menu","Save New Collection"):n("Team Page","Collections Menu","Save New Collection");const t=this.$(".js-add-tag-name").val().trim();this.onSubmit(t)}catch(e){o(e,{tags:{ownershipArea:"trello-remarkable",feature:a.Collections}})}},"click .js-delete-tag"(e){try{i.stop(e),this.onDelete()}catch(e){o(e,{tags:{ownershipArea:"trello-remarkable",feature:a.Collections}})}}}}getName(){return""}render(){return this.$el.html(l({name:this.getName(),isDeleteable:this.onDelete})),this}}},"./app/scripts/views/stickers/custom-sticker-selection-view.js":function(e,t,s){const i=s("./packages/jquery/index.js"),{Analytics:r,tracingCallback:n}=s("./packages/atlassian-analytics/index.ts"),a=s("./app/scripts/db/auth.js"),o=s("./app/scripts/views/lib/confirm.js"),c=s("./app/scripts/views/stickers/sticker-selection-view.js"),l=s("./app/scripts/lib/util/index.js");e.exports=function(){class e extends c{static initClass(){this.prototype.events={"click .js-delete-sticker":"deleteSticker"}}initialize(){return this.toggleSelectable(),this.waitForId(this.model,(()=>this.toggleSelectable())),this.listenTo(this.model,"change:error",this.render)}enabled(){var e,t;return a.me().hasPremiumFeature("customStickers")||(null===(e=this.options)||void 0===e||null===(t=e.org)||void 0===t?void 0:t.hasPremiumFeature("customStickers"))||!1}toggleSelectable(){const e=null!=this.model.id;return this.$el.toggleClass("js-draggable-sticker",e),this.$el.toggleClass("sticker-unselectable",!e)}deleteSticker(e){return l.stop(e),o.toggle("delete sticker",{elem:i(e.target).closest(".js-delete-sticker"),top:32,model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:()=>{const e=r.startTask({taskName:"delete-attachment",subTask:"sticker",source:"boardMenuDrawerStickersScreen"});return this.model.destroyWithTracing({traceId:e},n({taskName:"delete-attachment",subTask:"sticker",traceId:e,source:"boardMenuDrawerStickersScreen"},((t,s)=>{if(s){var i,n;const t=null===(i=this.options)||void 0===i?void 0:i.org;r.sendTrackEvent({action:"deleted",actionSubject:"stickerAttachment",source:"boardMenuDrawerStickersScreen",attributes:{taskId:e,stickerId:s.id},containers:{organization:{id:null==t?void 0:t.id},enterprise:{id:null==t||null===(n=t.getEnterprise())||void 0===n?void 0:n.id}}})}})))}})}}return e.initClass(),e}()},"./app/scripts/views/stickers/sticker-selection-view.js":function(e,t,s){const i=s("./app/scripts/db/auth.js"),r=s("./app/scripts/lib/util/index.js"),n=s("./app/scripts/views/internal/view.js"),a=s("./app/scripts/views/internal/templates.js"),o=s("./app/scripts/data/sticker-size.js"),c=s("./app/scripts/view-models/member-state.js");class l extends n{static initClass(){this.prototype.className="sticker-select js-draggable-sticker"}initialize(){return this.listenTo(c,{"change:useAnimatedStickers":this.render})}enabled(){var e,t;return!this.model.get("premium")||i.me().hasPremiumFeature("additionalStickers")||(null===(e=this.options)||void 0===e||null===(t=e.org)||void 0===t?void 0:t.hasPremiumFeature("additionalStickers"))||!1}render(){const e=this.model.toJSON();if(this.model.get("isGiphySticker")&&!c.getUseAnimatedStickers()){let t;e.url=null!=(t=d(r.smallestPreviewBiggerThan(e.stillscaled,o),(e=>e.url)))?t:e.stillUrl}else{let t;e.url=null!=(t=d(r.smallestPreviewBiggerThan(e.scaled,o),(e=>e.url)))?t:e.url}return e.pending=null==e.image&&null==e.id&&null==e.error,this.$el.toggleClass("disabled",!this.enabled()).toggleClass("giphy-sticker",!!this.model.get("isGiphySticker")).html(a.fill(s("./app/scripts/views/templates/sticker_select_item.js"),e)).data("sticker",this.model),this}}function d(e,t){return null!=e?t(e):void 0}l.initClass(),e.exports=l},"./app/scripts/views/templates/ArchivedCardOptions.js":function(e,t,s){"use strict";s.r(t),s.d(t,"ArchivedCardOptions",(function(){return o}));var i=s("./node_modules/react/index.js"),r=s.n(i),n=s("./packages/i18n/index.ts");const a=Object(n.forTemplate)("archived_card_options"),o=({editable:e,canReopen:t,canDelete:s,reOpenText:i})=>e&&(t||s)?r.a.createElement("p",{className:"quiet",style:{marginLeft:"8px"}},t?[r.a.createElement("a",{className:"js-reopen",href:"#",key:"open"},"".concat(i)),s?" - ":null]:null,s?r.a.createElement("a",{className:"js-delete",href:"#",key:"delete"},a("delete")):null):null},"./app/scripts/views/templates/ArchivedCards.js":function(e,t,s){"use strict";s.r(t),s.d(t,"ArchivedCards",(function(){return o}));var i=s("./node_modules/react/index.js"),r=s.n(i),n=s("./packages/i18n/index.ts");const a=Object(n.forTemplate)("archived_cards"),o=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"too-many-results-message helper js-search-message hide"}),r.a.createElement("div",{className:"js-archive-items"}),r.a.createElement("p",{className:"empty-list js-empty-message"}),r.a.createElement("a",{className:"show-more js-more-cards",href:"#"},a("load-more-cards")))},"./app/scripts/views/templates/ArchivedLists.js":function(e,t,s){"use strict";s.r(t),s.d(t,"ArchivedLists",(function(){return n}));var i=s("./node_modules/react/index.js"),r=s.n(i);const n=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"archive-list js-archive-items"}),r.a.createElement("p",{className:"js-empty-message empty-list"}))},"./app/scripts/views/templates/BoardArchive.js":function(e,t,s){"use strict";s.r(t),s.d(t,"BoardArchive",(function(){return o}));var i=s("./node_modules/react/index.js"),r=s.n(i),n=s("./packages/i18n/index.ts");const a=Object(n.forTemplate)("board_archive"),o=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"archive-controls"},r.a.createElement("div",{className:"archive-controls-search"},r.a.createElement("input",{className:"js-search js-autofocus",type:"text",placeholder:a("search archive")})),r.a.createElement("a",{className:"archive-controls-switch nch-button js-switch-section",href:"#"})),r.a.createElement("div",{className:"spinner loading js-loading-spinner"}),r.a.createElement("div",{className:"archive-content js-archive-content"}))},"./app/scripts/views/templates/archive_item.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("archive_item");e.exports=i.renderable((function({url:e,name:t,orgName:s,canReopen:r,reOpenText:n,reopenDisabled:a}){return i.div(".item-name",(function(){if(e?(i.a({href:e},(()=>i.text(t))),i.div(".quiet",(function(){}))):i.span((()=>i.text(t))),s)return i.div(".quiet",(()=>i.text(s)))})),i.div(".options",(function(){r&&i.a(".button-link.js-reopen".concat(a?".disabled":""),{href:"#"},(function(){return i.icon("refresh"),i.text(" "),i.text(n)}))}))}))},"./app/scripts/views/templates/board_background_options.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_background_options");e.exports=function(){return i.p(".u-font-weight-bold.quiet",(()=>i.format("display-type"))),i.ul(".pop-over-list",(function(){return i.li((()=>i.a(".js-select-option",{href:"#","data-background-display-type":"cover"},(()=>i.check(!i.mustacheVar("tile"),"cover"))))),i.li((()=>i.a(".js-select-option",{href:"#","data-background-display-type":"tile"},(()=>i.check(i.mustacheVar("tile"),"tile")))))})),i.hr(),i.p(".u-font-weight-bold.quiet",(()=>i.format("board-text"))),i.ul(".pop-over-list",(function(){return i.li((()=>i.a(".js-select-option",{href:"#","data-board-brightness":"dark"},(()=>i.check(i.mustacheVar("brightnessDark"),"light"))))),i.li((()=>i.a(".js-select-option",{href:"#","data-board-brightness":"light"},(()=>i.check(i.mustacheVar("brightnessLight"),"dark")))))})),i.hr(),i.a(".quiet-button.js-delete-background",{href:"#"},(()=>i.format("delete-background")))}},"./app/scripts/views/templates/board_background_selection.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_background_selection");e.exports=()=>i.span({class:"background-box ".concat(i.mustacheBlock("pending",(()=>"background-box-unselectable"))).concat(i.mustacheBlock("tile",(()=>" background-tile"))),style:" ".concat(i.mustacheBlock("backgroundImageThumbnail",(()=>'background-image: url("'.concat(i.mustacheVar("backgroundImageThumbnail"),'")'))),"; ").concat(i.mustacheBlock("color",(()=>"background-color: ".concat(i.mustacheVar("color"),";")))," ")},(function(){return i.mustacheBlock("attribution",(()=>i.a(".background-option.js-background-attribution",{href:i.mustacheVar("url"),target:"_blank",title:i.mustacheVar("url")},(function(){return i.img({src:s("./resources/images/cc.png"),style:"height: 14px; width: 14px; vertical-align: text-top;",title:i.mustacheVar("license")}),i.span(".text",{style:"margin-left: 2px;"},(()=>i.text(i.mustacheVar("name"))))})))),i.mustacheBlock("id",(()=>i.a(".background-option.js-options",(function(){return i.icon("overflow-menu-horizontal",{class:"light",style:"vertical-align: bottom;"}),i.span(".text",(()=>i.format("options")))})))),i.mustacheBlock("error",(()=>i.span(".background-info",(()=>i.span(".text",(()=>i.text(i.mustacheVar("error")))))))),i.mustacheBlock("pending",(()=>i.span(".background-info",(function(){return i.span(".spinner.small.u-float-left",{style:"margin-right: 4px;"}),i.span(".text",(()=>i.format("uploading-ellipsis")))}))))}))},"./app/scripts/views/templates/board_change_background.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_change_background"),{featureFlagClient:r}=s("./packages/feature-flag-client/index.ts");e.exports=i.renderable((function({enabled_customBoardBackgrounds:e,idMember:t,upsellEnabled:s}){if(i.div(".board-backgrounds-section-tiles.u-clearfix",(function(){return i.div(".board-backgrounds-section-tile.board-backgrounds-photos-tile.js-bg-photos",(function(){return i.div(".image"),i.div(".title",(()=>i.format("photos")))})),r.get("aaaa.web.board-bkgd-gradients",!1)?i.div(".board-backgrounds-section-tile.board-backgrounds-gradients-tile.js-bg-colors",(function(){return i.div(".image"),i.div(".title",(()=>(i.span(".gradients-new-lozenge.js-gradients-new-lozenge"),i.format("colors"))))})):i.div(".board-backgrounds-section-tile.board-backgrounds-colors-tile.js-bg-colors",(function(){return i.div(".image"),i.div(".title",(()=>i.format("colors")))}))})),i.hr(".board-menu-header-divider"),e||s)return i.h2((()=>i.format("custom"))),i.div({class:"board-backgrounds-list u-relative u-clearfix js-custom-list".concat(e?"":" disabled")},(()=>i.div(".board-background-select.board-background-select-upload.js-uploader",(()=>i.form({action:"/1/member/".concat(t,"/customBoardBackgrounds"),method:"post",enctype:"multipart/form-data"},(function(){return i.input({type:"hidden",name:"token",value:""}),i.input({type:"hidden",name:"format",value:"http"}),i.span(".background-box",(()=>i.span(".icon-lg.icon-add"))),i.input(".upload-background.js-upload-image",{type:"file",name:"file",multiple:"multiple",accept:"image/*"})}))))))}))},"./app/scripts/views/templates/board_convert_template.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_copy");e.exports=()=>i.form((function(){return i.div(".board-menu-convert-to-template-container",(()=>i.img(".board-menu-convert-to-template",{src:s("./resources/images/template-create-popover-icon.svg"),alt:"",role:"presentation"}))),i.p((()=>i.format("make-template-text"))),i.input(".nch-button.nch-button--primary.wide.full.js-convert",{type:"submit",value:i.l("make-template")})}))},"./app/scripts/views/templates/board_menu_about_this_board.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_about_this_board"),r=i.renderable((function(e,t,s){if(e||t)return i.div(".about-this-board-actions-section",(function(){return i.h2(".small-caps",(()=>i.format(s))),i.ul(".pop-over-list.inset",(function(){if(e&&i.li((function(){return i.span(".icon-sm.icon-comment"),i.format("comment-on-cards")})),t)return i.li((function(){return i.span(".icon-sm.icon-vote"),i.format("vote-on-cards")}))}))}))}));e.exports=i.renderable((function({isLoggedIn:e,isAdmin:t,isNonAdminMember:s,canComment:n,canVote:a,commentHeader:o,votingHeader:c,permissionsHierarchy:l,isTemplate:d}){if(!d||s||t||(i.div(".js-search-input-view"),i.hr()),i.div(".about-this-board-section",(function(){return i.div(".window-module-title.window-module-title-no-divider",(function(){return i.span(".icon-member.icon-lg.window-module-title-icon"),i.h3(".u-inline-block",(()=>i.format("board-admins")))})),i.div(".js-made-by"),i.div(".about-this-board-multi-admin",(function(){return i.div(".js-made-by-facepile"),i.a(".admin-count.about-this-board-pile-button.pile.js-fill-board-admin-count",{href:"#"},(()=>i.span(".admin-count-notifications")))}))})),i.div(".js-view-copy-count"),i.div(".about-this-board-section.about-this-board-desc",(()=>i.div(".js-fill-atb-desc.about-this-board-description-content"))),!d&&!s&&(n||a))return i.div(".about-this-board-section",(function(){return i.hr(),t?("equal"===l?r(n,a,o):"comment"===l?(r(n,null,o),r(null,a,c)):(r(null,a,c),r(n,null,o)),i.a(".quiet-button.js-change-permissions",{href:"#"},(()=>i.span((()=>i.format("change-permissions")))))):r(n,a,"any-trello-user-can")}))}))},"./app/scripts/views/templates/board_menu_activity.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_activity");e.exports=function(){return i.div(".segmented-control",(()=>(i.a(".segmented-control-item.js-show-all.js-control-option",{href:"#"},(()=>i.format("all"))),i.a(".segmented-control-item.js-show-comments.js-control-option",{href:"#"},(()=>i.format("comments")))))),i.div(".phenom-list.js-list-activity"),i.a(".show-more.js-more-actions",{href:"#"},(()=>i.format("load-more-activity")))}},"./app/scripts/views/templates/board_menu_commenting.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_commenting");e.exports=function(){return i.li((()=>i.a(".js-select",{href:"#",name:"disabled"},(function(){return i.check(i.mustacheVar("comments_disabled"),"disabled"),i.span(".sub-name",(()=>i.format("no-one-is-allowed-to-comment")))})))),i.li((()=>i.a(".js-select",{href:"#",name:"members"},(function(){return i.check(i.mustacheVar("comments_members"),"members"),i.span(".sub-name",(()=>i.format("allow-admins-and-normal-members-to-comment")))})))),i.li((()=>i.a({href:"#",class:"js-select".concat(i.mustacheBlockInverted("comments_showObservers",(()=>" disabled"))),name:"observers"},(function(){return i.check(i.mustacheVar("comments_observers"),"members-and-observers"),i.span(".sub-name",(()=>i.format("allow-admins-normal-members-and-observers-to-comment")))})))),i.li((()=>i.a({href:"#",class:"js-select".concat(i.mustacheBlockInverted("orgCanSee",(()=>" disabled"))),name:"org"},(function(){return i.check(i.mustacheVar("comments_org"),"organization-members"),i.span(".sub-name",(()=>i.format("allow-admins-normal-members-observers-and-organization-members-to-comment")))})))),i.li((()=>i.a({href:"#",class:"js-select".concat(i.mustacheBlockInverted("permissionLevel_public",(()=>" disabled"))),name:"public"},(function(){return i.check(i.mustacheVar("comments_public"),"any-trello-user"),i.span(".sub-name",(()=>i.format("allow-any-trello-member-to-comment")))}))))}},"./app/scripts/views/templates/board_menu_default.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_default"),{featureFlagClient:r}=s("./packages/feature-flag-client/index.ts"),n=r.getTrackedVariation("board-header-filtering-experiment",!1),{getButlerKey:a,getButlerIconKey:o}=s("./app/src/components/Butler/getButlerName.ts"),c=i.renderable((({hasPaidOrgPowerUps:e,hasGoldPowerUps:t})=>i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-open-power-ups",{href:"#"},(function(){return i.icon("power-up","power-ups",{class:"board-menu-navigation-item-link-icon"}),i.raw("&nbsp;"),e?i.icon("business-class",{class:"mod-quiet"}):t&&i.icon("trello-gold",{class:"icon-trello-gold-color"}),i.span(".board-menu-navigation-item-link-count.js-enabled-power-up-count"),i.span(".board-menu-navigation-item-new.js-power-up-new",(()=>i.format("new"))),i.span(".board-menu-navigation-item-link-warning.js-power-up-disable-timer"),i.div(".board-menu-navigation-item-link-summary",(function(){return i.raw("&nbsp;"),i.format("power-ups-explanation")}))}))))));e.exports=i.renderable((function({hasPaidOrgPowerUps:e,hasGoldPowerUps:t,editable:s,showEnterpriseUpsell:r,isTemplate:l}){if(i.p(".error.js-file-too-large",{style:"margin: 12px 0 6px; display:none;"},(()=>i.format("file-too-large-10mb-limit"))),i.ul(".board-menu-navigation",(function(){if(i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-about-this-board",{href:"#"},(function(){return i.span(".board-menu-navigation-item-link-icon.icon-lg.icon-board"),i.raw("&nbsp;"),l?i.format("about-this-template"):i.format("about-this-board"),i.div(".board-menu-navigation-item-link-summary.board-menu-about-this-board-summary",(function(){return i.raw("&nbsp;"),l?i.format("add-a-description-to-your-template"):i.format("add-a-description-to-your-board")}))})))),s&&i.li(".board-menu-navigation-item.mod-background",(()=>i.a(".board-menu-navigation-item-link.js-change-background",{href:"#"},(function(){return i.span(".board-menu-navigation-item-link-icon.js-fill-background-preview"),i.raw("&nbsp;"),i.format("change-background")})))),n||i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-open-card-filter",{href:"#"},(()=>i.icon("search","search-cards",{class:"board-menu-navigation-item-link-icon"}))))),s&&i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-open-stickers",{href:"#"},(()=>i.icon("sticker","stickers",{class:"board-menu-navigation-item-link-icon"}))))),i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-open-more",{href:"#"},(()=>i.icon("overflow-menu-horizontal","more",{class:"board-menu-navigation-item-link-icon"}))))),s)return i.div(".js-butler-button.hide",(function(){return i.hr(),i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-open-butler",{href:"#"},(function(){return i.icon(o(),a(),{class:"board-menu-navigation-item-link-icon"}),i.div(".board-menu-navigation-item-link-summary",(function(){return i.raw("&nbsp;"),i.format("butler-description")}))}))))}))})),s&&(i.hr(),r&&i.div(".enterprise-up-sell.on-board",(function(){return i.div(".enterprise-up-sell-body",(()=>i.div(".enterprise-up-sell-copy",(function(){return i.h2(".enterprise-up-sell-header",(function(){return i.span(".icon-lg.icon-power-up"),i.format("ads-ent-title")})),i.div(".enterprise-up-sell-description",(()=>i.format("ads-ent-description")))})))),i.div(".enterprise-up-sell-footer",(()=>i.div(".enterprise-up-sell-actions",(function(){return i.button(".js-enterprise-upsell-dismiss",(()=>i.format("ads-ent-dismiss"))),i.button(".js-enterprise-upsell-learn-more.nch-button.nch-button--primary",(()=>i.format("ads-ent-learn-more")))}))))})),i.ul(".board-menu-navigation",(()=>c({hasPaidOrgPowerUps:e,hasGoldPowerUps:t}))),i.div(".js-power-up-slots-container")),!l)return i.hr(),i.a(".board-menu-section-header.js-open-activity",{href:"#"},(function(){return i.span(".board-menu-section-header-icon.icon-lg.icon-activity"),i.span(".board-menu-section-header-title",(()=>i.format("activity"))),i.span(".board-menu-section-header-count.js-unread-activity-count")})),i.div(".js-menu-action-list"),i.a(".show-more.js-fill-activity-button.js-open-activity",{href:"#"})}))},"./app/scripts/views/templates/board_menu_invitations.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_invitations");e.exports=function(){return i.li((()=>i.a(".js-select",{href:"#",name:"admins"},(function(){return i.check(i.mustacheVar("invitations_admins"),"admins"),i.span(".sub-name",(()=>i.format("allow-only-admins-to-add-and-remove-others")))})))),i.li((()=>i.a(".js-select",{href:"#",name:"members"},(function(){return i.check(i.mustacheVar("invitations_members"),"all-members"),i.span(".sub-name",(()=>i.format("allow-members-and-admins-to-add-and-remove-others")))}))))}},"./app/scripts/views/templates/board_menu_more.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_more");e.exports=i.renderable((function({shortUrl:e,editableByMember:t,isAdmin:s,isLoggedIn:r,canCloseOrLeave:n,canCloseBoard:a,canCopyBoard:o,canLeaveBoard:c,pLevelAltText:l,pLevelClass:d,helperText:p,showCollections:u,isTemplate:m,canBeTemplate:h,isOrgBcOrEnt:g,showTemplateUpgrade:b}){return i.ul(".board-menu-navigation",(function(){return i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-open-settings",{href:"#"},(()=>i.icon("gear","settings",{class:"board-menu-navigation-item-link-icon"}))))),i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-open-labels",{href:"#"},(()=>i.icon("label","labels",{class:"board-menu-navigation-item-link-icon"}))))),u&&(g?i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-open-collections",{href:"#"},(()=>i.icon("collection","collections",{class:"board-menu-navigation-item-link-icon"}))))):i.li(".board-menu-navigation-item.disabled",(function(){return i.span(".board-menu-navigation-item-link.",(function(){return i.icon("collection","collections",{class:"board-menu-navigation-item-link-icon"}),i.div(".board-menu-pill-upgrade.js-board-menu-pill-collections-upgrade")})),i.div(".js-board-menu-prompt-collections")}))),i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-open-archive",{href:"#"},(()=>i.icon("archive","archived-items",{class:"board-menu-navigation-item-link-icon"})))))})),i.hr(),i.ul(".board-menu-navigation",(function(){return t&&!m&&i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-email",{href:"#"},(()=>i.icon("email","email-to-board-settings",{class:"board-menu-navigation-item-link-icon"}))))),r&&!m&&i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-board-subscribe",{href:"#"},(function(){return i.icon("subscribe","watch",{class:"board-menu-navigation-item-link-icon"}),i.raw("&nbsp;"),i.span(".js-subscribed-state",(()=>i.icon("check")))})))),h&&t&&s?i.li(".board-menu-navigation-item",(function(){return m?i.a(".board-menu-navigation-item-link.js-convert-to-board",{href:"#"},(function(){return i.icon("board",{class:"board-menu-navigation-item-link-icon"}),i.raw("&nbsp;"),i.format("convert-to-board")})):i.a(".board-menu-navigation-item-link.js-make-template",{href:"#"},(function(){return i.icon("template-board",{class:"board-menu-navigation-item-link-icon"}),i.raw("&nbsp;"),i.format("make-template")}))})):b&&i.li(".board-menu-navigation-item.disabled",(()=>i.span(".board-menu-navigation-item-link",(function(){return i.icon("template-board",{class:"board-menu-navigation-item-link-icon"}),i.raw("&nbsp;"),i.format("make-template"),i.div(".board-menu-pill-upgrade.js-board-menu-pill-templates-upgrade")})))),r&&!m&&o&&i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-copy-board",{href:"#"},(()=>i.icon("copy","copy-board",{class:"board-menu-navigation-item-link-icon"}))))),i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-share",{href:"#"},(()=>i.icon("share","print-and-export",{class:"board-menu-navigation-item-link-icon"})))))})),n&&(i.hr(),i.ul(".board-menu-navigation",(function(){if(a&&i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-close-board",{href:"#"},(function(){return i.raw("&nbsp;"),m?i.format("close-template-ellipsis"):i.format("close-board-ellipsis")})))),c)return i.li(".board-menu-navigation-item",(()=>i.a(".board-menu-navigation-item-link.js-leave-board",{href:"#"},(function(){return i.raw("&nbsp;"),i.format("leave-board-ellipsis")}))))}))),i.hr(),i.form(".u-gutter",(function(){return i.label({for:"id-short-url"},(function(){return m?i.format("link-to-this-template"):i.format("link-to-this-board")})),i.input(".js-short-url",{type:"text",readonly:"readonly",id:"id-short-url",value:e}),i.p(".quiet",(function(){return i.span({class:"icon-sm icon-".concat(d),title:l}),i.text(p)})),i.div(".js-qr-code")}))}))},"./app/scripts/views/templates/board_menu_more_activity_button.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_more_activity_button");e.exports=function(){return i.mustacheBlockInverted("hasCount",(()=>i.format("view-all-activity-ellipsis"))),i.mustacheBlock("hasCount",(()=>i.format("view-all-unread-activity-count-ellipsis",{count:i.mustacheVar("count")})))}},"./app/scripts/views/templates/board_menu_settings.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_settings");e.exports=function(){return i.mustacheVar("isLoggedIn")||(i.ul(".board-menu-navigation",(()=>i.li(".board-menu-navigation-item",(()=>i.a(".js-change-cookie-settings.board-menu-navigation-item-link",{href:"#"},(()=>i.icon("gear","cookie-settings",{class:"board-menu-navigation-item-link-icon"}))))))),i.hr()),i.div((()=>i.ul(".pop-over-list.inset",(()=>{if(i.mustacheBlock("blockTeamlessBoardsEnabled",(()=>i.li("#board-settings-change-org"))),i.mustacheBlockInverted("blockTeamlessBoardsEnabled",(()=>i.li((()=>i.a({class:"js-change-org".concat(i.mustacheBlockInverted("canChangeOrg",(()=>" disabled"))),href:"#"},(()=>(i.mustacheBlock("setOrgNull",(()=>i.format("remove-from-organization"))),i.mustacheBlockInverted("setOrgNull",(()=>i.format("change-organization-ellipsis"))),i.mustacheBlock("orgDisplayName",(()=>i.span(".sub-name",(()=>i.text(i.mustacheVar("orgDisplayName"))))))))))))),i.hr(),i.li((()=>i.a({class:i.mustacheBlock("__own",(()=>"js-toggle-covers"))+i.mustacheBlockInverted("__own",(()=>" disabled")),href:"#"},(()=>(i.mustacheBlockInverted("cardCovers",(()=>i.format("enable-card-covers"))),i.mustacheBlock("cardCovers",(()=>(i.format("card-covers-enabled"),i.icon("check")))),i.span(".sub-name",(()=>i.format("show-image-attachments-and-colors-on-the-front-of-cards")))))))),i.hr(),i.mustacheVar("isTemplate")||i.li((()=>i.a({class:i.mustacheBlock("__own",(()=>"js-change-comments"))+i.mustacheBlockInverted("__own",(()=>" disabled")),href:"#"},(()=>i.format("commenting-permissions-ellipsis-commentsdisplay",{commentsDisplay:i.mustacheVar("commentsDisplay")}))))),i.mustacheVar("votingEnabled")&&i.li((()=>i.a({class:i.mustacheBlock("__own",(()=>"js-change-voting"))+i.mustacheBlockInverted("__own",(()=>" disabled")),href:"#"},(()=>i.format("voting-permissions-ellipsis-votingdisplay",{votingDisplay:i.mustacheVar("votingDisplay")}))))),!i.mustacheVar("isTemplate"))return i.li((()=>i.a({class:i.mustacheBlock("__own",(()=>"js-change-add-members"))+i.mustacheBlockInverted("__own",(()=>" disabled")),href:"#"},(()=>i.format("invitations-permissions-ellipsis-invitationsdisplay",{invitationsDisplay:i.mustacheVar("invitationsDisplay")}))))),i.hr(),i.li((()=>i.a({class:" ".concat(i.mustacheBlock("__own",(()=>" js-toggle-org-mem-join "))," ").concat(i.mustacheBlockInverted("__own",(()=>" disabled "))," ").concat(i.mustacheBlockInverted("hasOrg",(()=>" disabled "))," ").concat(i.mustacheBlock("permissionLevel_private",(()=>" disabled "))," "),href:"#"},(()=>(i.check(i.mustacheVar("selfJoin_true"),"allow-team-members-to-edit-and-join"),i.span(".sub-name",(()=>(i.mustacheBlock("hasOrg",(()=>i.mustacheBlock("permissionLevel_private",(()=>i.format("any-team-member-can-edit-and-join-this-board-to-enable-this-the-board-cant-be-private"))))),i.mustacheBlock("hasOrg",(()=>i.mustacheBlockInverted("permissionLevel_private",(()=>i.format("any-team-member-can-edit-and-join-this-board"))))),i.mustacheBlockInverted("hasOrg",(()=>i.mustacheBlock("permissionLevel_private",(()=>i.format("any-team-member-can-edit-and-join-this-board-to-enable-this-the-board-has-to-be-a-part-of-a-team-and-the-board-cant-be-private"))))),i.mustacheBlockInverted("hasOrg",(()=>i.mustacheBlockInverted("permissionLevel_private",(()=>i.format("any-team-member-can-edit-and-join-this-board-to-enable-this-the-board-has-to-be-a-part-of-a-team")))))))))))))}))))}},"./app/scripts/views/templates/board_sidebar.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_sidebar");e.exports=i.renderable((()=>i.div(".board-menu-tab-content",(function(){return i.div(".board-menu-header.js-board-menu-title",(function(){return i.div(".board-menu-header-content",(function(){return i.a(".board-menu-header-back-button.icon-lg.icon-back.js-pop-widget-view",{href:"#",title:i.l("go-back")}),i.h3(".board-menu-header-title.js-board-menu-title-text"),i.a(".board-menu-header-close-button.icon-lg.icon-close.js-hide-sidebar",{href:"#",title:i.l("close-the-board-menu")})})),i.hr(".board-menu-header-divider")})),i.div(".board-menu-content.u-fancy-scrollbar.js-board-menu-content-wrapper")}))))},"./app/scripts/views/templates/board_sidebar_search_input.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_default");e.exports.renderInputRow=i.renderable((({title:e,showFilterButton:t})=>i.div(".board-menu-navigation-row",(function(){if(i.div(".input-container",(function(){return i.input(".js-input.js-autofocus",{type:"search",attr:"title",placeholder:i.l("search-cards-placeholder"),"aria-label":i.l("search-cards-placeholder"),value:e}),i.div(".js-input-search-icon")})),t)return i.button(".button.js-search-open-card-filter",(()=>i.icon("filter")))})))),e.exports.renderInputIcon=i.renderable((function({title:e}){return e?i.a(".input-icon.js-search-clear-title",{href:"#"},(()=>i.icon("close"))):i.a(".input-icon.js-search-open-card-filter",{href:"#"},(()=>i.icon("search")))}))},"./app/scripts/views/templates/description.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("description");e.exports=i.renderable((({editable:e,isCardDesc:t,placeholderKey:s,isAdmin:r,isTemplate:n})=>i.div(".window-module",(function(){return i.div(".window-module-title.window-module-title-no-divider.description-title",(function(){if(i.span(".icon-description.icon-lg.window-module-title-icon"),i.h3(".u-inline-block",(()=>i.format("description"))),e)return i.div({class:i.classify({editable:e}),attr:"desc"},(function(){return i.a(".nch-button.ml-4.hide-on-edit.js-show-with-desc.js-edit-desc.js-edit-desc-button",{href:"#"},(()=>i.format("edit"))),i.span(".editing-members-description.js-editing-members-description.hide")}))})),i.div(".u-gutter",(()=>i.div({class:i.classify({editable:e}),attr:"desc"},(()=>i.div(".description-content.js-desc-content",(function(){if(i.div(".description-content-fade-button",(()=>i.span(".description-content-fade-button-text",(()=>i.format("show-full-description"))))),i.div(".current.markeddown.hide-on-edit.js-desc.js-show-with-desc.hide",{dir:"auto"}),e||!n||t||r||i.div(".description-content-no-edit.js-hide-with-desc",(()=>i.format(s))),e)return i.p(".u-bottom.js-hide-with-desc",(()=>i.a({class:i.classify({"description-fake-text-area hide-on-edit js-edit-desc  js-hide-with-draft":!0,large:!t}),href:"#"},(()=>i.format(s))))),i.div(".description-edit.edit",(function(){return i.a(".helper.nch-button.js-format-help",{href:"#"},(()=>i.format("formatting-help"))),i.textarea(".field.field-autosave.js-description-draft.description",{placeholder:i.l(s)})})),i.p(".edits-warning.quiet",(function(){return i.format("you-have-unsaved-edits-on-this-field"),i.text(" "),i.a(".js-view-edits",{href:"#"},(()=>i.format("view-edits"))),i.text(" - "),i.a(".js-discard-edits",{href:"#"},(()=>i.format("discard")))})),i.p(".edits-error.error",(()=>i.format("edit-not-saved")))}))))))}))))},"./app/scripts/views/templates/edit_controls.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("edit_controls");e.exports=i.renderable((()=>i.div(".edit-controls.u-clearfix",(function(){return i.input(".nch-button.nch-button--primary.confirm.mod-submit-edit.js-save-edit",{type:"submit",value:i.l("save")}),i.a(".icon-lg.icon-close.dark-hover.cancel.js-cancel-edit",{href:"#"})}))))},"./app/scripts/views/templates/formatting_help.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("formatting_help");e.exports=function(){return i.p((()=>i.format("trello-uses-markdown-for-formatting-here-are-the-basics-see-the-complete-syntax"))),i.hr(),i.p(".quiet",(()=>i.format("first-level-header"))),i.code((function(){return i.format("making-scrambled-eggs-a-primer"),i.br(),i.text("\n    ===============================\n  ")})),i.hr(),i.p(".quiet",(()=>i.format("second-level-header"))),i.code((function(){return i.format("1-1-preparation"),i.br(),i.text("\n    ----------------\n  ")})),i.hr(),i.p(".quiet",(()=>i.format("paragraphs"))),i.code((()=>i.format("add-two-new-lines-to-start-a-new-paragraph-crack-two-eggs-into-the-bowl-and-whisk"))),i.hr(),i.p(".quiet",(()=>i.format("bold"))),i.code((()=>i.format("carefully-crack-the-eggs"))),i.hr(),i.p(".quiet",(()=>i.format("emphasis"))),i.code((()=>i.format("whisk-the-eggs-vigorously"))),i.hr(),i.p(".quiet",(()=>i.format("lists"))),i.code((function(){return i.format("ingredients"),i.br(),i.br(),i.format("eggs"),i.br(),i.format("oil"),i.br(),i.format("optional-milk")})),i.hr(),i.p(".quiet",(()=>i.format("links"))),i.code((()=>i.format("to-download-a-pdf-version-of-the-recipe-click-here-https-example-com-scrambled-eggs-pdf"))),i.hr(),i.p(".quiet",(()=>i.format("images"))),i.code((()=>i.format("the-finished-dish-https-example-com-eggs-png")))}},"./app/scripts/views/templates/popover_about_this_board_admin_list.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("popover_about_this_board_admin_list");e.exports=()=>i.div(".about-this-board-admin-list-popover",(()=>i.ul(".js-admin-list",(()=>i.li(".pop-over-member-list",(()=>i.span(".name.js-show-all-admins")))))))},"./app/scripts/views/templates/popover_share.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("popover_share");e.exports=i.renderable((({hasCsvExport:e,csvURL:t,jsonURL:s,needsUpgradeForCsv:r,upgradeUrl:n,hasOrganization:a,upsellEnabled:o,isAdDismissed:c,featureFlag:l})=>i.ul(".pop-over-list",(function(){if(i.li((()=>i.a(".js-print",{href:"#",title:i.l("print-using-the-browser-s-print-function-you-can-use-file")},(()=>i.format("print-ellipsis"))))),l?i.li((()=>e?i.a(".js-export",{href:"#"},(()=>i.format("export-board"))):i.a(".js-export-json",{href:s,title:i.l("export-the-board-data-in-json-format")},(()=>i.format("export-json"))))):(i.li((()=>e?i.a(".js-export-csv",{href:t,title:i.l("export-the-board-data-in-csv-format")},(()=>i.format("export-csv"))):i.a(".disabled",{href:"#",title:i.l("export-the-board-data-in-csv-format")},(function(){return i.format("export-csv"),i.div({class:"export-csv-update-pill",id:"js-export-csv-pill-update-prompt"})})))),i.li((()=>i.a(".js-export-json",{href:s,title:i.l("export-the-board-data-in-json-format")},(()=>i.format("export-json")))))),!e&&o)return i.div(".popover-share-ads-container",(()=>i.div(".print-and-export-upgrade-prompt-wrapper")))}))))},"./app/scripts/views/templates/product_promo_disable_overlay.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")();e.exports=i.renderable((()=>i.div(".product-promo-disable-overlay")))},"./app/scripts/views/templates/search_help_popover.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("search_help_popover");e.exports=i.renderable((function(){const e=e=>i.format(e,{archived:"archived",attachments:"attachments",board:"board",checklist:"checklist",comment:"comment",cover:"cover",created:"created",day:"day",description:"description",due:"due",edited:"edited",has:"has",id:"id",is:"is",label:"label",list:"list",member:"member",members:"members",month:"month",name:"name",open:"open",overdue:"overdue",sort:"sort",starred:"starred",stickers:"stickers",week:"week"});return i.div(".search-tips.js-no-input",(()=>i.div(".search-tips-list.js-search-tips-list",(function(){return i.p(".quiet",(()=>e("intro-text"))),i.dl((function(){return i.dt((()=>i.format("at-name"))),i.dd((()=>e("returns-cards-assigned-to-a-member-member-also-works-me-will-include-only-your-cards"))),i.dt((()=>i.format("label"))),i.dd((()=>e("returns-labeled-cards-trello-will-suggest-labels-for-you-if-you-start-typing-and-the-label-you-are-looking-for-label-also-works"))),i.dt((()=>e("list-name"))),i.dd((()=>e("returns-cards-within-the-list-named-name-or-whatever-you-type-besides-name"))),i.dt((()=>e("has-attachments"))),i.dd((()=>e("returns-cards-with-attachments-has-description-has-cover-has-members-and-has-stickers-also-work-as-you-would-expect"))),i.dt((()=>e("due-day"))),i.dd((()=>e("returns-cards-due-within-24-hours-due-week-due-month-and-due-overdue-also-work-as-expected-you-can-search-for-a-specific-day-range-for-example-adding-due-14-to-search-will-include-cards-due-in-the-next-14-days"))),i.dt((()=>e("created-day"))),i.dd((()=>e("returns-cards-created-in-the-last-24-hours-created-week-and-created-month-also-work-as-expected-you-can-search-for-a-specific-day-range-for-example-adding-created-14-to-the-search-will-include-cards-created-in-the-last-14-days"))),i.dt((()=>e("edited-day"))),i.dd((()=>e("returns-cards-edited-in-the-last-24-hours-edited-week-and-edited-month-also-work-as-expected-you-can-search-for-a-specific-day-range-for-example-adding-edited-21-to-the-search-will-include-cards-edited-in-the-last-21-days"))),i.dt((()=>e("description-checklist-comment-and-name"))),i.dd((()=>e("returns-cards-matching-the-text-of-card-descriptions-checklists-comments-or-names-for-example-comment-fix-it-will-return-cards-with-fix-it-in-a-comment"))),i.dt((()=>e("sort-created"))),i.dd((()=>e("sorts-cards-by-date-created-sort-edited-and-sort-due-also-work-as-expected")))}))}))))}))},"./app/scripts/views/templates/sticker_pack_selection_list.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("sticker_pack_selection_list");e.exports=function(){return i.h2((()=>i.text(i.mustacheVar("displayName")))),i.div(".sticker-list.u-clearfix.js-sticker-list.u-relative")}},"./app/scripts/views/templates/sticker_select.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("sticker_select");e.exports=i.renderable((function({additionalStickersEnabled:e,upsellEnabled:t,useAnimatedStickers:s}){return i.div(".search-stickers",(function(){return i.input(".js-search-stickers",{type:"text",placeholder:i.l("search-giphy")}),i.span(".icon-sm.icon-search")})),i.div(".spinner.loading.js-search-spinner.hide"),i.div(".giphy-stickers.js-giphy-stickers.hide",(function(){return i.div(".stickers-footer",(function(){return i.div(".check-div.mod-animated-check-div",(function(){return i.input(".animated-checkbox.js-use-animated-stickers",{type:"checkbox",checked:s,id:"usedAnimated"}),i.label({for:"usedAnimated"},(()=>i.format("use-animated-stickers")))})),i.span(".giphy-attribution")})),i.div(".js-giphy-stickers-no-results",(()=>i.span(".no-results",(()=>i.format("no-results"))))),i.div(".sticker-list.u-clearfix.js-search-sticker-list")})),i.div(".js-static-stickers",(function(){if(i.div(".sticker-list.u-clearfix.js-standard-sticker-list"),e||t)return i.div(".js-premium-stickers"),i.h2((()=>i.format("custom-stickers"))),i.div(".sticker-list.u-clearfix.js-custom-sticker-list")}))}))},"./app/scripts/views/templates/sticker_select_item.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("sticker_select_item");e.exports=function(){return i.mustacheBlock("pending",(()=>i.img(".sticker-select-image.sticker-select-pending",{src:i.mustacheVar("url")}))),i.mustacheBlockInverted("pending",(function(){return i.img(".sticker-select-image.sticker-select-shadow",{src:i.mustacheVar("url")}),i.img(".sticker-select-image.sticker-select-fixed",{src:i.mustacheVar("url")}),i.img(".sticker-select-image.sticker-select-peel",{src:i.mustacheVar("url")})})),i.mustacheBlock("id",(()=>i.span(".sticker-select-option.sticker-select-option-delete-button.js-delete-sticker",(function(){return i.icon("close",{class:"sticker-select-option-icon"}),i.span(".sticker-select-option-text.u-text-underline",(()=>i.format("delete")))})))),i.mustacheBlock("error",(()=>i.span(".sticker-select-option",(()=>i.span(".sticker-select-option-text",(()=>i.text(i.mustacheVar("error")))))))),i.mustacheBlock("pending",(()=>i.span(".sticker-select-option",(function(){return i.span(".spinner.small.u-float-left",{style:"margin-right: 4px;"}),i.span(".sticker-select-option-text",(()=>i.format("uploading-ellipsis")))}))))}},"./app/scripts/views/templates/sticker_select_item_upload.js":function(e,t,s){const i=s("./app/scripts/views/internal/teacup-with-helpers.js")("sticker_select_item_upload");e.exports=()=>i.form({action:"/1/member/".concat(i.mustacheVar("id"),"/customStickers"),method:"post",enctype:"multipart/form-data"},(function(){return i.input({type:"hidden",name:"token",value:""}),i.input({type:"hidden",name:"format",value:"http"}),i.div(".sticker-select.sticker-select-upload",(function(){return i.span(".sticker-select-upload-icon.icon-lg.icon-add"),i.input({type:"file",name:"file",class:"sticker-select-upload-input js-upload-image ".concat(i.mustacheBlockInverted("enabled_customStickers",(()=>" disabled"))),multiple:"multiple",accept:"image/*"})}))}))},"./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.less":function(e,t,s){var i=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=s("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);e.exports=r.locals||{}},"./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.tsx":function(e,t,s){"use strict";s.r(t),s.d(t,"ViewsAndCopies",(function(){return v})),s.d(t,"BoardMenuViewsAndCopies",(function(){return k}));var i=s("./node_modules/react/index.js"),r=s.n(i),n=s("./packages/nachos/icons/copy.tsx"),a=s("./packages/nachos/icons/subscribe.tsx"),o=s("./packages/i18n/index.ts"),c=s("./node_modules/@apollo/client/index.js");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){p(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const u={context:{operationName:"BoardStats"}},m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardStats"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stats"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewCount"}},{kind:"Field",name:{kind:"Name",value:"copyCount"}}]}}]}}]}}]};var h=s("./packages/i18n/formatters.ts"),g=s("./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.less"),b=s.n(g);const f=Object(o.forTemplate)("board_menu_about_this_board"),v=({isTemplate:e,showLabels:t,useSmallTextStyle:s,copyCount:i,viewCount:o})=>{const c=e&&i>=0&&o>0,l=f(1===i?"copy":"copies"),d=f(1===o?"view":"views"),p=s?b.a.viewCopyTextSmall:b.a.viewCopyText;return r.a.createElement("div",null,c&&r.a.createElement("div",null,r.a.createElement("span",{className:p,title:"".concat(Object(h.asNumber)(i)," ").concat(l)},r.a.createElement(n.a,{size:"small",color:"quiet",dangerous_className:b.a.iconViewCopy}),i&&Object(h.asCompactNumber)(i)," ",t&&l)," ",r.a.createElement("span",{className:p,title:"".concat(Object(h.asNumber)(o)," ").concat(d)},r.a.createElement(a.a,{size:"small",color:"quiet",dangerous_className:b.a.iconViewCopy}),o&&Object(h.asCompactNumber)(o)," ",t&&d)))},k=({idBoard:e,isTemplate:t,showLabels:s})=>{var i,n,a,o,l,p;const{data:h,error:g,loading:f}=function(e){const t=d(d({},u),e);return c.useQuery(m,t)}({variables:{boardId:e}}),k=null!==(i=null==h||null===(n=h.board)||void 0===n||null===(a=n.stats)||void 0===a?void 0:a.copyCount)&&void 0!==i?i:0,w=null!==(o=null==h||null===(l=h.board)||void 0===l||null===(p=l.stats)||void 0===p?void 0:p.viewCount)&&void 0!==o?o:0,y=t&&k>=0&&w>0;return g||f?null:r.a.createElement("div",null,y&&r.a.createElement("div",{className:b.a.viewCopyComponent},r.a.createElement("hr",null),r.a.createElement(v,{isTemplate:t,showLabels:s,useSmallTextStyle:!1,copyCount:k,viewCount:w}),r.a.createElement("hr",null)))}},"./app/src/components/ExportPopoverContent/ExportPopoverContent.less":function(e,t,s){var i=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=s("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/ExportPopoverContent/ExportPopoverContent.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);e.exports=r.locals||{}},"./app/src/components/ExportPopoverContent/index.ts":function(e,t,s){"use strict";s.r(t),s.d(t,"ExportPopoverContent",(function(){return _}));var i=s("./node_modules/react/index.js"),r=s.n(i),n=s("./node_modules/@apollo/client/index.js");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const l={context:{operationName:"BoardExport"}},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardExport"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idExport"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"export"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idExport"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"status"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attempts"}},{kind:"Field",name:{kind:"Name",value:"finished"}},{kind:"Field",name:{kind:"Name",value:"stage"}}]}},{kind:"Field",name:{kind:"Name",value:"size"}}]}}]}}]}}]};function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){m(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const h={context:{operationName:"StartBoardExport"}},g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartBoardExport"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startBoardExport"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"status"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attempts"}},{kind:"Field",name:{kind:"Name",value:"finished"}},{kind:"Field",name:{kind:"Name",value:"stage"}}]}},{kind:"Field",name:{kind:"Name",value:"size"}}]}}]}}]};var b=s("./packages/nachos/button.ts"),f=s("./packages/i18n/index.ts"),v=s("./app/src/components/ExportPopoverContent/ExportPopoverContent.less"),k=s.n(v),w=s("./app/common/lib/util/date.ts"),y=s("./app/gamma/src/util/dates.ts");function j(e){const t=["B","KB","MB","GB"];let s=e;for(let i=0;i<t.length;i++){if(s<1024||i===t.length-1)return e=Math.round(100*s)/100,"".concat(e," ").concat(t[i]);s/=1024}return"unknown"}var x=s("./packages/nachos/spinner.ts"),C=s("./packages/atlassian-analytics/index.ts");const S=Object(f.forTemplate)("popover_share"),_=({idBoard:e,idOrg:t})=>{const{data:s,startPolling:a,stopPolling:c}=function(e){const t=o(o({},l),e);return n.useQuery(d,t)}({variables:{idBoard:e,idExport:"mostRecent"}}),p=s&&s.board&&s.board.export&&s.board.export.status.finished,[m,f]=Object(i.useState)(!1),[v,_]=Object(i.useState)(s&&s.board&&!!s.board.export);Object(i.useEffect)((()=>{v?p||(f(!0),a(1e3)):f(!1)}),[v,p,a]),Object(i.useEffect)((()=>{p&&(f(!1),c())}),[s,p,c]);const[T]=function(e){const t=u(u({},h),e);return n.useMutation(g,t)}();if(Object(i.useEffect)((()=>{C.Analytics.sendScreenEvent({name:"exportBoardInlineDialog"})}),[e,t]),!s||!s.board)return r.a.createElement("div",null,r.a.createElement(x.a,{centered:!0}));s&&s.board&&s.board.idOrganization&&(t=s.board.idOrganization);return r.a.createElement("div",null,s.board.export&&s.board.export.status.finished&&!m&&r.a.createElement("p",null,S("last-exported",{timeOfLastExport:Object(y.getDateDeltaString)(Object(w.idToDate)(s.board.export.id),new Date),sizeOfExport:"number"==typeof s.board.export.size?j(s.board.export.size):"unknown"})),m&&v&&r.a.createElement("p",null,S("exporting-ellipsis")),!s.board.export&&!v&&r.a.createElement("p",{className:k.a.exportHistoryText},S("no-export-history")),r.a.createElement("div",{className:k.a.buttons},r.a.createElement(b.Button,{appearance:"primary",onClick:()=>{_(!0),f(!0),T({variables:{id:e}}).then((()=>{a(1e3)})),C.Analytics.sendClickedButtonEvent({buttonName:"exportButton",source:"exportBoardInlineDialog",containers:{board:{id:e},organization:{id:t}}})},className:k.a.exportButton,isDisabled:m},S("export")),s.board.export&&!m&&r.a.createElement("a",{className:k.a.downloadLink,href:"/1/boards/".concat(e,"/exports/").concat(s.board.export.id,"/download"),onClick:()=>{C.Analytics.sendClickedLinkEvent({linkName:"downloadLink",source:"exportBoardInlineDialog",containers:{board:{id:e},organization:{id:t}}})}},S("download"))))}},"./app/src/components/TemplateTips/LazyTemplateTipsPopover.tsx":function(e,t,s){"use strict";s.r(t),s.d(t,"LazyTemplateTipsPopover",(function(){return a}));var i=s("./node_modules/react/index.js"),r=s.n(i),n=s("./packages/use-lazy-component/index.ts");const a=({boardId:e,isInGallery:t,name:a,username:o,toggleAboutThisTemplate:c,toggleBackgroundSelector:l})=>{const d=Object(n.useLazyComponent)((()=>s.e(198).then(s.bind(null,"./app/src/components/TemplateTips/TemplateTipsPopover.tsx"))));return r.a.createElement(i.Suspense,{fallback:null},r.a.createElement(d,{boardId:e,isInGallery:t,name:a,username:o,toggleAboutThisTemplate:c,toggleBackgroundSelector:l}))}},"./app/src/components/UpgradePrompts/renderUpgradePrompt.ts":function(e,t,s){"use strict";s.r(t),s.d(t,"renderUpgradePrompt",(function(){return c}));var i=s("./app/scripts/db/auth.js"),r=s.n(i),n=s("./app/src/components/ComponentWrapper/index.ts"),a=s("./packages/react-dom-wrapper/index.ts"),o=s("./packages/browser/index.ts");const c=(e,t,s={},i)=>{const{boardModel:c,extraCondition:l=(()=>!0),orgModel:d,promptID:p,allowUpsell:u}=s,m=r.a.me(),h=!!p&&m.isDismissed(p),g=d||c&&c.getOrganization(),b=!!g&&(!g.isPremium()&&!g.isEnterprise()),f=m.hasPaidOrgPowerUps(),v=(!Object(o.dontUpsell)()||u)&&!h&&b&&!f&&l(),k=()=>!!t&&a.default.unmountComponentAtNode(t),w="function"==typeof e?e({dismiss:()=>{p&&m.dismiss(p),k()}}):e;return t&&(v||i)?Object(n.renderComponent)(w,t):k(),k}},"./node_modules/@giphy/js-fetch-api/dist/api.js":function(e,t,s){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GiphyFetch=void 0;var n=r(s("./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/index.js")),a=r(s("./node_modules/cookie/index.js")),o=s("./node_modules/@giphy/js-fetch-api/dist/normalize/gif.js"),c=r(s("./node_modules/@giphy/js-fetch-api/dist/request.js")),l=function(e){return e&&e.type?e.type:"gifs"},d=function(){function e(e){var t=this;this.getQS=function(e){void 0===e&&(e={});var s=("undefined"!=typeof document?a.default.parse(document.cookie):{}).giphy_pbid;return n.default.stringify(i(i({},e),{api_key:t.apiKey,pingback_id:s}))},this.apiKey=e}return e.prototype.categories=function(e){return c.default("gifs/categories?"+this.getQS(e))},e.prototype.gif=function(e){return c.default("gifs/"+e+"?"+this.getQS(),o.normalizeGif)},e.prototype.gifs=function(e,t){return Array.isArray(e)?c.default("gifs?"+this.getQS({ids:e.join(",")}),o.normalizeGifs):c.default("gifs/categories/"+e+"/"+t+"?"+this.getQS(),o.normalizeGifs)},e.prototype.emoji=function(e){return c.default("emoji?"+this.getQS(e),o.normalizeGifs,"EMOJI")},e.prototype.search=function(e,t){void 0===t&&(t={});var s=t.channel?"@"+t.channel+" "+e:e,r=this.getQS(i(i({},t),{q:s})),n="text"===t.type?"TEXT_SEARCH":t.explore?"GIF_EXPLORE":"GIF_SEARCH";return c.default(l(t)+"/search?"+r,o.normalizeGifs,n)},e.prototype.subcategories=function(e,t){return c.default("gifs/categories/"+e+"?"+this.getQS(t))},e.prototype.trending=function(e){void 0===e&&(e={});var t="text"===e.type?"TEXT_TRENDING":"GIF_TRENDING";return c.default(l(e)+"/trending?"+this.getQS(e),o.normalizeGifs,t)},e.prototype.random=function(e){return c.default(l(e)+"/random?"+this.getQS(e),o.normalizeGif)},e.prototype.related=function(e,t){return c.default("gifs/related?"+this.getQS(i({gif_id:e},t)),o.normalizeGifs,"GIF_RELATED")},e}();t.GiphyFetch=d,t.default=d},"./node_modules/@giphy/js-fetch-api/dist/fetch-error.js":function(e,t,s){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t,s,i){void 0===s&&(s=0),void 0===i&&(i="");var r=e.call(this,t)||this;return r.status=s,r.statusText=i,r}return r(t,e),t}(Error);t.default=n},"./node_modules/@giphy/js-fetch-api/dist/index.js":function(e,t,s){"use strict";var i,r=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||t.hasOwnProperty(s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/@giphy/js-util/dist/index.js"),o=s("./node_modules/@giphy/js-fetch-api/dist/api.js");Object.defineProperty(t,"GiphyFetch",{enumerable:!0,get:function(){return o.default}}),n(s("./node_modules/@giphy/js-fetch-api/dist/option-types.js"),t),n(s("./node_modules/@giphy/js-fetch-api/dist/result-types.js"),t);var c=s("./node_modules/@giphy/js-fetch-api/dist/paginator.js");Object.defineProperty(t,"gifPaginator",{enumerable:!0,get:function(){return c.gifPaginator}});var l=s("./node_modules/@giphy/js-fetch-api/package.json").version;(null===(i=a.getGiphySDKRequestHeaders())||void 0===i?void 0:i.get("X-GIPHY-SDK-NAME"))||(a.appendGiphySDKRequestHeader("X-GIPHY-SDK-NAME","FetchAPI"),a.appendGiphySDKRequestHeader("X-GIPHY-SDK-VERSION",l))},"./node_modules/@giphy/js-fetch-api/dist/normalize/gif.js":function(e,t,s){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeGifs=t.normalizeGif=t.USER_BOOL_PROPS=t.BOOL_PROPS=void 0,t.BOOL_PROPS=["is_anonymous","is_community","is_featured","is_hidden","is_indexable","is_preserve_size","is_realtime","is_removed","is_sticker"],t.USER_BOOL_PROPS=["suppress_chrome","is_public","is_verified"];var r=function(e){return function(t){return e[t]=!!e[t]}},n=function(e){return"string"==typeof e?e:e.text},a=function(e,s,a){void 0===s&&(s=""),void 0===a&&(a="");var o=i({},e);o.id=String(o.id),o.tags=(o.tags||[]).map(n),o.bottle_data||(o.bottle_data={}),o.response_id=s,o.pingback_event_type=a,t.BOOL_PROPS.forEach(r(o));var c=o.user;if(c){var l=i({},c);t.USER_BOOL_PROPS.forEach(r(l)),o.user=l}return o};t.normalizeGif=function(e,t){var s=e.meta.response_id;return e.data=a(e.data,s,t),e},t.normalizeGifs=function(e,t){var s=e.meta.response_id;return e.data=e.data.map((function(e){return a(e,s,t)})),e}},"./node_modules/@giphy/js-fetch-api/dist/option-types.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@giphy/js-fetch-api/dist/paginator.js":function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function a(e){try{c(i.next(e))}catch(e){n(e)}}function o(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,o)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var s,i,r,n,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,i&&(r=2&n[0]?i.return:n[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,n[1])).done)return r;switch(i=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){a.label=n[1];break}if(6===n[0]&&a.label<r[1]){a.label=r[1],r=n;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(n);break}r[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{s=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}},n=this&&this.__spreadArrays||function(){for(var e=0,t=0,s=arguments.length;t<s;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<s;t++)for(var n=arguments[t],a=0,o=n.length;a<o;a++,r++)i[r]=n[a];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.gifPaginator=void 0,t.gifPaginator=function(e,t){void 0===t&&(t=[]);var s=n(t),a=t.map((function(e){return e.id})),o=t.length,c=!1;return function(){return i(void 0,void 0,void 0,(function(){var t,i,l;return r(this,(function(r){switch(r.label){case 0:return c?[2,s]:[4,e(o)];case 1:return t=r.sent(),i=t.pagination,l=t.data,o=i.count+i.offset,c=o===i.total_count,l.forEach((function(e){var t=e.id;a.includes(t)||(s.push(e),a.push(t))})),[2,n(s)]}}))}))}}},"./node_modules/@giphy/js-fetch-api/dist/request.js":function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function a(e){try{c(i.next(e))}catch(e){n(e)}}function o(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,o)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var s,i,r,n,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,i&&(r=2&n[0]?i.return:n[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,n[1])).done)return r;switch(i=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){a.label=n[1];break}if(6===n[0]&&a.label<r[1]){a.label=r[1],r=n;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(n);break}r[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{s=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR=t.ERROR_PREFIX=void 0;var a=n(s("./node_modules/@giphy/js-fetch-api/dist/fetch-error.js"));t.ERROR_PREFIX="@giphy/js-fetch-api: ",t.DEFAULT_ERROR="Error fetching";var o=function(e){return e},c={};t.default=function(e,s,n){var l=this;if(void 0===s&&(s=o),!c[e]){c[e]=i(l,void 0,void 0,(function(){var i,o,l,d,p;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,9,,10]),[4,fetch("https://api.giphy.com/v1/"+e,{method:"get"})];case 1:return(o=r.sent()).ok?[4,o.json()]:[3,3];case 2:return d=r.sent(),[2,s(d,n)];case 3:l=t.DEFAULT_ERROR,r.label=4;case 4:return r.trys.push([4,6,,7]),[4,o.json()];case 5:return(d=r.sent()).message&&(l=d.message),[3,7];case 6:return r.sent(),[3,7];case 7:i=new a.default(""+t.ERROR_PREFIX+l,o.status,o.statusText),r.label=8;case 8:return[3,10];case 9:return p=r.sent(),i=new a.default(p.message),delete c[e],[3,10];case 10:throw i}}))}))}return c[e]}},"./node_modules/@giphy/js-fetch-api/dist/result-types.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/formats.js":function(e,t,s){"use strict";var i=String.prototype.replace,r=/%20/g,n=s("./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/utils.js"),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=n.assign({default:a.RFC3986,formatters:{RFC1738:function(e){return i.call(e,r,"+")},RFC3986:function(e){return String(e)}}},a)},"./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/index.js":function(e,t,s){"use strict";var i=s("./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/stringify.js"),r=s("./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/parse.js"),n=s("./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/formats.js");e.exports={formats:n,parse:r,stringify:i}},"./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/parse.js":function(e,t,s){"use strict";var i=s("./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/utils.js"),r=Object.prototype.hasOwnProperty,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},o=function(e,t,s){if(e){var i=s.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/g,a=s.depth>0&&/(\[[^[\]]*])/.exec(i),o=a?i.slice(0,a.index):i,c=[];if(o){if(!s.plainObjects&&r.call(Object.prototype,o)&&!s.allowPrototypes)return;c.push(o)}for(var l=0;s.depth>0&&null!==(a=n.exec(i))&&l<s.depth;){if(l+=1,!s.plainObjects&&r.call(Object.prototype,a[1].slice(1,-1))&&!s.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),function(e,t,s){for(var i=t,r=e.length-1;r>=0;--r){var n,a=e[r];if("[]"===a&&s.parseArrays)n=[].concat(i);else{n=s.plainObjects?Object.create(null):{};var o="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(o,10);s.parseArrays||""!==o?!isNaN(c)&&a!==o&&String(c)===o&&c>=0&&s.parseArrays&&c<=s.arrayLimit?(n=[])[c]=i:n[o]=i:n={0:i}}i=n}return i}(c,t,s)}};e.exports=function(e,t){var s=function(e){if(!e)return n;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?n.charset:e.charset;return{allowDots:void 0===e.allowDots?n.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:n.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:n.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:n.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:n.comma,decoder:"function"==typeof e.decoder?e.decoder:n.decoder,delimiter:"string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:n.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:n.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:n.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:n.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:n.strictNullHandling}}(t);if(""===e||null==e)return s.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var s,o={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,l),p=-1,u=t.charset;if(t.charsetSentinel)for(s=0;s<d.length;++s)0===d[s].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[s]?u="utf-8":"utf8=%26%2310003%3B"===d[s]&&(u="iso-8859-1"),p=s,s=d.length);for(s=0;s<d.length;++s)if(s!==p){var m,h,g=d[s],b=g.indexOf("]="),f=-1===b?g.indexOf("="):b+1;-1===f?(m=t.decoder(g,n.decoder,u,"key"),h=t.strictNullHandling?null:""):(m=t.decoder(g.slice(0,f),n.decoder,u,"key"),h=t.decoder(g.slice(f+1),n.decoder,u,"value")),h&&t.interpretNumericEntities&&"iso-8859-1"===u&&(h=a(h)),h&&t.comma&&h.indexOf(",")>-1&&(h=h.split(",")),r.call(o,m)?o[m]=i.combine(o[m],h):o[m]=h}return o}(e,s):e,l=s.plainObjects?Object.create(null):{},d=Object.keys(c),p=0;p<d.length;++p){var u=d[p],m=o(u,c[u],s);l=i.merge(l,m,s)}return i.compact(l)}},"./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/stringify.js":function(e,t,s){"use strict";var i=s("./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/utils.js"),r=s("./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/formats.js"),n=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,c=Array.prototype.push,l=function(e,t){c.apply(e,o(t)?t:[t])},d=Date.prototype.toISOString,p=r.default,u={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:r.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},m=function e(t,s,r,n,a,c,d,p,m,h,g,b,f){var v,k=t;if("function"==typeof d?k=d(s,k):k instanceof Date?k=h(k):"comma"===r&&o(k)&&(k=k.join(",")),null===k){if(n)return c&&!b?c(s,u.encoder,f,"key"):s;k=""}if("string"==typeof(v=k)||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v||i.isBuffer(k))return c?[g(b?s:c(s,u.encoder,f,"key"))+"="+g(c(k,u.encoder,f,"value"))]:[g(s)+"="+g(String(k))];var w,y=[];if(void 0===k)return y;if(o(d))w=d;else{var j=Object.keys(k);w=p?j.sort(p):j}for(var x=0;x<w.length;++x){var C=w[x];a&&null===k[C]||(o(k)?l(y,e(k[C],"function"==typeof r?r(s,C):s,r,n,a,c,d,p,m,h,g,b,f)):l(y,e(k[C],s+(m?"."+C:"["+C+"]"),r,n,a,c,d,p,m,h,g,b,f)))}return y};e.exports=function(e,t){var s,i=e,c=function(e){if(!e)return u;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||u.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var s=r.default;if(void 0!==e.format){if(!n.call(r.formatters,e.format))throw new TypeError("Unknown format option provided.");s=e.format}var i=r.formatters[s],a=u.filter;return("function"==typeof e.filter||o(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:u.addQueryPrefix,allowDots:void 0===e.allowDots?u.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:u.charsetSentinel,delimiter:void 0===e.delimiter?u.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:u.encode,encoder:"function"==typeof e.encoder?e.encoder:u.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:u.encodeValuesOnly,filter:a,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:u.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:u.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:u.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):o(c.filter)&&(s=c.filter);var d,p=[];if("object"!=typeof i||null===i)return"";d=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=a[d];s||(s=Object.keys(i)),c.sort&&s.sort(c.sort);for(var g=0;g<s.length;++g){var b=s[g];c.skipNulls&&null===i[b]||l(p,m(i[b],b,h,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var f=p.join(c.delimiter),v=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),f.length>0?v+f:""}},"./node_modules/@giphy/js-fetch-api/node_modules/qs/lib/utils.js":function(e,t,s){"use strict";var i=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var s=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(s[i]=e[i]);return s};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,s){return e[s]=t[s],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],s=[],i=0;i<t.length;++i)for(var n=t[i],a=n.obj[n.prop],o=Object.keys(a),c=0;c<o.length;++c){var l=o[c],d=a[l];"object"==typeof d&&null!==d&&-1===s.indexOf(d)&&(t.push({obj:a,prop:l}),s.push(d))}return function(e){for(;e.length>1;){var t=e.pop(),s=t.obj[t.prop];if(r(s)){for(var i=[],n=0;n<s.length;++n)void 0!==s[n]&&i.push(s[n]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,s){var i=e.replace(/\+/g," ");if("iso-8859-1"===s)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,s){if(0===e.length)return e;var i=e;if("symbol"==typeof e?i=Symbol.prototype.toString.call(e):"string"!=typeof e&&(i=String(e)),"iso-8859-1"===s)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var r="",a=0;a<i.length;++a){var o=i.charCodeAt(a);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=i.charAt(a):o<128?r+=n[o]:o<2048?r+=n[192|o>>6]+n[128|63&o]:o<55296||o>=57344?r+=n[224|o>>12]+n[128|o>>6&63]+n[128|63&o]:(a+=1,o=65536+((1023&o)<<10|1023&i.charCodeAt(a)),r+=n[240|o>>18]+n[128|o>>12&63]+n[128|o>>6&63]+n[128|63&o])}return r},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,s,n){if(!s)return t;if("object"!=typeof s){if(r(t))t.push(s);else{if(!t||"object"!=typeof t)return[t,s];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,s))&&(t[s]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(s);var o=t;return r(t)&&!r(s)&&(o=a(t,n)),r(t)&&r(s)?(s.forEach((function(s,r){if(i.call(t,r)){var a=t[r];a&&"object"==typeof a&&s&&"object"==typeof s?t[r]=e(a,s,n):t.push(s)}else t[r]=s})),t):Object.keys(s).reduce((function(t,r){var a=s[r];return i.call(t,r)?t[r]=e(t[r],a,n):t[r]=a,t}),o)}}},"./node_modules/@giphy/js-fetch-api/package.json":function(e,t){e.exports={scripts:{clean:"rm -rf ./dist",dev:"parcel public/test.html",docs:"typedoc",prepublish:"npm run clean && tsc",build:"tsc",test:"jest --config ./jestconfig.js","test:watch":"jest --config ./jestconfig.js --watchAll"},name:"@giphy/js-fetch-api",version:"1.6.0",main:"dist/index.js",description:"Javascript API to fetch gifs and stickers from the GIPHY API.",types:"dist/index.d.ts",files:["dist/**/*","src/**/*"],license:"MIT",publishConfig:{access:"public"},dependencies:{"@giphy/js-types":"^2.0.2","@giphy/js-util":"^1.9.1",cookie:"0.4.0",qs:"^6.7.0"},devDependencies:{"@types/cookie":"^0.3.3","@types/qs":"^6.5.3","jest-fetch-mock":"^2.1.2","parcel-bundler":"^1.12.3",typedoc:"^0.14.2","typedoc-thunder-theme":"^0.0.2",typescript:"^3.8.2"},gitHead:"8d57ae7cdd775900da581fb511b92f23cd0d8dd8"}},"./node_modules/@giphy/js-util/dist/bestfit.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("./node_modules/@giphy/js-util/dist/log.js"),r=50;t.setRenditionScaleUpMaxPixels=function(e){i.Logger.debug("@giphy/js-util set rendition selection scale up max pixels to "+e),r=e},t.default=function(e,t,s,i){void 0===i&&(i=r);var n=e[0],a=e.filter((function(e){return e.width*e.height>n.width*n.height&&(n=e),t-e.width<=i&&s-e.height<=i}));return 0===a.length?n:function(e,t,s){var i,r=1/0;return s.forEach((function(s){var n=s.width/e*(s.height/t),a=Math.abs(1-n);a<r&&(r=a,i=s)})),i}(t,s,a)}},"./node_modules/@giphy/js-util/dist/collections.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapValues=function(e,t){if(Array.isArray(e))throw"This map is just for objects, just use array.map for arrays";return Object.keys(e).reduce((function(s,i){return s[i]=t(e[i],i),s}),{})},t.forEach=function(e,t){if(Array.isArray(e))throw"This map is just for objects, just use array.forEach for arrays";return Object.keys(e).forEach((function(s){t(e[s],s)}))},t.take=function(e,t){return void 0===t&&(t=0),e.slice(0,t)},t.without=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},t.pick=function(e,t){var s={};return t.forEach((function(t){void 0!==e[t]&&(s[t]=e[t])})),s}},"./node_modules/@giphy/js-util/dist/construct-moat-data.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constructMoatData=function(e){var t,s=e.tdata,i=((null===(t=null==s?void 0:s.web)||void 0===t?void 0:t.filter((function(e){return"Moat"===e.vendor})))||[])[0];if(null==i?void 0:i.verificationParameters){var r=i.verificationParameters,n=r.moatClientLevel1,a=void 0===n?"_ADVERTISER_":n,o=r.moatClientLevel2,c=void 0===o?"_CAMPAIGN_":o,l=r.moatClientLevel3,d=void 0===l?"_LINE_ITEM_":l,p=r.moatClientLevel4,u=void 0===p?"_CREATIVE_":p,m=r.moatClientSlicer1,h=void 0===m?"_SITE_":m,g=r.moatClientSlicer2,b=void 0===g?"_PLACEMENT_":g,f=r.zMoatPosition;return{moatClientLevel1:a,moatClientLevel2:c,moatClientLevel3:d,moatClientLevel4:u,moatClientSlicer1:h,moatClientSlicer2:b,zMoatPosition:void 0===f?"_POSITION_":f}}}},"./node_modules/@giphy/js-util/dist/get-client-rect-from-el.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=0,s=0,i=e.offsetWidth,r=e.offsetHeight;do{t+=e.offsetLeft,s+=e.offsetTop,e=e.offsetParent}while(e);return{left:t,top:s,width:i,height:r,right:t+i,bottom:s+r}}},"./node_modules/@giphy/js-util/dist/gif-utils.js":function(e,t,s){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=s("./node_modules/@giphy/js-util/dist/collections.js"),a=r(s("./node_modules/@giphy/js-util/dist/bestfit.js")),o=s("./node_modules/@giphy/js-util/dist/webp-check.js");t.getSpecificRendition=function(e,t,s,i){var r=e.images,n=e.is_sticker;if(void 0===s&&(s=!1),void 0===i&&(i=!1),!r||!t)return"";var a=r[t+((s=s&&!i)?"_still":"")];if(a){if(n||s)return a.url;var c=o.SUPPORTS_WEBP&&a.webp;return i?a.mp4:c||a.url}return""};t.getBestRendition=function(e,t,s,r){var o=n.pick(e,["original","fixed_width","fixed_height","fixed_width_small","fixed_height_small"]),c=Object.entries(o).map((function(e){var t=e[0],s=e[1];return i({renditionName:t},s)}));return a.default(c,t,s,r)},t.getBestRenditionUrl=function(e,s,i,r){var n=e.images,a=e.video,c=e.type;if(void 0===r&&(r={isStill:!1,useVideo:!1}),!s||!i||!n)return"";var l=r.useVideo,d=r.isStill,p=r.scaleUpMaxPixels,u=function(e,t,s){return"video"===e&&s&&s.previews&&!Object.keys(t).length?s.previews:t}(c,n,a),m=u[t.getBestRendition(u,s,i,p).renditionName+(d&&!l?"_still":"")];return(l?m.mp4:o.SUPPORTS_WEBP&&m.webp?m.webp:m.url)||""},t.getGifHeight=function(e,t){var s=e.images.fixed_width;if(s){var i=s.width/s.height;return Math.round(t/i)}return 0},t.getGifWidth=function(e,t){var s=e.images.fixed_width;if(s){var i=s.width/s.height;return Math.round(t*i)}return 0},t.getAltText=function(e){var t=e.user,s=e.tags,i=void 0===s?[]:s,r=e.is_sticker,a=void 0!==r&&r,o=e.title,c=void 0===o?"":o;if(c)return c;var l=t&&t.username||"";return(l?l+" ":"")+n.take(n.without(i,["transparent"]),l?4:5).join(" ")+" "+(a?"Sticker":"GIF")}},"./node_modules/@giphy/js-util/dist/index.js":function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0});var r=s("./node_modules/@giphy/js-util/dist/bestfit.js");t.bestfit=r.default,t.setRenditionScaleUpMaxPixels=r.setRenditionScaleUpMaxPixels,i(s("./node_modules/@giphy/js-util/dist/collections.js")),i(s("./node_modules/@giphy/js-util/dist/construct-moat-data.js"));var n=s("./node_modules/@giphy/js-util/dist/get-client-rect-from-el.js");t.getClientRect=n.default;var a=s("./node_modules/@giphy/js-util/dist/gif-utils.js");t.getAltText=a.getAltText,t.getBestRendition=a.getBestRendition,t.getBestRenditionUrl=a.getBestRenditionUrl,t.getGifHeight=a.getGifHeight,t.getGifWidth=a.getGifWidth,t.getSpecificRendition=a.getSpecificRendition,i(s("./node_modules/@giphy/js-util/dist/log.js")),i(s("./node_modules/@giphy/js-util/dist/sdk-headers.js"));var o=s("./node_modules/@giphy/js-util/dist/tracking-pixel.js");t.injectTrackingPixel=o.default;var c=s("./node_modules/@giphy/js-util/dist/webp-check.js");t.checkIfWebP=c.checkIfWebP},"./node_modules/@giphy/js-util/dist/log.js":function(e,t,s){"use strict";var i,r=this&&this.__spreadArrays||function(){for(var e=0,t=0,s=arguments.length;t<s;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<s;t++)for(var n=arguments[t],a=0,o=n.length;a<o;a++,r++)i[r]=n[a];return i};Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(i=t.LogLevel||(t.LogLevel={})),t.Logger={ENABLED:"undefined"!=typeof window&&location&&-1!==location.search.indexOf("giphy-debug"),LEVEL:0,PREFIX:"GiphyJS",debug:function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];t.Logger.ENABLED&&t.Logger.LEVEL<=i.DEBUG&&console.debug.apply(console,r([t.Logger.PREFIX],e))},info:function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];t.Logger.ENABLED&&t.Logger.LEVEL<=i.INFO&&console.info.apply(console,r([t.Logger.PREFIX],e))},warn:function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];t.Logger.ENABLED&&t.Logger.LEVEL<=i.WARN&&console.warn.apply(console,r([t.Logger.PREFIX],e))},error:function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];t.Logger.ENABLED&&t.Logger.LEVEL<=i.ERROR&&console.error.apply(console,r([t.Logger.PREFIX],e))}}},"./node_modules/@giphy/js-util/dist/sdk-headers.js":function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var s=("undefined"!=typeof window?window:e)||{};s._GIPHY_SDK_HEADERS_=s._GIPHY_SDK_HEADERS_||(s.Headers?new s.Headers({"X-GIPHY-SDK-PLATFORM":"web"}):void 0),t.getGiphySDKRequestHeaders=function(){return s._GIPHY_SDK_HEADERS_},t.appendGiphySDKRequestHeader=function(e,s){var i;return null===(i=t.getGiphySDKRequestHeaders())||void 0===i?void 0:i.set(e,s)},t.appendGiphySDKRequestParam=function(e,s){var i;return null===(i=t.getGiphySDKRequestHeaders())||void 0===i?void 0:i.set(e,s)}}).call(this,s("./node_modules/webpack/buildin/global.js"))},"./node_modules/@giphy/js-util/dist/tracking-pixel.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("./node_modules/dompurify/dist/purify.js");t.default=function(e){void 0===e&&(e=[]),e.forEach((function(e){var t,s=document.createElement("html");e=e.replace("%%CACHEBUSTER%%",Date.now().toString()),s.innerHTML=i.sanitize(e);var r=s.querySelector("img");r&&(null===(t=null===document||void 0===document?void 0:document.querySelector("head"))||void 0===t||t.appendChild(r))}))}},"./node_modules/@giphy/js-util/dist/webp-check.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORTS_WEBP=null,t.checkIfWebP=new Promise((function(e){"undefined"==typeof Image&&e(!1);var s=new Image;s.onload=function(){t.SUPPORTS_WEBP=!0,e(t.SUPPORTS_WEBP)},s.onerror=function(){t.SUPPORTS_WEBP=!1,e(t.SUPPORTS_WEBP)},s.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}))},"./node_modules/cookie/index.js":function(e,t,s){"use strict";t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var s={},r=t||{},a=e.split(n),c=r.decode||i,l=0;l<a.length;l++){var d=a[l],p=d.indexOf("=");if(!(p<0)){var u=d.substr(0,p).trim(),m=d.substr(++p,d.length).trim();'"'==m[0]&&(m=m.slice(1,-1)),null==s[u]&&(s[u]=o(m,c))}}return s},t.serialize=function(e,t,s){var i=s||{},n=i.encode||r;if("function"!=typeof n)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var o=n(t);if(o&&!a.test(o))throw new TypeError("argument val is invalid");var c=e+"="+o;if(null!=i.maxAge){var l=i.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(l)}if(i.domain){if(!a.test(i.domain))throw new TypeError("option domain is invalid");c+="; Domain="+i.domain}if(i.path){if(!a.test(i.path))throw new TypeError("option path is invalid");c+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+i.expires.toUTCString()}i.httpOnly&&(c+="; HttpOnly");i.secure&&(c+="; Secure");if(i.sameSite){switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var i=decodeURIComponent,r=encodeURIComponent,n=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(t){return e}}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.less":function(e,t,s){(t=e.exports=s("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._27Uw8fo9rGrvnr{margin-left:8px}.vE8uKcBl9PMnJD{font-weight:600}.ABJoLPE63QtUOR,.vE8uKcBl9PMnJD{display:inline-flex;color:#5e6c84}.ABJoLPE63QtUOR{font-size:12px}.M7H7bE4oMCKmIy{display:inline-flex;height:20px;width:20px;justify-content:center;align-items:center}",""]),t.locals={viewCopyComponent:"_27Uw8fo9rGrvnr",viewCopyText:"vE8uKcBl9PMnJD",viewCopyTextSmall:"ABJoLPE63QtUOR",iconViewCopy:"M7H7bE4oMCKmIy"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/ExportPopoverContent/ExportPopoverContent.less":function(e,t,s){(t=e.exports=s("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2QhXDzQc92AAJ8{color:#8993a4;padding:0 4px}._2QhXDzQc92AAJ8:hover{color:#091e42}._2_JqGosBLzpgCG{margin:0}._2nlsR5BDZms-lO{display:flex;justify-content:space-between;align-items:center;margin-top:12px}.QUcutfN8RVSQzJ{display:block}",""]),t.locals={downloadLink:"_2QhXDzQc92AAJ8",exportButton:"_2_JqGosBLzpgCG",buttons:"_2nlsR5BDZms-lO",exportHistoryText:"QUcutfN8RVSQzJ"}},"./node_modules/dompurify/dist/purify.js":function(e,t,s){e.exports=function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}var t=Object.hasOwnProperty,s=Object.setPrototypeOf,i=Object.isFrozen,r=Object.keys,n=Object.freeze,a=Object.seal,o="undefined"!=typeof Reflect&&Reflect,c=o.apply,l=o.construct;c||(c=function(e,t,s){return e.apply(t,s)}),n||(n=function(e){return e}),a||(a=function(e){return e}),l||(l=function(t,s){return new(Function.prototype.bind.apply(t,[null].concat(e(s))))});var d=C(Array.prototype.forEach),p=C(Array.prototype.indexOf),u=C(Array.prototype.join),m=C(Array.prototype.pop),h=C(Array.prototype.push),g=C(Array.prototype.slice),b=C(String.prototype.toLowerCase),f=C(String.prototype.match),v=C(String.prototype.replace),k=C(String.prototype.indexOf),w=C(String.prototype.trim),y=C(RegExp.prototype.test),j=S(RegExp),x=S(TypeError);function C(e){return function(t){for(var s=arguments.length,i=Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];return c(e,t,i)}}function S(e){return function(){for(var t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return l(e,s)}}function _(e,t){s&&s(e,null);for(var r=t.length;r--;){var n=t[r];if("string"==typeof n){var a=b(n);a!==n&&(i(t)||(t[r]=a),n=a)}e[n]=!0}return e}function T(e){var s={},i=void 0;for(i in e)c(t,e,[i])&&(s[i]=e[i]);return s}var E=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),P=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),O=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),A=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),B=n(["#text"]),D=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),N=n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),M=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),I=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),L=a(/\{\{[\s\S]*|[\s\S]*\}\}/gm),U=a(/<%[\s\S]*|[\s\S]*%>/gm),V=a(/^data-[\-\w.\u00B7-\uFFFF]/),z=a(/^aria-[\-\w]+$/),F=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),R=a(/^(?:\w+script|data):/i),$=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function H(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}var q=function(){return"undefined"==typeof window?null:window},K=function(e,t){if("object"!==(void 0===e?"undefined":G(e))||"function"!=typeof e.createPolicy)return null;var s=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(s=t.currentScript.getAttribute(i));var r="dompurify"+(s?"#"+s:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q(),t=function(e){return W(e)};if(t.version="2.0.12",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var s=e.document,i=!1,a=e.document,o=e.DocumentFragment,c=e.HTMLTemplateElement,l=e.Node,C=e.NodeFilter,S=e.NamedNodeMap,J=void 0===S?e.NamedNodeMap||e.MozNamedAttrMap:S,Q=e.Text,X=e.Comment,Y=e.DOMParser,Z=e.trustedTypes;if("function"==typeof c){var ee=a.createElement("template");ee.content&&ee.content.ownerDocument&&(a=ee.content.ownerDocument)}var te=K(Z,s),se=te&&Ne?te.createHTML(""):"",ie=a,re=ie.implementation,ne=ie.createNodeIterator,ae=ie.getElementsByTagName,oe=ie.createDocumentFragment,ce=s.importNode,le={};t.isSupported=re&&void 0!==re.createHTMLDocument&&9!==a.documentMode;var de=L,pe=U,ue=V,me=z,he=R,ge=$,be=F,fe=null,ve=_({},[].concat(H(E),H(P),H(O),H(A),H(B))),ke=null,we=_({},[].concat(H(D),H(N),H(M),H(I))),ye=null,je=null,xe=!0,Ce=!0,Se=!1,_e=!1,Te=!1,Ee=!1,Pe=!1,Oe=!1,Ae=!1,Be=!1,De=!1,Ne=!1,Me=!0,Ie=!0,Le=!1,Ue={},Ve=_({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),ze=null,Fe=_({},["audio","video","img","source","image","track"]),Re=null,$e=_({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ge=null,He=a.createElement("form"),qe=function(e){Ge&&Ge===e||(e&&"object"===(void 0===e?"undefined":G(e))||(e={}),fe="ALLOWED_TAGS"in e?_({},e.ALLOWED_TAGS):ve,ke="ALLOWED_ATTR"in e?_({},e.ALLOWED_ATTR):we,Re="ADD_URI_SAFE_ATTR"in e?_(T($e),e.ADD_URI_SAFE_ATTR):$e,ze="ADD_DATA_URI_TAGS"in e?_(T(Fe),e.ADD_DATA_URI_TAGS):Fe,ye="FORBID_TAGS"in e?_({},e.FORBID_TAGS):{},je="FORBID_ATTR"in e?_({},e.FORBID_ATTR):{},Ue="USE_PROFILES"in e&&e.USE_PROFILES,xe=!1!==e.ALLOW_ARIA_ATTR,Ce=!1!==e.ALLOW_DATA_ATTR,Se=e.ALLOW_UNKNOWN_PROTOCOLS||!1,_e=e.SAFE_FOR_JQUERY||!1,Te=e.SAFE_FOR_TEMPLATES||!1,Ee=e.WHOLE_DOCUMENT||!1,Ae=e.RETURN_DOM||!1,Be=e.RETURN_DOM_FRAGMENT||!1,De=e.RETURN_DOM_IMPORT||!1,Ne=e.RETURN_TRUSTED_TYPE||!1,Oe=e.FORCE_BODY||!1,Me=!1!==e.SANITIZE_DOM,Ie=!1!==e.KEEP_CONTENT,Le=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||be,Te&&(Ce=!1),Be&&(Ae=!0),Ue&&(fe=_({},[].concat(H(B))),ke=[],!0===Ue.html&&(_(fe,E),_(ke,D)),!0===Ue.svg&&(_(fe,P),_(ke,N),_(ke,I)),!0===Ue.svgFilters&&(_(fe,O),_(ke,N),_(ke,I)),!0===Ue.mathMl&&(_(fe,A),_(ke,M),_(ke,I))),e.ADD_TAGS&&(fe===ve&&(fe=T(fe)),_(fe,e.ADD_TAGS)),e.ADD_ATTR&&(ke===we&&(ke=T(ke)),_(ke,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&_(Re,e.ADD_URI_SAFE_ATTR),Ie&&(fe["#text"]=!0),Ee&&_(fe,["html","head","body"]),fe.table&&(_(fe,["tbody"]),delete ye.tbody),n&&n(e),Ge=e)},Ke=function(e){h(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=se}},We=function(e,s){try{h(t.removed,{attribute:s.getAttributeNode(e),from:s})}catch(e){h(t.removed,{attribute:null,from:s})}s.removeAttribute(e)},Je=function(e){var t=void 0,s=void 0;if(Oe)e="<remove></remove>"+e;else{var r=f(e,/^[\r\n\t ]+/);s=r&&r[0]}var n=te?te.createHTML(e):e;try{t=(new Y).parseFromString(n,"text/html")}catch(e){}if(i&&_(ye,["title"]),!t||!t.documentElement){var o=(t=re.createHTMLDocument("")).body;o.parentNode.removeChild(o.parentNode.firstElementChild),o.outerHTML=n}return e&&s&&t.body.insertBefore(a.createTextNode(s),t.body.childNodes[0]||null),ae.call(t,Ee?"html":"body")[0]};t.isSupported&&function(){try{var e=Je("<x/><title>&lt;/title&gt;&lt;img&gt;");y(/<\/title/,e.querySelector("title").innerHTML)&&(i=!0)}catch(e){}}();var Qe=function(e){return ne.call(e.ownerDocument||e,e,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,(function(){return C.FILTER_ACCEPT}),!1)},Xe=function(e){return!(e instanceof Q||e instanceof X||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof J&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},Ye=function(e){return"object"===(void 0===l?"undefined":G(l))?e instanceof l:e&&"object"===(void 0===e?"undefined":G(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ze=function(e,s,i){le[e]&&d(le[e],(function(e){e.call(t,s,i,Ge)}))},et=function(e){var s=void 0;if(Ze("beforeSanitizeElements",e,null),Xe(e))return Ke(e),!0;var i=b(e.nodeName);if(Ze("uponSanitizeElement",e,{tagName:i,allowedTags:fe}),("svg"===i||"math"===i)&&0!==e.querySelectorAll("p, br").length)return Ke(e),!0;if(!fe[i]||ye[i]){if(Ie&&!Ve[i]&&"function"==typeof e.insertAdjacentHTML)try{var r=e.innerHTML;e.insertAdjacentHTML("AfterEnd",te?te.createHTML(r):r)}catch(e){}return Ke(e),!0}return"noscript"===i&&y(/<\/noscript/i,e.innerHTML)||"noembed"===i&&y(/<\/noembed/i,e.innerHTML)?(Ke(e),!0):(!_e||e.firstElementChild||e.content&&e.content.firstElementChild||!y(/</g,e.textContent)||(h(t.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=v(e.innerHTML,/</g,"&lt;"):e.innerHTML=v(e.textContent,/</g,"&lt;")),Te&&3===e.nodeType&&(s=e.textContent,s=v(s,de," "),s=v(s,pe," "),e.textContent!==s&&(h(t.removed,{element:e.cloneNode()}),e.textContent=s)),Ze("afterSanitizeElements",e,null),!1)},tt=function(e,t,s){if(Me&&("id"===t||"name"===t)&&(s in a||s in He))return!1;if(Ce&&y(ue,t));else if(xe&&y(me,t));else{if(!ke[t]||je[t])return!1;if(Re[t]);else if(y(be,v(s,ge,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==k(s,"data:")||!ze[e])if(Se&&!y(he,v(s,ge,"")));else if(s)return!1}return!0},st=function(e){var s=void 0,i=void 0,n=void 0,a=void 0,o=void 0;Ze("beforeSanitizeAttributes",e,null);var c=e.attributes;if(c){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(o=c.length;o--;){var d=s=c[o],h=d.name,f=d.namespaceURI;if(i=w(s.value),n=b(h),l.attrName=n,l.attrValue=i,l.keepAttr=!0,l.forceKeepAttr=void 0,Ze("uponSanitizeAttribute",e,l),i=l.attrValue,!l.forceKeepAttr){if("name"===n&&"IMG"===e.nodeName&&c.id)a=c.id,c=g(c,[]),We("id",e),We(h,e),p(c,a)>o&&e.setAttribute("id",a.value);else{if("INPUT"===e.nodeName&&"type"===n&&"file"===i&&l.keepAttr&&(ke[n]||!je[n]))continue;"id"===h&&e.setAttribute(h,""),We(h,e)}if(l.keepAttr)if(_e&&y(/\/>/i,i))We(h,e);else if(y(/svg|math/i,e.namespaceURI)&&y(j("</("+u(r(Ve),"|")+")","i"),i))We(h,e);else{Te&&(i=v(i,de," "),i=v(i,pe," "));var k=e.nodeName.toLowerCase();if(tt(k,n,i))try{f?e.setAttributeNS(f,h,i):e.setAttribute(h,i),m(t.removed)}catch(e){}}}}Ze("afterSanitizeAttributes",e,null)}},it=function e(t){var s=void 0,i=Qe(t);for(Ze("beforeSanitizeShadowDOM",t,null);s=i.nextNode();)Ze("uponSanitizeShadowNode",s,null),et(s)||(s.content instanceof o&&e(s.content),st(s));Ze("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(i,r){var n=void 0,a=void 0,c=void 0,d=void 0,p=void 0;if(i||(i="\x3c!--\x3e"),"string"!=typeof i&&!Ye(i)){if("function"!=typeof i.toString)throw x("toString is not a function");if("string"!=typeof(i=i.toString()))throw x("dirty is not a string, aborting")}if(!t.isSupported){if("object"===G(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof i)return e.toStaticHTML(i);if(Ye(i))return e.toStaticHTML(i.outerHTML)}return i}if(Pe||qe(r),t.removed=[],"string"==typeof i&&(Le=!1),Le);else if(i instanceof l)1===(a=(n=Je("\x3c!--\x3e")).ownerDocument.importNode(i,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!Ae&&!Te&&!Ee&&-1===i.indexOf("<"))return te&&Ne?te.createHTML(i):i;if(!(n=Je(i)))return Ae?null:se}n&&Oe&&Ke(n.firstChild);for(var u=Qe(Le?i:n);c=u.nextNode();)3===c.nodeType&&c===d||et(c)||(c.content instanceof o&&it(c.content),st(c),d=c);if(d=null,Le)return i;if(Ae){if(Be)for(p=oe.call(n.ownerDocument);n.firstChild;)p.appendChild(n.firstChild);else p=n;return De&&(p=ce.call(s,p,!0)),p}var m=Ee?n.outerHTML:n.innerHTML;return Te&&(m=v(m,de," "),m=v(m,pe," ")),te&&Ne?te.createHTML(m):m},t.setConfig=function(e){qe(e),Pe=!0},t.clearConfig=function(){Ge=null,Pe=!1},t.isValidAttribute=function(e,t,s){Ge||qe({});var i=b(e),r=b(t);return tt(i,r,s)},t.addHook=function(e,t){"function"==typeof t&&(le[e]=le[e]||[],h(le[e],t))},t.removeHook=function(e){le[e]&&m(le[e])},t.removeHooks=function(e){le[e]&&(le[e]=[])},t.removeAllHooks=function(){le={}},t}return W()}()},"./packages/browser-compatibility/index.ts":function(e,t,s){"use strict";s.r(t),s.d(t,"print",(function(){return i})),s.d(t,"getUserMedia",(function(){return r}));const i=()=>{navigator.vendor.includes("Apple")?document.execCommand("print"):window.print()};let r=null;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?r=(e,t,s)=>{navigator.mediaDevices.getUserMedia(e).then(t).catch(s)}:navigator.getUserMedia?r=navigator.getUserMedia.bind(navigator):navigator.webkitGetUserMedia&&(r=navigator.webkitGetUserMedia.bind(navigator))},"./packages/giphy/index.ts":function(e,t,s){"use strict";s.r(t),s.d(t,"getGiphyApi",(function(){return n})),s.d(t,"giphyStickersToTrelloStickers",(function(){return a})),s.d(t,"mapTrelloLocaleToGiphyLocale",(function(){return c}));var i=s("./node_modules/@giphy/js-fetch-api/dist/index.js"),r=s("./node_modules/memoize-one/dist/memoize-one.esm.js");const n=Object(r.a)((()=>new i.GiphyFetch("DOl4PIGDk4srrYJzMgI0KiTrL2qM2IG4"))),a=(e,t)=>e.map((e=>{const s=e.images.fixed_width_small;let i=s.url;t&&e.images.preview.webp&&(i=e.images.preview.webp);const r=e.images.fixed_width_small_still,n=parseInt(s.width,10),a=parseInt(s.height,10);if(n>a){if(a/n<.75)return null}else if(n/a<.75)return null;return{url:s.url,scaled:[{url:i,width:n,height:a}],stillUrl:r.url,stillScaled:[{url:r.url,width:n,height:a}]}})).filter((e=>!!e)),o={"en-AU":"en","en-GB":"en","en-US":"en","pt-BR":"pt","zh-Hans":"zh-CN","zh-Hant":"zh-TW"},c=e=>o[e]?o[e]:e},"./resources/images/cc.png":function(e,t,s){e.exports=s.p+"images/cc.21b2aa13eb0b71ba633f.png"},"./resources/images/collections/business-class-feature-roadmap.png":function(e,t,s){e.exports=s.p+"images/collections/business-class-feature-roadmap.cfed59ceb298324cf263.png"},"./resources/images/stickers/check.png":function(e,t,s){e.exports=s.p+"images/stickers/check.2825cc373d518d21acb2.png"},"./resources/images/stickers/check@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/check@2x.7290053d1708576b4baf.png"},"./resources/images/stickers/clock.png":function(e,t,s){e.exports=s.p+"images/stickers/clock.274b27f64c02ca0cd705.png"},"./resources/images/stickers/clock@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/clock@2x.5366f89447c3e91f47d7.png"},"./resources/images/stickers/frown.png":function(e,t,s){e.exports=s.p+"images/stickers/frown.b5c44de3bf6dd36cf8bc.png"},"./resources/images/stickers/frown@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/frown@2x.d43b636515d230e0e1ad.png"},"./resources/images/stickers/heart.png":function(e,t,s){e.exports=s.p+"images/stickers/heart.ccb4d362efc7dc250d10.png"},"./resources/images/stickers/heart@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/heart@2x.315f83d8e396825f0ab7.png"},"./resources/images/stickers/huh.png":function(e,t,s){e.exports=s.p+"images/stickers/huh.a57f2846cc60afe0d3e4.png"},"./resources/images/stickers/huh@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/huh@2x.2f9059c46976ae30316a.png"},"./resources/images/stickers/laugh.png":function(e,t,s){e.exports=s.p+"images/stickers/laugh.f2dd1dd6f5945e8f1da2.png"},"./resources/images/stickers/laugh@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/laugh@2x.1543ad1f70c0963f5fbb.png"},"./resources/images/stickers/pete-alert.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-alert.e021d24356b3f75742a7.png"},"./resources/images/stickers/pete-alert@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-alert@2x.12e2047369f2209a11d8.png"},"./resources/images/stickers/pete-award.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-award.e341f6a4687bac4d86ab.png"},"./resources/images/stickers/pete-award@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-award@2x.6c96abfe6191da38f506.png"},"./resources/images/stickers/pete-broken.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-broken.9703d25e0196f5d1a154.png"},"./resources/images/stickers/pete-broken@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-broken@2x.6c728b6e7a9e05e80050.png"},"./resources/images/stickers/pete-busy.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-busy.1aa41aedefce2ce80e27.png"},"./resources/images/stickers/pete-busy@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-busy@2x.7f431e9ee1ad9fabaafc.png"},"./resources/images/stickers/pete-completed.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-completed.68aead4d41f9f4aed7b7.png"},"./resources/images/stickers/pete-completed@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-completed@2x.da6d88c5ef2043139a85.png"},"./resources/images/stickers/pete-confused.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-confused.a0282453d98453f55aa9.png"},"./resources/images/stickers/pete-confused@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-confused@2x.a9177cd18f31d88c66e4.png"},"./resources/images/stickers/pete-ghost.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-ghost.a3b37adb0c5217d27eef.png"},"./resources/images/stickers/pete-ghost@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-ghost@2x.b48321f8a584a2a54b66.png"},"./resources/images/stickers/pete-happy.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-happy.e4790e5066725b5d4155.png"},"./resources/images/stickers/pete-happy@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-happy@2x.4c29c93d67330f3e566d.png"},"./resources/images/stickers/pete-love.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-love.486f2fa23b8d76ae8190.png"},"./resources/images/stickers/pete-love@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-love@2x.20a442732d8123e037a9.png"},"./resources/images/stickers/pete-music.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-music.81712ae4a84debcd6333.png"},"./resources/images/stickers/pete-music@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-music@2x.48403aa123895c4d64fa.png"},"./resources/images/stickers/pete-shipped.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-shipped.6d36e50160369eae028e.png"},"./resources/images/stickers/pete-shipped@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-shipped@2x.ebfcc0cc9adce809dc74.png"},"./resources/images/stickers/pete-sketch.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-sketch.d810919ee99918a69380.png"},"./resources/images/stickers/pete-sketch@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-sketch@2x.90cba9d180d3c72875cd.png"},"./resources/images/stickers/pete-space.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-space.39ccf8f732940140ded9.png"},"./resources/images/stickers/pete-space@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-space@2x.8c2b3c553420a6394b9d.png"},"./resources/images/stickers/pete-talk.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-talk.c0b6f3f95505b6d0883d.png"},"./resources/images/stickers/pete-talk@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-talk@2x.48607589629bafd9149a.png"},"./resources/images/stickers/pete-vacation.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-vacation.a71c97b1606f4afe6485.png"},"./resources/images/stickers/pete-vacation@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/pete-vacation@2x.d5b2dd95e12c57819c88.png"},"./resources/images/stickers/rocketship.png":function(e,t,s){e.exports=s.p+"images/stickers/rocketship.b44a048b811f0a404607.png"},"./resources/images/stickers/rocketship@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/rocketship@2x.6e898c0f17c02ecdc018.png"},"./resources/images/stickers/smile.png":function(e,t,s){e.exports=s.p+"images/stickers/smile.072cbd8037a71978a723.png"},"./resources/images/stickers/smile@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/smile@2x.d1638dd5951a29c4d4dd.png"},"./resources/images/stickers/star.png":function(e,t,s){e.exports=s.p+"images/stickers/star.5a16f73177f560c7be17.png"},"./resources/images/stickers/star@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/star@2x.8aaf5c9e688f80b40366.png"},"./resources/images/stickers/taco-active.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-active.8f34b8d33ea0a3df3906.png"},"./resources/images/stickers/taco-active@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-active@2x.83272719c60c68228016.png"},"./resources/images/stickers/taco-alert.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-alert.1e2b686cc2cae4275e2b.png"},"./resources/images/stickers/taco-alert@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-alert@2x.a5465d28947b51ca12ca.png"},"./resources/images/stickers/taco-angry.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-angry.12a291b8be87b3ea21b5.png"},"./resources/images/stickers/taco-angry@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-angry@2x.3f00295259b22aa6c6a0.png"},"./resources/images/stickers/taco-celebrate.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-celebrate.ba8d89317872277d730b.png"},"./resources/images/stickers/taco-celebrate@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-celebrate@2x.4cb46e9bd95fa7e041d5.png"},"./resources/images/stickers/taco-clean.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-clean.1dcbe23dec5243cecec8.png"},"./resources/images/stickers/taco-clean@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-clean@2x.997c0dfcf97f6f6fa5eb.png"},"./resources/images/stickers/taco-confused.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-confused.2c4f4a2aebe6f6692e5f.png"},"./resources/images/stickers/taco-confused@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-confused@2x.39d4e060e1fd6bf35d6a.png"},"./resources/images/stickers/taco-cool.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-cool.64fe3a94c68dbdfcdd99.png"},"./resources/images/stickers/taco-cool@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-cool@2x.3b9b13dd13effe08432a.png"},"./resources/images/stickers/taco-embarrassed.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-embarrassed.f3b24ef7a5d27097ab86.png"},"./resources/images/stickers/taco-embarrassed@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-embarrassed@2x.ef769d2a141355c08d0e.png"},"./resources/images/stickers/taco-love.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-love.7ce9fac1da3d211929b5.png"},"./resources/images/stickers/taco-love@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-love@2x.44bd0a0109dda0f8706d.png"},"./resources/images/stickers/taco-money.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-money.6d9f9a68e15d9a56f5cf.png"},"./resources/images/stickers/taco-money@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-money@2x.5b4b437ec9224433897e.png"},"./resources/images/stickers/taco-pixel.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-pixel.811cfaa5a2bd5e70e84a.png"},"./resources/images/stickers/taco-pixel@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-pixel@2x.56fca0dee66a7f8b7b8c.png"},"./resources/images/stickers/taco-proto.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-proto.7da9fba37d80d3bae59d.png"},"./resources/images/stickers/taco-proto@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-proto@2x.552affe7dc91a38348f1.png"},"./resources/images/stickers/taco-reading.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-reading.97813e2450fd98bf6cfb.png"},"./resources/images/stickers/taco-reading@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-reading@2x.7221a69f63ad71d6dfea.png"},"./resources/images/stickers/taco-robot.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-robot.a230a80a1bc7255368dd.png"},"./resources/images/stickers/taco-robot@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-robot@2x.9266ea6ca248f5fb9214.png"},"./resources/images/stickers/taco-sleeping.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-sleeping.3aa994dc53c056c6f419.png"},"./resources/images/stickers/taco-sleeping@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-sleeping@2x.58551b69c73b0c3abe12.png"},"./resources/images/stickers/taco-trophy.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-trophy.3a9dacbbcf2c9f5116b4.png"},"./resources/images/stickers/taco-trophy@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/taco-trophy@2x.399015dd07efc7557cc3.png"},"./resources/images/stickers/thumbsdown.png":function(e,t,s){e.exports=s.p+"images/stickers/thumbsdown.52c31c27f2fe7d7901f3.png"},"./resources/images/stickers/thumbsdown@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/thumbsdown@2x.4a69de4af1faba884665.png"},"./resources/images/stickers/thumbsup.png":function(e,t,s){e.exports=s.p+"images/stickers/thumbsup.a16e4077dfa7c7770137.png"},"./resources/images/stickers/thumbsup@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/thumbsup@2x.397f36a2a71c3018a6f3.png"},"./resources/images/stickers/warning.png":function(e,t,s){e.exports=s.p+"images/stickers/warning.8df25e4231fe31d88751.png"},"./resources/images/stickers/warning@2x.png":function(e,t,s){e.exports=s.p+"images/stickers/warning@2x.a678b1f2e6242bc1d31a.png"},"./resources/images/template-create-popover-icon.svg":function(e,t,s){e.exports=s.p+"images/template-create-popover-icon.9031d6f24be0b85716f8.svg"}}]);
//# sourceMappingURL=board-sidebar-view.35637b1a2f17cdebd424.js.map