/*! For license information please see card-detail-view.689c2bc20e49f5129279.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"./app/common/lib/util/format-coordinates.ts":function(e,t,n){"use strict";function i(e){const t=Math.abs(e),n=Math.floor(t),i="".concat(n,"Â°"),a=60*(t-n),r=Math.floor(a),o=0!==r?"".concat(r,"'"):"",s=60*(a-r),l=0!==Math.floor(s)?"".concat(s.toFixed(1),'"'):"";return"".concat(i).concat(o).concat(l)}function a(e,t){const n=e>=0?"N":"S",a=t>=0?"E":"W";return"".concat(i(e)).concat(n," ").concat(i(t)).concat(a)}n.r(t),n.d(t,"decimalToDegrees",(function(){return i})),n.d(t,"formatLatLng",(function(){return a}))},"./app/gamma/src/components/canonical-components/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return V}));var i=n("./packages/browser/index.ts"),a=n("./packages/trello-canonical-components/index.ts"),r=n("./packages/i18n/index.ts"),o=n("./app/common/lib/util/preview.ts"),s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./packages/dates/index.ts"),d=n("./app/gamma/src/util/dates.ts"),u=n("./app/gamma/src/util/sort.ts"),p=(n("./app/src/components/RouterLink/LinkWrapper.tsx"),n("./packages/trello-canonical-components/src/card-front/Badges.tsx")),m=n("./packages/colors/index.ts"),h=n("./packages/feature-flag-client/index.ts"),g=n("./packages/trello-canonical-components/src/card-front/CardLabel.tsx"),b=n("./app/src/components/CardFronts/LinkCard.tsx");function f(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const{ArchivedBadge:v,AttachmentsBadge:k,Card:y,CardBadges:C,CardCover:j,CardDetails:w,CardLabels:x,CardLink:_,CardMembers:E,CardStickers:S,CardTitle:O,ChecklistBadge:T,CommentsBadge:D,DescriptionBadge:N,DueDateBadge:I,NotificationBadge:A,Sticker:P,SubscribedBadge:B,TrelloAttachmentsBadge:L,VotesBadge:F}=a.CanonicalCard,M=Object(r.forTemplate)("canonical_card"),R={red:m.Red400,blue:m.TrelloBlue300,green:m.Green400,orange:m.Orange400,purple:m.Purple400,yellow:m.Yellow400,pink:m.Pink400,sky:m.Sky400,lime:m.Lime400,black:m.N800},U={red:"DotsChecker",blue:"StripeHorizontal",green:"StripeDiagonal",orange:"StripeVertical",purple:"GrooveDiagonal",yellow:"WaveSquare",pink:"BrickHorizontal",sky:"BrickDiagonal",lime:"Scale",black:"BrickVertical"},V=({name:e,team:t,members:n=[],labels:r=[],colorBlind:s,cover:m,coverHeight:f,archived:y,badges:_,isTemplate:V,stickers:z=[],expandLabels:H,numNotifications:W,replacements:K={},cardRole:q})=>{const $=_&&_.attachmentsByType?_.attachmentsByType.trello.board+_.attachmentsByType.trello.card:0,G=_?_.attachments-$:0,Z=((e,{hasStickers:t,heightOverride:n,colorBlind:a}={})=>{const r={height:0,img:"",bgColor:"",bgSize:"cover",sharedSourceUrl:"",pattern:null};if(!e)return r;const s=e?Object(o.smallestPreviewBiggerThan)(e.previews,Object(i.isHighDPI)()?600:300)||Object(o.biggestPreview)(e.previews):null;if(s){r.img=s.url?s.url:e.url,r.sharedSourceUrl=e.sharedSourceUrl,r.bgColor=e.edgeColor;const t=Math.min(s.height,260),n=245*s.height/s.width;n<=t?(r.height=n,r.bgSize="cover"):(r.height=t,r.bgSize="contain")}return e.color&&(r.bgColor=R[e.color],r.height=t?64:32,a&&(r.bgSize=void 0,r.pattern=U[e.color])),r.height=n||r.height,r})(m,{hasStickers:z.length>0,heightOverride:f,colorBlind:s}),J=new Set(t&&t.memberships?t.memberships.filter((e=>e.deactivated)).map((e=>e.idMember)):[]),Y=Object(h.seesVersionedVariation)("ecosystem.timeline-version","stable");return h.featureFlagClient.get("wildcard.link-cards",!1)&&"link"===q&&e?l.a.createElement(w,null,l.a.createElement(b.LinkCard,{url:e,isEditable:!1,openEditor:()=>{},hideCover:!0,hideActions:!0})):l.a.createElement(l.a.Fragment,null,m&&"full"!==m.size&&l.a.createElement(j,Z),z.length>0&&l.a.createElement(S,{height:Z.height?Z.height:64},z.map((e=>l.a.createElement(P,{key:e.id,left:e.left,top:e.top,alt:e.image,img:Object(i.isHighDPI)()&&e.imageUrl2x?e.imageUrl2x:e.imageUrl,rotate:e.rotate,zIndex:e.zIndex})))),l.a.createElement(w,null,r&&r.length>0&&l.a.createElement(x,null,r.filter((e=>!!e.color)).sort(u.b).map((e=>l.a.createElement(g.a,{key:e.id,color:e.color,pattern:s?g.b[e.color]:null},H?e.name||" ":null)))),K.CardTitle?K.CardTitle:l.a.createElement(O,null,e),l.a.createElement(C,null,V&&l.a.createElement(p.c,null,M("card template badge label")),!!W&&l.a.createElement(A,{numUnread:W}),_&&_.subscribed&&l.a.createElement(B,null),_&&_.votes>0&&!V&&l.a.createElement(F,{numVotes:_.votes,voted:_.viewingMemberVoted}),_&&(_.start||_.due)&&!V&&l.a.createElement(I,{dueDate:_.due,isComplete:_.dueComplete},Y&&Object(d.getStringForCombinedDateBadge)(_.start,_.due),!Y&&_.due&&Object(c.b)(_.due)),_&&_.description&&l.a.createElement(N,null),_&&_.comments>0&&l.a.createElement(D,{numComments:_.comments}),G>0&&l.a.createElement(k,{numAttachments:G}),$>0&&l.a.createElement(L,{numAttachments:$}),_&&_.checklistItems>0&&l.a.createElement(T,{numItems:_.checklistItems,numComplete:_.checklistItemsChecked,checkItemsEarliestDue:_.checkItemsEarliestDue}),y&&!V&&l.a.createElement(v,null,M("archived card badge label"))),n&&n.length>0&&l.a.createElement(E,null,n.sort(Object(u.a)("name")).reduceRight(((e,t)=>(e.push(l.a.createElement(a.CanonicalAvatar,{key:t.id,avatarSource:t.avatarSource,deactivated:J.has(t.id)||t.activityBlocked,img:t.avatars&&t.avatars[30],initials:t.initials,lightBackground:!0})),e)),[]))))},z=e=>{var t;let{className:n,style:i}=e,a=f(e,["className","style"]);return l.a.createElement(y,{className:n,style:i,cover:a.cover,colorBlind:a.colorBlind,coverHeight:a.coverHeight,truncateNameForFullCover:a.truncateNameForFullCover,hasStickers:!(null===(t=a.stickers)||void 0===t||!t.length)},l.a.createElement(V,a))}},"./app/gamma/src/util/dates.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"getDateDeltaString",(function(){return c})),n.d(t,"getStringForCombinedDateBadge",(function(){return d}));var i=n("./packages/i18n/index.ts"),a=n("./app/scripts/views/internal/due-date-helpers.js"),r=n("./packages/dates/index.ts"),o=n("./node_modules/moment/moment.js"),s=n.n(o);const l=Object(i.forNamespace)(),c=(e,t)=>{const n=s()(e),i=s()(t);return n.isSame(i,"day")?Math.abs(i.diff(e,"seconds"))<10?l("just now"):n.from(t):n.calendar(t)},d=(e,t,n)=>{if(n||(n=r.b),e&&t&&e<=t)return"".concat(n(e)," - ").concat(n(t));if(t)return"".concat(n(t));if(e){let t;return t="badge.start.past"===Object(a.relativeInforForStartDate)(e)?["badge","start","past"]:["badge","start","future"],l(t,{date:n(e)})}return""}},"./app/gamma/src/util/sort.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("./app/gamma/src/types/models.ts");const a=e=>(t,n)=>{if(!t[e]||!n[e])return 0;const i=t[e].toLocaleLowerCase(),a=n[e].toLocaleLowerCase();return i<a?-1:i>a?1:0},r=new Map([[i.d.Green,0],[i.d.Yellow,1],[i.d.Orange,2],[i.d.Red,3],[i.d.Purple,4],[i.d.Blue,5],[i.d.Sky,6],[i.d.Lime,7],[i.d.Pink,8],[i.d.Black,9],[null,999]]),o=({color:e},{color:t})=>{const n=r.get(e)-r.get(t),i=(e||"").toLowerCase().localeCompare(t||"");return r.has(e)&&r.has(t)?n:i}},"./app/scripts/data/dropbox.js":function(e,t){e.exports={DropboxPluginId:"55a5d915446f517774210002",DropboxClaimedHosts:["dropbox.com","www.dropbox.com","paper.dropbox.com"]}},"./app/scripts/data/moment/make-year-aware-calendar.js":function(e,t,n){const i=n("./node_modules/moment/moment.js"),a=n("./node_modules/underscore/underscore.js"),r=function(e,t){return"function"==typeof t?t.call(e):t};e.exports=function(e){e=a.clone(e);const{sameYear:t,sameElse:n}=e;return delete e.sameYear,e.sameElse=function(){return this.isSame(i(),"year")?r(this,t):r(this,n)},e}},"./app/scripts/data/power-up-suggestions/claimed-power-ups.js":function(e,t){e.exports={"app.box.com":"55a5d915446f517774210001","appear.in":"55a5d915446f517774210000","dropbox.com":"55a5d915446f517774210002","evernote.com":"55a5d915446f517774210003","github.com":"55a5d916446f517774210004","docs.google.com":"55a5d916446f517774210006","drive.google.com":"55a5d916446f517774210006","hangouts.google.com":"55a5d916446f517774210007","secure.helpscout.net":"55a5d917446f517774210008","force.com":"55a5d917446f517774210009","salesforce.com":"55a5d917446f517774210009","slack.com":"55a5d917446f51777421000a","twitter.com":"55a5d917446f51777421000b","zendesk.com":"56940ede94fd60cf95f7ce6a","join.me":"569411df90e3a6f655f73aaa","getcorrello.com":"568c2b6c7d2758a55ac48c98","fogbugz.com":"569d556febffd8769b0dc2ad","surveymonkey.com":"568c143d95adcd7308cbc3fb","publicate.it":"569d550d062c27feb4e6630c","app.intercom.io":"56cdf5f7071f133a93eb2363","app.screenful.me":"570262ea1100fa611d7e200a","pipedrive.com":"57c72026e3248df11df6621b","gmkr.io":"57dbc7dbc674083383e275a1","moxtra.com":"57e02011fd209122a72e85c3","includer.io":"57e22705114f96fa0aa532b0","cl.ly":"583f81ec5f46b0887c236afc","bitbucket.org":"588a331cc86ffbe08f5d2c67","realtimeboard.com":"5893c2b56bde057070fbc1b7","d.pr":"5894c177310f1e861bf12dc2","gitlab.com":"596d1abf23be1b7ab89cf4c4","figma.com":"59b2e7611e6ece0b35eac16a","invisionapp.com":"596f2cb2d279152540b2bb31","invis.io":"596f2cb2d279152540b2bb31","freshdesk.com":"59764210fef8fa7830ddee68"}},"./app/scripts/init/useSocketSubscription.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n("./app/scripts/init/subscriber.js"),r=n.n(a),o=n("./packages/error-reporting/index.ts");const s=(e,t,n)=>{Object(i.useEffect)((()=>{if(!n){if(t&&((i=t)&&/^[0-9a-fA-F]{24}$/.test(i))){return r()(((e,t)=>{switch(e){case"Member":return{idModel:t,modelType:e,tags:["messages","updates"]};case"Board":return{idModel:t,modelType:e,tags:["clientActions","updates"]};case"Organization":return{idModel:t,modelType:e,tags:["allActions","updates"]};default:throw new Error("Invalid modelType")}})(e,t))}Object(o.sendErrorEvent)(new Error("Cannot setup subscription to model '".concat(e,"' using an empty or invalid id: ").concat(t,".")))}var i;return()=>{}}),[e,t,n])}},"./app/scripts/lib/google-maps-api.js":function(e,t,n){const{importWithRetry:i}=n("./packages/use-lazy-component/index.ts"),a=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/bluebird/js/browser/bluebird.js"),o=n("./app/scripts/lib/util/index.js"),{googleMapsApiKey:s}=n("./packages/config/index.ts"),l=n("./resources/images/location-cluster.svg"),c=n("./resources/images/location-marker.png");let d="icon:".concat(encodeURIComponent(c));e.exports=new class{load(){return null==this._loadGoogleMapsApiPromise&&(this._loadGoogleMapsApiPromise=r.try((()=>{if(null==window.google||null==window.google.maps)return o.loadScript("https://maps.googleapis.com/maps/api/js?key=".concat(s,"&libraries=places"))})).return()),null==this._loadMarkerClustererPromise&&(this._loadMarkerClustererPromise=i((()=>n.e(77).then(n.t.bind(null,"./node_modules/@google/markerclustererplus/src/markerclusterer.js",7)))).then((e=>e.default)).then((e=>(this.MarkerClusterer=e,this.MarkerClusterer.prototype.setupStyles_=function(){if(!(this.styles_.length>0))return a.times(this.imageSizes_.length,(()=>this.styles_.push({url:l,height:40,width:40})))})))),r.all([this._loadGoogleMapsApiPromise,this._loadMarkerClustererPromise])}createGeocoder(){return new window.google.maps.Geocoder}createMap(e,t){return null==t&&(t={}),this.load().then((()=>new window.google.maps.Map(document.getElementById(e),t)))}createLatLng(e,t){return new window.google.maps.LatLng(e,t)}createLatLngBounds(){return new window.google.maps.LatLngBounds}createMarker(e){return null==e&&(e={}),new window.google.maps.Marker(e)}createMarkerClusterer(e,t,n){if(null==n&&(n={}),!this.MarkerClusterer)throw new Error("MarkerClusterer is not yet loaded. You need to await GoogleMapsApi.load() first");return new this.MarkerClusterer(e,t,n)}createInfoWindow(e){return null==e&&(e={}),new window.google.maps.InfoWindow(e)}getPlacesService(){return null!=this.placesService?this.placesService:this.placesService=new window.google.maps.places.PlacesService(document.createElement("div"))}getAutocompleteService(){return null!=this.autocompleteService?this.autocompleteService:this.autocompleteService=new window.google.maps.places.AutocompleteService}createPlacesSessionToken(){return new window.google.maps.places.AutocompleteSessionToken}autocomplete(e){null==e&&(e={});const{input:t,sessionToken:n}=e;return this.load().then((()=>new r(((e,i)=>this.getAutocompleteService().getPlacePredictions({input:t,sessionToken:n},((t,n)=>n!==window.google.maps.places.PlacesServiceStatus.OK?i(n):e(t)))))))}getPlaceDetails({placeId:e,sessionToken:t,fields:n}){return this.load().then((()=>new r(((i,a)=>this.getPlacesService().getDetails({placeId:e,sessionToken:t,fields:n},((e,t)=>t!==window.google.maps.places.PlacesServiceStatus.OK?a(t):i(e)))))))}getStaticMap(e){null==e&&(e={});const{zoom:t,width:n,height:i,scale:r,markers:o}=e;let l="https://maps.googleapis.com/maps/api/staticmap?key=".concat(s);return null!=t&&(l+="&zoom=".concat(t)),null!=n&&null!=i&&(l+="&size=".concat(n,"x").concat(i)),null!=r&&(l+="&scale=".concat(r)),null!=o&&(l+="&markers=".concat(d,"%7C"),a.each(o,(function({latitude:e,longitude:t},n){if(l+="".concat(encodeURIComponent(e),"%2C").concat(encodeURIComponent(t)),n!==o.length-1)return l+="%7C"}))),l}getUrl(e,t){return"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(e),"%2C").concat(encodeURIComponent(t))}}},"./app/scripts/lib/last-action/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"undoAction",(function(){return T})),n.d(t,"redoAction",(function(){return D})),n.d(t,"repeatAction",(function(){return N}));var i=n("./packages/action-history/index.ts"),a=n("./packages/atlassian-analytics/index.ts"),r=n("./packages/error-reporting/index.ts"),o=n("./app/scripts/db/model-cache.js"),s=n.n(o),l=n("./app/scripts/debug/constants.ts"),c=n("./app/scripts/views/lib/alerts.js"),d=n.n(c),u=n("./packages/dates/index.ts"),p=n("./packages/i18n/index.ts");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=Object(p.forNamespace)("notificationsGrouped",{shouldEscapeStrings:!1});function f({card:e,traceId:t,taskName:n,subTask:i,source:r,field:o}){return Object(a.tracingCallback)({taskName:n,subTask:i,traceId:t,source:r},(()=>{a.Analytics.sendUpdatedCardFieldEvent({field:o,source:r,containers:{card:{id:e.id},board:{id:e.get("idBoard")},list:{id:e.get("idList")}},attributes:{taskId:t}})}))}class v extends Error{constructor(){super("noop"),this.name="NoopError"}}const k=(e,t)=>{const n=s.a.get(e,t);if(!n)throw new v;return n},y={join:(e,t,n)=>{if(e.hasMember(t.idMember))throw new v;const{traceId:i}=n;return e.addMemberWithTracing(t.idMember,i,f(h({card:e},n))),b("notification_joined_card")},leave:(e,t,n)=>{if(!e.hasMember(t.idMember))throw new v;const{traceId:i}=n;return e.removeMemberWithTracing(t.idMember,i,f(h({card:e},n))),b("notification_left_card")},"add-member":(e,t,n)=>{if(e.hasMember(t.idMember))throw new v;const{traceId:i}=n;e.addMemberWithTracing(t.idMember,i,f(h({card:e},n)));const a=k("Member",t.idMember);return b("notification_added_member_to_card",{member:a.get("fullName")})},"remove-member":(e,t,n)=>{if(!e.hasMember(t.idMember))throw new v;const{traceId:i}=n;e.removeMemberWithTracing(t.idMember,i,f(h({card:e},n)));const a=k("Member",t.idMember);return b("notification_removed_member_from_card",{member:a.get("fullName")})},move:(e,t)=>{const n=e.get("idBoard"),i=e.get("idList"),a=k("List",t.idList);let r;var o;return r="top"===t.position?0:"bottom"===t.position?a.openCards().length:t.position+1,e.moveToList(a,r),n!==t.idBoard?b("notification_moved_card_to_board",{list:a.get("name"),board:null===(o=k("Board",t.idBoard))||void 0===o?void 0:o.get("name")}):i===t.idList?b("notification_moved_card_within_list",{list:a.get("name")}):b("notification_moved_card",{list:a.get("name")})},"add-label":(e,t)=>{const n=k("Label",t.idLabel);if(e.hasLabel(n))throw new v;return e.toggleLabel(n,!0),b("notification_added_label_to_card",{label:n.get("name")})},"remove-label":(e,t)=>{const n=k("Label",t.idLabel);if(!e.hasLabel(n))throw new v;return e.toggleLabel(n,!1),b("notification_removed_label_from_card",{label:n.get("name")})},archive:(e,t,n)=>{if(e.get("closed"))throw new v;const{traceId:i}=n;return e.close(i,f(h({card:e},n))),b("notification_archived_card")},unarchive:(e,t,n)=>{if(!e.get("closed"))throw new v;const{traceId:i}=n;return e.reopen(i,f(h({card:e},n))),b("notification_unarchived_card")},"set-due-date":(e,{dueDate:t},n)=>{var i;const a=(null===(i=e.getDueDate())||void 0===i?void 0:i.getTime())||null,r=e.get("dueReminder")||-1;if(a===t.due&&r===t.dueReminder)throw new v;const{traceId:o}=n;if(e.setDueDate(h(h({},t),{},{traceId:o}),f(h({card:e},n))),!t.due)return b("notification_removed_due_date");const s=Object(u.b)(new Date(t.due));return a?t.due===a?b("notification_changed_due_date_reminder"):b("notification_changed_due_date",{date:s}):b("notification_added_a_due_date",{date:s})},rename:(e,t,n)=>{e.recordAction(h(h({},t),{},{previousName:e.get("name")}));const{traceId:i}=n;return e.update({name:t.name,traceId:i},f(h({card:e},n))),b("notification_renamed_card")},"update-description":(e,t,n)=>{e.recordAction(h(h({},t),{},{previousDescription:e.get("desc")}));const{traceId:i}=n;return e.update({desc:t.description,traceId:i},f(h({card:e},n))),b("notification_updated_description_of_card")}},C={join:y.leave,leave:y.join,"add-member":y["remove-member"],"remove-member":y["add-member"],move:(e,t,n,i)=>{const a=k("List",i.idList);return e.moveToList(a,t.fromPosition),t.idBoard!==i.idBoard?b("notification_moved_card_to_board",{list:a.get("name"),board:k("Board",i.idBoard).get("name")}):t.idList===i.idList?b("notification_moved_card_within_list",{list:a.get("name")}):b("notification_moved_card",{list:a.get("name")})},"add-label":y["remove-label"],"remove-label":y["add-label"],archive:y.unarchive,unarchive:y.archive,"set-due-date":(e,t,n,i)=>{var a;const r=h(h({},t),{},{dueDate:t.previousDueDate,previousDueDate:t.dueDate});return null===(a=y["set-due-date"])||void 0===a?void 0:a.call(y,e,r,n,i)},rename:(e,t,n,i)=>{var a;const r=h(h({},t),{},{name:t.previousName,previousName:t.name});return null===(a=y.rename)||void 0===a?void 0:a.call(y,e,r,n,i)},"update-description":(e,t,n,i)=>{var a;const r=h(h({},t),{},{description:t.previousDescription,previousDescription:t.description});return null===(a=y["update-description"])||void 0===a?void 0:a.call(y,e,r,n,i)}},j={join:"joinCardAction",leave:"leaveCardAction","add-member":"addMemberToCardAction","remove-member":"removeMemberFromCardAction",move:"moveCardAction","add-label":"addLabelToCardAction","remove-label":"removeLabelFromCardAction",archive:"archiveCardAction",unarchive:"unarchiveCardAction","set-due-date":"setCardDueDateAction",rename:"renameCardAction","update-description":"updateCardDescriptionAction"};const w=({idBoard:e},{action:t,context:n})=>!e||e===n.idBoard||(e=>"move"===e.type)(t)&&t.idBoard===e,x=({idCard:e},{context:t})=>!e||e===t.idCard,_=["join","leave","add-member","remove-member","move","add-label","remove-label","archive","unarchive","set-due-date","rename"],E=({source:e},{action:t})=>"cardDetailScreen"===e||_.includes(t.type),S={"add-checklist":{taskName:"edit-card",subTask:"checklist",field:"checklist"},"add-label":{taskName:"edit-card",subTask:"idLabels",field:"idLabels"},"add-member":{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},archive:{taskName:"edit-card",subTask:"closed",field:"closed"},delete:{taskName:"delete-card",field:"id"},join:{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},leave:{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},move:{taskName:"edit-card",subTask:"pos",field:"position"},"remove-label":{taskName:"edit-card",subTask:"idLabels",field:"idLabels"},"remove-member":{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},rename:{taskName:"edit-card",subTask:"name",field:"name"},"set-due-date":{taskName:"edit-card",subTask:"due",field:"due"},"update-description":{taskName:"edit-card",subTask:"desc",field:"description"},unarchive:{taskName:"edit-card",subTask:"closed",field:"closed"}};function O({analyticsAction:e,entry:{action:t,context:n},userContext:i,map:o,callback:c}){const u=o[t.type];if(!u)return;let p,m;const h=S[t.type],{taskName:g,subTask:b,field:f}=h,k={traceId:"move"!==t.type?a.Analytics.startTask({taskName:g,subTask:b,source:i.source}):"",taskName:g,subTask:b,field:f,source:i.source};try{if(p=s.a.get("Card","repeated"===e?i.idCard:n.idCard),!p)return;m=u(p,t,k,n),null==c||c()}catch(o){var y,C;if(o instanceof v){const{traceId:e,taskName:t,subTask:n,source:i}=k;return void(e&&a.Analytics.taskAborted({traceId:e,taskName:t,subTask:n,source:i}))}Object(r.sendErrorEvent)(o,{tags:{ownershipArea:"trello-workflowers",feature:l.Feature.UndoAction},extraData:{analyticsAction:e,actionType:t.type,idCard:n.idCard,idBoard:n.idBoard,source:i.source,viewingCard:null!==(y=i.idCard)&&void 0!==y?y:"",viewingBoard:null!==(C=i.idBoard)&&void 0!==C?C:""}});const{traceId:s,taskName:c,subTask:d,source:u}=k;return void(s&&a.Analytics.taskFailed({traceId:s,taskName:c,subTask:d,source:u,error:o}))}m&&d.a.showLiteralText(m,"subtle","lastAction",2e3),function({analyticsAction:e,actionType:t,card:n,source:i}){a.Analytics.sendTrackEvent({action:e,actionSubject:"action",actionSubjectId:j[t],source:i,containers:{board:{id:n.get("idBoard")},card:{id:n.id}}})}({analyticsAction:e,actionType:t.type,card:p,source:i.source})}function T(e){const[t]=i.ActionHistory.get();t&&!Object.prototype.hasOwnProperty.call(t,"count")&&w(e,t)&&x(e,t)&&E(e,t)&&O({analyticsAction:"undone",entry:t,userContext:e,map:C,callback:()=>i.ActionHistory.undo()})}function D(e){const[t]=i.ActionHistory.getUndoStack();t&&w(e,t)&&x(e,t)&&E(e,t)&&O({analyticsAction:"redone",entry:t,userContext:e,map:y,callback:()=>i.ActionHistory.redo()})}function N(e){const[t]=i.ActionHistory.get();t&&!Object.prototype.hasOwnProperty.call(t,"count")&&w(e,t)&&!x(e,t)&&E(e,t)&&O({analyticsAction:"repeated",entry:t,userContext:e,map:y})}},"./app/scripts/lib/localize-count.js":function(e,t,n){const i=n("./app/scripts/lib/try-babble.js"),a=n("./node_modules/underscore/underscore.js"),{counting:r}=n("locale");e.exports=function(e,t,n,o){null==n&&(n={}),null==o&&(o={});const s=a.extend({count:String(t)},n);return i(["counts",e,r(t)],s,o)}},"./app/scripts/lib/plugins/plugin-cover-with-defaults.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/lib/plugins/plugin-validators.js");e.exports=function(e){const t={edgeColor:"transparent",height:e.height,size:"contain",padding:"0",position:"center",stickerHeight:e.height,url:e.url};return a.isValidHexColor(e.edgeColor)&&(t.edgeColor=e.edgeColor),"cover"===e.position?t.size="cover":i.isObject(e.position)&&(!0===e.position.padding&&(t.padding="8px",t.stickerHeight+=16),i.contains(["center","left","right"],e.position.align)&&(t.position=e.position.align)),t}},"./app/scripts/lib/power-up-suggestions/power-up-suggester.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./node_modules/url-parse/index.js");e.exports=class{constructor(e){this.claimedDomains=e}_hasIPAddressFormat(e){return/^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/.test(e)}_urlIsValid(e){if(null==e)return!1;const{protocol:t}=e;return("http:"===t||"https:"===t)&&!this._hasIPAddressFormat(e.hostname)}_findClaimedPowerUpIdFromNakedDomainByHostname(e){const t=Object.keys(this.claimedDomains),n=i.find(t,(function(t){const n=e.length-t.length-1;return e.slice(n)===".".concat(t)}));return this.claimedDomains[n]}getPowerUpIdFromClaimedPowerUpDomains(e){const t=a(e);if(this._urlIsValid(t)){const{hostname:e}=t;return null!=this.claimedDomains[e]?this.claimedDomains[e]:this._findClaimedPowerUpIdFromNakedDomainByHostname(e)}}}},"./app/scripts/lib/util/array/count-while.js":function(e,t){e.exports=function(...e){const t=Math.max(e.length,1),n=e.slice(0,t-1),i=e[t-1],[a,...r]=Array.from(n);if(null==a)return 0;if(r.length>0)for(let e=0;e<a.length;e++){const t=a[e];for(const n of Array.from(r))if(n.length<=e||!i(t,n[e]))return e}return a.length}},"./app/scripts/lib/util/decaying-interval.js":function(e,t,n){const i=n("./app/scripts/lib/util/index.js"),a={resetAfterMouseMove:!0,intervals:[{iterations:6,timeout:i.getMs({seconds:10})},{iterations:10,timeout:i.getMs({minutes:1})}]};e.exports=function(e,t){null==t&&(t=a);let n=null,i=null,r=!1;const o=function(){clearTimeout(i),r&&(document.removeEventListener("mousemove",c),r=!1)},s=function(){t.resetAfterMouseMove&&!r&&(document.addEventListener("mousemove",c),r=!0)},l=function(){if(n.length){const a=n.shift();i=setTimeout((function(){return e(),requestAnimationFrame(l)}),a),a>t.intervals[0].timeout&&s()}else s()},c=function(){o(),n=[];for(const{iterations:e,timeout:i}of Array.from(t.intervals))for(let t=0,a=e,r=0<=a;r?t<a:t>a;r?t++:t--)n.push(i);l()};return c(),o}},"./app/scripts/lib/util/event/custom-event.js":function(e,t){e.exports=(()=>{try{return new window.CustomEvent("testEvent"),window.CustomEvent}catch(e){const t=function(e,t){null==t&&(t={bubbles:!1,cancelable:!1,detail:void 0});const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};return t.prototype=window.Event.prototype,t}})()},"./app/scripts/lib/util/event/trigger-list.js":function(e,t,n){const i=n("./app/scripts/lib/util/event/custom-event.js");e.exports=function(e,t,n){const a=new i(t,{bubbles:!1,cancelable:!1,detail:null!=n.detail?n.detail:void 0});let r=!1;a.stopPropagation=function(){return r=!0,i.prototype.stopPropagation.apply(this,arguments)};for(const t of Array.from(e))r||t.dispatchEvent(a)}},"./app/scripts/lib/util/event/trigger.js":function(e,t,n){const i=n("./app/scripts/lib/util/event/custom-event.js");e.exports=function(e,t,n){null==n&&(n={});const a=new i(t,{bubbles:null==n.bubbles||n.bubbles,cancelable:null!=n.cancelable&&n.cancelable,detail:null!=n.detail?n.detail:void 0});return e.dispatchEvent(a)}},"./app/scripts/lib/util/markdown-tracker.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"markdownTracker",(function(){return c}));var i=n("./app/scripts/lib/markdown/tfm.js"),a=n.n(i),r=n("./packages/atlassian-analytics/index.ts"),o=n("./packages/error-reporting/index.ts"),s=n("./app/scripts/debug/constants.ts");const{featureFlagClient:l}=n("./packages/feature-flag-client/index.ts"),c=(e,t)=>{try{if(l.get("growth.trello-markdown-tracking",!1)){const n={description:a.a.description,checkItems:a.a.checkItems,comments:a.a.comments},i=Date.now();if(Object.hasOwnProperty.call(n,t)){const i=n[t].analyze(null!=e?e:"")||[],a={},o=i.filter((e=>{const{rule:t}=e;return"paragraph"!==t&&"text"!==t}));o.length>0&&(o.forEach((e=>{const{rule:t}=e;Object.hasOwnProperty.call(a,t)||(a[t]=0),a[t]=a[t]+1})),r.Analytics.sendOperationalEvent({action:"updated",actionSubject:"trackMarkdown",source:"lib:markdownTracker",attributes:{markdownTypeCount:a,markdownLocation:t}}))}const o=Date.now();r.Analytics.sendOperationalEvent({action:"completed",actionSubject:"trackMarkdown",source:"lib:markdownTracker",attributes:{totalProcessTimeInMs:o-i}})}}catch(e){Object(o.sendErrorEvent)(e,{tags:{ownershipArea:"trello-workflowers",feature:s.Feature.MarkdownTracker}})}}},"./app/scripts/lib/util/naive-should-component-update.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/lib/util/is-plain-object.js"),r=n("./node_modules/react/index.js");e.exports=function(e,t){return!(o(e,this.props)&&o(t,this.state))};const o=function(e,t){if(a(e)&&a(t)){if(i.keys(e).length!==i.keys(t).length)return!1;for(const n in e)if(!o(e[n],t[n]))return!1}else if(r.isValidElement(e)&&r.isValidElement(t)){if(!o([e.props,e.state],[t.props,t.state]))return!1}else if(i.isArray(e)&&i.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!o(e[n],t[n]))return!1}else{if(i.isFunction(e)&&i.isFunction(t))return!0;if(e!==t)return!1}return!0}},"./app/scripts/lib/util/removeAllRanges.js":function(e,t){e.exports=function(){if(window.getSelection){if(window.getSelection().empty)return window.getSelection().empty();if(window.getSelection().removeAllRanges)return window.getSelection().removeAllRanges()}else if(document.selection)return document.selection.empty()}},"./app/scripts/lib/util/selection/has-selection-in.js":function(e,t){e.exports=function(e){const t=window.getSelection(),n=t.toString(),i=t.anchorNode;return!!n&&!!e.find(i).length}},"./app/scripts/lib/util/selection/has-selection.js":function(e,t){e.exports=()=>{return e="function"==typeof window.getSelection?window.getSelection():void 0,t=e=>e.toString(),(null!=e?t(e):void 0)||(null!=document.selection?document.selection.createRange().text:void 0);var e,t}},"./app/scripts/lib/util/text/html-encode.js":function(e,t){e.exports=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;")},"./app/scripts/lib/util/text/links-from-markdown.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js");e.exports=function(e,t){let n=[];for(const i of Array.from(t.blockLex(e,{})))null!=i.children&&(n=[...Array.from(n),...Array.from(t.inlineLex(i.children.text))]);return i.chain(n).filter((e=>"link"===e.type)).map((function(n){return null!=(e=null!=n.children?n.children.text:void 0)?{url:n.url,text:t.textInline(null!=n.children?n.children.text:void 0)}:{url:n.url}})).value()}},"./app/scripts/lib/util/text/search-filter.js":function(e,t){e.exports=e=>{const t=e.toLowerCase().split(/[\s,]+/),n=t.map(((e,n)=>0===e.length?e=>!0:n===t.length-1?t=>0===t.toLowerCase().indexOf(e):t=>t.toLowerCase()===e));return e=>{Array.isArray(e)&&(e=e.join(" "));const t=e.toLowerCase().split(/\s+/);return n.every((e=>t.some((t=>e(t)))))}}},"./app/scripts/lib/util/url/contains-valid-url.js":function(e,t){e.exports=e=>new RegExp("(https?|ftp):\\/\\/(([a-z0-9$_\\.\\+!\\*\\'\\(\\),;\\?&=-]|%[0-9a-f]{2})+(:([a-z0-9$_\\.\\+!\\*\\'\\(\\),;\\?&=-]|%[0-9a-f]{2})+)?@)?((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*[a-z][a-z0-9-]*[a-z0-9]|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5]))(:\\d+)?)(((\\/+([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)*(\\?([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)?)?)?(\\#([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)?").test(null!=e?e.toLowerCase():void 0)},"./app/scripts/views/action/action-list-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{ActionView:a}=n("./app/scripts/views/action/action-view.js"),r=n("./app/scripts/views/action/comment-action-view.js"),o=n("./app/scripts/lib/dates.js"),s=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./node_modules/underscore/underscore.js"),d=n("./node_modules/moment/moment.js"),{featureFlagClient:u}=n("./packages/feature-flag-client/index.ts");e.exports=class extends l{initialize({renderOpts:e,highlight:t}){return this.renderOpts=e,this.highlight=t,this.makeDebouncedMethods("render"),this.listenTo(this.collection,"add reset",this.renderDebounced),this.listenTo(this.collection,"remove",(()=>(this.removeActionViews(),this.renderDebounced()))),this.actionViews=[],this.showDetails=!0}render(){return this.collection._getRelatedBoards().then((()=>{const e=""===this.$el.html()||this.showDetails!==this._lastShowDetails||this.missingViews();this._lastShowDetails=this.showDetails,this.rerender(e,!0)})).then((()=>{this.trigger("render")})).done()}missingViews(){return c.any(this.actionViews,(e=>!i.contains(this.el,e.el)))}sortActions(e){return c.sortBy(e,(e=>o.parse(e.get("date")))).reverse()}rerender(e,t){const[n,i]=Array.from(this.saveEdits());let a=this.collection.models;u.get("nusku.filter-deleted-actions",!1)&&(a=a.filter((e=>void 0!==e.attributes&&(!e.id||void 0!==this.modelCache.get("Action",e.id))))),a=this.sortActions(a),this.showDetails||(a=c.filter(a,(e=>e.isCommentLike())));const r=y(a).slice(0,this.renderOpts.limit);e&&t&&this.removeActionViews(),this.$(".js-board-member-profile-no-activity").toggleClass("hide",r.length>0);for(let t=0;t<r.length;t++){const a=r[t];if(e||this.actionNeedsRerender(a,t)){const o=this.rerenderAction(a,t,r,{rerenderAll:e});this.restoreEdits(n,i,o)}}}setShowDetails(e){return this.showDetails=e}saveEdits(){const e=[];let t=0;return this.$(".editing textarea").each((function(){const n=i(this);e.push(n.val()),n.is(":focus")&&(n.parents(".editing").addClass("focused"),t=s.getCaretPosition(n))})),null!=e&&e.reverse(),[e,t]}restoreEdits(e,t,n){if(n.$el.hasClass("editing")){n.$("textarea").val(e.pop());const i=s.getElem(n.$("textarea"));return n.$el.hasClass("focused")&&s.setCaretPosition(i,t),n.openEditView()}}_viewForAction(e){return/^comment/.test(e.get("type"))?this.subview(r,e,this.renderOpts):this.subview(a,e,this.renderOpts)}rerenderAction(e,t,n,i){const a=this._viewForAction(e),r=this.highlight&&this.highlight===e.id;return a.setHighlighted(r),i.rerenderAll?(this.appendSubview(a),this.actionViews.push(a)):(this.insertActionView(a,t),1===this.actionViews.length&&1===n.length?(this.actionViews[t].remove(),this.actionViews.splice(t,1,a)):null==this.actionViews[t+1]?this.actionViews.splice(t,1,a):n.length<=this.actionViews.length?this.actionViews[t+1].model.id===C(c.first(n[t+1]),(e=>e.id))?(this.actionViews[t].remove(),this.actionViews.splice(t,1,a)):(this.actionViews.splice(t,0,a),C(this.actionViews[this.actionViews.length-1],(e=>e.remove())),this.actionViews=this.actionViews.splice(0,this.actionViews.length-1)):this.actionViews.splice(t,0,a)),a}actionNeedsRerender(e,t){const n=null!=e.id?"id":"cid";C(C(this.actionViews[t+1],(e=>e.model)),(e=>e[n]))===e[n]&&(this.actionViews[t].remove(),this.actionViews.splice(t,1));const i=this.actionViews[t];return!i||e[n]!==i.model[n]}insertActionView(e,t){return this.actionViews[t]?(e.delegateEvents(),e.render().$el.insertBefore(this.actionViews[t].el)):this.appendSubview(e)}removeActionViews(){this.removeSubviews(),this.actionViews=[]}delegateEvents(){super.delegateEvents(...arguments);for(const e of Array.from(this.actionViews))e.delegateEvents()}undelegateEvents(){super.undelegateEvents(...arguments);for(const e of Array.from(this.actionViews))e.undelegateEvents()}remove(){return this.removeActionViews(),super.remove(...arguments)}setHighlight(e){let t,n,i;e!==this.highlight&&(this.highlight&&null!=(n=this.collection.get(this.highlight))&&(i=this._viewForAction(n),i.setHighlighted(!1)),this.highlight=e,this.highlight&&(t=this.collection.get(this.highlight))&&(i=this._viewForAction(t),i.setHighlighted(!0)))}};const p=e=>t=>function(n,i){return e in n&&e in i&&n[e].id===i[e].id?t(n,i):[!1,!1]},m=p("card"),h=p("board"),g=e=>[e,e],b=function(e,t){if(null==t)return!1;if(0===e.length)return!0;const[n,...i]=Array.from(e);return b(i,t[n])},f=(e,...t)=>c.all(t,(t=>b(e,t))),v=[{a:"removeMemberFromCard",b:"addMemberToCard",cancel:m(((e,t)=>g(e.idMember===t.idMember)))},{a:"deleteAttachmentFromCard",b:"addAttachmentToCard",cancel:m(((e,t)=>g(e.attachment.id===t.attachment.id)))},{a:"updateCheckItemStateOnCard",b:"updateCheckItemStateOnCard",cancel:m(((e,t)=>g(e.checkItem.id===t.checkItem.id)))},{a:"updateCard",b:"updateCard",cancel:m(((e,t)=>g("listAfter"in e&&"listBefore"in t&&e.listAfter.id===t.listBefore.id)))},{a:"addChecklistToCard",b:"removeChecklistFromCard",cancel:m(((e,t)=>g(e.checklist.id===t.checklist.id)))},{a:"updateBoard",b:"updateBoard",cancel:h(((e,t)=>[f(["board","prefs","background"],e,t),!1]))}],k=(e,t)=>v.reduce((function(n,i){return e.type!==i.a||t.type!==i.b?n:function(...e){const[t,n]=Array.from(e[0]),[i,a]=Array.from(e[1]);return[t||i,n||a]}(n,i.cancel(e,t))}),[!1,!1]),y=function(e){if(1===e.length)return e;const t={},n=e.slice(0,-1);for(let i=0;i<n.length;i++){const a=n[i].toJSON(),r=e[i+1].toJSON();if(c.extend(a,a.data),c.extend(r,r.data),a.idMemberCreator===r.idMemberCreator&&d(a.date).diff(r.date,"minutes")<5&&!t[a.id]&&!t[r.id]){const[e,n]=Array.from(k(a,r));e&&(t[a.id]=!0),n&&(t[r.id]=!0)}}return c.reject(e,(e=>t[e.id]))};function C(e,t){return null!=e?t(e):void 0}},"./app/scripts/views/action/action-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=n("./packages/jquery/index.js"),s=n("./app/scripts/views/member-menu-profile/activity-member-menu-view.js"),{siteDomain:l}=n("./packages/config/index.ts"),c=n("./app/scripts/views/attachment/helpers.js"),d=n("./app/scripts/views/internal/attachment-viewer.js"),u=n("./app/scripts/db/auth.js"),p=n("./app/scripts/views/internal/board-display-helpers.js"),m=n("./packages/browser/index.ts"),h=n("./app/scripts/controller/index.js"),g=n("./app/scripts/lib/dates.js"),b=n("./app/scripts/lib/entity-display.js"),f=n("./app/scripts/lib/util/selection/has-selection.js"),v=n("./app/scripts/db/known-services.js"),k=n("./app/scripts/db/model-cache.js"),y=n("./app/scripts/views/lib/pop-over.js"),C=n("./node_modules/react/index.js"),j=n("./packages/react-dom-wrapper/index.ts"),w=n("./app/scripts/views/reactions/reaction-piles.js"),x=n("./app/scripts/lib/markdown/tfm.js"),_=n("./app/scripts/lib/util/index.js"),E=n("./app/scripts/views/internal/view.js"),S=n("./node_modules/underscore/underscore.js"),O=n("./app/scripts/views/internal/friendly-links.js"),T=n("./app/scripts/debug/log.js"),D=n("./node_modules/moment/moment.js"),N=n("./app/scripts/views/internal/templates.js"),{Analytics:I}=n("./packages/atlassian-analytics/index.ts"),{track:A,trackUe:P}=n("./packages/analytics/index.ts"),B=n("./app/scripts/lib/localize.js"),L=n("./app/scripts/views/templates/action.js"),F=n("./node_modules/bluebird/js/browser/bluebird.js"),M=n("./app/scripts/views/internal/plugins/plugin-runner.js"),R=n("./app/scripts/views/templates/comment-unfurl-preview.js"),U=n("./app/scripts/lib/plugins/plugin-validators.js"),{featureFlagClient:V}=n("./packages/feature-flag-client/index.ts"),{navigate:z}=n("./app/scripts/controller/navigate.js"),H=n("./node_modules/url-parse/index.js"),W={"click .js-show-mem-menu":"viewMemberActionMenu","click .js-open-attachment-viewer":"openAttachmentViewer","click .js-open-card":"openCard","click .js-reply-to-action":"reply","click .js-reply-to-all-action":"replyAll","click .js-expand-comment":"expandComment","click .js-app-creator-link":"onAppCreatorLinkClicked","click a":"checkAttachment"};class K extends E{static initClass(){this.prototype.className="phenom",this.prototype.events=W}initialize({context:e,highlighted:t,source:n}){let i;this.context=e,this.highlighted=t,this.source=n,this.listenTo(this.model,"takingTooLong change",this.render);const a=this.model.get("data");if(null!=(null!=a.card?a.card.id:void 0)&&a.board){let e;this.listenTo(this.modelCache,"remove:Action:".concat(this.model.get("id")),(()=>this.remove())),null!=(e=this.model.getCard())&&e.id!==this.context.id&&this.listenTo(e,"change:name",this.render)}null!=(i=this.model.getChecklist())&&this.listenTo(i,"change:name",this.render),this.listenTo(this.model.reactionList,"add remove reset",this.renderReactions),this.linkCardFlagEnabled=V.get("wildcard.link-cards",!1)}getData(){const e=new b("action").getEntities(this.model.getDisplay(),this.context.id);return{saved:null!=this.model.id,entities:S.map(e,this._withEntityInfo.bind(this)),date:this.model.get("date"),dateLastEdited:this.model.get("data").dateLastEdited,textData:this.model.get("data").textData,url:null!=this.model.getCard()?h.getActionUrl(this.model):null,appCreator:this.model.getAppCreator()}}getTrackingContext(){const{card:e,list:t,board:n}=this.model.get("data"),i="Card"===this.context.typeName?"card detail":"board sidebar";return S.extend({},{actionId:this.model.id,cardId:null!=e?e.id:void 0,listId:null!=t?t.id:void 0,boardId:null!=n?n.id:void 0},{category:i})}trackWithData(e,t,n,i,a){const{category:r}=this.getTrackingContext(),o=JSON.stringify(S.omit(this.getTrackingContext(),"category"));return P(r,e,t,n,i,a,o)}getContext(){const e={},t=u.me(),n=this.modelCache.get("Board",q(q(this.model.get("data"),(e=>e.board)),(e=>e.id)));if(this.options.showBoard&&null!=n&&(e.board=n.toJSON({prefs:!0,url:!0}),e.boardPLevelIconClass=p.getPermLevelIconClassForBoard(n),e.boardPLevelAltText=p.getPermLevelAltTextForBoard(n)),this.options.showOrganization){const t=this.modelCache.get("Organization",q(q(this.model.get("data"),(e=>e.organization)),(e=>e.id)));null!=t&&(e.organization=t.toJSON({prefs:!0,url:!0}),e.orgPLevelIconClass=t.getPermLevel(),e.orgPLevelAltText=B(["org perms",t.getPermLevel(),"text"]))}const i=this.modelCache.get("Member",this.model.get("idMemberCreator"));return e.canReply=(null!=n?n.canComment(t):void 0)&&(this.model.isAddAttachment()||this.model.isCommentLike()&&null!=i&&!u.isMe(i)),e.canReplyAll=e.canReply&&new RegExp(/@([a-z0-9_]+)/).test(this.model.get("data").text),e.canDelete=this.model.deletable(),e.canEdit=this.model.editable(),e.member=null!=i?i.toJSON():void 0,null!=e.member&&(e.member.url=h.getMemberProfileUrl(e.member.id)),null!=e.member&&(e.member.isDeactivated=null!=n?n.isDeactivated(e.member):void 0),e.showReactions="Card"===this.context.typeName&&"commentCard"===this.model.get("type"),e.canReact=this.model.canReact(),e.showInlineReactionButton=e.showReactions&&!this.model.reactionList.length,e.canLinkAppCreator="memberActivityScreen"!==this.source,e}getOptions(){let e;return{showCompactAttachmentPreview:this.options.compact,truncateComment:null!=(e="function"==typeof this.options.truncateComments?this.options.truncateComments(this.model):void 0)&&e,showOptions:!this.model.isPlaceholder()&&!this.options.compact&&!this.options.readOnly,useEmbedly:!this.options.compact&&this.model.isCommentLike(),usePreviews:!this.options.compact&&this.model.isAddAttachment(),useCommentUnfurl:null!=this.options.compact&&!this.options.compact&&this.model.isCommentLike(),extremeTruncation:this.options.extremeTruncation}}render(){var e,t,i,r,s,l,c,d,u,p;let m,h;const b=this.getData(),f=this.getOptions(),k=this.getContext(),y=this.source,C=this.model.isCommentLike();T("actions",b),this.$el.addClass(C?"mod-comment-type":"mod-attachment-type"),this.$el.html(L(b,k,f));const j=a(a({},null!==(e=null===(t=this.model)||void 0===t||null===(i=t.getCard)||void 0===i||null===(r=i.call(t))||void 0===r||null===(s=r.getAnalyticsContainers)||void 0===s?void 0:s.call(r))&&void 0!==e?e:{}),null!==(l=null===(c=this.model)||void 0===c||null===(d=c.getBoard)||void 0===d||null===(u=d.call(c))||void 0===u||null===(p=u.getAnalyticsContainers)||void 0===p?void 0:p.call(u))&&void 0!==l?l:{});if(null!=(m=this.model.getBoard())){this.$(".js-friendly-links").each((function(){return O(this,m,{publicLinksVariation:"beta",analyticsContext:{source:y,containers:j,attributes:{fromSection:C?"comment":"attachment"}}})})),this.linkCardFlagEnabled&&this.$(".js-friendly-links-for-link-card").each((function(){return O(this,m,{publicLinksVariation:"beta",analyticsContext:{source:y,containers:j,attributes:{fromSection:C?"comment":"attachment"}}})}));V.get("ecosystem.comment-link-unfurl-preview",!1)&&f.useCommentUnfurl&&this.$(".js-friendly-links").each((()=>this.renderCommentPreviews(this,m)))}if(f.useEmbedly){const e=this.$(".js-embedly");for(const t of Array.from(b.entities))if("comment"===t.type&&null!=t.embedly)try{const i=JSON.parse(t.embedly);for(h in i){const t=i[h];/wistia/i.test(h)||(t["type_".concat(t.type)]=!0,t.requireHttps=!0,e.show().append(N.fill(n("./app/scripts/views/templates/embedly.js"),t)))}}catch(e){}}if(f.usePreviews){const e=S.filter(b.entities,(e=>"attachment"===e.type));if(!S.isEmpty(e)){const t=this.$(".js-previews");v.previewHtml(e[0].url,(function(e,n){if(t.empty(),null!=e){if(null!=e.login)return o("<div>").addClass("attachment-extra-info-login").html(e.login).appendTo(t),t.removeClass("hide")}else if(null!=n)return o("<div>").addClass("attachment-extra-info").html(n).appendTo(t),t.removeClass("hide")}))}}return g.update(this.el),this.$el.toggleClass("unsent",!!this.model.isTakingTooLong),this.renderHighlighted(),this.renderReactions(),this}renderHighlighted(){return this.$el.toggleClass("mod-highlighted",!!this.highlighted),this}renderReactions(){const e=this.getContext();if(this.reactRoot=this.$(".js-reaction-piles")[0])return j.render(C.createElement(w,{actionId:this.model.id,reactionList:this.model.reactionList,canReact:e.canReact,trackingContext:this.getTrackingContext()}),this.reactRoot)}renderCommentPreviews(e,t){const n=S.flatten(this.$(".js-friendly-links").toArray().map((function(e){return null!=e.tagName==="A"?[e]:S.toArray(e.querySelectorAll("a"))}))).map((e=>e.href)).filter((e=>null!=e));return F.map(n,(e=>F.try((()=>M.one({command:"format-url",board:t,options:{url:e}}))).then((function(t){return null!=t?S.extend(t,{url:e}):null})).catch(M.Error.NotHandled,(()=>null)))).then((e=>{if(null!=e&&e.length>0){const t=e.filter(U.isValidUrlUnfurl).map((e=>(q(null!=e?e.actions:void 0,(e=>e.length))>2&&(e.actions=e.actions.slice(0,2)),this.subview(R,this.model,{commentUnfurl:e},e.url)))),n=this.$(".comment-preview");return this.ensureSubviews(t,n),n.show()}}))}remove(){return this.reactRoot&&j.unmountComponentAtNode(this.reactRoot),super.remove(...arguments)}_tfmFormatOpts(){return this.model.get("data").card,this.model.get("data").board,{textData:this.model.get("data").textData}}_withEntityInfo(e){let t,n;const i=S.clone(e);if("attachment"===i.type&&(i.url=this.model.get("data").attachment.url,!i.url&&i.isFriendly&&(i.url=i.text)),"attachmentPreview"===i.type){let e,n,a;i.previewUrlForRes=null!=(t=k.get("Card",q(this.model.get("data").card,(e=>e.id))))&&(e=t.attachmentList.get(q(this.model.get("data").attachment,(e=>e.id))))?m.isHighDPI()?q(null!=(n=e.smallestPreviewBiggerThan(1e3))?n:e.biggestPreview(),(e=>e.url)):q(null!=(a=e.smallestPreviewBiggerThan(500))?a:e.biggestPreview(),(e=>e.url)):void 0,null==i.previewUrlForRes&&(i.previewUrlForRes=m.isHighDPI()&&null!=i.previewUrl2x?i.previewUrl2x:i.previewUrl)}return"comment"===i.type&&(i.textHtml=x.comments.format(i.text,this._tfmFormatOpts()).output),"checkItem"===i.type&&(i.nameHtml=x.checkItems.format(i.text,this._tfmFormatOpts()).output),"date"===i.type&&(i.text=D(i.date).calendar()),"card"===i.type&&null!=(t=k.get("Card",i.id))&&("link"===t.get("cardRole")&&this.linkCardFlagEnabled?i.nameHtml=x.name.format(t.get("name"),this._tfmFormatOpts()).output:i.text=t.get("name")),"checklist"===i.type&&null!=(n=k.get("Checklist",i.id))&&(i.text=n.get("name")),i}viewMemberActionMenu(e){let t;_.stop(e);const n=this.modelCache.get("Member",null!=(t=o(e.target).closest("[idmember]").attr("idmember"))?t:this.model.get("idMemberCreator"));y.toggle({elem:this.$(e.target).closest(".js-show-mem-menu"),view:s,options:{model:n,modelCache:this.modelCache,board:this.modelCache.get("Board",q(q(this.model.get("data"),(e=>e.board)),(e=>e.id)))}})}expandComment(e){return _.stop(e),this.$(".js-comment").removeClass("is-truncated")}openCard(e){let t;"Card"===this.context.typeName||o(e.target).is("a,textarea")||f()||(_.stop(e),null!=(t=h.getActionUrl(this.model))&&z(t,{trigger:!0}))}openAttachmentViewer(e){if(e.metaKey||e.ctrlKey)return;const t=o(e.target);if(t.closest(".window-main-col").length>0&&(_.stop(e),!d.isActive())){const e=t.closest(".js-open-attachment-viewer").attr("data-idattachment");d.show({model:this.model.getCard(),idAttachment:e})}}reply(e){return _.stop(e),this.$el.trigger("replyToAction",this.model),A("Card","Reply to Comment")}replyAll(e){return _.stop(e),this.$el.trigger("replyToAllAction",this.model),A("Card","Reply to all Comment")}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.renderHighlighted())}checkAttachment(e){var t;if(e.metaKey||e.ctrlKey)return;const n=this.model.getCard(),{href:i}=e.currentTarget,a=H(i).pathname,r=null==n||null===(t=n.attachmentList)||void 0===t?void 0:t.find((e=>H(e.get("url")).pathname===a));return r&&c.isViewerable(r.get("url"))?(e.preventDefault(),d.show({model:n,idAttachment:r.id})):void 0}onAppCreatorLinkClicked(e){_.stop(e);const t=this.model.getBoard();if(!t)return;const n=this.model.getAppCreator();if(I.sendClickedLinkEvent({linkName:"appCreatorLink",source:this.source,attributes:{appCreatorId:null==n?void 0:n.id,appCreatorIdPlugin:null==n?void 0:n.idPlugin,actionType:this.model.get("type")},containers:{card:{id:this.model.id},board:{id:t.id}}}),null!=n&&n.idPlugin){const i=u.myId();(t.get("memberships")||[]).some((({idMember:e})=>e===i))?M.one({plugin:n.idPlugin,command:"show-settings",board:t,el:e.currentTarget}):window.open("/power-ups/"+n.idPlugin)}}}function q(e,t){return null!=e?t(e):void 0}K.initClass(),e.exports.events=W,e.exports.ActionView=K},"./app/scripts/views/action/comment-action-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=n("./packages/jquery/index.js"),{ActionView:s,events:l}=n("./app/scripts/views/action/action-view.js"),{Analytics:c,tracingCallback:d}=n("./packages/atlassian-analytics/index.ts"),u=n("./app/scripts/views/internal/autocomplete/auto-insertion-view.js"),p=n("./app/scripts/views/card/attach-links-view.js"),m=n("./app/scripts/views/internal/autocomplete/completer-util.js"),h=n("./app/scripts/views/lib/confirm.js"),{getKey:g,isForceSubmitEvent:b,Key:f}=n("./packages/keybindings/index.ts"),v=n("./app/scripts/views/lib/layout.js"),k=n("./app/scripts/views/lib/pop-over.js"),{TrelloStorage:y}=n("./packages/storage/index.ts"),C=n("./app/scripts/lib/markdown/tfm.js"),j=n("./app/scripts/lib/util/index.js"),w=n("./node_modules/underscore/underscore.js"),x=n("./node_modules/effing/lib/index.js"),_=n("./app/scripts/lib/util/text/links-from-markdown.js"),{track:E}=n("./packages/analytics/index.ts"),S=n("./app/scripts/views/internal/disable-submit-if-length-too-long.js"),{applyMarkdownShortcuts:O}=n("./app/scripts/views/lib/markdown-transform.ts"),{markdownTracker:T}=n("./app/scripts/lib/util/markdown-tracker.ts");class D extends s{static initClass(){this.prototype.events=a(a({},l),{},{"click .js-confirm-delete-action":"confirmDeleteAction","click .js-edit-action":"editAction","click .js-discard-comment-edits":"cancelEdit","click .js-save-edit":"saveEdit","keyup .js-text":"keyAutoMention","keydown .js-text":"keydownJsText","input .js-text":"checkLength","mutated .js-text":"mutatedEvent","click .js-comment-add-attachment":"commentAddAttachment","click .js-comment-mention-member":"commentMentionMember","click .js-comment-add-emoji":"commentAddEmoji","click .js-comment-add-card":"commentAddCard","click .js-attach-link":"attachLink"})}initialize(){return super.initialize(...arguments),o(window).on("beforeunload.CommentActionView-".concat(this.model.cid),x(this,"saveDraft"))}remove(){this.saveDraft(),o(window).off(".CommentActionView-".concat(this.model.cid)),super.remove(...arguments)}mutatedEvent(e){this.checkLength(e),this.getTextInput().trigger("autosize.resize")}potentialAttachments(){const e=this.model.getCard();return w.filter(_(this.model.get("data").text,C.comments),(function({url:t}){return!e.attachmentUrlRestricted(t)&&!e.attachmentList.any((e=>e.get("url")===t))}))}getContext(){const e=super.getContext(...arguments),t=this.model.getCard();return e.canAttachLink=null!=t&&t.editable()&&this.potentialAttachments().length>0,e}confirmDeleteAction(e){j.stop(e),h.toggle("delete comment",{elem:o(e.target).closest(".js-confirm-delete-action")[0],model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:()=>{const e=c.startTask({taskName:"delete-comment",source:"cardDetailScreen"});return E("Card","Delete Comment"),this.model.destroyWithTracing({traceId:e},d({taskName:"delete-comment",traceId:e,source:"cardDetailScreen"},(t=>{t||c.sendTrackEvent({action:"deleted",actionSubject:"comment",source:"cardDetailScreen",attributes:{taskId:e}})})))}})}getTextInput(){return this.$(".js-text")}getMentionTarget(){return this.$(".js-comment-mention-member:visible")[0]}getEmojiTarget(){return this.$(".js-comment-add-emoji:visible")[0]}editAction(e){if(j.stop(e),!this.$el.hasClass("is-editing"))return this.$el.addClass("is-editing"),this.$("textarea").focus().select(),this.openEditView()}openEditView(){this.$(".js-text").attr("placeholder","").autosize({append:!1})}keydownJsText(e){return O(e),b(e)?this.saveEdit(e):g(e)===f.Escape?(j.stop(e),this.cancelEdit()):this.checkInsert(e)}saveEdit(e){if("keypress"===e.type&&!b(e)&&(g(e)!==f.Enter||o(e.target).is("textarea")&&!o(e.currentTarget).hasClass("single-line")))return;const t=c.startTask({taskName:"edit-comment",source:"cardDetailScreen"});j.stop(e);const n=this.$(".js-text").val();this.$(".js-spinner").show(),this.$(".js-hide-on-sending").hide(),this.$(".current-comment").text(n),v.cancelEdit(this.$el),this.discardDraft(),this.model.get("display").entities.comment.text=n;const i={text:n,traceId:t};this.model.update(i,d({taskName:"edit-comment",source:"cardDetailScreen",traceId:t},((e,n)=>{var i,a,r,o,s,l;!e&&n&&c.sendTrackEvent({action:"updated",actionSubject:"comment",source:"cardDetailScreen",containers:{card:{id:null===(i=n.data)||void 0===i||null===(a=i.card)||void 0===a?void 0:a.id},board:{id:null===(r=n.data)||void 0===r||null===(o=r.board)||void 0===o?void 0:o.id},list:{id:null===(s=n.data)||void 0===s||null===(l=s.list)||void 0===l?void 0:l.id}},attributes:{taskId:t}})}))),this.$(".js-text").trigger("autosize.destroy"),k.hide(),T(n,"comments"),E("Card","Edit Comment")}showError(e){}cancelEdit(){const e=this.model.get("data").text;this.$(".js-text").val(e),v.cancelEdit(this.$el),this.discardDraft(),this.$(".js-text").trigger("autosize.destroy")}getCard(){return this.model.getCard()}attachLink(e){j.stop(e),E("Card","Open Attach Links View");const t=this.potentialAttachments();return k.toggle({elem:o(e.currentTarget),view:new p({model:this.getCard(),modelCache:this.modelCache,links:t})})}render(){return super.render(...arguments),this.recallDraft(),this}_draftKey(){return"draft_".concat(this.model.id,"_edit")}recallDraft(){const e=y.get(this._draftKey());if(e)return this.getTextInput().val(e),this.$el.find(".edits-warning").show()}saveDraft(){if(this.$el.hasClass("is-editing")){const e=this.getTextInput().val();e&&e!==this.model.get("data").text?(y.set(this._draftKey(),e),this.$el.find(".edits-warning").show()):this.discardDraft()}}discardDraft(){return y.unset(this._draftKey()),this.$el.find(".edits-warning").hide()}}D.initClass(),w.extend(D.prototype,u,m,S),e.exports=D},"./app/scripts/views/attachment/attachment-edit-popover.js":function(e,t,n){const i=n("./app/scripts/views/attachment/helpers.js"),a=n("./app/scripts/views/templates/edit_attachment.js"),r=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/internal/view.js"),l=n("./app/scripts/views/internal/plugins/plugin-runner.js"),c=n("./node_modules/bluebird/js/browser/bluebird.js"),d=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),u=n("./app/scripts/lib/plugins/plugin-validators.js"),p=n("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),m=n("./app/scripts/views/internal/teacup-with-helpers.js")("edit_attachment"),{sendPluginUIEvent:h}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{featureFlagClient:g}=n("./packages/feature-flag-client/index.ts"),{DropboxPluginId:b}=n("./app/scripts/data/dropbox.js"),f=m.renderable((function(e){return m.div(".save-attachment"),null!=e?e.map(((e,t)=>m.div(".js-save-attachment-button.save-attachment-section",{"data-index":t},(function(){return m.div(".save-attachment-thumbnail",{style:m.stylify({"background-image":null!=e.icon?m.urlify(e.icon):void 0})}),m.span(".save-attachment-label",(()=>m.format("save-attachment",{pluginName:e.name})))})))):void 0}));class v extends s{static initClass(){this.prototype.viewTitleKey="edit attachment",this.prototype.events={"click .js-edit-attachment":"submit","click .js-save-attachment-button":"executeActionCallback"}}constructor(e){super(e),this.submit=this.submit.bind(this)}submit(e){let t;o.stop(e);let{newName:n,nameShortened:a}=i.stripAndShortenName(this.$(".js-attachment-name").val());a&&this.$(".js-attachment-name").val(n);let s=this.$(".js-attachment-url").val();const l=this.model.getServiceKey(),c=this.model.get("name"),d=this.model.get("url");if(({newName:n,newUrl:s,canUpdate:t}=i.validateUrlAndName(s,n,d,c,l)),t)return"other"===l?this.model.update({url:s,name:n}):this.model.update("name",n),r.hide()}executeActionCallback(e){o.stop(e);const t=parseInt(this.$(e.currentTarget).attr("data-index"),10);if(null!=(null!=this.pluginSaveActions[t]?this.pluginSaveActions[t].idPlugin:void 0)&&h(this.pluginSaveActions[t].idPlugin,{action:"clicked",actionSubject:"button",source:"cardDetailScreen",actionSubjectId:"saveAttachmentButton",objectType:"powerUp",objectId:this.pluginSaveActions[t].idPlugin}),null!=(null!=this.pluginSaveActions[t]?this.pluginSaveActions[t].callback:void 0)){const n=this.model.getCard();return this.pluginSaveActions[t].callback({el:e.currentTarget,options:{card:n.get("id"),board:n.get("idBoard"),name:this.model.get("name"),url:this.model.get("url")}})}}render(){const e={};e.name=this.model.get("name"),e.url=this.model.get("url"),e.serviceKey=this.model.getServiceKey();const t=this.model.getCard(),n=t.getBoard();this.$el.html(a(e));const i="all"===g.get("ecosystem.save-attachment-capability","none"),r="dropbox"===g.get("ecosystem.save-attachment-capability","none");return this.model.get("isUpload")&&(i||r&&n.isPluginEnabled(b))&&c.try((()=>l.all({command:"save-attachment",board:n,card:t,options:p.attachment(this.model),plugin:r?b:void 0}))).then((e=>{if(this.pluginSaveActions=e.filter(u.isValidSaveAttachment).map((e=>({callback:e.callback,idPlugin:e.idPlugin}))),this.pluginSaveActions.length>0){const e=this.pluginSaveActions.map((({idPlugin:e})=>d.fromId(e))).map((e=>{return u.isValidUrlForImage((t=null!=e?e.icon:void 0,n=e=>e.url,null!=t?n(t):void 0))?{icon:e.icon.url,name:e.name}:{name:e.name};var t,n})),t=this.$(".save-attachment-container");return t.append(f(e)),t.show()}})),this}}v.initClass(),e.exports=v},"./app/scripts/views/attachment/attachment-thumb-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/attachment/attachment-edit-popover.js"),r=n("./app/scripts/views/attachment/helpers.js"),o=n("./app/scripts/views/internal/attachment-viewer.js"),s=n("./app/scripts/db/auth.js"),l=n("./packages/browser/index.ts"),c=n("./app/scripts/data/power-up-suggestions/claimed-power-ups.js"),{makePreviewCachable:d}=n("./app/common/lib/util/preview.ts"),u=n("./app/scripts/views/lib/confirm.js"),p=n("./app/scripts/lib/dates.js"),{getKey:m,Key:h}=n("./packages/keybindings/index.ts"),g=n("./app/scripts/db/known-services.js"),{sendPluginScreenEvent:b,sendPluginUIEvent:f}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),v=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),k=n("./app/scripts/lib/plugins/plugin-validators.js"),y=n("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),C=n("./app/scripts/views/internal/plugins/plugin-runner.js"),j=n("./app/scripts/views/plugin/plugin-view.js"),w=n("./app/scripts/lib/power-up-suggestions/power-up-suggester.js"),x=n("./app/scripts/views/lib/pop-over.js"),_=n("./node_modules/bluebird/js/browser/bluebird.js"),E=n("./app/scripts/views/plugin/plugin-suggestion-pop-over.js"),S=n("./app/scripts/data/plugin-iframe-sandbox.js"),O=n("./app/scripts/lib/util/index.js"),T=n("./app/scripts/views/internal/teacup-with-helpers.js")("plugin_attachment_thumbnail"),D=n("./app/scripts/views/templates/attachment_thumb.js"),{track:N,trackUe:I}=n("./packages/analytics/index.ts"),{Analytics:A,tracingCallback:P}=n("./packages/atlassian-analytics/index.ts"),B=n("./node_modules/xtend/immutable.js"),{IconDefaultColor:L}=n("./packages/nachos/tokens.ts"),F=T.renderable((function(e){let{image:t}=e;const{canRemove:n,canReply:a,created:r,createdBy:o,initialize:s,modified:l,modifiedBy:c,title:u,url:p}=e;null!=t&&null!=t.url||(t={url:""});const m={href:p,rel:"noopener",target:p,title:u};t.logo?T.a(".attachment-thumbnail-preview",i.clone(m),(()=>T.span(".attachment-thumbnail-preview-power-up-logo",(()=>T.img({class:"attachment-thumbnail-preview-power-up-logo-image",src:T.addRecolorParam(t.url,"?color=".concat(L.substr(1).toLowerCase()))}))))):T.a(".attachment-thumbnail-preview",B(m,{style:T.stylify({"background-image":t.url?T.urlify(d(t.url)):void 0,"background-position-y":"top"===t.y?"0px":void 0,"background-position-x":"left"===t.x?"0px":void 0,"background-size":(()=>{switch(t.size){case"cover":return"cover";case"original":return"inherit";default:return"contain"}})()})})),T.p(".attachment-thumbnail-details",(function(){if(T.span(".attachment-thumbnail-name.js-attachment-name",(()=>T.text(u))),T.span(".quiet.attachment-thumbnail-details-options",(()=>T.a(".attachment-thumbnail-details-title-action.dark-hover.js-attachment-action",i.clone(m),(function(){return T.icon("external-link"),T.span(".attachment-thumbnail-details-options-item-text.js-direct-link")})))),T.textarea(".attachment-thumbnail-details-title.js-attachment-thumbnail-details hide",{maxlength:256},(()=>T.text(u))),T.span(".u-block.quiet.attachment-thumbnail-details-title-options",(()=>function(){if(a&&T.span((()=>T.a(".attachment-thumbnail-details-title-options-item.js-reply",{href:"#"},(()=>T.span(".attachment-thumbnail-details-options-item-text",(()=>T.format("comment"))))))),n)return T.span((()=>T.a(".attachment-thumbnail-details-title-options-item.dark-hover.js-confirm-delete",{href:"#"},(()=>T.span(".attachment-thumbnail-details-options-item-text",(()=>T.format("remove")))))))}())),null!=r&&(T.span(".u-block.quiet",(function(){return null!=o?T.format("created-by",{date:r,user:o}):T.format("created",{date:r})})),null!=l&&T.span(".u-block.quiet",(function(){return null!=c?T.format("modified-by",{date:l,user:c}):T.format("modified",{date:l})}))),null!=s&&k.isValidUrlForIframe(s.url)&&"iframe"===s.type){const{url:e}=s;return T.iframe(".plugin-iframe.plugin-thumbnail-initialize",{sandbox:S,src:e})}}))}));function M(e,t){return null!=e?t(e):void 0}e.exports=function(){class e extends j{static initClass(){this.prototype.className="attachment-thumbnail",this.prototype.events={"click .js-open-viewer":"openViewer","click .js-open-in-new-window":"openLink","click .js-direct-link":"clickDirectLink","click .js-make-cover":"makeCover","click .js-remove-cover":"removeCover","click .js-confirm-delete":"confirmDelete","click .js-edit":"editAttachment","click .js-reply":"reply","click .js-attachment-name":"enableEditAttachmentName","click .js-attachment-thumbnail-details":"dontOpenViewer","click .js-show-power-up-suggestions-info":"showPowerUpSuggestionsInformation","keydown .js-attachment-thumbnail-details":"onEditAttachmentName","blur .js-attachment-thumbnail-details":"saveAttachmentName",moveattachment:"rearrangeAttachment"},this.prototype.vigor=this.VIGOR.NONE}initialize(){this.suggestedPowerUpsSuggester=new w(c),this.isEditingAttachmentName=!1,this.listenTo(s.me(),"change:oneTimeMessagesDismissed",this.frameDebounce(this.renderNormal)),this.listenTo(s.me(),"change:messagesDismissed",this.frameDebounce(this.renderNormal));const e=this.model.getCard().getBoard();return this.listenTo(e,"change:prefs.cardCovers",this.frameDebounce(this.renderNormal))}renderOnce(){const e=this.model.getCard(),t=e.getBoard();return this.subscribe(v(t,e).combine(e.snoop("idAttachmentCover").combine(this.model.snoop("previews").combine(this.model.snoop("name")).combine(this.model.snoop("url")))),(()=>this.renderPluginThumbnail().catch(C.Error.NotHandled,this.callback((()=>this.renderNormal()))).done())),this}wasRemoved(){return!this.model.collection}renderPluginThumbnail(){if(this.wasRemoved())return _.resolve();const e=this.model.getCard(),t=e.getBoard(),n=this.model.get("name");return C.one({command:"attachment-thumbnail",card:e,board:t,options:y.attachment(this.model)}).then(this.callback((a=>{if(!this.wasRemoved()){if(null==a||!i.isObject(a)||i.isArray(a)||i.isFunction(a))throw new C.Error.NotHandled;var r,o,l;return null!=a.title&&(r=this.options,o="onPluginThumbnail",l=e=>e.onPluginThumbnail(a.idPlugin),null!=r&&"function"==typeof r[o]&&l(r,o)),a.url=this.model.get("url"),this.$el.html(F(B({url:this.model.get("url")},a,{canRemove:this.model.editable(),canReply:null!=this.options.onReply&&t.canComment(s.me()),created:a.created?new Date(a.created):void 0,modified:a.modified?new Date(a.modified):void 0,title:n===a.url.slice(0,256)?a.title:n}))),p.update(this.el),this.initIFrames(t,e),this.$(".js-attachment-thumbnail-details").autosize({append:!1}),b({idPlugin:a.idPlugin,idBoard:t.id,idCard:e.id,screenName:"pupAttachmentsInlineDialog"})}}))).return()}renderNormal(){if(this.wasRemoved())return this;const e=this.model.getCard(),t=e.getBoard();return _.all([r.getAttachmentData(this.model),_.try((()=>t.getAvailablePlugins().filter((e=>e.id===this.suggestedPowerUpsSuggester.getPowerUpIdFromClaimedPowerUpDomains(this.model.get("url")))).get(0)))]).spread(this.callback(((t,n)=>{if(this.wasRemoved())return;let i;t.canUseViewer=r.isViewerable(this.model.get("url")),t.canReply=M(this.model.getCard().getBoard(),(e=>e.canComment(s.me())));let a=null!=(i=this.model.smallestPreviewBiggerThan(110,80))?i:this.model.biggestPreview();if(l.isHighDPI()){const e=this.model.smallestPreviewBiggerThan(220,160);a=null!=e?e:a}if(null!=a){const n=M(M(e.getBoard(),(e=>e.get("prefs"))),(e=>e.cardCovers));t.isCover=n&&e.get("idAttachmentCover")===this.model.id,t.imgSrc=a.url}if(t.isUpload=this.model.get("isUpload"),t.editable=this.model.editable(),this.suggestedPlugin=n,(null!=this.suggestedPlugin?this.suggestedPlugin.id:void 0)&&(e.getBoard().isPluginEnabled(this.suggestedPlugin.id)||(t.plugin=this.suggestedPlugin)),!M(e.getBoard().getOrganization(),(e=>e.isFeatureEnabled("plugins")))&&l.dontUpsell()||(t.upsellEnabled=!0),this.$el.html(D(t)),this.renderCoverState(),p.update(this.el),t.isKnownService){const e=this.$(".js-attachment-thumbnail-details");g.thumbnailHtml(t.url,t,(function(t,n){if(null==t&&null!=n)return e.html(n),p.update(e)}))}return this.$(".js-attachment-thumbnail-details").autosize({append:!1})}))).done(),this}openViewer(e){e.metaKey||e.ctrlKey||this.isEditingAttachmentName||(O.stop(e),o.isActive()||(o.show({model:this.model.getCard(),attachmentModel:this.model}),N("Attachment","Open Attachment Viewer",this.model.getType())))}clickDirectLink(e){return N("Attachment","Open Link"),e.stopPropagation()}dontOpenViewer(e){return e.stopPropagation()}renderCoverState(){const e=M(M(this.model.getCard(),(e=>e.getBoard())),(e=>e.getPref("cardCovers"))),t=this.$(".js-make-cover").addClass("hide"),n=this.$(".js-remove-cover").addClass("hide");if(M(this.model.get("previews"),(e=>e.length))>0&&e){const e=M(this.model.getCard(),(e=>e.get("idAttachmentCover")))===this.model.id;t.toggleClass("hide",e),n.toggleClass("hide",!e)}}makeCover(e){O.stop(e),x.hide();const t=A.startTask({taskName:"edit-card",subTask:"idAttachmentCover",source:"cardDetailScreen"});this.model.getCard().makeCover(this.model,t,P({taskName:"edit-card",subTask:"idAttachmentCover",traceId:t,source:"cardDetailScreen"},((e,n)=>{n&&A.sendUpdatedCardFieldEvent({field:"idAttachmentCover",source:"cardDetailScreen",containers:{card:{id:n.id},list:{id:n.idList},board:{id:n.idBoard}},attributes:{taskId:t}})}))),N("Attachment","Attachment Thumbnail","Make Cover")}removeCover(e){O.stop(e),x.hide();const t=A.startTask({taskName:"edit-card",subTask:"idAttachmentCover",source:"cardDetailScreen"});this.model.getCard().removeCover(null,t,P({taskName:"edit-card",subTask:"idAttachmentCover",traceId:t,source:"cardDetailScreen"},((e,n)=>{n&&A.sendUpdatedCardFieldEvent({field:"idAttachmentCover",source:"cardDetailScreen",containers:{card:{id:n.id},list:{id:n.idList},board:{id:n.idBoard}},attributes:{taskId:t}})}))),N("Attachment","Attachment Thumbnail","Remove Cover")}confirmDelete(e){O.stop(e);const t=this.model.get("isUpload")?"delete attachment":"remove attachment";u.toggle(t,{elem:this.$(".js-confirm-delete"),model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:()=>(this.model.destroy(),N("Attachment","Delete Attachment",this.model.getType()))}),N("Attachment","Attachment Thumbnail","Confirm Delete")}editAttachment(e){O.stop(e),this.model.getCard().editable()&&x.toggle({elem:this.$(e.target),view:new a({model:this.model})})}reply(e){return N("Attachment","Reply Attachment"),O.stop(e),this.options.onReply()}enableEditAttachmentName(e){if(this.model.getCard().editable())return O.stopPropagation(e),this.isEditingAttachmentName=!0,this.$(".js-attachment-name").addClass("hide"),this.$(".js-attachment-action").addClass("hide"),this.$(".js-attachment-thumbnail-details").removeClass("hide").trigger("autosize.resize").focus().select()}showPowerUpSuggestionsInformation(e){e.preventDefault(),I("card-detail","views","Power-Up enable suggestion info screen","","","by clicking the get Power-Up link",this.suggestedPlugin.id);let t=this.model.getCard(),n=t.getBoard();f({idPlugin:this.suggestedPlugin.id,idBoard:n.id,idCard:t.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"attachmentGetPowerUpButton",source:"attachmentThumbnal"}}),O.stopPropagation(e),t=this.model.getCard(),n=t.getBoard();const i={model:this.suggestedPlugin,board:n,card:t};x.toggle({elem:this.$(e.target),view:new E(i),autoPosition:!0,getViewTitle:()=>T.l("plugin-power-up",{powerUpName:this.suggestedPlugin.get("listing").name}),onClose:()=>f({idPlugin:this.suggestedPlugin.id,idBoard:n.id,idCard:t.id,event:{action:"closed",actionSubject:"inlineDialog",actionSubjectId:"attachmentGetPowerUpInlineDialog",source:"attachmentGetPowerUpInlineDialog"}})}),x.isVisible&&b({idPlugin:this.suggestedPlugin.id,idBoard:n.id,idCard:t.id,screenName:"attachmentsGetPowerUpInlineDialog"})}onEditAttachmentName(e){const t=this.$(e.currentTarget).trigger("autosize.resize");if(m(e)===h.Enter||m(e)===h.Escape)return O.stop(e),t.blur()}saveAttachmentName(e){this.isEditingAttachmentName=!1;const t=this.$(e.currentTarget),n=this.$(".js-attachment-name"),i=this.model.get("name"),{newName:a,nameShortended:o}=r.stripAndShortenName(t.val());return o&&t.text(a),a!==i&&a.length>0?(n.text(a),this.model.update("name",a)):(t.val(i),n.text(i)),this.$(".js-attachment-name").removeClass("hide"),this.$(".js-attachment-action").removeClass("hide"),this.$(".js-attachment-thumbnail-details").addClass("hide")}rearrangeAttachment(e,t){const n=this.model.getCard();if(null!=n){const e=t.item.parent().children().index(t.item);return this.model.update("pos",n.calcAttachmentPos(e,this.model)),this.model.collection.sort({silent:!0}),this.$(".plugin-iframe").length&&this.renderPluginThumbnail(),N("Attachment","Reorder Attachment")}}openLink(){const e=this.model.get("url");return N("Attachment","Open Link"),window.open(e,e)}}return e.initClass(),e}()},"./app/scripts/views/attachment/in-progress-attachment.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./app/scripts/views/templates/attachment_thumb_processing.js");e.exports=class extends i{render(){return this.$el.html(a(this.options)),this}}},"./app/scripts/views/attachment/trello-board-attachment-components.js":function(e,t,n){n("./app/scripts/lib/dates.js");const i=n("./node_modules/react/index.js"),a=(n("./node_modules/underscore/underscore.js"),n("./app/scripts/views/internal/recup-with-helpers.js")("trello_board_attachment")),{CanonicalBoard:r,GenericErrorCanonicalBoard:o,InvalidCanonicalBoard:s,LoadingCanonicalBoard:l,NetworkErrorCanonicalBoard:c,NotFoundCanonicalBoard:d,UnauthorizedCanonicalBoard:u}=n("./app/scripts/views/canonical-board/canonical-board-components.js");class p extends i.Component{static initClass(){this.prototype.displayName="TrelloBoardAttachmentLoading",this.prototype.render=a.renderable((()=>a.div(".trello-board-attachment-loading",(()=>a.div(".trello-attachment-canonical-board",(()=>a.tag(l)))))))}}p.initClass();class m extends i.Component{static initClass(){this.prototype.displayName="TrelloBoardAttachmentGenericError",this.prototype.render=a.renderable((function(){const{canEdit:e,errorText:t,onRemove:n}=this.props;return a.div(".trello-board-attachment-error",(()=>{if(a.div(".trello-attachment-canonical-board",(()=>a.tag(o,{errorText:t}))),n&&e)return a.a(".remove-trello-attachment",{onClick:n},(()=>a.format("remove")))}))}))}}m.initClass();class h extends i.Component{static initClass(){this.prototype.displayName="TrelloBoardAttachmentUnauthorized",this.prototype.render=a.renderable((function(){const{canEdit:e,errorText:t,onRemove:n}=this.props;return a.div(".trello-board-attachment-error",(()=>{if(a.div(".trello-attachment-canonical-board",(()=>a.tag(u))),n&&e)return a.a(".remove-trello-attachment",{onClick:n},(()=>a.format("remove")))}))}))}}h.initClass();class g extends i.Component{static initClass(){this.prototype.displayName="TrelloBoardAttachmentSpecificError",this.prototype.render=a.renderable((function(){const{canEdit:e,error:t,onRemove:n}=this.props;return a.div(".trello-board-attachment-error",(()=>{if(a.div(".trello-attachment-canonical-board",(()=>"bad request"===t?a.tag(s):"server"===t?a.tag(c):a.tag(d))),n&&e)return a.a(".remove-trello-attachment",{onClick:n},(()=>a.format("remove")))}))}))}}g.initClass();class b extends i.Component{static initClass(){this.prototype.displayName="TrelloBoardAttachment",this.prototype.render=a.renderable((function(){const{board:e,canRemove:t,onRemove:n}=this.props;return a.div(".trello-board-attachment",(()=>{if(a.div(".trello-attachment-canonical-board",(()=>a.tag(r,{board:e}))),n&&t)return a.a(".remove-trello-attachment",{onClick:n},(()=>a.format("remove")))}))}))}}b.initClass(),e.exports={TrelloBoardAttachmentComponent:b,TrelloBoardAttachmentGenericError:m,TrelloBoardAttachmentLoading:p,TrelloBoardAttachmentSpecificError:g,TrelloBoardAttachmentUnauthorized:h}},"./app/scripts/views/attachment/trello-board-attachment.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/network/api-error.js"),r=n("./app/scripts/views/lib/confirm.js"),o=n("./app/scripts/db/model-cache.js"),s=n("./app/scripts/db/model-loader.js"),l=n("./node_modules/react/index.js"),c=n("./packages/react-dom-wrapper/index.ts"),d=n("./app/scripts/lib/util/index.js"),u=n("./app/scripts/views/internal/view.js"),p=n("./node_modules/underscore/underscore.js"),m=n("./app/scripts/lib/localize-server-error.js"),h=n("./app/scripts/lib/util/url/parse-trello-url.js"),g=n("./node_modules/recup/lib/recup.js"),{track:b}=n("./packages/analytics/index.ts"),f=n("./app/scripts/lib/util/decaying-interval.js"),{TrelloBoardAttachmentComponent:v,TrelloBoardAttachmentGenericError:k,TrelloBoardAttachmentLoading:y,TrelloBoardAttachmentSpecificError:C,TrelloBoardAttachmentUnauthorized:j}=n("./app/scripts/views/attachment/trello-board-attachment-components.js"),{ReactRootComponent:w}=n("./app/scripts/views/internal/react-root-component.tsx");class x extends u{static initClass(){this.prototype.className="trello-board-attachment-container"}initialize(){return null==this.$reactRoot&&(this.$reactRoot=i("<div></div>")),this.getBoard().then(this.callback((e=>(this.board=e,this.board&&this.setUpListeners(),this.renderReactSection())))).catch((e=>console.error(e)))}setUpListeners(){if(this.board.id!==this.model.getCard().getBoard().id)return void this.startPolling();const e=this.frameDebounce(this.renderReactSection);return this.listenTo(this.board,{change:e,destroy:()=>(this.board=null,this.error="not found",this.renderReactSection())}),this.listenTo(this.board.listList,{"add remove":e})}startPolling(){return this.cancelDecayingInterval=f((()=>this.fetchBoard().then(this.callback((()=>this.renderReactSection())))))}renderReactSection(){return c.render(l.createElement(w,null,this.getTrelloBoardAttachment()),this.$reactRoot[0]),this}render(){return this.$el.append(this.$reactRoot),this.renderReactSection(),this}getTrelloBoardAttachmentError(){const e=this.model.getCard().editable(),t={error:this.error,canEdit:e,onRemove:this.confirmDelete.bind(this)};return g.render((()=>g.div((()=>"unauthorized"===this.error?g.createElement(j,t):["server","bad request","not found"].includes(this.error)?g.createElement(C,t):g.createElement(k,p.extend({errorText:m(this.error)},t))))))}getTrelloBoardAttachment(){return this.error?this.getTrelloBoardAttachmentError():g.render((()=>g.div((()=>{if(!this.board)return g.createElement(y);const e=this.model.getCard().editable();return g.createElement(v,{board:this.board,canRemove:e,onRemove:this.confirmDelete.bind(this)})}))))}getShortLink(){return this.shortLink||(this.shortLink=h(this.options.boardUrl).shortLink),this.shortLink}getBoard(){return this.fetchBoard()}fetchBoard(){const e=this.getShortLink();return s.loadBoardAttachment(e).then((()=>(this.error=null,o.get("Board",e)))).catch(a.Unauthorized,(e=>(this.error="unauthorized",null))).catch(a.NotFound,(e=>(this.error="not found",null))).catch(a.Server,(e=>(this.error="server",null))).catch(a.BadRequest,(e=>(this.error="bad request",null))).catch((e=>(this.error=e.message,null)))}confirmDelete(e){return d.stop(e),r.toggle("remove attachment",{elem:this.$(e.currentTarget),model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:()=>(this.model.destroy(),b("Attachment","Delete Attachment",this.model.getType()))}),b("Attachment","Attachment Thumbnail","Confirm Delete")}unarchiveBoard(e,t){return e.update({closed:!1},(()=>b("Board","Reopen","Via Trello Attachment")))}remove(){return"function"==typeof this.cancelDecayingInterval&&this.cancelDecayingInterval(),c.unmountComponentAtNode(this.$reactRoot[0]),super.remove(...arguments)}}x.initClass(),e.exports=x},"./app/scripts/views/attachment/trello-card-attachment-components.js":function(e,t,n){n("./app/scripts/lib/dates.js");const i=n("./node_modules/react/index.js"),a=(n("./node_modules/underscore/underscore.js"),n("./app/scripts/views/internal/recup-with-helpers.js")("trello_card_attachment")),{CanonicalCard:r,GenericErrorCanonicalCard:o,InvalidCanonicalCard:s,LoadingCanonicalCard:l,NetworkErrorCanonicalCard:c,NotFoundCanonicalCard:d,UnauthorizedCanonicalCard:u}=n("./app/scripts/views/canonical-card/canonical-card-components.js");class p extends i.Component{static initClass(){this.prototype.displayName="TrelloCardAttachmentLoading",this.prototype.render=a.renderable((()=>a.div(".trello-card-attachment-loading",(()=>a.div(".trello-attachment-canonical-card",(()=>a.tag(l)))))))}}p.initClass();class m extends i.Component{static initClass(){this.prototype.displayName="TrelloCardAttachmentGenericError",this.prototype.render=a.renderable((function(){const{canEdit:e,errorText:t,onRemove:n}=this.props;return a.div(".trello-card-attachment-error",(()=>{if(a.div(".trello-attachment-canonical-card",(()=>a.tag(o,{errorText:t}))),n&&e)return a.a(".remove-trello-attachment",{onClick:n},(()=>a.format("remove")))}))}))}}m.initClass();class h extends i.Component{static initClass(){this.prototype.displayName="TrelloCardAttachmentUnauthorized",this.prototype.render=a.renderable((function(){const{canEdit:e,onRemove:t}=this.props;return a.div(".trello-card-attachment-error",(()=>{if(a.div(".trello-attachment-canonical-card",(()=>a.tag(u))),t&&e)return a.a(".remove-trello-attachment",{onClick:t},(()=>a.format("remove")))}))}))}}h.initClass();class g extends i.Component{static initClass(){this.prototype.displayName="TrelloCardAttachmentSpecificError",this.prototype.render=a.renderable((function(){const{canEdit:e,error:t,onRemove:n}=this.props;return a.div(".trello-card-attachment-error",(()=>{if(a.div(".trello-attachment-canonical-card",(()=>"bad request"===t?a.tag(s):"server"===t?a.tag(c):a.tag(d))),n&&e)return a.a(".remove-trello-attachment",{onClick:n},(()=>a.format("remove")))}))}))}}g.initClass();class b extends i.Component{static initClass(){this.prototype.displayName="TrelloCardAttachment",this.prototype.render=a.renderable((function(){const{board:e,canRemove:t,canLink:n,canUnarchive:i,card:o,isLinked:s,isTemplate:l,labels:c,list:d,members:u,numNotifications:p,onLink:m,onRemove:h,onUnarchive:g}=this.props,b=o.get("closed");return a.div(".trello-card-attachment",(()=>{if(a.div(".trello-attachment-canonical-card",(()=>a.tag(r,{board:e,card:o,labels:c,list:d,members:u,numNotifications:p}))),t&&a.a(".remove-trello-attachment",{onClick:h},(()=>a.format("remove"))),b&&i&&!l&&a.a(".unarchive-trello-card",{onClick:g},(()=>(a.span(".icon-sm.icon-archive"),a.format("unarchive card")))),!b&&!s&&n)return a.a(".link-trello-card",{onClick:m},(()=>a.format("connect-ellipsis")))}))}))}}b.initClass(),e.exports={TrelloCardAttachmentComponent:b,TrelloCardAttachmentGenericError:m,TrelloCardAttachmentLoading:p,TrelloCardAttachmentSpecificError:g,TrelloCardAttachmentUnauthorized:h}},"./app/scripts/views/attachment/trello-card-attachment.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/network/api-error.js"),r=n("./app/scripts/views/lib/confirm.js"),o=n("./app/scripts/models/label.js"),s=n("./app/scripts/db/model-cache.js"),l=n("./app/scripts/db/model-loader.js"),c=n("./node_modules/bluebird/js/browser/bluebird.js"),d=n("./node_modules/react/index.js"),u=n("./packages/react-dom-wrapper/index.ts"),p=n("./app/scripts/lib/util/index.js"),m=n("./app/scripts/views/internal/view.js"),h=n("./node_modules/underscore/underscore.js"),g=n("./app/scripts/lib/localize.js"),b=n("./app/scripts/lib/localize-server-error.js"),f=n("./app/scripts/lib/util/url/parse-trello-url.js"),v=n("./node_modules/recup/lib/recup.js"),{track:k}=n("./packages/analytics/index.ts"),y=n("./app/scripts/lib/util/decaying-interval.js"),{TrelloCardAttachmentComponent:C,TrelloCardAttachmentGenericError:j,TrelloCardAttachmentLoading:w,TrelloCardAttachmentSpecificError:x,TrelloCardAttachmentUnauthorized:_}=n("./app/scripts/views/attachment/trello-card-attachment-components.js"),{ReactRootComponent:E}=n("./app/scripts/views/internal/react-root-component.tsx");class S extends m{static initClass(){this.prototype.className="trello-card-attachment-container"}initialize(){return null==this.$reactRoot&&(this.$reactRoot=i("<div></div>")),this.getCard().then(this.callback((e=>(this.card=e,this.card&&this.setUpListeners(),this.renderReactSection())))).catch((e=>console.error(e)))}setUpListeners(){if(this.card.getBoard().id!==this.model.getCard().getBoard().id)return void this.startPolling();const e=this.frameDebounce(this.renderReactSection);return this.listenTo(this.card,{change:e,destroy:()=>(this.card=null,this.error="not found",this.renderReactSection())}),this.listenTo(this.card.getList(),{"change:name":e}),this.listenTo(this.card.getBoard(),{"change:name":e,"change:prefs"(e){if(O(e.get("prefs"),(e=>e.backgroundImage))!==O(e.previous("prefs"),(e=>e.backgroundImage))||O(e.get("prefs"),(e=>e.backgroundColor))!==O(e.previous("prefs"),(e=>e.backgroundColor)))return this.renderReactSection()}})}startPolling(){return this.cancelDecayingInterval=y((()=>this.fetchCard().then(this.callback((()=>this.renderReactSection())))))}renderReactSection(){return u.render(d.createElement(E,null,this.getTrelloCardAttachment()),this.$reactRoot[0]),this}render(){return this.$el.append(this.$reactRoot),this.renderReactSection(),this}getTrelloCardAttachmentError(){const e=this.model.getCard().editable(),t={error:this.error,canEdit:e,onRemove:this.confirmDelete.bind(this)};return v.render((()=>v.div((()=>"unauthorized"===this.error?v.createElement(_,t):["server","bad request","not found"].includes(this.error)?v.createElement(x,t):v.createElement(j,h.extend({errorText:b(this.error)},t))))))}getTrelloCardAttachment(){return this.error?this.getTrelloCardAttachmentError():v.render((()=>v.div((()=>{if(!this.card)return v.createElement(w);const e=this.model.getCard().editable(),t=this.card.editable(),n=this.card.get("isTemplate"),i=this.card.canAttach(),a=this.model.getCard().get("shortLink"),r=h.some(this.card.get("attachments"),(e=>f(e.url).shortLink===a));this.$(".link-trello-card").toggle(!r);const l=s.find("Notification",(e=>e.get("unread")&&O(O(e.get("data"),(e=>e.card)),(e=>e.id))===this.card.id)).length;return v.createElement(C,{card:this.card,board:this.card.getBoard(),canLink:i,canRemove:e,canUnarchive:t,isLinked:r,isTemplate:n,labels:this.card.getLabels().sort(o.compare),list:this.card.getList(),members:this.card.memberList.models,numNotifications:l,onLink:this.confirmLink.bind(this,this.card),onRemove:this.confirmDelete.bind(this),onUnarchive:this.unarchiveCard.bind(this,this.card)})}))))}getShortLink(){return this.shortLink||(this.shortLink=f(this.options.cardUrl).shortLink),this.shortLink}getCard(){const e=this.getShortLink(),t=s.get("Card",e);return this.isCardDataAvailable(t)?c.resolve(t):this.fetchCard()}isCardDataAvailable(e){return e&&e.getBoard()&&e.getList()&&e.getLabels()&&e.get("attachments")}fetchCard(){const e=this.getShortLink();return l.loadCardAttachment(e).then((t=>(this.error=null,s.get("Card",e)))).catch(a.Unauthorized,(e=>(this.error="unauthorized",null))).catch(a.NotFound,(e=>(this.error="not found",null))).catch(a.Server,(e=>(this.error="server",null))).catch(a.BadRequest,(e=>(this.error="bad request",null))).catch((e=>(this.error=e.message,null)))}confirmDelete(e){return p.stop(e),r.toggle("remove attachment",{elem:this.$(e.currentTarget),confirmBtnClass:"nch-button nch-button--danger",fxConfirm:()=>(this.model.destroy(),k("Attachment","Delete Attachment",this.model.getType()))}),k("Attachment","Attachment Thumbnail","Confirm Delete")}unarchiveCard(e,t){return e.update({closed:!1},(()=>k("Card","Reopen","Via Trello Attachment")))}confirmLink(e,t){return p.stop(t),r.toggle("link attached card",{elem:this.$(t.currentTarget),confirmBtnClass:"nch-button nch-button--primary",html:'<img src="'.concat(n("./resources/images/relate-both-cards.png"),'" /><br/>')+g("confirm.link attached card.text",{currentCard:this.model.getCard().get("name"),attachedCard:e.get("name")}),fxConfirm:()=>{this.$(".link-trello-card").hide();const t=this.model.getCard().get("shortUrl")||this.model.getCard().get("url");return e.uploadUrl(t),k("Card","Link cards","Via Trello Attachment")}})}remove(){return"function"==typeof this.cancelDecayingInterval&&this.cancelDecayingInterval(),u.unmountComponentAtNode(this.$reactRoot[0]),super.remove(...arguments)}}function O(e,t){return null!=e?t(e):void 0}S.initClass(),e.exports=S},"./app/scripts/views/board-create/photo-attribution-component.js":function(e,t,n){const i=n("./node_modules/react/index.js"),a=n("./app/scripts/views/internal/recup-with-helpers.js")(),{unsplashClient:r}=n("./packages/unsplash/index.ts");class o extends i.Component{static initClass(){this.prototype.displayName="PhotoAttributionComponent",this.prototype.render=a.renderable((function(){const{user:e,size:t}=this.props,n=e.name,i=[".photo-attribution-component"];return null!=t&&i.push(".".concat(t)),a.div(i.join(""),(()=>a.a({class:"photo-attribution-component-attribution-link",href:r.appendAttribution(e.links.html),target:"_blank",title:n,onClick:e=>e.stopPropagation()},(()=>a.text(n)))))}))}}o.initClass(),e.exports=o},"./app/scripts/views/board-menu/member-limits-error.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/db/auth.js"),r=n("./app/scripts/views/lib/limit-error-popover.js");e.exports={maybeDisplayMemberLimitsError:function(e,t,n){const o=(null!=t?t.isOverLimit("boards","totalMembersPerBoard"):void 0)?{message:"members exceeds total per board limit",params:{boardName:t.get("name"),boardId:t.get("id")}}:(null!=n?n.isOverLimit("boards","totalPerMember"):void 0)?a.isMe(n)?{message:"your boards exceed total per member limit"}:{message:"boards exceeds total per member limit",params:{memberName:n.get("name")}}:void 0;return null!=o&&(r(i.extend({trackingArea:"boardMemberLimit",elem:e},o)),!0)}}},"./app/scripts/views/canonical-board/canonical-board-components.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./node_modules/react/index.js"),r=n("./app/scripts/views/internal/recup-with-helpers.js")("canonical_board"),{N30:o}=n("./packages/colors/index.ts"),{Board:s,BoardLists:l,BoardName:c,Card:d,ErrorMessage:u,List:p,PlaceholderBoardTile:m}=n("./packages/trello-canonical-components/index.ts").CanonicalBoard;class h extends a.Component{static initClass(){this.prototype.displayName="LoadingCanonicalBoard",this.prototype.render=r.renderable((()=>r.tag(m,{numLists:5})))}}h.initClass();class g extends a.Component{static initClass(){this.prototype.displayName="GenericErrorCanonicalBoard",this.prototype.render=r.renderable((function(){const{errorText:e}=this.props;return r.div(".canonical-board-error",(()=>r.tag(s,{className:"canonical-board-error-alert-taco",hasError:!0},(()=>r.tag(u,(()=>r.format("generic error",{message:e})))))))}))}}g.initClass();class b extends a.Component{static initClass(){this.prototype.displayName="ConfusedTacoCanonicalBoard",this.prototype.render=r.renderable((function(){return r.div(".canonical-board-error",(()=>r.tag(s,{className:this.props.className,hasError:!0},(()=>(r.tag(u,(()=>r.formatText(this.props.error))),r.tag(l,(()=>[3,1,3,2,1].forEach((e=>r.tag(p,(()=>i.times(e,(()=>r.tag(d))))))))))))))}))}}b.initClass();class f extends a.Component{static initClass(){this.prototype.displayName="NotFoundCanonicalBoard",this.prototype.render=r.renderable((()=>r.tag(b,{className:"canonical-board-error-confused-taco",error:"board not found error"})))}}f.initClass();class v extends a.Component{static initClass(){this.prototype.displayName="NetworkErrorCanonicalBoard",this.prototype.render=r.renderable((()=>r.tag(b,{className:"canonical-board-error-confused-taco",error:"network error"})))}}v.initClass();class k extends a.Component{static initClass(){this.prototype.displayName="InvalidCardCanonicalBoard",this.prototype.render=r.renderable((()=>r.tag(b,{className:"canonical-board-error-confused-taco",error:"invalid board error"})))}}k.initClass();class y extends a.Component{static initClass(){this.prototype.displayName="UnauthorizedCanonicalBoard",this.prototype.render=r.renderable((()=>r.tag(b,{className:"canonical-board-error-bouncer-taco",error:"unauthorized board error"})))}}y.initClass();class C extends a.Component{static initClass(){this.prototype.displayName="CanonicalBoard",this.prototype.render=r.renderable((function(){const{board:e}=this.props;let t=e.listList.slice(0,5);0===t.length&&(t=[{cardList:{length:1}}]);const n=e.get("prefs").backgroundTopColor?e.get("prefs").backgroundTopColor:"dark"===e.get("prefs").backgroundBrightness?"#333":o;return r.div((()=>r.div(".canonical-board",(()=>r.a(".canonical-board-link",{href:e.get("url")},(()=>r.tag(s,{bgColor:e.get("prefs").backgroundColor,bgImage:e.get("prefs").backgroundImage,headerBgColor:n},(()=>(r.tag(c,(()=>r.text(e.get("name")))),r.tag(l,(()=>e.get("structure").map((e=>r.tag(p,(()=>function(e,t,n){const i=[],a=e<t,r=n?a?t+1:t-1:t;for(let t=e;a?t<r:t>r;a?t++:t--)i.push(t);return i}(0,e,!1).map((e=>r.tag(d))))))))))))))))))}))}}C.initClass(),e.exports={CanonicalBoard:C,GenericErrorCanonicalBoard:g,InvalidCanonicalBoard:k,LoadingCanonicalBoard:h,NetworkErrorCanonicalBoard:v,NotFoundCanonicalBoard:f,UnauthorizedCanonicalBoard:y}},"./app/scripts/views/canonical-card/canonical-card-components.js":function(e,t,n){const i=n("./app/scripts/lib/dates.js"),{getStringForCombinedDateBadge:a}=n("./app/gamma/src/util/dates.ts"),r=n("./node_modules/react/index.js"),o=n("./app/scripts/views/internal/recup-with-helpers.js")("canonical_card"),s=n("./app/scripts/lib/util/index.js"),l=n("./node_modules/underscore/underscore.js"),c=n("./node_modules/moment/moment.js"),{HomeTestIds:d}=n("./packages/test-ids/index.ts"),{seesVersionedVariation:u}=n("./packages/feature-flag-client/index.ts"),{LinkWrapper:p}=n("./app/src/components/RouterLink/LinkWrapper.tsx"),{N30:m,N40:h}=n("./packages/colors/index.ts"),{ArchivedBadge:g,AttachmentsBadge:b,Card:f,CardBadges:v,CardCover:k,CardLabel:y,CardLabels:C,CardLink:j,CardMembers:w,CardTemplateBadge:x,CardTitle:_,CheckboxFieldBadge:E,ChecklistBadge:S,CommentsBadge:O,DateFieldBadge:T,DescriptionBadge:D,DueDateBadge:N,ListFieldBadge:I,NotificationBadge:A,NumberFieldBadge:P,SubscribedBadge:B,TextFieldBadge:L,TrelloAttachmentsBadge:F,VotesBadge:M}=n("./packages/trello-canonical-components/index.ts").CanonicalCard,{Board:R,BoardAndListName:U,ListNameOnly:V,PlaceholderCard:z,TeamBoardAndListName:H}=n("./packages/trello-canonical-components/index.ts").CanonicalBoardCard,W=n("./packages/trello-canonical-components/index.ts").CanonicalAvatar,K=function(e,t){let n="".concat(o.l("board"),": ").concat(e);return null!=t&&(n+=", ".concat(o.l("list"),": ").concat(t)),n};class q extends r.Component{static initClass(){this.prototype.displayName="LoadingCanonicalCard",this.prototype.render=o.renderable((()=>o.tag(z)))}}q.initClass();class $ extends r.Component{static initClass(){this.prototype.displayName="GenericErrorCanonicalCard",this.prototype.render=o.renderable((function(){const{errorText:e}=this.props;return o.div(".canonical-card-error",(()=>o.tag(R,{bgColor:h},(()=>o.tag(f,{className:"canonical-card-error-card"},(()=>(o.tag(k,{bgColor:m,bgSize:"contain",height:40,img:n("./resources/images/canonical-card/alert-taco.svg"),className:"error-card-cover",width:38}),o.tag(_,(()=>o.format("generic error",{message:e}))))))))))}))}}$.initClass();class G extends r.Component{static initClass(){this.prototype.displayName="UnauthorizedCanonicalCard",this.prototype.render=o.renderable((()=>o.div(".canonical-card-error",(()=>o.tag(R,{bgColor:h},(()=>o.tag(f,{className:"canonical-card-error-card"},(()=>(o.tag(k,{bgColor:m,bgSize:"contain",height:48,img:n("./resources/images/canonical-card/bouncer-taco.svg"),className:"unauthorized-card-cover"}),o.tag(_,(()=>o.format("unauthorized card error"))))))))))))}}G.initClass();class Z extends r.Component{static initClass(){this.prototype.displayName="ConfusedTacoCanonicalCard",this.prototype.render=o.renderable((function(){return o.div(".canonical-card-error",(()=>o.tag(R,{bgColor:h},(()=>o.tag(f,{className:"canonical-card-error-card"},(()=>(o.tag(k,{bgColor:m,bgSize:"contain",height:40,img:n("./resources/images/canonical-card/confused-taco.svg"),className:"error-card-cover",width:38}),o.tag(_,(()=>o.format(this.props.error))))))))))}))}}Z.initClass();class J extends r.Component{static initClass(){this.prototype.displayName="NotFoundCanonicalCard",this.prototype.render=o.renderable((()=>o.tag(Z,{error:"card not found error"})))}}J.initClass();class Y extends r.Component{static initClass(){this.prototype.displayName="ServerErrorCanonicalCard",this.prototype.render=o.renderable((()=>o.tag(Z,{error:"network error"})))}}Y.initClass();class X extends r.Component{static initClass(){this.prototype.displayName="InvalidCardCanonicalCard",this.prototype.render=o.renderable((()=>o.tag(Z,{error:"invalid card error"})))}}X.initClass();class Q extends r.Component{static initClass(){this.prototype.displayName="CanonicalCard",this.prototype.render=o.renderable((function(){let e,{list:t}=this.props;const{board:n,boardClassName:r,card:l,cardClassName:c,labels:h,members:f,numNotifications:k,organization:z,lightBackground:q,showListNameOnly:$,onCardClick:G,onCardMouseEnter:Z,onCardMouseLeave:J,wideMode:Y}=this.props,X=l.get("badges"),Q=l.get("closed"),ee=l.get("isTemplate");return t=t||l.getList(),o.tag(R,{className:r,bgColor:n.getPref("backgroundColor"),bgImage:null!=(e=te(s.smallestPreviewBiggerThan(n.getPref("backgroundImageScaled"),250,130),(e=>e.url)))?e:n.getPref("backgroundImage"),headerBgColor:(ne=n.getPref("backgroundBottomColor"),ie=n.getPref("backgroundBrightness"),ne||("dark"===ie?"#333":m)),widthPx:Y?360:void 0},(()=>(o.tag(j,{href:l.get("url"),className:c,onClick:G,onMouseEnter:Z,onMouseLeave:J,linkComponent:p},(()=>{if((null!=h?h.length:void 0)>0&&o.tag(C,(()=>h.forEach((e=>{const t=e.get("color");if(null!==t)return o.tag(y,{color:t,dataTestClass:"card-label"},(()=>o.text(e.get("name")||" ")))})))),o.tag(_,{"data-test-id":d.CardTitle},(()=>o.text(l.get("name")))),o.tag(v,(()=>{ee&&o.tag(x,(()=>o.format("card template badge label"))),k>0&&o.tag(A,{numUnread:k}),X.subscribed&&o.tag(B,{dataTestClass:"badge-card-subscribed-icon"}),X.votes>0&&!ee&&o.tag(M,{numVotes:X.votes}),!X.due&&!X.start||ee||o.tag(N,{dueDate:X.due&&new Date(X.due),isComplete:X.dueComplete},(()=>u("ecosystem.timeline-version","stable")?o.text(a(X.start,X.due)):X.due?o.text(i.toDateString(X.due)):X.start?o.text(i.toDateString(X.start)):void 0)),X.description&&o.tag(D),X.comments>0&&o.tag(O,{numComments:X.comments});const e=X.attachmentsByType?X.attachmentsByType.trello.board+X.attachmentsByType.trello.card:0,t=X.attachments-e;if(t>0&&o.tag(b,{numAttachments:t}),e>0&&o.tag(F,{numAttachments:e}),X.checkItems>0&&o.tag(S,{numItems:X.checkItems,numComplete:X.checkItemsChecked,checkItemsEarliestDue:X.checkItemsEarliestDue?new Date(X.checkItemsEarliestDue):null}),Q&&!ee&&o.tag(g,(()=>o.format("archived card badge label"))),n.customFieldList.length>0)return n.customFieldList.map((function(e){let t=l.customFieldItemList.find((t=>t.get("idCustomField")===e.id));if(null==t)return null;if(t=t.toJSON(),(e=e.toJSON()).display&&!e.display.cardFront)return null;switch(e.type){case"checkbox":return o.tag(E,{field:e,item:t});case"date":return o.tag(T,{field:e,item:t});case"list":return o.tag(I,{field:e,item:t});case"number":return o.tag(P,{field:e,item:t});case"text":return o.tag(L,{field:e,item:t});default:return null}}))})),(null!=f?f.length:void 0)>0)return o.tag(w,(()=>(()=>{const e=[];for(let t=f.length-1;t>=0;t--){const i=f[t],a=i.get("avatarUrl");e.push(o.tag(W,{deactivated:"deactivated"===te(n.getOrganization(),(e=>e.getMemberType(i)))||te(null!=i?i.attributes:void 0,(e=>e.activityBlocked)),img:a&&[a,"30.png"].join("/"),img2x:a&&[a,"50.png"].join("/"),initials:i.get("initials"),lightBackground:q||!1}))}return e})()))})),$?o.tag(V,{listName:null!=t?t.get("name"):void 0,title:"".concat(o.l("list"),": ").concat(null!=t?t.get("name"):void 0)}):z?o.tag(H,{boardName:null!=n?n.get("name"):void 0,boardUrl:null!=n?n.get("url"):void 0,listName:null!=t?t.get("name"):void 0,teamName:null!=z?z.get("displayName"):void 0,title:K(null!=n?n.get("name"):void 0,null!=t?t.get("name"):void 0),linkComponent:p}):o.tag(U,{boardName:null!=n?n.get("name"):void 0,boardUrl:null!=n?n.get("url"):void 0,listName:null!=t?t.get("name"):void 0,title:K(null!=n?n.get("name"):void 0,null!=t?t.get("name"):void 0),linkComponent:p}))));var ne,ie}))}}Q.initClass();class ee extends r.Component{static initClass(){this.prototype.displayName="MicroCanonicalCard",this.prototype.render=o.renderable((function(){const{badge:e,card:t,labels:n}=this.props;return o.tag(f,(()=>{if(o.div(".rbc-cust-event-time.badge",(()=>o.text(c(new Date(t.get("due"))).format("LT")))),o.tag(C,(()=>l.map(n,(e=>o.tag(y,{color:e.get("color")}))))),o.tag(_,(()=>o.text(t.get("name")))),null!=e)return o.span(".rbc-cust-event-badge.badge",(()=>o.text(e)))}))}))}}function te(e,t){return null!=e?t(e):void 0}ee.initClass(),e.exports={CanonicalCard:Q,GenericErrorCanonicalCard:$,InvalidCanonicalCard:X,LoadingCanonicalCard:q,MicroCanonicalCard:ee,NetworkErrorCanonicalCard:Y,NotFoundCanonicalCard:J,UnauthorizedCanonicalCard:G}},"./app/scripts/views/card-aging/card-aging-card-button-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./app/scripts/views/templates/card_detail_sidebar_button.js");class r extends i{static initClass(){this.prototype.tagName="span"}renderOnce(){return this.$el.html(a("js-card-aging-card-button","card-aging","card-aging")),this}}r.initClass(),e.exports=r},"./app/scripts/views/card-aging/card-aging-popover-view.js":function(e,t,n){const{getSeparatorClassName:i}=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts"),a=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),{sendPluginUIEvent:r}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),o=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_aging"),s=n("./app/scripts/views/internal/view.js"),l=n("./app/scripts/data/legacy-power-ups.js").cardAging,c=o.renderable((({evergreen:e})=>o.ul(".pop-over-list",(()=>o.li((()=>o.a(".js-toggle-ignore",{href:"#"},(function(){return o.span(".name",(function(){if(o.format("evergreen"),e)return o.icon("check")})),o.span(".sub-name",(()=>o.format("evergreen cards")))}))))))));class d extends s{static initClass(){this.prototype.viewTitleKey="card aging",this.prototype.events={"click .js-toggle-ignore":"toggleIgnore"}}initialize(){return this.getEvergreenData(),this.subscribe(a(this.model.getBoard(),this.model),(()=>this.render()))}getEvergreenData(){return this.evergreen=this.model.getPluginDataByKey(l,"shared","evergreen",!1)}toggleIgnore(){return this.model.setPluginDataByKey(l,"shared","evergreen",!this.evergreen),r({idPlugin:l,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"cardAgingEvergreenButton",attributes:{isEvergreenAfterClick:this.evergreen,isTemplate:this.model.get("isTemplate"),separatorType:i(this.model.get("name"))},source:"cardDetailScreen"}}),this.render()}render(){return this.getEvergreenData(),this.$el.html(c({evergreen:this.evergreen})),this}}d.initClass(),e.exports=d},"./app/scripts/views/card/SeparatorCard/SeparatorCard.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/scripts/views/card/SeparatorCard/SeparatorCard.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"SeparatorType",(function(){return d})),n.d(t,"SeparatorNumCharacters",(function(){return u})),n.d(t,"getSeparator",(function(){return m})),n.d(t,"trackSeparator",(function(){return h})),n.d(t,"getSeparatorClassName",(function(){return g}));var i=n("./node_modules/classnames/index.js"),a=n.n(i),r=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.less"),o=n.n(r),s=n("./packages/atlassian-analytics/index.ts");const l=new Set(["-","_","=","*","#","/","\\","<",">","."]);function c(e){return l.has(e)}let d,u;function p(e,t){const n=e.startsWith(t),i=e.endsWith(t),a=e.startsWith(t.repeat(3)),r=e.endsWith(t.repeat(3)),o=/^(.)\1*$/.test(e);switch(!0){case n&&o:return{character:t,type:d.SeparatorOnly,numCharacters:a?u.ThreeOrMore:u.TwoOrFewer};case n&&i:return{character:t,type:d.SeparatorTitle,numCharacters:a&&r?u.ThreeOrMore:u.TwoOrFewer};case n:return{character:t,type:d.SeparatorStartTitle,numCharacters:a?u.ThreeOrMore:u.TwoOrFewer};case i:return{character:t,type:d.SeparatorEndTitle,numCharacters:r?u.ThreeOrMore:u.TwoOrFewer};default:return null}}function m(e){if(!e)return null;const t=/^[-â]+$/.test(e)?e.replace(/â/g,"--"):e,n=t.charAt(0),i=t.charAt(t.length-1);let a=null,r=null;return c(n)&&(a=p(t,n)),c(i)&&(r=p(t,i)),a||r}function h(e){const t=m(e);if(!t||!c(t.character))return;const{type:n,character:i,numCharacters:a}=t;s.Analytics.sendTrackEvent({action:"updated",actionSubject:"name",source:"inlineCardComposerInlineDialog",attributes:{updatedOn:"card",isSeparator:!0,numCharacters:a,character:i,type:n}})}function g(e){const t=m(e);if(!t)return null;const{type:n,character:i,numCharacters:r}=t;return n!==d.SeparatorOnly||r!==u.ThreeOrMore||"-"!==i&&"_"!==i?null:a()(o.a.separatorCard,o.a.singleHorizontalLine)}!function(e){e.SeparatorOnly="separator only",e.SeparatorTitle="separator with title",e.SeparatorStartTitle="starting separator with title",e.SeparatorEndTitle="ending separator with title"}(d||(d={})),function(e){e.ThreeOrMore="three or more",e.TwoOrFewer="two or fewer"}(u||(u={}))},"./app/scripts/views/card/animate-card.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"animateRender",(function(){return a})),n.d(t,"animateRemove",(function(){return r}));const i=e=>{const t=e.getBoundingClientRect();return{top:"".concat(Math.round(t.top),"px"),left:"".concat(Math.round(t.left),"px"),width:"".concat(Math.round(t.width),"px"),height:"".concat(Math.round(t.height),"px")}},a=e=>{const t=document.querySelector('.list-card[href^="/c/'.concat(e.model.get("shortLink"),'"]')),n=document.querySelector(".window-overlay"),a=document.querySelector(".window");if(!t||!n||!a)return;Object.assign(e,{$card:t,$overlay:n,$originalCardBack:a}),a.style.opacity="0",n.classList.add("overlayAnimatedStart");setTimeout((()=>{const r=a.cloneNode();Object.assign(e,{$animatedCardBack:r});const o=a.querySelector(".window-cover").cloneNode(!0),s=a.querySelector(".window-header").cloneNode(!0);r.appendChild(o),r.appendChild(s);const l={target:i(a),source:i(t)};e.rects=l,r.setAttribute("style","\n      top: ".concat(l.source.top,";\n      left: ").concat(l.source.left,";\n      width: ").concat(l.source.width,";\n      height: ").concat(l.source.height,";\n    ")),r.classList.add("cardBackAnimated"),document.body.appendChild(r),setTimeout((()=>{t.classList.add("cardListAnimated"),r.setAttribute("style","\n          top: ".concat(l.target.top,";\n          left: ").concat(l.target.left,";\n          width: ").concat(l.target.width,";\n          height: ").concat(l.target.height,";\n        ")),n.classList.add("overlayAnimatedEnd")})),setTimeout((()=>{r.style.display="none",a.style.opacity="1",n.classList.remove("overlayAnimatedStart","overlayAnimatedEnd")}),250)}))},r=e=>{e.$overlay.classList.remove("overlayAnimatedEnd"),e.$animatedCardBack.style.display="block",setTimeout((()=>{e.$animatedCardBack.setAttribute("style","\n        top: ".concat(e.rects.source.top,";\n        left: ").concat(e.rects.source.left,";\n        width: ").concat(e.rects.source.width,";\n        height: ").concat(e.rects.source.height,";\n      "))})),setTimeout((()=>{e.$card.classList.remove("cardListAnimated"),e.$animatedCardBack.remove(),delete e.$animatedCardBack}),250)}},"./app/scripts/views/card/attach-links-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/alerts.js"),r=n("./app/scripts/views/attachment/attachment-limit-exceeded-error.js"),o=n("./app/scripts/views/templates/popover_limit_exceeded.js"),s=n("./node_modules/url-parse/index.js"),l=n("./node_modules/bluebird/js/browser/bluebird.js"),c=n("./app/scripts/views/internal/view.js"),d=n("./app/scripts/views/templates/card_attach_links.js"),u=n("./node_modules/xtend/immutable.js"),{track:p}=n("./packages/analytics/index.ts");class m extends c{static initClass(){this.prototype.viewTitleKey="attach links",this.prototype.events={"click .js-attach:not([disabled])":"attach"}}initialize({links:e}){return this.links=e,this.listenTo(this.model.attachmentList,"add remove reset",this.render)}render(){if(!this.model.canAttach())return this.model.isOverLimit("attachments","perCard")?this.$el.html(o("perCard")):this.model.getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(o("perBoard")),this;const e=Array.from(this.links).map((e=>u(e,{domain:s(e.url).host,attached:this.model.attachmentList.any((t=>t.get("url")===e.url))})));return this.$el.html(d(e)),this}attach(e){const t=i(e.currentTarget),n=t.attr("data-url"),o=t.attr("data-text");return t.attr("disabled","disabled"),l.fromNode((e=>this.model.uploadUrl({url:n,name:o},e))).then((()=>p("Attachment","Upload link"))).catch(r,(()=>a.show("unable to attach link","error","linkattachment",5e3)))}}m.initClass(),e.exports=m},"./app/scripts/views/card/attachment-type-picker-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/alerts.js"),r=n("./app/scripts/db/auth.js"),o=n("./app/scripts/models/board.js"),{boxClientId:s,dropboxClientAppKey:l,oneDriveClientId:c,siteDomain:d}=n("./packages/config/index.ts"),u=n("./app/scripts/network/api-error.js"),p=n("./app/scripts/models/card.js"),m=n("./app/scripts/lib/google-api.js"),h=n("./app/scripts/views/attachment/attachment-limit-exceeded-error.js"),g=n("./app/scripts/views/attachment/attachment-type-restricted-error.js"),b=n("./app/scripts/views/templates/popover_limit_exceeded.js"),{isSubmitEvent:f}=n("./packages/keybindings/index.ts"),v=n("./app/scripts/views/lib/pop-over.js"),k=n("./node_modules/bluebird/js/browser/bluebird.js"),y=n("./app/scripts/views/internal/autocomplete/trello-completer-view.js"),C=n("./app/scripts/views/card/uploading-link-view.js"),j=n("./app/scripts/lib/util/index.js"),w=n("./app/scripts/views/internal/view.js"),x=n("./node_modules/underscore/underscore.js"),_=n("./app/scripts/views/internal/teacup-with-helpers.js")("attachment_type_picker"),{track:E}=n("./packages/analytics/index.ts"),{Analytics:S}=n("./packages/atlassian-analytics/index.ts"),{featureFlagClient:O}=n("./packages/feature-flag-client/index.ts"),T=n("./app/scripts/lib/util/ninvoke.js"),D=n("./node_modules/effing/lib/index.js"),N=n("./node_modules/@atlassian/trello-error-ext/lib/create-custom.js"),I=n("./app/scripts/views/internal/pasted-file-name.js"),A=n("./app/scripts/lib/util/url/parse-trello-url.js"),{dontUpsell:P}=n("./packages/browser/index.ts"),B=n("./app/scripts/views/lib/tooltip.js"),L=N("AttachmentTypePickerView::FileTooLarge"),F=_.renderable((function({hasLargeAttachments:e,id:t,googleDriveReady:n,tipKey:i,tipData:a,defaultName:r,restrictedAttachmentTypes:o}){null==i&&(i="tip-you-can-drag-and-drop-files-and-links-onto-cards-to-upload-them"),null==a&&(a={}),_.div(".error.js-file-too-large",{style:"margin: 12px 0 6px; display:none;"},(function(){e?_.format("that-file-size-exceeds-the-250mb-limit"):P()?_.div(".gold-promo",(function(){_.format("that-file-size-exceeds-the-10mb-limit")})):_.div(".gold-promo",(function(){_.format("that-file-size-exceeds-the-10mb-limit-but-if-you-upgrade-to"),_.icon("trello-gold","trello-gold-you-can-upload-files-up-to-250mb")}))})),_.ul(".pop-over-list",(function(){Array.from(o).includes("computer")?_.li((()=>_.a(".disabled.js-attachment-restricted",{href:"#"},(()=>_.format("computer"))))):_.li(".uploader",(function(){return _.a(".fakefile",{href:"#"},(()=>_.format("computer"))),_.form(".realfile",{action:"/1/card/".concat(t,"/attachments"),method:"post",enctype:"multipart/form-data"},(function(){return _.input({type:"hidden",name:"token",value:""}),_.input({type:"hidden",name:"format",value:"http"}),_.input(".js-attach-file",{type:"file",name:"file",tabindex:"-1",multiple:""})}))})),_.li((function(){return _.a(".js-attach-card",{href:"#"},(()=>_.format("trello"))),_.li((()=>_.a(".js-google-drive-attachment",{href:"#",class:_.classify({disabled:!n||Array.from(o).includes("google-drive"),"js-attachment-restricted":Array.from(o).includes("google-drive")})},(()=>_.format("google-drive"))))),_.li((()=>_.a(".js-dropbox-attachment",{href:"#",class:_.classify({"disabled js-attachment-restricted":Array.from(o).includes("dropbox")})},(()=>_.format("dropbox"))))),_.li((()=>_.a(".js-box-attachment",{href:"#",class:_.classify({"disabled js-attachment-restricted":Array.from(o).includes("box")})},(()=>_.format("box"))))),_.li((()=>_.a(".js-one-drive-attachment",{href:"#",class:_.classify({"disabled js-attachment-restricted":Array.from(o).includes("onedrive")})},(()=>_.format("onedrive")))))}))})),_.hr(),Array.from(o).includes("link")?_.ul(".pop-over-list",(()=>_.li((()=>_.a(".disabled.js-attachment-restricted",(()=>_.format("attach-a-link"))))))):(_.label({for:"addLink"},(function(){_.format("attach-a-link")})),_.input(".attachment-add-link-input.js-attachment-url.js-autofocus",{type:"text",id:"addLink",placeholder:_.l("paste-any-link-here-ellipsis")}),_.div(".js-name-link.hide",(function(){return _.label({for:"nameLink"},(function(){_.format("link-name")})),_.input(".attachment-add-link-input.js-attachment-name",{type:"text",id:"nameLink",value:r})})),_.input(".js-add-attachment-url",{style:"margin: 0;",type:"submit",value:_.l("attach")})),_.hr(),_.p(".quiet.u-bottom",(function(){_.format(i,a)}))}));class M extends w{static initClass(){this.prototype.viewTitleKey="attach from",this.prototype.events={"click .js-google-drive-attachment:not(.disabled)":"openGoogleDriveFilePicker","click .js-dropbox-attachment:not(.disabled)":"openDropboxFilePicker","click .js-one-drive-attachment:not(.disabled)":"openOneDriveFilePicker","click .js-box-attachment:not(.disabled)":"openBoxFilePicker","click .js-attach-card":"attachCard","change .js-attach-file":"startUpload","click .js-add-attachment-url":"addUrl","keydown .js-attachment-url":"keydown","keydown .js-attachment-name":"keydown","input .js-attachment-url":"toggleAttachmentNameInput","mouseenter .js-attachment-restricted":"showRestrictedTooltip","mouseleave .js-attachment-restricted":"hideRestrictedTooltip",'click a[href^="/gold"]':()=>E("Attachment","Open Trello Gold Promo - via Attachment Upload Limit"),'click a[href^="/business-class"]':()=>E("Card Detail","Attachments BC Ad")},this.prototype._scripts={dropbox:"https://www.dropbox.com/static/api/1/dropbox.js",box:"https://app.box.com/js/static/select.js",oneDrive:"https://js.live.net/v7.0/OneDrive.js"}}initialize(){return this.listenTo(m,"loaded",this.render)}getCard(){return this.model instanceof p?this.model:this.model.getCard()}getData(){for(const e in this._scripts){const t=this._scripts[e];this._loadOnce(t,(function(){}))}}render(){var e,t,n,i,a;if(!this.getCard().canAttach())return this.getCard().isOverLimit("attachments","perCard")?this.$el.html(b("perCard")):this.getCard().getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(b("perBoard")),this;const o=null===(e=this.getCard())||void 0===e||null===(t=e.getBoard())||void 0===t?void 0:t.getOrganization(),s={id:this.getCard().id,hasLargeAttachments:(null===(n=r.me())||void 0===n?void 0:n.hasPremiumFeature("largeAttachments"))||(null==o?void 0:o.hasPremiumFeature("largeAttachments"))||!1,googleDriveReady:m.loaded,defaultName:this.options.defaultName,restrictedAttachmentTypes:(null===(i=this.getCard())||void 0===i||null===(a=i.getBoard())||void 0===a?void 0:a.getRestrictedAttachmentTypes())||[]};return null!=o&&o.isFeatureEnabled("plugins")||(s.tipKey="tip-you-can-attach-other-things-with-power-ups",s.tipData={url:"/power-ups?utm_source=trello&utm_medium=inapp&utm_content=attachments-menu&utm_campaign=power-ups"}),this.$el.html(F(s)),this}startUpload(e){var t,n;const o=i(e.target),s=this.$(".js-file-too-large").hide(),l=x.toArray(o[0].files),{options:c}=this;c.onStartUpload&&c.onStartUpload();const d=null===(t=this.getCard())||void 0===t||null===(n=t.getBoard())||void 0===n?void 0:n.getOrganization();return(l.length>0?x.any(l,(e=>!r.me().canUploadAttachment(e,d)))?k.reject(L()):k.resolve(l).each((e=>{let t=null;const n="cardAttachmentPickerInlineDialog",i={source:n,taskName:"create-attachment",subTask:"file"};O.get("dataeng.vitalstats-upload-attachment",!1)&&(t=S.startTask(i),i.traceId=t);const a=e.name||I();return T(this.getCard(),"upload",e,a,{traceId:t}).then((e=>(t&&(S.sendTrackEvent({source:n,action:"uploaded",actionSubject:"attachment",actionSubjectId:"fileAttachment",attributes:{taskId:t}}),S.taskSucceeded(i)),this.trigger("attach",{mimeType:e.mimeType,name:this.options.defaultName||a,url:e.url}))),(e=>(t&&(i.error=e,S.taskFailed(i)),k.reject(e))))})):T(j,"uploadFile",r.myToken(),o)).then((function(){if(E("Card Detail","Upload Attachment Complete - Via Picker"),a.show("finished uploading","info","AjaxQueueUpload",2e3),v.hide(),c.onFinishUpload)return c.onFinishUpload()})).catch(L,(function(){return s.show(),E("Card Detail","Attachment","Upload Error - File Too Large")})).catch(h,(()=>(this.render(),E("Card Detail","Attachment","Upload Error - Limit Exceeded")))).catch(g,(()=>(v.hide(),c.onFinishUpload&&c.onFinishUpload(),a.show("attachment upload restricted","error","attachment",5e3),E("Card Detail","Attachment","Upload Error - Upload Restricted by Enterprise")))).catch(u.NoResponse,(()=>{var e;v.hide(),null===(e=c.onFinishUpload)||void 0===e||e.call(c),a.show("unable to upload file","error","upload",5e3)})).done()}_loadOnce(e,t){return null==window._loadedScripts&&(window._loadedScripts={}),window._loadedScripts[e]?t():i.getScript(e,(()=>(window._loadedScripts[e]=!0,t())))}attachLinks(e,t,n){if(t)return this.$(".js-limit-exceeded").toggleClass("hide",!0),this.options.onStartUpload&&this.options.onStartUpload(this.model,e),v.pushView({view:C}),k.resolve(t).call("map",null!=n?n:e=>e).each((t=>{const n=x.pick(t,"url","mimeType","name");return this.trigger("attach",n),k.fromNode((e=>this.getCard().uploadUrl(n,e))).then((t=>E("Card Detail","Upload ".concat(e))))})).then((()=>v.hide())).catch(h,(()=>(v.popView(),this.render(),E("Card Detail","Attachment","Upload Error - Limit Exceeded")))).catch(g,(()=>(a.show("link type restricted","error","attachment",5e3),v.hide()))).finally((()=>this.options.onFinishUpload&&this.options.onFinishUpload(this.model,e))).done()}openGoogleDriveFilePicker(e){return j.stop(e),T(gapi,"load","picker").then((function(){const e=m.validToken();return T(m,"authorize",e)})).then((e=>{const t=new google.picker.DocsView;t.setIncludeFolders(!0);const n=new google.picker.DocsView;n.setIncludeFolders(!0),n.setSelectFolderEnabled(!0),n.setEnableTeamDrives(!0);return(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES).addView(t).addView(n).setOAuthToken(e).setCallback((e=>this.attachLinks("Google drive file",e.docs,D.id))).build().setVisible(!0),i("iframe.picker-frame[src*=authserviceid]").attr("src",(function(){return i(this).attr("src").replace(/authserviceid/g,"fixgoogle")}))})).catch((e=>{switch(e.message){case"popup_closed_by_user":case"access_denied":break;default:throw e}})).done()}openDropboxFilePicker(e){j.stop(e),this._loadOnce(this._scripts.dropbox,(()=>{Dropbox.init({appKey:l}),Dropbox.choose({linkType:"preview",iframe:!0,success:e=>this.attachLinks("Dropbox file",e,(e=>({url:e.link,name:e.name})))}),i('iframe[src^="https://www.dropbox.com/chooser"]').parent().css("overflow","auto")}))}openOneDriveFilePicker(e){j.stop(e),this._loadOnce(this._scripts.oneDrive,(()=>{k.try((()=>new k((function(e,t){const{OneDrive:n}=window;return n.open({clientId:c,action:"share",multiSelect:!0,openInNewWindow:!0,success:t=>e(t.value),cancel:()=>e([]),error:e=>t(e),advanced:{redirectUri:"".concat(d,"/onedrive_callback_7.html")}})})))).then((e=>this.attachLinks("OneDrive file",e,(e=>({url:e.webUrl,name:e.name}))))).done()}))}openBoxFilePicker(e){return j.stop(e),this._loadOnce(this._scripts.box,(()=>{const e=new BoxSelect({clientId:s,linkType:"shared",multiselect:!0}),t=n=>(e.unregister(e.SUCCESS_EVENT_TYPE,t),this.attachLinks("Box file",n,D.id));return e.success(t),e.launchPopup()}))}keydown(e){if(f(e))return this.addUrl()}addUrl(e){let t=this.$(".js-attachment-url").val().split(/\s+/),n=this.$(".js-attachment-name").val();/\S/.test(n)||(n=void 0),t=x.filter(t,(e=>/\S/.test(e))),!x.isEmpty(t)&&t.length<10&&this.attachLinks("link",t,(e=>({url:e,name:n})))}attachCard(e){const t=new y({model:this.model,card:this.model,modelCache:this.modelCache,button:!0,onStartUpload:e=>{let t;return e instanceof p?(t=e.get("url"),this.attachLinks("card",[{url:t}])):e instanceof o?(t=e.get("url"),this.attachLinks("board",[{url:t}])):void 0}});return v.pushView({view:t})}toggleAttachmentNameInput(e){const t=i(e.currentTarget).val(),{type:n}=A(t),a=["board","card"].includes(n),r=!/\S/.test(t);return this.$(".js-name-link").toggleClass("hide",a||r)}showRestrictedTooltip(e){const t=this.$(e.target);return B.show(_.l("attachment-type-restricted"),t,!1,B.STYLE.MENU)}hideRestrictedTooltip(){return B.hide()}}M.initClass(),e.exports=M},"./app/scripts/views/card/card-copy-view.js":function(e,t,n){const i=n("./app/scripts/views/lib/alerts.js"),a=n("./app/scripts/db/auth.js"),{getKey:r,Key:o}=n("./packages/keybindings/index.ts"),s=n("./app/scripts/db/model-loader.js"),l=n("./app/scripts/views/lib/pop-over.js"),{maybeDisplayLimitsErrorOnCardAdd:c}=n("./app/scripts/views/card/card-limits-error.js"),d=n("./app/scripts/lib/localize.js"),u=n("./app/scripts/views/label/label-limits-error-view.js"),p=n("./app/scripts/views/card/select-card-position.js"),m=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/view.js"),g=n("./app/scripts/views/internal/templates.js"),{Analytics:b}=n("./packages/atlassian-analytics/index.ts"),f=n("./node_modules/effing/lib/index.js"),v=n("./node_modules/underscore/underscore.js");class k extends h{static initClass(){this.prototype.viewTitleKey="copy card",this.prototype.showCurrentPosition=!0,this.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData",'keydown textarea[name="name"]':"keydownEvent","click .js-submit":"submit","submit form":"submit"}}initialize(e){return this.onCopy=null!=e.onCopy?e.onCopy:function(){}}render(){const e=this.model.toJSON();e.numChecklists=this.model.checklistList.length,e.numMembers=e.idMembers.length,e.numLabels=null!=(null!=e.idLabels?e.idLabels.length:void 0)?null!=e.idLabels?e.idLabels.length:void 0:0,e.numAttachments=e.badges.attachments,e.numComments=e.badges.comments,e.numStickers=e.stickers.length,e.hasChecklists=e.numChecklists>0,e.hasMembers=e.idMembers.length>0,e.hasLabels=e.numLabels>0,e.hasAttachments=e.badges.attachments>0,e.hasStickers=e.stickers.length>0,e.hasComments=e.badges.comments>0&&!this.model.getBoard().isTemplate(),e.hasStuff=e.hasChecklists||e.hasMembers||e.hasLabels||e.hasAttachments||e.hasComments||e.hasStickers,e.loading=this.loading;let t=this.model.getBoard();const i=this.model.getBoard().getEnterprise();var r,o;t.isGuest(a.me())&&t.get("enterpriseOwned")?(e.isCopy=!0,e.hasEnterprise=!0,e.enterpriseName=null!=i?i.get("displayName"):void 0,e.restrictToCurrentBoard=!0,e.organizations=[{displayName:(r=t.getOrganization(),o=e=>e.get("displayName"),(null!=r?o(r):void 0)||d("member boards.boards")),boards:[v.extend(t.toJSON(),{selected:!0})]}]):null!=i?(e.isCopy=!0,e.hasEnterprise=null!=i,t=null==this.model.getBoard().getMembershipFor(a.me())?t:null,e.organizations=a.me().getOpenBoardsInEnterpriseByOrg(!0,i.get("id"),t),e.enterpriseName=i.get("displayName")):(t=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?t:null,e.organizations=a.me().getOpenBoardsByOrg(!0,t));for(const t of Array.from(e.organizations))for(const e of Array.from(t.boards))e.id===this.model.get("idBoard")&&(e.selected=!0);const s={move_card_controls:g.move_card_controls};return this.$el.html(g.fill(n("./app/scripts/views/templates/card_copy.js"),e,{editable:this.model.editable()},s)),this.updateBoardData(),this}getData(){return this.loading=!0,Promise.all([s.loadCardCopyData(this.model.get("idBoard"),this.model.id),s.loadBoardMinimal(this.model.get("idBoard"))]).finally((()=>(this.loading=!1,this.render())))}keydownEvent(e){if(r(e)===o.Enter)return m.stop(e),void this.submit(e)}submit(e){m.stop(e);const t=this.$('textarea[name="name"]');if(""===t.val().trim())return void t.focus().select();const n=this.$(".js-select-list").find("option:selected").val(),a=this.$(".js-select-board").find("option:selected").val(),r=this.modelCache.get("Board",a),o=null!=r?r.listList.get(n):void 0,s={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:r,destinationList:o};if(c(s))return;const d=this.$("input:checkbox:checked").get().map(f.get("name")),p=["start","due"].concat(d);if(a!==this.model.getBoard().id){if(this.model.getLabels().length>0&&v.contains(p,"labels")&&r.isOverLimit("labels","perBoard"))return void l.pushView(new u)}this.$(".js-submit").attr("disabled","disabled");const h=b.startTask({taskName:"create-card",subTask:"copy",source:"copyCardInlineDialog"});this.model.copyTo({name:t.val().trim(),idList:n,pos:this.$(".js-select-position").find("option:selected").val(),keepFromSource:p,traceId:h}).then((()=>{l.hide(),this.onCopy(),b.sendTrackEvent({action:"copied",actionSubject:"card",source:"copyCardInlineDialog",containers:{card:{id:this.model.id},board:{id:this.model.getBoard().id}},attributes:{isCardTemplate:!!this.model.get("isTemplate"),isBoardTemplate:this.model.getBoard().isTemplate(),taskId:h}}),b.taskSucceeded({taskName:"create-card",subTask:"copy",source:"copyCardInlineDialog",traceId:h})})).catch((e=>{l.hide(),i.flash("could not copy card","error","create error"),b.sendOperationalEvent({action:"failed",actionSubject:"cardCopy",source:"copyCardInlineDialog",containers:{card:{id:this.model.id},board:{id:this.model.getBoard().id}},attributes:{isCardTemplate:!!this.model.get("isTemplate"),isBoardTemplate:this.model.getBoard().isTemplate(),taskId:h}}),b.taskFailed({taskName:"create-card",subTask:"copy",traceId:h,source:"copyCardInlineDialog",error:e})}))}}k.initClass(),v.extend(k.prototype,p),e.exports=k},"./app/scripts/views/card/card-cover-chooser-popover.tsx":function(e,n,i){"use strict";i.r(n),i.d(n,"toggleCardCoverChooserPopover",(function(){return J}));var a=i("./node_modules/react/index.js"),r=i.n(a),o=i("./packages/i18n/index.ts"),s=i("./packages/keybindings/index.ts"),l=i("./node_modules/classnames/index.js"),c=i.n(l),d=i("./app/src/components/CardCoverChooser/SuggestedSearches.less"),u=i.n(d),p=i("./packages/locale/index.ts");const m=Object(o.forTemplate)("card_cover_chooser"),h={productivity:"Productivity",perspective:"Perspective",organization:"Organization",colorful:"Colorful",nature:"Nature",business:"Business",minimal:"Minimal",space:"Space",animals:"Animal"},g=({onSelect:e})=>r.a.createElement("div",null,r.a.createElement("h4",{className:u.a.heading},m("suggested-searches")),Object.entries(h).map((([t,n])=>r.a.createElement("button",{className:c()("button",u.a.suggestedSearchButton),key:t,onClick:t=>{t.stopPropagation(),e(n)}},((e,t)=>"en-US"===p.currentLocale||"en-GB"===p.currentLocale||"en-AU"===p.currentLocale||m(e)===t?m(e):m(e)+" ("+t+")")(t,n)))));var b=i("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),f=i("./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx"),v=i("./node_modules/underscore/underscore.js"),k=i("./packages/nachos/spinner.ts"),y=i("./app/src/components/InfiniteList/index.ts"),C=i("./app/src/components/CardCoverChooser/SearchResultImageButton.tsx"),j=i("./node_modules/react-transition-group/esm/Transition.js"),w=i("./app/src/components/CardCoverChooser/SearchResults.less"),x=i.n(w),_=i("./packages/unsplash/index.ts"),E=i("./packages/atlassian-analytics/index.ts");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D=Object(o.forTemplate)("card_cover_chooser"),N=({cardId:e,query:t,onSetCover:n})=>{const[i,o]=Object(a.useState)(t),[s,l]=Object(a.useState)(1),[d,u]=Object(a.useState)(!1),[p,m]=Object(a.useState)(!0),[h,g]=Object(a.useState)(!1),{data:w,error:S,loading:T,fetchMore:N}=Object(f.a)({skip:!i.trim().length,variables:{query:i,perPage:24,page:1},notifyOnNetworkStatusChange:!0}),{data:I}=Object(b.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),A=null==I?void 0:I.card,P={organization:{id:null==A?void 0:A.board.idOrganization},board:{id:null==A?void 0:A.board.id},card:{id:null==A?void 0:A.id}},B=Object(a.useCallback)(Object(v.debounce)((e=>{l(1),m(!0),o(e),u(!1)}),500),[o,u]);Object(a.useEffect)((()=>{u(!0),B(t)}),[t,B,u]);const L=w&&w.unsplashPhotos?w.unsplashPhotos:[],F=Object(a.useCallback)((()=>{p&&!T&&(l((e=>e+1)),N({variables:{page:s+1},updateQuery:(e,{fetchMoreResult:t})=>{if(m(!!t&&24===t.unsplashPhotos.length),!t)return e;const n=new Set(e.unsplashPhotos.map((e=>e.id)));return O(O({},e),{},{unsplashPhotos:[...e.unsplashPhotos,...t.unsplashPhotos.filter((e=>!n.has(e.id)))]})}}))}),[N,s,l,p,m,T,24]);if(S||h)return r.a.createElement("div",null,D("something-went-wrong"));if(!T&&i.trim().length&&!L.length)return r.a.createElement("div",{className:"quiet"},D("no-search-results"));const M=d||T,R=!!L.length&&!d&&(!T||s>1);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:x.a.heading},D("search-results")),R&&r.a.createElement(y.InfiniteList,{axis:"y",threshold:"30%",spinnerClassName:x.a.hideInfiniteListSpinner,itemCount:L.length,pageSize:24,awaitMore:!T&&p,loadMore:F,isLoading:T,itemsRenderer:(e,t)=>r.a.createElement("div",{className:c()(x.a.searchResultTiles,x.a.modFixedHeight),ref:e=>t(e)},e),renderItem:(t,i)=>{const{urls:a,links:o,user:s}=L[t];return r.a.createElement(C.a,{key:i,urls:a,links:o,user:s,index:t,cardId:e,onSetCover:n,onSetCoverFailed:()=>g(!0),buttonClassName:x.a.searchResultTilesItem,onClick:()=>E.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"unplashCoverInlineDialog",attributes:{value:a.raw},containers:P})})}}),r.a.createElement("div",{className:x.a.searchResultsFooter},r.a.createElement(j.a,{in:M,timeout:85},(e=>r.a.createElement("div",{className:c()(x.a.loadingColumn,{[x.a.isExiting]:"exiting"===e})},"exited"!==e&&r.a.createElement(k.a,{inline:!0,modLeft:!0,small:!0,text:D("loading")})))),r.a.createElement("div",{className:x.a.unsplashColumn},D("photos-from-unsplash",{unsplashLink:r.a.createElement("a",{key:"a",className:x.a.unsplashLink,href:_.unsplashClient.attributionUrl,rel:"noreferrer noopener",target:"_blank"},"Unsplash")}))))};var I=i("./app/src/components/CardCoverChooser/UnsplashSearch.less"),A=i.n(I),P=i("./packages/nachos/icons/close.tsx"),B=i("./packages/analytics/index.ts"),L=i("./app/src/components/CardCoverChooser/TopUnsplashPhotos.less"),F=i.n(L);const M=Object(o.forTemplate)("card_cover_chooser"),R=({cardId:e,onSetCover:t})=>{const{data:n}=Object(f.a)({variables:{query:"",perPage:9,page:1},fetchPolicy:"cache-only"}),{data:i}=Object(b.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),a=null==i?void 0:i.card,o={organization:{id:null==a?void 0:a.board.idOrganization},board:{id:null==a?void 0:a.board.id},card:{id:null==a?void 0:a.id}},s=n&&n.unsplashPhotos?n.unsplashPhotos:[];return s.length?r.a.createElement("div",null,r.a.createElement("h4",{className:F.a.heading},M("top-photos")),r.a.createElement("div",{className:F.a.unsplashTiles},s.slice(0,12).map((({urls:n,links:i,user:a,id:s},l)=>r.a.createElement(C.a,{key:s,urls:n,links:i,user:a,index:l,cardId:e,onSetCover:t,onSetCoverFailed:()=>{},buttonClassName:F.a.unsplashTilesItem,onClick:()=>E.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",attributes:{value:n.raw},containers:o})})))),r.a.createElement("div",{className:F.a.searchResultsFooter},r.a.createElement("div",{className:F.a.unsplashColumn},M("photos-from-unsplash",{unsplashLink:r.a.createElement("a",{key:"a",className:F.a.unsplashLink,href:_.unsplashClient.attributionUrl,rel:"noreferrer noopener",target:"_blank"},"Unsplash")})))):null},U=Object(o.forTemplate)("card_cover_chooser"),V=({cardId:e,onSetCover:t})=>{const{data:n}=Object(b.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),i=n&&n.card,o={organization:{id:null==i?void 0:i.board.idOrganization},board:{id:null==i?void 0:i.board.id},card:{id:null==i?void 0:i.id}},l=Object(a.useRef)(null),[d,u]=Object(a.useState)(""),[p,m]=Object(a.useState)(!1),[h,f]=Object(a.useState)(!1),v=Object(a.useCallback)((()=>{u(""),m(!1)}),[]);Object(s.useShortcut)((()=>{v(),Object(B.track)("Card Cover Chooser","Clear Search","Via Escape Key")}),{scope:s.Scope.Popover,key:s.Key.Escape,enabled:p});const k=Object(a.useCallback)((e=>{if(u(e),l.current){const t=e.length;l.current.focus(),l.current.setSelectionRange(t,t),Object(B.track)("Card Cover Chooser","Click Suggestion",e)}}),[]),y=d.trim().length>0,C=!y,j=y,w=!y;return r.a.createElement("div",{className:A.a.unsplashSearch},r.a.createElement("div",{className:A.a.unsplashSearchInputSection},r.a.createElement("input",{type:"text",autoFocus:!0,onFocus:()=>{E.Analytics.sendUIEvent({action:"focused",actionSubject:"input",actionSubjectId:"cardCoverUnsplashSearchInput",source:"unplashCoverInlineDialog",containers:o}),m(!0)},onBlur:()=>{h||m(!1)},onChange:e=>{const t=e.currentTarget.value;u(t)},value:d,placeholder:U("search-unsplash-for-photos"),className:c()(A.a.unsplashSearchInput,"js-autofocus"),ref:l}),p&&d.length>0&&r.a.createElement("button",{className:c()("button",A.a.unsplashSearchClearButton),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:()=>{f(!1),v(),Object(B.track)("Card Cover Chooser","Clear Search","Via Button")}},r.a.createElement(P.a,{size:"small",dangerous_className:A.a.unsplashSearchClearButtonIcon}))),C&&r.a.createElement(g,{onSelect:k}),w&&r.a.createElement(R,{cardId:e,onSetCover:t}),j&&r.a.createElement(N,{cardId:e,query:d,onSetCover:t}))},z=({cardId:e,navigateToSelectCover:t})=>{const{data:n}=Object(b.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[i,o]=Object(a.useState)(!1),s=null==n?void 0:n.card;return Object(a.useEffect)((()=>{s&&!i&&(E.Analytics.sendScreenEvent({name:"unplashCoverInlineDialog",containers:{organization:{id:s.board.idOrganization},board:{id:s.board.id},card:{id:s.id}}}),o(!0))}),[s,i]),r.a.createElement(V,{cardId:e,onSetCover:t})};var H=i("./app/src/components/CardCoverChooser/SelectCover.tsx"),W=i("./app/src/components/ComponentWrapper/index.ts");const K=i("./app/scripts/views/lib/pop-over.js"),q=i("./app/scripts/lib/plugins/plugin-validators.js"),$=i("./app/scripts/views/plugin/plugin-pop-over-iframe-view.js"),G=Object(o.forNamespace)("view title"),Z=Object(o.forTemplate)("card_cover_chooser"),J=({elem:e,cardId:n,boardId:i})=>{const a=r.a.createElement(W.ComponentWrapper,{key:"add-cover"},r.a.createElement(z,{cardId:n,navigateToSelectCover:()=>K.popView()})),o=r.a.createElement(W.ComponentWrapper,{key:"select-cover"},r.a.createElement(H.SelectCover,{cardId:n,boardId:i,navigateToAddCover:()=>{K.pushView({getViewTitle:()=>Z("photo-search"),reactElement:a,displayType:"mod-card-cover-chooser"})},navigateToPluginCoverMenu:({title:e,url:n,height:i,board:a})=>{if(!q.isValidUrlForIframe(n))throw t.NotHandled("Invalid url, must be http or https");if(i&&!q.isValidHeight(i))throw t.NotHandled("Invalid height, must be a positive number");K.pushView({view:new $({title:e,content:{url:n,height:i},model:a})})}}));K.toggle({elem:e,getViewTitle:()=>G("cover"),reactElement:o})}},"./app/scripts/views/card/card-detail-more-menu-view.js":function(e,t,n){const{Analytics:i,tracingCallback:a}=n("./packages/atlassian-analytics/index.ts"),r=n("./app/scripts/db/auth.js"),o=n("./app/scripts/views/internal/board-display-helpers.js"),s=n("./app/scripts/views/card/card-copy-view.js"),l=n("./app/scripts/views/lib/confirm.js"),c=n("./app/scripts/lib/dates.js"),d=n("./app/scripts/views/lib/dialog.js"),u=n("./app/scripts/lib/util/text/html-encode.js"),p=n("./app/scripts/views/lib/pop-over.js"),{print:m}=n("./packages/browser-compatibility/index.ts"),h=n("./app/scripts/lib/util/index.js"),g=n("./app/scripts/views/internal/view.js"),b=n("./app/scripts/views/internal/templates.js"),{track:f,trackUe:v}=n("./packages/analytics/index.ts"),{trelloForWebsites:k}=n("./packages/config/index.ts"),y=n("./node_modules/underscore/underscore.js"),{featureFlagClient:C}=n("./packages/feature-flag-client/index.ts"),j=n("./node_modules/react/index.js"),w=n("./packages/react-dom-wrapper/index.ts"),{renderComponent:x}=n("./app/src/components/ComponentWrapper/index.ts"),{QrCodeToggle:_}=n("./app/src/components/QrCode/index.ts");class E extends g{static initClass(){this.prototype.viewTitleKey="share-and-more-ellipsis",this.prototype.events={"click .js-copy-card":"copyCard","click .js-delete":"deleteCard","click .js-short-url, .js-email, .js-embed"(e){return this.focusInput(e.currentTarget)},"click .js-print":"printModel","click .js-export-json":"exportJSON","copy .js-short-url, .js-email, .js-embed":"handleCopy"}}initialize(){return this.listenTo(this.model,"change:shortUrl",this.render)}remove(){return this.unmountQrCodeToggle(),super.remove(...arguments)}handleCopy(e){switch(!1){case!this.$(e.currentTarget).hasClass("js-short-url"):return v("share and more menu","copies","short url","","","",{cardid:this.model.id,boardid:this.model.getBoard().id,isLoggedIn:r.isLoggedIn()});case!this.$(e.currentTarget).hasClass("js-email"):return v("share and more menu","copies","email address","","","",{cardid:this.model.id,boardid:this.model.getBoard().id});case!this.$(e.currentTarget).hasClass("js-embed"):return v("share and more menu","copies","embed code","","","",{cardid:this.model.id,boardid:this.model.getBoard().id,isLoggedIn:r.isLoggedIn()})}}copyCard(e){f("Card Detail","Card Copy Button","Via More Menu"),p.pushView({view:s,options:{model:this.model,modelCache:this.modelCache}})}focusInput(e){return this.$(e).focus().select()}getShortLinkData(){null==this.model.get("shortUrl")&&this.model.fetch({fields:["shortUrl"]})}deleteCardConfirm(e){l.pushView("delete card",{model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:()=>{d.hide();const e=i.startTask({taskName:"delete-card",source:"cardDetailMoreScreen"});return this.model.deleteWithTracing(e,a({taskName:"delete-card",source:"cardDetailMoreScreen",traceId:e},((t,n)=>{n&&i.sendTrackEvent({action:"deleted",actionSubject:"card",source:"cardDetailMoreScreen",attributes:{taskId:e},containers:{card:{id:n.id}}})}))),f("Card","Delete")}})}render(){const e={dateAdded:h.idToDate(this.model.id).toISOString(),jsonURL:"/".concat(this.model.typeName.toLowerCase(),"/").concat(this.model.id,"/").concat(h.makeSlug(this.model.get("name")),".json"),isLoggedIn:r.isLoggedIn()},t=this.model.getBoard();if(null!=t&&y.extend(e,{pLevelClass:o.getPermLevelIconClassForBoard(t),pLevelAltText:o.getPermLevelAltTextForBoard(t)}),e.embed=['<blockquote class="trello-card">','<a href="'.concat(u(this.model.get("url")),'">').concat(u(this.model.get("name")),"</a>"),"</blockquote>",'<script src="'.concat(k,'/embed.min.js"><\/script>')].join(""),this.$el.html(b.fillFromModel(n("./app/scripts/views/templates/card_detail_more_menu.js"),this.model,e,{meta:b.card_menu_meta})),this.getShortLinkData(),c.update(this.el),this.focusInput(this.$(".js-autofocus")[0]),C.get("aaaa.qr-codes",!1)){const e=this.model.get("shortUrl");this.mountQrCodeToggle(e)}return i.sendScreenEvent({name:"cardDetailMoreScreen",containers:{card:{id:this.model.id},board:{id:null==t?void 0:t.id}}}),this}deleteCard(e){h.stop(e),f("Card Detail","Delete Button","Via More Menu"),this.deleteCardConfirm()}printModel(e){h.stop(e),p.hide(),f("Card Detail","Print","Via More Menu"),this.defer((()=>m()))}exportJSON(e){return f("Card Detail","Export JSON")}mountQrCodeToggle(e){const t=this.$el.find(".js-qr-code")[0];t&&x(j.createElement(_,{url:e,type:"card",style:"inline"}),t)}unmountQrCodeToggle(){const e=this.$el.find(".js-qr-code")[0];e&&w.unmountComponentAtNode(e)}}E.initClass(),e.exports=E},"./app/scripts/views/card/card-detail-view-actions.js":function(e,t,n){const i=n("./app/scripts/db/auth.js"),{Noun:a,Verb:r,track:o,trackUe:s,trackDebounced:l}=n("./packages/analytics/index.ts"),c=n("./app/scripts/lib/util/index.js"),d=function(e){const t=!i.isLoggedIn()||i.me().getShowDetails();return e.actionList.filter((function(e){return!!t||e.isCommentLike()})).length};e.exports.getFilteredActionsCount=d,e.exports.showDetails=function(e){return c.stop(e),i.me().setShowDetails(!0),this.getData(),this.renderActionList()},e.exports.hideDetails=function(e){return c.stop(e),i.me().setShowDetails(!1),this.getData(),this.renderActionList()},e.exports.showAllActions=function(e){return this.fShowAllActions=!0,this.renderShowAllActionsButton(),this.getData()},e.exports.renderShowAllActionsButton=function(){const e=d(this.model)>=this.defaultActionLimit,t=this.fShowAllActions||!e;return this.$(".js-show-all-actions").toggleClass("hide",t),this},e.exports.renderActionList=function(){const e=!i.isLoggedIn()||i.me().getShowDetails();return this.actionListView.setShowDetails(e),this.waitForId(this.model,(()=>this.actionListView.render())),this.$(".js-show-details").toggleClass("hide",e),this.$(".js-hide-details").toggleClass("hide",!e),this},e.exports.renderSuggestedActions=function(){const e=this.model.isValidSuggestion({type:"join"}),t=this.model.isOnBoardTemplate();return this.$(".js-suggested-actions").toggleClass("hide",!e||t),e&&l.hour("Suggestions","Card Detail","Displayed",1),this}},"./app/scripts/views/card/card-detail-view-archive.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"archiveCard",(function(){return p})),n.d(t,"unarchiveCard",(function(){return m})),n.d(t,"renderArchived",(function(){return h})),n.d(t,"renderDelete",(function(){return g})),n.d(t,"deleteCardSidebar",(function(){return b}));var i=n("./packages/jquery/index.js"),a=n.n(i),r=n("./packages/atlassian-analytics/index.ts"),o=n("./packages/analytics/index.ts"),s=n("./app/scripts/views/lib/confirm.js"),l=n.n(s),c=n("./app/scripts/views/lib/dialog.js"),d=n.n(c),u=n("./app/scripts/views/card/card-limits-error.js");const p=function(e){const t=r.Analytics.startTask({taskName:"edit-card",subTask:"closed",source:"cardDetailScreen"});this.model.close(t,((e,n)=>{if(e)throw r.Analytics.taskFailed({taskName:"edit-card",subTask:"closed",traceId:t,source:"cardDetailScreen",error:e});r.Analytics.sendUpdatedCardFieldEvent({field:"closed",source:"cardDetailScreen",containers:{card:{id:n.id},board:{id:n.idBoard},list:{id:n.idList}},attributes:{taskId:t}}),r.Analytics.taskSucceeded({taskName:"edit-card",subTask:"closed",traceId:t,source:"cardDetailScreen"})})),Object(o.track)("Card Detail","Sidebar","Archive Button",this.model.trackProperty())},m=function(e){const t={$elem:a()(e.target),hasAttachments:this.model.attachmentList.length>0,destinationBoard:this.model.getBoard(),destinationList:this.model.getList()};if(Object(u.maybeDisplayLimitsErrorOnCardOpen)(t))return;Object(o.track)("Card Detail","Sidebar","Re-Open Button",this.model.trackProperty());const n=r.Analytics.startTask({taskName:"edit-card",subTask:"closed",source:"cardDetailScreen"});this.model.reopen(n,((e,t)=>{if(e)throw r.Analytics.taskFailed({taskName:"edit-card",subTask:"closed",traceId:n,source:"cardDetailScreen",error:e});r.Analytics.sendUpdatedCardFieldEvent({field:"closed",source:"cardDetailScreen",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:n}}),r.Analytics.taskSucceeded({taskName:"edit-card",subTask:"closed",traceId:n,source:"cardDetailScreen"})}))},h=function(){const e=!0===this.model.get("closed");return this.$(".js-archive-card").toggleClass("hide",e),this.$(".js-unarchive-card").toggleClass("hide",!e),this},g=function(){const e=!0===this.model.get("closed")||!!this.model.get("isTemplate");return this.$(".js-delete-card").toggleClass("hide",!e),this},b=function(e){var t;l.a.toggle("delete card",{elem:e.target,model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:(t=this,function(e){d.a.hide();const n=r.Analytics.startTask({taskName:"delete-card",source:"cardDetailScreen"});return t.model.deleteWithTracing(n,Object(r.tracingCallback)({taskName:"delete-card",source:"cardDetailScreen",traceId:n},((e,t)=>{t&&r.Analytics.sendTrackEvent({action:"deleted",actionSubject:"card",source:"cardDetailScreen",attributes:{taskId:n},containers:{card:{id:t.id}}})}))),Object(o.track)("Card","Delete",void 0,t.model.trackProperty())})}),Object(o.track)("Card Detail","Sidebar","Open Delete Confirm",this.model.trackProperty())}},"./app/scripts/views/card/card-detail-view-attachment.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=n("./packages/jquery/index.js"),o=n("./node_modules/underscore/underscore.js"),s=n("./node_modules/effing/lib/index.js"),l=n("./node_modules/react/index.js"),c=n("./node_modules/bluebird/js/browser/bluebird.js"),d=n("./app/scripts/lib/util/index.js"),u=n("./app/scripts/views/lib/layout.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/views/card/attachment-type-picker-view.js"),{track:h,trackUe:g}=n("./packages/analytics/index.ts"),{Analytics:b}=n("./packages/atlassian-analytics/index.ts"),f=n("./app/scripts/views/internal/autocomplete/trello-completer-view.js"),v=n("./app/scripts/views/card/uploading-link-view.js"),k=n("./app/scripts/views/attachment/attachment-limit-exceeded-error.js"),y=n("./app/scripts/views/lib/alerts.js"),C=n("./app/scripts/views/attachment/helpers.js"),j=n("./app/scripts/views/internal/plugins/plugin-runner.js"),w=n("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),{PowerUpSuggestionContainer:x,getClaimedSecondLevelDomainsToPluginMapForOrg:_,doesMatchClaimedDomain:E,getSecondLevelDomain:S}=n("./app/src/components/PowerUpAttachmentSectionSuggestion/index.ts"),O=n("./app/scripts/lib/plugins/plugin-validators.js"),T=n("./app/scripts/views/plugin/plugin-section-view.js"),{sendPluginViewedComponentEvent:D}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{renderComponent:N}=n("./app/src/components/ComponentWrapper/index.ts"),I=n("./app/scripts/views/attachment/in-progress-attachment.js"),A=n("./app/scripts/lib/localize.js"),P=n("./app/scripts/views/attachment/trello-board-attachment.js"),B=n("./app/scripts/views/attachment/trello-card-attachment.js"),L=n("./app/scripts/views/attachment/attachment-thumb-view.js"),F=n("./app/scripts/views/internal/pasted-file-name.js"),M=n("./app/scripts/views/internal/warn-if-file-too-large.js"),R=n("./app/scripts/lib/util/ninvoke.js"),U=n("./app/scripts/lib/util/url/parse-trello-url.js"),V=n("./app/scripts/views/lib/drag-sort.js"),{featureFlagClient:z}=n("./packages/feature-flag-client/index.ts");function H(){null!=this._renderAttachmentsPromise&&this._renderAttachmentsPromise.cancel();const e=o.clone(this.model.attachmentList.models).reverse(),t=this.model.getBoard();o.chain([L,B,P]).map((e=>this.subviewsOfType(e))).flatten().filter((t=>!e.includes(t.model))).each((e=>this.deleteSubview(e)));const n=e.filter((e=>!["card","board"].includes(U(e.get("url")).type))),i=n.length,a=i?o.times(Math.min(3,i),(e=>this.subview(I,this.model,{isLoadingVersion:!0},"loading-".concat(e)))):[],r=this.$(".js-attachments-section"),s=r.find(".js-attachment-list");return r.toggleClass("hide",o.isEmpty(n)),this.ensureSubviews(a,s),this._renderAttachmentsPromise=c.all([c.all(e.map(C.getAttachmentData)),c.try((()=>e.length>0?j.all({timeout:5e3,command:"attachment-sections",card:this.model,board:this.model.getBoard(),options:{entries:w.attachments(e)}}):[])).cancellable(),c.try((()=>{if(e.length>0)return _(t.get("idOrganization"),t.id)}))]).spread(((n,i,a)=>{const c=z.get("fep.filter-removed-attachments",!1),d=new Set(this.model.attachmentList.pluck("id")),u=c?e.filter((e=>d.has(e.id))):e,p=c?n.filter((e=>d.has(e.id))):n;let m,h;const b={},f={};let v=o.chain(i).filter((e=>O.isValidAttachmentSections(e,this.model.attachmentList))).map((e=>{o.forEach(e.claimed,(e=>b[e.id]=!0));let t=e.id||e.title;(o.isFunction(t)||f[t])&&(t=o.uniqueId("attachment-section_")),f[t]=!0;const n=this.subview(T,this.model,{},t);return n.updateSection(e),n})).value(),k=this.getTrelloAttachments(u,p,b);k.forEach((({attachment:e})=>b[e.id]=!0)),o.chain(i).pluck("idPlugin").uniq().each((e=>{g("card details","views","Power-Up","","","attachment-sections",e)}));const y=this.$(".js-plugin-sections");this.ensureSubviews(v,y);const C={};p.forEach((e=>{if(b[e.id])return;const n=S(e.url),i=a[n];if(!i||0===i.length)return;const r=i.find((t=>t.get("claimedDomains").some((t=>E(e.url,t)))));if(!r||!t.shouldRenderPluginSuggestionSection(r.id))return;b[e.id]=!0;const o=r.get("name");return C[r.id]?C[r.id].attachments.push(e):C[r.id]={attachments:[e],name:o,overview:r.get("listing").overview,mark:r.get("icon").url,onRemoveAttachment:e=>q(u.find((t=>t.id===e)),(e=>e.destroy())),onDismissBtn:e=>this.dismissPluginSuggestionSection(e.closest("button"),r.id),onEnableBtn:e=>this.enableSuggestedPluginPrompt(e.closest("button"),r)}})),this.trackedSuggestionSections||(this.trackedSuggestionSections={}),Object.keys(C).forEach((e=>{if(!this.trackedSuggestionSections[e])return this.trackedSuggestionSections[e]=!0,D({idPlugin:e,idBoard:t.id,idCard:this.model.id,event:{componentType:"section",componentName:"pupAttachmentSuggestionSection",source:"cardDetailScreen"}})})),N(l.createElement(x,{suggestionProps:Object.values(C)}),this.$(".js-plugin-suggestion-sections")[0]);let j=0;const w=[];for(const e in u){const t=u[e];if(4===j||j===u.length)break;w.push(t),b.hasOwnProperty(t.id)||j++}const _=o.reject(u,(e=>b[e.id])),F=j>0,M=j<_.length,R=this.$(".js-trello-attachments-section");let U=(h=this.numTrelloAttachmentsProcessing.get())?o.times(Math.min(3,h),(e=>this.subview(I,this.model,null,"processing-trello-attachment-".concat(e)))):[];if(k.length>0){const e=(k.length-4).toString();e>0?this.fShowAllTrelloAttachments?(R.find(".js-show-more-trello-attachments").addClass("hide"),R.find(".js-show-fewer-trello-attachments").removeClass("hide")):(k=k.splice(0,4),R.find(".js-show-more-trello-attachments").removeClass("hide"),R.find(".js-show-fewer-trello-attachments").addClass("hide"),R.find(".js-view-all-trello-attachments").text(A("view all trello attachments",{hiddenCount:e}))):(R.find(".js-show-more-trello-attachments").addClass("hide"),R.find(".js-show-fewer-trello-attachments").addClass("hide")),U=U.concat(k.map((({attachment:e,attachmentData:t})=>"trello card"===t.type?this.subview(B,e,{cardUrl:t.url}):this.subview(P,e,{boardUrl:t.url}))))}this.ensureSubviews(U,this.$(".js-trello-attachments-list")),R.toggleClass("hide",o.isEmpty(U)),this.$(".js-show-with-attachments").toggleClass("hide",!F),this.enableAttachmentSorting(s);const V=(_.length-4).toString();r.find(".js-view-all-attachments").text(A("view all attachments",{hiddenCount:V}));const H=r.find(".js-show-fewer-attachments").addClass("hide"),W=r.find(".js-show-more-attachments").addClass("hide"),K=(m=this.numAttachmentsProcessing.get())?o.times(Math.min(3,m),(e=>this.subview(I,this.model,null,"processing-".concat(e)))):[],$=(()=>{if(F){let e=u;return M&&(this.fShowAllAttachments?H.removeClass("hide"):(W.removeClass("hide"),e=w)),e.map((e=>{if(!b.hasOwnProperty(e.id))return this.subview(L,e,{onReply:()=>this.replyToAttachment(e),onPluginThumbnail:e=>{if(!this.pluginThumbTrackCache[e])return this.pluginThumbTrackCache[e]=!0,g("card details","views","Power-Up","","","attachment-thumbnail",e)}})}))}return[]})();return v=o.compact([...Array.from(K),...Array.from($)]),this.ensureSubviews(v,s),r.toggleClass("hide",o.isEmpty(v))})).catch(c.CancellationError,(function(){})),this._renderAttachmentsPromise.done(),this}function W(e,t,n){return e&&U(e).type===t?e:n}function K(e,t){const n=this.$(".js-trello-attachments-section"),i=this.numTrelloAttachmentsProcessing.get();let a=i?o.times(Math.min(3,i),(e=>this.subview(I,this.model,null,"processing-trello-attachment-".concat(e)))):[];if(e.length>0){const i=(e.length-t).toString();i>0?this.fShowAllTrelloAttachments?(n.find(".js-show-more-trello-attachments").addClass("hide"),n.find(".js-show-fewer-trello-attachments").removeClass("hide")):(e=e.slice(0,t),n.find(".js-show-more-trello-attachments").removeClass("hide"),n.find(".js-show-fewer-trello-attachments").addClass("hide"),n.find(".js-view-all-trello-attachments").text(A("view all trello attachments",{hiddenCount:i}))):(n.find(".js-show-more-trello-attachments").addClass("hide"),n.find(".js-show-fewer-trello-attachments").addClass("hide")),a=a.concat(e.map((e=>{var t,n;const i=e.get("url"),{type:a,shortLink:r}=U(i);switch(a){case"card":return this.subview(B,e,{cardUrl:W(null===(t=this.modelCache.get("Card",r))||void 0===t?void 0:t.get("url"),"card",i)});case"board":return this.subview(P,e,{boardUrl:W(null===(n=this.modelCache.get("Board",r))||void 0===n?void 0:n.get("url"),"board",i)});default:return}})).filter((e=>void 0!==e)))}this.ensureSubviews(a,this.$(".js-trello-attachments-list")),n.toggleClass("hide",o.isEmpty(a))}function q(e,t){return null!=e?t(e):void 0}e.exports.incrementNumAttachmentsProcessing=function(e){return null==e&&(e=1),this.numAttachmentsProcessing.update(s.add(e))},e.exports.decrementNumAttachmentsProcessing=function(e){if(null==e&&(e=1),!0===this.rendered)return this.numAttachmentsProcessing.update(s.sub(e))},e.exports.incrementNumTrelloAttachmentsProcessing=function(e){return null==e&&(e=1),this.numTrelloAttachmentsProcessing.update(s.add(e))},e.exports.decrementNumTrelloAttachmentsProcessing=function(e){return null==e&&(e=1),this.numTrelloAttachmentsProcessing.update(s.sub(e))},e.exports.attachComment=function(e){const t=new Blob([this.$(".js-new-comment-input").val()],{type:"text/plain"});return this.incrementNumAttachmentsProcessing(),this.model.upload(t,"comment.txt",this.callback((()=>this.decrementNumAttachmentsProcessing()))),this.clearComment(),u.cancelEdits(),this.collapseComment()},e.exports.openAttachPicker=function(e){d.stop(e),b.sendClickedButtonEvent({buttonName:"attachmentButton",source:"cardDetailScreen",containers:this.model.getAnalyticsContainers()});const t=r(e.target).closest(".js-attach");p.toggle({elem:t,view:m,options:{model:this.model,modelCache:this.modelCache,onStartUpload:(e,t)=>"card"===t||"board"===t?this.incrementNumTrelloAttachmentsProcessing():this.incrementNumAttachmentsProcessing(),onFinishUpload:this.callback(((e,t)=>"card"===t||"board"===t?this.decrementNumTrelloAttachmentsProcessing():this.decrementNumAttachmentsProcessing()))}});const n=r(t).hasClass("inline")?"Inline":r(t).hasClass("quiet-button")?"Quiet":"Sidebar";return h("Card Detail","Open Attachment Type Picker","Via ".concat(n," Button"),this.model.trackProperty()),!1},e.exports.openAttachTrelloPicker=function(e){d.stop(e);const t=r(e.target).closest(".js-attach-trello-attachment");return h("Card Detail","Open Trello Attachment Picker","Via Trello Attachments Section",this.model.trackProperty()),p.toggle({elem:t,view:f,options:{model:this.model,modelCache:this.modelCache,card:this.model,button:!0,onStartUpload:e=>{this.incrementNumTrelloAttachmentsProcessing(),p.pushView({view:v});const t=e.get("url");return c.fromNode((e=>this.model.uploadUrl(t,e))).catch(k,(()=>y.show("unable to attach card or board","error","trelloattachment",5e3))).then((()=>p.popView())).finally((()=>this.decrementNumTrelloAttachmentsProcessing()))}}}),!1},e.exports.renderAddAttachments=function(){const e=!this.model.canAttach();return this.$(".js-attach,.js-attach-trello-attachment,.js-attach-link").toggleClass("disabled",e),this},e.exports.showFewerAttachments=function(e){d.stop(e),this.fShowAllAttachments=!1,this.renderAttachments()},e.exports.showMoreAttachments=function(e){d.stop(e),this.fShowAllAttachments=!0,this.renderAttachments()},e.exports.showFewerTrelloAttachments=function(e){d.stop(e),this.fShowAllTrelloAttachments=!1,this.renderAttachments()},e.exports.showMoreTrelloAttachments=function(e){d.stop(e),this.fShowAllTrelloAttachments=!0,this.renderAttachments()},e.exports.renderAttachments=function(){if(!z.get("remarkable.faster-trello-attachments",!1))return H.apply(this);null!=this._renderAttachmentsPromise&&this._renderAttachmentsPromise.cancel();const e=o.clone(this.model.attachmentList.models).reverse(),t=this.model.getBoard();o.chain([L,B,P]).map((e=>this.subviewsOfType(e))).flatten().filter((t=>!e.includes(t.model))).each((e=>this.deleteSubview(e)));const n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({trelloAttachments:[],otherAttachments:[]},o.groupBy(e,(e=>{const{type:t}=U(e.get("url"));return"card"===t||"board"===t?"trelloAttachments":"otherAttachments"})));let{trelloAttachments:r}=n;const{otherAttachments:s}=n;return this._renderAttachmentsPromise=c.all(c.map(t.boardPluginList.models,(e=>j.getOrLoadPlugin(t,e.get("idPlugin"))))).then((e=>e.some((e=>e.get("capabilitiesOptions").includes("claims-trello"))))).then((n=>{n||K.call(this,r,4);const i=Math.min(s.length,4),a=i?o.times(Math.min(3,i),(e=>this.subview(I,this.model,{isLoadingVersion:!0},"loading-".concat(e)))):[],d=this.$(".js-attachments-section"),u=d.find(".js-attachment-list");return d.toggleClass("hide",o.isEmpty(s)),this.ensureSubviews(a,u),c.all([c.all(s.map(C.getAttachmentData)),c.try((()=>e.length>0?j.all({timeout:5e3,command:"attachment-sections",card:this.model,board:this.model.getBoard(),options:{entries:w.attachments(n?e:s)}}):[])).cancellable(),c.try((()=>{if(e.length>0)return _(t.get("idOrganization"),t.id)}))]).spread(((n,i,a)=>{const s=z.get("fep.filter-removed-attachments",!1),c=new Set(this.model.attachmentList.pluck("id")),p=s?e.filter((e=>c.has(e.id))):e,m=s?n.filter((e=>c.has(e.id))):n;let h;const b={},f={},v=o.flatten(o.map(o.pluck(i,"claimed"),(e=>o.pluck(e,"id"))));r=o.reject(r,(e=>v.indexOf(e.get("id"))>-1)),K.call(this,r,4);let k=o.chain(i).filter((e=>O.isValidAttachmentSections(e,this.model.attachmentList))).map((e=>{o.forEach(e.claimed,(e=>b[e.id]=!0));let t=e.id||e.title;(o.isFunction(t)||f[t])&&(t=o.uniqueId("attachment-section_")),f[t]=!0;const n=this.subview(T,this.model,{},t);return n.updateSection(e),n})).value();r.forEach((e=>b[e.id]=!0)),o.chain(i).pluck("idPlugin").uniq().each((e=>{g("card details","views","Power-Up","","","attachment-sections",e)}));const y=this.$(".js-plugin-sections");this.ensureSubviews(k,y);const C={};m.forEach((e=>{if(b[e.id])return;const n=S(e.url),i=a[n];if(!i||0===i.length)return;const r=i.find((t=>t.get("claimedDomains").some((t=>E(e.url,t)))));if(!r||!t.shouldRenderPluginSuggestionSection(r.id))return;b[e.id]=!0;const o=r.get("name");return C[r.id]?C[r.id].attachments.push(e):C[r.id]={attachments:[e],name:o,overview:r.get("listing").overview,mark:r.get("icon").url,onRemoveAttachment:e=>q(p.find((t=>t.id===e)),(e=>e.destroy())),onDismissBtn:e=>this.dismissPluginSuggestionSection(e.closest("button"),r.id),onEnableBtn:e=>this.enableSuggestedPluginPrompt(e.closest("button"),r)}})),this.trackedSuggestionSections||(this.trackedSuggestionSections={}),Object.keys(C).forEach((e=>{if(!this.trackedSuggestionSections[e])return this.trackedSuggestionSections[e]=!0,D({idPlugin:e,idBoard:t.id,idCard:this.model.id,event:{componentType:"section",componentName:"pupAttachmentSuggestionSection",source:"cardDetailScreen"}})})),N(l.createElement(x,{suggestionProps:Object.values(C)}),this.$(".js-plugin-suggestion-sections")[0]);let j=0;const w=[];for(const e in p){const t=p[e];if(4===j||j===p.length)break;w.push(t),b.hasOwnProperty(t.id)||j++}const _=o.reject(p,(e=>b[e.id])),P=j>0,B=j<_.length;this.$(".js-show-with-attachments").toggleClass("hide",!P),this.enableAttachmentSorting(u);const F=(_.length-4).toString();d.find(".js-view-all-attachments").text(A("view all attachments",{hiddenCount:F}));const M=d.find(".js-show-fewer-attachments").addClass("hide"),R=d.find(".js-show-more-attachments").addClass("hide"),U=(h=this.numAttachmentsProcessing.get())?o.times(Math.min(3,h),(e=>this.subview(I,this.model,null,"processing-".concat(e)))):[],V=(()=>{if(P){let e=p;return B&&(this.fShowAllAttachments?M.removeClass("hide"):(R.removeClass("hide"),e=w)),e.map((e=>{if(!b.hasOwnProperty(e.id))return this.subview(L,e,{onReply:()=>this.replyToAttachment(e),onPluginThumbnail:e=>{if(!this.pluginThumbTrackCache[e])return this.pluginThumbTrackCache[e]=!0,g("card details","views","Power-Up","","","attachment-thumbnail",e)}})}))}return[]})();return k=o.compact([...Array.from(U),...Array.from(V)]),this.ensureSubviews(k,u),d.toggleClass("hide",o.isEmpty(k))})).catch(c.CancellationError,(function(){}))})),this._renderAttachmentsPromise.done(),this},e.exports.dragenter=function(e){let t;if(!this.model.editable())return;let n=!1;const i=!this.model.canDropAttachment(e.type);i?t=".attachments-restricted":this.model.isOverLimit("attachments","perCard")?(t=".attachments-per-card",n=!0):this.model.getBoard().isOverLimit("attachments","perBoard")?(t=".attachments-per-board",n=!0):t=".dropzone";const a=r(".window-overlay").scrollTop()+200;return this.$(t).css({"padding-top":"".concat(a,"px")}),this.$el.addClass("is-drophover").toggleClass("is-limited",n).toggleClass("is-restricted",i)},e.exports.dragleave=function(e){return this.$el.removeClass("is-drophover")},e.exports.dropFiles=function(e){if(!this.model.canAttach()||this.model.attachmentTypeRestricted("computer"))return;h("Card Detail","Drop Attachment Upload");const t=e.detail;if(M(this.model.getBoard(),t))return;this.incrementNumAttachmentsProcessing(t.length);let n=0;return c.resolve(t).each((e=>{const t=e.name||F();let i=null;const a="cardDetailViewAttachment",r={source:a,taskName:"create-attachment",subTask:"file"};return z.get("dataeng.vitalstats-upload-attachment",!1)&&(i=b.startTask(r),r.traceId=i),R(this.model,"upload",e,t,{traceId:i}).then((e=>(i&&(b.sendTrackEvent({source:a,action:"uploaded",actionSubject:"attachment",actionSubjectId:"fileAttachment",attributes:{taskId:i}}),b.taskSucceeded(r)),e)),(e=>{if(i)throw r.error=e,b.taskFailed(r)})).finally(this.callback((()=>(n++,this.decrementNumAttachmentsProcessing()))))})).catch((()=>y.show("unable to upload file","error","upload",5e3))).finally((()=>{if(n!==t.length)return this.decrementNumAttachmentsProcessing(t.length-n)})).done(),e.stopPropagation()},e.exports.dropUrl=function(e){let t;if(!this.model.canAttach())return;h("Card Detail","Drop Attachment Url",void 0,this.model.trackProperty());const n=e.detail;if(this.model.getBoard().attachmentUrlRestricted(n))return;const i=(t=U(n).type,["board","card"].includes(t));return i?this.incrementNumTrelloAttachmentsProcessing():this.incrementNumAttachmentsProcessing(),this.model.uploadUrl(n,this.callback((()=>i?this.decrementNumTrelloAttachmentsProcessing():this.decrementNumAttachmentsProcessing()))),e.stopPropagation()},e.exports.enableAttachmentSorting=function(e){if(null!=this.model?this.model.editable():void 0)return V.refreshCardSortable(e,{axis:"y",handle:[".attachment-thumbnail-details",".attachment-thumbnail-preview"].join(","),delay:75,distance:7,tolerance:"pointer",helper:"clone",placeholder:"attachment-thumbnail placeholder",items:".attachment-thumbnail",start(e,t){const n=r(t.helper).outerHeight();return r(t.placeholder).height(n)}})},e.exports.getTrelloAttachments=function(e,t,n){const i=["trello board","trello card"];return e.map(((e,a)=>{const r=t[a];return r.isKnownService&&Array.from(i).includes(r.type)&&!n[e.id]?{attachment:e,attachmentData:r}:null})).filter((e=>null!==e))},e.exports.sortStopAttachments=function(e,t){return d.stopPropagation(e),t.item.trigger("moveattachment",[t])}},"./app/scripts/views/card/card-detail-view-checklist.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"renderAddChecklists",(function(){return le})),n.d(t,"renderStartDate",(function(){return ce})),n.d(t,"renderDueDate",(function(){return de})),n.d(t,"sortChecklists",(function(){return ue})),n.d(t,"removeChecklist",(function(){return pe})),n.d(t,"renderChecklists",(function(){return me})),n.d(t,"sortStop",(function(){return he})),n.d(t,"onChecklistClick",(function(){return ge})),n.d(t,"onChecklistShortcut",(function(){return be})),n.d(t,"addChecklistSidebar",(function(){return fe})),n.d(t,"showDueDateBadgeMenu",(function(){return ve})),n.d(t,"toggleDueDateComplete",(function(){return ke})),n.d(t,"dueDateSidebar",(function(){return ye})),n.d(t,"editStartDatePopOver",(function(){return Ce})),n.d(t,"renderDateRangePickerButton",(function(){return je})),n.d(t,"showDateRangePicker",(function(){return we})),n.d(t,"focusChecklistAdd",(function(){return xe}));var i=n("./packages/jquery/index.js"),a=n.n(i),r=n("./node_modules/underscore/underscore.js"),o=n.n(r),s=n("./node_modules/moment/moment.js"),l=n.n(s),c=n("./packages/analytics/index.ts"),d=n("./packages/atlassian-analytics/index.ts"),u=n("./app/scripts/views/internal/due-date-helpers.js"),p=n.n(u),m=n("./app/scripts/views/card/should-fire-confetti.ts"),h=n("./node_modules/canvas-confetti/dist/confetti.module.mjs"),g=n("./app/scripts/lib/util/index.js"),b=n.n(g),f=n("./app/scripts/views/checklist/checklist-view.js"),v=n.n(f),k=n("./app/scripts/views/lib/pop-over.js"),y=n.n(k),C=n("./app/scripts/debug/log.js"),j=n.n(C),w=n("./app/scripts/views/lib/drag-sort.js"),x=n.n(w),_=n("./app/scripts/views/card/date-picker-view.js"),E=n.n(_),S=n("./app/scripts/views/checklist/add-checklist-menu.js"),O=n.n(S),T=n("./app/scripts/views/checklist/toggle-date-popover.tsx"),D=n("./node_modules/react/index.js"),N=n.n(D),I=n("./app/src/components/DateRangePicker/DateRangePickerButton.less"),A=n.n(I),P=n("./packages/i18n/index.ts"),B=n("./app/src/components/DateRangePicker/LazyDateRangePicker.tsx"),L=n("./packages/nachos/popover.ts"),F=n("./packages/nachos/button.ts"),M=n("./packages/nachos/icons/clock.tsx"),R=n("./packages/test-ids/index.ts");function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const V=Object(P.forTemplate)("due_date_picker"),z=({due:e,start:t,dueReminder:n,idCard:i,idBoard:a,idOrg:r,canEdit:o})=>{const{triggerRef:s,toggle:l,hide:c,popoverProps:u}=Object(L.e)(),p={card:{id:i},board:{id:a},organization:{id:r}};return N.a.createElement(N.a.Fragment,null,N.a.createElement(F.Button,{className:A.a.button,iconBefore:N.a.createElement(M.a,{size:"small",color:"gray"}),onClick:()=>{o&&(d.Analytics.sendClickedButtonEvent({buttonName:"dateRangePickerButton",source:"cardDetailScreen",containers:p}),l())},ref:s,testId:R.DateRangePickerTestIds.CardBackDueDateButton},N.a.createElement("span",{className:A.a.buttonLabel},V("due-date"))),N.a.createElement(L.b,U({},u,{title:V("change-due-date"),size:"medium"}),N.a.createElement(B.LazyDateRangePicker,{due:e,start:t,dueReminder:n,hidePopover:c,idCard:i,idBoard:a,idOrg:r})))};var H=n("./app/src/components/DateRangePicker/DateRangePickerBadge.less"),W=n.n(H),K=n("./node_modules/classnames/index.js"),q=n.n(K),$=n("./packages/nachos/icons/down.tsx"),G=n("./packages/feature-flag-client/index.ts"),Z=n("./app/scripts/data/moment/make-year-aware-calendar.js"),J=n.n(Z);const Y=["vasÃ¡rnap","hÃ©tfÅn","kedden","szerdÃ¡n","csÃ¼tÃ¶rtÃ¶kÃ¶n","pÃ©nteken","szombaton"];function X(e){return"".concat(e?"":"[mÃºlt] ","[").concat(Y[this.day()],"]")}const Q=J()({lastDay:"[yesterday]",sameDay:"[today]",nextDay:"[tomorrow]",lastWeek:"llll",nextWeek:"llll",sameYear:"llll",sameElse:"ll"}),ee=J()({lastDay:"[Hier]",sameDay:"[Aujourd'hui]",nextDay:"[Demain]",lastWeek:"dddd [dernier]",nextWeek:"dddd",sameYear:"llll",sameElse:"ll"}),te={cs:J()({lastDay:"[vÄera]",sameDay:"[dnes]",nextDay:"[zÃ­tra]",lastWeek(){switch(this.day()){case 0:return"[minulou nedÄli]";case 1:case 2:return"[minulÃ©] dddd";case 3:return"[minulou stÅedu]";case 4:case 5:return"[minulÃ½] dddd";case 6:return"[minulou sobotu]";default:return""}},nextWeek(){switch(this.day()){case 0:return"[nedÄle]";case 1:case 2:return"dddd";case 3:return"[stÅeda]";case 4:return"[Ätvrtek]";case 5:return"[pÃ¡tek]";case 6:return"[sobota]";default:return""}},sameYear:"llll",sameElse:"ll"}),de:J()({lastDay:"[Gestern]",sameDay:"[Heute]",nextDay:"[Morgen]",lastWeek:"llll",nextWeek:"llll",sameYear:"llll",sameElse:"ll"}),"en-US":Q,"en-GB":Q,"en-AU":Q,es:J()({lastDay:"[ayer]",sameDay:"[hoy]",nextDay:"[maÃ±ana]",lastWeek:"llll",nextWeek:"llll",sameYear:"llll",sameElse:"ll"}),fi:J()({lastDay:"[eilen]",sameDay:"[tÃ¤nÃ¤Ã¤n]",nextDay:"[huomenna]",lastWeek:"[viime] dddd[na]",nextWeek:"dddd",sameYear:"llll",sameElse:"ll"}),"fr-CA":ee,fr:ee,hu:J()({lastDay:"[tegnap]",sameDay:"[ma]",nextDay:"[holnap]",lastWeek(){return X.call(this,!1)},nextWeek(){return X.call(this,!0)},sameYear:"llll",sameElse:"ll"}),it:J()({lastDay:"[Ieri]",sameDay:"[Oggi]",nextDay:"[Domani]",lastWeek(){switch(this.day()){case 0:return"[la scorsa] dddd";default:return"[lo scorso] dddd"}},nextWeek:"dddd",sameYear:"llll",sameElse:"ll"}),ja:J()({lastDay:"[æ¨æ¥]",sameDay:"[ä»æ¥]",nextDay:"[ææ¥]",lastWeek:"llll",nextWeek:"llll",sameYear:"llll",sameElse:"ll"}),nb:J()({lastDay:"[i gÃ¥r]",sameDay:"[i dag]",nextDay:"[i morgen]",lastWeek:"[forrige] dddd",nextWeek:"dddd",sameYear:"llll",sameElse:"ll"}),nl:J()({lastDay:"[gisteren]",sameDay:"[vandaag]",nextDay:"[morgen]",lastWeek:"[afgelopen] dddd",nextWeek:"dddd",sameYear:"llll",sameElse:"ll"}),pl:J()({lastDay:"[Wczoraj]",sameDay:"[DziÅ]",nextDay:"[Jutro]",lastWeek(){switch(this.day()){case 0:return"[ZeszÅÄ niedzielÄ]";case 3:return"[ZeszÅÄ ÅrodÄ]";case 6:return"[ZeszÅÄ sobotÄ]";default:return"[ZeszÅy] dddd"}},nextWeek:"dddd",sameYear:"llll",sameElse:"ll"}),"pt-BR":J()({sameDay:"[Hoje]",nextDay:"[AmanhÃ£]",lastDay:"[Ontem]",nextWeek:"llll",lastWeek:"llll",sameYear:"llll",sameElse:"ll"}),ru:J()({lastDay:"[ÐÑÐµÑÐ°]",sameDay:"[Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ]",nextDay:"[ÐÐ°Ð²ÑÑÐ°]",lastWeek(e){if(e.week()===this.week())return 2===this.day()?"[ÐÐ¾] dddd":"[Ð] dddd";switch(this.day()){case 0:return"[Ð Ð¿ÑÐ¾ÑÐ»Ð¾Ðµ] dddd";case 1:case 2:case 4:return"[Ð Ð¿ÑÐ¾ÑÐ»ÑÐ¹] dddd";case 3:case 5:case 6:return"[Ð Ð¿ÑÐ¾ÑÐ»ÑÑ] dddd";default:return""}},nextWeek(){return 2===this.day()?"[ÐÐ¾] dddd":"[Ð] dddd"},sameYear:"llll",sameElse:"ll"}),sv:J()({lastDay:"[IgÃ¥r]",sameDay:"[Idag]",nextDay:"[Imorgon]",lastWeek:"[I] dddd[s]",nextWeek:"[PÃ¥] dddd",sameYear:"[Den] llll",sameElse:"[Den] ll"}),th:J()({lastDay:"[à¹à¸¡à¸·à¹à¸­à¸§à¸²à¸à¸à¸µà¹]",sameDay:"[à¸§à¸±à¸à¸à¸µà¹]",nextDay:"[à¸à¸£à¸¸à¹à¸à¸à¸µà¹]",lastWeek:"[à¸§à¸±à¸]dddd",nextWeek:"dddd",sameYear:"llll",sameElse:"ll"}),tr:J()({lastDay:"[dÃ¼n]",sameDay:"[bugÃ¼n]",nextDay:"[yarÄ±n]",lastWeek:"[geÃ§en hafta] dddd",nextWeek:"dddd",sameYear:"llll",sameElse:"ll"}),uk:J()({lastDay:"[ÐÑÐ¾ÑÐ°]",sameDay:"[Ð¡ÑÐ¾Ð³Ð¾Ð´Ð½Ñ]",nextDay:"[ÐÐ°Ð²ÑÑÐ°]",lastWeek(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ÐÐ¸Ð½ÑÐ»Ð¾Ñ] dddd";case 1:case 2:case 4:return"[ÐÐ¸Ð½ÑÐ»Ð¾Ð³Ð¾] dddd";default:return}},nextWeek:"dddd",sameYear:"llll",sameElse:"ll"}),vi:J()({lastDay:"[HÃ´m qua]",sameDay:"[HÃ´m nay]",nextDay:"[NgÃ y mai]",lastWeek:"dddd [tuáº§n rá»i]",nextWeek:"dddd [tuáº§n tá»i]",sameYear:"llll",sameElse:"ll"}),"zh-Hans":J()({lastDay:"æ¨å¤©",sameDay:"ä»å¤©",nextDay:"æå¤©",lastWeek:"llll",nextWeek:"llll",sameYear:"llll",sameElse:"ll"}),"zh-Hant":J()({lastDay:"[æ¨å¤©]",sameDay:"[ä»å¤©]",nextDay:"[æå¤©]",lastWeek:"llll",nextWeek:"llll",sameYear:"llll",sameElse:"ll"})};function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const ie=Object(P.forTemplate)("due_date_picker"),ae=({type:e,relativeDueDateStatus:t,classForDueDate:n,due:i,start:a,dueReminder:r,idCard:o,idBoard:s,idOrg:c,canEdit:u})=>{const{triggerRef:p,toggle:m,hide:h,popoverProps:g}=Object(L.e)(),b=Object(G.useFeatureFlag)("ecosystem.combined-card-back-date-badges",!1),f={card:{id:o},board:{id:s},organization:{id:c}};let v,k,y,C;if("startDate"===e&&a){const e=te[l.a.locale()];k=l()(a).calendar(void 0,e),y=R.DateRangePickerTestIds.StartDateBadgeWithDateRangePicker,v="startDateBadge"}else if("dueDate"===e&&i){if(b&&a){const e=te[l.a.locale()],t=l()(a).calendar(void 0,e);k="".concat(t," - ").concat(l()(i).calendar())}else k=l()(i).calendar();y=R.DateRangePickerTestIds.DueDateBadgeWithDateRangePicker,v="dueDateBadge"}t&&n&&(C=N.a.createElement("span",{className:q()(W.a.dueDateStatusLozenge,W.a[n])},t));const j="startDate"===e?B.Choice.StartDate:B.Choice.DueDate;return N.a.createElement(N.a.Fragment,null,N.a.createElement(F.Button,{className:W.a.button,iconAfter:N.a.createElement($.DownIcon,{size:"small",color:"gray"}),onClick:()=>{u&&(d.Analytics.sendClickedButtonEvent({buttonName:v,source:"cardDetailScreen",containers:f}),m())},ref:p,testId:y},N.a.createElement("span",null,k),C),N.a.createElement(L.b,ne({},g,{title:ie("change-due-date"),size:"medium"}),N.a.createElement(B.LazyDateRangePicker,{due:i,start:a,dueReminder:r,hidePopover:h,idCard:o,idBoard:s,idOrg:c,initialChoice:j})))};var re=n("./app/src/components/ComponentWrapper/index.ts");const{forTemplate:oe}=n("./packages/i18n/index.ts"),se=oe("card_detail"),le=function(){const e=this.model.isOverLimit("checklists","perCard"),t=this.model.getBoard().isOverLimit("checklists","perBoard"),n=e||t;return this.$(".js-add-checklist-menu").toggleClass("disabled",n),this},ce=function(){const e=this.model.get("start"),t=!!this.model.get("isTemplate"),n=G.featureFlagClient.get("ecosystem.combined-card-back-date-badges",!1)&&this.model.get("due");if(this.$(".js-add-start-date").toggleClass("hide",t),!e||t||n)return this.$(".js-card-detail-start-date").addClass("hide"),this;const i=this.$(".js-card-detail-start-date-badge").toggleClass("is-clickable",this.model.editable());if(Object(G.seesVersionedVariation)("ecosystem.timeline-version","stable")){const t=i.find(".card-detail-badge-start-date-react-container")[0];var a,r;if(t)Object(re.renderComponent)(N.a.createElement(ae,{type:"startDate",due:this.model.get("due"),start:e,dueReminder:this.model.get("dueReminder"),idCard:this.model.id,idBoard:null===(a=this.model.getBoard())||void 0===a?void 0:a.id,idOrg:null===(r=this.model.getBoard())||void 0===r?void 0:r.get("idOrganization"),canEdit:this.model.editable()}),t)}else{i.find(".card-detail-badge-start-date-button").toggleClass("js-details-edit-start-date",this.model.editable());const t=l()(e).calendar();i.find(".js-date-text").text(t)}return this.$(".js-card-detail-start-date").removeClass("hide"),this},de=function(){const e=this.model.get("due"),t=this.model.get("dueComplete"),n=!!this.model.get("isTemplate");if(this.$(".js-add-due-date").toggleClass("hide",n),!e||n)return this.$(".js-card-detail-due-date").addClass("hide"),this;const i=l()(e).calendar(),a=p.a.relativeInfoForDueDate(e,t),r=p.a.classForDueDate(e,t),o=[];o.push(r),this.model.editable()&&o.push("is-clickable");const s=this.$(".js-card-detail-due-date-badge").removeClass((function(e,t){return(t.match(/is-due-\S+/g)||[]).join(" ")})).addClass(o.join(" ")).attr("title",p.a.titleForDueDate(e,t));if(Object(G.seesVersionedVariation)("ecosystem.timeline-version","stable")){const t=s.find(".card-detail-badge-due-date-react-container")[0];var c,d;if(t)Object(re.renderComponent)(N.a.createElement(ae,{type:"dueDate",relativeDueDateStatus:a,classForDueDate:r,due:e,start:this.model.get("start"),dueReminder:this.model.get("dueReminder"),idCard:this.model.id,idBoard:null===(c=this.model.getBoard())||void 0===c?void 0:c.id,idOrg:null===(d=this.model.getBoard())||void 0===d?void 0:d.get("idOrganization"),canEdit:this.model.editable()}),t)}else s.find(".card-detail-badge-due-date-button").toggleClass("js-details-edit-due-date",this.model.editable()),s.find(".js-date-text").text(i),a?s.find(".js-due-status").removeClass("hide").text(a):s.find(".js-due-status").addClass("hide");return s.find(".js-card-detail-due-date-badge-complete").toggleClass("js-details-toggle-due-date-complete",this.model.editable()),this.$(".js-card-detail-due-date").removeClass("hide"),this},ue=function(){const e=this.$(".js-checklist-list");var t;return b.a.withoutAlteringSelection((t=this,function(){return t.model.checklistList.forEach((function(n){const i=t.existingSubview(v.a,n);return e.append(i.el)}))})),this},pe=function(e){return this.deleteSubview(this.existingSubview(v.a,e))},me=function(){j()("render","rendering checklists");const e=this.$(".js-checklist-list").empty(),t=function(){const e=this.model.checklistList.models,t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];t.push(this.subview(v.a,i,{card:this.model}))}return t}.call(this);return this.appendSubviews(t,e),x.a.refreshIfInitialized(e),this.model&&this.model.editable()&&x.a.refreshCardSortable(this.$(".js-checklist-list"),{axis:"y",handle:".window-module-title",delay:75,distance:7,tolerance:"pointer",placeholder:"checklist placeholder",items:".checklist",start:function(e,t){const n=a()(t.helper).outerHeight();return a()(t.placeholder).height(n)}}),this},he=function(e,t){b.a.stopPropagation(e),t.item.trigger("movechecklist",[t])},ge=function(e){return b.a.preventDefault(e),d.Analytics.sendClickedButtonEvent({buttonName:"checklistButton",source:"cardDetailScreen",containers:this.model.getAnalyticsContainers()}),Object(c.track)("Card Detail","Add Checklist Button","Open Add Checklist Menu",this.model.trackProperty()),this.addChecklistSidebar(e.target)},be=function(){return this.addChecklistSidebar(this.$(".js-add-checklist-menu"))},fe=function(e){return y.a.toggle({elem:e,view:O.a,options:{model:this.model,modelCache:this.modelCache,cardView:this}}),!1},ve=function(e){b.a.stop(e),y.a.toggle({elem:this.$(".js-details-edit-due-date"),view:E.a,options:{model:this.model,modelCache:this.modelCache,trackingCategory:"card detail"}}),Object(c.track)("Card Detail","Due Date Badge","Open Due Date Menu",this.model.trackProperty())},ke=function(e){const t=!this.model.get("dueComplete"),n=d.Analytics.startTask({taskName:"edit-card",subTask:"dueComplete",source:"cardDetailScreen"});return this.model.update({dueComplete:t,traceId:n},Object(d.tracingCallback)({taskName:"edit-card",subTask:"dueComplete",traceId:n,source:"cardDetailScreen"},((e,t)=>{t&&d.Analytics.sendUpdatedCardFieldEvent({field:"dueComplete",source:"cardDetailScreen",attributes:{taskId:n},containers:{card:{id:t.id},list:{id:t.idList},board:{id:t.idBoard}}})}))),t&&(Object(m.shouldFireConfetti)(this.model.get("name"))||Object(m.shouldFireConfetti)(this.model.getList().get("name")))&&Object(h.default)({angle:o.a.random(55,125),spread:o.a.random(50,70),particleCount:o.a.random(40,75),origin:{x:e.pageX/window.innerWidth,y:e.pageY/window.innerHeight}}),Object(c.track)("Card Detail","Due Date Badge",t?"Marked Complete":"Marked Incomplete",this.model.trackProperty())},ye=function(e){return b.a.preventDefault(e),d.Analytics.sendClickedButtonEvent({buttonName:"dueDateButton",source:"cardDetailScreen",containers:this.model.getAnalyticsContainers()}),y.a.toggle({elem:this.$(".js-add-due-date"),view:E.a,options:{model:this.model,modelCache:this.modelCache,trackingCategory:"card detail"}}),Object(c.track)("Card Detail","Sidebar","Open Due Date Menu",this.model.trackProperty()),!1},Ce=function(e){return d.Analytics.sendClickedButtonEvent({buttonName:"startDateButton",source:"cardDetailScreen"}),Object(T.toggleDatePopoverV2)({title:se("start-date"),trackingMethod:"by clicking on the start date button in card detail view",setDate:e=>{e?this.model.update("start",e.getTime()):this.model.update("start",null)},getInitialDate:()=>this.model.get("start"),betaInfo:!1,hourTime:8})(e),!1},je=function(){const e=this.model.get("isTemplate");this.$(".js-date-range-picker").addClass("hide");const t=this.$(".js-date-range-picker")[0];var n,i;t&&!e&&(Object(re.renderComponent)(N.a.createElement(z,{due:this.model.get("due"),start:this.model.get("start"),dueReminder:this.model.get("dueReminder"),idCard:this.model.id,idBoard:null===(n=this.model.getBoard())||void 0===n?void 0:n.id,idOrg:null===(i=this.model.getBoard())||void 0===i?void 0:i.get("idOrganization"),canEdit:this.model.editable()}),t),this.$(".js-date-range-picker").removeClass("hide"));return this},we=function(){const e=this.$(".js-date-range-picker");var t,n;e&&y.a.toggle({elem:e,getViewTitle:()=>se("due-date"),keepEdits:!0,reactElement:N.a.createElement(B.LazyDateRangePicker,{due:this.model.get("due"),start:this.model.get("start"),dueReminder:this.model.get("dueReminder"),hidePopover:()=>y.a.hide(),idCard:this.model.id,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,idOrg:null===(n=this.model.getBoard())||void 0===n?void 0:n.get("idOrganization")})});return this},xe=function(e){return this.existingSubview(v.a,e).focusNewTaskInput()}},"./app/scripts/views/card/card-detail-view-comment.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./node_modules/underscore/underscore.js"),{Analytics:r,tracingCallback:o}=n("./packages/atlassian-analytics/index.ts"),s=n("./app/scripts/lib/util/index.js"),{track:l,trackUe:c}=n("./packages/analytics/index.ts"),d=n("./app/scripts/lib/markdown/tfm.js"),{TrelloStorage:u}=n("./packages/storage/index.ts"),p=n("./app/scripts/db/auth.js"),m=n("./app/scripts/views/lib/layout.js"),{getKey:h,isForceSubmitEvent:g,Key:b}=n("./packages/keybindings/index.ts"),f=n("./app/scripts/views/lib/pop-over.js"),v=n("./app/scripts/views/internal/autocomplete/auto-mentioner-view.js"),{applyMarkdownShortcuts:k}=n("./app/scripts/views/lib/markdown-transform.ts"),{markdownTracker:y}=n("./app/scripts/lib/util/markdown-tracker.ts"),C=e=>"[".concat(e.get("name"),"](").concat(e.get("url"),") ");function j(e,t){return null!=e?t(e):void 0}e.exports._commentDraftKey=function(){return"draft_".concat(this.model.id,"_comment")},e.exports.saveCommentDraft=function(e){null==e&&(e=!1);const t=this.$(".js-new-comment-input");if(0===t.length)return;const n=t.val();n?(u.set(this._commentDraftKey(),n),e&&(l("Card Detail","Comment","Save Comment Draft",this.model.trackProperty()),c("Card Detail","save","comment draft","","","when closing a card",""))):u.unset(this._commentDraftKey())},e.exports.keydownCommentEvent=function(e){p.me().editing({idBoard:this.model.getBoard().id,idCard:this.model.id,action:"commenting"}),k(e);return h(e)!==b.Tab||!i(e.target).hasClass("new-comment-input")||!this.model.editable()||f.view instanceof v||""!==i(e.target).val()||(s.stop(e),this.submitComment(e)),g(e)&&!this._isCommentTooLong()?this.submitComment(e):this.checkInsert(e)},e.exports._isCommentTooLong=function(){return j(this.$(".js-new-comment-input").val(),(e=>e.length))>this.maximumCommentLength},e.exports.renderCommentSubmitAbility=function(e){const t=this._isCommentTooLong(),n=0===j(this.$(".js-new-comment-input").val(),(e=>e.length))||t;return this.$(".js-add-comment").prop("disabled",n),this.$(".js-comment-subscribe").toggleClass("is-visible",!n&&!this.model.isSubscribed()),this.$(".comment-too-long-warning").toggleClass("is-shown",t),this.$(".comment-too-long-warning").find(".js-attach-comment").toggle("undefined"!=typeof Blob&&null!==Blob),this.renderCommentControls(),this},e.exports.renderCommentControls=function(e){const t=this.$(".js-new-comment"),n=j(this.$(".js-new-comment-input").val(),(e=>e.length))>0;return t.toggleClass("is-show-controls",n),this},e.exports.renderCommentAndSubscribeBox=function(e){return this.$(".js-comment-subscribe").toggleClass("is-subscribed"),this},e.exports._cancelEditing=function(){return p.me().editing({idBoard:this.model.getBoard().id})},e.exports.commentInputEvent=function(e){return this.renderCommentSubmitAbility(),this.renderCommentControls(),this.$(".js-new-comment-input").trigger("autosize.resize"),this},e.exports.clearComment=function(){return i(this.commentInput).val("").css("height",""),this.renderCommentSubmitAbility()},e.exports.submitComment=function(e){const t=r.startTask({taskName:"create-comment",source:"cardDetailScreen"});let n;l("Card Detail","Comment","Submit Comment",this.model.trackProperty()),s.stop(e);const d=i(this.commentInput).val();this.clearComment(),this._cancelEditing(),this.model.addComment(d,t,o({taskName:"create-comment",source:"cardDetailScreen",traceId:t},((e,n)=>{var i,a,o,s,l,c;!e&&n&&r.sendTrackEvent({action:"added",actionSubject:"comment",source:"cardDetailScreen",attributes:{taskId:t},containers:{card:{id:null===(i=n.data)||void 0===i||null===(a=i.card)||void 0===a?void 0:a.id},list:{id:null===(o=n.data)||void 0===o||null===(s=o.list)||void 0===s?void 0:s.id},board:{id:null===(l=n.data)||void 0===l||null===(c=l.board)||void 0===c?void 0:c.id}}})})));let u=null!=(n=j(null!=d?d.match(/@\w+/g):void 0,(e=>e.map((e=>e.substring(1).toLowerCase())))))?n:[];u=a.uniq(u);const h=this.model.getBoard().memberList.models,g=p.me().id;if(u.forEach((function(e){if("card"!==e&&"board"!==e&&"commenters"!==e)return h.forEach((function(t){if(t.get("username")===e&&t.get("idMemberReferrer")===g)return c("card detail","mentions","invitee","","","",{member:g,mentionedMember:t.id})}))})),p.me().isSubscribeOnCommentEnabled()&&!this.model.isSubscribed()){const e=r.startTask({taskName:"edit-card",subTask:"subscribed",source:"cardDetailScreen"});this.model.subscribeWithTracing(!0,e,o({taskName:"edit-card",subTask:"subscribed",source:"cardDetailScreen",traceId:e},((t,n)=>{n&&r.sendUpdatedCardFieldEvent({field:"subscribed",source:"cardDetailScreen",containers:{card:{id:n.id},board:{id:n.idBoard},list:{id:n.idList}},attributes:{taskId:e}})})))}return m.cancelEdits(),this.collapseComment(),this.renderCommentSubmitAbility(),f.hide(),y(d,"comments"),!1},e.exports.subscribeOnComment=function(e){s.stop(e);const t=p.me();return t.isSubscribeOnCommentEnabled()?l("Card Detail","Comment and Subscribe","Disable",this.model.trackProperty()):l("Card Detail","Comment and Subscribe","Enable",this.model.trackProperty()),this.renderCommentAndSubscribeBox(),t.toggleSubscribeOnComment(),!1},e.exports.truncateComment=function(e){const t=this.$(".js-new-comment-input");return t.val(t.val().substr(0,this.maximumCommentLength)),this.$(".js-new-comment-input").autosize({append:!1}),this.renderCommentSubmitAbility()},e.exports.inputComment=function(e){const t=this.$(".js-new-comment");m.cancelEdits(this.commentInput),t.addClass("is-focused"),this.$(".js-new-comment-input").autosize({append:!1})},e.exports.clickAwayFromComment=function(e){if(f.isVisible)return;if(document.activeElement===this.commentInput)return;const t=e.target,n=this.$(".js-new-comment");return(null!=n[0]?n[0].contains(t):void 0)?void 0:this.collapseComment()},e.exports.collapseComment=function(){return this.$(".js-new-comment").removeClass("is-focused"),this.$(".js-new-comment-input").trigger("autosize:destroy")},e.exports.replyToAction=function(e,t){const n=this.modelCache.get("Member",t.get("idMemberCreator")),i=null!=n?n.get("username"):void 0,a=this.$(this.commentInput),r=(()=>{let e;if(t.isCommentLike()&&null!=i)return m.cancelEdits(this.commentInput),new RegExp("@".concat(i,"(\\W|$)")).test(a.val())?(a.focus(),null):"@".concat(i," ");if(t.isAddAttachment()&&null!=(e=this.model.attachmentList.get(j(t.get("data").attachment,(e=>e.id))))){const t=C(e);return p.isMe(n)?t:["@".concat(i),t].join(" ")}})();r&&(a.addClass("is-focused"),s.insertSelection(a,r),a.trigger("autosize.resize"),this.$(".js-new-comment-input").autosize({append:!1}))},e.exports.replyToAllAction=function(e,t){const n=this.modelCache.get("Member",t.get("idMemberCreator"));let i=null!=n?n.get("username"):void 0;const r=this.$(this.commentInput),o=r.val(),c=e=>a.uniq(d.comments.getMatches(e,{atMention:!0}).atMention);let u=a.chain(["@".concat(i)]).concat(c(t.get("data").text)).uniq((e=>e.toLowerCase())).filter((function(e){let t;return[i,t]=Array.from(d.lookupMember(e.replace("@",""))),!t})).without(...Array.from(c(o)||[])).value();if((a.contains(u,"@card")||a.contains(u,"@board"))&&l("Card","Reply to all with a @card or @board mention",void 0,this.model.trackProperty()),u=a.without(u,"@card","@board"),l("Card","Reply to all Comment Mention Count",void 0,this.model.trackProperty(),u.length),u.length){const e=u.join(" ")+" ";r.addClass("is-focused"),s.insertSelection(r,e),r.trigger("autosize.resize")}else r.focus()},e.exports.replyToAttachment=function(e){m.cancelEdits(this.commentInput);const t=this.$(this.commentInput);return t.addClass("is-focused"),s.insertSelection(t,C(e)),t.trigger("autosize.resize")},e.exports.replyToComment=function(e){if(this.model.getBoard().canComment(p.me())&&e){const t=this.$(".js-new-comment-input");t.val("@".concat(e," ")),t.focus(),s.setCaretAtEnd(t[0])}this.renderCommentSubmitAbility()}},"./app/scripts/views/card/card-detail-view-copy-move.js":function(e,t,n){const i=n("./app/scripts/views/lib/pop-over.js"),a=n("./app/scripts/views/card/card-move-view.js"),r=n("./app/scripts/lib/util/index.js"),{track:o}=n("./packages/analytics/index.ts"),s=n("./app/scripts/views/card/card-copy-view.js"),l=n("./app/scripts/db/auth.js"),c=n("./node_modules/underscore/underscore.js");e.exports.openMoveMenu=function(e){i.toggle({elem:e,view:a,options:{model:this.model,modelCache:this.modelCache}})},e.exports.openMoveFromHeader=function(e){r.stop(e),this.openMoveMenu(this.$(".js-open-move-from-header"),20),o("Card Detail","Move Button (via Header)",void 0,this.model.trackProperty())},e.exports.openMoveFromBadge=function(e){r.stop(e),this.openMoveMenu(this.$(".js-card-detail-list-badge-button")),o("Card Detail","Move Button (via Badge)",void 0,this.model.trackProperty())},e.exports.moveCard=function(e){r.stop(e),this.openMoveMenu(this.$(".js-move-card"),35),o("Card Detail","Sidebar","Open Move Menu",this.model.trackProperty())},e.exports.copyCard=function(e){r.stop(e),i.toggle({elem:this.$(".js-copy-card"),view:s,options:{model:this.model,modelCache:this.modelCache}}),o("Card Detail","Sidebar","Open Copy Menu",this.model.trackProperty())},e.exports.renderCopyCard=function(){const e=c.any(l.me().boardList.models,(e=>!e.get("closed")));return this.$(".js-copy-card").toggleClass("hide",!e)}},"./app/scripts/views/card/card-detail-view-cover.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/lib/util/index.js"),r=n("./app/scripts/views/internal/attachment-viewer.js"),{track:o}=n("./packages/analytics/index.ts"),{Analytics:s}=n("./packages/atlassian-analytics/index.ts"),l=n("./packages/browser/index.ts"),{makePreviewCachable:c}=n("./app/common/lib/util/preview.ts"),{getPotentialCovers:d}=n("./app/src/components/CardCoverChooser/SelectCover.tsx"),{toggleCardCoverChooserPopover:u}=n("./app/scripts/views/card/card-cover-chooser-popover.tsx"),{UnsplashTracker:p}=n("./packages/unsplash/index.ts"),m=n("./app/scripts/views/internal/plugins/plugin-runner.js"),h=n("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),g=n("./app/scripts/lib/plugins/plugin-validators.js"),b=n("./app/scripts/lib/plugins/plugin-cover-with-defaults.js");e.exports.openCoverInViewer=function(e){if(a.stop(e),!this.showCover())return;const t=this.model.attachmentList.get(this.model.get("idAttachmentCover"));r.isActive()||(r.show({model:this.model,attachmentModel:t}),o("Card Detail","Open Attachment Viewer via Cover",t.getType(),this.model.trackProperty()))},e.exports.removeCover=function(e){a.stop(e),this.model.removeCover(null),o("Card Detail","Card Cover","Remove Cover",this.model.trackProperty())},e.exports.showCover=function(){return this.model.getBoard().getPref("cardCovers")&&this.model.hasCover()},e.exports.checkShowCover=function(){const e=this.showCover()||this.hasPluginCover,t=this.model.hasStickers();e?this.$(".js-card-cover-box").removeClass("hide window-cover-stickers-only").addClass("is-covered").toggleClass("has-attachment-cover",this.model.hasAttachmentCover()):t?this.$(".js-card-cover-box").removeClass("hide is-covered").addClass("window-cover-stickers-only"):this.$(".js-card-cover-box").addClass("hide"),this.model.getBoard().getPref("cardCovers")||this.$(".window-cover-menu").addClass("hide")},e.exports.clearCover=function(){const e=this.$(".js-card-cover-box");e.css({"background-color":"","background-image":"",height:"","min-height":"",padding:""}),e.removeClass(((e,t)=>(t.match(/\bcolor-card-cover-\S+/g)||[]).join(" ")));if(i(".dialog-close-button").removeClass(["dialog-close-button-light","dialog-close-button-dark","dialog-close-button-indeterminate","dialog-close-button-full-cover"].join(" ")),this.$(".window-sidebar").find(".js-card-cover-chooser").removeClass("hide"),this.isFullCoverCardBackEnabled())return this.$el.removeClass("is-full-cover"),e.find(".js-full-cover-card-detail-title").addClass("hide"),this.$(".js-card-detail-header").removeClass("hide"),this.$(".js-card-detail-list").addClass("hide"),this.$(".js-card-detail-title-input:visible").trigger("autosize.resize",!1)},e.exports.renderCover=function(){this.clearCover();const e=this.model.editable(),t=this.model.getBoard().getPref("cardCovers"),n=this.showCover()&&e,r=!n&&t&&e,o=({url:e,height:t,size:a,edgeColor:o,color:s,brightness:l,position:c,padding:d,isFullCover:u})=>{null==c&&(c="center"),null==d&&(d="0"),null==l&&(l=(()=>{if(o&&"transparent"!==o){const[e,t,n]=Array.from(o.match(/[0-9a-f]{2}/gi).map((e=>parseInt(e,16)))),i=(e+t+n)/3;if(i>=140)return"light";if(i<140)return"dark"}})());const p=this.$(".js-card-cover-box"),m=i(".dialog-close-button");if(p.removeClass("card-cover-dark card-cover-light color-card-cover"),m.removeClass("dialog-close-button-dark dialog-close-button-light dialog-close-button-indeterminate dialog-close-button-full-cover"),s)p.addClass("color-card-cover color-card-cover-".concat(s)),c="left";else{const e=null!=o?o:"transparent";p.css("background-color",e)}const h=(()=>{if(u&&e)return"full-cover";switch(l){case"light":return"dark";case"dark":return"light";default:return"indeterminate"}})();if(null!=h&&(m.addClass("dialog-close-button-".concat(h)),p.addClass("card-cover-".concat(l))),p.css({"background-image":e?'url("'.concat(e,'")'):"",height:u?"auto":t,"min-height":t,"background-size":a,"background-origin":"content-box",padding:d,"box-sizing":"border-box","background-position":c}),p.find(".window-cover-menu").toggleClass("hide",!n),p.toggleClass("js-open-card-cover-in-viewer",this.model.hasAttachmentCover()),this.$(".window-sidebar").find(".js-card-cover-chooser").toggleClass("hide",!r),this.isFullCoverCardBackEnabled())return this.$el.toggleClass("is-full-cover",u),p.find(".js-full-cover-card-detail-title").toggleClass("hide",!u),this.$(".js-card-detail-header").toggleClass("hide",u),this.$(".js-card-detail-list").toggleClass("hide",!u),this.$(".js-card-detail-title-input:visible").trigger("autosize.resize",!1)};if(this.showCover()){const e=this.model.get("cover"),t="full"===e.size&&this.isFullCoverCardBackEnabled(),{previews:n,edgeColor:i,color:r,brightness:s}=(null!=e?e.color:void 0)?{color:e.color,brightness:e.brightness}:(null!=e?e.idAttachment:void 0)||(null!=e?e.idUploadedBackground:void 0)||(null!=e?e.idPlugin:void 0)?{previews:e.scaled,edgeColor:e.edgeColor,brightness:t?e.brightness:void 0}:{},d=116,u=160,m=730;if(null!=r||null!=n){let h,g,b,f;this.hasPluginCover=!1,l.isHighDPI()?(f=2*m,b=2*u):(f=m,b=u),t&&(b*=2);const v=null!=(g=a.smallestPreviewBetween(n,0,b,f,1/0))?g:a.biggestPreview(n);r?(height=d,size="initial"):(h=null!=v?v.url:attachmentCover.get("url"),height=Math.max(d,Math.min(null!=(null!=v?v.height:void 0)?null!=v?v.height:void 0:u,u)),size=t?"cover":(null!=v?v.height:void 0)<height?"initial":"contain"),o({url:c(h),height:height,size:size,edgeColor:i,color:r,brightness:s,isFullCover:t}),(null!=e?e.idUploadedBackground:void 0)&&p.trackOncePerInterval(e.sharedSourceUrl)}}else this.model.getBoard().getPref("cardCovers")&&m.one({command:"card-cover",board:this.model.getBoard(),card:this.model,list:this.model.getList(),timeout:1e4,options:{attachments:h.attachments(this.model.attachmentList.models,["id","name","url"]),cardDetail:!0},fxPluginFilter:e=>!(e.get("tags")||[]).includes("plugin-cover-beta")}).catch(m.Error.NotHandled,(()=>null)).then((e=>{if(!g.isValidCover(e,!0))return void(this.hasPluginCover=!1);const{url:t,height:n,size:i,edgeColor:a,position:r,padding:s}=b(e);return this.hasPluginCover=!0,o({url:t,height:n,size:i,edgeColor:a,position:r,padding:s}),this.checkShowCover()})).done();return this.checkShowCover(),this},e.exports.cardCoverChooserSidebar=function(e){a.preventDefault(e),s.sendClickedButtonEvent({buttonName:"cardCoverButton",source:"cardDetailScreen",containers:this.model.getAnalyticsContainers()}),u({elem:this.$(e.currentTarget),cardId:this.model.id,boardId:this.model.get("idBoard")});const t=this.$(e.currentTarget).closest(".js-card-cover-box").length>0,n=this.model.attachmentList.toJSON(),i=d(n).length,r=i>0||this.model.hasCover()?"Has Potential Covers":"No Covers";return t?(o("Card Detail","Card Cover Area","Open Card Cover Chooser",r,i),o("Card Detail","Card Cover Area","Open Card Cover Chooser",this.model.trackProperty())):(o("Card Detail","Sidebar","Open Card Cover Chooser",r,i),o("Card Detail","Sidebar","Open Card Cover Chooser",this.model.trackProperty())),!1}},"./app/scripts/views/card/card-detail-view-highlight.js":function(e,t,n){const i=n("./app/scripts/lib/util/index.js"),a=n("./app/scripts/controller/index.js"),r=n("./app/scripts/views/lib/dialog.js");e.exports.highlight=function(e,t){let n;if(null!=(n=/^([a-z]+)-([a-f0-9]{24})$/.exec(e))){const[,e,i]=Array.from(n);switch(e){case"action":case"comment":this.actionListView.setHighlight(i),this.model.actionList.get(i)||this.showAllActions(),t&&this.scrollToHighlight()}}},e.exports.interceptHighlightLink=function(e){let t;if(!e.target.href)return;const n=i.relativeUrl(e.target.href),r=a.getCardUrl(this.model);if(null!=(t=new RegExp("^".concat(r,"\\#([^\\#]+)$")).exec(n))){const[,n]=Array.from(t);n&&(i.stop(e),n===location.hash.substr(1)?(history.replaceState(null,null,location.pathname),this.actionListView.setHighlight(null)):(history.replaceState(null,null,location.pathname+"#"+n),this.highlight(n,!0)))}},e.exports.scrollToHighlight=function(){let e=Date.now();cancelAnimationFrame(this.scrollInterval);let t=null,n=-1,i=!1,a=!1;setTimeout((()=>{a=!0}),3e4);const o=()=>{let s;if(!(r.scrolledSince(e)&&!i||a)){if(null!=(s=this.$(".mod-highlighted")[0])){const a=s.getBoundingClientRect();i=a.top!=n,n=a.top,t||(t=a.top<0?"top":a.top+a.height>window.innerHeight?"bottom":null),"top"===t?s.scrollIntoView(!0):"bottom"===t&&s.scrollIntoView(!1),e=Date.now()}this.scrollInterval=this.requestAnimationFrame(o)}};o()}},"./app/scripts/views/card/card-detail-view-label.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/lib/util/index.js"),r=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/views/label/card-label-select-view.js"),{track:s}=n("./packages/analytics/index.ts"),{Analytics:l}=n("./packages/atlassian-analytics/index.ts"),c=n("./app/scripts/models/label.js"),d=n("./app/scripts/views/templates/label.js"),u=n("./app/scripts/views/templates/card_detail_add_button.js");e.exports.openLabelsPopOver=function(e,t){r.toggle({elem:e,view:o,options:i.extend({model:this.model,modelCache:this.modelCache},t)})},e.exports.editLabelsMainSingleLabel=function(e){a.stop(e),this.openLabelsPopOver(this.$(e.target).closest(".card-label")),s("Card Detail","Edit Labels Main Column - Single Label",void 0,this.model.trackProperty())},e.exports.editLabelsMain=function(e){a.stop(e),this.openLabelsPopOver(this.$(".js-details-edit-labels")),s("Card Detail","Edit Labels Main Column - Plus Button",void 0,this.model.trackProperty())},e.exports.editLabelsSidebar=function(e){return a.stop(e),l.sendClickedButtonEvent({buttonName:"labelsButton",source:"cardDetailScreen",containers:this.model.getAnalyticsContainers()}),s("Card Detail","Sidebar","Edit Labels Button",this.model.trackProperty()),this._openEditLabelsSidebar()},e.exports.renderLabels=function(){const e=this.model.getLabels().sort(c.compare),t=this.$(".js-card-detail-labels-list").empty(),n=(()=>{const t=[];for(const n of Array.from(e)){const e=this.model.dataForLabel(n);e.extraClasses=["mod-card-detail"],this.model.editable()&&e.extraClasses.push("mod-clickable"),t.push(d(e))}return t})();return t.append(n),this.model.editable()&&t.append(u({klass:"js-details-edit-labels"})).addClass("js-edit-label"),this.$(".js-card-detail-labels").toggleClass("hide",0===e.length),this},e.exports._openEditLabelsSidebar=function(e){return this.openLabelsPopOver(this.$(".js-edit-labels"),e)}},"./app/scripts/views/card/card-detail-view-members.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=n("./app/scripts/db/auth.js"),s=n("./app/scripts/views/templates/edit_in_progress.js"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/views/card/card-member-select-view.js"),d=n("./app/scripts/lib/util/index.js"),{Analytics:u,tracingCallback:p}=n("./packages/atlassian-analytics/index.ts"),{track:m}=n("./packages/analytics/index.ts"),h=n("./app/scripts/views/templates/card_detail_add_button.js");e.exports.renderEditing=function(){const e={members:this.model.memberEditingList.models.filter((e=>!o.isMe(e)&&null!=e.get("editing"))).map((e=>a(a({},e.toJSON()),{},{icon:"commenting"===e.get("editing").action?"comment":"edit"})))},t={members:e.members.filter((e=>"comment"===e.icon))},n={members:e.members.filter((e=>"edit"===e.icon))};return this.$(".js-editing-members-comments").empty().append(s(t)).toggleClass("hide",0===t.members.length),this.$(".js-editing-members-description").empty().append(s(n)).toggleClass("hide",0===n.members.length),this},e.exports.openEditMembersPopOver=function(e){l.toggle({elem:e,view:c,options:{model:this.model,modelCache:this.modelCache}})},e.exports.editMembersMain=function(e){d.stop(e),this.openEditMembersPopOver(this.$(".js-details-edit-members")),m("Card Detail","Edit Members via Main Column",void 0,this.model.trackProperty())},e.exports.changeMembersSidebar=function(e){d.stop(e),u.sendClickedButtonEvent({buttonName:"membersButton",source:"cardDetailScreen",containers:this.model.getAnalyticsContainers()}),this.openEditMembersPopOver(this.$(".js-change-card-members")),m("Card Detail","Sidebar","Open Manage Member Menu",this.model.trackProperty())},e.exports.join=function(e){d.stop(e);const t="cardDetailScreen",n=u.startTask({taskName:"edit-card",subTask:"idMembers",source:t});return this.model.addMemberWithTracing(o.myId(),n,p({taskName:"edit-card",subTask:"idMembers",traceId:n,source:t},((e,i)=>{i&&u.sendUpdatedCardFieldEvent({field:"idMembers",source:t,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:n}})}))),m("Card Detail","Suggested","Join",this.model.trackProperty())},e.exports.renderMembers=function(e){const t=this.$(".js-card-detail-members-list").empty(),n=this.model.memberList.filterDeactivated({model:this.model.getBoard()}).models,i=Array.from(n).map((e=>this.getMemberOnCardHtml(e))).join("");return t.html(i),this.model.editable()&&!this.isOnBoardTemplate()&&t.append(h({klass:"js-details-edit-members mod-round"})),this.$(".js-card-detail-members").toggleClass("hide",0===n.length),this.renderSuggestedActions(),this}},"./app/scripts/views/card/card-detail-view-name.js":function(e,t,n){const{Analytics:i}=n("./packages/atlassian-analytics/index.ts"),{trackSeparator:a}=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts"),{getKey:r,Key:o}=n("./packages/keybindings/index.ts"),s=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/lib/util/removeAllRanges.js"),c=n("./app/scripts/controller/index.js"),d=n("./app/scripts/lib/localize.js");e.exports.saveCardName=function(){let e=this.$(".js-card-detail-title-input:visible").val();const t=this.model.get("name");if(e=e.replace(/\s+/g," ").trim(),e===t)return;if(e.length>16384)return;if(0===e.trim().length)return;const n=i.startTask({taskName:"edit-card",subTask:"name",source:"cardDetailScreen"});this.model.recordAction({type:"rename",name:e,previousName:t}),this.model.update({name:e,traceId:n},((e,t)=>{if(e)throw i.taskFailed({taskName:"edit-card",subTask:"name",traceId:n,source:"cardDetailScreen",error:e});i.sendUpdatedCardFieldEvent({field:"name",source:"cardDetailScreen",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:n}}),i.taskSucceeded({taskName:"edit-card",subTask:"name",traceId:n,source:"cardDetailScreen"})})),a(e,{category:"card detail",method:"by editing name"})},e.exports.nameKeyDownEvent=function(e){r(e)===o.Enter&&(s.stop(e),this.saveNameEditing()),r(e)===o.Escape&&(s.stop(e),this.cancelNameEditing())},e.exports.startNameEditing=function(e){null==e&&(e={});const t=this.$(".js-card-detail-title-input:visible");t.hasClass("is-editing")||(t.addClass("is-editing"),e.focus&&t.focus().select())},e.exports.saveNameEditing=function(){if(this.$(".js-card-detail-title-input:visible").hasClass("is-editing"))return this.stopNameEditing(),this.saveCardName()},e.exports.cancelNameEditing=function(){return this.stopNameEditing(),this.renderName()},e.exports.stopNameEditing=function(){const e=this.$(".js-card-detail-title-input:visible");e.hasClass("is-editing")&&e.val().trim()&&(e.removeClass("is-editing"),e.blur(),l())},e.exports.renderName=function(){const e=this.model.get("name"),t=this.model.getBoard().get("name");this.$(".js-title-helper").text(e);const n=this.$(".js-card-detail-title-input");return n.each((t=>{const i=this.$(n[t]);if(!i.hasClass("is-editing"))return i.val(e).trigger("autosize.resize",!1)})),c.title(d("card detail title",{cardName:e,boardName:t},{raw:!0})),this},e.exports.editTitle=function(e){this.startNameEditing({focus:!0})}},"./app/scripts/views/card/card-detail-view-notifications.js":function(e,t,n){const i=n("./app/scripts/lib/monitor.js");function a(e,t){return null!=e?t(e):void 0}e.exports.markNotificationsReadOnActive=function(){if("active"===i.getStatus()||!i.getHidden())return this.markRelatedNotificationsRead()},e.exports.markRelatedNotificationsRead=function(){const e=this.modelCache.all("Notification").filter((e=>a(a(e.get("data"),(e=>e.card)),(e=>e.id))===this.model.id));if(e.length>0){const t=e.filter((e=>e.get("unread")));if(!(t.length>0))return;t.forEach((e=>e.set({unread:!1})))}return this.model.markAssociatedNotificationsRead()}},"./app/scripts/views/card/card-detail-view-plugins.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./node_modules/bluebird/js/browser/bluebird.js"),r=n("./node_modules/react/index.js"),o=n("./app/scripts/views/plugin/plugin-card-buttons-view.js"),s=n("./app/scripts/views/custom-field/custom-field-card-detail-badges-view.js"),{sendPluginScreenEvent:l,sendPluginUIEvent:c}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),d=n("./app/scripts/views/plugin/plugin-card-detail-badges-view.js"),u=n("./app/scripts/views/stickers/sticker-view.js"),p=n("./app/scripts/data/legacy-power-ups.js").cardAging,m=n("./app/scripts/lib/dates.js"),h=n("./app/scripts/views/lib/confirm.js"),g=n("./app/scripts/views/lib/pop-over.js"),b=n("./app/scripts/views/plugin/plugin-suggestion-pop-over.js"),f=n("./app/scripts/views/internal/plugins/plugin-runner.js"),v=n("./app/scripts/lib/plugins/plugin-validators.js"),k=n("./app/scripts/views/plugin/plugin-card-back-section-view.js"),{Noun:y,Verb:C,track:j,trackUe:w}=n("./packages/analytics/index.ts"),x=n("./app/scripts/lib/util/index.js"),_=n("./app/scripts/views/custom-field/custom-fields-button-view.js"),E=n("./packages/config/index.ts").customFieldsId,S=n("./packages/config/index.ts").mapPowerUpId,O=n("./app/scripts/views/map/set-card-location-popover-view.js"),T=n("./app/scripts/views/map/card-location-view.js"),D=n("./app/scripts/views/card-aging/card-aging-popover-view.js"),{ButlerCardButtons:N}=n("./app/src/components/Butler/index.ts"),{renderComponent:I}=n("./app/src/components/ComponentWrapper/index.ts");e.exports.renderPluginButtons=function(){const e=this.subview(o,this.model);return this.appendSubview(e,this.$(".js-plugin-buttons")),this},e.exports.renderButlerCardButtons=function(){const e=this.$(".js-butler-card-buttons")[0];if(e){const t=this.model.getBoard();I(r.createElement(N,{idCard:this.model.id,idBoard:t.id,idOrganization:t.get("idOrganization")}),e)}return this},e.exports.renderCustomFieldBadges=function(){const e=this.subview(s,this.model,{sendPluginScreenEvent:l,sendPluginUIEvent:c});this.appendSubview(e,this.$(".js-custom-field-detail-badges"));const t=this.model.getBoard();let n=!t.isCustomFieldsEnabled()||0===t.customFieldList.length;return n||this.model.editable()||(n=i.every(this.model.customFieldItemList.models,(e=>e.isEmpty()))),this.$(".js-custom-fields-section").toggleClass("hide",n),this},e.exports.renderPluginBadges=function(){const e=this.subview(d,this.model);return this.appendSubview(e,this.$(".js-plugin-badges")),this},e.exports.renderStickers=function(){const e=this.$(".js-display-stickers").empty(),t=this.model.stickerList.models,n=t.length>0,i=this.model.editable();if(n){const n=Array.from(t).map((e=>this.subview(u,e,{board:this.model,canRemove:i})));this.appendSubviews(n,e)}return this.checkShowCover(),this},e.exports.renderAging=function(){const e=this.model.getBoard().isPowerUpEnabled("cardAging"),t=this.model.getPluginDataByKey(p,"shared","evergreen",!1),n=this.$(".js-card-detail-age-badge").removeClass(this.model.getAllAgingClasses());if(e){const e=this.model.getAgingData();n.removeData("date").attr("dt",this.model.get("dateLastActivity")),"pirate"!==e.mode||t||n.addClass(e.agingClassesToAdd),m.update(this.$(".js-card-detail-age"))}return this.$(".js-card-detail-age").toggleClass("hide",!e),this},e.exports.dismissPluginSuggestionSection=function(e,t){h.toggle("dismiss plugin suggestion section",{elem:e,confirmBtnClass:"nch-button nch-button--primary",fxConfirm:()=>{const e=this.model.getBoard();return e.setPluginDataByKey(t,"private","dismissedSection",!0),this.renderAttachmentsDebounced(),e.getAvailablePlugins().then((()=>c({idPlugin:t,idBoard:e.id,idCard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"dismissPluginSuggestionButton",source:"pluginSuggestionSection"}})))}})},e.exports.enableSuggestedPluginPrompt=function(e,t){g.toggle({elem:e,view:new b({model:t,card:this.model,board:this.model.getBoard()}),autoPosition:!0,getViewTitle:()=>t.get("name")}),c({idPlugin:t.id,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"enablePluginSuggestionButton",source:"pluginSuggestionSection"}})},e.exports.renderPluginSections=function(){return null!=this._renderPluginSectionsPromise&&this._renderPluginSectionsPromise.cancel(),this._renderPluginSectionsPromise=a.try((()=>f.all({timeout:5e3,command:"card-back-section",card:this.model,board:this.model.getBoard(),list:this.model.getList()}))).cancellable().then((e=>{const t=i.chain(e).filter((e=>v.isValidCardBackSection(e))).uniq((e=>e.idPlugin)).map((e=>{const t="card-back-section_".concat(e.content.url,"_").concat(e.idPlugin),n=this.subview(k,this.model,{},t);return n.updateSection(e),n})).compact().value(),n=i.chain(e).pluck("idPlugin").uniq().value();for(const e of Array.from(n))w("card details","views","Power-Up","","","card-back-section",e);const a=this.$(".js-plugin-card-back-sections");return this.ensureSubviews(t,a)})).catch(a.CancellationError,(function(){})),this._renderPluginSectionsPromise.done(),this},e.exports.editFieldsSidebar=function(e){return x.preventDefault(e),g.toggle({elem:this.$(".js-edit-fields"),view:_,options:{model:this.model,modelCache:this.modelCache,board:this.model.getBoard()}}),j("Card Detail","Sidebar","Open Custom Fields Menu",this.model.trackProperty()),c({idPlugin:E,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpCardButton",source:"cardDetailScreen"}}),!1},e.exports.editLocationSidebar=function(e){return x.preventDefault(e),w("card detail","opens","Power-Up","","","card-button",S),w(y.CARD_DETAILS,C.OPENS,"location menu","","","by clicking the location sidebar item",{idCard:this.model.id,idList:this.model.getList().id,idBoard:this.model.getBoard().id}),c({idPlugin:S,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"cardMapLocationButton",source:"cardDetailScreen"}}),g.toggle({elem:this.$(".js-edit-location"),view:O,options:{model:this.model,modelCache:this.modelCache,trackingMethod:"by clicking on the location button"}}),!1},e.exports.renderLocation=function(){const e=this.model.getBoard().isMapPowerUpEnabled(),t=!e||null==this.model.get("coordinates");return this.$(".js-location-section").toggleClass("hide",t),e&&null!=this.model.get("coordinates")?(null==this.cardLocationSubview&&(this.cardLocationSubview=this.subview(T,this.model)),this.appendSubview(this.cardLocationSubview,this.$(".js-card-location"))):this.cardLocationSubview&&(this.cardLocationSubview.remove(),this.cardLocationSubview=null),this},e.exports.cardAgingSidebar=function(e){return x.preventDefault(e),g.toggle({elem:this.$(".js-card-aging-card-button"),view:new D({model:this.model})}),c({idPlugin:p,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpCardButton",source:"cardDetailScreen"}}),!1}},"./app/scripts/views/card/card-detail-view-subscribe.js":function(e,t,n){const i=n("./app/scripts/views/templates/card_detail_toggle_button.js"),{track:a}=n("./packages/analytics/index.ts"),{Analytics:r,tracingCallback:o}=n("./packages/atlassian-analytics/index.ts");e.exports.renderSubscribe=function(){const e=this.$(".js-subscribe-sidebar-button"),t=this.model.get("subscribed")||(n=this.model.get("badges"),a=e=>e.subscribed,null!=n?a(n):void 0);var n,a;return e.next(".toggle-button").remove(),e.after(i({isOn:t,text:"watch",title:"watch-the-card",icon:"subscribe",selectorOn:"js-unsubscribe",selectorOff:"js-subscribe"})),this.$(".js-subscribed-indicator-header").toggleClass("hide",!t),this},e.exports.subscribeToCard=function(e){const t=r.startTask({taskName:"edit-card",subTask:"subscribed",source:"cardDetailScreen"});return this.model.subscribeWithTracing(!0,t,o({taskName:"edit-card",subTask:"subscribed",source:"cardDetailScreen",traceId:t},((e,n)=>{n&&r.sendUpdatedCardFieldEvent({field:"subscribed",source:"cardDetailScreen",containers:{card:{id:n.id},board:{id:n.idBoard},list:{id:n.idList}},attributes:{taskId:t}})}))),a("Card Detail","Sidebar","Subscribe",this.model.trackProperty()),this.renderCommentSubmitAbility(),!1},e.exports.unsubscribeFromCard=function(e){const t=r.startTask({taskName:"edit-card",subTask:"subscribed",source:"cardDetailScreen"});return this.model.subscribeWithTracing(!1,t,o({taskName:"edit-card",subTask:"subscribed",source:"cardDetailScreen",traceId:t},((e,n)=>{n&&r.sendUpdatedCardFieldEvent({field:"subscribed",source:"cardDetailScreen",containers:{card:{id:n.id},board:{id:n.idBoard},list:{id:n.idList}},attributes:{taskId:t}})}))),a("Card Detail","Sidebar","Unsubscribe",this.model.trackProperty()),this.renderCommentSubmitAbility(),!1}},"./app/scripts/views/card/card-detail-view-template.js":function(e,t,n){const i=n("./app/scripts/lib/util/index.js"),{Noun:a,Verb:r,trackUe:o}=n("./packages/analytics/index.ts"),{Analytics:s,tracingCallback:l}=n("./packages/atlassian-analytics/index.ts"),c=n("./app/scripts/lib/localize.js"),{sendErrorEvent:d}=n("./packages/error-reporting/index.ts"),{Feature:u}=n("./app/scripts/debug/constants.ts"),p=n("./app/scripts/views/templates/card_detail_toggle_button.js");e.exports.convertToTemplate=function(e){i.stop(e);const t=s.startTask({taskName:"edit-card",subTask:"isTemplate",source:"cardDetailScreen"});s.sendClickedButtonEvent({buttonName:"convertToTemplateButton",source:"cardDetailScreen",container:{board:{id:this.model.id},organization:{id:this.model.get("idOrganization")||""}}}),this.model.update({isTemplate:!0,traceId:t},l({taskName:"edit-card",subTask:"isTemplate",traceId:t,source:"cardDetailScreen"},((e,n)=>{n&&s.sendUpdatedCardFieldEvent({field:"isTemplate",source:"cardDetailScreen",attributes:{taskId:t},containers:{board:{id:n.idBoard},card:{id:n.id},list:{id:n.idList}}})}))),o(a.CARD_TEMPLATES,r.SETS,a.IS_TEMPLATE,"","to template","")},e.exports.convertToCard=function(e){i.stop(e);const t=s.startTask({taskName:"edit-card",subTask:"isTemplate",source:"cardDetailScreen"});this.model.update({isTemplate:!1,traceId:t},l({taskName:"edit-card",subTask:"isTemplate",traceId:t,source:"cardDetailScreen"},((e,n)=>{n&&s.sendUpdatedCardFieldEvent({field:"isTemplate",source:"cardDetailScreen",attributes:{taskId:t},containers:{board:{id:n.idBoard},card:{id:n.id},list:{id:n.idList}}})}))),o(a.CARD_TEMPLATES,r.SETS,a.IS_TEMPLATE,"","to card","")},e.exports.renderCardTemplate=function(){try{const e=this.$(".js-template-sidebar-button"),t=this.$(".js-sidebar-add-heading"),n=this.$(".js-archive-card .js-sidebar-action-text"),i=this.$(".js-unarchive-card .js-sidebar-action-text"),a=!!this.model.get("isTemplate");e.next(".toggle-button").remove(),a?(e.after(p({isOn:a,text:"template",title:"convert-this-template-back-to-a-card",icon:"template-card",selectorOn:"js-convert-to-card",selectorOff:"js-convert-to-template"})),t.text(c(["templates","card_detail","add-to-template"])),n.text(c(["templates","card_detail","hide-from-list"])),n.attr("title",c(["templates","card_detail","hide-from-list"])),i.text(c(["templates","card_detail","show-in-list"])),i.attr("title",c(["templates","card_detail","show-in-list"]))):(t.text(c(["templates","card_detail","add-to-card"])),n.text(c(["templates","card_detail","archive"])),n.attr("title",c(["templates","card_detail","archive"])),i.text(c(["templates","card_detail","send-to-board"])),i.attr("title",c(["templates","card_detail","send-to-board"]))),this.$(".js-convert-to-template").toggleClass("hide",a);const r=this.$(".js-card-header-icon");return r.toggleClass("icon-card",!a),r.toggleClass("icon-template-card",a),this.$(".js-convert-to-template").toggleClass("hide",a),this}catch(e){d(e,{tags:{ownershipArea:"trello-remarkable",feature:u.TemplateCard}})}},e.exports.isOnBoardTemplate=function(){return this.model.isOnBoardTemplate()}},"./app/scripts/views/card/card-detail-view-vote.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"showVotes",(function(){return k})),n.d(t,"renderVotes",(function(){return y})),n.d(t,"vote",(function(){return C})),n.d(t,"unvote",(function(){return j}));var i=n("./app/scripts/lib/util/index.js"),a=n.n(i),r=n("./app/scripts/views/lib/pop-over.js"),o=n.n(r),s=n("./app/scripts/views/member/members-voted-view.js"),l=n.n(s),c=n("./packages/analytics/index.ts"),d=n("./app/scripts/data/legacy-power-ups.js"),u=n.n(d),p=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),m=n("./app/scripts/views/templates/card_detail_toggle_button.js"),h=n.n(m),g=n("./app/scripts/db/auth.js"),b=n.n(g),f=n("./app/scripts/lib/localize-count.js"),v=n.n(f);const k=function(e){a.a.stop(e),o.a.toggle({elem:this.$(".js-show-votes"),view:l.a,options:{model:this.model,modelCache:this.modelCache}}),Object(c.track)("Card Detail","Header Vote Button",void 0,this.model.trackProperty()),Object(c.trackUe)(c.Noun.CARD_DETAIL,c.Verb.OPENS,c.Noun.POWER_UP,"","","card-detail-badge",u.a.voting),Object(p.sendPluginUIEvent)({idPlugin:u.a.voting,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{action:"clicked",actionSubject:"badge",actionSubjectId:"cardDetailBadge",source:"cardDetailScreen"}})},y=function(){var e,t;const n=this.$(".js-vote-sidebar-button"),i=!!this.model.get("isTemplate");n.next(".toggle-button").remove(),i||n.after(h()({isOn:this.model.voted(),disabled:!this.model.getBoard().canVote(b.a.me()),icon:"vote",text:"vote",selectorOn:"js-unvote",selectorOff:"js-vote"}));const a=!!this.model.getBoard().get("prefs").hideVotes,r=null!==(e=this.model.get("badges"))&&void 0!==e&&e.votes?null===(t=this.model.get("badges"))||void 0===t?void 0:t.votes:0;if(r){var s;const e=null===(s=this.model.get("badges"))||void 0===s?void 0:s.viewingMemberVoted;a||i?this.$(".js-card-detail-votes").addClass("hide"):(this.$(".js-card-detail-votes-badge").text(v()("votes",r)).toggleClass("is-voted",null!=e&&e),this.$(".js-card-detail-votes").toggleClass("hide",0===r))}else this.$(".js-card-detail-votes").addClass("hide"),o.a.view instanceof l.a&&o.a.hide();return this},C=function(e){return a.a.preventDefault(e),this.model.vote(!0),Object(c.track)("Card Detail","Sidebar","Vote",this.model.trackProperty()),Object(c.trackUe)(c.Noun.CARD_DETAIL,c.Verb.OPENS,c.Noun.PLUGIN,"","","card-button",u.a.voting),Object(p.sendPluginUIEvent)({idPlugin:u.a.voting,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"cardButton",source:"cardDetailScreen"}}),!1},j=function(e){return a.a.preventDefault(e),Object(c.track)("Card Detail","Sidebar","Unvote",this.model.trackProperty()),Object(c.trackUe)(c.Noun.CARD_DETAIL,c.Verb.OPENS,c.Noun.PLUGIN,"","","card-button",u.a.voting),Object(p.sendPluginUIEvent)({idPlugin:u.a.voting,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"cardButton",source:"cardDetailScreen"}}),this.model.vote(!1),!1}},"./app/scripts/views/card/card-detail-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/action/action-list-view.js"),{Analytics:r,tracingCallback:o}=n("./packages/atlassian-analytics/index.ts"),s=n("./app/scripts/views/lib/alerts.js"),l=n("./app/scripts/db/auth.js"),c=n("./app/scripts/views/internal/autocomplete/auto-insertion-view.js"),d=n("./app/scripts/views/card/card-detail-more-menu-view.js"),{showDetails:u,hideDetails:p,showAllActions:m,renderShowAllActionsButton:h,renderActionList:g,renderSuggestedActions:b}=n("./app/scripts/views/card/card-detail-view-actions.js"),f=n("./app/scripts/views/card/card-view-helpers.js"),v=n("./app/scripts/views/internal/autocomplete/completer-util.js"),k=n("./app/scripts/controller/index.js"),y=n("./app/scripts/lib/dates.js"),C=n("./app/scripts/views/description/description-view.js"),j=n("./app/scripts/views/lib/dialog.js");n("./app/scripts/views/internal/data-transfer/drag-drop-events.js");const w=n("./app/scripts/views/internal/editable-view.js"),{featureFlagClient:x,seesVersionedVariation:_}=n("./packages/feature-flag-client/index.ts"),{getKey:E,Key:S,registerShortcutHandler:O,Scope:T,unregisterShortcutHandler:D}=n("./packages/keybindings/index.ts"),N=n("./app/scripts/views/label/label-key-helper.js"),I=n("./app/scripts/view-models/member-state.js"),A=n("./app/scripts/db/model-cache.js"),P=n("./app/scripts/db/model-loader.js"),B=n("./app/scripts/lib/monitor.js"),L=n("./app/scripts/views/internal/paste-input.js"),F=n("./app/scripts/views/lib/pop-over.js"),M=n("./node_modules/bluebird/js/browser/bluebird.js"),{TrelloStorage:R}=n("./packages/storage/index.ts"),U=n("./app/scripts/views/lib/tooltip.js"),{undoAction:V,redoAction:z,repeatAction:H}=n("./app/scripts/lib/last-action/index.ts"),W=n("./app/scripts/lib/util/index.js"),K=n("./node_modules/underscore/underscore.js"),q=n("./node_modules/effing/lib/index.js"),$=n("./app/scripts/views/templates/card_detail.js"),G=n("./app/scripts/views/templates/card_detail_list.js"),Z=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),J=n("./app/scripts/lib/trello-clipboard.js"),{toggleSuggestionsSettings:Y}=n("./app/scripts/views/suggestions-settings/toggle-suggestions-settings.tsx"),{animateRender:X,animateRemove:Q}=n("./app/scripts/views/card/animate-card.ts"),{renderComponent:ee}=n("./app/src/components/ComponentWrapper/index.ts"),te=n("./node_modules/react/index.js"),{CardBackBanner:ne}=n("./app/src/components/CardBackBanner/index.ts"),ie=n("./packages/react-dom-wrapper/index.ts"),{currentModelManager:ae}=n("./app/scripts/controller/currentModelManager.ts"),{saveCardName:re,nameKeyDownEvent:oe,startNameEditing:se,saveNameEditing:le,cancelNameEditing:ce,stopNameEditing:de,renderName:ue,editTitle:pe}=n("./app/scripts/views/card/card-detail-view-name.js");let{isOnBoardTemplate:me}=n("./app/scripts/views/card/card-detail-view-template.js");const{convertToTemplate:he,convertToCard:ge,renderCardTemplate:be}=n("./app/scripts/views/card/card-detail-view-template.js"),{openCoverInViewer:fe,removeCover:ve,showCover:ke,checkShowCover:ye,clearCover:Ce,renderCover:je,cardCoverChooserSidebar:we,resizeFullCover:xe}=n("./app/scripts/views/card/card-detail-view-cover.js"),{renderSubscribe:_e,subscribeToCard:Ee,unsubscribeFromCard:Se}=n("./app/scripts/views/card/card-detail-view-subscribe.js"),{showVotes:Oe,renderVotes:Te,vote:De,unvote:Ne}=n("./app/scripts/views/card/card-detail-view-vote.ts"),{archiveCard:Ie,unarchiveCard:Ae,renderArchived:Pe,renderDelete:Be,deleteCardSidebar:Le}=n("./app/scripts/views/card/card-detail-view-archive.ts"),{openMoveMenu:Fe,openMoveFromHeader:Me,moveCard:Re,copyCard:Ue,renderCopyCard:Ve,openMoveFromBadge:ze}=n("./app/scripts/views/card/card-detail-view-copy-move.js"),{openLabelsPopOver:He,editLabelsMainSingleLabel:We,editLabelsMain:Ke,editLabelsSidebar:qe,renderLabels:$e,_openEditLabelsSidebar:Ge}=n("./app/scripts/views/card/card-detail-view-label.js"),{renderAddChecklists:Ze,renderDueDate:Je,sortChecklists:Ye,removeChecklist:Xe,renderChecklists:Qe,sortStop:et,onChecklistClick:tt,onChecklistShortcut:nt,addChecklistSidebar:it,showDueDateBadgeMenu:at,toggleDueDateComplete:rt,dueDateSidebar:ot,focusChecklistAdd:st,renderStartDate:lt,editStartDatePopOver:ct,renderDateRangePickerButton:dt,showDateRangePicker:ut}=n("./app/scripts/views/card/card-detail-view-checklist.ts"),{renderEditing:pt,openEditMembersPopOver:mt,editMembersMain:ht,changeMembersSidebar:gt,join:bt,renderMembers:ft}=n("./app/scripts/views/card/card-detail-view-members.js"),{incrementNumAttachmentsProcessing:vt,decrementNumAttachmentsProcessing:kt,incrementNumTrelloAttachmentsProcessing:yt,decrementNumTrelloAttachmentsProcessing:Ct,attachComment:jt,openAttachPicker:wt,openAttachTrelloPicker:xt,renderAddAttachments:_t,showFewerAttachments:Et,showMoreAttachments:St,showFewerTrelloAttachments:Ot,showMoreTrelloAttachments:Tt,renderAttachments:Dt,dragenter:Nt,dragleave:It,dropFiles:At,dropUrl:Pt,enableAttachmentSorting:Bt,getTrelloAttachments:Lt,sortStopAttachments:Ft}=n("./app/scripts/views/card/card-detail-view-attachment.js"),{_commentDraftKey:Mt,saveCommentDraft:Rt,keydownCommentEvent:Ut,_isCommentTooLong:Vt,renderCommentSubmitAbility:zt,renderCommentControls:Ht,renderCommentAndSubscribeBox:Wt,_cancelEditing:Kt,commentInputEvent:qt,clearComment:$t,submitComment:Gt,subscribeOnComment:Zt,truncateComment:Jt,inputComment:Yt,clickAwayFromComment:Xt,collapseComment:Qt,replyToAction:en,replyToAllAction:tn,replyToAttachment:nn,replyToComment:an}=n("./app/scripts/views/card/card-detail-view-comment.js"),{highlight:rn,interceptHighlightLink:on,scrollToHighlight:sn}=n("./app/scripts/views/card/card-detail-view-highlight.js"),{renderPluginButtons:ln,renderButlerCardButtons:cn,renderCustomFieldBadges:dn,renderPluginBadges:un,renderStickers:pn,renderAging:mn,dismissPluginSuggestionSection:hn,enableSuggestedPluginPrompt:gn,renderPluginSections:bn,editFieldsSidebar:fn,editLocationSidebar:vn,renderLocation:kn,cardAgingSidebar:yn}=n("./app/scripts/views/card/card-detail-view-plugins.js"),{markNotificationsReadOnActive:Cn,markRelatedNotificationsRead:jn}=n("./app/scripts/views/card/card-detail-view-notifications.js");class wn extends w{static initClass(){this.prototype.className="card-detail-window u-clearfix",this.prototype.defaultActionLimit=50,this.prototype.maxActionLimit=1e3,this.prototype.maximumCommentLength=16384,this.prototype.maxDescLength=1800,this.prototype.events={"click .js-edit-labels":"editLabelsSidebar","click .js-change-card-members":"changeMembersSidebar","click .js-add-checklist-menu":"onChecklistClick","click .js-add-due-date":"dueDateSidebar","click .js-add-start-date":"editStartDatePopOver","click .js-card-cover-chooser":"cardCoverChooserSidebar","click .js-attach":"openAttachPicker","click .js-attach-trello-attachment":"openAttachTrelloPicker","click .js-join":"join","click .js-suggested-actions-settings":Y("Card Detail"),"click .js-edit-fields":"editFieldsSidebar","click .js-edit-location":"editLocationSidebar","click .js-card-aging-card-button":"cardAgingSidebar","click .js-move-card":"moveCard","click .js-copy-card":"copyCard","click .js-subscribe":"subscribeToCard","click .js-unsubscribe":"unsubscribeFromCard","click .js-vote":"vote","click .js-unvote":"unvote","click .js-convert-to-template":"convertToTemplate","click .js-convert-to-card":"convertToCard","click .js-archive-card":"archiveCard","click .js-unarchive-card":"unarchiveCard","click .js-delete-card":"deleteCardSidebar","click .js-more-menu":"showMoreMenu","keydown  .js-card-detail-title-input":"nameKeyDownEvent","focus    .js-card-detail-title-input"(e){return this.$(e.target).hasClass("full-cover-card-detail-title")&&this.$(".js-card-cover-box").addClass("title-input-focused"),this.startNameEditing({focus:!1})},"blur     .js-card-detail-title-input"(e){return this.$(".js-card-cover-box").removeClass("title-input-focused"),this.saveNameEditing()},"click .js-remove-cover":"removeCover","click .js-open-card-cover-in-viewer":"openCoverInViewer","click .js-open-move-from-header":"openMoveFromHeader","click .js-card-detail-list-badge-button":"openMoveFromBadge","click .js-details-edit-members":"editMembersMain","click .js-details-edit-labels":"editLabelsMain","click .js-edit-label .card-label":"editLabelsMainSingleLabel","click .js-details-edit-due-date":"showDueDateBadgeMenu","click .js-details-edit-start-date":"editStartDatePopOver","click .js-details-toggle-due-date-complete":"toggleDueDateComplete","click .js-show-votes":"showVotes","click .js-member-on-card-menu":"openMemberOnCardMenu","click .js-view-some-attachments":"showFewerAttachments","click .js-view-all-attachments":"showMoreAttachments","click .js-view-some-trello-attachments":"showFewerTrelloAttachments","click .js-view-all-trello-attachments":"showMoreTrelloAttachments","click .js-show-all-actions":"showAllActions","keydown .js-new-comment-input":"keydownCommentEvent","input .js-new-comment-input":"commentInputEvent","mutated .js-new-comment-input":"commentInputEvent","click .js-add-comment:not(:disabled)":"submitComment","click .js-comment-subscribe":"subscribeOnComment","click .js-attach-comment":"attachComment","click .js-truncate-comment":"truncateComment","click .js-new-comment":"inputComment","focus .js-new-comment-input":"inputComment","keyup .js-new-comment-input":"keyAutoMention",click:"clickAwayFromComment","click .js-new-comment .js-comment-add-attachment":"commentAddAttachment","click .js-new-comment .js-comment-mention-member":"commentMentionMember","click .js-new-comment .js-comment-add-emoji":"commentAddEmoji","click .js-new-comment .js-comment-add-card":"commentAddCard","click .js-show-details":"showDetails","click .js-hide-details":"hideDetails","click a[href]":"interceptHighlightLink","dd-enter:files":"dragenter","dd-leave:files":"dragleave","dd-drop:files":"dropFiles","dd-enter:url":"dragenter","dd-leave:url":"dragleave","dd-drop:url":"dropUrl","pasteinput:files":"dropFiles","pasteinput:url":"dropUrl","sortstop .js-checklist-list":"sortStop","sortstop .js-attachment-list":"sortStopAttachments",replyToAction:"replyToAction",replyToAllAction:"replyToAllAction","mouseenter .js-comment-subscribe"(e){const t=this.$(e.currentTarget);return U.show(t.attr("aria-label"),t,!1,U.STYLE.MENU)},"mouseleave .js-comment-subscribe":e=>U.hide(),"click input":e=>{i(e.target).closest(".checklist-item-checkbox-nachos").length||W.stopPropagation(e)}},this.prototype.saveCommentDraft=Rt,this.prototype.keydownCommentEvent=Ut,this.prototype._isCommentTooLong=Vt,this.prototype.renderCommentSubmitAbility=zt,this.prototype.renderCommentControls=Ht,this.prototype.renderCommentAndSubscribeBox=Wt,this.prototype._cancelEditing=Kt,this.prototype.commentInputEvent=qt,this.prototype.clearComment=$t,this.prototype.submitComment=Gt,this.prototype.subscribeOnComment=Zt,this.prototype.replyToComment=an,this.prototype.truncateComment=Jt,this.prototype.attachComment=jt,this.prototype.inputComment=Yt,this.prototype.clickAwayFromComment=Xt,this.prototype.collapseComment=Qt,this.prototype.replyToAction=en,this.prototype.replyToAllAction=tn,this.prototype.replyToAttachment=nn,this.prototype._commentDraftKey=Mt,this.prototype.markNotificationsReadOnActive=Cn,this.prototype.markRelatedNotificationsRead=jn,this.prototype.incrementNumAttachmentsProcessing=vt,this.prototype.decrementNumAttachmentsProcessing=kt,this.prototype.incrementNumTrelloAttachmentsProcessing=yt,this.prototype.decrementNumTrelloAttachmentsProcessing=Ct,this.prototype.enableAttachmentSorting=Bt,this.prototype.getTrelloAttachments=Lt,this.prototype.scrollToHighlight=sn,this.prototype.highlight=rn,this.prototype.interceptHighlightLink=on,this.prototype.saveCardName=re,this.prototype.nameKeyDownEvent=oe,this.prototype.startNameEditing=se,this.prototype.saveNameEditing=le,this.prototype.cancelNameEditing=ce,this.prototype.stopNameEditing=de,this.prototype.renderName=ue,this.prototype.editTitle=pe,this.prototype.archiveCard=Ie,this.prototype.unarchiveCard=Ae,this.prototype.deleteCardSidebar=Le,this.prototype.renderArchived=Pe,this.prototype.renderDelete=Be,this.prototype.renderCopyCard=Ve,this.prototype.openMoveMenu=Fe,this.prototype.openMoveFromBadge=ze,this.prototype.openMoveFromHeader=Me,this.prototype.moveCard=Re,this.prototype.copyCard=Ue,this.prototype.renderLabels=$e,this.prototype.openLabelsPopOver=He,this.prototype.editLabelsMainSingleLabel=We,this.prototype.editLabelsMain=Ke,this.prototype.editLabelsSidebar=qe,this.prototype._openEditLabelsSidebar=Ge,this.prototype.showVotes=Oe,this.prototype.renderVotes=Te,this.prototype.vote=De,this.prototype.unvote=Ne,this.prototype.removeCover=ve,this.prototype.showCover=ke,this.prototype.checkShowCover=ye,this.prototype.clearCover=Ce,this.prototype.renderCover=je,this.prototype.cardCoverChooserSidebar=we,this.prototype.resizeFullCover=xe,this.prototype.renderAddChecklists=Ze,this.prototype.renderDueDate=Je,this.prototype.renderStartDate=lt,this.prototype.sortChecklists=Ye,this.prototype.removeChecklist=Xe,this.prototype.renderChecklists=Qe,this.prototype.sortStop=et,this.prototype.renderMembers=ft,this.prototype.renderEditing=pt,this.prototype.openEditMembersPopOver=mt,this.prototype.editMembersMain=ht,this.prototype.changeMembersSidebar=gt,this.prototype.join=bt,this.prototype.onChecklistClick=tt,this.prototype.onChecklistShortcut=nt,this.prototype.addChecklistSidebar=it,this.prototype.showDueDateBadgeMenu=at,this.prototype.toggleDueDateComplete=rt,this.prototype.dueDateSidebar=ot,this.prototype.editStartDatePopOver=ct,this.prototype.renderDateRangePickerButton=dt,this.prototype.showDateRangePicker=ut,this.prototype.focusChecklistAdd=st,this.prototype.renderAttachments=Dt,this.prototype.sortStopAttachments=Ft,this.prototype.renderAddAttachments=_t,this.prototype.showFewerAttachments=Et,this.prototype.showMoreAttachments=St,this.prototype.showFewerTrelloAttachments=Ot,this.prototype.showMoreTrelloAttachments=Tt,this.prototype.openCoverInViewer=fe,this.prototype.openAttachPicker=wt,this.prototype.openAttachTrelloPicker=xt,this.prototype.dragenter=Nt,this.prototype.dragleave=It,this.prototype.dropFiles=At,this.prototype.dropUrl=Pt,this.prototype.subscribeToCard=Ee,this.prototype.unsubscribeFromCard=Se,this.prototype.renderSubscribe=_e,this.prototype.showAllActions=m,this.prototype.renderShowAllActionsButton=h,this.prototype.renderActionList=g,this.prototype.renderSuggestedActions=b,this.prototype.showDetails=u,this.prototype.hideDetails=p,this.prototype.renderAging=mn,this.prototype.dismissPluginSuggestionSection=hn,this.prototype.enableSuggestedPluginPrompt=gn,this.prototype.renderPluginSections=bn,this.prototype.editFieldsSidebar=fn,this.prototype.editLocationSidebar=vn,this.prototype.renderLocation=kn,this.prototype.renderPluginButtons=ln,this.prototype.renderButlerCardButtons=cn,this.prototype.renderCustomFieldBadges=dn,this.prototype.renderPluginBadges=un,this.prototype.renderStickers=pn,this.prototype.cardAgingSidebar=yn,this.prototype.convertToTemplate=he,this.prototype.convertToCard=ge,this.prototype.renderCardTemplate=be,this.prototype.isOnBoardTemplate=me}constructor(e){var t,n,i;super(e),i=e=>{let t,n;const i=this.model.getBoard(),a=this.model.editable(),o=!!this.model.get("isTemplate"),s=l.isLoggedIn();me=this.isOnBoardTemplate();const c=E(e),d=(e,{shortcutKey:t=c,toggleValue:n}={})=>{r.sendPressedShortcutEvent({shortcutName:e,source:"cardDetailScreen",keyValue:t,containers:this.model.getAnalyticsContainers(),attributes:{toggleValue:void 0!==n?n.toLowerCase():void 0}})};switch(c){case S.Space:return void this.throttledJoin(e,i,d,a);case S.a:case S.m:return void(a&&!me&&(this.changeMembersSidebar(),e.preventDefault(),d("assignMembersShortcut")));case S.e:return void(a&&(this.descView.editDesc(),e.preventDefault(),d("editDescriptionShortcut")));case S.l:return void(a&&(this._openEditLabelsSidebar({hideOnSelect:!1}),e.preventDefault(),d("editLabelsShortcut")));case S.d:return void(a&&!o&&(_("ecosystem.timeline-version","stable")?this.showDateRangePicker():null!=this.model.get("due")?this.showDueDateBadgeMenu():this.dueDateSidebar(),e.preventDefault(),d("dueDatesShortcut")));case S.Dash:return void(a&&(this.onChecklistShortcut(),e.preventDefault(),d("addChecklistShortcut")));case S.c:return void this.throttledClose(e,d,a);case S.t:return void(a&&(this.editTitle(),e.preventDefault(),d("editTitleShortcut")));case S.AngleRight:case S.Period:return void this.throttledMoveToNextList(e,c,d,a);case S.AngleLeft:case S.Comma:return void this.throttledMoveToPrevList(e,c,d,a);case S.Zero:case S.One:case S.Two:case S.Three:case S.Four:case S.Five:case S.Six:case S.Seven:case S.Eight:case S.Nine:if(a){let t=!0;const n=e=>(t=!1,this._openEditLabelsSidebar({searchInit:e,hideOnSelect:!0}));N.setLabelFromKey(c,this.model,n),e.preventDefault();let i="showLabelsPopover";if(t){const e=N.colorForKey(c);i=this.model.hasLabel(e)?"add":"remove"}d("toggleLabelShortcut",{toggleValue:i})}return;case S.v:return void(!o&&i.canVote(l.me())&&(this.model.toggleVote(),e.preventDefault(),d("voteShortcut",{toggleValue:this.model.voted()?"vote":"unvote"})));case S.s:return void this.throttledSubscribe(e,d,s);case S.j:return void(this.isOpenedOutsideOfBoardOfOrigin()||null==(t=this.model.nextCard())||(k.showCardDetail(t,{isNavigating:!0}),e.preventDefault(),d("moveDownShortcut")));case S.k:return void(this.isOpenedOutsideOfBoardOfOrigin()||null==(n=this.model.prevCard())||(k.showCardDetail(n,{isNavigating:!0}),e.preventDefault(),d("moveUpShortcut")));case S.z:case S.Z:return void(a&&(e.preventDefault(),e.shiftKey?(z({source:"cardDetailScreen",idCard:this.model.id}),d("redoActionShortcut",{shortcutKey:"Shift+Z"})):(V({source:"cardDetailScreen",idCard:this.model.id}),d("undoActionShortcut"))));case S.r:return void(a&&(e.preventDefault(),this.waitForId(this.model,(()=>{H({source:"cardDetailScreen",idBoard:this.model.getBoard().id,idCard:this.model.id}),d("repeatActionShortcut")}))));default:return}},(n="onShortcut")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.onShortcut=this.onShortcut.bind(this),O(this.onShortcut,{scope:T.Dialog});const a=500;this.throttledJoin=this.throttle(this.onJoin,a),this.throttledClose=this.throttle(this.onClose,a),this.throttledMoveToNextList=this.throttle(this.onMoveToNextList,a),this.throttledMoveToPrevList=this.throttle(this.onMoveToPrevList,a),this.throttledSubscribe=this.throttle(this.onSubscribe,a)}addListListener(){if(this.isOpenedOutsideOfBoardOfOrigin())return;const e=this.model.previous("idList");if(e){this.stopListening(this.modelCache,"add:List:".concat(e));const t=this.modelCache.get("List",e);this.stopListening(t,"change:closed")}const t=()=>(this.renderListDebounced(),this.renderArchivedDebounced(),this.renderDeleteDebounced(),this.listenTo(this.model.getList(),{"change:closed":()=>(this.renderArchivedDebounced(),this.renderDeleteDebounced())}));this.model.getList()?t():this.listenToOnce(this.modelCache,"add:List:".concat(this.model.get("idList")),t)}isOpenedOutsideOfBoardOfOrigin(){const e=ae.getCurrentBoard();return null==e||e.id!==this.model.get("idBoard")}initialize(){super.initialize(...arguments),this.makeDebouncedMethods("render","renderAddAttachments","renderAddChecklists","renderCover","renderStickers","renderName","renderArchived","renderDelete","renderLabels","renderList","renderVotes","renderDueDate","renderStartDate","renderSubscribe","renderAttachments","renderMembers","renderAging","renderCustomFieldBadges","renderPluginSections","renderLocation","renderCardTemplate","renderDateRangePickerButton"),this.listenTo(this.model,{"change:name":this.renderNameDebounced,"change:closed":()=>(this.renderArchivedDebounced(),this.renderDeleteDebounced()),"change:isTemplate":()=>(this.renderArchivedDebounced(),this.renderDeleteDebounced(),this.renderCardTemplateDebounced(),this.renderDueDateDebounced(),this.renderStartDateDebounced(),this.renderDateRangePickerButtonDebounced(),this.renderVotesDebounced()),"change:labels":this.renderLabelsDebounced,"change:limits":()=>(this.renderAddAttachmentsDebounced(),this.renderAddChecklistsDebounced()),"change:idList":()=>(this.renderListDebounced(),this.addListListener()),"change:idMembersVoted":this.renderVotesDebounced,"change:start":()=>{this.renderStartDateDebounced(),this.renderDueDateDebounced(),this.renderDateRangePickerButtonDebounced()},"change:due change:dueComplete":()=>{this.renderStartDateDebounced(),this.renderDueDateDebounced(),this.renderDateRangePickerButtonDebounced()},"change:dueReminder":()=>{this.renderDateRangePickerButtonDebounced()},"change:subscribed":this.renderSubscribeDebounced,"change:dateLastActivity":()=>(this.renderAgingDebounced(),this.renderCoverDebounced(),this.renderPluginSectionsDebounced()),"change:idAttachmentCover change:cover"(){return this.renderCoverDebounced()},destroy:this.closeDialog,"change:badges.votes"(){return P.loadCardVoters(this.model.id).done()},"change:coordinates":this.renderLocationDebounced,"change:idBoard":this.closeDialog}),this.addListListener(),this.listenTo(this.model.customFieldItemList,"add remove reset change",(()=>this.renderCustomFieldBadgesDebounced())),this.listenTo(this.model.labelList,"add remove reset change",(()=>this.renderLabelsDebounced())),this.listenTo(this.model.memberList,{"add remove reset":this.renderMembersDebounced}),this.listenTo(this.model.memberList,{"change:initials change:avatarUrl change:avatarSource change:fullName change:username":this.renderMembersDebounced}),this.listenTo(this.model.memberVotedList,{"add remove reset":this.renderVotesDebounced}),this.listenTo(this.model.checklistList,{"add reset":this.renderChecklists,remove:this.removeChecklist,sort:this.sortChecklists}),this.listenTo(this.model.attachmentList,{"add remove reset sort":this.renderAttachmentsDebounced}),this.listenTo(this.model.stickerList,{"add remove reset change sort":this.renderStickersDebounced}),this.listenTo(this.model.memberEditingList,{"add remove reset change:action":this.renderEditing});const e=this.model.getBoard();if(this.listenTo(e,{"change:labelNames":this.renderLabelsDebounced,"change:labels":this.renderLabelsDebounced,"change:limits":this.renderAddChecklistsDebounced,"change:prefs"(e){const t=t=>xn(e.get("prefs"),(e=>e[t]))!==xn(e.previous("prefs"),(e=>e[t]));t("cardCovers")&&this.renderCoverDebounced();if((t("cardAging")||t("comments")||t("voting")||t("isTemplate"))&&0===this.$(".editing").length&&this.renderDebounced(),t("hideVotes"))return this.renderVotesDebounced()}}),this.listenTo(e.customFieldList,"add remove reset change",(()=>this.renderCustomFieldBadgesDebounced())),this.listenTo(e.boardPluginList,"add remove reset change",(()=>(this.renderCustomFieldBadgesDebounced(),this.renderAgingDebounced(),this.renderLocationDebounced()))),this.listenTo(e.memberList,{"add remove reset":this.renderMembersDebounced}),this.listenTo(I,"change:showSuggestions",(()=>this.renderSuggestedActions())),this.subscribe(Z(e,this.model),K.after(2,(()=>(this.renderCoverDebounced(),this.renderAttachmentsDebounced(),this.renderPluginSectionsDebounced(),this.renderLocationDebounced(),this.renderAgingDebounced())))),this.getData(),this.numAttachmentsProcessing=this.slot(0),this.watch("numAttachmentsProcessing",K.after(2,(()=>this.renderAttachmentsDebounced()))),this.numTrelloAttachmentsProcessing=this.slot(0),this.watch("numTrelloAttachmentsProcessing",K.after(2,(()=>this.renderAttachmentsDebounced()))),this.fHideFullDescription=xn(this.model.get("desc"),(e=>e.length))>this.maxDescLength,this.actionListView=this.collectionSubview(a,this.model.actionList,{renderOpts:{context:this.model,compact:!1,source:"cardDetailScreen"}}),this.markNotificationsReadOnActive(),this.listenTo(B,"setStatus visibilitychange",this.markNotificationsReadOnActive),this.listenTo(A,"add:Notification",(e=>{if(null!=e&&xn(xn(e.get("data"),(e=>e.card)),(e=>e.id))===this.model.id)return this.markNotificationsReadOnActive()})),i(window).on("beforeunload.CardDetailView-".concat(this.model.cid),q(this,"saveCommentDraft",!0)),this.pluginThumbTrackCache={},J.set(this.model.getFullUrl()),this.listenTo(l.me().boardList,"add remove reset change:closed",this.renderCopyCard),this.descView=this.subview(C,this.model,{maxDescLength:this.maxDescLength,card:this.model,board:this.model.getBoard(),placeholderKey:"add-a-more-detailed-description",source:"cardDetailScreen"}),L.addHandler(this,{scope:"dialog"}),x.get("dataeng.gasv3-core-event-tracking",!1)&&r.sendScreenEvent({name:"cardDetailScreen",containers:this.model.getAnalyticsContainers()}),x.get("animations",!1))return X(this)}remove(){this.rendered=!1,this.saveCommentDraft(!0),i(window).off(".CardDetailView-".concat(this.model.cid)),D(this.onShortcut),L.removeHandler(this),x.get("animations",!1)&&Q(this),this.removeBanner(),this.removeButlerCardButtons(),this.removeDateRangePicker(),super.remove(...arguments)}onClose(e,t,n){n&&(this.archiveCard(),e.preventDefault(),t("archiveCardShortcut"))}onMoveToNextList(e,t,n,i){i&&(this.model.moveToNextList(t===S.AngleRight?"top":"bottom"),e.preventDefault(),n("moveToNextListShortcut"))}onMoveToPrevList(e,t,n,i){i&&(this.model.moveToPrevList(t===S.AngleLeft?"top":"bottom"),e.preventDefault(),n("moveToPreviousListShortcut"))}onSubscribe(e,t,n){if(n&&!me){const n=r.startTask({taskName:"edit-card",subTask:"subscribed",source:"cardDetailScreen"}),i=this.model.get("subscribed");this.model.subscribeWithTracing(!i,n,o({taskName:"edit-card",subTask:"subscribed",source:"cardDetailScreen",traceId:n},((e,t)=>{t&&r.sendUpdatedCardFieldEvent({field:"subscribed",source:"cardDetailScreen",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:n}})}))),e.preventDefault(),t("subscribeShortcut",{toggleValue:i?"unsubscribe":"subscribe"})}}onJoin(e,t,n,i){if(i&&!me&&(t.hasActiveMembership(l.me())||t.isEditableByTeamMemberAndIsNotABoardMember())){t.isEditableByTeamMemberAndIsNotABoardMember()&&(s.show("woohoo-you-are-now-a-member-of-this-board","info","join-board",4e3),t.optimisticJoinBoard());const i="cardDetailScreen",a=r.startTask({taskName:"edit-card",subTask:"idMembers",source:i});this.model.toggleMemberWithTracing(l.myId(),{traceId:a},o({taskName:"edit-card",subTask:"idMembers",traceId:a,source:i},((e,t)=>{t&&r.sendUpdatedCardFieldEvent({field:"idMembers",source:i,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:a}})}))),e.preventDefault(),n("assignSelfShortcut",{shortcutKey:"Space",toggleValue:this.model.hasMember(l.myId())?"add":"remove"})}}getData(){this.loading=!0,this.$(".js-loading-card-actions").show(),this.waitForId(this.model,(()=>{const e=this.fShowAllActions?this.maxActionLimit:this.defaultActionLimit;return M.try((()=>!l.isLoggedIn()||l.me().getShowDetails()?P.loadCardDetails(this.model.id,e):P.loadCardHideDetails(this.model.id,e))).finally((()=>(this.loading=!1,this.$(".js-loading-card-actions").hide()))).then((()=>(this.renderShowAllActionsButton(),this.scrollToHighlight()))).done()}))}render(){this.rendered=!0,this.fShowAllAttachments=!1,this.fShowAllTrelloAttachments=!1,this.fShowAllActions=!1;const e=this.model.getBoard(),t=K.extend(this.model.toJSON(),{canComment:e.canComment(l.me())&&!this.isOnBoardTemplate(),isLoggedIn:l.isLoggedIn(),canToggleDetails:l.isLoggedIn(),hasAttachments:this.model.attachmentList.length>0,me:l.me().toJSON(),loading:this.loading,editable:this.model.editable(),subscribeOnComment:l.me().isSubscribeOnCommentEnabled(),isOnBoardTemplate:this.isOnBoardTemplate(),isSubscribed:this.model.get("subscribed")||xn(this.model.get("badges"),(e=>e.subscribed)),hideVotes:!!xn(e.get("prefs"),(e=>e.hideVotes)),viewingMemberVoted:xn(this.model.get("badges"),(e=>e.viewingMemberVoted)),cardCoverChooserEnabled:e.getPref("cardCovers"),cardCoverIsAttachment:this.model.hasAttachmentCover(),isTemplate:!!this.model.get("isTemplate"),isMapCore:e.isMapCore(),fullCoverCardBackEnabled:this.isFullCoverCardBackEnabled()});return this.$el.html($(t)),this.actionListView.setElement(this.$(".js-list-actions")[0]),this.commentInput=this.$(".js-new-comment-input")[0],this.renderCover().renderStickers().renderName().renderList().renderActionList().renderShowAllActionsButton().renderMembers().renderSuggestedActions().renderArchived().renderDelete().renderChecklists().renderCardTemplate().renderSubscribe().renderVotes().renderDueDate().renderStartDate().renderAttachments().renderLocation().renderPluginSections().renderAddAttachments().renderAddChecklists().renderLabels().renderAging().renderEditing().renderCustomFieldBadges().renderPluginBadges().renderPluginButtons().renderButlerCardButtons().renderDateRangePickerButton().renderBanner().renderCopyCard(),this.appendSubview(this.descView,this.$(".js-fill-card-detail-desc")),t.canComment&&this.recallDrafts(),K.defer((()=>(this.$(".js-card-detail-title-input").autosize({append:!1}),this.$(".js-new-comment-input").autosize({append:!1}),this.renderCommentControls()))),y.update(this.el),this}getCard(){return this.model}getTextInput(){return this.$(".js-new-comment-input")}getMentionTarget(){return this.$(".js-comment-mention-member:visible")[0]}getEmojiTarget(){return this.$(".js-comment-add-emoji:visible")[0]}closeDialog(){return x.get("nusku.force-close-card-detail",!1)?j.hide(!1,!0):j.hide()}showMoreMenu(e){W.stop(e),F.toggle({elem:this.$(".js-more-menu"),view:d,options:{model:this.model,modelCache:this.modelCache}})}renderList(){let e,t;const n=this.model.getList(),i=this.model.getBoard();if(this.$(".js-current-list").html(G({listName:null!=(e=null!=n?n.get("name"):void 0)?e:"â¦",showBoardName:this.isOpenedOutsideOfBoardOfOrigin(),boardName:null!=(t=null!=i?i.get("name"):void 0)?t:"â¦",boardUrl:null!=i?i.get("shortUrl"):void 0,editable:this.model.editable()})),this.isFullCoverCardBackEnabled()){let e;this.$(".js-list-text").text(null!=(e=null!=n?n.get("name"):void 0)?e:"â¦")}return this}expandDesc(){return this.descView.expandDesc()}renderBanner(){return ee(te.createElement(ne,{idCard:this.model.id,editable:this.model.editable()}),this.$(".js-card-banner")[0]),this}removeBanner(){return ie.unmountComponentAtNode(this.$(".js-card-banner")[0])}removeButlerCardButtons(){const e=this.$(".js-butler-card-buttons")[0];e&&ie.unmountComponentAtNode(e)}removeDateRangePicker(){const e=this.$(".js-date-range-picker")[0];e&&ie.unmountComponentAtNode(e)}keydownEvent(e){return super.keydownEvent(...arguments),l.me().editing({idBoard:this.model.getBoard().id,idCard:this.model.id,action:"editing"})}clearEdits(){return this._cancelEditing(),super.clearEdits(...arguments)}commitEdits(){return this._cancelEditing(),this.$(".card-detail-description .editing").removeClass("editing"),super.commitEdits(...arguments)}stopEditing(){return this._cancelEditing(),super.stopEditing(...arguments)}recallDrafts(){const e=R.get(this._commentDraftKey());return e&&this.$(".js-new-comment-input").val(e),this.renderCommentSubmitAbility(),super.recallDrafts(...arguments)}isFullCoverCardBackEnabled(){return null==this.fullCoverCardBackEnabled&&(this.fullCoverCardBackEnabled=x.get("remarkable.full-cover-cardback",!1)),this.fullCoverCardBackEnabled}}function xn(e,t){return null!=e?t(e):void 0}wn.initClass(),K.extend(wn.prototype,c,v,f),e.exports=wn},"./app/scripts/views/card/card-limits-error.js":function(e,t,n){const i=n("./app/scripts/views/lib/limit-error-popover.js"),a="cardLimit";e.exports={canAddCard:function(e){const{destinationBoard:t,destinationList:n}=e;return!((null!=t?t.isOverLimit("cards","openPerBoard"):void 0)||(null!=t?t.isOverLimit("cards","totalPerBoard"):void 0)||(null!=n?n.isOverLimit("cards","openPerList"):void 0)||(null!=n?n.isOverLimit("cards","totalPerList"):void 0)||(null!=t?t.isOverLimit("attachments","perBoard"):void 0)||(null!=t?t.isOverLimit("checklists","perBoard"):void 0))},maybeDisplayLimitsErrorOnCardAdd:function(e){const{$elem:t,hasChecklists:n,hasAttachments:r,destinationBoard:o,destinationList:s}=e,l=(null!=o?o.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=o?o.isOverLimit("cards","totalPerBoard"):void 0)?"card exceeds total per board limit":(null!=s?s.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":(null!=s?s.isOverLimit("cards","totalPerList"):void 0)?"card exceeds total per list limit":r&&(null!=o?o.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":n&&(null!=o?o.isOverLimit("checklists","perBoard"):void 0)?"card exceeds checklists per board limit":void 0;return null!=l&&(i({elem:t,message:l,trackingArea:a,params:{boardName:o?o.get("name"):void 0,boardId:o?o.get("id"):void 0,listName:s?s.get("name"):void 0}}),!0)},maybeDisplayLimitsErrorOnCardOpen:function(e){const{$elem:t,hasAttachments:n,destinationBoard:r,destinationList:o}=e,s=(null!=r?r.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=o?o.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":n&&(null!=r?r.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":void 0;return null!=s&&(i({trackingArea:a,elem:t,message:s,params:{boardName:null!=r?r.get("name"):void 0,boardId:null!=r?r.get("id"):void 0,listName:null!=o?o.get("name"):void 0}}),!0)}}},"./app/scripts/views/card/card-member-select-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{ActionHistory:a}=n("./packages/action-history/index.ts"),r=n("./app/scripts/views/lib/alerts.js");let o=n("./app/scripts/db/auth.js");const s=n("./packages/react-dom-wrapper/index.ts"),l=n("./node_modules/react/index.js"),c=n("./app/scripts/network/api-error.js");o=n("./app/scripts/db/auth.js");const d=n("./app/scripts/models/card.js"),u=n("./app/scripts/lib/util/url/contains-valid-url.js"),p=n("./app/scripts/views/templates/invite_add_name.js"),{getKey:m,Key:h}=n("./packages/keybindings/index.ts"),g=n("./app/scripts/lib/localize.js"),b=n("./app/scripts/lib/localize-server-error.js"),{maybeDisplayMemberLimitsError:f}=n("./app/scripts/views/board-menu/member-limits-error.js"),v=n("./app/scripts/db/model-cache.js"),k=n("./app/scripts/db/model-loader.js"),y=n("./app/scripts/views/lib/pop-over.js"),C=n("./node_modules/bluebird/js/browser/bluebird.js"),j=n("./app/scripts/views/member/select-member-on-card-view.js"),w=n("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js"),x=n("./app/scripts/lib/util/index.js"),_=n("./app/scripts/views/internal/view.js"),E=n("./node_modules/underscore/underscore.js"),S=n("./app/scripts/views/templates/popover_select_members.js"),{Analytics:O,tracingCallback:T}=n("./packages/atlassian-analytics/index.ts"),{track:D,trackUe:N,trackDebounced:I}=n("./packages/analytics/index.ts"),A=n("./app/scripts/lib/util/text/search-filter.js"),P=n("./packages/browser/index.ts").isDesktop();class B extends _{static initClass(){this.prototype.viewTitleKey="members",this.prototype.events={"click .js-board-members .js-select-member":"selectMem","click .js-org-members .js-select-member":"selectMem","click .js-suggestions .js-select-member":"addSuggestedMember","click .js-show-org-members":"showOrgMembers","mouseenter .pop-over-member-list .item":"hoverMemberSelect","input .js-search-mem"(e){return this.updateSearch(),this.renderSuggested()},keydown:"keydownEvent","click .js-send-email-invite":"sendEmailInvite","submit .js-email-data":"sendEmailInvite"}}constructor(e){super(e),this.wouldBecomeBillableGuest=this.wouldBecomeBillableGuest.bind(this)}initialize(){return this.showAllOrgMembers=!1,this.wouldBecomeBillableGuestPromise=null,this.updateSearch=E.debounce(this.updateSearch,100),this.makeDebouncedMethods("renderMems","renderSuggested"),null!=this.model.memberList&&this.listenTo(this.model.memberList,"add remove reset",(()=>(this.updateOrdering(),this.renderMemsDebounced(),this.renderSuggestedDebounced()))),this.updateOrdering()}remove(){return this.reactRoot&&s.unmountComponentAtNode(this.reactRoot),super.remove(...arguments)}updateOrdering(){this._onCardMembers={},this._onListMembers={},this._onBoardMembers={};const e=(e,t)=>t.memberList.forEach((t=>e[t.id]=!0));return this.model instanceof d&&e(this._onCardMembers,this.model),this.model.getList().cardList.forEach(e.bind(null,this._onListMembers)),this.model.getBoard().listList.forEach((t=>t.cardList.forEach(e.bind(null,this._onBoardMembers))))}render(){const e=this.model.getBoard();return this.$el.html(S({canInviteMembers:!e.hasInvitationRestrictions()&&e.canInviteMembers(),includeOrgMembers:null!=e.getOrganization()&&e.canInviteMembers()||this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember(),placeholder:g("add member placeholder")})),this.renderMems(),this.renderSuggested()}getSearch(){return this.$(".js-search-mem").val().trim()}filteredMembers(e,t){const n=A(t);return E.chain(e).filter((e=>n(x.getMemNameArray(e)))).first(8).value()}filteredBoardMembers(e){const t=this.activeBoardMembers().sortBy((e=>(o.isMe(e)?0:this._onCardMembers[e.id]?1:this._onListMembers[e.id]?2:this._onBoardMembers[e.id]?3:4)+e.get("fullName")));return e?this.filteredMembers(t,e):t}filteredOrgMembers(e){if(this.showOrgSection()){const t=this.model.getBoard().getOrganization();return(null!=t?t.paysWithPurchaseOrder():void 0)&&(null!=t?t.isBusinessClass()||t.isStandard():void 0)?null==this.orgMembersPromise&&(this.orgMembersPromise=k.loadOrganizationMembersDataWithAvailableLicenseCount(t.id)):null==this.orgMembersPromise&&(this.orgMembersPromise=k.loadOrganizationMembersData(t.id)),this.orgMembersPromise.then((n=>{const i=t.memberList.filterDeactivated({force:!0}).without(...Array.from(this.model.getBoard().memberList.models||[]));return e?this.filteredMembers(i,e):i}))}return[]}hasSearch(){return""!==this.getSearch()}showOrgSection(){return null!=this.model.getBoard().getOrganization()&&(this.showAllOrgMembers||this.hasSearch())}renderMems(){const e=this.getSearch(),t={".js-board-members":this.filteredBoardMembers(e),".js-org-members":this.filteredOrgMembers(e)},n=this.showOrgSection();return this.$(".js-show-org-members").toggleClass("hide",n),this.$(".js-invite-results").toggleClass("hide",!x.checkEmail(e)),null!=this._renderMemsPromise&&this._renderMemsPromise.cancel(),this._renderMemsPromise=C.each(E.keys(t),(e=>{const i=this.$(e);if(0===i.length)return;const a=i.find(".js-loading"),r=i.find(".js-no-results");return a.removeClass("hide"),r.addClass("hide"),C.resolve(t[e]).then((e=>{a.addClass("hide");const t=i.find(".js-mem-list");t.toggleClass("collapsed",e.length>9),r.toggleClass("hide",e.length>0),e.length>0&&(this.$(".js-board-members").removeClass("hide"),this.$(".js-invite-no-results").addClass("hide"),this.$(".js-org-members").toggleClass("hide",!n));const o=Array.from(e).map((e=>this.subview(j,e,{showUnconfirmed:!0,card:this.model})));return this.ensureSubviews(o,t)}))})).cancellable().then((()=>{if(this.hasSearch()){const t=this.$el.find(".item").first();return t.length>0?x.selectMenuItem(this.$el,".item",t):this.renderEmailInviteToSearchResults({email:e})}})).done(),this}activeBoardMembers(){return this.model.getBoard().memberList.filterDeactivated({force:!0})}renderSuggested(){const e=this.$(".js-suggestions"),t=this.getSuggestedMembers(),n=!this.hasSearch()&&t.length>0&&this.activeBoardMembers().length>9;e.toggleClass("hide",!n);const i=e.find(".js-mem-list");if(n){const e=t.map((e=>this.subview(j,e,{card:this.model},"join-suggestion-".concat(e.id))));this.ensureSubviews(e,i),I.hour("Suggestions","Card Members Menu","Displayed",t.length)}else i.empty();return this}getSuggestedMembers(){const e=a.get(),t=this.model.get("idList"),n=new Set,i={action:{type:"join",idMember:o.myId()}},r=e.filter((({action:e,context:n})=>"add-member"===e.type&&n.idList===t)).filter((function({action:e}){return!n.has(e.idMember)&&(n.add(e.idMember),!0)}));return[i,...Array.from(r)].filter((({action:e})=>this.model.isValidSuggestion(e))).map((({action:e})=>this.modelCache.get("Member",e.idMember))).slice(0,5).sort((function(e,t){if(o.isMe(e))return-1;if(o.isMe(t))return 1;{const n=e.get("fullName").toLowerCase(),i=t.get("fullName").toLowerCase();return n.localeCompare(i)}}))}hoverMemberSelect(e){return x.selectMenuItem(this.$el,".item",e.currentTarget)}keydownEvent(e){const t=m(e);[h.Tab,h.Enter].includes(t)?(x.stop(e),this.$(".js-mem-list .item.selected:first .js-select-member").first().click(),this.$(".js-search-mem").val(""),this.focusSearch(),this.renderMems()):[h.ArrowUp,h.ArrowDown].includes(t)&&(x.stop(e),x.navMenuList(this.$el,".item",t))}updateSearch(e){return this.$(".js-invite-error").addClass("hide"),this.renderMems(),this.focusSearch()}selectMem(e){x.stop(e);const{model:t}=this,n=i(e.currentTarget),a=n.closest(".item"),s=n.attr("idMember"),l="cardMemberSelectInlineDialog";if(!a.hasClass("active")){const e=this.model.getBoard(),n=v.get("Member",s);e.hasActiveMembership(n)||o.isMe(n)&&t.getBoard().isEditableByTeamMemberAndIsNotABoardMember()&&(r.show("woohoo-you-are-now-a-member-of-this-board","info","join-board",4e3),e.optimisticJoinBoard());const i="Card"===t.typeName?O.startTask({taskName:"edit-card",subTask:"idMembers",source:l}):"";t.addMemberWithTracing(s,i,T({taskName:"edit-card",subTask:"idMembers",traceId:i,source:l},((e,n)=>{n&&O.sendUpdatedCardFieldEvent({field:"idMembers",source:l,containers:{card:{id:t.id},board:{id:t.get("idBoard")},list:{id:t.get("idList")}},attributes:{taskId:i}})}))),a.addClass("active"),D("Card","Change Member","Add Member");const c=this.model.getBoard().memberList.models,d=o.me().id;return c.forEach((function(e){if(e.get("id")===s&&e.get("idMemberReferrer")===d)return N("card","adds","invitee","to card","","",{member:d,addedMember:s})}))}{const e="Card"===t.typeName?O.startTask({taskName:"edit-card",subTask:"idMembers",source:l}):"";t.removeMemberWithTracing(s,e,T({taskName:"edit-card",subTask:"idMembers",traceId:e,source:l},((n,i)=>{i&&O.sendUpdatedCardFieldEvent({field:"idMembers",source:l,containers:{card:{id:t.id},board:{id:t.get("idBoard")},list:{id:t.get("idList")}},attributes:{taskId:e}})}))),a.removeClass("active"),D("Card","Change Member","Remove Member")}this.focusSearch()}addSuggestedMember(e){x.stop(e);const t=this.$(e.currentTarget).attr("idMember"),n="cardMemberSelectInlineDialog",i=O.startTask({taskName:"edit-card",subTask:"idMembers",source:n});this.model.addMemberWithTracing(t,i,T({taskName:"edit-card",subTask:"idMembers",traceId:i,source:n},((e,t)=>{t&&O.sendUpdatedCardFieldEvent({field:"idMembers",source:n,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:i}})}))),D("Card","Suggested",o.isMe(t)?"Join":"Add Member"),this.focusSearch()}focusSearch(){this.$(".js-search-mem").focus()}showOrgMembers(e){this.showAllOrgMembers=!0,this.renderMems()}wouldBecomeBillableGuest(e){const t=n("./app/scripts/network/api-promise.js"),i=this.model.getBoard();if(!i.hasOrganization())return C.resolve(!1);const a=i.getOrganization();return a&&!a.isFeatureEnabled("multiBoardGuests")?C.resolve(!1):t({url:"/1/search/members/",type:"get",data:{idBoard:null!=i?i.id:void 0,query:e},dataType:"json"}).then((e=>1===e.length&&e[0].wouldBecomeBillableGuest))}renderEmailInviteToSearchResults(e){this.$(".js-invite-no-results").removeClass("hide");const t=E.compact(x.removeDomainFromEmailAddress(e.email).split(/[\s\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/)).join(" ").replace(/[\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/,""),n=this.model.getBoard(),i=null!=n?n.getOrganization():void 0;E.extend(e,{fullName:x.toTitleCase(t),canAddAsObserver:null!=i?i.isFeatureEnabled("observers"):void 0,modelType:"Board",isLoading:!0,isOrgAdmin:null!=i?i.owned():void 0,isDesktop:P});const a=x.checkEmail(e.email),r=!(null!=n?n.hasInvitationRestrictions():void 0)&&a&&(null!=n?n.canInviteMembers():void 0);if(this.$(".js-board-members").addClass("hide"),this.$(".js-org-members").addClass("hide"),r)return this.$(".js-invite-no-results").addClass("hide"),this.$(".js-invite-results").html(p(e)).removeClass("hide"),null!=this.wouldBecomeBillableGuestPromise&&this.wouldBecomeBillableGuestPromise.cancel(),this.wouldBecomeBillableGuestPromise=this.wouldBecomeBillableGuest(e.email).cancellable().then((t=>{if(E.extend(e,{isLoading:!1,wouldBecomeBillableGuest:t,availableLicenseCount:null!=i?i.getAvailableLicenseCount():1/0}),this.$(".js-invite-results").html(p(e)),t){const e=l.createElement(w,{displayOrg:i,isDesktop:P});if(this.reactRoot=this.$(".js-billable-guests-alert")[0])return s.render(e,this.reactRoot)}})).catch(c,(t=>{const n=b(t);return E.extend(e,{isLoading:!1,error:n}),this.$(".js-invite-results").html(p(e))})).catch(C.CancellationError)}_getNewMemberId(e,t,i,a){const r=n("./app/scripts/network/api-promise.js"),o=E.first(E.difference(e,t));if(null!=o)return D("Invitations","Send Email Board Invite to New Member","Role: ".concat(i)),C.resolve(o);return r({url:"/1/search/members/",type:"get",data:E.extend({query:a},this.model.getBoard().getInviteURLParams()),dataType:"json"}).then((e=>{if(e.length>0)return e[0].id}))}sendEmailInvite(e){const t=n("./app/scripts/network/api-promise.js");x.stop(e);const a=this.$(".js-send-email-invite");if(null!=a.attr("disabled"))return;const r=this.$(".js-email-data .js-full-name"),o=r.val().trim(),s=this.$(".js-email-data .js-email").val().trim();if(!x.validName(o))return x.setCaretAtEnd(r),void i(".js-name-error").show();if(u(o))return x.setCaretAtEnd(r),void i(".js-name-error-url").show();const l={fullName:o,email:s,type:"normal",allowBillableGuest:!0};this.$("#addAsObserver").is(":checked")&&(l.type="observer");const d=this.model.getBoard();if(f(i(e.target),d))return;a.attr("disabled","disabled");const p=E.pluck(d.memberList.models,"id");t({url:"/1/board/".concat(d.id,"/members"),type:"put",data:l}).then((({members:e})=>{const t=E.pluck(e,"id");return this._getNewMemberId(t,p,l.type,s)})).then((e=>{if(null!=e){const t="cardMemberSelectInlineDialog",n=O.startTask({taskName:"edit-card",subTask:"idMembers",source:t});return this.model.addMemberWithTracing(e,n,T({taskName:"edit-card",subTask:"idMembers",traceId:n,source:t},((e,i)=>{if(i)return O.sendUpdatedCardFieldEvent({field:"idMembers",source:t,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:n}}),this.$(".js-send-email-invite").removeAttr("disabled"),y.hide()}))),D("Card","Change Member","Add Member")}})).catch(c,(e=>{const t=b(e);this.$(".js-invite-error").removeClass("hide").find(".error").html(t),this.$(".js-uninvited-search-results").empty().hide(),a.removeAttr("disabled"),i("js-search-mem").focus().select(),D("Invitations","Error",null!=e.message?e.message:e.responseText)}))}}B.initClass(),e.exports=B},"./app/scripts/views/card/card-move-view.js":function(e,t,n){const i=n("./node_modules/react/index.js"),a=n("./node_modules/underscore/underscore.js"),{ActionHistory:r}=n("./packages/action-history/index.ts"),o=n("./app/scripts/views/lib/alerts.js"),s=n("./app/scripts/network/api-ajax.js"),l=n("./app/scripts/db/auth.js"),c=n("./app/scripts/views/lib/dialog.js"),d=n("./app/scripts/lib/localize.js"),u=n("./app/scripts/views/lib/pop-over.js"),{maybeDisplayLimitsErrorOnCardAdd:p}=n("./app/scripts/views/card/card-limits-error.js"),m=n("./app/scripts/views/label/label-limits-error-view.js"),h=n("./app/scripts/views/card/select-card-position.js"),g=n("./app/scripts/views/internal/view.js"),b=n("./app/scripts/views/internal/templates.js"),{track:f,trackDebounced:v}=n("./packages/analytics/index.ts"),{featureFlagClient:k}=n("./packages/feature-flag-client/index.ts"),{renderComponent:y}=n("./app/src/components/ComponentWrapper/index.ts"),{MoveCardPopover:C}=n("./app/src/components/MoveCardPopover/index.ts");class j extends g{static initClass(){this.prototype.viewTitleKey="move card",this.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData","click .js-submit":"commitChange","click .js-suggested-move":"suggestedMove"}}initialize({onCommit:e}){return this.onCommit=null!=e?e:function(){},this.listenTo(l.me().boardList,"add remove reset",this.render)}render(){const e={};let t=this.model.getBoard();const r=this.model.getBoard().getEnterprise();var o,s;t.isGuest(l.me())&&t.get("enterpriseOwned")?(e.isMove=!0,e.hasEnterprise=!0,e.enterpriseName=null!=r?r.get("displayName"):void 0,e.restrictToCurrentBoard=!0,e.organizations=[{displayName:(o=t.getOrganization(),s=e=>e.get("displayName"),(null!=o?s(o):void 0)||d("member boards.boards")),boards:[a.extend(t.toJSON(),{selected:!0})]}]):null!=r?(e.isMove=!0,e.hasEnterprise=!0,t=null==this.model.getBoard().getMembershipFor(l.me())?t:null,e.organizations=l.me().getOpenBoardsInEnterpriseByOrg(!0,r.get("id"),t),e.enterpriseName=r.get("displayName")):(t=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?t:null,e.organizations=l.me().getOpenBoardsByOrg(!0,t));for(const n of Array.from(e.organizations))for(const e of Array.from(n.boards))e.id===this.model.get("idBoard")&&(e.selected=!0,t=e);e.suggestions=this.getSuggestedMoves();let c={move_card_controls:b.move_card_controls};return k.get("fep.nachos_select",!1)?y(i.createElement(C,{organizations:e.organizations,defaultBoardId:t.id,defaultBoardName:t.name,defaultListId:this.model.getList().id,defaultListName:this.model.getList().get("name"),cardList:this.model.getList().cardList,currentIndex:this.model.getList().openCards().indexOf(this.model),onSubmit:this.requestChange.bind(this),hasEnterprise:e.hasEnterprise,enterpriseName:e.enterpriseName,restrictToCurrentBoard:e.restrictToCurrentBoard,isMove:e.isMove,suggestions:this.getSuggestedMoves()}),this.$el.get(0)):(c={move_card_controls:b.move_card_controls},this.$el.html(b.fill(n("./app/scripts/views/templates/popover_move_card.js"),e,{},c))),this.updateBoardData(),e.suggestions.length>0&&v.hour("Suggestions","Card Move Menu","Displayed",e.suggestions.length),this}getSuggestedMoves(){const e=r.get(),t=this.model.getBoard(),n=this.model.getList(),i=this.model.get("idList"),a=this.model.get("idBoard"),o=new Set;return e.filter((({action:e,context:t})=>"move"===e.type&&t.idList===i&&e.idBoard===a)).sort((function(e,t){if(e.action.idList===t.action.idList){const n="string"==typeof e.action.position,i="string"==typeof t.action.position;return n&&!i?-1:i&&!n?1:0}return 0})).filter((function({action:e}){return!o.has(e.idList)&&(o.add(e.idList),!0)})).filter((({action:e})=>this.model.isValidSuggestion(e))).slice(0,5).map((function({action:e}){const i=t.listList.get(e.idList),a=i.toJSON();return a.direction=i.get("pos")>n.get("pos")?"right":"left",a.position=e.position,a}))}suggestedMove(e){const t=this.$(e.currentTarget),n=t.attr("data-id"),i=this.model.getBoard().listList.get(n),a=(()=>{switch(t.attr("data-position")){case"top":return 0;case"1":return 1;default:return i.cardList.length}})();p({$elem:t,destinationList:i})||(this.model.moveToList(i,a),f("Card","Suggested","Move on Same Board"),this.onCommit(),u.hide())}commitChange(e){const t=this.$(".js-select-board"),n=this.$(".js-select-list"),i=this.$(".js-select-position"),a=t.find("option:selected").val(),r=n.find("option:selected").val(),o=i.find("option:selected").val(),s=parseInt(i.find("option:selected").prop("index"),10);return this.requestChange(e,a,r,o,s)}requestChange(e,t,n,i,a){let r,l;if(t===this.model.getBoard().id){if(r=this.model.getBoard().listList.get(n),l={$elem:this.$(e.target),destinationList:r},p(l))return;this.model.moveToList(r,a),f("Card","Move Menu","Same Board")}else if(null!=t&&null!=n&&null!=i){const d=this.modelCache.get("Board",t);if(r=null!=d?d.listList.get(n):void 0,l={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:d,destinationList:r},p(l))return;if(this.model.getLabels().length>0&&d.isOverLimit("labels","perBoard"))return void u.pushView(new m);f("Card","Move Menu","Changed Board");const h=null!=r?r.openCards().length:void 0;this.model.recordAction({type:"move",idBoard:t,idList:n,position:(()=>{switch(i){case"top":return h>0?"top":a;case"bottom":return h>1?"bottom":a;default:return a}})(),fromPosition:this.model.getList().openCards().indexOf(this.model)}),this.model.getList().cardList.remove(this.model),c.hide(),s({url:"/1/cards/".concat(this.model.id),type:"put",data:{idList:n,idBoard:t,pos:i},success:e=>(this.model.board=null,this.model.set("idBoard",e.idBoard),this.model.set("idList",e.idList),this.model.set("pos",e.pos)),error:e=>{this.model.getList().cardList.add(this.model);const t=null!=e.responseJSON?e.responseJSON.error:void 0;return"BOARD_TOO_MANY_CUSTOM_FIELDS"===t?o.show("too many custom fields card","error","moveerror",8e3):"CUSTOM_FIELD_TOO_MANY_OPTIONS"===t?o.show("too many custom options card","error","moveerror",8e3):o.show("could not move card","error","moveerror",5e3)}})}this.onCommit(),u.hide()}}j.initClass(),a.extend(j.prototype,h),e.exports=j},"./app/scripts/views/card/card-view-helpers.js":function(e,t,n){const i=n("./app/scripts/views/member-menu-profile/card-member-menu-view.js"),a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/lib/util/index.js"),o=n("./app/scripts/views/templates/member_on_card.js"),s={openMemberOnCardMenu(e){r.stop(e);const t=this.$(e.target).closest(".member"),n=t.attr("data-idmem"),o=this.modelCache.get("Member",n),s=this.model,l=this.model.getBoard();a.toggle({elem:t,view:i,options:{model:o,modelCache:this.modelCache,card:s,board:l}})},getMemberOnCardHtml(e){const t=e.toJSON(),n=this.model.getBoard();var i,a;return t.isVirtual=(i=n.getOrganization(),a=t=>t.isVirtual(e),(null!=i?a(i):void 0)||n.isVirtual(e)),t.isDeactivated=n.isDeactivated(e),o(t)}};e.exports=s},"./app/scripts/views/card/date-picker-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{importWithRetry:o}=n("./packages/use-lazy-component/index.ts"),{Analytics:s}=n("./packages/atlassian-analytics/index.ts"),l=n("./app/scripts/db/auth.js"),c=n("./app/scripts/views/lib/alerts.js"),d=n("./app/scripts/views/lib/pop-over.js"),u=n("./app/scripts/views/internal/view.js"),p=n("./app/scripts/views/templates/date_picker.js"),{track:m,trackUe:h}=n("./packages/analytics/index.ts"),{sendPluginTrackEvent:g}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),b=n("./node_modules/moment/moment.js"),{TrelloStorage:f}=n("./packages/storage/index.ts"),v=n("./app/scripts/lib/localize.js"),{dontUpsell:k}=n("./packages/browser/index.ts"),y=n("./app/scripts/data/legacy-power-ups.js").calendar,C="LT",j=[C,"h:mm A"],w=()=>[{name:"no",text:v("due-date-custom-reminder.none"),value:-1},{name:"at time of due date",text:v("due-date-custom-reminder.at-time-of-due-date"),value:0},{name:"5 minutes before",text:v("due-date-custom-reminder.5-minutes-before"),value:5},{name:"10 minutes before",text:v("due-date-custom-reminder.10-minutes-before"),value:10},{name:"15 minutes before",text:v("due-date-custom-reminder.15-minutes-before"),value:15},{name:"1 hour before",text:v("due-date-custom-reminder.1-hour-before"),value:60},{name:"2 hours before",text:v("due-date-custom-reminder.2-hours-before"),value:120},{name:"1 day before",text:v("due-date-custom-reminder.1-day-before"),default:!0,value:1440},{name:"2 days before",text:v("due-date-custom-reminder.2-days-before"),value:2880}],x=()=>w().find((e=>e.default)).value;class _ extends u{static initClass(){this.prototype.viewTitleKey="change due date",this.prototype.tagName="form",this.prototype.className="dpicker-widget u-clearfix",this.prototype.events={"click .js-remove-date":"removeDueDate","input .js-dpicker-time-input":"validateTimeInput","change .js-dpicker-time-input":"normalizeTimeInput",'click a[href="/business-class"]':()=>m("Card Detail","Click Business Class Link","Date Picker PopOver"),submit:"onSaveClickHandler","click .js-enable-calendar-powerup"(e){return e.preventDefault(),this.enableCalendarPowerUp()}},this.prototype.vigor=this.VIGOR.NONE}constructor(e){super(e),this.setDueDate=this.setDueDate.bind(this),this.onSaveClickHandler=this.onSaveClickHandler.bind(this)}initialize(){return this.listenTo(this.model.getBoard(),"change:powerUps",this.renderCalendarPowerUp),this.trackViewed(),this.loadPikadayLibrary()}loadPikadayLibrary(){return null!=this.pikadayLoadPromise?this.pikadayLoadPromise:this.pikadayLoadPromise=o((()=>n.e(152).then(n.t.bind(null,"./node_modules/pikaday/pikaday.js",7)))).then((e=>e.default)).then((e=>this.Pikaday=e))}getSelectedDueDateMoment(){const e=this.picker.getMoment();if(!e.isValid())return null;e.year()<1e3&&e.add(2e3,"years");const t=this.selectedTimeMoment();return e.hour(t.hour()).minute(t.minute())}submitDueDate(e,t){return null!=e?this.setDueDate(e.toDate(),t):this.removeDueDate()}setDueDate(e,t){this.trackSetDueDate(e,t),_.lastDueDate=e,f.set("lastDueDateReminder_".concat(l.myId()),t);const n={due:E(this.model.getDueDate(),(e=>e.getTime()))||null,dueReminder:this.model.get("dueReminder")||-1},i={due:e.getTime(),dueReminder:t};if(!((null==n?void 0:n.due)===i.due&&(null==n?void 0:n.dueReminder)===i.dueReminder)){const e=s.startTask({taskName:"edit-card",subTask:"due",source:"datePickerInlineDialog"}),t=a(a({},i),{},{traceId:e});this.model.setDueDate(t,((t,n)=>{if(t)throw s.taskFailed({taskName:"edit-card",subTask:"due",traceId:e,source:"datePickerInlineDialog",error:t});s.sendUpdatedCardFieldEvent({field:"due",source:"datePickerInlineDialog",containers:{card:{id:n.id},board:{id:n.idBoard},list:{id:n.idList}},attributes:{taskId:e}}),s.taskSucceeded({taskName:"edit-card",subTask:"due",traceId:e,source:"datePickerInlineDialog"})}))}d.hide()}removeDueDate(){if(this.trackRemoveDueDate(),this.model.get("due")){const e=s.startTask({taskName:"edit-card",subTask:"due",source:"datePickerInlineDialog"});this.model.setDueDate({due:null,dueReminder:-1,traceId:e},((t,n)=>{if(t)throw s.taskFailed({taskName:"edit-card",subTask:"due",traceId:e,source:"datePickerInlineDialog",error:t});s.sendUpdatedCardFieldEvent({field:"due",source:"datePickerInlineDialog",containers:{card:{id:n.id},board:{id:n.idBoard},list:{id:n.idList}},attributes:{taskId:e}}),s.taskSucceeded({taskName:"edit-card",subTask:"due",traceId:e,source:"datePickerInlineDialog"})}))}return d.hide()}trackSetDueDate(e,t){null==t&&(t=x());const n=this.options.trackingCategory,i=this.trackingContext();let a="on card";const r=w().find((e=>e.value===t)).name;a="with ".concat(r," custom notification");const o=null==this.model.getDueDate()?"that did not have a due date":E(this.model.getDueDate(),(e=>e.getTime()))===e.getTime()?"that had the same due date":"that had a different due date";h(n,"saves","due date",a,o,"by clicking save button in the due date popover",i);const l=this.model.getBoard();return s.sendTrackEvent({action:"set",actionSubject:"dueDate",containers:{card:{id:this.model.id},board:{id:l.id},organization:{id:l.get("idOrganization")}},source:"datePickerInlineDialog",attributes:{trackingCategory:this.options.trackingCategory}})}trackRemoveDueDate(){const e=this.options.trackingCategory,t=this.trackingContext();h(e,"removes","due date","from card","","by clicking remove button in the due date popover",t);const n=this.model.getBoard();return s.sendTrackEvent({action:"removed",actionSubject:"dueDate",containers:{card:{id:this.model.id},board:{id:n.id},organization:{id:n.get("idOrganization")}},source:"datePickerInlineDialog",attributes:{trackingCategory:this.options.trackingCategory}})}trackViewed(){const e=this.model.getBoard();return s.sendScreenEvent({name:"datePickerInlineDialog",containers:{card:{id:this.model.id},board:{id:e.id},organization:{id:e.get("idOrganization")}},attributes:{trackingCategory:this.options.trackingCategory}})}trackingContext(){return{cardId:this.model.id,boardId:E(this.model.getBoard(),(e=>e.id)),teamId:E(E(this.model.getBoard(),(e=>e.getOrganization())),(e=>e.id))}}renderCalendarPowerUp(){const e=this.$(".js-cal-enabled").addClass("hide"),t=this.$(".js-enable-cal").addClass("hide"),n=this.model.getBoard(),i=n.isPowerUpEnabled("calendar"),a=n.owned()&&!i;i?e.removeClass("hide"):a&&t.removeClass("hide")}getSelectReminderSetting(){const e=this.model.get("dueReminder"),t=null!=e?e:f.get("lastDueDateReminder_".concat(l.myId()));return null!=t?t:x()}renderOnce(){let e,t;const n=this.model.getBoard(),i=b().add(1,"days").toDate(),a=null!=(e=null!=(t=this.model.getDueDate())?t:_.lastDueDate)?e:i;return this.$el.html(p({canChangePowerUps:n.owned(),canEnableAdditionalPowerUps:n.canEnableAdditionalPowerUps(),upsellEnabled:!k(),customReminderSettings:w(),selectedReminderSetting:this.getSelectReminderSetting()})),this.loadPikadayLibrary().then((()=>(this.picker=new this.Pikaday({field:this.$(".js-dpicker-date-input")[0],container:this.$(".js-dpicker-cal")[0],bound:!1,format:"l",firstDay:b.localeData().firstDayOfWeek(),i18n:{previousMonth:v("prev month button text"),nextMonth:v("next month button text"),months:b.months(),weekdays:b.weekdays(),weekdaysShort:b.weekdaysMin()},keyboardInput:!1}),this.picker.setDate(a),this.$timeInput().val(b(a).format(C)),this.renderCalendarPowerUp()))),this}validateTimeInput(){return this.$timeInput().toggleClass("input-error",!this.isTimeInputValid())}normalizeTimeInput(){return this.$timeInput().val(this.selectedTimeMoment().format(C)),this.validateTimeInput()}selectedTimeMoment(){return this.isTimeInputValid()?b(this.$timeInput().val(),j):b().hours(12).minutes(0)}$timeInput(){return this.$(".js-dpicker-time-input")}isTimeInputValid(){return e=this.$timeInput().val(),b(e,j).isValid();var e}enableCalendarPowerUp(){const e={pluginId:y,pluginName:"calendar",installSource:"datePickerInlineDialog"},t=s.startTask({taskName:"enable-plugin",source:"datePickerInlineDialog"});this.model.getBoard().enablePluginWithTracing(y,{traceId:t,taskName:"enable-plugin",attributes:e,source:"datePickerInlineDialog",next:n=>{if(n){const i=n.serverMessage;s.taskAborted({traceId:t,taskName:"enable-plugin",source:"datePickerInlineDialog",error:new Error(i)});const a=s.startTask({taskName:"disable-plugin",source:"datePickerInlineDialog",attributes:e});this.model.getBoard().disablePluginWithTracing(y,{traceId:a,taskName:"disable-plugin",source:"datePickerInlineDialog",attributes:e,next:e=>{var t;e||g({idPlugin:y,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,event:{action:"disabled",actionSubject:"powerUp",source:"datePickerInlineDialog"},attributes:{taskId:a}})}}),"PLUGIN_NOT_ALLOWED"===i?c.show("plugin not allowed","error","addpluginerror",4e3):c.show("could not add plugin","error","addpluginerror",2e3)}else{var i;g({idPlugin:y,idBoard:null===(i=this.model.getBoard())||void 0===i?void 0:i.id,event:{action:"added",actionSubject:"powerUp",source:"datePickerInlineDialog"},attributes:{taskId:t}}),m("Card Detail","Enable Calendar via Due Date Menu"),h("card detail","enables","Power-Up","","","due date",y)}}})}onSaveClickHandler(e){e.preventDefault();const t=this.getSelectedDueDateMoment(),n=parseInt(this.$(".js-custom-reminder").val(),10),i=isNaN(n)?x():n;return this.submitDueDate(t,i)}}function E(e,t){return null!=e?t(e):void 0}_.initClass(),e.exports=_},"./app/scripts/views/card/formatting-help-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./app/scripts/views/internal/templates.js");class r extends i{static initClass(){this.prototype.viewTitleKey="formatting help"}render(){return this.$el.html(a.fill(n("./app/scripts/views/templates/formatting_help.js"))),this}}r.initClass(),e.exports=r},"./app/scripts/views/card/select-card-position.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/db/model-loader.js"),r=n("./app/scripts/network/payloads.ts").default,o=n("./node_modules/underscore/underscore.js"),s=n("./app/scripts/lib/localize.js"),l={renderValues(){const e=this.$(".js-select-board option:selected").val(),t=this.$(".js-select-list option:selected").val();let n=parseInt(this.$(".js-select-position option:selected").prop("index"),10)+1;const a=this.modelCache.get("Board",e),r=a.get("name"),l=o.find(a.listList.models,(({id:e})=>e===t));if(this.$(".js-board-value").text(r),null!=l){const e=l.get("name");n=n.toString(),this.$(".js-list-value").text(e),this.$(".js-pos-value").text(n),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").removeAttr("disabled")}else this.$(".js-list-value").empty().append(i("<i></i>").text(s("no lists"))),this.$(".js-pos-value").empty().append(i("<i></i>").text(s("n/a"))),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").attr("disabled","disabled")},updateBoardData(){const e=this.$(".js-select-board").find("option:selected").val();if(e===this.model.getBoard().id){this._boardData=this.model.getBoard();for(const e of Array.from(this._boardData.listList.models))e.cardCount=this._boardData.listList.get(e.id).openCards().length;this.updateListList()}else null!=e&&(this.$(".js-submit").attr("disabled","disabled"),a.loadBoardData(e,r.cardsAndListsMinimal).then((()=>(this._boardData=this.modelCache.get("Board",e),this.updateListList()))).done())},updateListList(){let e;const t=this.$(".js-select-board"),n=this.$(".js-select-list").empty(),a=t.find("option:selected").val(),r=this.model.getList().id;var o,s;a===this.model.getBoard().id?e=r:(o=this._boardData.listList.at(0),s=e=>e.id,e=null!=o?s(o):void 0);for(const t of Array.from(this._boardData.listList.models)){const a=i("<option>").val(t.id).appendTo(n);t.id===r?a.format("current list",{listName:t.get("name")}):a.text(t.get("name")),t.id===e&&a.attr("selected","selected")}return this.updatePositionList()},updatePositionList(){let e,t,n;const a=this.$(".js-select-list"),r=this.$(".js-select-position").empty(),o=a.find("option:selected").val();if(null==o)return void this.renderValues();const l=null!=(t=this._boardData.listList.get(o))?t:this._boardData.listList.at(0),c=(null!=l?l.id:void 0)===this.model.getList().id;let d=this._boardData.listList.get(o).cardList.length;c?(e=this.model.getList().openCards().indexOf(this.model),n=e,this.showCurrentPosition||(d-=1)):(e=-1,n=d);for(let t=0,a=d,o=0<=a;o?t<=a:t>=a;o?t++:t--){const a=String(t+1),o=t===e?s("current position",{index:a}):a,c=0===t?"top":t===d?"bottom":l.calcPos(t),u=i("<option>").val(c).text(o).appendTo(r);t===n&&u.attr("selected","selected")}this.$(".js-pos-value").text(String(n)),this.renderValues()}};e.exports=l},"./app/scripts/views/card/should-fire-confetti.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"shouldFireConfetti",(function(){return a}));const i=["ð","ð","ð","ð","ð","â¨"];function a(e){return i.some((t=>e.includes(t)))}},"./app/scripts/views/card/uploading-link-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js");class a extends i{static initClass(){this.prototype.viewTitleKey="sending links"}render(){return this.$el.html('<div class="spinner loading"></div>'),this}}a.initClass(),e.exports=a},"./app/scripts/views/checklist/add-checklist-menu.js":function(e,t,n){const{ActionHistory:i}=n("./packages/action-history/index.ts"),a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/lib/util/index.js"),o=n("./app/scripts/views/internal/view.js"),s=n("./app/scripts/views/templates/checklist_add_menu.js"),{track:l,trackDebounced:c}=n("./packages/analytics/index.ts"),d=n("./app/scripts/db/model-cache.js"),u=n("./node_modules/bluebird/js/browser/bluebird.js"),{Feature:p}=n("./app/scripts/debug/constants.ts"),{sendErrorEvent:m}=n("./packages/error-reporting/index.ts"),h=n("./app/scripts/views/internal/teacup-with-helpers.js")("checklist_add_menu"),g=e=>(t,n)=>t.get(e).localeCompare(n.get(e)),b=h.l("default-checklist-name");function f(e){return t=>t.get("idBoard")===e&&t.isVisible()&&t.checklistList.length>0}const v=h.renderable((e=>{h.span((()=>{h.label({for:"js-checklist-copy-source"},(()=>h.format("copy-items-from-ellipsis"))),h.select(".js-checklist-copy-source",(()=>{h.option({value:"",selected:!0},(()=>h.format("none"))),e.forEach((({name:e,checklists:t})=>h.optgroup({label:e},(()=>t.forEach((({id:e,name:t})=>h.option({value:e},(()=>h.text(t)))))))))}))}))}));class k extends o{static initClass(){this.prototype.viewTitleKey="add checklist",this.prototype.events={"click .js-add-checklist":"submit","submit form":"submit","focus .js-checklist-copy-source.js-uninitialized":"populateSource","change .js-checklist-copy-source":"changeSource","input .js-checklist-title"(e){return this.$(".js-checklist-title").attr("data-changed",!0)},"click .js-suggested-checklist":"suggestedChecklist"}}initialize({cardView:e}){this.cardView=e}_canAddChecklist(e,t){return!e.isOverLimit("checklists",t)}render(){try{const e=this.getSuggestedChecklists();return this.$el.html(s({canCopy:this.modelCache.some("Card",f(this.model.getBoard().id)),suggestions:e,canAddChecklistCard:this._canAddChecklist(this.model,"perCard"),canAddChecklistBoard:this._canAddChecklist(this.model.getBoard(),"perBoard")})),e.length>0&&c.hour("Suggestions","Card Checklist Menu","Displayed",e.length),this}catch(e){m(e,{tags:{ownershipArea:"trello-remarkable",feature:p.Checklists}})}}getSuggestedChecklists(){const e=i.get(),t=this.model.get("idList"),n=new Set;return e.filter((({action:e,context:n})=>"add-checklist"===e.type&&n.idList===t&&e.idChecklistSource&&e.name&&e.name!==b)).filter((({action:e})=>!n.has(e.idChecklistSource)&&(n.add(e.idChecklistSource),!0))).filter((({action:e})=>this.model.isValidSuggestion(e))).slice(0,3).map((({action:e})=>({id:e.idChecklistSource,name:e.name})))}addChecklist(e,t,n){if(!this._canAddChecklist(this.model,"perCard")||!this._canAddChecklist(this.model.getBoard(),"perBoard"))return void this.render();if(n)l("Card","Suggested","Add Checklist");else{let n,i;n=""!==e?"Copied Checklist Items":"No Checklist Items Copied",i=t===b?"Default Title (Checklist), ".concat(n):"Renamed Title, ".concat(n),l("Checklist","Create","".concat(i))}this.model.recordAction({type:"add-checklist",idChecklistSource:e||void 0,name:t===b?void 0:t});const i=this.model.checklistList.create({name:t,idChecklistSource:e,idCard:this.model.id},{error:()=>this.model.checklistList.remove(i)});return this.cardView.focusChecklistAdd(i)}suggestedChecklist(e){const t=this.$(e.currentTarget),n=t.attr("data-id"),i=t.attr("data-name");this.addChecklist(n,i,!0),a.hide()}submit(e){r.stop(e);const t=this.$(".js-checklist-title").val(),n=this.$(".js-checklist-copy-source").val();0!==t.length?new u((e=>this.model.id?e():(this.$(".js-add-checklist").prop("disabled",!0).toggleClass("disabled",!0),this.waitForId(this.model,e)))).then((()=>(this.addChecklist(n,t,!1),a.hide()))):this.$(".js-checklist-title").focus().select()}populateSource(e){const t=e.currentTarget;t.classList.remove("js-uninitialized");const n=this.modelCache.find("Card",f(this.model.getBoard().id)).sort(g("name")).map((e=>({name:e.get("name"),checklists:e.checklistList.chain().clone().filter((e=>e.get("name"))).sort(g("name")).map((e=>({id:e.id,name:e.get("name")}))).value()})));t.innerHTML=v(n)}changeSource(e){let t;const n=this.$(".js-checklist-title"),i=n.attr("data-default");if(n.attr("data-changed")&&n.val()&&n.val()!==i)return;const a=this.$(".js-checklist-copy-source").val(),r=a&&null!=(t=d.get("Checklist",a))?t.get("name"):i;return n.val(r).removeAttr("data-changed")}}k.initClass(),e.exports=k},"./app/scripts/views/checklist/advanced-checklists-beta-info.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/checklist/advanced-checklists-beta-info.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/scripts/views/checklist/advanced-checklists-beta-info.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/scripts/views/checklist/advanced-checklists-beta-info.less"),o=n.n(r),s=n("./packages/i18n/index.ts");const l=Object(s.forTemplate)("advanced_checklists"),c=()=>a.a.createElement("a",{className:o.a.feedback,href:"https://trello.typeform.com/to/jLeJJi",target:"_blank",rel:"noreferrer noopener"},l("give-us-feedback"))},"./app/scripts/views/checklist/check-item-edit-helpers.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/internal/autocomplete/auto-mentioner-view.js"),r=n("./app/scripts/views/internal/autocomplete/emoji-completer-view.js"),o=n("./app/scripts/lib/dates.js"),s=n("./app/scripts/views/lib/drag-sort.js"),l=n("./app/scripts/lib/util/selection/has-selection-in.js"),c=n("./app/scripts/views/lib/layout.js"),d=n("./app/scripts/views/lib/pop-over.js"),u=n("./app/scripts/lib/util/index.js"),{featureFlagClient:p}=n("./packages/feature-flag-client/index.ts"),{asNumber:m}=n("./packages/i18n/formatters.ts"),{TrelloStorage:h}=n("./packages/storage/index.ts"),{track:g,trackUe:b}=n("./packages/analytics/index.ts"),f=n("./app/scripts/views/internal/teacup-with-helpers.js")("checklist_item"),v=n("./app/scripts/lib/localize.js"),k=n("./app/scripts/debug/log.js"),{isSubmitEvent:y,getKey:C,Key:j}=n("./packages/keybindings/index.ts"),{markdownTracker:w}=n("./app/scripts/lib/util/markdown-tracker.ts"),{Analytics:x,tracingCallback:_}=n("./packages/atlassian-analytics/index.ts"),{applyMarkdownShortcuts:E}=n("./app/scripts/views/lib/markdown-transform.ts"),S=f.renderable((({hasNewOverflowMenu:e})=>{f.div(".edit-controls.u-clearfix",(()=>{f.input(".nch-button.nch-button--primary.confirm.mod-submit-edit.js-save-edit",{type:"submit",value:f.l("save")}),f.a(".icon-lg.icon-close.dark-hover.cancel.js-cancel-edit",{href:"#"}),f.div(".edit-controls-spacer"),f.a(".option.check-item-options-menu.dark-hover.js-assign.hide",{href:"#"}),f.a(".option.check-item-options-menu.dark-hover.js-due.checklist-add-controls-due.hide",{href:"#"}),f.a(".option.check-item-options-menu.dark-hover.js-open-emoji-selector",{href:"#"},(()=>{f.span(".icon-sm.icon-emoji")})),f.a(".option.check-item-options-menu.dark-hover.js-open-mention-selector",{href:"#"},(()=>{f.span(".icon-sm.icon-mention")})),e?f.div(".check-item-new-menu.ignore-editable-view.js-overflow-button-react"):f.a(".option.check-item-options-menu.dark-hover.js-open-menu",{href:"#"},(()=>{f.span(".icon-sm.icon-overflow-menu-horizontal")}))}))})),O=f.renderable((e=>{f.icon("add-member"),e?f.text(e):f.format("assign")})),T=f.renderable((e=>{f.icon("clock"),e?f.text(e):f.format("due-date")}));e.exports._checkItemDraftKey=function(){return"draft_".concat(this.model.id,"_name")},e.exports._saveCheckItemDraft=function(e,t){h.set(this._checkItemDraftKey(e),t)},e.exports._recallCheckItemDraft=function(){return h.get(this._checkItemDraftKey("name"))},e.exports._discardCheckItemDraft=function(){h.unset(this._checkItemDraftKey("name"))},e.exports.saveCheckItemDrafts=function(e){if(!this.model.id)return!1;for(const t of this.getCheckItemEdits()){const n=t.attr("attr"),a=t.find(".js-checkitem-input:first").val();0!==i.trim(a).length&&(this.model.get("name")!==a&&a!==this._recallCheckItemDraft()&&(e&&(g("Editable View","Save Draft","Save draft via ".concat(e)),b("Editable View","Save Draft","","","","when ".concat(e),"")),this._saveCheckItemDraft(n,a)))}},e.exports.recallCheckItemDrafts=function(){this.getCheckItemEdits().each(((e,t)=>{if(this.model.id){const e=this._recallCheckItemDraft();if(e){t.find(".field:first").val(e),this.defer((()=>{t.find(".edits-warning").show()}))}}}))},e.exports.getCheckItemEdits=function(){const e=this.$("[attr]"),t=this.$(".js-no-higher-edits [attr]");return e.not(t).map(((e,t)=>i(t)))},e.exports.onCheckItemClick=function(e){const t=i(e.target).closest("a");if(t.length>0&&"#"!==t.attr("href"))return;if(s.sorting)return;if(i(e.target).closest(".ignore-editable-view").length>0)return;const n=i(e.target).closest(".editable");if(0===n.length)return;if(i(e.target).closest(".js-react-root").length)return;if(l(n))return;u.stop(e),d.hide();const a=n.attr("attr");this.editCheckItem(a)},e.exports.checkItemKeydownEvent=function(e){E(e,!0),i(".editing").length>0&&(d.view instanceof r||d.view instanceof a?this.checkInsert(e):y(e)&&this.commitCheckItemEdits(e))},e.exports.checkItemEditControlKeydown=function(e){C(e)===j.Escape&&(u.stop(e),d.isVisible?d.hide():this.clearEdits(e))},e.exports.clearEdits=function(e){u.stop(e);const t=i(e.target).closest(".editable[attr]");return this._discardCheckItemDraft("name"),t.find(".js-checkitem-input").val(""),t.find(".edits-warning").hide(),t.find(".edits-error").hide(),t.removeClass("editing"),c.cancelEdits(),!1},e.exports.renderEditItemButtons=function(){const e=this.$(".edit-controls");if(e.length){const t=this.model.get("idMember"),n=this.model.get("due"),i=t&&this.modelCache.get("Member",t),a=i?i.get("fullName"):void 0;e.find(".js-assign").html(O(a));const r=n&&o.toDateString(n);e.find(".js-due").html(T(r))}return this},e.exports.commitCheckItemEdits=function(e){d.hide(),e&&u.stop(e);const t=this.model.getCard().id,n=this.model.getBoard().id;if(0===this.$(".js-checkitem-input").val().length){const e=x.startTask({taskName:"delete-checkItem",source:"cardDetailScreen"});this.model.destroyWithTracing({traceId:e},_({taskName:"delete-checkItem",source:"cardDetailScreen",traceId:e},(i=>{i||x.sendTrackEvent({action:"deleted",actionSubject:"checkItem",source:"cardDetailScreen",attributes:{taskId:e},containers:{card:{id:t},board:{id:n}}})})))}const a=i(e.target).closest(".editable.editing[attr]");if(a.find(".edits-error").hide(),!this.validateCheckItemInput())return;const{model:r}=this;return a.remove("input[type=submit]"),a.removeClass("editing").each(((e,o)=>{const s=i(o),l=s.attr("attr");let c=s.find(".js-checkitem-input").val();if(this.allowNewlines||(c=c.replace(/[\r\n]+/g," ")),0===i.trim(c).length&&(c=""),r.get("name")===c)this._discardCheckItemDraft("name");else{const e=x.startTask({taskName:"edit-checkItem",subtask:"name",source:"cardDetailScreen"});r.update({name:c,traceId:e},_({taskName:"edit-checkItem",subTask:"name",source:"cardDetailScreen",traceId:e},(i=>{i?(a.find(".edits-error").text(i.message).show(),this._saveCheckItemDraft(l,c)):(this._discardCheckItemDraft(l),x.sendTrackEvent({action:"updated",actionSubject:"checkItem",actionSubjectId:"name",source:"cardDetailScreen",attributes:{taskId:e},containers:{card:{id:t},board:{id:n}}}))}))),w(c,"checkItems")}})).find(".js-checkitem-input").val(""),a.find(".edits-warning").hide(),!0},e.exports.validateCheckItemInput=function(){const e=this.$(".js-checkitem-input").val();if(/^\s*$/.test(e))return!1;const t=e.length;return!(t>16384)||(this.$(".editing").find(".edits-error").text(v("text too long",{over:m(t-16384)})).show(),!1)},e.exports.editCheckItem=function(e){let t;e.indexOf(".")>-1&&(t=e.split("."),e=t[1]);const n=this.$("[attr=".concat(e,"]")),i=this.$(".js-no-higher-edits [attr=".concat(e,"]")),a=n.not(i);if(0===a.length)return;c.cancelEdits();const r=a.find(".edit:first");if(0===r.length)return;const o=a.find(".js-checkitem-input:first"),s=this.model.getBoard(),l=Boolean(s?s.hasAdvancedChecklists()||s.upsellAdvancedChecklists():void 0),d=p.get("remarkable.checkitem-overflow-rewrite",!1);r.append(S({hasNewOverflowMenu:d}));const m=this.el.querySelector(".js-overflow-button-react");d&&this.renderOverflowButton(m,{editableView:!0}),this.$(".js-assign,.js-due").toggleClass("hide",!l),this.renderEditItemButtons(),a.addClass("editing"),""===o.val()&&o.val(u.traverse(this.model.attributes,t||e)),this.waitForId(this.model,(()=>{o.data("draftKey",this._checkItemDraftKey())})),k("editable",this.model),o.focus().select(),o.autosize({append:!1})}},"./app/scripts/views/checklist/check-item-list-view.js":function(e,t,n){let i;const a=n("./app/scripts/views/checklist/check-item-view.js"),r=n("./app/scripts/views/internal/collection-view.js");e.exports=(i=class extends r{static initClass(){this.prototype.viewType=a}},i.initClass(),i=i)},"./app/scripts/views/checklist/check-item-menu-view.js":function(e,t,n){const i=n("./app/scripts/views/lib/pop-over.js"),a=n("./app/scripts/lib/util/index.js"),r=n("./app/scripts/views/internal/view.js"),o=n("./app/scripts/views/internal/teacup-with-helpers.js")("check_item_menu"),{track:s}=n("./packages/analytics/index.ts"),l=o.renderable((({editable:e})=>{o.ul(".pop-over-list",(()=>{e&&(o.li((()=>{o.a(".js-convert-to-card",{href:"#"},{"data-test-id":"checklist-item-convert-button"},(()=>{o.format("convert-to-card")}))})),o.li((()=>{o.a(".js-delete",{href:"#"},{"data-test-id":"checklist-item-delete-button"},(()=>{o.format("delete")}))})))}))}));class c extends r{static initClass(){this.prototype.viewTitleKey="check item",this.prototype.events={"click .js-convert-to-card":"convertToCard","click .js-delete":"delete"}}render(){return this.$el.html(l({editable:this.model.editable()})),this}convertToCard(e){a.stop(e),this.model.run("convertToCard"),this.model.getChecklist().checkItemList.remove(this.model),s("Checklist","Convert Checklist Item to Card"),i.hide()}delete(e){a.stop(e),this.model.destroy(),s("Checklist","Delete Single Checklist Item"),i.hide()}}c.initClass(),e.exports=c},"./app/scripts/views/checklist/check-item-view.js":function(e,t,n){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=n("./packages/jquery/index.js"),l=n("./app/scripts/db/auth.js"),c=n("./app/scripts/views/internal/autocomplete/auto-insertion-view.js"),d=n("./app/scripts/views/internal/autocomplete/completer-util.js"),{CheckItemMemberBadge:u}=n("./app/src/components/CheckItemMemberBadge/index.ts"),p=n("./app/scripts/views/checklist/check-item-menu-view.js"),{CheckItemOverflowMenu:m}=n("./app/src/components/CheckItemOverflowMenu/CheckItemOverflowMenu.tsx"),{Feature:h}=n("./app/scripts/debug/constants.ts"),{sendErrorEvent:g}=n("./packages/error-reporting/index.ts"),{ChecklistTestIds:b}=n("./packages/test-ids/index.ts"),f=n("./app/scripts/lib/dates.js"),{CheckItemCheckbox:v}=n("./app/src/components/CheckItemCheckbox/index.ts"),{DueDateBadge:k}=n("./app/src/components/DueDateBadge/index.ts"),y=n("./app/scripts/views/internal/view.js"),{featureFlagClient:C}=n("./packages/feature-flag-client/index.ts"),{forNamespace:j}=n("./packages/i18n/index.ts"),w=n("./app/scripts/views/lib/pop-over.js"),x=n("./app/scripts/lib/markdown/tfm.js"),_=n("./app/scripts/lib/util/index.js"),E=n("./app/scripts/views/internal/friendly-links.js"),S=n("./node_modules/react/index.js"),O=n("./packages/react-dom-wrapper/index.ts"),{renderComponent:T}=n("./app/src/components/ComponentWrapper/index.ts"),{track:D}=n("./packages/analytics/index.ts"),N=n("./app/scripts/views/internal/teacup-with-helpers.js")("checklist_item"),{toggleAssignPopoverV2:I}=n("./app/scripts/views/checklist/toggle-assign-popover.tsx"),{toggleDatePopoverV2:A}=n("./app/scripts/views/checklist/toggle-date-popover.tsx"),{toggleUpsellAdvancedChecklist:P}=n("./app/scripts/views/checklist/upsell-advanced-checklist.tsx"),{toggleClearPopover:B}=n("./app/scripts/views/checklist/toggle-clear-popover.tsx"),L=n("./node_modules/underscore/underscore.js"),F=n("./app/scripts/controller/urls.js"),{getKey:M,Key:R,registerShortcutHandler:U,Scope:V,unregisterShortcutHandler:z}=n("./packages/keybindings/index.ts"),{Analytics:H,tracingCallback:W}=n("./packages/atlassian-analytics/index.ts"),{ELEVATION_ATTR:K}=n("./packages/layer-manager/index.ts"),{commitCheckItemEdits:q,checkItemEditControlKeydown:$,renderEditItemButtons:G,onCheckItemClick:Z,clearEdits:J,checkItemKeydownEvent:Y,saveCheckItemDrafts:X,recallCheckItemDrafts:Q,validateCheckItemInput:ee,getCheckItemEdits:te,_checkItemDraftKey:ne,_saveCheckItemDraft:ie,_recallCheckItemDraft:ae,_discardCheckItemDraft:re,editCheckItem:oe}=n("./app/scripts/views/checklist/check-item-edit-helpers.js"),se=j("view title"),le=N.renderable((({editable:e,showAssignBadge:t,showDueDateBadge:n,showNewOverflowMenu:i,showNewCheckbox:a})=>{a?N.span(".checklist-item-checkbox-nachos",{"data-test-id":"checklist-item-checkbox"}):N.div(".checklist-item-checkbox",{class:N.classify({enabled:e,"js-toggle-checklist-item":e}),"data-test-id":"checklist-item-checkbox"},(()=>{N.span({class:"checklist-item-checkbox-check"})})),N.div(".checklist-item-details.non-empty.js-checkitem",{class:N.classify({editable:e}),attr:"name"},(()=>{N.div(".checklist-item-row.js-checkitem-row.current",(()=>{N.div(".checklist-item-text-and-controls.hide-on-edit",(()=>{N.span(".checklist-item-details-text.markeddown.js-checkitem-name"),N.div(".checklist-item-controls",(()=>{n&&N.span(".checklist-item-due.js-checklist-item-due.js-react-root"),t&&N.span(".checklist-item-assignee.js-checklist-item-assignee.js-react-root"),e&&(i?N.div(".checklist-item-menu.rmk-new.ignore-editable-view.js-new-overflow-button"):N.div(".checklist-item-menu.rmk-old.js-open-menu",{"data-test-id":"checklist-item-overflow-menu-button"},(()=>{N.span(".icon-sm.icon-overflow-menu-horizontal")})))}))})),e&&N.div(".edit.check-item-options-menu",(()=>{N.textarea(".field.full.single-line.js-checkitem-input",{type:"text"}),N.p(".edits-error.error")}))})),e&&N.p(".edits-warning.quiet",(()=>{N.format("you-have-unsaved-edits-on-this-field"),N.text(" "),N.a(".js-view-edits",{href:"#"},(()=>{N.format("view-edits")})),N.text(" - "),N.a(".js-discard-edits",{href:"#"},(()=>{N.format("discard")}))}))}))}));class ce extends y{static initClass(){this.prototype.className="checklist-item",this.prototype.allowNewlines=!1,this.prototype.events={"click .js-checkitem-row":"onCheckItemClick","click .js-cancel-edit":"clearEdits","click .js-discard-edits":"clearEdits","click .js-view-edits":"onCheckItemClick","click .js-save-edit":"commitCheckItemEdits","keydown .field":"checkItemKeydownEvent","keydown .edit-controls":"checkItemEditControlKeydown","click textarea":_.stopPropagation,"keyup .field"(e){M(e)===R.Escape&&(_.stop(e),w.isVisible?w.hide():this.clearEdits(e)),this.keyAutoMention(e)},"click .js-toggle-checklist-item":"toggleState","click .js-open-menu":"openMenu","click .js-open-mention-selector":"commentMentionMember","click .js-open-emoji-selector":"commentAddEmoji",movecheckitem:"moveCheckItem",mouseenter(){if(!this.model.editable())return;const e=this.model.getBoard();e&&e.hasAdvancedChecklists()&&U(this.onShortcut,{scope:V.DialogSection,clearScope:!0})},mouseleave(){z(this.onShortcut)},"click .js-assign:not([disabled])"(e){const t=this.model.getBoard();t&&t.hasAdvancedChecklists()?this.toggleAssignPopover(e):this._hasUpsell()&&this.toggleUpsellPopover(e)},"click .js-due:not([disabled])"(e){const t=this.model.getBoard();t&&t.hasAdvancedChecklists()?this.toggleSetDuePopover(e):this._hasUpsell()&&this.toggleUpsellPopover(e)}},this.prototype.validateCheckItemInput=ee,this.prototype.onCheckItemClick=Z,this.prototype.saveCheckItemDrafts=X,this.prototype.recallCheckItemDrafts=Q,this.prototype.getCheckItemEdits=te,this.prototype.checkItemKeydownEvent=Y,this.prototype.clearEdits=J,this.prototype.commitCheckItemEdits=q,this.prototype.renderEditItemButtons=G,this.prototype.editCheckItem=oe,this.prototype.checkItemEditControlKeydown=$,this.prototype._checkItemDraftKey=ne,this.prototype._saveCheckItemDraft=ie,this.prototype._recallCheckItemDraft=ae,this.prototype._discardCheckItemDraft=re}constructor(e){super(e),this.onShortcut=this.onShortcut.bind(this)}initialize(){this._reactContainers=new Set,this.listenTo(this.model,{"change:name"(){this.renderName(),this.renderAssignee(),this.renderDue()},"change:state"(){this.renderState(),this.renderDue()},"change:due"(){this.renderDue(),this.renderEditItemButtons()},"change:idMember"(){this.renderAssignee(),this.renderEditItemButtons()}}),super.initialize(...arguments),s(window).on("beforeunload.EditableView-".concat(this.model.cid),(()=>{this.saveCheckItemDrafts("unload")}))}toggleSetDuePopover(e){A({title:se("change due date"),setDate:e=>this._setDue(e),getInitialDate:()=>this.model.get("due"),trackingMethod:"by clicking due date badge in checkitem view"})(e)}toggleAssignPopover(e){const t=this.model.getCard(),n=this.model.getBoard();I({title:se("assign"),getCardMembers:()=>t.memberList.filterDeactivated({force:!0,model:n}).toJSON(),getBoardMembers:()=>n.memberList.filterDeactivated({force:!0}).toJSON(),trackingMethod:"by clicking member button in checkitem view",getInitialMember:()=>this.model.get("idMember"),setMember:e=>{this._setMember(e)}})(e)}toggleUpsellPopover(e){P({trackingMethod:"by clicking due date button in checkitem composer",billingUrl:this.getBillingUrl()})(e)}toggleClearDuePopover(e){B({title:se("change due date"),message:N.l("clear-due-message"),removeText:N.l("clear-due"),clear:()=>this._setDue(null),upsell:this._hasUpsell()})(e)}toggleClearAssignPopover(e){B({title:se("assign"),message:N.l("clear-assignment-message"),removeText:N.l("clear-assignment"),clear:()=>this._setMember(null),upsell:this._hasUpsell()})(e)}onShortcut(e){switch(M(e)){case R.Space:{const e=l.myId();this._setMember(this.model.get("idMember")===e?null:e),D("Keyboard Shortcuts","Space - Toggle Assigning Self","Check Item");break}case R.a:case R.m:this.$(".js-checklist-item-assignee button").click(),D("Keyboard Shortcuts","A - Assign Members","Check Item");break;case R.d:this.$(".js-checklist-item-due button").click(),D("Keyboard Shortcuts","D - Due Dates","Check Item");break;default:return}e.preventDefault()}getCard(){return this.model.getCard()}getBillingUrl(){const e=this.model.getBoard().getOrganization();if(e)return F.getOrganizationBillingUrl(e)}getOrgId(){const e=this.model.getBoard().getOrganization();if(e)return e.id}getTeamName(){const e=this.model.getBoard().getOrganization();if(e)return e.get("name")}advancedCheckItemFromModel(){const e=this.model.getBoard(),t=e&&e.getOrganization();return{name:this.model.get("name"),validAssigneeUsernames:e.memberList.map((e=>e.get("username"))),orgProductNumber:t?t.getProduct():void 0}}render(){try{const e=this.model.editable(),t=C.get("remarkable.checkitem-overflow-rewrite",!1),n=C.get("remarkable.checkitem-checkbox-rewrite",!1),i=this.model.getBoard(),a=Boolean(i&&i.hasAdvancedChecklists()),r=this._hasUpsell();this.$el.html(le({showAssignBadge:a||r||Boolean(this.model.get("idMember")),showDueDateBadge:a||r||Boolean(this.model.get("due")),editable:e,showNewOverflowMenu:t,showNewCheckbox:n})),n&&this.renderCheckbox(),this.renderAssignee(),this.renderDue(),this.renderName(),this.renderState(),this.recallCheckItemDrafts();const o=this.el.querySelector(".js-new-overflow-button");return t&&this.renderOverflowButton(o,{editableView:!1}),this.unmountUnusedReactComponents(),this}catch(e){g(e,{tags:{ownershipArea:"trello-remarkable",feature:h.Checklists}})}}getTextInput(){return this.$(".js-checkitem-input")}getMentionTarget(){return this.$(".js-open-mention-selector")[0]}getEmojiTarget(){return this.$(".js-open-emoji-selector")[0]}_hasUpsell(){const e=this.model.getBoard();return Boolean(e&&e.upsellAdvancedChecklists())}renderName(e){var t,n,i,a,o,s,l,c,d,u;const p=this.model.get("name");this.$(".js-checkitem-row").data("unmarkeddown",p);const m=x.checkItems.format(p,{textData:this.model.get("nameData")}).output,h=this.$(".js-checkitem-name");h.empty().append(m);const g=r(r({},null!==(t=null===(n=this.model)||void 0===n||null===(i=n.getCard)||void 0===i||null===(a=i.call(n))||void 0===a||null===(o=a.getAnalyticsContainers)||void 0===o?void 0:o.call(a))&&void 0!==t?t:{}),null!==(s=null===(l=this.model)||void 0===l||null===(c=l.getBoard)||void 0===c||null===(d=c.call(l))||void 0===d||null===(u=d.getAnalyticsContainers)||void 0===u?void 0:u.call(d))&&void 0!==s?s:{});E(h[0],this.model.getBoard(),{publicLinksVariation:"beta",analyticsContext:{source:"cardDetailScreen",containers:g,attributes:{fromSection:"checkItem"}}})}renderAssignee(){const e=this.el.querySelector(".js-checklist-item-assignee");if(!e)return;const t=this.model.get("idMember"),n=this.model.getBoard(),i=t?e=>e.id===t:void 0,a=i&&n.memberList.find(i),r=null==a?void 0:a.toJSON(),o=this.model.editable()?n&&n.hasAdvancedChecklists()?this.toggleAssignPopover.bind(this):r?this.toggleClearAssignPopover.bind(this):this._hasUpsell()?this.toggleUpsellPopover.bind(this):void 0:void 0;if(o||r){const t=Boolean(r);this.mountReactComponent(S.createElement(u,{assigned:t,avatarSource:t?r.avatarSource:null,initials:t?r.initials:null,avatarUrl:t?r.avatarUrl:null,deactivated:t?Boolean(n&&n.isDeactivated(r)):null,onClick:o,testId:t?b.ChecklistItemEditMemberButton:b.ChecklistItemSetMemberButton}),e)}else this.unmountReactComponent(e);e.classList.toggle("unset",!r),this.el.classList.toggle("no-assignee",!r)}renderDue(){const e=this.el.querySelector(".js-checklist-item-due");if(!e)return;const t=this.model.get("due"),n=this.model.getBoard(),i=this.model.editable()?n&&n.hasAdvancedChecklists()?this.toggleSetDuePopover.bind(this):t?this.toggleClearDuePopover.bind(this):this._hasUpsell()?this.toggleUpsellPopover.bind(this):void 0:void 0;i||t?this.mountReactComponent(S.createElement(k,{complete:"complete"===this.model.get("state"),due:t&&f.parse(t),onClick:i,testId:t?b.ChecklistItemEditDueButton:b.ChecklistItemSetDueButton}),e):this.unmountReactComponent(e),e.classList.toggle("unset",!t),this.el.classList.toggle("no-due",!t)}renderCheckbox(){const e=this.el.querySelector(".checklist-item-checkbox-nachos");e&&this.mountWrappedReactComponent(S.createElement(v,{model:this.model,className:"checkbox-icon",onChange:this.toggleState.bind(this),isDisabled:!this.model.editable()}),e)}renderState(){const e=this.model.toJSON();e.checked="complete"===e.state,this.$el.toggleClass("checklist-item-state-complete",e.checked)}toggleState(){if(!this.model.editable())return;const e="complete"===this.model.get("state")?"incomplete":"complete",t=H.startTask({taskName:"edit-checkItem",subTask:"state",source:"cardDetailScreen"});this.model.update({state:e,traceId:t},W({taskName:"edit-checkItem",subTask:"state",source:"cardDetailScreen",traceId:t},(n=>{n||H.sendTrackEvent({action:"updated",actionSubject:"checkItem",actionSubjectId:"state",source:"cardDetailScreen",containers:{card:{id:this.model.getCard().id},board:{id:this.model.getBoard().id}},attributes:{taskId:t,state:e}})})))}moveCheckItem(e,t,n,i){if(!i&&this.model.getChecklist()!==n)return;const a=t.item.parent().children().index(t.item),r=n.calcPos(a,this.model);if(i){const e=H.startTask({taskName:"edit-checkItem",subTask:"idChecklist",source:"cardDetailScreen"});this.model.update({pos:r,idChecklist:n.id,traceId:e},W({taskName:"edit-checkItem",subTask:"idChecklist",source:"cardDetailScreen",traceId:e},(t=>{t||H.sendTrackEvent({action:"updated",actionSubject:"checkItem",actionSubjectId:"idChecklist",source:"cardDetailScreen",containers:{card:{id:this.model.getCard().id},board:{id:this.model.getBoard().id}},attributes:{taskId:e}})}))),this.model.collection.remove(this.model),n.checkItemList.add(this.model)}else{const e=H.startTask({taskName:"edit-checkItem",subTask:"pos",source:"cardDetailScreen"});this.model.update({pos:r,traceId:e},W({taskName:"edit-checkItem",subTask:"pos",source:"cardDetailScreen",traceId:e},(t=>{t||H.sendTrackEvent({action:"updated",actionSubject:"checkItem",actionSubjectId:"pos",source:"cardDetailScreen",containers:{card:{id:this.model.getCard().id},board:{id:this.model.getBoard().id}},attributes:{taskId:e}})})))}n.checkItemList.sort({silent:!0}),D("Checklist","Reorder Checklist Item")}_setDue(e){const t=this.model.get("due"),n=!t&&e?"added":!e&&t?"removed":"changed",i=H.startTask({taskName:"edit-checkItem",subTask:"due",source:"cardDetailScreen"});this.model.update({due:e,traceId:i},W({taskName:"edit-checkItem",subTask:"due",source:"cardDetailScreen",traceId:i},(e=>{e||H.sendTrackEvent({action:n,actionSubject:"checkItem",actionSubjectId:"due",source:"cardDetailScreen",containers:{card:{id:this.model.getCard().id},board:{id:this.model.getBoard().id}},attributes:{taskId:i}})})))}_setMember(e){const t=this.model.get("idMember"),n=!t&&e?"added":!e&&t?"removed":"changed",i=H.startTask({taskName:"edit-checkItem",subTask:"idMember",source:"cardDetailScreen"});this.model.update({idMember:e,traceId:i},W({taskName:"edit-checkItem",subTask:"idMember",source:"cardDetailScreen",traceId:i},(e=>{e||H.sendTrackEvent({action:n,actionSubject:"checkItem",actionSubjectId:"idMember",source:"cardDetailScreen",containers:{card:{id:this.model.getCard().id},board:{id:this.model.getBoard().id}},attributes:{taskId:i}})})))}openMenu(e){_.stop(e),w.toggle({elem:e.target,view:p,options:{model:this.model,modelCache:this.modelCache},keepEdits:!0})}remove(){return z(this.onShortcut),this.unmountAllReactComponents(),this.saveCheckItemDrafts("removing view"),s(window).off(".EditableView-".concat(this.model.cid)),super.remove(...arguments)}renderOverflowButton(e,t){return e&&(e.setAttribute(K,1),this.mountWrappedReactComponent(S.createElement(m,i({model:this.model},t)),e)),this}mountReactComponent(e,t){O.render(e,t),this._reactContainers.add(t)}mountWrappedReactComponent(e,t){T(e,t),this._reactContainers.add(t)}unmountUnusedReactComponents(){Array.from(this._reactContainers).filter((e=>!this.el.contains(e))).forEach((e=>{this.unmountReactComponent(e)}))}unmountAllReactComponents(){Array.from(this._reactContainers).forEach((e=>{this.unmountReactComponent(e)}))}unmountReactComponent(e){O.unmountComponentAtNode(e),this._reactContainers.delete(e)}}ce.initClass(),L.extend(ce.prototype,c,d),e.exports=ce},"./app/scripts/views/checklist/checklist-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/db/auth.js"),r=n("./app/scripts/views/internal/autocomplete/auto-insertion-view.js"),o=n("./app/scripts/views/internal/autocomplete/auto-mentioner-view.js"),s=n("./app/scripts/views/checklist/check-item-list-view.js"),{ChecklistEducationBanner:l}=n("./app/src/components/ChecklistEducationBanner/index.ts"),c=n("./app/scripts/views/internal/autocomplete/completer-util.js"),d=n("./app/scripts/views/lib/confirm.js"),u=n("./app/scripts/lib/dates.js"),p=n("./app/scripts/views/lib/drag-sort.js"),m=n("./app/scripts/views/internal/autocomplete/emoji-completer-view.js"),{Feature:h}=n("./app/scripts/debug/constants.ts"),{featureFlagClient:g}=n("./packages/feature-flag-client/index.ts"),{forNamespace:b}=n("./packages/i18n/index.ts"),f=n("./app/scripts/lib/util/selection/has-selection-in.js"),{isSubmitEvent:v}=n("./packages/keybindings/index.ts"),k=n("./app/scripts/views/lib/layout.js"),y=n("./app/scripts/view-models/member-state.js"),C=n("./app/scripts/views/lib/pop-over.js"),j=n("./node_modules/bluebird/js/browser/bluebird.js"),w=n("./node_modules/react/index.js"),x=n("./packages/react-dom-wrapper/index.ts"),{sendErrorEvent:_}=n("./packages/error-reporting/index.ts"),{TrelloStorage:E}=n("./packages/storage/index.ts"),{toggleAssignPopoverV2:S}=n("./app/scripts/views/checklist/toggle-assign-popover.tsx"),{toggleDatePopoverV2:O}=n("./app/scripts/views/checklist/toggle-date-popover.tsx"),{toggleUpsellAdvancedChecklist:T}=n("./app/scripts/views/checklist/upsell-advanced-checklist.tsx"),D=n("./app/scripts/controller/urls.js"),N=n("./app/scripts/lib/util/index.js"),I=n("./app/scripts/views/internal/view.js"),A=n("./node_modules/underscore/underscore.js"),P=n("./app/scripts/debug/log.js"),B=n("./app/scripts/views/internal/templates.js"),{track:L,trackUe:F}=n("./packages/analytics/index.ts"),M=n("./app/scripts/lib/localize.js"),{applyMarkdownShortcuts:R}=n("./app/scripts/views/lib/markdown-transform.ts"),U=n("./app/scripts/views/internal/teacup-with-helpers.js")("checklist"),V=n("./node_modules/canvas-confetti/dist/confetti.module.mjs").default,{shouldFireConfetti:z}=n("./app/scripts/views/card/should-fire-confetti.ts"),{markdownTracker:H}=n("./app/scripts/lib/util/markdown-tracker.ts"),{Analytics:W}=n("./packages/atlassian-analytics/index.ts"),K=b("view title"),q=U.renderable((e=>{U.icon("add-member"),e?U.text(e):U.format("assign")})),$=U.renderable((e=>{U.icon("clock"),e?U.text(e):U.format("due-date")})),G="checklist-education-banner";class Z extends I{static initClass(){this.prototype.className="checklist",this.prototype.events={"keydown .js-new-checklist-item-input":"keydownChecklistEvent","keydown .js-checklist-title":"keydownChecklistNameEvent","click .js-add-checklist-item":"submitTask","click .js-cancel-checklist-item":"cancelItemEditing","click .js-new-checklist-item-button":"editNewChecklistItem","click .js-confirm-delete":"confirmDeleteChecklist","click .js-hide-checked-items":"hideCheckedItems","click .js-show-checked-items":"showCheckedItems","click .js-toggle-checklist-state":"toggleChecklistState","sortstop .js-checklist-items-list":"sortStop","sortreceive .js-checklist-items-list":"sortReceive",movechecklist:"moveChecklist","keyup .js-new-checklist-item-input":"keyAutoMention","click .js-open-mention-selector":"commentMentionMember","click .js-open-emoji-selector":"commentAddEmoji","click .js-assign":"assignUpsellOrPopover","click .js-due":"dueDateUpsellOrPopover","click .js-checklist-title":"editChecklistName","click .js-save-checklist-title":"commitEdits","click .js-cancel-checklist-title":"clearEdits","click .js-discard-edits":"clearEdits","click .js-view-edits":"editField","click input":e=>{i(e.target).closest(".checklist-item-checkbox-nachos").length||N.stopPropagation(e)},"click textarea":N.stopPropagation}}initialize(){return this.makeDebouncedMethods("renderCheckedState","renderBanners"),this.listenTo(this.model.checkItemList,{"add remove reset change:state"(){return this.renderProgress(),this.renderCheckedStateDebounced()},"add remove reset":this.renderBannersDebounced,"change:state":this.checkIfComplete}),this.listenTo(y,{"change:idCollapsedChecklists":this.renderCheckedStateDebounced}),this.listenTo(this.model,{"change:name":this.renderName,"change:limits":this.renderInput}),this.listenTo(this.model.getCard().checklistList,"add remove reset sort",this.callback(this.renderBannersDebounced)),this.listenTo(a.me(),"change:oneTimeMessagesDismissed",this.renderBannersDebounced)}render(){try{var e;P("render","rendering checklist state ".concat(this.model.get("name"))),this.$el.html(B.fillFromModel(n("./app/scripts/views/templates/checklist.js"),this.model));const t=this.$(".js-checklist-items-list");return null!==(e=this.getCard())&&void 0!==e&&e.editable()&&p.refreshCardSortable(t,{axis:"y",delay:"75",distance:"7",tolerance:"pointer",placeholder:"checklist-item placeholder",items:".checklist-item",connectWith:".js-checklist-items-list",start(e,t){p.sorting=!0;const n=i(t.helper).outerHeight();return i(t.placeholder).height(n)},stop:()=>this.defer((()=>p.sorting=!1))}),this.$newCheckItemInput=this.$(".js-new-checklist-item-input"),this.$newCheckItemButton=this.$(".js-new-checklist-item-button"),A.defer((()=>{this.$newCheckItemInput.autosize()})),this.renderName(),this.renderCheckItems(),this.renderInput(),this.renderBanners(),this.renderCheckedState(),this}catch(e){_(e,{tags:{ownershipArea:"trello-remarkable",feature:h.Checklists}})}}renderInput(){const e=this.model.isOverLimit("checkItems","perChecklist");return this.$(".js-new-checklist-item").toggleClass("hide",e),this.$(".js-new-checklist-item-limit-exceeded").toggleClass("hide",!e),this}renderName(){return this.$("div.js-checklist-title[attr=name] .current").text(this.model.get("name")),this}renderProgress(){const e=this.model.getCompletedCount(this.getCard()),t=this.model.getCheckItemCount(),n=t>0?Math.round(100*e/t):0,i=e===t&&t>0;return this.$(".js-checklist-progress-bar").toggleClass("checklist-progress-bar-current-delay",(e=>e>parseInt(this.$(".js-checklist-progress-bar").prop("style").width,10))(n)).width(n+"%").toggleClass("checklist-progress-bar-current-complete",i),this.$(".js-checklist-progress-percent").text(n+"%"),this}_showEducationBanner(){var e;if(!this.model.editable())return!1;if(a.me().isDismissed(G))return!1;const t=this.model.getCard().checklistList.find((e=>e.checkItemList.length>0));return this.model===t&&Boolean(null===(e=this.model.getBoard())||void 0===e?void 0:e.hasAdvancedChecklists())}renderBanners(){if(this._showEducationBanner()){var e;const t=w.createElement(l,{onDismiss:function(){return a.me().dismiss(G)},idCard:this.model.get("idCard"),idBoard:this.model.get("idBoard"),idOrganization:null===(e=this.model.getBoard())||void 0===e?void 0:e.get("idOrganization")});return x.render(t,this.el.querySelector(".js-checklist-banners"))}return this.clearBanners()}clearBanners(){return x.unmountComponentAtNode(this.el.querySelector(".js-checklist-banners"))}renderCheckItems(){const e=this.$(".js-checklist-items-list");return this.collectionSubview(s,this.model.checkItemList,{el:e}).render(),p.refreshIfInitialized(e),this.renderProgress(),this}isChecklistCollapsed(){return y.inSet("idCollapsedChecklists",this.model.id)}renderCheckedState(e){const t=this.model.getCheckItemCount(),n=this.model.getCompletedCount(this.getCard()),i=t>0,a=t===n&&t>0,r=this.$(".js-toggle-checklist-state");return this.$(".js-show-checked-items").text(M("show checked items",{count:n.toString()})),this.$(".js-completed-message").addClass("hide"),0!==n&&i?this.isChecklistCollapsed()?(this.$el.addClass("hide-completed-items"),this.$(".js-show-checked-items").removeClass("hide"),this.$(".js-hide-checked-items").addClass("hide"),this.$(".js-completed-message").toggleClass("hide",!a)):(this.$el.removeClass("hide-completed-items"),this.$(".js-show-checked-items").addClass("hide"),this.$(".js-hide-checked-items").removeClass("hide")):(this.$el.removeClass("hide-completed-items"),this.$(".js-show-checked-items").addClass("hide"),this.$(".js-hide-checked-items").addClass("hide")),g.get("treehouse.web.checklist-toggles",!1)&&(this.model.editable()&&i?(r.addClass("editable"),t===n?r.addClass("icon-checkbox-checked").removeClass("icon-checkbox-unchecked"):r.addClass("icon-checkbox-unchecked").removeClass("icon-checkbox-checked")):r.removeClass("editable").removeClass("icon-checkbox-checked icon-checkbox-unchecked icon-checkbox-checked").addClass("icon-checkbox-checked")),this}hideCheckedItems(e){N.stop(e),y.pushCollapsedChecklist(this.model.id),L("Checklist","Hide Checked Items")}showCheckedItems(e){N.stop(e),y.pullCollapsedChecklist(this.model.id),L("Checklist","Show Checked Items")}toggleChecklistState(){if(!this.model.editable()||!g.get("treehouse.web.checklist-toggles",!1))return;this.model.getCheckItemCount()===this.model.getCompletedCount(this.getCard())?(this.model.toggleCheckItemsState("incomplete"),L("Checklist","Uncheck all items")):(this.model.toggleCheckItemsState("complete"),L("Checklist","Check all items"))}dueDateUpsellOrPopover(e){if(!this.model.editable())return;const t=this.model.getBoard();return null!=t&&t.hasAdvancedChecklists()?O({title:K("change due date"),setDate:e=>(this._newCheckitemAttributes.due=e,this.renderNewItemButtons(),this.$(".js-new-checklist-item-input").focus()),getInitialDate:()=>{var e;return null===(e=this._newCheckitemAttributes)||void 0===e?void 0:e.due},trackingMethod:"by clicking due date button in checkitem composer"})(e):null!=t&&t.upsellAdvancedChecklists()?T({trackingMethod:"by clicking due date button in checkitem composer",orgId:this.getOrgId(),teamName:this.getTeamName()})(e):void 0}assignUpsellOrPopover(e){var t,n;if(!this.model.editable())return;let i=this.model.getBoard();if(null!==(t=i)&&void 0!==t&&t.hasAdvancedChecklists()){const t=this.model.getCard();return i=this.model.getBoard(),S({title:K("assign"),getCardMembers:()=>t.memberList.filterDeactivated({force:!0,model:i}).toJSON(),getBoardMembers:()=>i.memberList.filterDeactivated({force:!0}).toJSON(),trackingMethod:"by clicking member button in checkitem composer",getInitialMember:()=>{var e;return null===(e=this._newCheckitemAttributes)||void 0===e?void 0:e.idMember},setMember:e=>(this._newCheckitemAttributes.idMember=e,this.renderNewItemButtons(),this.$(".js-new-checklist-item-input").focus())})(e)}return null!==(n=i)&&void 0!==n&&n.upsellAdvancedChecklists()?T({trackingMethod:"by clicking member button in checkitem composer",orgId:this.getOrgId(),teamName:this.getTeamName()})(e):void 0}getBillingUrl(){const e=this.model.getBoard().getOrganization();if(null!=e)return D.getOrganizationBillingUrl(e)}getOrgId(){const e=this.model.getBoard().getOrganization();if(null!=e)return e.id}getTeamName(){const e=this.model.getBoard().getOrganization();if(null!=e)return e.get("name")}editNewChecklistItem(e){N.stop(e);const t=this.model.getBoard(),n=Boolean((null==t?void 0:t.hasAdvancedChecklists())||(null==t?void 0:t.upsellAdvancedChecklists()));return this.$(".js-new-checklist-item").find(".js-assign,.js-due").toggleClass("hide",!n),this._newCheckitemAttributes={idMember:void 0,due:void 0},this.renderNewItemButtons(),this.edit("newItem")}renderNewItemButtons(){var e;const{idMember:t,due:n}=this._newCheckitemAttributes,i=null===(e=this.modelCache.get("Member",t))||void 0===e?void 0:e.get("fullName");this.$(".js-new-checklist-item .js-assign").html(q(i));const a=n&&u.toDateString(n);return this.$(".js-new-checklist-item .js-due").html($(a)),this}getCard(){return this.options.card}cancelItemEditing(e){return k.cancelEdits(),!1}newChecklistItemInputVisible(){return"none"!==this.$(".js-new-checklist-item-input").css("display")}focusNewTaskInput(e){this.newChecklistItemInputVisible()||this.editNewChecklistItem(e),this.$(".js-new-checklist-item-input").select()}keydownChecklistNameEvent(e){return i(e.target).hasClass("js-cancel-checklist-title")?this.clearEdits():v(e)?(N.stop(e),this.commitEdits(e)):void 0}keydownChecklistEvent(e){if(R(e,!0),i(e.target).hasClass("js-new-checklist-item-input")){if(C.view instanceof m||C.view instanceof o)return this.checkInsert(e);if(v(e))return this.submitTask(e)}}getTextInput(){return this.$(".js-new-checklist-item-input")}getMentionTarget(){return this.$(".js-open-mention-selector")[0]}getEmojiTarget(){return this.$(".js-open-emoji-selector")[0]}submitTask(e){N.stop(e);const t=this.$newCheckItemInput.val().trim();if(/^\s*$/.test(t))return N.stop(e),this.focusNewTaskInput(),!1;const n=A.compact(t.split(/\r\n|\r|\n/)),i=this.model;j.using(i.modelCache.getLock(),(()=>j.resolve(n).each((e=>{var t,n;let r;r=i.checkItemList.length>0?i.checkItemList.last().get("pos")+N.spacing:N.spacing,r+=Math.floor(1024*Math.random());const o=null===(t=this._newCheckitemAttributes)||void 0===t?void 0:t.idMember,s=null===(n=this._newCheckitemAttributes)||void 0===n?void 0:n.due;return j.fromNode((t=>{let n;return n=i.checkItemList.create({name:e.trim(),pos:r,nameData:{emoji:a.me().allCustomEmoji()},idMember:o,due:s},{error:()=>i.checkItemList.remove(n)},t)}))})))).done(),this.$newCheckItemInput.val("").trigger("autosize.resize"),this.focusNewTaskInput(),W.sendTrackEvent({action:"created",actionSubject:"checkItem",source:"cardDetailScreen",containers:{card:{id:i.getCard().id},board:{id:i.getBoard().id}},attributes:{isSingleItem:1===n.length}}),C.hide(),H(t,"checkItems")}sortStop(e,t){N.stopPropagation(e),t.item.trigger("movecheckitem",[t,this.model,!1])}sortReceive(e,t){N.stopPropagation(e),t.item.trigger("movecheckitem",[t,this.model,!0])}confirmDeleteChecklist(e){N.stop(e);const t=this.model.get("name");d.toggle("delete checklist",{elem:this.$(e.target).closest(".js-confirm-delete"),model:this.model,title:M("confirm.delete checklist.title",{checklistName:t}),confirmBtnClass:"nch-button nch-button--danger",fxConfirm:()=>(L("Checklist","Delete Checklist"),this.model.destroy())})}isComplete(){return this.model.getCheckItemCount()===this.model.getCompletedCount(this.getCard())}checkIfComplete(e){if("complete"===e.get("state")&&"incomplete"===e.previous("state")&&this.isComplete()){const t=this.model.checkItemList.indexOf(e);this.congratulations(t)}}congratulations(e){if(this._congratulationsResetTimeout)return;const t=this.$(".checklist-item-checkbox,.checklist-item-checkbox-nachos"),n=["pop-checkbox","shake-checkbox","spin-checkbox"];if(t.css("animation-delay",(t=>{const n=Math.abs(t-e);return"".concat(100*n,"ms")})).addClass(n[Math.floor(Math.random()*n.length)]),z(this.model.get("name"))||z(this.model.getCard().get("name"))||z(this.model.getCard().getList().get("name"))){const e=this.$(".checklist-items-list");V({angle:A.random(55,125),spread:A.random(50,70),particleCount:A.random(40,75),origin:{x:e.offset().left/window.innerWidth,y:e.offset().top/window.innerHeight}})}return this._congratulationsResetTimeout=this.setTimeout((()=>(this._congratulationsResetTimeout=null,t.removeClass("pop-checkbox shake-checkbox spin-checkbox").css("animation-delay",""))),5e3)}moveChecklist(e,t){const n=this.model.getCard();if(null!=n){const e=t.item.parent().children().index(t.item);this.model.update("pos",n.calcChecklistPos(e,this.model)),this.model.collection.sort({silent:!0}),L("Checklist","Reorder Checklist")}}editChecklistName(e){if(p.sorting)return;const t=i(e.target).closest(".editable");if(0===t.length)return;if(f(t))return;N.stop(e),C.hide();const n=t.attr("attr");return this.edit(n)}edit(e){let t;e.indexOf(".")>-1&&(t=e.split("."),e=t[1]);const n=this.$("[attr=".concat(e,"]")),i=this.$(".js-no-higher-edits [attr=".concat(e,"]")),a=n.not(i);if(0===a.length)return;k.cancelEdits();if(0===a.find(".edit:first").length)return;const r=a.find(".field:first");var o;(a.addClass("editing"),""===r.val())&&r.val(N.traverse(this.model.attributes,null!==(o=t)&&void 0!==o?o:e));this.waitForId(this.model,(()=>r.data("draftKey",this._draftKey(e)))),P("editable",this.model),r.focus().select(),r.autosize({append:!1})}clearEdits(e){N.stop(e);const t=i(e.target).closest(".editable[attr]"),n=t.attr("attr");return null!=n&&this._discardDraft(n),t.find(".field").val(""),t.find(".edits-warning").hide(),t.find(".edits-error").hide(),t.removeClass("editing"),k.cancelEdits(),!1}commitEdits(e){e&&N.stop(e);const t=i(e.target).closest(".editable.editing[attr]");if(t.find(".edits-error").hide(),!this.validate())return;const n=this,{model:a}=this;return t.remove("input[type=submit]"),t.removeClass("editing").each((function(){const e=i(this).attr("attr");let r=i(this).find(".field").val();return n.allowNewlines||(r=r.replace(/[\r\n]+/g," ")),0===i.trim(r).length&&(r=""),a.get(e)===r?n._discardDraft(e):a.update(e,r,(i=>{null!=i?(t.find(".edits-error").text(i.message).show(),n._saveDraft(e,r)):n._discardDraft(e)}))})).find(".field").val(""),t.find(".edits-warning").hide(),!0}validate(){let e;for(e of Array.from(this.$(".editing.non-empty .field")))if(/^\s*$/.test(i(e).val()))return!1;for(e of Array.from(this.$(".editing .field"))){var t;const n=(null!==(t=i(e).val())&&void 0!==t?t:"").length;if(n>16384)return i(".editing").find(".edits-error").text(M("text too long",{over:asNumber(n-16384)})).show(),!1}return!0}editField(e){const t=i(e.target).closest("a");if(t.length>0&&"#"!==t.attr("href"))return;if(p.sorting)return;const n=i(e.target).closest(".editable");if(0===n.length)return;if(f(n))return;N.stop(e),C.hide();const a=n.attr("attr");return this.edit(a)}_draftKey(e){return"draft_".concat(this.model.id,"_").concat(e)}_saveDraft(e,t){return E.set(this._draftKey(e),t)}_recallDraft(e){return E.get(this._draftKey(e))}_discardDraft(e){return E.unset(this._draftKey(e))}saveDrafts(e){return null!=this.model.id&&(()=>{const t=[];for(const n of Array.from(this.getEdits())){const a=n.attr("attr"),r=n.find(".field:first").val();0!==i.trim(r).length&&(this.model.get(a)!==r&&r!==this._recallDraft(a)?(e&&(L("Editable View","Save Draft","Save draft via ".concat(e)),F("Editable View","Save Draft","","","","when ".concat(e),"")),t.push(this._saveDraft(a,r))):t.push(void 0))}return t})()}getEdits(){const e=this.$("[attr]"),t=this.$(".js-no-higher-edits [attr]");return e.not(t).map(((e,t)=>i(t)))}remove(){return this.clearBanners(),this.saveDrafts("removing view"),i(window).off(".EditableView-".concat(this.model.cid)),super.remove(...arguments)}}Z.initClass(),A.extend(Z.prototype,r,c),e.exports=Z},"./app/scripts/views/checklist/toggle-assign-popover.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"toggleAssignPopoverV2",(function(){return O}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/src/components/MemberAvatar/index.ts"),o=n("./app/src/components/ChooseMember/ChooseMember.less"),s=n.n(o),l=n("./packages/nachos/icons/check.tsx"),c=n("./packages/i18n/index.ts"),d=n("./app/gamma/src/selectors/boards.ts"),u=n("./app/src/components/ComponentWrapper/index.ts"),p=n("./packages/nachos/button.ts"),m=n("./packages/keybindings/index.ts"),h=n("./node_modules/classnames/index.js"),g=n.n(h),b=n("./packages/test-ids/index.ts");const f=Object(c.forTemplate)("choose_member"),v=({highlight:e,member:t,onClick:n,onFocus:i,onMouseOver:o,selected:c})=>a.a.createElement("li",null,a.a.createElement("button",{className:g()(s.a.memberButton,{[s.a.highlight]:e}),onMouseOver:o,onFocus:i,onClick:n,"data-test-id":b.ChecklistTestIds.ChecklistItemAddMemberButton},a.a.createElement(r.a,{className:s.a.memberAvatar,idMember:t.id}),a.a.createElement("div",{className:s.a.memberName},t.fullName),c&&a.a.createElement(l.a,null)));function k(e,t,n){if(0===e.length||!t)return;const i=e.indexOf(t)+("up"===n?-1:1);return e[(e.length+i)%e.length]}function y(e){const{idMemberInitial:t,onSelect:n}=e,[r,o]=Object(i.useState)(!0),[l,h]=Object(i.useState)(""),{cardMembers:g,boardMembers:y}=function(e,t,n){return Object(i.useMemo)((()=>{const i=Object(d.c)(e),a=e=>i(e.fullName),r=t().filter(a),o=new Set(r.map((e=>e.id)));return{cardMembers:r,boardMembers:n().filter((e=>a(e)&&!o.has(e.id)))}}),[e,t,n])}(l,e.getCardMembers,e.getBoardMembers),C=[...g,...y],j=C.length>0?C[0]:void 0,[w,x]=Object(i.useState)(j),_=r?w&&C.includes(w)?w:j:void 0,E=e=>e&&n(e.id===t?null:e),S=e=>a.a.createElement(a.a.Fragment,null,a.a.createElement("ul",{className:s.a.memberList},e.slice(0,12).map((e=>{const n=e.id===t;return a.a.createElement(v,{key:e.id,member:e,selected:n,highlight:e===_,onClick:()=>E(e),onFocus:()=>x(void 0),onMouseOver:()=>{r&&x(e)}})}))),e.length>12&&a.a.createElement("div",{className:s.a.memberOverflow},a.a.createElement("div",null,Object(c.localizeCount)("hiding-additional-members",e.length-12)),a.a.createElement("div",null,f("search-to-find-more"))));return a.a.createElement(u.ComponentWrapper,null,a.a.createElement("input",{autoFocus:!0,className:"js-autofocus",type:"text",placeholder:f("search-members"),onChange:e=>{h(e.target.value),x(void 0)},onKeyDown:e=>{switch(Object(m.getKey)(e)){case m.Key.ArrowDown:x(k(C,_,"down"));break;case m.Key.ArrowUp:x(k(C,_,"up"));break;case m.Key.Enter:E(_);break;default:return}e.preventDefault()},onBlur:()=>o(!1),onFocus:()=>o(!0)}),g.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",{className:s.a.heading},f("card-members")),S(g)),y.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",{className:s.a.heading},f("other-board-members")),S(y)),a.a.createElement(p.Button,{className:s.a.removeButton,onClick:()=>{n(null)},shouldFitContainer:!0,isDisabled:!t,"data-test-id":b.ChecklistTestIds.ChecklistItemRemoveMemberButton},f("remove-member")))}var C=n("./app/scripts/views/lib/pop-over.js"),j=n.n(C),w=n("./app/scripts/lib/util/index.js"),x=n.n(w),_=n("./packages/analytics/index.ts"),E=n("./app/scripts/views/checklist/advanced-checklists-beta-info.tsx");function S(e,t){return e.bind(t)}function O(e){const{title:t,trackingMethod:n}=e;return function(i){x.a.stop(i);const r=S(e.setMember,this),o=S(e.getInitialMember,this),s=S(e.getCardMembers,this),l=S(e.getBoardMembers,this),c=o();Object(_.trackUe)(_.Noun.CARD_DETAIL,_.Verb.OPENS,c?_.Noun.CHANGE_MEMBER_DIALOGUE:_.Noun.ASSIGN_MEMBER_DIALOGUE,"on checkitem","",n),j.a.toggle({elem:i.currentTarget,getViewTitle:()=>t,keepEdits:!0,reactElement:a.a.createElement(a.a.Fragment,{key:"choose-member"},a.a.createElement(y,{idMemberInitial:c,getCardMembers:s,getBoardMembers:l,onSelect:e=>{j.a.hide(),e&&e.id!==c?r(e.id):!e&&c&&r(null)}}),a.a.createElement(E.a,null))})}}},"./app/scripts/views/checklist/toggle-clear-popover.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"toggleClearPopover",(function(){return p}));var i=n("./app/scripts/views/lib/pop-over.js"),a=n.n(i),r=n("./node_modules/react/index.js"),o=n.n(r),s=n("./app/scripts/lib/util/index.js"),l=n.n(s),c=n("./packages/i18n/index.ts"),d=n("./packages/nachos/button.ts");const u=Object(c.forTemplate)("advanced_checklists");function p({clear:e,message:t,removeText:n,title:i,upsell:s}){return function(c){l.a.stop(c),a.a.toggle({elem:c.currentTarget,getViewTitle:()=>i,keepEdits:!0,reactElement:o.a.createElement(r.Fragment,{key:"clear"},s&&o.a.createElement("p",{style:{textAlign:"center",padding:"12px 0"}},t),o.a.createElement(d.Button,{onClick:()=>{a.a.hide(),e.call(this)},shouldFitContainer:!0},n),s&&o.a.createElement(d.Button,{onClick:()=>{a.a.hide(),window.open("/business-class")},shouldFitContainer:!0},u("upgrade-to-business-class")))})}}},"./app/scripts/views/checklist/toggle-date-popover.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"toggleDatePopoverV2",(function(){return x}));var i=n("./packages/i18n/index.ts"),a=n("./app/scripts/lib/localize.js"),r=n.n(a),o=n("./node_modules/moment/moment.js"),s=n.n(o),l=n("./node_modules/react/index.js"),c=n.n(l),d=n("./packages/nachos/spinner.ts"),u=n("./app/src/components/ChooseDate/ChooseDate.less"),p=n.n(u),m=n("./packages/nachos/button.ts"),h=n("./packages/test-ids/index.ts"),g=n("./packages/use-lazy-component/index.ts");const b=Object(i.forTemplate)("choose_date");function f({dateInitial:e,onReady:t,onSelect:i}){const[a,o]=Object(l.useState)(!0),[u,f]=Object(l.useState)(null),[v,k]=Object(l.useState)(null);return Object(l.useEffect)((()=>{u&&v&&Object(g.importWithRetry)((()=>n.e(152).then(n.t.bind(null,"./node_modules/pikaday/pikaday.js",7)))).then((({default:n})=>{new n({field:u,container:v,bound:!1,format:"l",firstDay:s.a.localeData().firstDayOfWeek(),i18n:{previousMonth:r()("prev month button text"),nextMonth:r()("next month button text"),months:s.a.months(),weekdays:s.a.weekdays(),weekdaysShort:s.a.weekdaysMin()},keyboardInput:!1,onSelect:i,defaultDate:e,setDefaultDate:!0}),o(!1),null==t||t()}))}),[u,v,t,i,e]),c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"hidden",ref:f}),c.a.createElement("div",{ref:k,className:"calendarContainer"}),a&&c.a.createElement(d.a,{centered:!0}),c.a.createElement("div",{className:p.a.buttons},c.a.createElement(m.Button,{onClick:()=>i(null),shouldFitContainer:!0,isDisabled:!e,"data-test-id":h.ChecklistTestIds.ChecklistItemRemoveDateButton},b("remove-date"))))}var v=n("./app/scripts/views/lib/pop-over.js"),k=n.n(v),y=n("./app/scripts/lib/util/index.js"),C=n.n(y),j=n("./packages/analytics/index.ts"),w=n("./app/scripts/views/checklist/advanced-checklists-beta-info.tsx");function x({title:e,trackingMethod:t,getInitialDate:n,setDate:i,moment:a=s.a,betaInfo:r=!0,hourTime:o=18}){return function(s){C.a.stop(s);const l=n()||void 0,d=l?a(l).toDate():void 0;Object(j.trackUe)(j.Noun.CARD_DETAIL,j.Verb.OPENS,d?j.Noun.CHANGE_DUE_DATE_PICKER:j.Noun.DUE_DATE_PICKER,"on checkitem","",t),k.a.toggle({elem:s.currentTarget,getViewTitle:()=>e,keepEdits:!0,reactElement:c.a.createElement(c.a.Fragment,{key:"choose-date"},c.a.createElement(f,{dateInitial:d,onSelect:e=>{k.a.hide();const t=e?a(e).hour(o).minute(0).toDate():null;i(t)}}),r?c.a.createElement(w.a,null):null)})}}},"./app/scripts/views/checklist/upsell-advanced-checklist.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/checklist/upsell-advanced-checklist.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/scripts/views/checklist/upsell-advanced-checklist.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"AdvancedChecklistUpsell",(function(){return A})),n.d(t,"toggleUpsellAdvancedChecklist",(function(){return P}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/scripts/views/lib/pop-over.js"),o=n.n(r),s=n("./packages/nachos/icons/board.tsx"),l=n("./packages/nachos/icons/power-up.tsx"),c=n("./packages/nachos/icons/butler-bot.tsx"),d=n("./packages/nachos/icons/add.tsx"),u=n("./packages/i18n/index.ts"),p=n("./app/scripts/views/checklist/upsell-advanced-checklist.less"),m=n.n(p),h=n("./node_modules/classnames/index.js"),g=n.n(h),b=n("./app/scripts/lib/util/index.js"),f=n.n(b),v=n("./packages/analytics/index.ts"),k=n("./packages/atlassian-analytics/index.ts"),y=n("./app/src/components/UpgradePrompts/UpgradePromptButton.tsx"),C=n("./node_modules/@apollo/client/index.js");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _={context:{operationName:"UpsellAdvancedChecklist"}},E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UpsellAdvancedChecklist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"boards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"premiumFeatures"}}]}}]}}]}}]};var S=n("./app/src/components/ComponentWrapper/index.ts"),O=n("./packages/nachos/spinner.ts"),T=n("./app/src/components/FreeTrial/index.ts"),D=n("./packages/feature-flag-client/index.ts");const N=Object(u.forTemplate)("upsell_advanced_checklist"),I=Object(u.forNamespace)("upgrade-path-audit");function A({orgId:e,teamName:t}){var n,i;const{data:r,loading:o}=function(e){const t=w(w({},_),e);return C.useQuery(E,t)}(),u=Object(D.useFeatureFlag)("btg.upgrade-prompt-audit",!1),{isEligible:p}=Object(T.useFreeTrialEligibilityRules)(e,{skip:!u||!e}),h=u&&p&&t?"/".concat(t,"/free-trial"):t?"/".concat(t,"/billing"):"/business-class",b=null==r||null===(n=r.member)||void 0===n||null===(i=n.boards)||void 0===i?void 0:i.some((e=>e.premiumFeatures.includes("advancedChecklists")));return a.a.createElement("div",{className:m.a.acContainer,key:"acContainer"},a.a.createElement("div",{className:g()(m.a.text,"informational"),key:"information"},a.a.createElement("p",{className:m.a.checklistTitle},N("supercharge-your-checklists-with-bc")),a.a.createElement("p",{className:"information"},N("with-advanced-checklists")),a.a.createElement("div",{className:"feedback-section",key:"feedback-section"}),a.a.createElement("div",{className:m.a.upgradeWrapper},a.a.createElement(y.UpgradePromptButtonConnected,{shouldFitContainer:!0,cta:u&&p?I(["try-for-14-days"]):N("upgrade"),ctaLink:h,ctaOnClick:()=>{u?(Object(v.trackUe)({category:v.Noun.BUSINESS_CLASS_ADVANCED_CHECKLIST_UPSELL,verb:v.Verb.OPENS,directObj:e?p?v.Noun.BC_MODAL:v.Noun.TEAM_PAGE_BC_TAB:v.Noun.BUSINESS_CLASS_MARKETING_PAGE,method:"by clicking upgrade button"}),k.Analytics.sendClickedButtonEvent({buttonName:"upgradeToBCButton",source:"advancedChecklistUpsellInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!p}})):Object(v.trackUe)({category:v.Noun.BUSINESS_CLASS_ADVANCED_CHECKLIST_UPSELL,verb:v.Verb.OPENS,directObj:e?v.Noun.TEAM_PAGE_BC_TAB:v.Noun.BUSINESS_CLASS_MARKETING_PAGE,method:"by clicking upgrade button"})},openInNewTab:!0}))),a.a.createElement("div",{className:"bc-features",key:"bc-features"},a.a.createElement("p",{className:m.a.bcGetTitle},N("more-features-you-get")),a.a.createElement("div",{className:g()(m.a.iconDiv,"boards")},a.a.createElement("div",{className:m.a.iconStyling,key:"boards"},a.a.createElement(s.BoardIcon,{dangerous_className:m.a.icon,size:"small"})),a.a.createElement("span",{className:m.a.iconInfo,key:"unlimited-team-boards"},N("unlimited-team-boards"))),a.a.createElement("div",{className:g()(m.a.iconDiv,"powerups"),key:"powerups"},a.a.createElement("div",{className:m.a.iconStyling,key:"powerups"},a.a.createElement(l.a,{dangerous_className:m.a.icon,size:"small"})),a.a.createElement("span",{className:m.a.iconInfo,key:"unlimited-powerups"},N("unlimited-power-ups"))),a.a.createElement("div",{className:g()(m.a.iconDiv,"butler"),key:"butler"},a.a.createElement("div",{className:m.a.iconStyling,key:"butler"},a.a.createElement(c.a,{dangerous_className:m.a.icon,size:"small"})),a.a.createElement("span",{className:m.a.iconInfo,key:"advanced-automation"},N("advanced-automation"))),a.a.createElement("div",{className:g()(m.a.iconDiv,"security"),key:"security"},a.a.createElement("div",{className:m.a.iconStyling,key:"security-icon"},a.a.createElement(d.a,{dangerous_className:m.a.icon,size:"small"})),a.a.createElement("span",{className:m.a.iconInfo,key:"extra-security"},N("extra-security")))),a.a.createElement("div",{className:m.a.bcLink,key:"bc-link"},a.a.createElement("a",{href:"/business-class",target:"_blank",onClick:()=>Object(v.trackUe)({category:v.Noun.BUSINESS_CLASS_ADVANCED_CHECKLIST_UPSELL,verb:v.Verb.OPENS,directObj:v.Noun.BUSINESS_CLASS_MARKETING_PAGE,method:"by clicking learn more button"})},N("learn-more"))),o?a.a.createElement(O.a,{small:!0,centered:!0}):b&&a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",null),a.a.createElement("p",null,N("some-of-your-boards-have-bc")),a.a.createElement("p",null,a.a.createElement("a",{href:"https://help.trello.com/article/942-assigning-people-and-due-dates-to-specific-checklist-items",target:"add-board-to-team"},N("you-may-be-able-to-move-this-board")))))}function P({trackingMethod:e,orgId:t,teamName:n}){return function(i){f.a.stop(i),Object(v.trackUe)(v.Noun.CARD_DETAIL,v.Verb.OPENS,v.Noun.BUSINESS_CLASS_ADVANCED_CHECKLIST_UPSELL,"on checkitem","",e),o.a.toggle({elem:i.currentTarget,keepEdits:!0,hideHeader:!0,reactElement:a.a.createElement(S.ComponentWrapper,{key:"advanced-checklists-info"},a.a.createElement(A,{orgId:t,teamName:n}))})}}},"./app/scripts/views/custom-field/constants.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"MAX_FIELDS",(function(){return i}));const i=50},"./app/scripts/views/custom-field/custom-field-badge-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")(),r=n("./app/scripts/views/internal/view.js"),o=n("./node_modules/xtend/immutable.js"),{Analytics:s}=n("./packages/atlassian-analytics/index.ts"),l=a.renderable((function({icon:e,name:t,text:n,type:i}){return null!=e&&a.icon(e,{class:"mod-quiet"}),a.span(".badge-text",(function(){return t&&"checkbox"!==i?a.text("".concat(t,": ").concat(n)):a.text(n)}))})),c={black:"field-color-black",blue:"field-color-blue",green:"field-color-green",orange:"field-color-orange",red:"field-color-red",yellow:"field-color-yellow",purple:"field-color-purple",pink:"field-color-pink",sky:"field-color-sky",lime:"field-color-lime","light-gray":"field-color-light-gray"};class d extends r{static initClass(){this.prototype.tagName="div"}className(){const e=this.getColorClass();return e?"badge field-color ".concat(e):"badge"}initialize({customFieldItem:e,customField:t}){this.customFieldItem=e,this.customField=t}getColorClass(){return c[null!=this.options.customFieldItem?this.options.customFieldItem.getColor():void 0]}trackCustomFieldValueUpdate(){s.sendTrackEvent({action:"updated",actionSubject:"customFieldValue",source:"cardDetailBadge",attributes:{type:this.customField.get("type")},containers:this.customField.getBoard().getAnalyticsContainers()})}renderBadge(e){return this.$el.html(l(e)),this.$el}render(){const e=this.customField.toJSON(),t=this.customFieldItem.toJSON(),n="checkbox"===this.customField.get("type")?this.customField.icon():void 0,a=this.customFieldItem.getFrontBadgeText();return this.renderBadge(o(t,i.pick(e,"name","type"),{icon:n,text:a})),this}}d.initClass(),e.exports=d},"./app/scripts/views/custom-field/custom-field-badges-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/custom-field/custom-field-badge-view.js"),r=n("./app/scripts/views/internal/plugins/plugin-runner.js"),{sendPluginViewedComponentEvent:o}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{trackUe:s}=n("./packages/analytics/index.ts"),l=n("./app/scripts/views/internal/view.js"),c=n("./packages/config/index.ts").customFieldsId;let d=null,u=!1;class p extends l{static initClass(){this.prototype.tagName="span",this.prototype.badgeView=a}idForBadge(e,t){let n=[e.id,e.name,JSON.stringify(e.options)];return t&&(n.push(t.id),t.idValue?n.push(t.idValue):n=n.concat([t.color,JSON.stringify(t.value)])),n.join(":")}render(){const e=this.model.getBoard();e.id!==d&&(d=e.id,u=!1);const t=e.customFieldList.map((e=>{const t=this.model.getCustomFieldItem(e.id);if(!(null!=t?t.showFrontBadge():void 0))return null;const n=this.idForBadge(e.toJSON(),t.toJSON());return this.subview(this.badgeView,this.model,{customFieldItem:t,customField:e},n)})),n=i.compact(t);return this.ensureSubviews(n),n.length>0&&this.trackBadges(),this}trackBadges(){if(!u)return u=!0,s("board view","views","Power-Up","","","card-badges",c),r.getOrLoadPlugin(this.model.getBoard(),c).then((()=>o({idPlugin:c,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})))}}p.initClass(),e.exports=p},"./app/scripts/views/custom-field/custom-field-card-button-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./app/scripts/views/templates/card_detail_sidebar_button.js");class r extends i{static initClass(){this.prototype.tagName="span"}renderOnce(){return this.$el.html(a("js-edit-fields","custom-field","custom-fields")),this}}r.initClass(),e.exports=r},"./app/scripts/views/custom-field/custom-field-card-detail-badge-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/custom-field/custom-field-badge-view.js"),{trackUe:r}=n("./packages/analytics/index.ts"),o=n("./node_modules/xtend/immutable.js"),s=n("./packages/config/index.ts").customFieldsId;e.exports=function(){class e extends a{static initClass(){this.prototype.tagName="div"}className(){return"custom-field-detail-item"}getBadgeIcon(){return this.customField.icon()}getBadgeText(){let e;return null!=(e=null!=this.customFieldItem?this.customFieldItem.getFrontBadgeText():void 0)?e:""}track(){return r("card detail","opens","Power-Up","","","card-detail-badge",s),this.options.sendPluginUIEvent({idPlugin:s,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{action:"clicked",actionSubject:"badge",actionSubjectId:"cardDetailBadge",source:"cardDetailScreen"}})}renderBadge(e){return this.$el.html(this.template(e)),this.$(".js-custom-field-detail-badge")}render(){const e=this.customField.toJSON(),t=null!=this.customFieldItem?this.customFieldItem.toJSON():void 0;let n=i.pick(e,"name","type","options");n.idCustomField=e.id,t&&(n.idCustomFieldItem=t.id,n.idValue=t.idValue),n.editable=this.model.editable();const a=this.getBadgeText(),r=this.getBadgeIcon(),s=this.model.editable(),l=this.getColorClass(),c=l?".field-color.".concat(l):"";return n=o(n,{icon:r,text:a,editable:s,color:c}),this.renderBadge(n),this}}return e.initClass(),e}()},"./app/scripts/views/custom-field/custom-field-card-detail-badges-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/custom-field/custom-field-badges-view.js"),r=n("./app/scripts/views/custom-field/custom-field-checkbox-card-detail-badge-view.js"),o=n("./app/scripts/views/custom-field/custom-field-date-card-detail-badge-view.js"),s=n("./app/scripts/views/custom-field/custom-field-list-card-detail-badge-view.js"),l=n("./app/scripts/views/custom-field/custom-field-number-card-detail-badge-view.js"),c=n("./app/scripts/views/custom-field/custom-field-text-card-detail-badge-view.js"),{trackUe:d}=n("./packages/analytics/index.ts"),u=n("./packages/config/index.ts").customFieldsId;e.exports=function(){class e extends a{static initClass(){this.prototype.tagName="div"}className(){return"custom-field-detail-badges-grid"}render(){const e=this.model.getBoard().customFieldList.map((e=>{if(!e.visible())return null;const t=this.model.getCustomFieldItem(e.id);if(!this.model.editable()&&(null!=t?t.isEmpty():void 0))return null;if(null!=t||this.model.editable()){const n=this.idForBadge(e.toJSON(),null!=t?t.toJSON():void 0);return this.subview(function(e){switch(e){case"checkbox":return r;case"date":return o;case"list":return s;case"number":return l;case"text":return c}}(e.get("type")),this.model,{customFieldItem:t,customField:e,sendPluginUIEvent:this.options.sendPluginUIEvent},n)}})),t=i.compact(e);return this.ensureSubviews(t),t.length>0&&this.trackBadges(),this}trackBadges(){if(!this.trackedDetailsBadges)return this.trackedDetailsBadges=!0,d("card details","views","Power-Up","","","card-detail-badges",u),this.options.sendPluginScreenEvent({idPlugin:u,idBoard:this.model.getBoard().id,idCard:this.model.id,screenName:"pupCardBackSectionInlineDialog"})}}return e.initClass(),e}()},"./app/scripts/views/custom-field/custom-field-checkbox-card-detail-badge-view.js":function(e,t,n){const i=n("./app/scripts/views/custom-field/custom-field-card-detail-badge-view.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")(),r=n("./app/scripts/lib/util/index.js");e.exports=function(){class e extends i{static initClass(){this.prototype.template=a.renderable((function(e){null==e&&(e={});const{icon:t,name:n,editable:i,color:r}=e;return a.h3(".card-detail-item-header",{title:n},(function(){return a.icon(t,{class:"mod-quiet"}),a.text(n)})),a.span(".custom-field-detail-badge.custom-field-detail-checkbox-badge".concat(r),{class:a.classify({"js-custom-field-detail-badge":i,"is-clickable":i,"is-checked":this.isChecked()})},(()=>a.span(".custom-field-detail-badge-checkbox-box",(()=>a.span(".custom-field-detail-badge-checkbox-icon")))))})),this.prototype.events={"click .js-custom-field-detail-badge":"editCustomFieldBadge"}}isChecked(){return"true"===(e=null!=this.customFieldItem?this.customFieldItem.get("value"):void 0,t=e=>e.checked,null!=e?t(e):void 0);var e,t}getBadgeText(){return this.customField.get("name")}editCustomFieldBadge(e){if(r.stop(e),this.track(),this.trackCustomFieldValueUpdate(),null==this.customFieldItem)return void this.model.customFieldItemList.create({idCustomField:this.customField.id,idModel:this.model.id,modelType:"card",value:{checked:"true"}});const t=!this.customFieldItem.getParsedValue();return t?this.customFieldItem.setValue({checked:t.toString()}):this.customFieldItem.clearValue()}}return e.initClass(),e}()},"./app/scripts/views/custom-field/custom-field-create-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/models/custom-field.js"),r=n("./app/scripts/views/custom-field/option-editor-view.js"),o=n("./app/scripts/views/lib/pop-over.js"),s=n("./node_modules/bluebird/js/browser/bluebird.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./app/scripts/lib/util/index.js"),d=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:u}=n("./packages/atlassian-analytics/index.ts"),p=d.renderable((({selectedType:e,name:t,isDuplicate:n,cardFront:i})=>d.form((function(){return d.label({for:"field-create-type"},(()=>d.format("type"))),d.select(".js-field-type-select",{id:"field-create-type",name:"type"},(()=>a.types.forEach((t=>d.option({value:t,selected:e===t},(()=>d.format(t))))))),d.label({for:"field-create-name"},(()=>d.format("name"))),d.input(".js-field-name-input",{autoselect:!0,class:d.classify({"is-invalid":n}),id:"field-create-name",maxlength:1e3,name:"name",required:!0,spellcheck:!0,type:"text",value:t}),d.p(".custom-field-error-message.js-duplicate-error",{class:d.classify({hide:!n})},(()=>d.format("duplicate field"))),d.div({class:d.classify({"js-options-container":!0,"options-container":!0})}),d.hr(),d.a(".js-toggle-field-display.custom-fields-settings-toggle",{href:"#"},(function(){if(d.format("show on front of card"),i)return d.icon("check")})),d.hr(),d.input(".nch-button.nch-button--primary.js-save-field",{disabled:0===t.length||n,type:"submit",value:d.l("create")})}))));class m extends l{static initClass(){this.prototype.viewTitleKey="new field",this.prototype.events={"click .js-save-field":"createField","click .js-toggle-field-display":"toggleDisplay","input .js-field-name-input":"validateFieldName","change .js-field-type-select":"changeType"}}initialize(){return this.cardFront=!0,this.board=this.options.board}isDuplicate(){const e=null!=this.name?this.name:"",t=null!=this.selectedType?this.selectedType:"checkbox";return this.board.hasCustomField(t,e)}render(){const e=this.isDuplicate();return this.$el.html(p({name:null!=this.name?this.name:"",isDuplicate:e,selectedType:this.selectedType,cardFront:this.cardFront})),"list"===this.selectedType&&(this.optionEditor=this.subview(r,this.model,{},"new-field-options-editor"),this.appendSubview(this.optionEditor,this.$(".js-options-container"))),this}changeType(e){return this.selectedType=this.$(e.target).val(),this.render()}validateFieldName(e){const t=this.$(e.target).val().trim();this.name=t;const n=this.isDuplicate();return this.$(".js-save-field").prop("disabled",0===this.name.length||n),this.$(".js-field-name-input").toggleClass("is-invalid",n),this.$(".js-duplicate-error").toggleClass("hide",!n)}toggleDisplay(e){return c.stop(e),this.cardFront=!this.cardFront,this.render()}createField(e){c.stop(e);const t=this.$(e.target),n=t.closest("form"),a=n.find(".js-field-type-select").val(),r=n.find(".js-field-name-input").val().trim();if(""===r)return;const l=u.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldCreateInlineDialog"});t.prop("disabled",!0);const d={idModel:this.board.id,modelType:"board",name:r,pos:"bottom",type:a};"list"===a&&(d.options=this.optionEditor.getOptions());const p=i.extend({},d,{display_cardFront:this.cardFront});return new s(((e,t)=>this.board.customFieldList.createWithTracing(d,{requestData:p,traceId:l,success:()=>{u.sendTrackEvent({action:"added",actionSubject:"customField",source:"customFieldCreateInlineDialog",attributes:{taskId:l,type:a},containers:this.board.getAnalyticsContainers()}),u.taskSucceeded({taskName:"edit-plugin",subTask:"customFields",source:"customFieldCreateInlineDialog",traceId:l}),e()},error:(e,n)=>(u.taskFailed({taskName:"edit-plugin",subTask:"customFields",traceId:l,source:"customFieldCreateInlineDialog",error:n}),t(n))}))).then((()=>o.popView())).done()}}m.initClass(),e.exports=m},"./app/scripts/views/custom-field/custom-field-date-card-detail-badge-view.js":function(e,t,n){const i=n("./app/scripts/views/custom-field/custom-field-card-detail-badge-view.js"),a=n("./app/scripts/views/custom-field/date-editor-view.js"),r=n("./node_modules/moment/moment.js"),o=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),l=n("./app/scripts/lib/util/index.js");e.exports=function(){class e extends i{static initClass(){this.prototype.template=s.renderable((function(e){null==e&&(e={});const{icon:t,name:n,text:i,editable:a,color:r}=e;return s.h3(".card-detail-item-header",{title:n},(function(){return s.icon(t,{class:"mod-quiet"}),s.text(n)})),a?s.a(".custom-field-detail-badge.is-clickable.js-custom-field-detail-badge".concat(r),{href:"#",title:i},(function(){return i?s.text(i):(s.span(".icon-sm.icon-add"),s.format("add date"))})):s.span(".custom-field-detail-badge".concat(r),{title:i},(()=>s.text(i)))})),this.prototype.events={"click .js-custom-field-detail-badge":"editCustomFieldBadge"}}getBadgeText(){let e;return t=null!=this.customFieldItem?this.customFieldItem.get("value"):void 0,n=e=>e.date,(e=null!=t?n(t):void 0)?r(new Date(e)).calendar():"";var t,n}editCustomFieldBadge(e){return l.stop(e),this.track(),o.toggle({elem:this.$(e.target).closest(".js-custom-field-detail-badge"),view:a,options:{model:this.model,modelCache:this.modelCache,customFieldItem:this.customFieldItem,customField:this.customField,trackSetDateEvent:this.trackCustomFieldValueUpdate}})}}return e.initClass(),e}()},"./app/scripts/views/custom-field/custom-field-delete-view.js":function(e,t,n){const i=n("./app/scripts/views/lib/pop-over.js"),a=n("./app/scripts/views/internal/view.js"),r=n("./app/scripts/lib/util/index.js"),o=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:s,tracingCallback:l}=n("./packages/atlassian-analytics/index.ts"),c=o.renderable((({name:e})=>o.div((function(){return o.p((()=>o.format("delete warning"))),o.p((()=>o.format("delete prompt",{fieldName:e}))),o.input(".js-field-name",{name:"name",type:"text",autofocus:!0,spellcheck:!0,placeholder:o.l("field name")}),o.div((()=>o.button(".nch-button--fullwidth.nch-button.nch-button--danger.js-delete-field.disabled",{disabled:!0},(()=>o.format("delete field")))))}))));class d extends a{static initClass(){this.prototype.viewTitleKey="delete field",this.prototype.events={"click .js-delete-field":"removeField","input .js-field-name":"validateName"}}initialize(){return this.customField=this.options.customField}render(){return this.$el.html(c({name:this.customField.get("name")})),this}validateName(e){const t=this.$(e.target).val()===this.customField.get("name");return this.$(".js-delete-field").toggleClass("disabled",!t).prop("disabled",!t)}removeField(e){r.stop(e);const t=s.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldDeleteInlineDialog"});return this.customField.destroyWithTracing({traceId:t},l({taskName:"edit-plugin",subTask:"customFields",source:"customFieldDeleteInlineDialog",traceId:t},(e=>{e||s.sendTrackEvent({action:"deleted",actionSubject:"customField",source:"customFieldDeleteInlineDialog",attributes:{taskId:t,type:this.customField.get("type")},containers:this.customField.getBoard().getAnalyticsContainers()})}))),i.hide()}}d.initClass(),e.exports=d},"./app/scripts/views/custom-field/custom-field-edit-view.js":function(e,t,n){const i=n("./app/scripts/views/custom-field/custom-field-delete-view.js"),{isSubmitEvent:a}=n("./packages/keybindings/index.ts"),r=n("./app/scripts/views/custom-field/option-editor-view.js"),o=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/views/internal/view.js"),l=n("./app/scripts/lib/util/index.js"),c=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:d,tracingCallback:u}=n("./packages/atlassian-analytics/index.ts"),p=c.renderable((({name:e,cardFront:t,isList:n})=>c.div((function(){return c.label({for:"name"},(()=>c.format("name"))),c.input(".js-field-name",{name:"name",type:"text",autofocus:!0,spellcheck:!0,value:e}),c.p(".custom-field-error-message.hide.js-duplicate-error",(()=>c.format("duplicate field"))),c.div({class:c.classify({"js-options-container":!0,"options-container":!0})}),n&&c.p(".quiet",(()=>c.format("delete option warning"))),c.hr(),c.a(".js-toggle-field-display.custom-fields-settings-toggle",{href:"#"},(function(){if(c.format("show on front of card"),t)return c.icon("check")})),c.div((function(){return c.hr(),c.a(".quiet.js-delete-field",{href:"#"},(()=>c.format("delete field")))}))}))));class m extends s{static initClass(){this.prototype.events={"click .js-delete-field":"removeField","click .js-toggle-field-display":"toggleDisplay","keydown .js-field-name":"handleEnter","input .js-field-name":"validateName","focusout .js-field-name":"saveOnBlur"}}viewTitleKey(){return this.customField.isList()?"edit field":"rename field"}initialize(){return this.board=this.options.board,this.customField=this.options.customField,this.options=this.customField.get("options")}render(){var e,t;return this.$el.html(p({name:this.customField.get("name"),cardFront:(e=this.customField.get("display"),t=e=>e.cardFront,null!=e?t(e):void 0),isList:this.customField.isList()})),this.customField.isList()&&(this.optionEditor=this.subview(r,this.model,{customField:this.customField},"".concat(this.customField.id,"-options-editor")),this.appendSubview(this.optionEditor,this.$(".js-options-container"))),this}handleEnter(e){if(a(e))return l.stop(e),this.$(e.target).blur()}validateName(e){const t=this.$(e.target),n=t.val().trim();if(0===n.length)return void t.addClass("is-invalid");const i=n!==this.customField.get("name")&&this.board.hasCustomField(this.customField.get("type"),n);return t.toggleClass("is-invalid",i),this.$(".js-duplicate-error").toggleClass("hide",!i)}saveOnBlur(e){const t=e.target.value.trim();if(t===this.customField.get("name"))return;const n=this.customField.get("type");if(0===t.length||this.board.hasCustomField(n,t))return void this.render();const i=d.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});this.customField.update({traceId:i,name:t},u({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:i},(e=>{e||d.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:i,type:this.customField.get("type"),updatedField:"name"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}toggleDisplay(e){l.stop(e);const t=d.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});return this.customField.toggleDisplay(t,u({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:t},(e=>{e||d.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:t,type:this.customField.get("type"),updatedField:"display/cardFront"},containers:this.customField.getBoard().getAnalyticsContainers()})}))),this.render()}removeField(e){return l.stop(e),o.pushView({elem:this.$(e.target),view:i,options:{model:this.model,modelCache:this.modelCache,customField:this.customField}})}}m.initClass(),e.exports=m},"./app/scripts/views/custom-field/custom-field-list-card-detail-badge-view.js":function(e,t,n){const i=n("./app/scripts/views/custom-field/custom-field-card-detail-badge-view.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields");e.exports=function(){class e extends i{static initClass(){this.prototype.template=a.renderable((function(e){null==e&&(e={});const{idValue:t,icon:n,name:i,text:r,editable:o,options:s,color:l}=e;return a.h3(".card-detail-item-header",{title:i},(function(){return a.icon(n,{class:"mod-quiet"}),a.text(i)})),o?a.div(".list-detail-badge.custom-field-detail-badge.is-clickable.js-custom-field-detail-badge".concat(l),{title:r||a.l("select")},(function(){return a.span(".list-detail-badge-value.js-custom-field-list-value",(function(){return r?a.text(r):(a.format("select"),a.span(".icon-sm.icon-down"))})),a.label(i),a.select(".js-custom-field-list",(function(){return a.option({value:"",selected:null==t||!r},(()=>"--")),(()=>{const e=[];for(const{id:n,value:i}of Array.from(null!=s?s:[]))e.push(a.option({value:n,selected:n===t},(()=>a.text(i.text))));return e})()}))})):a.span(".custom-field-detail-badge".concat(l),{title:r},(()=>a.text(r)))})),this.prototype.events={"change .js-custom-field-list":"editCustomFieldList"}}editCustomFieldList(e){if(this.track(),this.trackCustomFieldValueUpdate(),null!=this.customFieldItem||!e.target.value)return this.customFieldItem&&""===e.target.value?this.customFieldItem.clearValue():this.customFieldItem.setValue(e.target.value);this.model.customFieldItemList.create({idCustomField:this.customField.id,idModel:this.model.id,modelType:"card",idValue:e.target.value,options:[]})}}return e.initClass(),e}()},"./app/scripts/views/custom-field/custom-field-number-card-detail-badge-view.js":function(e,t,n){const i=n("./app/scripts/views/custom-field/custom-field-card-detail-badge-view.js"),{isSubmitEvent:a}=n("./packages/keybindings/index.ts"),r=n("./app/scripts/lib/util/index.js"),o=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields");function s(e,t){return null!=e?t(e):void 0}e.exports=function(){class e extends i{static initClass(){this.prototype.template=o.renderable((function(e){null==e&&(e={});const{icon:t,name:n,text:i,editable:a,color:r}=e;return o.h3(".card-detail-item-header",{title:n},(function(){return o.icon(t,{class:"mod-quiet"}),o.text(n)})),a&&o.input(".custom-field-detail-badge.is-clickable.js-custom-field-detail-badge".concat(r),{autocomplete:"off","data-lpignore":!0,maxlength:256,placeholder:o.l("add field value",{fieldName:n.toLowerCase()},{raw:!0}),size:Math.max(i.length+2,7),title:i,type:"text",value:i}),o.span(".custom-field-detail-badge".concat(r),{class:o.classify({"printable-badge":a}),title:i},(()=>o.text(i)))})),this.prototype.events={"keyup .js-custom-field-detail-badge":"validateNumber","keydown .js-custom-field-detail-badge":"handleEnter","focusin .js-custom-field-detail-badge":"startEditCustomFieldBadgeText","focusout .js-custom-field-detail-badge.js-is-editing":"editCustomFieldBadgeText"}}getBadgeText(){return s(null!=this.customFieldItem?this.customFieldItem.get("value"):void 0,(e=>e.number))||""}startEditCustomFieldBadgeText(e){return this.track(),e.target.classList.add("js-is-editing")}validateNumber(e){const t=e.target.value.trim();return isNaN(t)?e.target.classList.add("is-invalid"):e.target.classList.remove("is-invalid")}handleEnter(e){if(a(e))return this.$(e.target).blur()}editCustomFieldBadgeText(e){r.stop(e),e.target.classList.remove("js-is-editing"),e.target.classList.remove("is-invalid");const t=e.target.value.trim();if(e.target.value=t,this.trackCustomFieldValueUpdate(),null==this.customFieldItem)return t&&!isNaN(t)&&this.model.customFieldItemList.create({idCustomField:this.customField.id,idModel:this.model.id,modelType:"card",value:{number:t}}),void(isNaN(t)&&(e.target.value=""));const n=s(this.customFieldItem.get("value"),(e=>e.number))||"";return t!==n?""===t?this.customFieldItem.clearValue():isNaN(t)?e.target.value=n:this.customFieldItem.setValue({number:t}):void 0}}return e.initClass(),e}()},"./app/scripts/views/custom-field/custom-field-text-card-detail-badge-view.js":function(e,t,n){const i=n("./app/scripts/views/custom-field/custom-field-card-detail-badge-view.js"),{isSubmitEvent:a}=n("./packages/keybindings/index.ts"),r=n("./app/scripts/lib/util/index.js"),o=n("./app/scripts/lib/util/url/is-url.js"),s=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields");e.exports=function(){class e extends i{static initClass(){this.prototype.template=s.renderable((function(e){null==e&&(e={});const{icon:t,name:n,text:i,editable:a,color:l}=e;return s.h3(".card-detail-item-header",{title:n},(function(){return s.icon(t,{class:"mod-quiet"}),s.text(n)})),a&&(o(i)||r.checkEmail(i)?s.div(".u-relative.custom-field-external-link",(function(){return s.input(".custom-field-detail-badge.is-clickable.js-custom-field-detail-badge".concat(l),{autocomplete:"off","data-lpignore":!0,maxlength:16e3,size:Math.max(i.length+1,10),title:i,type:"text",value:i}),o(i)?s.a({href:i,target:"_blank",rel:"noreferrer nofollow noopener",title:i},(()=>s.icon("external-link"))):r.checkEmail(i)?s.a({href:"mailto:".concat(i),title:i},(()=>s.icon("email"))):void 0})):s.input(".custom-field-detail-badge.is-clickable.js-custom-field-detail-badge".concat(l),{autocomplete:"off","data-lpignore":!0,maxlength:16e3,placeholder:s.l("add field value",{fieldName:n.toLowerCase()},{raw:!0}),size:Math.max(i.length+1,10),title:i,type:"text",value:i})),o(i)?s.a(".custom-field-detail-badge.is-clickable".concat(l),{class:s.classify({"printable-badge":a}),href:i,target:"_blank",rel:"noreferrer nofollow noopener",title:i},(()=>s.text(i))):r.checkEmail(i)?s.a(".custom-field-detail-badge.is-clickable".concat(l),{class:s.classify({"printable-badge":a}),href:"mailto:".concat(i),title:i},(()=>s.text(i))):s.span(".custom-field-detail-badge".concat(l),{class:s.classify({"printable-badge":a}),title:i},(()=>s.text(i)))})),this.prototype.events={"keydown .js-custom-field-detail-badge":"handleEnter","focusin .js-custom-field-detail-badge":"startEditCustomFieldBadgeText","focusout .js-custom-field-detail-badge.js-is-editing":"editCustomFieldBadgeText"}}startEditCustomFieldBadgeText(e){return this.track(),e.target.classList.add("js-is-editing"),e.target.parentElement.classList.add("editing")}handleEnter(e){if(a(e))return this.$(e.target).blur()}editCustomFieldBadgeText(e){r.stop(e),e.target.classList.remove("js-is-editing"),e.target.parentElement.classList.remove("editing");const t=e.target.value.trim();if(this.trackCustomFieldValueUpdate(),null==this.customFieldItem)return void(t&&this.model.customFieldItemList.create({idCustomField:this.customField.id,idModel:this.model.id,modelType:"card",value:{text:t}}));return t!==this.customFieldItem.getParsedValue()?""===t?this.customFieldItem.clearValue():this.customFieldItem.setValue({text:t}):void 0}}return e.initClass(),e}()},"./app/scripts/views/custom-field/custom-fields-button-view.js":function(e,t,n){const i=n("./app/scripts/views/custom-field/custom-field-create-view.js"),a=n("./app/scripts/views/custom-field/custom-field-edit-view.js"),r=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/views/internal/view.js"),s=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),c=n("./packages/config/index.ts").customFieldsId,{MAX_FIELDS:d}=n("./app/scripts/views/custom-field/constants.ts"),u=l.renderable((function(e){null==e&&(e={});const{canCreate:t,fields:n}=e;return l.div((function(){return 0===n.length&&t?(l.p((()=>l.format("no custom fields"))),l.hr(),l.a(".custom-field.js-add-field",{href:"#"},(function(){return l.icon("add"),l.span(".custom-field-name",(()=>l.format("new field")))}))):l.ul((function(){if(n.map((e=>l.li(".custom-field.js-field",{href:"#",idCustomField:e.id},(function(){return l.icon(e.icon(),{class:"js-drag-handle draggable"}),l.a(".custom-field-name.js-edit-field",{href:"#"},(()=>l.text(e.get("name"))))})))),t)return l.hr(),l.a(".custom-field.js-add-field",{href:"#"},(function(){return l.icon("add"),l.span(".custom-field-name",(()=>l.format("new field")))}))}))}))}));class p extends o{static initClass(){this.prototype.viewTitleKey="custom fields",this.prototype.events={"click .js-add-field":"createCustomField","click .js-edit-field":"editCustomField"}}initialize(){return this.board=this.options.board}render(){const e=this.board.customFieldList.models,t=this.board.editable()&&this.board.isPluginEnabled(c)&&this.board.customFieldList.length<d;if(this.$el.html(u({canCreate:t,fields:e})),e.length>1){const e=this.$(".js-field").first().closest("ul");e.sortable({axis:"y",cursor:"move",delay:"75",distance:"5",handle:".js-drag-handle",tolerance:"pointer",placeholder:"field-list-option placeholder",items:".js-field",sort:(t,n)=>{const i=e.parent().parent().offset().top,a=t.clientY-i;return n.helper.css({top:"".concat(a,"px")})},update:(e,t)=>{const n=t.item.attr("idCustomField"),i=t.item.parent().children().index(t.item);return this.board.customFieldList.get(n).move(i)}})}return this}createCustomField(e){return s.stop(e),r.pushView({elem:this.$(e.target),view:i,options:{model:this.model,modelCache:this.modelCache,board:this.board}})}editCustomField(e){const t=this.$(e.target).closest(".js-field"),n=t.attr("idCustomField"),i=this.board.customFieldList.get(n);return r.pushView({elem:t,view:a,options:{model:this.model,modelCache:this.modelCache,board:this.board,customField:i}})}}p.initClass(),e.exports=p},"./app/scripts/views/custom-field/date-editor-view.js":function(e,t,n){const{importWithRetry:i}=n("./packages/use-lazy-component/index.ts"),a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/views/internal/view.js"),o=n("./app/scripts/views/templates/date_editor.js"),s=n("./node_modules/moment/moment.js"),l=n("./app/scripts/lib/localize.js"),c="LT",d=[c,"h:mm A"];class u extends r{static initClass(){this.prototype.viewTitleKey="edit date",this.prototype.tagName="form",this.prototype.className="dpicker-widget u-clearfix",this.prototype.events={"click .js-remove-date":"removeDueDate","input .js-dpicker-time-input":"validateTimeInput","change .js-dpicker-time-input":"normalizeTimeInput",submit(e){return e.preventDefault(),this.submitDueDate()}},this.prototype.vigor=this.VIGOR.NONE}viewTitleArguments(){return{fieldName:this.options.customField.get("name")}}initialize(){return this.loadPikadayLibrary()}loadPikadayLibrary(){return null!=this.pikadayLoadPromise?this.pikadayLoadPromise:this.pikadayLoadPromise=i((()=>n.e(152).then(n.t.bind(null,"./node_modules/pikaday/pikaday.js",7)))).then((e=>e.default)).then((e=>this.Pikaday=e))}getSelectedDueDateMoment(){const e=this.picker.getMoment();if(!e.isValid())return null;e.year()<1e3&&e.add(2e3,"years");const t=this.selectedTimeMoment();return e.hour(t.hour()).minute(t.minute())}submitDueDate(){const e=this.getSelectedDueDateMoment();return null!=e?this.setDueDate(e.toDate()):this.removeDueDate()}setDueDate(e){return u.lastDueDate=e,this.options.trackSetDateEvent(),null!=this.options.customFieldItem?this.options.customFieldItem.setValue({date:e.toISOString()}):this.model.customFieldItemList.create({idCustomField:this.options.customField.id,idModel:this.model.id,modelType:"card",value:{date:e.toISOString()}}),a.hide()}removeDueDate(){return this.options.customFieldItem&&(this.options.trackSetDateEvent(),this.options.customFieldItem.clearValue()),a.hide()}renderOnce(){let e;const t=null!=this.options.customFieldItem?this.options.customFieldItem.toJSON():void 0,n=s().startOf("day").add(1,"days").hour(12).toDate(),i=null!=(e=null!=p(null!=t?t.value:void 0,(e=>e.date))?p(null!=t?t.value:void 0,(e=>e.date)):u.lastDueDate)?e:n;return this.$el.html(o({canRemove:null!=t})),this.loadPikadayLibrary().then((()=>(this.picker=new this.Pikaday({field:this.$(".js-dpicker-date-input")[0],container:this.$(".js-dpicker-cal")[0],bound:!1,format:"l",firstDay:s.localeData().firstDayOfWeek(),i18n:{previousMonth:l("prev month button text"),nextMonth:l("next month button text"),months:s.months(),weekdays:s.weekdays(),weekdaysShort:s.weekdaysMin()},keyboardInput:!1}),this.picker.setDate(i),this.$timeInput().val(s(i).format(c))))),this}validateTimeInput(){return this.$timeInput().toggleClass("input-error",!this.isTimeInputValid())}normalizeTimeInput(){return this.$timeInput().val(this.selectedTimeMoment().format(c)),this.validateTimeInput()}selectedTimeMoment(){return this.isTimeInputValid()?s(this.$timeInput().val(),d):s().hours(12).minutes(0)}$timeInput(){return this.$(".js-dpicker-time-input")}isTimeInputValid(){return e=this.$timeInput().val(),s(e,d).isValid();var e}}function p(e,t){return null!=e?t(e):void 0}u.initClass(),e.exports=u},"./app/scripts/views/custom-field/option-editor-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/models/custom-field-item.js"),{isSubmitEvent:r}=n("./packages/keybindings/index.ts"),o=n("./app/scripts/views/internal/view.js"),s=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:c,tracingCallback:d}=n("./packages/atlassian-analytics/index.ts"),u=l.renderable((({options:e,colors:t})=>l.div((function(){if(l.label(".js-option-list-label",(()=>l.format("options"))),l.div(".js-option-list",(()=>e.map((e=>l.div(".field-list-option.js-list-option",{idOption:e.cid||e.id},(function(){return l.a(".field-list-option-color-swatch.is-clickable.js-option-pick-color.field-color-".concat(e.color||"none"),{href:"#"}),l.a(".option-value.js-option",{href:"#",title:e.value.text},(()=>l.text(e.value.text))),l.input(".option-value.js-option",{type:"text",value:e.value.text}),l.a(".icon-sm.icon-trash.js-remove-option",{href:"#"})})))))),l.div(".hide.js-option-color-picker",(function(){return l.label(".field-color-picker-label",(()=>l.format("select a color"))),l.div({style:"margin-left: 4px"},(()=>t.map((e=>l.a(".field-list-option-color-swatch.field-color.is-clickable.field-color-".concat(e.color,".js-palette-color"),{"data-color":e.color})))))})),e.length<50)return l.input(".js-add-option.add-option",{type:"text",placeholder:l.l("add item")})}))));class p extends o{static initClass(){this.prototype.events={"click .js-option-pick-color":"toggleColorPicker","click .js-palette-color":"pickColor","click a.js-option":"startEditOption","click .js-remove-option":"removeOption","keydown .js-add-option":"addOption","keydown input[type=text].js-option":"blurOnEnter","focusout input[type=text].js-option":"updateOption"}}initialize(){let e;return this.customField=this.options.customField,this.options=null!=(e=null!=this.customField?this.customField.get("options"):void 0)?e:[]}render(){const e=Array.from(a.colors).map((e=>({color:e})));let{options:t}=this;this.customField&&(t=this.customField.optionList.models.map((e=>i.extend({cid:e.cid},e.toJSON())))),this.$el.html(u({colors:e,options:t}));const n=this.$(".js-option-list");return t.length>1&&n.sortable({axis:"y",cursor:"move",delay:"75",distance:"5",tolerance:"pointer",placeholder:"field-list-option placeholder",items:".js-list-option",sort:(e,t)=>{const n=this.$el.closest(".js-options-container").parent().offset().top,i=this.$el.find(".js-option-list-label").first().outerHeight(),a=e.clientY-n-i;return t.helper.css({top:"".concat(a,"px")})},update:(e,t)=>{const n=t.item.attr("idOption"),a=t.item.parent().children().index(t.item);if(this.customField)return this.customField.getOptionByCId(n).move(a);{const e=i.findIndex(this.options,(e=>e.id===n));return this.options.splice(a,0,this.options.splice(e,1)[0])}}}),this}getOption(e){return i.find(this.options,(t=>t.id===e))}getOptions(){return this.options.map((function(e,t){return e.new?{color:e.color,value:e.value,pos:1024*(t+1)}:i.omit(e,"pos","idCustomField")}))}toggleColorPicker(e){const t=this.$(".js-option-color-picker");if(!t.hasClass("hide"))return void this.render();const n=this.$(e.target).closest(".js-list-option");if(n.hasClass("editing"))return void n.children("input.js-option").blur();const i=n.attr("idOption");return this.targetOption=i,t.insertAfter('.js-list-option[idOption="'.concat(i,'"]')).removeClass("hide")}pickColor(e){const{color:t}=e.target.dataset,n=this.targetOption;if(this.customField){const e=c.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});this.customField.getOptionByCId(n).update({traceId:e,color:t},d({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:e},(t=>{t||c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:e,type:this.customField.get("type"),updatedField:"options/color"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}else{this.getOption(n).color=t}return this.render()}startEditOption(e){const t=this.$(e.target).closest(".js-list-option");if(!t.hasClass("editing"))return t.addClass("editing"),t.children('input[type="text"].js-option').first().select()}updateOption(e){const t=e.target.value.trim(),n=this.$(e.target).closest(".js-list-option").attr("idOption");if(this.customField){if(this.customField.getOptionByCId(n).get("value").text!==t){const e=c.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});this.customField.getOptionByCId(n).update({traceId:e,value:{text:t}},d({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:e},(t=>{t||c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:e,type:this.customField.get("type"),updatedField:"options/value/text"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}}else{this.getOption(n).value.text=t}return this.render()}blurOnEnter(e){if(r(e))return this.$(e.target).blur()}removeOption(e){const t=this.$(e.target).closest(".js-list-option").attr("idOption");if(this.customField){const e=this.customField.getOptionByCId(t);if(null!=e){const t=c.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});e.destroyWithTracing({traceId:t},d({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:t},(e=>{e||c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:t,type:this.customField.get("type"),removedField:"options"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}}else this.options=i.filter(this.options,(e=>e.id!==t));return this.render()}addOption(e){if(r(e)){s.stop(e);const a=e.target.value.trim();if(!a)return;if(this.customField){const e=c.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});this.customField.optionList.createWithTracing({value:{text:a},pos:"bottom"},{traceId:e,error:(t,n)=>{c.taskFailed({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:e,error:n})},success:()=>{c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:e,type:this.customField.get("type"),addedField:"options"},containers:this.customField.getBoard().getAnalyticsContainers()}),c.taskSucceeded({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:e})}})}else this.options.push(this._createOption(e.target.value.trim(),(t=i.last(this.options),n=e=>e.pos,(null!=t?n(t):void 0)||0)));return e.target.value="",this.render(),this.$(".js-add-option").focus()}var t,n}_createOption(e,t,n="none"){return{id:i.uniqueId("field-option_"),color:n,new:!0,pos:t+5,value:{text:e}}}}p.initClass(),e.exports=p},"./app/scripts/views/description/description-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/db/auth.js"),r=n("./app/scripts/views/internal/autocomplete/auto-insertion-view.js"),o=n("./app/scripts/views/internal/autocomplete/completer-util.js"),s=n("./app/scripts/views/internal/editable-view.js"),l=n("./app/scripts/views/card/formatting-help-view.js"),c=n("./app/scripts/views/lib/layout.js"),d=n("./app/scripts/views/lib/pop-over.js"),u=n("./app/scripts/lib/markdown/tfm.js"),p=n("./app/scripts/lib/util/index.js"),m=n("./app/scripts/views/internal/friendly-links.js"),h=n("./app/scripts/lib/localize.js"),{Analytics:g}=n("./packages/atlassian-analytics/index.ts"),b=n("./app/scripts/views/templates/description.js"),{getKey:f,Key:v,isForceSubmitEvent:k}=n("./packages/keybindings/index.ts"),{applyMarkdownShortcuts:y}=n("./app/scripts/views/lib/markdown-transform.ts"),{markdownTracker:C}=n("./app/scripts/lib/util/markdown-tracker.ts");class j extends s{static initClass(){this.prototype.events={"click .js-format-help":"openFormatHelp","click .js-edit-desc":"editDesc","click .js-edit-desc-button"(){return g.sendClickedButtonEvent({buttonName:"editDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}})},"keydown .field"(e){if(k(e)&&(this.recordCardAction(),this._discardDraft("desc")),y(e),f(e)===v.Escape)return p.stop(e),d.isVisible?void d.hide():(this.saveDrafts(),this.$(".js-description-draft").val(this.model.get("desc")),g.sendPressedShortcutEvent({shortcutName:"escapeShortcut",keyValue:"esc",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}},attributes:{whileEditingDescription:!0}}),void this.render())},"keyup .field"(e){return f(e)===v.Escape&&p.stop(e),this.keyAutoMention(e)},"click .js-cancel-edit"(e){return g.sendClickedButtonEvent({buttonName:"cancelEditDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}),this.cancelEditDesc(e,"by clicking on cancel button")},"click .js-desc-content.is-hide-full"(){return g.sendClickedButtonEvent({buttonName:"showFullDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}),this.showFullDescription()}}}initialize({board:e,card:t,maxDescLength:n,placeholderKey:i,source:a}){return this.board=e,this.card=t,this.maxDescLength=n,this.placeholderKey=i,this.source=a,super.initialize(...arguments),this.hideFullDescription=w(this.model.get("desc"),(e=>e.length))>this.maxDescLength,this.descType="".concat(this.model.typeName.toLowerCase()," description"),this.makeDebouncedMethods("render"),this.listenTo(c,this.getAutosaveEvent(),this.onAutosaveEdit),this.listenTo(this.model,"change:desc",this.renderDebounced)}render(){var e,t;const n={};n.editable=this.model.editable(),n.isCardDesc="Card"===this.model.typeName,n.placeholderKey=this.placeholderKey,n.isTemplate=n.isCardDesc?this.model.isOnBoardTemplate():this.model.isTemplate(),this.$el.html(b(n));const i=this.model.get("desc"),a=u.description.format(null!=i?i:"",{textData:this.model.get("descData")}).output,r=this.$(".js-desc");r.empty().append(a).data("unmarkeddown",i),r.find("p").attr("dir","auto"),m(r[0],this.board,{publicLinksVariation:"beta",analyticsContext:{source:this.source,containers:null===(e=this.model)||void 0===e||null===(t=e.getAnalyticsContainers)||void 0===t?void 0:t.call(e),attributes:{fromSection:"description"}}});const o=!/^\s*$/.test(a);this.$(".js-show-with-desc").toggleClass("hide",!o),this.$(".js-hide-with-desc").toggleClass("hide",o);const s=w(this.$(".js-description-draft").val(),(e=>e.length))>0;return this.$(".js-description-draft").addClass(this.descType.split(" ").join("-")),this.$(".js-hide-with-draft").toggleClass("hide",s),this.$(".js-desc-content").toggleClass("is-hide-full",this.hideFullDescription),this.renderFormattingButton(),this.recallDrafts(),this}showFullDescription(){this.hideFullDescription=!1,this.$(".js-desc-content").removeClass("is-hide-full")}editDesc(e){p.stop(e),this.showFullDescription(),this.edit("desc")}cancelEditDesc(e,t){const n=t.includes("escape key");return g.sendTrackEvent({action:"cancelled",actionSubject:"descriptionEdit",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}},attributes:{method:n?"escapeKey":"cancelEditDescriptionButton"}}),this.clearEdits(e)}expandDesc(e){p.stop(e),this.showFullDescription(),this.edit("desc",!1)}renderFormattingButton(){const e=h(["view title","formatting help"]),t="board description"===this.descType&&e.length>20;return this.$(".description-edit").toggleClass("long",t),this.$(".description-edit .helper").toggleClass("long",t)}openFormatHelp(e){return g.sendClickedButtonEvent({buttonName:"formattingHelpDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}),d.toggle({elem:this.$(".js-format-help"),view:l,options:{model:this.model,modelCache:this.modelCache},keepEdits:!0}),!1}getAutosaveEvent(){return"autosave".concat(this.model.typeName,"Description")}onAutosaveEdit(e){return this.hideFullDescription=!1,this.commitEdits(null,e)}commitEdits(){if(this.$(".description-title .editing").length)return a.me().editing({idBoard:this.board.id}),this.$(".description-title .editing").removeClass("editing"),!this.card&&this.board?g.sendUpdatedBoardFieldEvent({field:"description",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}):this.recordCardAction(),this._discardDraft("desc"),super.commitEdits(...arguments)}recordCardAction(){if("Card"!==this.model.typeName)return;const e=this.$(".js-description-draft").val(),t=this.model.get("desc");t!==e&&this.model.recordAction({type:"update-description",description:e,previousDescription:t}),C(e,"description")}getTextInput(){const e=this.$(".js-description-draft:visible");if(e.length)return e}getMentionTarget(){const e=this.$(".js-description-draft:visible");if(e.length)return e[0]}getEmojiTarget(){const e=this.$(".js-description-draft:visible");if(e.length)return e[0]}}function w(e,t){return null!=e?t(e):void 0}j.initClass(),i.extend(j.prototype,r,o),e.exports=j},"./app/scripts/views/directory/business-class-upsell-view.js":function(e,t,n){const{Analytics:i,getScreenFromUrl:a}=n("./packages/atlassian-analytics/index.ts"),{PlanSelectionOverlay:r}=n("./app/src/components/FreeTrial/index.ts"),o=n("./app/scripts/views/lib/pop-over.js"),s=n("./node_modules/react/index.js"),l=n("./packages/react-dom-wrapper/index.ts"),{renderComponent:c}=n("./app/src/components/ComponentWrapper/index.ts"),d=n("./app/scripts/views/internal/teacup-with-helpers.js")("business_class_upsell"),{trackUe:u}=n("./packages/analytics/index.ts"),p=n("./app/scripts/lib/util/index.js"),m=n("./app/scripts/views/internal/view.js"),{featureFlagClient:h}=n("./packages/feature-flag-client/index.ts");class g extends m{static initClass(){this.prototype.events={"click .js-business-class-upsell-upgrade":"upgradePrompt","click .js-business-class-upsell-close":"onClose"}}upgradePrompt(e){p.stop(e);const t=document.createElement("span"),n=this.model.getOrganization();return i.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"pupLimitBCUpsellInlineDialog",containers:{organization:{id:n.id}}}),c(s.createElement(r,{orgId:n.id,onContinue:()=>window.location.assign("/business-class"),onClose:()=>(l.unmountComponentAtNode(t),t.remove())}),t)}onClose(e){return p.stop(e),u("Power-Up BC upgrade popover ad","close","Power-Up BC upgrade popover ad"),o.hide()}render(){if(h.get("btg.upgrade-prompt-audit",!1)){const{UpgradeSmartComponentConnected:e}=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx");this.$el.html(d.render((()=>d.div(".js-content"))));const t=this.$(".js-content")[0];return c(s.createElement(e,{orgId:this.model.getOrganization().id,promptId:"pupLimitPopUpPromptFull",additionalProps:{onClose:e=>(p.stop(e),l.unmountComponentAtNode(t),o.hide(),t.remove())}}),t),this}return i.sendScreenEvent({name:"pupLimitBCUpsellInlineDialog",containers:{board:{id:this.model.id},organization:{id:this.model.get("idOrganization")}},attributes:{location:a()}}),this.$el.html(d.render((()=>d.div(".content",(function(){return d.a(".icon-close.icon-lg.js-business-class-upsell-close",{href:"#"}),d.h5((()=>d.format("get-unlimited-power-ups"))),d.p((()=>d.format("need-more-than-one-power-up-per-board-go-unlimited-with-business-class"))),d.span(".small-link.js-business-class-upsell-upgrade",(()=>d.format("try-for-14-days")))}))))),this}}g.initClass(),e.exports=g},"./app/scripts/views/emoji/trello-emoji-picker.js":function(e,t,n){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const{EmojiProviderComponent:a}=n("./app/src/components/Emoji/EmojiProviderComponent.tsx"),r=n("./node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js").default,o=n("./node_modules/react/index.js"),s=n("./app/scripts/views/internal/recup-with-helpers.js")("reactions"),l=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_emoji_uploader"),c=n("./node_modules/underscore/underscore.js"),{Button:d}=n("./packages/nachos/button.ts");class u extends o.Component{static initClass(){this.defaultProps={title:"",emoji:"",color:"#0079BF",set:"twitter",i18n:{search:s.l("search"),notfound:s.l("no-emoji-found"),skintext:s.l("skintext"),categories:{search:s.l("categories-search-results"),recent:s.l("categories-frequently-used"),people:s.l("categories-smileys-and-people").replace(/&amp;/g,"&"),nature:s.l("categories-animals-and-nature").replace(/&amp;/g,"&"),foods:s.l("categories-food-and-drink").replace(/&amp;/g,"&"),activity:s.l("categories-activity"),places:s.l("categories-travel-and-places").replace(/&amp;/g,"&"),objects:s.l("categories-objects"),symbols:s.l("categories-symbols"),flags:s.l("categories-flags"),custom:s.l("categories-custom")}},style:{width:"408px"},emojiSize:"28px",skinEmoji:"v",autoFocus:!0,showCustomEmojiButton:!1}}componentDidMount(){return document.querySelector("#chrome-container").scrollTop=0}render(){const e=()=>o.createElement("div",{className:"emoji-mart-no-results"},o.createElement("div",{className:"emoji-mart-no-results-illo"},o.createElement("div",{className:"emoji-mart-no-results-label"},s.l("no-emoji-found")),o.createElement("img",{className:"emoji-mart-no-results-img",src:n("./resources/images/illos.png")})),this.props.showCustomEmojiButton&&o.createElement("div",{className:"emoji-mart-no-results-btn"},o.createElement(d,{onClick:this.props.onCustomEmojiButtonClick},l.l("create-custom-emoji"))));return o.createElement("div",{onClick:function(e){return e.preventDefault()}},o.createElement(a,null,((t,n)=>o.createElement(r,i({ref:e=>{this.pickerRef=e}},c.extend({},this.props,{data:t,backgroundImageFn:n,notFound:e}))))))}}u.initClass(),e.exports=u},"./app/scripts/views/internal/autocomplete/auto-insertion-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./packages/browser/index.ts"),{getKey:r,isArrow:o,Key:s}=n("./packages/keybindings/index.ts"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/lib/util/index.js"),d={checkInsert(e){const t=r(e);if(l.isVisible&&!a.isTouch()){if(e.shiftKey&&[s.ArrowUp,s.ArrowDown].includes(t)||e.altKey&&[s.ArrowUp,s.ArrowDown].includes(t))return;if(t===s.Escape)return c.stop(e),void l.hide();{const n=[{listClass:".js-available-members",itemClass:".js-select-member"},{listClass:".js-available-emoji",itemClass:".js-select-emoji"},{listClass:".js-card-list",itemClass:".js-select-card"}];for(const{listClass:a,itemClass:r}of Array.from(n)){let n=i(".pop-over").find(a);if(n.length>0){if([s.Enter,s.Tab].includes(t))return c.stop(e),n.find(".item:first").hasClass("selected")&&(this.keyAutoMention(e),n=i(".pop-over").find(a)),n.find(".item.selected:first ".concat(r)).first().click(),l.hide(),!1;if([s.ArrowUp,s.ArrowDown].includes(t))return c.stop(e),c.navMenuList(n,".item",t),!1}}}}},keyAutoMention(e){if(!a.isTouch()){if(o(r(e))||r(e)===s.Enter)return;if(r(e)===s.Escape)return void(l.isVisible&&c.stop(e));const t=c.getWordFromCaret(this.getTextInput());if(new RegExp("^@\\S").test(t.str.substring(0,2)))return this.getAutoMentionerView("input").then((e=>{0!==e.filterMentionablesForMatches(t.str.substring(1).toLowerCase()).length?(l.show({elem:this.getMentionTarget(),view:e,keepEdits:!0}),this.getTextInput().is(":focus")||this.getTextInput().focus()):l.hide()}));if(/^:[a-z0-9_]+$/.test(t.str)){const e=this.getEmojiCompleterView("input");return l.show({elem:this.getEmojiTarget(),view:e,keepEdits:!0}),void(this.getTextInput().is(":focus")||this.getTextInput().focus())}return this.setTimeout((()=>l.hide()),5)}}};e.exports=d},"./app/scripts/views/internal/autocomplete/auto-mentioner-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/db/auth.js"),{getKey:r,Key:o}=n("./packages/keybindings/index.ts"),s=n("./app/scripts/lib/localize.js"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/views/member/select-member-view.js"),d=n("./app/scripts/views/member/select-filterable-view.js"),{TrelloStorage:u}=n("./packages/storage/index.ts"),p=n("./app/scripts/lib/util/index.js"),m=n("./app/scripts/views/internal/view.js"),h=n("./node_modules/underscore/underscore.js"),g=n("./app/scripts/views/internal/templates.js"),{Analytics:b,getScreenFromUrl:f}=n("./packages/atlassian-analytics/index.ts"),v=n("./app/scripts/lib/util/text/search-filter.js"),k="recentMentions";let y=u.get(k)||[];class C extends m{static initClass(){this.prototype.viewTitleKey="mention",this.prototype.events={"mouseenter .js-select-member":"hoverItem","click .js-select-member:not(.disabled)":"insertMember","mouseenter .js-select-all-card-members":"deselectMember","mouseenter .js-select-all-board-members":"deselectMember",keydown:"keydownEvent","keyup .js-filter-mentionables":"keyupEvent"}}initialize({board:e,card:t}){let n;if(this.board=e,this.card=t,n=null!=this.board?this.board.getOrganization():void 0)return this.listenTo(n.memberList,"add remove reset",this.frameDebounce(this.render))}render(){const e={};return this.options.input&&(e.input=!0),this.options.button&&(e.button=!0),this.$el.html(g.fill(n("./app/scripts/views/templates/popover_auto_mentioner.js"),e)),b.sendScreenEvent({name:"mentionMembersInlineDialog",containers:{card:{id:null!=this.card?this.card.id:void 0},board:{id:null!=this.board?this.board.id:void 0}}}),this.$mentionablesList=this.$(".js-available-members"),this.options.button?this.fillMentionables(this.getMentionables()):this.options.input&&this.filterMentionables(),this}getTextInput(){return i(this.options.target)}getExtraMentionables(e,t){const n={type:"extra",text:"card",names:["all","card"],extraText:s(["automentioner","all-members-on-card"]),mentionCount:e.length},i={type:"extra",text:"board",names:["all","board"],extraText:s(["automentioner","all-members-on-board"]),mentionCount:t.length};return null!=this.card?[n,i]:[i]}getMentionables(){const e=a.myId(),t=(e,t)=>(null==t&&(t={}),h.chain(e).reject((e=>this.board.isDeactivated(this.modelCache.get("Member",e)))).map((e=>h.extend({},t,{id:e,names:p.getMemNameArrayFromId(this.modelCache,e),type:"member"}))).value()),n=t(null!=this.card?this.card.getIdCardMems():void 0),i=t(this.board.getIdBoardMems()),r=(()=>{let e;if(null!=(e=this.board.getOrganization())){let n=[],i=[];const a=e.memberList.filter((t=>!e.isDeactivated(t)));if(this.board.isPrivate())if(e.hasPremiumFeature("superAdmins")){const t=h.groupBy(a,(t=>e.ownedByMember(t)?"admin":"not-admin"));n=h.pluck(t.admin,"id"),i=h.pluck(t["non-admin"],"id")}else i=h.pluck(a,"id");else n=h.pluck(a,"id");return[...Array.from(t(n)),...Array.from(t(i,{disabled:!0,extraText:s(["mention member","board not team visible"])}))]}return[]})();return h.chain([...Array.from(n),...Array.from(i),...Array.from(r)]).uniq((e=>e.id)).sortBy((function(t,n,i){const a=y.indexOf(t.id);return t.id===e?i.length:-1===a?y.length:a})).concat(this.getExtraMentionables(n,i)).value()}clearMentionables(){return this.$mentionablesList.empty()}keydownEvent(e){let t;if(t=r(e),[o.Enter,o.Tab].includes(t))return p.stop(e),void this.$mentionablesList.find(".item.selected:first .js-select-member").click()}keyupEvent(e){const t=r(e);return[o.Enter,o.Tab,o.ArrowLeft,o.ArrowRight].includes(t)?void 0:[o.ArrowUp,o.ArrowDown].includes(t)?(p.stop(e),void p.navMenuList(this.$mentionablesList,".item",t)):this.filterMentionables()}filterMentionables(e){let t;if(this.clearMentionables(),this.options.button)t=i(".js-filter-mentionables").val().trim().toLowerCase();else if(this.options.input){const e=this.getTextInput();t=p.getWordFromCaret(e).str.substring(1).toLowerCase()}const n=this.filterMentionablesForMatches(t);if(!this.options.input||0!==n.length)return this.fillMentionables(n),p.selectMenuItem(this.$mentionablesList,".item",this.$mentionablesList.find(".item").first());this.setTimeout((()=>l.hide()),5)}filterMentionablesForMatches(e){const t=v(e);return h.filter(this.getMentionables(),(e=>t(e.names)))}hoverItem(e){const t=i(e.target).closest(".item");return p.selectMenuItem(this.$mentionablesList,".item",t)}deselectMember(e){return this.$mentionablesList.find(".item").removeClass("selected")}fillMentionables(e){const t=((e=h.groupBy(e,"type")).member||[]).slice(0,50).map((({id:e,disabled:t,extraText:n})=>({member:this.modelCache.get("Member",e),disabled:t,extraText:n})));this.$mentionablesList.empty();const n=[];for(const{member:e,disabled:i,extraText:a}of Array.from(t))n.push(this.subview(c,e,{disabled:i,extraText:a}));if(this.appendSubviews(n,this.$mentionablesList),null!=e.extra)for(const t of Array.from(e.extra))this.$mentionablesList.append(new d(t).render().el);this.$(".js-empty-list").toggleClass("hide",h.keys(e).length>0)}insertMember(e){let t;p.stop(e);const n=i(e.currentTarget).attr("autocompleteText");this.saveRecent(i(e.currentTarget).attr("idMember"));let a="member",r=i(e.currentTarget).attr("idMember"),o=f();"board"===n&&(a="board",r=null!=this.board?this.board.id:void 0,"boardScreen"===o&&(o="boardMenuDrawerAboutScreen")),"card"===n&&(a="card",r=null!=this.card?this.card.id:void 0),b.sendTrackEvent({action:"mentioned",actionSubject:a,actionSubjectId:r,source:o,containers:{card:{id:null!=this.card?this.card.id:void 0},board:{id:null!=this.board?this.board.id:void 0}}});const s=this.getTextInput();if(this.options.input)t=p.getWordFromCaret(s),p.insertSelection(s,"@".concat(n," "),t.start,t.end);else{const e=p.getCaretPosition(s);null!=e&&(t={start:e,end:e}),p.insertSelection(s,"@".concat(n," "),null!=t?t.start:void 0,null!=t?t.end:void 0)}l.hide()}saveRecent(e){let t=u.get(k)||[];return t=h.chain([e,...Array.from(t)]).uniq().first(16).value(),u.set(k,t),y=t}}C.initClass(),e.exports=C},"./app/scripts/views/internal/autocomplete/completer-util.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/card/attachment-type-picker-view.js"),r=n("./app/scripts/views/internal/autocomplete/auto-mentioner-view.js"),o=n("./app/scripts/views/internal/autocomplete/emoji-completer-view.js"),s=n("./app/scripts/db/model-loader.js"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/views/internal/autocomplete/trello-completer-view.js"),d=n("./app/scripts/lib/util/index.js"),{Analytics:u}=n("./packages/atlassian-analytics/index.ts"),p=n("./node_modules/bluebird/js/browser/bluebird.js"),m=n("./node_modules/underscore/underscore.js"),h={},g={openEmojiCompleter(e){return d.stop(e),l.pushView({view:this.getEmojiCompleterView("button")})},autoMentionerView(e,t,n){return new r({model:null!=t?t:n,button:"button"===e,input:"input"===e,target:this.getTextInput(),card:t,board:n,modelCache:this.modelCache})},getAutoMentionerView(e){let t;const n=null!=this.getCard?this.getCard():this.card,i=n?n.getBoard():this.board;null!=(t=null!=i?i.getOrganization():void 0)&&(!h[t.id]||Date.now()-h[t.id]>3e5)&&(h[t.id]=Date.now(),s.loadOrganizationMembersData(t.id));const a=this.modelCache.get("Board",i.id).get("memberships"),r=m.indexBy(i.getIdBoardMems());if(r.length!==a.length){if(a.some((e=>!e.deactivated&&!r.hasOwnProperty(e.idMember))))return s.loadBoardMembers(i.id).then((()=>this.autoMentionerView(e,n,i)))}return p.resolve(this.autoMentionerView(e,n,i))},getEmojiCompleterView(e){const t=null!=this.getCard?this.getCard():this.card,n=t?t.getBoard():this.board;return new o({model:null!=t?t:n,button:"button"===e,input:"input"===e,target:this.getTextInput(),card:t,modelCache:this.modelCache})},getTrelloCompleterView(){const e=this.getCard();return new c({model:e,button:!0,target:this.getTextInput(),card:e,modelCache:this.modelCache})},commentAddAttachment(e){d.stop(e);const t=i(e.target).closest(".comment-box").find("textarea"),n=t.prop("selectionStart"),r=t.prop("selectionEnd"),o=t.val().substring(n,r),s=this.getCard(),c=new a({model:this.model,modelCache:this.modelCache,defaultName:o});c.on("attach",(function({url:e,name:i}){const a=(i=i||o)?"[".concat(i,"](").concat(e,")"):e;return d.insertSelection(t,"".concat(a," "),n,r),t.trigger("autosize.resize")})),l.toggle({elem:i(e.currentTarget),keepEdits:!0,view:c,options:{model:s,modelCache:this.modelCache}}),u.sendScreenEvent({name:"cardAttachmentPickerInlineDialog",containers:{card:{id:s.id}}})},commentMentionMember(e){d.stop(e),this.getAutoMentionerView("button").then((t=>l.toggle({elem:i(e.currentTarget),keepEdits:!0,view:t}))),u.sendScreenEvent({name:"mentionMembersInlineDialog",containers:{card:{id:b(this.getCard(),(e=>e.id))}}})},commentAddEmoji(e){d.stop(e),l.toggle({elem:i(e.currentTarget),keepEdits:!0,view:this.getEmojiCompleterView("button")}),u.sendScreenEvent({name:"cardEmojiPickerInlineDialog",containers:{card:{id:b(this.getCard(),(e=>e.id))}}})},commentAddCard(e){d.stop(e),l.toggle({elem:i(e.currentTarget),keepEdits:!0,view:this.getTrelloCompleterView()}),u.sendScreenEvent({name:"cardTrelloCompleterInlineDialog",containers:{card:{id:b(this.getCard(),(e=>e.id))}}})}};function b(e,t){return null!=e?t(e):void 0}e.exports=g},"./app/scripts/views/internal/autocomplete/emoji-completer-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/db/auth.js"),r=n("./app/scripts/views/internal/autocomplete/emoji-uploader-view.js"),{getKey:o,Key:s}=n("./packages/keybindings/index.ts"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/lib/util/index.js"),d=n("./app/scripts/views/internal/view.js"),u=n("./node_modules/underscore/underscore.js"),p=n("./app/scripts/views/internal/templates.js"),{Analytics:m}=n("./packages/atlassian-analytics/index.ts"),h=n("./app/src/emoji.ts").default,g=n("./app/scripts/lib/localize.js"),b=n("./app/scripts/views/templates/popover_emoji_completer.js"),{dontUpsell:f}=n("./packages/browser/index.ts"),v=n("./app/scripts/views/internal/autocomplete/emoji-mart-completer-view.js"),{featureFlagClient:k}=n("./packages/feature-flag-client/index.ts");class y extends d{static initClass(){this.prototype.viewTitleKey="emoji",this.prototype.events={"mouseenter .js-select-emoji":"hoverItem","click .js-select-emoji":"selectEmoji",keydown:"keydownEvent","keyup .js-filter-emoji":"keyupEvent","click .js-upload-emoji":"openEmojiUploader"}}initialize(){var e,t,n;this._customEmoji={},(a.me().hasPremiumFeature("customEmoji")||null!==(e=this.options.card)&&void 0!==e&&null!==(t=e.getBoard())&&void 0!==t&&null!==(n=t.getOrganization())&&void 0!==n&&n.hasPremiumFeature("customEmoji"))&&(a.me().loadCustomEmojis(),this.listenTo(a.me().customEmojiList,"change add remove reset",this.updateCustomEmoji),this.updateCustomEmoji())}render(){var e,t,n;const i={};return this.options.input&&(i.input=!0),this.options.button&&(i.button=!0),i.upsellEnabled=!f()||a.me().hasPremiumFeature("customEmoji")||(null===(e=this.options.card)||void 0===e||null===(t=e.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.hasPremiumFeature("customEmoji")),this.$el.html(b(i)),this.$emojiList=this.$(".js-available-emoji"),this.options.input&&this.filterEmoji(this.getInput()),this.options.button&&this.fillDefaultEmojiList(),this}keyupEvent(e){const t=o(e);if([s.ArrowUp,s.ArrowDown].includes(t))return c.stop(e),void c.navMenuList(this.$emojiList,".item",t);if([s.Enter,s.Tab].includes(t))return;const n=this.getInput();return this.filterEmoji(n)}keydownEvent(e){let t;if(t=o(e),[s.Enter,s.Tab].includes(t)){c.stop(e);const t=this.$emojiList.find(".item.selected:first .js-select-emoji");if(t.length>0)return t.click()}}updateCustomEmoji(){return this._customEmoji=u.object(a.me().customEmojiList.map((e=>[e.get("name"),e.get("url")]))),this.render()}getTextInput(){return i(this.options.target)}getInput(){if(this.options.button)return this.$(".js-filter-emoji").val();{const e=this.getTextInput();return c.getWordFromCaret(e).str.substring(1)}}filterEmoji(e){if(this.clearEmojiList(),this.fillEmojiList(e))return c.selectMenuItem(this.$emojiList,".item",this.$emojiList.find(".item").first())}renderEmojiList(e){for(const t of Array.from(e)){const e={name:t,image:null!=this._customEmoji[t]?this._customEmoji[t]:h[t]};this.$emojiList.append(p.fill(n("./app/scripts/views/templates/select_emoji.js"),e))}return this}fillDefaultEmojiList(e){this.renderEmojiList(["thumbsup","smile","warning","sunglasses","ballot_box_with_check","facepalm"])}fillEmojiList(e){let t=e.replace(/\W+/g,"");if(""===e)return this.fillDefaultEmojiList(),!1;if(/[A-Z]/.test(t)&&this.options.input)return l.hide(),!1;t=t.toLowerCase(),this.$(".js-upload-emoji").text(g("upload emoji named",{emojiName:t})).attr("data-emojiname",t),this.$(".js-no-matching-emoji-helper").text(g("no matching emoji helper",{emojiName:t}));const n=this.getEmojiSuggestions(t).slice(0,6);return n.length>0?(this.$(".js-results").removeClass("hide"),this.$(".js-no-results").addClass("hide"),this.renderEmojiList(n)):(this.$(".js-results").addClass("hide"),this.$(".js-no-results").removeClass("hide")),0!==n.length}clearEmojiList(){return this.$emojiList.empty()}getEmojiSuggestions(e){let t;const n=new RegExp("^".concat(c.escapeForRegex(e))),i=(()=>{const e=[];for(t in this._customEmoji)n.test(t)&&e.push(t);return e})(),a=(()=>{const e=[];for(t in h)n.test(t)&&e.push(t);return e})();if(null==this._sortOverride){const e=["thumbsup","smile","warning","sunglasses","facepalm","question","thumbsdown","wink","smiley","smile_cat","bowtie","heart","laughing","bug","cry","dancer","dancers","clap","shipit","white_check_mark","star","arrow_down","point_down","point_up","point_left","metal"];this._sortOverride={};for(let t=0;t<e.length;t++){const n=e[t];this._sortOverride[n]=t+1}}return u.uniq([...Array.from(i),...Array.from(a)]).sort(((e,t)=>{const n=this._sortOverride[e],i=this._sortOverride[t];return n&&!i?-1:i&&!n?1:(n&&i&&(e=n,t=i),e<t?-1:e>t?1:0)}))}hoverItem(e){const t=i(e.target).closest(".item");return c.selectMenuItem(this.$emojiList,".item",t)}selectEmoji(e){c.stop(e);const t=i(e.target).closest(".js-select-emoji").find(".emoji-name").text();this.insertEmoji(t),l.hide()}insertEmoji(e){let t;const n=this.getTextInput();if(this.options.input)t=c.getWordFromCaret(n);else{const e=c.getCaretPosition(n);null!=e&&(t={start:e,end:e})}return c.insertSelection(n,":".concat("".concat(e).trim(),": "),null!=t?t.start:void 0,null!=t?t.end:void 0),m.sendUIEvent({action:"selected",actionSubject:"emoji",source:"emojiCompleterInlineDialog",attributes:{emojiName:e}})}openEmojiUploader(e){c.stop(e);const t=this.$(e.target).attr("data-emojiname");l.pushView({keepEdits:!0,view:r,options:{model:a.me(),emojiName:t,completerView:this,card:this.options.card}}),m.sendUIEvent({action:"opened",actionSubject:"inlineDialog",actionSubjectId:"customEmojiUploaderInlineDialog",source:"cardDetailScreen"})}}y.initClass();let C=y;k.get("fep.emoji-mart-completer",!1)&&(C=v),e.exports=C},"./app/scripts/views/internal/autocomplete/emoji-mart-completer-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/db/auth.js"),r=n("./app/scripts/views/internal/autocomplete/emoji-uploader-view.js"),{getKey:o,Key:s}=n("./packages/keybindings/index.ts"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/lib/util/index.js"),d=n("./app/scripts/views/internal/view.js"),u=n("./node_modules/underscore/underscore.js"),p=n("./app/scripts/views/internal/templates.js"),{Analytics:m}=n("./packages/atlassian-analytics/index.ts"),h=n("./app/scripts/lib/localize.js"),g=n("./app/scripts/views/templates/popover_emoji_completer.js"),{dontUpsell:b}=n("./packages/browser/index.ts"),f=n("./node_modules/react/index.js"),v=n("./packages/react-dom-wrapper/index.ts"),k=n("./app/scripts/views/emoji/trello-emoji-picker.js"),{emojiProvider:y}=n("./app/src/components/Emoji/EmojiProvider.ts"),C=n("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js").default;class j extends d{static initClass(){this.prototype.viewTitleKey="emoji",this.prototype.displayType="mod-reaction-selector",this.prototype.events={"mouseenter .js-select-emoji":"hoverItem","click .js-select-emoji":"selectEmoji",keydown:"keydownEvent","keyup .js-filter-emoji":"keyupEvent","click .js-upload-emoji":"openEmojiUploader"}}initialize(){var e,t,n;this._customEmoji={},(a.me().hasPremiumFeature("customEmoji")||null!==(e=this.options.card)&&void 0!==e&&null!==(t=e.getBoard())&&void 0!==t&&null!==(n=t.getOrganization())&&void 0!==n&&n.hasPremiumFeature("customEmoji"))&&(a.me().loadCustomEmojis(),this.listenTo(a.me().customEmojiList,"change add remove reset",this.updateCustomEmoji),this.updateCustomEmoji())}render(){var e,t,n;const i={};return this.options.input&&(i.input=!0),i.upsellEnabled=!b()||a.me().hasPremiumFeature("customEmoji")||(null===(e=this.options.card)||void 0===e||null===(t=e.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.hasPremiumFeature("customEmoji")),this.options.button?v.render(this.getEmojiPicker(),this.$el[0]):(this.$el.html(g(i)),this.$emojiList=this.$(".js-available-emoji"),this.filterEmoji(this.getInput())),this}keyupEvent(e){const t=o(e);if([s.ArrowUp,s.ArrowDown].includes(t))return c.stop(e),void c.navMenuList(this.$emojiList,".item",t);if([s.Enter,s.Tab].includes(t))return;const n=this.getInput();return this.filterEmoji(n)}keydownEvent(e){let t;if(t=o(e),[s.Enter,s.Tab].includes(t)){c.stop(e);const t=this.$emojiList.find(".item.selected:first .js-select-emoji");if(t.length>0)return t.click()}}updateCustomEmoji(){return this._customEmoji=u.object(a.me().customEmojiList.map((e=>[e.get("name"),e.get("url")]))),this.render()}getTextInput(){return i(this.options.target)}getInput(){const e=this.getTextInput();return c.getWordFromCaret(e).str.substring(1)}filterEmoji(e){if(this.clearEmojiList(),this.fillEmojiList(e))return c.selectMenuItem(this.$emojiList,".item",this.$emojiList.find(".item").first())}renderEmojiList(e){for(const t of Array.from(e)){const e={html:C({data:y.getDataSync(),backgroundImageFn:y.getSpritesheetsUrl,html:!0,emoji:t,set:y.getDefaultEmojiSet(),size:18}),isEmojiMart:!0,name:t,image:null!=this._customEmoji[t]?this._customEmoji[t]:null};this.$emojiList.append(p.fill(n("./app/scripts/views/templates/select_emoji.js"),e))}return this}fillEmojiList(e){let t=e.replace(/\W+/g,"");if(/[A-Z]/.test(t)&&this.options.input)return l.hide(),!1;t=t.toLowerCase(),this.$(".js-upload-emoji").text(h("upload emoji named",{emojiName:t})).attr("data-emojiname",t),this.$(".js-no-matching-emoji-helper").text(h("no matching emoji helper",{emojiName:t}));const n=this.getEmojiSuggestions(t).slice(0,6);return n.length>0?(this.$(".js-results").removeClass("hide"),this.$(".js-no-results").addClass("hide"),this.renderEmojiList(n)):(this.$(".js-results").addClass("hide"),this.$(".js-no-results").removeClass("hide")),0!==n.length}clearEmojiList(){return this.$emojiList.empty()}getEmojiSuggestions(e){const t=new RegExp("^".concat(c.escapeForRegex(e))),n=Object.keys(this._customEmoji).filter((e=>t.test(e))),i=y.emojiIndex.search(e).map((e=>e.id));return u.uniq([...Array.from(n),...Array.from(i)])}hoverItem(e){const t=i(e.target).closest(".item");return c.selectMenuItem(this.$emojiList,".item",t)}selectEmoji(e,t){if(c.stop(e),"string"==typeof t)this.insertEmoji(t);else{const t=i(e.target).closest(".js-select-emoji").find(".emoji-name").text(),n=y.emojiIndex.search(t).map((e=>e.id));this.insertEmoji(t||n&&n[0])}l.hide()}insertEmoji(e){let t;const n=this.getTextInput();if(this.options.input)t=c.getWordFromCaret(n);else{const e=c.getCaretPosition(n);null!=e&&(t={start:e,end:e})}return c.insertSelection(n,":".concat("".concat(e).trim(),": "),null!=t?t.start:void 0,null!=t?t.end:void 0),m.sendUIEvent({action:"selected",actionSubject:"emoji",source:"emojiCompleterInlineDialog",attributes:{emojiName:e}})}openEmojiUploader(e){c.stop(e);const t=this.$(e.target).attr("data-emojiname");l.pushView({keepEdits:!0,view:r,options:{model:a.me(),emojiName:t,completerView:this,card:this.options.card}}),m.sendUIEvent({action:"opened",actionSubject:"inlineDialog",actionSubjectId:"customEmojiUploaderInlineDialog",source:"cardDetailScreen"})}remove(){return v.unmountComponentAtNode(this.$el[0]),super.remove(...arguments)}getEmojiPicker(){var e,t,n;const i=!b()||a.me().hasPremiumFeature("customEmoji")||(null===(e=this.options.card)||void 0===e||null===(t=e.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.hasPremiumFeature("customEmoji")),r=a.me().customEmojiList.map((e=>({name:e.get("name"),short_names:[e.get("name")],imageUrl:e.get("url")})));return f.createElement(k,{custom:r,onClick:(e,t)=>this.selectEmoji(t,e.id),showCustomEmojiButton:i,onCustomEmojiButtonClick:this.openEmojiUploader.bind(this)})}willBePopped(){return i(document).off("click",".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin"),i(document).off("input",".emoji-mart-search input")}}j.initClass(),e.exports=j},"./app/scripts/views/internal/autocomplete/emoji-uploader-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/alerts.js"),r=n("./app/scripts/db/auth.js"),o=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./app/scripts/views/internal/templates.js");class d extends l{static initClass(){this.prototype.viewTitleKey="upload emoji"}events(){return{"click .js-upload-emoji":"uploadEmoji","change .js-upload-emoji-file":"fileChange","input .js-emoji-name":"nameChange"}}initialize({completerView:e}){var t,n,i;return this.completerView=e,this.hasGold=this.model.hasPremiumFeature("customEmoji"),this.hasBCGold=!1,this.teamEnabledFeature=null===(t=this.options.card)||void 0===t||null===(n=t.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.hasPremiumFeature("customEmoji"),this.canUpload=this.hasGold||this.hasBCGold||this.teamEnabledFeature,(()=>{const e=[];for(const t of Array.from(this.model.organizationList.models)){if(this.hasBCGold=t.isFeatureEnabled("goldMembers"),this.hasBCGold)break;e.push(void 0)}return e})()}render(){const e=this.model.toJSON();return e.emojiName=this.options.emojiName,e.hasGold=this.hasGold,e.hasBCGold=this.hasBCGold,e.showTeamUpsell=!this.teamEnabledFeature&&!this.hasBCGold,e.canUpload=this.canUpload,this.$el.html(c.fill(n("./app/scripts/views/templates/popover_emoji_uploader.js"),e)),this._validate(),this.renderEmoji(),this}getName(){return this.$(".js-emoji-name").val().trim().toLowerCase().replace(/\s+/g,"_")}renderEmoji(){this.$(".js-emoji-preview-name").text(":".concat(this.getName()||"???",":"));const e=u(this.$(".js-upload-emoji-file").prop("files"),(e=>e[0]));if(new RegExp("^image/.*").test(null!=e?e.type:void 0)){const t=new FileReader;t.onload=e=>(this.$(".js-emoji-conversion").removeClass("hide"),this.$(".js-emoji-preview").attr("src",e.target.result)),t.readAsDataURL(e)}else this.$(".js-emoji-conversion").addClass("hide");return this}fileChange(e){const t=this.$(".js-emoji-name"),n=this.$(".js-upload-emoji-file");if(""===t.val()){let e;const i=u(n.prop("files"),(e=>e[0]));null!=i?({name:e}=i):n.val()&&(e=u(new RegExp("[^\\/]+$").exec(n.val()),(e=>e[0]))),null==e&&(e=""),e=e.split(".")[0],e=e.toLowerCase().replace(/[^a-z0-9_]/g,""),t.val(e),this.$(".js-emoji-name").focus().select()}return this.renderEmoji(),this._validate()}nameChange(e){return this.renderEmoji(),this._validate()}_validate(e){const t=this.getName(),n=this.$(".js-upload-emoji-file"),i=/^[a-z0-9_\s]+$/.test(t),a=u(n.prop("files"),(e=>e.length))>0||n.val(),r=i&&a&&this.canUpload;return this.$(".js-invalid-name").toggleClass("hide",i||""===t),this.$(".js-upload-emoji").toggleClass("disabled",!r)}uploadEmoji(e){var t,n,l;if(s.stop(e),i(".js-upload-emoji").hasClass("disabled"))return;this.$(".error").addClass("hide");const c=this.$(".js-upload-emoji-file"),d=u(c.prop("files"),(e=>e[0])),p=this.getName(),m=()=>(this.completerView.insertEmoji(p),o.hide());if(!d&&c.val())return void s.uploadFile(r.myToken(),c,m);if(null!=d&&!s.validFileSize(d))return void a.flash("file too large","error");if(null==d||!p)return;const h=new FileReader,g=new FormData;g.append("token",r.myToken()),g.append("file",d),g.append("name",p);const b=null===(t=this.options.card)||void 0===t||null===(n=t.getBoard())||void 0===n||null===(l=n.getOrganization())||void 0===l?void 0:l.id;return b&&g.append("idOrganization",b),h.onload=e=>this.model.customEmojiList.create({url:e.target.result,name:p},{data:g,processData:!1,contentType:!1,success:m,error(){return this.$(".error").removeClass("hide")}}),h.readAsDataURL(d)}}function u(e,t){return null!=e?t(e):void 0}d.initClass(),e.exports=d},"./app/scripts/views/internal/autocomplete/trello-completer-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/models/board.js"),r=n("./app/scripts/models/card.js"),{getKey:o,Key:s}=n("./packages/keybindings/index.ts"),l=n("./app/scripts/views/templates/popover_limit_exceeded.js"),c=n("./app/scripts/db/model-loader.js"),d=n("./app/scripts/lib/util/url/parse-trello-url.js"),u=n("./app/scripts/network/payloads.ts").default,p=n("./node_modules/bluebird/js/browser/bluebird.js"),m=n("./app/scripts/lib/recents.js"),h=n("./app/scripts/lib/util/index.js"),g=n("./app/scripts/views/internal/view.js"),b=n("./node_modules/underscore/underscore.js"),f=n("./app/scripts/views/templates/select_board.js"),v=n("./app/scripts/views/templates/select_card.js"),k=n("./app/scripts/view-models/sidebar-state.js"),y=n("./app/scripts/views/templates/popover_trello_completer.js"),{Analytics:C}=n("./packages/atlassian-analytics/index.ts"),j=n("./app/scripts/network/api-error.js"),{isShortId:w}=n("./packages/shortlinks/index.ts");class x extends g{static initClass(){this.prototype.viewTitleKey="add card or board",this.prototype.events={"mouseenter .js-select-card,.js-select-board":"hoverItem","click .js-select-card":"selectCard","click .js-select-board":"selectBoard",keydown:"keydownEvent","keyup .js-search":"keyupEvent","input .js-search":"updateSearch"}}initialize(){return this.items=[],this.debouncedSearch=this.debounce(this.search,350).bind(this),this.search("")}render(){return this.model.canAttach()?(this.$el.html(y({})),p.resolve(this._lastRenderPromise).then((()=>this.renderItems())).done(),this):(this.model.isOverLimit("attachments","perCard")?this.$el.html(l("perCard")):this.model.getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(l("perBoard")),this)}renderItems(){let e,t;this.$(".js-loading").addClass("hide");const n=new Set([this.model.get("shortLink")]),i=new Set;this.model.attachmentList.forEach((function(e){const t=e.get("url"),{type:a,shortLink:r}=d(t);switch(a){case"card":return n.add(r);case"board":return i.add(r)}}));const o=this.items.filter((e=>e instanceof r&&!n.has(e.get("shortLink")))),s=this.items.filter((e=>e instanceof a&&!i.has(e.get("shortLink")))),l=this.$(".js-card-list").empty(),c=this.$(".js-board-list").empty();if(o.length>0){const n=(()=>{const n=[];for(const i of Array.from(o))e=i.toJSON(),t=i.getBoard(),null!=t&&(e.boardName=t.get("name")),n.push(v(e));return n})();l.append(n)}if(s.length>0){const n=(()=>{const n=[];for(t of Array.from(s)){const i=t.getOrganization();e=t.toJSON(),null!=i&&(e.orgName=i.get("displayName")),n.push(f(e))}return n})();c.append(n)}this.items.length>0&&h.selectMenuItem(this.$el,".item",this.$el.find(".item").first());const u=!this._lastQuery&&0===o.length,p=!this._lastQuery&&0===s.length;return this.$(".js-card-results").toggleClass("hide",u),this.$(".js-board-results").toggleClass("hide",p),this.$(".js-no-card-results").toggleClass("hide",o.length>0),this.$(".js-no-board-results").toggleClass("hide",s.length>0),this}keyupEvent(e){const t=o(e);[s.ArrowUp,s.ArrowDown].includes(t)&&(h.stop(e),h.navMenuList(this.$el,".item",t))}updateSearch(e){const t=this.$(".js-search").val();return this.debouncedSearch(t)}keydownEvent(e){let t;if(t=o(e),[s.Enter,s.Tab].includes(t)){h.stop(e);const t=this.$el.find(".item.selected:first").find(".js-select-card,.js-select-board");if(t.length>0)return t.click()}}getTextInput(){return i(this.options.target)}_renderSettledItems(e,t){if(e===this._lastQuery)return this._lastRenderPromise=p.resolve(t).then((function(e){return b.isArray(e)?e:[e]})).catch(j,(()=>[])).tap((e=>(this.items=e,this.renderItems()))).finally((()=>this._lastRenderPromise=null))}search(e){if(e===this._lastQuery)return;if(this._lastQuery=e,this.$(".js-card-results").addClass("hide"),this.$(".js-board-results").addClass("hide"),this.$(".js-loading").removeClass("hide"),""===e){const t=5,n=b.chain(m.get("card",t+1)).without(this.model.id).first(t).value(),i=b.chain(k.getRecentBoards()).without(this.model.get("idBoard")).first(t).value(),a=p.props({recentCards:p.map(n,(e=>this.modelCache.getOrLoad({type:"Card",id:e,payload:u.cardCompleter,loader:e=>c.loadCardCompleterData(e)}))),recentBoards:p.map(i,(e=>this.modelCache.getOrLoad({type:"Board",id:e,payload:u.boardCompleter,loader:e=>c.loadBoardCompleterData(e)})))}).then((({recentCards:e,recentBoards:t})=>b.compact([...Array.from(e),...Array.from(t)])));return void this._renderSettledItems(e,a)}const t=d(e.trim());if("card"===t.type)return void this._renderSettledItems(e,c.loadCardCompleterData(t.shortLink));if("board"===t.type)return void this._renderSettledItems(e,c.loadBoardCompleterData(t.shortLink));if(w(e)){const{card:t}=this.options,n=null!=t?t.getBoard():void 0;if(null!=n){let t;return void(null!=(t=n.getCard(e))?this._renderSettledItems(e,t):this._renderSettledItems(e,c.loadCardData(n.id,e)))}}const n={query:e,board_fields:"name,idOrganization,url",modelTypes:"cards,boards",partial:!0,card_board:!0};c.loadSearchData(n).nodeify(((t,n)=>{if(null==t){const t=b.chain(n.cards).map((e=>this.modelCache.get("Card",e.id))).sortBy((e=>e.get("idBoard")===this.model.get("idBoard")?0:1)).value(),i=b.chain(n.boards).map((e=>this.modelCache.get("Board",e.id))).sortBy((e=>e.get("id")===this.model.get("idBoard")?1:0)).value();return this._renderSettledItems(e,[...Array.from(t),...Array.from(i)])}return this.items=[],this.renderItems()}))}hoverItem(e){const t=i(e.target).closest(".item");return h.selectMenuItem(this.$el,".item",t)}selectCard(e){h.stop(e);const t=this.$(e.target).closest(".js-select-card").attr("data-id"),n=this.modelCache.get("Card",t);null!=n&&this.insertItem(n)}selectBoard(e){h.stop(e);const t=this.$(e.target).closest(".js-select-board").attr("data-id"),n=this.modelCache.get("Board",t);null!=n&&this.insertItem(n)}insertItem(e){let t;if(this.options.onStartUpload)return void this.options.onStartUpload(e);const n=e.get("url"),i=this.getTextInput(),a=h.getCaretPosition(i);null!=a&&(t={start:a,end:a}),h.insertSelection(i,"".concat(n," "),null!=t?t.start:void 0,null!=t?t.end:void 0);let o="board";const s={};return e instanceof r?(o="card",s.card={id:e.id}):s.board={id:e.id},C.sendTrackEvent({action:"added",actionSubject:o,source:"trelloAddCardInlineDialog",containers:s})}}x.initClass(),e.exports=x},"./app/scripts/views/internal/board-display-helpers.js":function(e,t,n){const i=n("./app/scripts/lib/localize.js"),a={getPermLevelAltTextForBoard(e){const t=e.getPermLevel();return i(["board perms",t,"short summary"])},getPermLevelAltTextForTemplate(e){const t=e.getPermLevel();return i(["template perms",t,"short summary"])},getPermLevelIconClass:e=>"org"===e?"organization-visible":"enterprise"===e?"enterprise":e,getPermLevelIconClassForBoard:e=>a.getPermLevelIconClass(e.getPermLevel())};e.exports=a},"./app/scripts/views/internal/collection-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/debug/log.js");e.exports=class extends i{constructor(e){super(e),this.sort=this.sort.bind(this)}initialize(){return this.listenPropagators={},this.makeDebouncedMethods("sort"),this.listenTo(this.collection,{sort:this.sortDebounced,add:this.addModel,remove:this.removeModel,reset:this.reset}),super.initialize(...arguments)}getModels(){return this.collection.models}subview(){const e=super.subview(...arguments);return null==this.listenPropagators[e.cid]&&(this.listenPropagators[e.cid]=this.listenTo(e,"all",((t,...n)=>this.trigger(t,e,...Array.from(n))))),e}addModel(e,t){r("render","adding ".concat(this.collection.model.name," to ").concat(this.viewType.name));const n=this.subview(this.viewType,e);this.el&&this.insertSubview(n,a.indexOf(this.getModels(),e))}removeModel(e,t){return r("render","removing ".concat(this.collection.model.name," from ").concat(this.viewType.name)),this.removeSubview(this.viewForModel(e))}reset(e,{previousModels:t}){let n;const i={};for(n of Array.from(e.models))i[n.cid]=!0;for(n of Array.from(t))i[n.cid]||this.removeModel(n);return this.sort()}sort(){const e=Array.from(this.el.children).map((function(e,t){return e.matches(".placeholder,.card-composer")?t:null})).filter((e=>null!==e)),t=this.getModels();for(let n=0;n<t.length;n++){const i=t[n],a=n+e.filter((e=>e<=n)).length;this.moveSubviewToPosition(this.subview(this.viewType,i),a)}}render(){let e;return r("render","rendering ".concat(this.getModels().length," ").concat(this.collection.model.name,"s into ").concat(this.viewType.name)),this.appendSubviews((()=>{const t=[];for(e of Array.from(this.getModels()))t.push(this.subview(this.viewType,e));return t})()),this}viewForModel(e){return this.existingSubview(this.viewType,e)}removeSubview(e){return this.deleteSubview(e)}insertSubview(e,t,n){null==n&&({$el:n}=this),r("render","inserting ".concat(e.$el.find("h2").text()," at position ").concat(t)),"number"==typeof t?t=t<=0?n.children().eq(0):t<n.children().length?n.children().eq(t):void 0:t instanceof i&&(t=t.$el),e.$el.is(":empty")&&(e.delegateEvents(),e.render()),(null!=t?t.length:void 0)>0?e.$el.insertBefore(t):n.append(e.$el)}moveSubviewToPosition(e,t){if(e.$el.is(":empty"))return void this.insertSubview(e,t,this.$el);const{children:n}=this.el;e.$el.index()!==t&&(0===t?this.$el.prepend(e.$el):t>=n.length?this.$el.append(e.$el):e.$el.insertAfter(n[t-1]))}}},"./app/scripts/views/internal/data-transfer/drag-drop-events.js":function(e,t,n){const i=n("./app/scripts/lib/util/array/count-while.js"),a=n("./app/scripts/lib/util/event/trigger.js"),{getTypes:r,getDropped:o}=n("./app/scripts/views/internal/data-transfer/normalize.js"),s=function(e,t){document.addEventListener(e,t)},l=function(e,t,n,i){for(const r of Array.from(n))a(e,"".concat(t,":").concat(r),i)},c=function(e){if(e){const t=c(e.parentElement);return t.push(e),t}return[]};let d=[],u=null;const p=function(e,t){let n;if(clearTimeout(u),d.length>0&&d[d.length-1]===e)return;const a=c(e),r=i(a,d,((e,t)=>e===t));for(n of Array.from(d.slice(r)))l(n,"dd-leave",t,{bubbles:!1});for(n of Array.from(a.slice(r)))l(n,"dd-enter",t,{bubbles:!1});return d=a};s("dragenter",(function(e){return p(e.target,r(e.dataTransfer)),e.preventDefault()})),s("dragover",(function(e){const t=r(e.dataTransfer);return t.length>0&&(e.dataTransfer.dropEffect="copy"),p(e.target,t),e.preventDefault()})),s("dragleave",(function(e){const t=r(e.dataTransfer);return u=setTimeout((()=>p(null,t)),200)})),s("dragend",(e=>p(null,[]))),s("drop",(function(e){const t=r(e.dataTransfer);o(e).then((function(n){for(const t in n){const i=n[t];a(e.target,"dd-drop:".concat(t),{detail:i})}return p(null,t)})),e.preventDefault()}))},"./app/scripts/views/internal/disable-submit-if-length-too-long.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a={checkLength(e){const t=i(e.target).val(),n=this.maxLength||16384,a=0===t.length||/^\s*$/.test(t),r=!a&&t.length>n;null!=this.preventSubmit?this.preventSubmit(r,a):this._preventSubmit(r,a)},_preventSubmit(e,t){return this.$(".js-too-long-warning").toggleClass("hide",!e),this.$(".js-is-empty-warning").toggleClass("hide",!t),this.$('input[type="submit"]').prop("disabled",t||e)}};e.exports=a},"./app/scripts/views/internal/editable-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=n("./packages/jquery/index.js"),{Analytics:s}=n("./packages/atlassian-analytics/index.ts"),l=n("./app/scripts/views/internal/autocomplete/auto-mentioner-view.js"),c=n("./app/scripts/models/board.js"),d=n("./app/scripts/models/card.js"),u=n("./app/scripts/views/lib/drag-sort.js"),p=n("./app/scripts/views/templates/edit_controls.js"),m=n("./app/scripts/views/internal/autocomplete/emoji-completer-view.js"),h=n("./app/scripts/lib/util/selection/has-selection-in.js"),{getKey:g,isForceSubmitEvent:b,Key:f}=n("./packages/keybindings/index.ts"),v=n("./app/scripts/views/lib/layout.js"),k=n("./app/scripts/views/lib/pop-over.js"),{TrelloStorage:y}=n("./packages/storage/index.ts"),C=n("./app/scripts/lib/util/index.js"),j=n("./app/scripts/views/internal/view.js"),w=n("./node_modules/underscore/underscore.js"),x=n("./app/scripts/debug/log.js"),{track:_,trackUe:E}=n("./packages/analytics/index.ts"),S=n("./app/scripts/lib/localize.js"),{asNumber:O}=n("./packages/i18n/formatters.ts");class T extends j{static initClass(){this.prototype.allowNewlines=!0}initialize(){return super.initialize(...arguments),o(window).on("beforeunload.EditableView-".concat(this.model.cid),(()=>{this.saveDrafts("unload")}))}remove(){return this.saveDrafts("removing view"),o(window).off(".EditableView-".concat(this.model.cid)),super.remove(...arguments)}_draftKey(e){return"draft_".concat(this.model.id,"_").concat(e)}_saveDraft(e,t){return y.set(this._draftKey(e),t)}_recallDraft(e){return y.get(this._draftKey(e))}_discardDraft(e){return y.unset(this._draftKey(e))}saveDrafts(e){return null!=this.model.id&&(()=>{const t=[];for(const n of Array.from(this.getEdits())){const i=n.attr("attr"),a=n.find(".field:first").val();0!==o.trim(a).length&&(this.model.get(i)!==a&&a!==this._recallDraft(i)?(e&&(_("Editable View","Save Draft","Save draft via ".concat(e)),E("Editable View","Save Draft","","","","when ".concat(e),"")),t.push(this._saveDraft(i,a))):t.push(void 0))}return t})()}editField(e){const t=o(e.target).closest("a");if(t.length>0&&"#"!==t.attr("href"))return;if(u.sorting)return;const n=o(e.target).closest(".editable");if(0===n.length)return;if(h(n))return;if(o(e.target).closest(".js-react-root").length)return;C.stop(e),k.hide();const i=n.attr("attr");return this.edit(i)}edit(e,t){let n;null==t&&(t=!0),e.indexOf(".")>-1&&(n=e.split("."),e=n[1]);const i=this.$("[attr=".concat(e,"]")),a=this.$(".js-no-higher-edits [attr=".concat(e,"]")),r=i.not(a);if(0===r.length)return;v.cancelEdits();const o=r.find(".edit:first");if(0===o.length)return;const s=r.find(".field:first");o.append(p()),r.addClass("editing"),""===s.val()&&s.val(C.traverse(this.model.attributes,null!=n?n:e)),this.waitForId(this.model,(()=>s.data("draftKey",this._draftKey(e)))),x("editable",this.model),t&&s.focus().select(),s.autosize({append:!1})}getEdits(){const e=this.$("[attr]"),t=this.$(".js-no-higher-edits [attr]");return e.not(t).map(((e,t)=>o(t)))}recallDrafts(){return this.getEdits().each(((e,t)=>{const n=t.attr("attr");if(null!=this.model.id){const e=this._recallDraft(n);if(null!=e){return t.find(".field:first").val(e),this.defer((()=>t.find(".edits-warning").show()))}}}))}stopEditing(e){return C.stop(e),v.cancelEdits(),!1}clearEdits(e){C.stop(e);const t=o(e.target).closest(".editable[attr]"),n=t.attr("attr");return null!=n&&this._discardDraft(n),t.find(".field").val(""),t.find(".edits-warning").hide(),t.find(".edits-error").hide(),t.removeClass("editing"),v.cancelEdits(),!1}validate(){let e;for(e of Array.from(this.$(".editing.non-empty .field")))if(/^\s*$/.test(o(e).val()))return!1;for(e of Array.from(this.$(".editing .field"))){let t;const n=(null!=(t=o(e).val())?t:"").length;if(n>16384)return o(".editing").find(".edits-error").text(S("text too long",{over:O(n-16384)})).show(),!1}return!0}keydownEvent(e){const t=g(e);v.isEditing()&&(k.view instanceof m||k.view instanceof l?"function"==typeof this.checkInsert&&this.checkInsert(e):b(e)||t===f.Enter&&(!o(e.target).is("textarea")||o(e.currentTarget).hasClass("single-line"))&&!e.shiftKey?(C.stop(e),this.commitEdits(e)):t!==f.Enter||this.allowNewlines||C.stop(e))}commitEdits(e,t=null){e&&C.stop(e);const n=t||o(e.target).closest(".editable.editing[attr]");if(n.find(".edits-error").hide(),!this.validate())return;const i=this,{model:r}=this;return n.remove("input[type=submit]"),n.removeClass("editing").each((function(){const e=o(this).attr("attr");let t=o(this).find(".field").val();if(i.allowNewlines||(t=t.replace(/[\r\n]+/g," ")),0===o.trim(t).length&&(t=""),r.get(e)===t)return i._discardDraft(e);{let o={subTask:"desc"};r instanceof d&&(o=a(a({},o),{},{taskName:"edit-card",source:"cardDetailScreen"})),r instanceof c&&(o=a(a({},o),{},{taskName:"edit-board",source:"boardMenuDrawerAboutScreen"}));const l=s.startTask(o),u={traceId:l};return u[e]=t,r.update(u,(function(u,p){null!=u?(n.find(".edits-error").text(u.message).show(),i._saveDraft(e,t),s.taskFailed(a(a({},o),{},{traceId:l,error:u}))):(i._discardDraft(e),r instanceof d&&s.sendUpdatedCardFieldEvent({field:"description",source:"cardDetailScreen",containers:{card:{id:p.id},board:{id:p.idBoard},list:{id:p.idList}},attributes:{taskId:l}}),r instanceof c&&s.sendUpdatedBoardFieldEvent({field:"description",source:"boardMenuDrawerAboutScreen",containers:{board:{id:p.id}},attributes:{taskId:l}}),s.taskSucceeded(a(a({},o),{},{traceId:l})))}))}})).find(".field").val(""),n.find(".edits-warning").hide(),!0}clickSetting(e){const t=o(e.target);if(t.hasClass("disabled")||t.closest(".js-disabled").length)return;const n=t.attr("href");if(n&&"#"!==n)return;const i=t.closest(".pref").attr("name");if(!i)return;let a=t.attr("value");a=(()=>{switch(a){case"true":return!0;case"false":return!1;default:return a}})(),this.model.setPref(i,a),this.model.save(),C.stop(e)}delegateEvents(e){const t={"click .current":"editField","click .js-cancel-edit":"clearEdits","click .js-discard-edits":"clearEdits","click .js-view-edits":"editField","click .js-save-edit":"commitEdits","keydown .field":"keydownEvent","click input":C.stopPropagation,"click textarea":C.stopPropagation};return null!=this.model.setPref&&(t["click a"]="clickSetting"),super.delegateEvents(w.extend(t,e||this.events))}}T.initClass(),e.exports=T},"./app/scripts/views/internal/friendly-links-v2.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"handleFriendlyLinkClick",(function(){return D})),n.d(t,"fireFriendlyLinkAnalyticsEvent",(function(){return N})),n.d(t,"shouldRenderV2FriendlyLink",(function(){return I})),n.d(t,"isApplicationJiraOrConfluence",(function(){return A})),n.d(t,"renderV2FriendlyLink",(function(){return P})),n.d(t,"FriendlyLinksV2",(function(){return B}));var i=n("./packages/atlassian-analytics/index.ts"),a=n("./packages/i18n/index.ts"),r=n("./app/src/components/ComponentWrapper/index.ts"),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.create;Object.create;var l=n("./node_modules/react/index.js"),c=n.n(l),d=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),u=n("./node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js"),p={default:{light:d.N40,dark:d.N40},inprogress:{light:d.B50,dark:d.B50},moved:{light:d.Y75,dark:d.Y75},new:{light:d.P50,dark:d.P50},removed:{light:d.R50,dark:d.R50},success:{light:d.G50,dark:d.G50}},m={default:{light:d.N500,dark:d.N500},inprogress:{light:d.B500,dark:d.B500},moved:{light:d.N800,dark:d.N800},new:{light:d.P500,dark:d.P500},removed:{light:d.R500,dark:d.R500},success:{light:d.G500,dark:d.G500}},h={default:{light:d.N500,dark:d.N500},inprogress:{light:d.B400,dark:d.B400},moved:{light:d.Y500,dark:d.Y500},new:{light:d.P400,dark:d.P400},removed:{light:d.R400,dark:d.R400},success:{light:d.G400,dark:d.G400}},g={default:{light:d.N0,dark:d.N0},inprogress:{light:d.N0,dark:d.N0},moved:{light:d.N800,dark:d.N800},new:{light:d.N0,dark:d.N0},removed:{light:d.N0,dark:d.N0},success:{light:d.N0,dark:d.N0}},b=Object(u.a)((function(e){var t=e.appearance,n=e.isBold,i=e.maxWidth;return s(s({},"object"==typeof t?s({backgroundColor:(n?h:p).default.light,textColor:(n?g:m).default.light},t):{backgroundColor:(n?h[t]:p[t]).light,textColor:(n?g[t]:m[t]).light}),{maxWidth:i})})),f=n("./node_modules/@emotion/core/dist/core.browser.esm.js"),v=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),k=Object(v.c)()+"px",y=function(e){var t=e.backgroundColor,n=e.textColor,i=e.children,a=e.testId;return Object(f.d)("span",{css:{backgroundColor:t,borderRadius:k,boxSizing:"border-box",color:n,display:"inline-block",fontSize:"11px",fontWeight:700,lineHeight:1,maxWidth:"100%",padding:"2px 0 3px 0",textTransform:"uppercase",verticalAlign:"baseline"},"data-testid":a},i)},C=Object(v.f)()/2+"px",j=function(e){var t=e.maxWidth,n=e.children;return Object(f.d)("span",{css:{display:"inline-block",verticalAlign:"top",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",boxSizing:"border-box",padding:"0 "+C,maxWidth:"number"==typeof t?t+"px":t,width:"100%"}},n)},w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.children,i=e.testId;return c.a.createElement(b.Provider,{value:t},c.a.createElement(b.Consumer,s({},this.props),(function(e){return c.a.createElement(y,s({testId:i},e),c.a.createElement(j,s({},e),n))})))},t.defaultProps={isBold:!1,appearance:"default",maxWidth:200},t}(l.PureComponent),x=n("./packages/feature-flag-client/src/feature-flag-client.ts");function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=n("./app/scripts/views/internal/teacup-with-helpers.js")(),S=Object(a.forTemplate)("smartlink_connect"),O="trello",T="trello-smartlink",D=e=>t=>{N(e),t.preventDefault();const n=new URL(t.currentTarget.href);var i,a;n.searchParams.get("utm_source")===O&&n.searchParams.get("utm_content")===T||(n.searchParams.append("utm_source",O),n.searchParams.append("utm_content",T),n.searchParams.append("utm_campaign",I(null==e||null===(i=e.meta)||void 0===i||null===(a=i.requestAccess)||void 0===a?void 0:a.smartLinksAccessMetadataExperimentCohort)?"".concat(T,"-v2"):"".concat(T,"-v1")));window.open(n.toString())},N=({application:e,meta:t})=>{var n,a,r;const o=null==t||null===(n=t.requestAccess)||void 0===n?void 0:n.cloudId;i.Analytics.sendClickedLinkEvent({linkName:"smartLink",source:Object(i.getScreenFromUrl)(),attributes:{application:e,cloudId:o,urlAccess:null==t?void 0:t.access,accessType:null==t||null===(a=t.requestAccess)||void 0===a?void 0:a.accessType,resourceType:null==t?void 0:t.resourceType,visibility:null==t?void 0:t.visibility,smartLinkCohort:null==t||null===(r=t.requestAccess)||void 0===r?void 0:r.smartLinksAccessMetadataExperimentCohort}})},I=(e,t=!1)=>("control"===e||"experiment"===e)&&(t&&x.a.triggerExposureEvent("smart-links-access-metadata-experiment-rollout",e,"SmartLinksV2",void 0,{}),"experiment"===e),A=(e="")=>"Jira"===e||"Confluence"===e,P=(e,t)=>{new B({el:e,known:t}).renderSmartLink()};class B{constructor({el:e,known:t}){_(this,"smartLinkElement",void 0),_(this,"smartLinkMetadata",void 0),_(this,"lozengeElement",void 0),_(this,"formatKey",void 0),_(this,"cta",void 0),_(this,"position",void 0),_(this,"AccessRequestToSmartLinkLayoutMetadata",{ACCESS_EXISTS:{},APPROVED_REQUEST_EXISTS:{formatKey:"join",position:"postfix"},DIRECT_ACCESS:{formatKey:"join",position:"postfix"},REQUEST_ACCESS:{formatKey:"request-access",position:"postfix"},PENDING_REQUEST_EXISTS:{formatKey:"pending-request",position:"prefix",icon:n("./resources/images/services/people.svg")},DENIED_REQUEST_EXISTS:{formatKey:"denied-request",position:"prefix",icon:n("./resources/images/services/lock.svg")},FORBIDDEN:{formatKey:"forbidden-request",position:"prefix",icon:n("./resources/images/services/lock.svg")}}),this.smartLinkElement=e,this.smartLinkMetadata=t}createLozengeElement(){this.lozengeElement=document.createElement("span"),this.lozengeElement.classList.add("lozenge-wrapper")}renderSmartLinkTemplate(){return E.renderable((()=>{const{meta:{access:e}}=this.smartLinkMetadata;"forbidden"===e?(this.generateUnconnectedCTAMetadata(),this.cta&&this.position?this.handleApplicationSmartLink():this.renderDefaultSmartLink()):this.renderDefaultSmartLink()}))()}handleApplicationSmartLink(){this.handleIconRender(),this.handleApplicationSmartLinkRenderOrder()}handleIconRender(){const{idPlugin:e,monochrome:t,icon:n}=this.smartLinkMetadata;E.img({class:E.classify({"smart-link-icon":!0,"plugin-icon":null!==e,"mod-reset":!t}),src:n})}handleApplicationSmartLinkRenderOrder(e=this.smartLinkMetadata.text){const{position:t,cta:n}=this;"prefix"===t?(n&&E.span(".connect",n),E.span(".link",e)):(E.span(".link",e),n&&E.span(".connect",n))}renderDefaultSmartLink(){this.handleIconRender(),E.span(".link",this.smartLinkMetadata.name)}generateUnconnectedCTAMetadata(){const{meta:{requestAccess:e}}=this.smartLinkMetadata;if(null!=e&&e.accessType){const{formatKey:t,position:n,icon:i}=this.AccessRequestToSmartLinkLayoutMetadata[null==e?void 0:e.accessType];this.formatKey=t,this.position=n,i&&(this.smartLinkMetadata.icon=i),this.formatKey&&("join"===this.formatKey||"request-access"===this.formatKey?this.getCTAForApplication():this.cta=S(this.formatKey))}}getCTAForApplication(){const{application:e}=this.smartLinkMetadata;"Confluence"===e||"Jira"===e?(this.cta=S("".concat(this.formatKey,"-").concat(e.toLocaleLowerCase())),"Confluence"!==e||"request-access"!==this.formatKey&&"join"!==this.formatKey||(this.cta=" "+this.cta)):this.cta=S("connect-to-preview")}renderReactLozenge(){var e,t;Object(r.renderComponent)(c.a.createElement(w,{children:null===(e=this.smartLinkMetadata.tag)||void 0===e?void 0:e.name,appearance:null===(t=this.smartLinkMetadata.tag)||void 0===t?void 0:t.appearance}),this.lozengeElement)}renderSmartLink(){this.smartLinkElement.addEventListener("click",D(this.smartLinkMetadata)),"forbidden"===this.smartLinkMetadata.meta.access?this.smartLinkElement.classList.add("unconnected-link"):this.smartLinkElement.classList.add("smart-link"),this.smartLinkElement.innerHTML=this.renderSmartLinkTemplate(),this.shouldCreateLozengeComponent()&&(this.createLozengeElement(),this.smartLinkElement.appendChild(this.lozengeElement),this.renderReactLozenge())}shouldCreateLozengeComponent(){return!!this.smartLinkMetadata.tag}}},"./app/scripts/views/internal/friendly-links.js":function(e,t,n){const i=n("./app/scripts/db/known-services.js"),a=n("./app/scripts/views/internal/plugins/plugin-runner.js"),r=n("./node_modules/bluebird/js/browser/bluebird.js"),o=n("./node_modules/underscore/underscore.js"),s=n("./app/scripts/views/internal/teacup-with-helpers.js")(),l=n("./app/scripts/db/model-cache.js"),c=n("./node_modules/url-parse/index.js"),{sendPluginTrackEvent:d}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{featureFlagClient:u}=n("./packages/feature-flag-client/index.ts"),{renderComponent:p}=n("./app/src/components/ComponentWrapper/index.ts"),{SmartLinksBridge:m}=n("./app/scripts/views/internal/smart-links-bridge.tsx"),h=n("./node_modules/react/index.js"),{handleFriendlyLinkClick:g,renderV2FriendlyLink:b,isApplicationJiraOrConfluence:f,shouldRenderV2FriendlyLink:v}=n("./app/scripts/views/internal/friendly-links-v2.ts"),k=new window.Map,y=new window.Map,C=s.renderable((function({icon:e,text:t,idPlugin:n,monochrome:i}){return s.img({class:s.classify({"known-service-icon":!0,"plugin-icon":null!=n,"mod-reset":!1===i}),src:e}),s.text(t)}));e.exports=function(e,t,n={}){let s=null!=e.tagName==="A"?[e]:o.toArray(e.querySelectorAll("a"));return u.get("growth.trello-smart-links-attachment-activities",!1)&&(s="A"===(null==e?void 0:e.tagName)?[e]:o.toArray(e.querySelectorAll("a"))),r.map(s,(function(e){const o=c(e.href),s=e.textContent===o.origin?o.origin:o.href;if(s!==e.textContent)try{if(decodeURIComponent(s)!==e.textContent)return}catch(e){return}const j="".concat(null!=t?t.id:void 0,":").concat(s);return r.try((function(){if(!t)throw new a.Error.NotHandled("no board specified");if(k.get(j))return k.get(j);if(y.get(j))return y.get(j);const e=a.one({command:"format-url",board:t,options:{url:s}});return y.set(j,e),e})).catch(a.Error.NotHandled,(()=>null)).then((function(a){return y.delete(j),null!=(null!=a?a.text:void 0)?(a.idPlugin&&d({idPlugin:a.idPlugin,idBoard:t.id,event:{action:"formatted",actionSubject:"url",source:"powerUpFormatUrl"}}),a):i.interpret(e.href,l,{sourceComponent:"friendly-links",publicLinksVariation:n.publicLinksVariation})})).then((function(t){if(null!=t){var i,a;k.set(j,t);return u.get("growth.trello-friendly-link-to-smart-link",!1)?(e.classList.add("atlaskit-smart-link"),p(h.createElement(m,{url:t.url,analyticsContext:n.analyticsContext}),e)):(e.classList.add("known-service-link"),v(null==t||null===(i=t.meta)||void 0===i||null===(a=i.requestAccess)||void 0===a?void 0:a.smartLinksAccessMetadataExperimentCohort,!0)&&f(t.application)?b(e,t):(f(t.application)&&e.addEventListener("click",g(t)),e.innerHTML=C(t)))}}))}))}},"./app/scripts/views/internal/model-cache-listener.js":function(e,t,n){const i=n("./app/scripts/db/model-cache.js"),a=n("./node_modules/react/index.js"),r=n("./node_modules/xtend/immutable.js");e.exports=function(e){return class extends a.Component{constructor(e){super(...arguments),this.listeners=[],this.modelListeners=[]}listenTo(e,t){return i.on(e,t),this.listeners.push({events:e,callback:t})}modelListener(e,t,n){return e.on(t,n),this.modelListeners.push({model:e,events:t,callback:n})}clearModelListeners(){return this.modelListeners.forEach((({model:e,events:t,callback:n})=>e.off(t,n)))}componentWillUnmount(){return this.listeners.forEach((({events:e,callback:t})=>i.off(e,t))),this.clearModelListeners()}render(){const t=r(this.props,{listenTo:this.listenTo.bind(this),modelListener:this.modelListener.bind(this),clearModelListeners:this.clearModelListeners.bind(this)});return a.createElement(e,t)}}}},"./app/scripts/views/internal/paste-input.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/lib/trello-clipboard.js"),r=n("./node_modules/underscore/underscore.js"),o=n("./app/scripts/debug/log.js"),{getPasted:s}=n("./app/scripts/views/internal/data-transfer/normalize.js"),l=n("./app/scripts/lib/util/event/trigger-list.js");e.exports=new(function(){const e=class{static initClass(){this.prototype.precedence={list:4,card:5,dialog:10}}constructor(){this.paste=this.paste.bind(this),this._handlers={},i(document).on("paste",this.paste),a.on("pasteImage",(e=>this.triggerPasted("files",[e])))}addHandler(e,{scope:t,precedence:n}){return null==n&&(n=this.precedence[t]),null==n&&(o("pasteinput","Missing precedence for ".concat(t)),n=this.precedence.default),null==this._handlers[t]&&(this._handlers[t]={}),this._handlers[t]={target:e,scope:t,precedence:n},o("pasteinput","Adding handler for ".concat(t))}removeHandler(e){return(()=>{const t=[];for(const n in this._handlers){const{target:i}=this._handlers[n];e===i&&(o("pasteinput","Removing handler for ".concat(n)),t.push(delete this._handlers[n]))}return t})()}_sortedHandlers(){return r.sortBy(r.values(this._handlers),(e=>-e.precedence))}paste(e){s(e.originalEvent).then((t=>{if(!r.isEmpty(t)&&(!t.text&&!t.url||!["INPUT","TEXTAREA"].includes(e.target.tagName)||a.isClipboard(e.target)))for(const e of["url","text","files"])if(t[e]){this.triggerPasted(e,t[e]);break}}))}triggerPasted(e,t){const n=r.compact(this._sortedHandlers().map((e=>null!=e.target?e.target.el:void 0)));return l(n,"pasteinput:".concat(e),{detail:t})}};return e.initClass(),e}())},"./app/scripts/views/internal/pasted-file-name.js":function(e,t,n){const i=n("./node_modules/moment/moment.js"),a=n("./app/scripts/lib/localize.js");e.exports=function(){const e=i(),t=a("pasted file name",{date:e.format("l"),time:e.format("LTS")});return"".concat(t,".png")}},"./app/scripts/views/internal/react-root-component.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"ReactRootComponent",(function(){return L}));var i={};function a(e){var t=null;return function(){return null==t&&(t=e()),t}}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.r(i),n.d(i,"FILE",(function(){return g})),n.d(i,"URL",(function(){return b})),n.d(i,"TEXT",(function(){return f}));var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n,i;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,i=function(e){return n.add(e)};e.forEach(i),t.forEach(i);var a=[];return n.forEach((function(e){return a.push(e)})),a}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,i=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),i>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&r(t.prototype,n),i&&r(t,i),e}(),s=a((function(){return/firefox/i.test(navigator.userAgent)})),l=a((function(){return Boolean(window.safari)}));function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=t.length,a=[],r=0;r<i;r++)a.push(r);a.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var o,s,l=[],c=[],d=[],u=0;u<i-1;u++)o=t[u+1]-t[u],s=n[u+1]-n[u],c.push(o),l.push(s),d.push(s/o);for(var p=[d[0]],m=0;m<c.length-1;m++){var h=d[m],g=d[m+1];if(h*g<=0)p.push(0);else{o=c[m];var b=c[m+1],f=o+b;p.push(3*f/((f+b)/h+(f+o)/g))}}p.push(d[d.length-1]);for(var v,k=[],y=[],C=0;C<p.length-1;C++){v=d[C];var j=p[C],w=1/c[C],x=j+p[C+1]-v-v;k.push((v-j-x)*w),y.push(x*w*w)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=k,this.c3s=y}var t,n,i;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,i=this.c1s,a=this.c2s,r=this.c3s,o=t.length-1;if(e===t[o])return n[o];for(var s,l=0,c=r.length-1;l<=c;){var d=t[s=Math.floor(.5*(l+c))];if(d<e)l=s+1;else{if(!(d>e))return n[s];c=s-1}}var u=e-t[o=Math.max(0,c)],p=u*u;return n[o]+i[o]*u+a[o]*p+r[o]*u*p}}])&&c(t.prototype,n),i&&c(t,i),e}();function u(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),i=n.top;return{x:n.left,y:i}}function p(e){return{x:e.clientX,y:e.clientY}}function m(e,t,n,i,a){var r,o,c="IMG"===(r=t).nodeName&&(s()||!document.documentElement.contains(r)),p=u(c?e:t),m={x:n.x-p.x,y:n.y-p.y},h=e.offsetWidth,g=e.offsetHeight,b=i.anchorX,f=i.anchorY,v=function(e,t,n,i){var a=e?t.width:n,r=e?t.height:i;return l()&&e&&(r/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:r}}(c,t,h,g),k=v.dragPreviewWidth,y=v.dragPreviewHeight,C=a.offsetX,j=a.offsetY,w=0===j||j;return{x:0===C||C?C:new d([0,.5,1],[m.x,m.x/h*k,m.x+k-h]).interpolate(b),y:w?j:(o=new d([0,.5,1],[m.y,m.y/g*y,m.y+y-g]).interpolate(f),l()&&c&&(o+=(window.devicePixelRatio-1)*y),o)}}var h,g="__NATIVE_FILE__",b="__NATIVE_URL__",f="__NATIVE_TEXT__";function v(e,t,n){var i=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=i?i:n}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(k(h={},g,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),k(h,b,{exposeProperties:{urls:function(e,t){return v(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),k(h,f,{exposeProperties:{text:function(e,t){return v(e,t,"")}},matchesTypes:["Text","text/plain"]}),h);function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var j=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(n.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(e,'" until the drop event.')),null}})}))}var t,n,i;return t=e,(n=[{key:"mutateItemByReadingDataTransfer",value:function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach((function(i){n[i]={value:t.config.exposeProperties[i](e,t.config.matchesTypes)}})),Object.defineProperties(this.item,n)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&C(t.prototype,n),i&&C(t,i),e}();function w(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(y).filter((function(e){return y[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function x(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,n,i;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&x(t.prototype,n),i&&x(t,i),e}();function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var D=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return u(i.sourceNodes.get(e))},this.endDragNativeItem=function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)},this.isNodeInDocument=function(e){return i.document&&i.document.body&&document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=i.currentDragSourceNode;i.isNodeInDocument(e)||i.clearCurrentDragSourceNode()&&i.actions.endDrag()},this.handleTopDragStartCapture=function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=i.dragStartSourceIds;i.dragStartSourceIds=null;var n=p(e);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:n});var a=e.dataTransfer,r=w(a);if(i.monitor.isDragging()){if(a&&"function"==typeof a.setDragImage){var o=i.monitor.getSourceId(),s=i.sourceNodes.get(o),l=i.sourcePreviewNodes.get(o)||s;if(l){var c=i.getCurrentSourcePreviewNodeOptions(),d=m(s,l,n,{anchorX:c.anchorX,anchorY:c.anchorY},{offsetX:c.offsetX,offsetY:c.offsetY});a.setDragImage(l,d.x,d.y)}}try{a.setData("application/json",{})}catch(e){}i.setCurrentDragSourceNode(e.target),i.getCurrentSourcePreviewNodeOptions().captureDraggingState?i.actions.publishDragSource():setTimeout((function(){return i.actions.publishDragSource()}),0)}else if(r)i.beginDragNativeItem(r);else{if(a&&!a.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){i.clearCurrentDragSourceNode()&&i.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(i.dragEnterTargetIds=[],i.enterLeaveCounter.enter(e.target)&&!i.monitor.isDragging()){var t=w(e.dataTransfer);t&&i.beginDragNativeItem(t)}},this.handleTopDragEnter=function(e){var t=i.dragEnterTargetIds;(i.dragEnterTargetIds=[],i.monitor.isDragging())&&(i.altKeyPressed=e.altKey,s()||i.actions.hover(t,{clientOffset:p(e)}),t.some((function(e){return i.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){i.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));i.altKeyPressed=e.altKey,i.actions.hover(t||[],{clientOffset:p(e)}),(t||[]).some((function(e){return i.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){i.isDraggingNativeItem()&&e.preventDefault(),i.enterLeaveCounter.leave(e.target)&&i.isDraggingNativeItem()&&i.endDragNativeItem()},this.handleTopDropCapture=function(e){i.dropTargetIds=[],e.preventDefault(),i.isDraggingNativeItem()&&i.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),i.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(t,{clientOffset:p(e)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new _(n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new o(this.isNodeInDocument)}var t,n,a;return t=e,(n=[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var i=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){i.sourcePreviewNodes.delete(e),i.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var i=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var a=function(t){return i.handleDragStart(t,e)},r=function(e){return i.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",r),function(){i.sourceNodes.delete(e),i.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",r),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,i=function(t){return n.handleDragEnter(t,e)},a=function(t){return n.handleDragOver(t,e)},r=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",i),t.addEventListener("dragover",a),t.addEventListener("drop",r),function(){t.removeEventListener("dragenter",i),t.removeEventListener("dragover",a),t.removeEventListener("drop",r)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return S({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return S({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(i).some((function(t){return i[t]===e}))}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e){return new j(y[e])}(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&T(t.prototype,n),a&&T(t,a),e}();var N=function(e,t){return new D(e,t)},I=n("./node_modules/react/index.js"),A=n.n(I),P=n("./node_modules/react-dnd/dist/esm/index.js");const B=n("./app/scripts/views/internal/global-click-handler.js"),L=({children:e})=>A.a.createElement(P.DndProvider,{backend:N},A.a.createElement("div",{className:"js-react-root",onClick:e=>{e.isDefaultPrevented()||B(e)}},e))},"./app/scripts/views/internal/smart-links-bridge.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"SmartLinksBridge",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/src/components/SmartMedia/index.ts");const o=({url:e,analyticsContext:t})=>a.a.createElement(r.a,{url:e,plainLink:()=>a.a.createElement("a",{href:e},e),analyticsContext:t})},"./app/scripts/views/internal/warn-if-file-too-large.js":function(e,t,n){const i=n("./app/scripts/views/lib/alerts.js"),a=n("./app/scripts/db/auth.js"),r=n("./node_modules/underscore/underscore.js"),o=function(e){const t=a.me().hasPremiumFeature("largeAttachments"),n=e.getOrganization(),r=(null==n?void 0:n.hasPremiumFeature("largeAttachments"))||!1,o=t||r?"file size exceeds 250mb":"file size exceeds 10mb";return i.show(o,"error","upload",5e3)};e.exports=function(e,t){r.isArray(t)||(t=[t]);const n=e.getOrganization();for(const i of Array.from(t))if(!a.me().canUploadAttachment(i,n))return o(e),!0;return!1}},"./app/scripts/views/label/card-label-select-view.js":function(e,t,n){const i=n("./app/scripts/views/label/labels-view.js"),a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/views/internal/view.js");class o extends r{static initClass(){this.prototype.viewTitleKey="labels"}el(){return this.labelsView=this.subview(i,this.model,{board:this.model.getBoard(),selectLabel:this.toggleLabel.bind(this),renderOn:[{source:this.model.labelList,events:"add remove reset change"},{source:this.model,events:"change:labels, change:idLabels"}],popOverMethod:"pushView",searchInit:this.options.searchInit}),this.labelsView.render().el}toggleLabel(e,t){this.model.toggleLabel(this.modelCache.get("Label",e)),this.options.hideOnSelect&&a.popView()}}o.initClass(),e.exports=o},"./app/scripts/views/label/label-create-view.js":function(e,t,n){const i=n("./app/scripts/models/label.js"),a=n("./app/scripts/views/label/label-edit-component.js"),r=n("./app/scripts/views/label/label-limits-error-view.js"),o=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/views/internal/view.js"),{Analytics:l}=n("./packages/atlassian-analytics/index.ts");class c extends s{static initClass(){this.prototype.viewTitleKey="create label"}el(){if(this.options.board.isOverLimit("labels","perBoard"))return(new r).render().el;let{color:e}=this.options,{name:t}=this.options;return Array.from(i.colors).includes(t)&&(e=t,t=""),new a({model:{name:t},submitTextKey:"create",color:e,onSubmit:(e,t)=>{if(!this.options.board.isOverLimit("labels","perBoard")){if("function"==typeof this.options.onSubmit){const n=l.startTask({taskName:"create-label",source:"labelCreateScreen"}),i=e=>{l.taskAborted({taskName:"create-label",source:"labelCreateScreen",traceId:n,error:e})},a=e=>{throw l.taskFailed({taskName:"create-label",source:"labelCreateScreen",traceId:n,error:e})},r=()=>{l.sendTrackEvent({action:"created",actionSubject:"label",source:"labelCreateScreen",containers:{board:{id:this.options.board.id}},attributes:{taskId:n}}),l.taskSucceeded({taskName:"create-label",source:"labelCreateScreen",traceId:n})};this.options.onSubmit(e,t,n,a,i,r)}return o.popView()}o.pushView(new r)}}).render().el}}c.initClass(),e.exports=c},"./app/scripts/views/label/label-edit-component.js":function(e,t,n){const i=n("./app/scripts/models/label.js"),a=n("./app/scripts/lib/util/index.js"),r=n("./app/scripts/views/internal/view.js"),o=n("./node_modules/underscore/underscore.js"),s=n("./app/scripts/views/internal/templates.js"),l=n("./app/scripts/lib/localize.js");class c extends r{static initClass(){this.prototype.tagName="form",this.prototype.className="edit-label",this.prototype.events={"click .js-palette-color":"pickColor","click .js-submit":"submit",submit:"submit"}}initialize({accessoryView:e,color:t,onSubmit:n,submitTextKey:i}){return this.accessoryView=e,this.color=t,this.onSubmit=n,this.submitTextKey=i,super.initialize(...arguments)}renderOnce(){let e;const t=(()=>{const t=[];for(e of Array.from(i.colors))t.push({color:e,selected:e===this.color});return t})(),a={label:{name:this.model.name},colors:t};return a.submitText=l(this.submitTextKey),a.noColor=null===this.color,this.$el.html(s.fill(n("./app/scripts/views/templates/label_edit_component.js"),a)),null!=this.accessoryView&&this.$(".js-accessory-view-holder").append(this.accessoryView.render().el),this}pickColor(e){a.stop(e),this.$(".js-palette-select").hide();const t=this.$(e.target).closest(".js-palette-color");return this.color=t.attr("data-color"),t.find(".js-palette-select").show()}submit(e){a.stop(e);const t=this.$(".js-label-name").val().trim();return o.isEmpty(t)&&o.isEmpty(this.color)?void 0:this.onSubmit(t,o.isEmpty(this.color)?null:this.color)}}c.initClass(),e.exports=c},"./app/scripts/views/label/label-edit-view.js":function(e,t,n){let i;const a=n("./app/scripts/views/lib/confirm.js"),r=n("./app/scripts/views/label/label-edit-component.js"),o=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./app/scripts/lib/localize.js"),{Analytics:d,tracingCallback:u}=n("./packages/atlassian-analytics/index.ts"),{featureFlagClient:p}=n("./packages/feature-flag-client/index.ts");e.exports=i=function(){let e=void 0;return i=class extends l{static initClass(){e=class extends l{static initClass(){this.prototype.tagName="input",this.prototype.className="nch-button nch-button--danger",this.prototype.events={click(e){return s.stop(e),this.options.onClick()}}}attributes(){return{type:"submit",value:c("delete")}}},e.initClass(),this.prototype.viewTitleKey="change label"}initialize(){return this.sendGASEvent=p.get("dataeng.gasv3-event-tracking",!1)}el(){return new r({model:this.model.toJSON(),submitTextKey:"save",onSubmit:(e,t)=>{const n=d.startTask({taskName:"edit-label",source:"labelEditScreen"});return this.model.update({color:t,name:e,traceId:n},u({taskName:"edit-label",source:"labelEditScreen",traceId:n},(e=>{e||d.sendTrackEvent({action:"updated",actionSubject:"label",source:"labelEditScreen",containers:{board:{id:this.model.getBoard().id}},attributes:{taskId:n}})}))),"function"==typeof this.options.onSubmit&&this.options.onSubmit(),o.popView()},color:this.model.get("color"),accessoryView:new e({onClick:this.confirmDeleteLabel.bind(this)})}).render().el}confirmDeleteLabel(){return a.pushView("delete label",{model:this.model,confirmBtnClass:"nch-button nch-button--danger",popOnClick:!0,popDepth:2,fxConfirm:e=>{const t=d.startTask({taskName:"delete-label",source:"labelEditScreen"});return this.model.destroyWithTracing({traceId:t},u({taskName:"delete-label",source:"labelEditScreen",traceId:t})),"function"==typeof this.options.onSubmit&&this.options.onSubmit(),d.sendTrackEvent({action:"deleted",actionSubject:"label",source:"labelEditScreen",containers:{board:{id:this.model.getBoard().id}},attributes:{taskId:t}})}})}},i.initClass(),i}()},"./app/scripts/views/label/label-key-helper.js":function(e,t,n){const{Key:i}=n("./packages/keybindings/index.ts"),a=n("./app/scripts/models/label.js"),r=n("./node_modules/underscore/underscore.js");e.exports=function(){class e{static initClass(){this.keyboardIndex=[r.last(a.colors)].concat(r.initial(a.colors))}static keyNumberForColor(e){const t=this.keyboardIndex.indexOf(e);return t>=0?"".concat(t):null}static colorForKey(e){const t=e-i.Zero;return this.keyboardIndex[t]}static setLabelFromKey(e,t,n){const i=this.colorForKey(e),a=t.getBoard().labelsForColors()[i];1===(null!=a?a.length:void 0)?t.toggleLabelColor(i):"function"==typeof n&&n(i)}}return e.initClass(),e}()},"./app/scripts/views/label/label-limits-error-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/templates.js"),a=n("./app/scripts/views/internal/view.js");class r extends a{static initClass(){this.prototype.tagName="span",this.prototype.className="error"}renderOnce(){return this.$el.html(i.fill(n("./app/scripts/views/templates/label_limit_exceeded.js")))}}r.initClass(),e.exports=r},"./app/scripts/views/label/labels-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{ActionHistory:a}=n("./packages/action-history/index.ts"),r=n("./app/scripts/db/auth.js"),o=n("./app/scripts/models/card.js"),{getKey:s,Key:l}=n("./packages/keybindings/index.ts"),c=n("./app/scripts/models/label.js"),d=n("./app/scripts/views/label/label-create-view.js"),u=n("./app/scripts/views/label/label-edit-view.js"),p=n("./app/scripts/views/label/label-key-helper.js"),m=n("./app/scripts/views/lib/pop-over.js"),h=n("./app/scripts/lib/util/index.js"),g=n("./app/scripts/views/internal/view.js"),b=n("./node_modules/underscore/underscore.js"),f=n("./app/scripts/views/internal/templates.js"),v=n("./app/scripts/lib/localize.js"),{Analytics:k}=n("./packages/atlassian-analytics/index.ts");let y=void 0;class C extends g{static initClass(){y=12,this.prototype.labelsToShow=y,this.prototype.events={"click .js-select-label":"clickLabel","click .js-toggle-color-blind-mode":"toggleColorBlindMode","click .js-edit-label":"clickEditLabel","click .js-add-label":"clickAddLabel","click .js-show-more":"showMore","input .js-label-search":"renderLabels","keyup .js-label-search":"keyUp","mouseover .card-label":"hoverLabel"}}initialize({selectLabel:e,board:t,modelCache:n,renderOn:i,popOverMethod:a,searchInit:o,onEditSubmit:s}){this.selectLabel=e,this.board=t,this.modelCache=n,this.renderOn=i,this.popOverMethod=a,this.searchInit=o,this.onEditSubmit=s,this.makeDebouncedMethods("render","renderLabels"),this.listenTo(r.me(),{"change:prefs":this.renderDebounced}),this.listenTo(this.board.labelList,{"add remove reset change":this.renderLabelsDebounced});for(const e of Array.from(null!=this.renderOn?this.renderOn:[]))this.listenTo(e.source,e.events,this.renderLabelsDebounced);return this._keepVisible={},super.initialize(...arguments)}render(){const e=this.board.labelColors(),t={editable:this.board.editable()},i={colors:e,isColorBlindEnabled:r.isLoggedIn()&&r.me().get("prefs").colorBlind,searchInit:null!=this.searchInit?this.searchInit:""};return this.searchInit=null,this.$el.html(f.fill(n("./app/scripts/views/templates/popover_change_labels.js"),i,t)),this.renderLabels()}renderLabels(){const e=this._filteredLabels(),t=b.map(e,(e=>this.model.dataForLabel(e))),i=e=>e.isActive||this._keepVisible[e.id],a=(()=>{if(t.length>this.labelsToShow){const e=t.filter(i);let n=this.labelsToShow-e.length;return b.chain(t).filter((e=>i(e)||n-- >0)).first(this.labelsToShow).value()}return t})();this.$(".js-show-more").toggleClass("hide",a.length===t.length);const r={labels:a},s={editable:this.board.editable()};this.$(".js-labels-list").empty().append(f.fill(n("./app/scripts/views/templates/select_labels.js"),r,s));const l=this._searchVal(),c=b.isEmpty(l)||e.length>0?v("create new label.unnamed"):v("create new label.named",{name:l},{raw:!0});this.$(".js-add-label").text(c),!b.isEmpty(l)&&e.length>0&&this.selectFirstLabelInList();const d=!this._searchVal()&&this.model instanceof o&&a.length<t.length?this.getSuggestedLabels():[];return this.$(".js-suggestions").toggleClass("hide",0===d.length),this.$(".js-suggested-labels-list").empty().append(f.fill(n("./app/scripts/views/templates/select_labels.js"),{labels:d},s)),this}getSuggestedLabels(){const e=a.get(),t=this.model.getBoard(),n=this.model.get("idList"),i=new Set;return e.filter((({action:e,context:t})=>"add-label"===e.type&&t.idList===n)).filter((function({action:e}){return!i.has(e.idLabel)&&(i.add(e.idLabel),!0)})).filter((({action:e})=>this.model.isValidSuggestion(e))).map((({action:e})=>{const n=t.labelList.get(e.idLabel);return this.model.dataForLabel(n)})).slice(0,5)}highlightElement(e){return h.selectMenuItem(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",e)}getHighlightedElement(){return this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label.selected").first()}selectFirstLabelInList(e){this.highlightElement(this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label").first())}toggleColorBlindMode(e){const t=r.me();t.toggleColorBlindMode(),k.sendTrackEvent({action:"toggled",actionSubject:"colorBlindFriendlyMode",source:"cardLabelsScreen",containers:{card:{id:this.model.id}},attributes:{value:t.get("prefs").colorBlind}})}clickEditLabel(e){h.stop(e);const t=i(e.target).closest(".js-edit-label").attr("data-idLabel");return this.editLabel(t)}selectLabelViaElem(e){const t=e.attr("data-idLabel"),n=e.closest(".js-suggestions").length>0;return this._keepVisible[t]=!0,this.selectLabel(t,n)}clickLabel(e){h.stop(e);const t=i(e.target).closest(".js-select-label");return this.selectLabelViaElem(t)}findElementForLabel(e){return this.$(".js-edit-label").filter(((t,n)=>i(n).attr("data-idLabel")===e))}editLabel(e){const t=this.findElementForLabel(e),n=this.modelCache.get("Label",e);return m[this.popOverMethod]({elem:t,view:u,options:{model:n,board:this.board,modelCache:this.modelCache,onSubmit:this.onEditSubmit}})}clickAddLabel(e){h.stop(e);const t=this._searchVal();m[this.popOverMethod]({elem:this.$(".js-add-label"),view:d,options:{board:this.board,name:t,color:this._nextColor(),onSubmit:(e,t,n,i,a,r)=>(this.model.createLabel(e,t,n,i,a,r),this.clearSearch())}})}showMore(){return this.labelsToShow+=y,this.renderLabels()}hoverLabel(e){this.highlightElement(i(e.target).closest(".card-label"))}keyUp(e){const t=s(e);if([l.ArrowUp,l.ArrowDown].includes(t))return h.stop(e),void h.navMenuList(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",t);if(t!==l.Enter)return;if(!(this._filteredLabels().length>0))return this.clickAddLabel();{const e=this.getHighlightedElement();if(e.length>0&&(this.selectLabelViaElem(e),this.clearSearch()),this.sendGASEevent)return k.sendTrackEvent({action:"added",actionSubject:"label",source:"cardLabelFilter",containers:{card:{id:this.model.id}}})}}clearSearch(){return this.$(".js-label-search").val(""),this.renderLabels()}_nextColor(){let e;const t=b.chain(this.board.getLabels()).map((e=>e.get("color"))).uniq().value();return null!=(e=b.difference(c.colors,t)[0])?e:""}_searchVal(){const e=this.$(".js-label-search").val();return e?e.trim():""}_filteredLabels(){const e=this._searchVal().toLowerCase(),t=b.chain(this.board.getLabels()).filter((t=>!!b.isEmpty(e)||(t.has("name")&&t.get("name").toLowerCase().indexOf(e)>-1||t.has("color")&&0===t.get("color").toLowerCase().indexOf(e)))).value(),n=this.board.getLabels().filter((n=>n.has("color")&&n.get("color")===p.keyboardIndex[parseInt(e,10)]&&0===t.filter((e=>0===c.compare(n,e))).length));return t.concat(n)}}C.initClass(),e.exports=C},"./app/scripts/views/lib/confirm.js":function(e,t,n){const i=n("./app/scripts/views/lib/pop-over.js"),a=n("./app/scripts/lib/util/index.js"),r=n("./app/scripts/views/internal/view.js"),o=n("./node_modules/underscore/underscore.js"),s=n("./app/scripts/views/internal/templates.js"),l=n("./app/scripts/lib/localize.js");let c=void 0,d=void 0;class u extends r{static initClass(){c=function(e,t){const n=o.clone(e);for(const e of Object.keys(t||{})){const i=t[e];e in n||(n[e]=i())}return n},d=function(e,t){const n=c(t,{title:()=>l(["confirm",e,"title"],t.templateData),html:()=>l(["confirm",e,"text"],t.templateData),confirmText:()=>l(["confirm",e,"confirm"],t.templateData)});return"fxCancel"in n&&!("cancelText"in n)&&(n.cancelText=l(["confirm",e,"cancel"],t.templateData)),n},this.prototype._events={"click .js-confirm":"confirm","click .js-cancel":"cancel"}}constructor({model:e,text:t,html:i,elem:a,top:r,confirmText:s,confirmBtnClass:l,confirmBtnTestId:c,cancelText:d,title:u,template:p,templateData:m,data:h,fxConfirm:g,fxCancel:b,popOnClick:f,popDepth:v,maxWidth:k}){super(...arguments),this.model=e,this.elem=a,this.top=r,this.title=u,this.template=p,this.templateData=m,this.popOnClick=f,this.popDepth=v,null==this.template&&(this.template=n("./app/scripts/views/templates/confirm.js")),null==c&&(c=""),this.confirm=this._handleClick(g),this.cancel=b?this._handleClick(b):function(){},this.data=o.extend({text:t,html:i,confirmText:s,confirmBtnClass:l,confirmBtnTestId:c,cancelText:d},null!=h?h:{}),null==this.templateData&&(this.templateData={}),this.maxWidth=k,this.delegateEvents(this._events)}static toggle(e,t){return t=1===arguments.length?e:d(e,t),i.toggle({elem:t.elem,top:t.top,alignRight:t.alignRight,view:this,options:t})}static pushView(e,t){return t=1===arguments.length?e:d(e,t),i.pushView({view:this,options:t})}getViewTitle(){return this.title}render(){return this.$el.html(s.fill(this.template,this.data,{},{member:s.member})),setTimeout((e=>(this.$el.find(".js-confirm").focus(),0))),this}_handleClick(e){return t=>(a.stop(t),this.popOnClick?i.popView(this.popDepth):i.hide(),"function"==typeof e&&e(t),this.remove(),!1)}}u.initClass(),e.exports=u},"./app/scripts/views/lib/drag-sort.js":function(e,t,n){let i;const a=n("./packages/jquery/index.js"),r=n("./packages/browser/index.ts"),o=n("./app/scripts/controller/index.js"),s=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/views/lib/post-render.js"),c=n("./app/scripts/view-models/sidebar-state.js"),d=n("./app/scripts/lib/util/index.js"),u=n("./node_modules/underscore/underscore.js"),{Analytics:p}=n("./packages/atlassian-analytics/index.ts"),m=({x:e},{left:t,right:n})=>t<=e&&e<n,h=({top:e,left:t,bottom:n,right:i},a,r)=>({top:e+r,bottom:n-r,left:t+a,right:i-a}),g=e=>({x:e.pageX,y:e.pageY}),b=(...e)=>function(){for(const t of Array.from(e))null!=t&&t.apply(this,arguments)},f=(e,t)=>b(t,e);class v{static initClass(){this.prototype.hasMousedLeft=!1,this.prototype.hasMousedRight=!1,this.prototype.stopped=!1,this.prototype.aborted=!1}constructor({scrollBoard:e,scrollLists:t,scrollCard:n,commitEvent:i,cancelMethod:a}){this.scrollBoard=e,this.scrollLists=t,this.scrollCard=n,this.commitEvent=i,this.cancelMethod=a,this._queue=[]}start(e,t){this.$helper=t.helper,this.$target=a(e.target),this.initialMousePosition=g(e),this.lockModelCache(),c.hideSidebar(),this.startTrackingMouse(),this.hidePopoversForSomeReason(),this.boardElement=a("#board")[0],this.boardCanvasElement=a(".board-canvas")[0],this.windowOverlayElement=a(".window-overlay")[0],this.cachedHoveredList=this.getHoveredListForPoint(this.initialMousePosition),(this.scrollLists||this.scrollBoard||this.scrollCard)&&this.startAutoscrolling(),i.sorting=!0,this.onStop((()=>u.defer((()=>i.sorting=!1))))}lockModelCache(){const e=o.getCurrentModelCache();if(null==e)throw new Error("Attempt to use DragInfo on a page with no modelCache!");const t=e.lock("DragSort.startSort");return this.onStop((()=>e.unlock(t)))}hidePopoversForSomeReason(){0===this.$target.closest(".pop-over").length&&s.hide()}startAutoscrolling(){const e=Math.floor(1e3/60),t=setInterval(this.autoscroll.bind(this),e);return this.onStop((()=>clearInterval(t)))}getHoveredListForPoint(e){for(const t of Array.from(a(".js-list")))if(m(e,t.getBoundingClientRect()))return a(t).find(".list-cards")[0];return null}startTrackingMouse(){const e=u.throttle((e=>{if(!this.stopped)return this.cachedHoveredList=this.getHoveredListForPoint(e)}),100);return a(document).on("mousemove.dragsort",(t=>{const n=g(t);n.x<this.initialMousePosition.x-20&&(this.hasMousedLeft=!0),n.x>this.initialMousePosition.x+20&&(this.hasMousedRight=!0),e(n)})),this.onStop((()=>a(document).off("mousemove.dragsort")))}onStop(e){return this._queue.push(e)}stop(e,t){this.stopped=!0;for(const e of Array.from(this._queue))e.call(this);delete this._queue,this.aborted||this.$target.trigger(this.commitEvent,t)}scrollDeltaForOverhang(e){return.1*e}autoscrollBoard(){const{left:e,right:t}=this.$helper[0].getBoundingClientRect(),n=h(this.boardCanvasElement.getBoundingClientRect(),100,0),i=n.left-e;i>0&&this.hasMousedLeft&&(this.boardElement.scrollLeft-=this.scrollDeltaForOverhang(i));const a=t-n.right;a>0&&this.hasMousedRight&&(this.boardElement.scrollLeft+=this.scrollDeltaForOverhang(a))}autoscrollLists(){const{top:e,bottom:t}=this.$helper[0].getBoundingClientRect(),n=h(this.cachedHoveredList.getBoundingClientRect(),0,50),i=n.top-e;i>0&&(this.cachedHoveredList.scrollTop-=this.scrollDeltaForOverhang(i));const a=t-n.bottom;a>0&&(this.cachedHoveredList.scrollTop+=this.scrollDeltaForOverhang(a))}autoscrollCard(){let{bottom:e}=this.$helper[0].getBoundingClientRect();const{top:t}=this.$helper[0].getBoundingClientRect();e-t>64&&(e=t+64);const n=h(this.windowOverlayElement.getBoundingClientRect(),0,100),i=n.top-t;i>0&&(this.windowOverlayElement.scrollTop-=this.scrollDeltaForOverhang(i));const a=e-n.bottom;a>0&&(this.windowOverlayElement.scrollTop+=this.scrollDeltaForOverhang(a))}autoscroll(){this.scrollBoard&&this.autoscrollBoard(),this.scrollLists&&null!=this.cachedHoveredList&&this.autoscrollLists(),this.scrollCard&&this.autoscrollCard()}abort(){let e;return this.aborted=!0,null!=(e=a.ui.ddmanager.current)&&(e.currentContainer=e),this.$target[this.cancelMethod]("cancel")}}v.initClass();let k=null;const y=function(e,t){return t=u.defaults({},t,{distance:7,scroll:!1}),e.scrollLists&&(t.custom={refreshContainers(){this.containers=(()=>{const e=[];for(const t of Array.from(this.containers))if(a.contains(document,t.element[0])){const n=t.element.closest(".js-list")[0].getBoundingClientRect();for(const e of["left","top","width","height"])t.containerCache[e]=n[e];e.push(t)}return e})()}}),t.start=f(t.start,(function(t,n){if(null!=k)throw new Error("Attempt to start a drag event while another is in progress!");k=new v(e),k.start(t,n)})),t.stop=f(t.stop,(function(e,t){d.stopPropagation(e),k.stop(e,t),k=null})),t},C=e=>({width:e.outerWidth(),height:e.outerHeight()}),j=function(e,t,n){if(r.isTouch())return;let i=null;const o=!("helper"in n)||"original"===n.helper;n.start=f(n.start,(function(e,a){o&&"appendTo"in n&&(a.helper.appendTo(n.appendTo),i.sortable("refreshPositions",!0));const{width:r,height:s}=(null!=t.calcSize?t.calcSize:C)(a.item);a.placeholder.width(r),a.placeholder.height(s)})),t=u.extend({commitEvent:"sortcommit",cancelMethod:"sortable"},t),n=y(t,n),l.enqueue((()=>{return t=()=>{i=a(e),i.sortable(n)},void(k?k.onStop(t):t());var t}))},w=function(e,t,n){r.isTouch()||(t=u.extend({commitEvent:"dragcommit",cancelMethod:"draggable"},t),n=y(t,n),l.enqueue((()=>a(e).draggable(n))))};e.exports=i={refreshListSortable:()=>j(".js-list-sortable",{scrollBoard:!0,scrollLists:!1,calcSize(e){const t=e.children(".list");return{width:t.outerWidth(),height:t.outerHeight()}}},{handle:".list-header",tolerance:"pointer",placeholder:"list-wrapper placeholder",items:".js-list",appendTo:"#trello-root"}),refreshCalendarCardSortable:()=>j(".js-calendar-sortable",{scrollBoard:!1,scrollLists:!1},{connectWith:".js-calendar-sortable",placeholder:"list-card placeholder-none",items:".list-card:not(.placeholder-none, .hide, .js-composer), .js-draggable-calendar-check-item",helper:"clone",appendTo:"#trello-root",over:(e,t)=>a(e.target).closest(".calendar-day").addClass("drop"),out:(e,t)=>a(e.target).closest(".calendar-day").removeClass("drop")}),refreshListCardSortable:()=>j(".js-sortable",{scrollBoard:!0,scrollLists:!0},{connectWith:".js-sortable:not(.card-limits-full)",placeholder:"list-card placeholder",items:".list-card:not(.placeholder, .hide, .js-composer)",appendTo:"#trello-root"}),refreshDraggableSidebarMembers:()=>w(".js-list-draggable-board-members .member:not(.js-member-deactivated)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start(e,t){p.sendUIEvent({action:"dragged",actionSubject:"member",source:"boardScreen",containers:{board:{id:o.getCurrentBoardView().model.id}}}),a(".list-card.active-card").removeClass("active-card")}}),refreshDraggableStickers:()=>w(".js-draggable-sticker:not(.disabled)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start(e,t){p.sendUIEvent({action:"dragged",actionSubject:"sticker",source:"boardScreen",containers:{board:{id:o.getCurrentBoardView().model.id}}});const n=20*Math.random()-10;t.helper.find(".sticker-select-fixed").css({transform:"rotate(".concat(n,"deg)"),"-webkit-transform":"rotate(".concat(n,"deg)")})}}),refreshCardSortable:(e,t)=>j(e,{scrollCard:!0},t),abort(){if(null==k)throw new Error("Abort called while not dragging!");return k.abort()},refreshIfInitialized(e){if(null!=e?e.hasClass("ui-sortable"):void 0)return e.sortable("refresh")}}},"./app/scripts/views/lib/limit-error-popover.js":function(e,t,n){const i=n("./app/scripts/views/lib/confirm.js"),a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/lib/localize.js"),{Analytics:o,getScreenFromUrl:s}=n("./packages/atlassian-analytics/index.ts");e.exports=function({trackingArea:e,elem:t,message:n,params:l}){const{boardId:c,orgId:d}=l;return o.sendTrackEvent({action:"exceeded",actionSubject:e,source:s(),attributes:{message:n},containers:{board:{id:c},organization:{id:d}}}),i.toggle(n,{elem:t,html:r("confirm.".concat(n,".text"),l),fxConfirm:()=>a.hide()})}},"./app/scripts/views/lib/markdown-transform.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"applyMarkdownShortcuts",(function(){return p}));var i=n("./packages/feature-flag-client/index.ts");const a=(e,t)=>{""===e?document.execCommand("delete",!1)||t.setRangeText(e):document.execCommand("insertText",!1,e)||t.setRangeText(e)},r=(e,t,n)=>Math.min(Math.max(e,t),n),o=(e,t,n,i)=>{var o,s;n||(n=t);const l=u(e);if(""===l.selection){const i=new RegExp("("+t.test.source+")$"),a=new RegExp("^("+n.test.source+")"),r=l.text.substring(0,l.selectionStart).match(i),o=l.text.substring(l.selectionEnd).match(a);if(!r&&o){const t=l.selectionEnd+o[0].length;return void e.setSelectionRange(t,t)}}const c=new RegExp("^("+t.test.source+")"),p=new RegExp("("+n.test.source+")$");d(e,l,i);const m=u(e),h=m.selection.match(c),g=m.selection.match(p),b=(null===(o=m.selection.match(c))||void 0===o?void 0:o[0].length)||0,f=(null===(s=m.selection.match(p))||void 0===s?void 0:s[0].length)||0;if(h&&g&&m.selectionEnd-f!==m.selectionStart&&m.selectionStart+b!==m.selectionEnd){e.setSelectionRange(m.selectionStart,m.selectionEnd),a(m.selection.substring(b,m.selection.length-f),e);const t=m.selection.length-f-b,n=m.selectionStart,i=m.selectionStart+t;""===l.selection?e.setSelectionRange(r(l.selectionStart-b,n,i),r(l.selectionEnd-b,n,i)):e.setSelectionRange(m.selectionStart,m.selectionEnd-b-f)}else e.setSelectionRange(m.selectionStart,m.selectionEnd),a("".concat(t.insert).concat(m.selection).concat(n.insert),e),""===m.selection?e.setSelectionRange(m.selectionStart+t.insert.length,m.selectionStart+t.insert.length):""===l.selection?e.setSelectionRange(l.selectionStart+t.insert.length,l.selectionStart+t.insert.length):e.setSelectionRange(m.selectionStart,m.selectionEnd+t.insert.length+n.insert.length)},s=(e,t)=>{const n=u(t);n.selection.endsWith("\n")&&t.setSelectionRange(n.selectionStart,n.selectionEnd-1);const{selection:i,selectionStart:r,selectionEnd:o,text:s}=u(t),l=t=>{var n;return null===(n=t.match(e.test))||void 0===n?void 0:n[0]},c=s.lastIndexOf("\n",r-1),d=s.indexOf("\n",o),p=-1!==c?c+1:0,m=-1!==d?d:s.length,h=s.substring(p,m),g=h.split("\n");if(""!==i||0!==r&&"\n"!==s.charAt(r-1))if(g.every((e=>""===e.trim()||void 0!==l(e)))){const e=g.map((e=>{const t=l(e);return t?e.substring(t.length):e})).join("\n"),n=e.length-h.length;t.setSelectionRange(p,m),a(e,t),t.setSelectionRange(p,m+n)}else{let n=0;const i=g.map((t=>{var i;if(""===t.trim())return t;const a=null===(i=t.match(e.test))||void 0===i?void 0:i[0];a&&(t=t.substring(a.length));const r=e.insert(n);return n++,"".concat(r).concat(t)})).join("\n"),r=i.length-h.length;t.setSelectionRange(p,m),a(i,t),t.setSelectionRange(p,m+r)}else{const n=e.insert(0);a(n,t),t.setSelectionRange(r+n.length,r+n.length)}},l=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,c={"ctrl KeyB":e=>{o(e,{test:/\*\*/,insert:"**"})},"ctrl KeyI":e=>{o(e,{test:/_/,insert:"_"})},"ctrl KeyK":e=>{let t=u(e);d(e,t,!0),t=u(e),l.test(t.selection)?o(e,{test:/\[\]\(/,insert:"[]("},{test:/\)/,insert:")"},!0):o(e,{test:/\[/,insert:"["},{test:/\]\(\S*\)/,insert:"]()"},!0)},"ctrl KeyL":e=>{let t=u(e);d(e,t,!0),t=u(e),l.test(t.selection)?o(e,{test:/!\[\]\(/,insert:"![]("},{test:/\)/,insert:")"},!0):o(e,{test:/!\[/,insert:"!["},{test:/\]\(\S*\)/,insert:"]()"},!0)},"ctrl shift KeyS":e=>{o(e,{test:/~~/,insert:"~~"})},"ctrl shift KeyM":(e,t=!1)=>{const n=u(e);!t&&n.selection.trim().includes("\n")&&(("`"!==n.selection.charAt(0)||n.selection.startsWith("```"))&&"`"!==n.selection.charAt(n.selection.length-1)||n.selection.endsWith("```")||"``"===n.selection)?o(e,{test:/```\n/,insert:"```\n"},{test:/\n```/,insert:"\n```"}):o(e,{test:/`/,insert:"`"})},"ctrl alt Digit1":(e,t=!1)=>{!t&&s({test:/^#/,insert:()=>"#"},e)},"ctrl alt Digit2":(e,t=!1)=>{!t&&s({test:/^##/,insert:()=>"##"},e)},"ctrl alt Digit3":(e,t=!1)=>{!t&&s({test:/^###/,insert:()=>"###"},e)},"ctrl shift Digit8":(e,t=!1)=>{!t&&s({test:/^[-*+] /,insert:()=>"- "},e)},"ctrl shift Digit7":(e,t=!1)=>{!t&&s({test:/^[0-9]+. /,insert:e=>"".concat(e+1,". ")},e)}},d=(e,t,n)=>{const i=n?/[^\s]+/:/[^\s\\/!?.,;|<>{}\-+=&'"]+/;if(i.test(t.selection))return;let a=t.selectionStart,r=t.selectionEnd;for(;a>0&&i.test(t.text.charAt(a-1));)a--;for(;r<t.text.length&&i.test(t.text.charAt(r));)r++;e.setSelectionRange(a,r)},u=e=>{const t=e.selectionStart||0,n=e.selectionEnd||0,i=e.value,a="string"==typeof i?i:"";return{text:a,selection:a.substring(t,n),selectionStart:t,selectionEnd:n}},p=(e,t=!1)=>{if(!i.featureFlagClient.get("remarkable.markdown-hotkeys",!1))return;const n=e.ctrlKey||e.metaKey?"ctrl ":"",a=e.shiftKey?"shift ":"",r=e.altKey?"alt ":"",o=e.originalEvent.code,s="".concat(n).concat(r).concat(a).concat(o),l=Object.entries(c).find((([e])=>e===s));if(l){const[,n]=l;if(e.preventDefault(),null===e.target)return;n(e.target,t)}}},"./app/scripts/views/lib/tooltip.js":function(e,t,n){let i;const a=n("./packages/jquery/index.js"),r=n("./app/scripts/views/internal/templates.js");e.exports=i=new(function(){const e=class{static initClass(){this.prototype.STYLE={DEFAULT:"default",MENU:"menu",BILLING:"billing"},this.prototype.TOOLTIP_CONTAINER="tooltip-container",this.prototype.DEFAULT_OPTIONS={addVerticalOffset:0}}constructor(){this.tooltip=null}show(e,t,i,o,s){if(null==i&&(i=!0),null==o&&(o=this.STYLE.DEFAULT),null==s&&(s=this.DEFAULT_OPTIONS),a(window).on("click",t[0],this.windowClick),clearTimeout(this.emptyTimer),"function"==typeof e.renderOnce&&(e=e.renderOnce().$el.html()),(null!=this.tooltip?this.tooltip.tooltipHtml:void 0)===e&&(null!=this.tooltip?this.tooltip.$anchor[0]:void 0)===t[0])return;const l=a(r.fill(n("./app/scripts/views/templates/tooltip_content.js"),{tooltipHtml:e,closeable:i,style:o})),c=a(".".concat(this.TOOLTIP_CONTAINER)).attr("class",this.TOOLTIP_CONTAINER);o!==this.STYLE.DEFAULT&&c.addClass("tooltip-".concat(o)),c.html(l),this.tooltip={tooltipHtml:e,$anchor:t,$elem:l};const{left:d,top:u}=t.offset(),p=t.outerHeight(),m=window.innerWidth-c.outerWidth();return c.css({left:Math.min(Math.max(d-5,5),m),top:Math.max(u+p+s.addVerticalOffset,5)}),l.addClass("active")}windowClick(e){const t=a(e.target);if(e.target!==e.data&&0===t.closest(".js-tooltip-content").length||0!==t.closest(".js-tooltip-close-button").length)return i.hide()}hide(){this.tooltip=null;const e=a(".".concat(this.TOOLTIP_CONTAINER));return e.find(".tooltip-content").removeClass("active"),this.emptyTimer=setTimeout((()=>e.empty()),300),a(window).off("click",this.windowClick)}};return e.initClass(),e}())},"./app/scripts/views/map/card-location-button-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./app/scripts/views/templates/card_detail_sidebar_button.js");class r extends i{static initClass(){this.prototype.tagName="span"}renderOnce(){return this.$el.html(a("js-edit-location","location","location",!1)),this}}r.initClass(),e.exports=r},"./app/scripts/views/map/card-location-menu-popover-view.js":function(e,t,n){let i;const a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/views/map/set-card-location-popover-view.js"),o=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_location"),s=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),{Noun:c,Verb:d,trackUe:u}=n("./packages/analytics/index.ts"),{formatLatLng:p}=n("./app/common/lib/util/format-coordinates.ts"),{Analytics:m,tracingCallback:h}=n("./packages/atlassian-analytics/index.ts"),g=o.renderable((()=>o.ul(".pop-over-list",(function(){return o.li((()=>o.a(".js-change-location",{href:"#"},(()=>o.format("change-location"))))),o.li((()=>o.a(".js-delete-location",{href:"#"},(()=>o.format("remove")))))})))),b=o.renderable((()=>o.div((function(){return o.p((()=>o.format("removing-a-location-is-permanent-there-is-no-undo"))),o.div((()=>o.button(".nch-button.nch-button--danger.nch-button--fullwidth.js-delete-location",(()=>o.format("remove")))))}))));class f extends l{static initClass(){this.prototype.viewTitleKey="remove location",this.prototype.events={"click .js-delete-location":"deleteLocation"}}deleteLocation(e){s.stop(e),u(c.CARD_DETAILS,d.DELETES,"location coordinates","","","by clicking on the location overflow menu item",{idCard:this.model.id,idList:this.model.getList().id,idBoard:this.model.getBoard().id});const t=m.startTask({taskName:"edit-card",subTask:"location",source:"cardDetailScreen"});return this.model.removeLocation(t,h({taskName:"edit-card",subTask:"location",traceId:t,source:"cardDetailScreen"},((e,n)=>{n&&m.sendUpdatedCardFieldEvent({field:"location",source:"cardDetailScreen",containers:{card:{id:n.id},board:{id:n.idBoard},list:{id:n.idList}},attributes:{taskId:t}})}))),a.hide()}render(){return this.$el.html(b()),this}}f.initClass(),e.exports=(i=class extends l{static initClass(){this.prototype.events={"click .js-change-location":"changeLocation","click .js-delete-location":"deleteLocation"}}getViewTitle(){let e=this.model.get("locationName")||this.model.get("address");if(!e){const{latitude:t,longitude:n}=this.model.get("coordinates");e=p(t,n)}return e}changeLocation(e){return s.stop(e),u(c.CARD_DETAILS,d.OPENS,"location menu","","","by clicking the location overflow menu item",{idCard:this.model.id,idList:this.model.getList().id,idBoard:this.model.getBoard().id}),m.sendClickedButtonEvent({buttonName:"cardMapEditLocationButton",source:"cardDetailScreen",containers:{card:{id:this.model.id},list:{id:this.model.getList().id},board:{id:this.model.getBoard().id}}}),a.pushView({view:r,options:{model:this.model,modelCache:this.modelCache,trackingMethod:"by clicking on the location overflow menu item"}})}deleteLocation(e){return s.stop(e),a.pushView({view:f,options:{model:this.model,modelCache:this.modelCache}})}render(){return this.$el.html(g()),this}},i.initClass(),i=i)},"./app/scripts/views/map/card-location-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/map/card-location-menu-popover-view.js"),r=n("./app/scripts/controller/index.js"),o=n("./app/scripts/views/lib/dialog.js"),s=n("./app/scripts/lib/google-maps-api.js"),{getKey:l,Key:c}=n("./packages/keybindings/index.ts"),d=n("./app/scripts/views/lib/pop-over.js"),u=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_location"),p=n("./app/scripts/lib/util/removeAllRanges.js"),m=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/view.js"),{Noun:g,Verb:b,trackUe:f}=n("./packages/analytics/index.ts"),{sendPluginScreenEvent:v}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{formatLatLng:k}=n("./app/common/lib/util/format-coordinates.ts"),{Analytics:y,tracingCallback:C}=n("./packages/atlassian-analytics/index.ts"),j=n("./packages/config/index.ts").mapPowerUpId,w=u.renderable((({staticMapImage:e,address:t,externalUrl:n,editable:i})=>u.div(".card-back-location.js-open-in-map",(function(){return u.img(".card-back-static-map",{src:e}),u.div(".card-back-location-footer",(function(){return u.div(".card-back-location-details",(function(){if(u.textarea({class:u.classify({"mod-card-back-location-name":!0,"js-card-location-name-input":!0}),disabled:!i,dir:"auto"}),t)return u.div(".quiet",(()=>u.text(t)))})),u.div(".card-back-location-controls",(function(){if(u.a(".card-back-location-controls-option.js-track-external-link",{href:n,target:"_blank",rel:"noopener noreferrer"},(()=>u.icon("external-link",{class:"icon-sm"}))),i)return u.a(".card-back-location-controls-option.js-open-menu",(()=>u.icon("overflow-menu-horizontal",{class:"icon-sm"})))}))}))}))));class x extends h{static initClass(){this.prototype.events={"click .js-open-in-map":"openInMap","click .js-open-menu":"openMenu","click .js-track-external-link":"trackExternalLinkClick","click .js-card-location-name-input":"locationNameClick","keydown .js-card-location-name-input":"locationNameKeyDownEvent","focus .js-card-location-name-input"(e){return this.startLocationNameEditing({focus:!1})},"blur .js-card-location-name-input":"saveLocationNameEditing"}}initialize(){return this.makeDebouncedMethods("render","renderLocationName"),this.listenTo(this.model,{"change:coordinates":this.renderDebounced,"change:locationName":this.renderLocationNameDebounced}),v({idPlugin:j,idBoard:this.model.getBoard().id,idCard:this.model.id,screenName:"pupCardBackSectionInlineDialog"})}locationNameKeyDownEvent(e){l(e)===c.Enter&&(m.stop(e),this.saveLocationNameEditing()),l(e)===c.Escape&&(m.stop(e),this.cancelLocationNameEditing())}startLocationNameEditing(e){null==e&&(e={});const t=this.$(".js-card-location-name-input");t.hasClass("is-editing")||(t.addClass("is-editing"),e.focus&&t.focus().select())}saveLocationNameEditing(){if(this.$(".js-card-location-name-input").hasClass("is-editing"))return this.stopLocationNameEditing(),this.saveLocationName()}cancelLocationNameEditing(){return this.stopLocationNameEditing(),this.renderLocationName()}stopLocationNameEditing(){const e=this.$(".js-card-location-name-input");e.hasClass("is-editing")&&(e.removeClass("is-editing"),e.blur(),p())}renderLocationName(){const e=this.$(".js-card-location-name-input");if(!e.hasClass("is-editing")){let t=this.model.get("locationName");if(null==t||!t.length){const{latitude:e,longitude:n}=this.model.get("coordinates");t=k(e,n)}return e.val(t).trigger("autosize.resize",!1)}}locationNameClick(e){return m.stopPropagation(e)}saveLocationName(){let e=this.$(".js-card-location-name-input").val();const t=this.model.get("locationName");if(e=e.replace(/\s+/g," ").trim(),e===t)return;if(e.length>16384)return;const n=y.startTask({taskName:"edit-card",subTask:"locationName",source:"cardDetailScreen"});0===e.length&&(e=null),this.model.update({traceId:n,locationName:e},C({taskName:"edit-card",subTask:"locationName",traceId:n,source:"cardDetailScreen"},((e,t)=>{t&&y.sendUpdatedCardFieldEvent({field:"locationName",source:"cardDetailScreen",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:n}})}))),f(g.CARD_DETAILS,b.EDITS,"location name","","","by clicking the location name",{idCard:this.model.id,idList:this.model.getList().id,idBoard:this.model.getBoard().id})}openMenu(e){return m.stopPropagation(e),d.toggle({elem:this.$(".js-open-menu"),view:a,options:{model:this.model,modelCache:this.modelCache}})}trackExternalLinkClick(e){return m.stopPropagation(e),f(g.CARD_DETAILS,b.OPENS,g.EXTERNAL_MAP,"","","by clicking the external link button",{idCard:this.model.id,idList:this.model.getList().id,idBoard:this.model.getBoard().id}),y.sendClickedLinkEvent({linkName:"cardMapExternalLink",source:"cardDetailScreen",containers:{card:{id:this.model.id},list:{id:this.model.getList().id},board:{id:this.model.getBoard().id}}})}openInMap(e){m.stop(e),f(g.CARD_DETAILS,b.OPENS,g.BOARD_MAP,"","","by clicking the map on the card details",{idCard:this.model.id,idList:this.model.getList().id,idBoard:this.model.getBoard().id}),y.sendClickedLinkEvent({linkName:"mapLocationPowerUpLink",source:"cardDetailScreen",containers:{card:{id:this.model.id},list:{id:this.model.getList().id},board:{id:this.model.getBoard().id}}});const{latitude:t,longitude:n}=this.model.get("coordinates"),i={lat:t,lng:n},a=r.getCurrentBoardView();return null!=a.mapView?(o.hide(),void a.mapView.centerTo(i,17)):a.navigateToMap(i,this.model)}render(){const e=this.model.get("coordinates"),t={staticMapImage:s.getStaticMap({zoom:14,width:676,height:200,scale:2,markers:[e]}),address:this.model.get("address"),locationName:this.model.get("locationName"),externalUrl:s.getUrl(e.latitude,e.longitude),editable:this.model.editable()};return this.$el.html(w(t)),this.renderLocationName(),i.defer((()=>this.$(".js-card-location-name-input").autosize({append:!1}))),this}}x.initClass(),e.exports=x},"./app/scripts/views/map/set-card-location-popover-view.js":function(e,t,n){const i=n("./app/scripts/lib/google-maps-api.js"),{Key:a,getKey:r}=n("./packages/keybindings/index.ts"),o=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_location"),{Noun:l,Verb:c,trackUe:d}=n("./packages/analytics/index.ts"),u=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/views/internal/view.js"),{Analytics:m,tracingCallback:h}=n("./packages/atlassian-analytics/index.ts"),g=s.renderable((()=>s.div((function(){return s.input(".js-autofocus.js-location-search",{type:"text",placeholder:s.l("search-placeholder"),autocomplete:"off"}),s.div(".js-results")})))),b=s.renderable((function({noSearchResults:e,items:t,selectedIndex:n}){return e&&s.p(".empty.plugin-pop-over-search-empty",(function(){s.format("no-results")})),s.ul(".pop-over-list.js-list.navigable",(()=>(()=>{const e=[];for(const{text:i,index:a,placeId:r}of Array.from(t)){const t=a===n;e.push(s.li({class:s.classify({selected:t})},(()=>s.a(".js-location-item",{"data-place-id":r},(()=>s.text(i))))))}return e})()))}));class f extends p{static initClass(){this.prototype.events={"keyup .js-location-search":"keyUp","click .js-location-item":"setLocation"}}viewTitleKey(){return this.model.get("coordinates")?"change location":"add location"}initialize(){return i.load().then((()=>this.render()))}getSessionToken(){return null!=this.sessionToken?this.sessionToken:this.sessionToken=i.createPlacesSessionToken()}setLocation(e){const t=this.$(e.currentTarget).attr("data-place-id"),n=m.startTask({taskName:"edit-card",subTask:"location",source:"cardDetailScreen"});return i.getPlaceDetails({placeId:t,sessionToken:this.getSessionToken(),fields:["name","geometry.location","formatted_address"]}).then((e=>(d(l.CARD_DETAILS,c.ADDS,l.LOCATION,"","",this.options.trackingMethod,{idCard:this.model.id,idList:this.model.getList().id,idBoard:this.model.getBoard().id}),this.model.update({traceId:n,coordinates:{latitude:e.geometry.location.lat(),longitude:e.geometry.location.lng()},locationName:e.name,address:e.formatted_address},h({taskName:"edit-card",subTask:"location",traceId:n,source:"cardDetailScreen"},((e,t)=>{t&&m.sendUpdatedCardFieldEvent({field:"location",source:"cardDetailScreen",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:n}})})))))),o.hide()}keyUp(e){const t=r(e),n=this.$(".js-list");if([a.ArrowLeft,a.ArrowRight].includes(t))return;if([a.ArrowUp,a.ArrowDown].includes(t))return u.stop(e),void u.navMenuList(n,"li",t);if([a.Enter,a.Tab].includes(t))return u.stop(e),void n.find("li.selected a").click();const o=this._searchVal();if(o.length)return i.autocomplete({input:o,sessionToken:this.getSessionToken()}).then((e=>this.renderResults(e))).catch((()=>this.renderResults([])));this.$el.find(".js-results").empty()}renderResults(e){const t=this.$el.find(".js-results"),n=e.map(((e,t)=>({index:t,text:e.description,placeId:e.place_id}))),i=!n.length,a=null!=(null!=n[0]?n[0].index:void 0)?null!=n[0]?n[0].index:void 0:-1;return t.html(b({noSearchResults:i,items:n,selectedIndex:a}))}_searchVal(){let e;return null!=(e=this.$(".js-location-search").val().trim())?e:""}render(){return this.$el.html(g()),this}}f.initClass(),e.exports=f},"./app/scripts/views/member-menu-profile/activity-member-menu-view.js":function(e,t,n){const i=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.js");e.exports=class extends i{renderMenu(){}}},"./app/scripts/views/member-menu-profile/card-member-menu-view.js":function(e,t,n){const{Analytics:i,tracingCallback:a}=n("./packages/atlassian-analytics/index.ts");let r;const o=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),s=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/views/internal/templates.js");e.exports=(r=class extends o{static initClass(){this.prototype.events={"click .js-remove-member":"removeMember"}}initialize(){super.initialize(...arguments),this.card=this.options.card}renderMenu(){return this.$el.append(l.fillMenu(n("./app/scripts/views/templates/member_on_card_menu.js"),this.model.toJSON(),{editable:this.card.editable()})),this}removeMember(e){s.hide();const t=this.model.id,n="cardMemberMenuInlineDialog",r=i.startTask({taskName:"edit-card",subTask:"idMembers",source:n});this.card.removeMemberWithTracing(t,r,a({taskName:"edit-card",subTask:"idMembers",traceId:r,source:n},((e,t)=>{t&&i.sendUpdatedCardFieldEvent({field:"idMembers",source:n,containers:{card:{id:this.card.id},board:{id:this.card.get("idBoard")},list:{id:this.card.get("idList")}},attributes:{taskId:r}})})))}},r.initClass(),r=r)},"./app/scripts/views/member-menu-profile/large-avatar-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./app/scripts/views/templates/member_large_avatar.js");class r extends i{static initClass(){this.prototype.displayType="mod-avdetail"}getViewTitle(){return this.model.get("fullName")}render(){const e=this.model.toJSON();return this.$el.html(a(e)),this}}r.initClass(),e.exports=r},"./app/scripts/views/member-menu-profile/member-mini-profile-view.js":function(e,t,n){const i=n("./app/scripts/db/auth.js"),a=n("./app/scripts/views/member-menu-profile/large-avatar-view.js"),r=n("./app/scripts/db/model-loader.js"),o=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./node_modules/underscore/underscore.js"),d=n("./app/scripts/views/templates/mini_profile.js"),{track:u}=n("./packages/analytics/index.ts"),{Analytics:p}=n("./packages/atlassian-analytics/index.ts"),{featureFlagClient:m}=n("./packages/feature-flag-client/index.ts");class h extends l{static initClass(){this.prototype.viewTitleKey="member",this.prototype.displayType="mod-mini-profile"}initialize(){return super.initialize(...arguments),this.listenTo(this.model,"change change:avatarUrl change:avatarSource",this.frameDebounce(this.render)),this.sendGASEvent=m.get("dataeng.gasv3-event-tracking",!1)}delegateEvents(e){return super.delegateEvents(c.extend({"click .js-profile":"showProfile","click .js-view-large":"viewLarge"},e||this.events))}render(){const e=this.model.toJSON();var t,n;return e.isMe=i.isMe(this.model),e.showEmail=null!=e.email&&!e.isMe,e.isDeactivated=(t=null!=this.options?this.options.board:void 0,n=e=>e.isDeactivated(this.model),null!=t?n(t):void 0),null!=e.email||"ghost"!==this.model.get("memberType")||this.loaded||this.loadEmail(),this.$el.html(d(e)),this.renderMenu(),this}renderMenu(){}loadEmail(){return r.loadMemberEmail(this.model.id).then((()=>this.loaded=!0)).done()}showProfile(){u("Mini Profile","Click Profile"),this.sendGASEvent&&p.sendClickedLinkEvent({linkName:"fullNameProfileLink",source:"miniProfileInlineDialog"})}viewLarge(e){s.stop(e),u("Mini Profile","View Large Avatar"),this.sendGASEvent&&p.sendUIEvent({action:"clicked",actionSubject:"avatar",actionSubjectId:"miniProfileAvatar",source:"miniProfileInlineDialog"}),o.pushView({elem:this.$(e.target),view:new a({model:this.model,modelCache:this.modelCache})})}}h.initClass(),e.exports=h},"./app/scripts/views/member/members-voted-view.js":function(e,t,n){const i=n("./app/scripts/db/auth.js"),a=n("./app/scripts/db/model-loader.js"),r=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/internal/view.js"),l=n("./node_modules/underscore/underscore.js"),c=n("./app/scripts/views/internal/templates.js");class d extends s{static initClass(){this.prototype.viewTitleKey="voters",this.prototype.events={"click .js-more-members-voted":"showAll","click .js-vote":"vote","click .js-unvote":"unvote"}}initialize(){return a.loadCardVoters(this.model.id).done(),this.listenTo(this.model.memberVotedList,"add remove reset",this.frameDebounce(this.render))}showAll(){return this.render(!0)}render(e){let t;const{memberVotedList:a}=this.model,r={members:(()=>{const e=[];for(t of Array.from(a.models))e.push(t.toJSON());return e})()};return!0!==e&&(r.members=r.members.slice(0,48),r.loading=0===a.length,r.fewMembers=a.length<14,r.moreMembers=a.length>48,r.lengthDiff=a.length-48,r.canVote=this.model.getBoard().canVote(i.me()),r.voted=l.include(this.model.get("idMembersVoted"),i.myId())),this.$el.html(c.fill(n("./app/scripts/views/templates/members_voted.js"),r,{},{member:c.member})),this}vote(e){return o.preventDefault(e),this.model.vote(!0),!1}unvote(e){return o.preventDefault(e),this.model.vote(!1),0===this.model.get("idMembersVoted").length&&r.hide(),!1}}d.initClass(),e.exports=d},"./app/scripts/views/member/select-filterable-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_member"),r=a.renderable((({text:e,extraText:t,mentionCount:n})=>a.li({class:"item js-member-item"},(()=>a.a({href:"#",class:"js-select-member ",title:e,autocompleteText:e},(()=>a.span(".text",{title:"card"},(()=>a.text("".concat(t," (").concat(n,")"))))))))));e.exports=class extends i{render(){return this.$el.html(r(this.options)),this}}},"./app/scripts/views/member/select-member-on-card-view.js":function(e,t,n){const i=n("./app/scripts/views/member/select-member-view.js");e.exports=class extends i{initialize(){return this.listenTo(this.options.card,"change:idMembers",this.renderActive)}renderActive(){let e;return this.$el.toggleClass("active",(e=this.model.id,Array.from(this.options.card.get("idMembers")).includes(e)))}render(){return super.render(...arguments),this.renderActive(),this}}},"./app/scripts/views/member/select-member-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_member"),r=n("./app/scripts/views/templates/member.js"),o=a.renderable((function(e){const{url:t,extraText:n,id:i,viewTitle:o,username:s,isVirtual:l,fullName:c,inactive:d,unconfirmed:u}=e;return a.a(".name.js-select-member",{href:t||"#",class:a.classify({"multi-line":n}),idMember:i,title:o,autocompleteText:s},(function(){if(a.span(".member.js-member",{class:a.classify({virtual:l})},(()=>r(e))),a.span(".full-name",{name:"".concat(c).concat(s?" (".concat(s):""),"aria-hidden":!0},(function(){if(a.text(c),a.text(" "),s)return a.span(".username",(()=>a.text("(".concat(s,")"))))})),n&&a.div(".extra-text.quiet",(()=>a.format("extratext",{extraText:n}))),a.icon("check",{class:"checked-icon","aria-label":a.l("added-to-card")}),a.icon("forward",{class:"light option js-open-option"}),d&&a.span(".quiet.sub-name",(()=>a.format("inactive-account"))),u)return a.span(".quiet.sub-name",(()=>a.format("unconfirmed-user")))}))}));class s extends i{static initClass(){this.prototype.tagName="li",this.prototype.className="item js-member-item"}initialize(){}render(){const e=this.model.toJSON();return"ghost"===this.model.get("memberType")&&(e.isVirtual=!0),e.unconfirmed=this.options.showUnconfirmed&&!e.isVirtual&&!e.confirmed,e.inactive=this.options.showInactive&&!e.active,e.isKnownMember=this.options.isKnownMember,e.extraText=this.options.extraText,e.disabled=this.options.disabled,this.options.linkName?e.url="/".concat(this.model.get("username")):delete e.url,this.el.innerHTML=o(e),this.$el.toggleClass("active",Boolean(e.isActive)).toggleClass("unconfirmed",Boolean(e.unconfirmed)).toggleClass("inactive",Boolean(e.inactive)).toggleClass("js-autoselect",Boolean(e.isKnownMember)).toggleClass("disabled",Boolean(e.disabled)),this.$(".js-member").data("id",this.model.id),this}}s.initClass(),e.exports=s},"./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js":function(e,t,n){const i=n("./app/scripts/lib/util/naive-should-component-update.js"),a=n("./node_modules/react/index.js"),r=n("./app/scripts/views/internal/recup-with-helpers.js")("select_member"),o=n("./app/scripts/lib/localize-count.js"),{trackUe:s}=n("./packages/analytics/index.ts");class l extends a.Component{static initClass(){this.prototype.displayName="AutoCompleteMultiBoardGuestAlert",this.prototype.shouldComponentUpdate=i,this.prototype.render=r.renderable((function(){const{displayOrg:e,isDesktop:t}=this.props,n=null!=e?e.owned():void 0,i=null!=e?e.get("url"):void 0;return r.div({onMouseDown:this.onMouseDown.bind(this)},(()=>{if(n&&e&&!t)e.getAvailableLicenseCount()>0?r.format("multi-board-guest-alert-as-admin"):r.format("multi-board-guest-alert-as-admin-no-seats");else if(t)r.format("multi-board-guest-alert-desktop");else if(null!=e){const t=e.adminList.map((e=>e.get("fullName")||e.get("username")));if(1===t.length)r.format("multi-board-guest-alert-as-member-with-1-admin",{admin1:t[0]});else if(2===t.length)r.format("multi-board-guest-alert-as-member-with-2-admins",{admin1:t[0],admin2:t[1]});else if(3===t.length)r.format("multi-board-guest-alert-as-member-with-3-admins",{admin1:t[0],admin2:t[1],admin3:t[2]});else{const e=o("others",t.length-3);r.format("multi-board-guest-alert-as-member-with-more-admins",{admin1:t[0],admin2:t[1],admin3:t[2],others:e,othersUrl:"".concat(i,"/members")})}}else r.format("multi-board-guest-alert-as-guest");if(!t){r.text(" ");const t="https://help.trello.com/article/1123-multi-board-guests";return r.a({href:t,target:"_blank",onMouseDown:n=>(window.open(t,"_blank"),s("invite to board","clicks","mbg learn more link","","","by clicking on learn more link",{organizationid:e.id}),n.preventDefault(),n.stopPropagation())},(()=>r.format("learn-more")))}}))}))}constructor(e){super(e)}onMouseDown(e){if(e.target.classList.contains("stop-propagation")&&(e.preventDefault(),e.target.href))return window.open(e.target.href,"_blank")}}l.initClass(),e.exports=l},"./app/scripts/views/plugin/PupUpgradePromptSection.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"PupUpgradePromptSection",(function(){return h}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/i18n/index.ts"),o=n("./app/src/components/UpgradePrompts/index.ts"),s=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx"),l=n("./packages/analytics/index.ts"),c=n("./packages/feature-flag-client/index.ts"),d=n("./app/src/components/FreeTrial/index.ts"),u=n("./packages/nachos/icons/business-class.tsx");const p=Object(r.forTemplate)("card_detail"),m=Object(r.forNamespace)("upgrade prompt"),h=({orgId:e})=>{const t=Object(c.useFeatureFlag)("btg.upgrade-prompt-audit",!1),[n,r]=Object(i.useState)(!1);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"card-back-pup-upgrade-prompt-section"},a.a.createElement("div",{className:"card-back-pup-upgrade-prompt-opener"},p("upgrade-to-get-unlimited-power-ups-2")),a.a.createElement("div",{className:"card-back-pup-upgrade-prompt"},t?a.a.createElement(s.UpgradeSmartComponent,{orgId:e,promptId:"pupUpgradePromptPill"}):a.a.createElement(o.UpgradePromptPill,{icon:a.a.createElement(u.BusinessClassIcon,null),cta:m("upgrade team"),ctaOnClick:()=>{Object(l.trackUe)(l.Noun.CARD_BACK,l.Verb.OPENS,l.Noun.TEAM_PAGE_BC_TAB,"","","by clicking pill upgrade prompt in card back pup section"),r(!0)}}))),n&&a.a.createElement(d.PlanSelectionOverlay,{onClose:()=>r(!1),orgId:e}))}},"./app/scripts/views/plugin/plugin-badge-view.js":function(e,t,n){const i=n("./app/scripts/views/plugin/plugin-view.js"),a=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/views/internal/teacup-with-helpers.js")(),o=n("./node_modules/xtend/immutable.js"),{IconQuietColor:s}=n("./packages/nachos/tokens.ts"),l=r.renderable((function({icon:e,text:t,iconColor:n,iconColorClass:i}){if(null!=e&&r.span(".badge-icon.icon-sm.plugin-icon".concat(i),{style:r.stylify({"background-image":r.urlify(r.addRecolorParam(e,"?color=".concat(n)))})}),t)return r.span(".badge-text",(()=>r.text(t)))})),c={blue:"plugin-color-blue",green:"plugin-color-green",orange:"plugin-color-orange",red:"plugin-color-red",yellow:"plugin-color-yellow",purple:"plugin-color-purple",pink:"plugin-color-pink",sky:"plugin-color-sky",lime:"plugin-color-lime","light-gray":"plugin-color-light-gray"},d=a.values(c).join(" ");class u extends i{static initClass(){this.prototype.tagName="div",this.prototype.className="badge"}initialize({pluginBadge:e}){this.pluginBadge=e}renderBadge(e){return this.$el.html(l(e)),this.$el}render(){const e=this.pluginBadge,t=(n=e.color,c[n]);var n;const i=null!=t&&"light-gray"!==e.color,a=i?"fff":s.substr(1).toLowerCase();let r=i?".mod-invert":".mod-quiet";!1===e.monochrome&&(r=".mod-reset");const l=this.renderBadge(o(e,{iconColor:a,iconColorClass:r}));return l.removeClass(d),null!=t&&l.addClass(t),this}updateBadge(e){if(!a.isEqual(this.pluginBadge,e))return this.pluginBadge=e,this.render(e)}}u.initClass(),e.exports=u},"./app/scripts/views/plugin/plugin-badges-view.js":function(e,t,n){let i;const a=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),r=n("./app/scripts/lib/plugins/plugin-validators.js"),o=n("./app/scripts/views/plugin/plugin-badge-view.js"),s=n("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),l=n("./app/scripts/views/internal/plugins/plugin-runner.js"),c=n("./app/scripts/views/plugin/plugin-view.js"),d=n("./node_modules/bluebird/js/browser/bluebird.js"),{DropboxPluginId:u,DropboxClaimedHosts:p}=n("./app/scripts/data/dropbox.js"),{sendPluginViewedComponentEvent:m}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{trackUe:h}=n("./packages/analytics/index.ts"),g=n("./node_modules/underscore/underscore.js");let b=n("./resources/images/dropbox-mark.svg");b.startsWith("https://")||(b=window.location.origin+b);const f={};let v=null,k={};function y(e,t){return null!=e?t(e):void 0}e.exports=(i=class extends c{static initClass(){this.prototype.tagName="span",this.prototype.badgeView=o,this.prototype.vigor=this.VIGOR.NONE}isDetailView(){return!1}runnerOptions(){return{command:"card-badges",board:this.model.getBoard(),card:this.model,timeout:1e4,options:{attachments:s.attachments(this.model.attachmentList.models,["id","name","url"])}}}_cacheKey(){const{command:e,board:t,card:n}=this.runnerOptions();return[e,null!=t?t.id:void 0,null!=n?n.id:void 0].join(":")}requestBadges(){const e=this.callback((e=>{const t=g.filter(e,r.isValidBadge);if(!this.isDetailView()&&!y(this.model.getBoard(),(e=>e.isPluginEnabled(u)))){const e=this.model.attachmentList.filter((e=>p.includes(function(e){try{return new URL(e).host}catch(t){return e}}(e.get("url"))))).length;e>0&&t.push({icon:b,text:e,idPlugin:u})}const n=(this.latestRun||0)+1;this.latestRun=n;const i=[],a=()=>this.latestRun===n,o=()=>{if(a())return this.renderResolvedBadges(i),f[this._cacheKey()]=i.map((e=>g.omit(e,"callback")))};return this.cancelOnRemove(d.map(t,((e,t)=>{if(this.retain(e),null!=e.dynamic){const n=()=>{const s=e.dynamic().cancellable().then((e=>{if(!r.isValidBadge(e))return i[t]=void 0,void o();if(i[t]=e,o(),e.refresh&&a()){let t=Math.max(10,e.refresh);return t+=2*Math.random()-1,this.setTimeout(n,1e3*t)}})).catch(l.Error.NotHandled,(()=>null));return this.cancelOnRemove(s),s};return n()}return i[t]=e}))).cancellable().then((()=>o())).catch(d.CancellationError,(function(){}))}));return l.all(this.runnerOptions()).then(e)}renderOnce(){let e;null!=(e=f[this._cacheKey()])&&this.renderResolvedBadges(e);const t=y(this.model.getBoard(),(e=>e.id));return t&&t!==v&&(v=t,k={}),this.whenIdle("plugin_badges_render_".concat(this.cid),(()=>{const e=this.runnerOptions();this.latestRun=0;const t=this.debounce((()=>this.requestBadges()),500);this.listenTo(this.model,"change:dateLastActivity",t),this.listenTo(this.model.attachmentList,"add remove reset change",t);const n=a(e.board,e.card);return this.subscribe(n,g.after(2,(e=>t()))),this.waitForId(this.model,(()=>this.requestBadges()))})),this}trackBadges(e){if(!k[e])return k[e]=!0,h("board view","views","Power-Up","","","card-badges",e),m({idPlugin:e,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})}renderResolvedBadges(e){const t=this.isDetailView(),n=g.filter(e,(e=>r.isRenderableBadge(e,t))).map(((e,t)=>{this.trackBadges(e.idPlugin);const n=this.subview(this.badgeView,this.model,{pluginBadge:e},t);return n.updateBadge(e),n}));return this.ensureSubviews(n)}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-button-view.js":function(e,t,n){let i;const a=n("./app/scripts/lib/plugins/plugin-validators.js"),r=n("./app/scripts/views/plugin/plugin-view.js"),o=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/lib/util/index.js");e.exports=(i=class extends r{static initClass(){this.prototype.events={click(e){if(s.stopPropagation(e),"function"==typeof this.trackClick&&this.trackClick(this.pluginButton),null!=this.pluginButton.callback){const t=e.target.closest(".button-link")||e.target.closest(".board-header-btn")||e.target.closest("a")||e.target;return this.isPopOverShowing(t)?o.hide():this.pluginButton.callback({el:t}).done()}}}}tagName(){return null!=this.options.pluginButton.url?"a":"span"}attributes(){const{url:e,target:t}=this.options.pluginButton;if(e&&a.isValidUrlForIframe(e))return{href:e,target:null!=t?t:e,rel:"noreferrer nofollow noopener"}}initialize({pluginButton:e}){return this.pluginButton=e,this.retain(this.pluginButton)}template(){throw Error("no template specified")}isPopOverShowing(e){return o.contains(e)||o.toggledBy(e)}renderOnce(){return this.$el.html(this.template(this.pluginButton)),this}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-buttons-view.js":function(e,t,n){let i;const a=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/db/auth.js"),o=n("./app/scripts/views/internal/plugins/plugin-runner.js"),s=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),l=n("./app/scripts/views/plugin/plugin-view.js");e.exports=(i=class extends l{static initClass(){this.prototype.buttonsSelector=".js-button-list",this.prototype.buttonView=null,this.prototype.vigor=this.VIGOR.NONE}initialize(){return this.requestButtonsDebounced=a.debounce((()=>this.requestButtons()),500)}hideContainer(e){return null==e||0===e.length}renderContainer(){return this.$el}runnerOptions(){throw Error("runnerOptions not specified")}renderButtons(e){const t=this.renderContainer(e);this.$el.toggleClass("hide",this.hideContainer(e)),this.removeSubviews();const n=a.sortBy(e,"text").map(((e,t)=>null!=e.view?this.subview(e.view,this.model,{},t):this.subview(this.buttonView,this.model,{pluginButton:e},t)));return this.appendSubviews(n,t)}requestButtons(){return o.all(this.runnerOptions()).then((e=>(e=a.filter(e,(e=>{if(a.isArray(e)||!a.isObject(e)||!(null!=e?e.text:void 0))return!1;if(null==e.condition)return this.model.editable();switch(e.condition){case"admin":return"Card"===this.model.typeName?this.model.getBoard().owned():"Board"===this.model.typeName&&this.model.owned();case"edit":return this.model.editable();case"readOnly":return!this.model.editable();case"signedIn":return r.isLoggedIn();case"signedOut":return!r.isLoggedIn();case"always":return!0;default:return!1}})),this.renderButtons(e)))).catch((()=>"undefined"!=typeof console&&null!==console?console.warn("Failed to request Power-Up buttons."):void 0))}renderOnce(){const e=this.runnerOptions();return this.subscribe(s(e.board,e.card),this.requestButtonsDebounced),this}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-card-back-section-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./node_modules/hearsay/lib/index.js"),r=n("./app/scripts/views/internal/plugins/plugin-runner.js"),o=n("./app/scripts/views/plugin/plugin-view.js"),s=n("./app/scripts/views/lib/pop-over.js"),l=n("./node_modules/bluebird/js/browser/bluebird.js"),c=n("./app/scripts/lib/plugins/plugin-validators.js"),d=n("./app/scripts/data/plugin-iframe-sandbox.js"),{sendPluginScreenEvent:u}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),p=n("./app/scripts/views/internal/teacup-with-helpers.js")("plugin_section"),{IconDefaultColor:m}=n("./packages/nachos/tokens.ts"),h=n("./node_modules/xtend/immutable.js"),g=p.renderable((function(e){const{content:t,popoverIsVisible:n}=e;p.div(".window-module.u-clearfix",(function(){if(p.div(".window-module-title.window-module-title-no-divider.plugin-window-module-title",(function(){p.span(".window-module-title-icon.icon-lg.plugin-section-icon.js-icon"),p.h3(".u-inline-block.plugin-section-title.js-title"),p.a(".subtle.button.hide.js-section-action")})),"iframe"===t.type&&c.isValidUrlForIframe(t.url)){let{height:e}=t;c.isValidHeight(e,1500)||(e=1500),p.div({class:p.classify({"u-gutter":!0,"js-plugin-iframe-container":!0,"plugin-iframe-container-pop-over-shown":n})},(function(){p.iframe(".plugin-iframe.plugin-section.plugin-card-back-section",{allow:"microphone; camera",sandbox:d,src:t.url,style:p.stylify({height:e?"".concat(e,"px;"):void 0})}),p.div(".plugin-iframe-popover-overlay")}))}}))}));e.exports=class extends o{initialize(){return this.section=new a.Slot(null)}events(){return{"click a.js-section-action":"clickAction"}}clickAction(e){this.section.get().action.callback({el:e.currentTarget})}renderOnce(){const e=this.section.get();if(!e)throw Error("updateSection not called before render");return this.$el.html(g(h(e,{popoverIsVisible:s.isVisible}))),this.subscribe(this.section,(e=>{l.resolve(i.result(e,"title")).then((e=>{this.$(".js-title").text(e)})).catch(r.Error.Timeout,(function(){})),l.resolve(i.result(e,"icon")).then((t=>{const n=p.addRecolorParam(t,"?color=".concat(m.substr(1).toLowerCase()));this.$(".js-icon").css("background-image",p.urlify(n)).toggleClass("mod-reset",!1===e.monochrome)})).catch(r.Error.Timeout,(function(){}));const t=e.action,n=this.$(".js-section-action");t&&"string"==typeof t.text&&"function"==typeof t.callback?(n.text(t.text),n.toggleClass("hide",!1)):(n.text(""),n.toggleClass("hide",!0))})),this.initIFrames(this.model.getBoard(),this.model,this.section),u({idPlugin:e.idPlugin,idBoard:this.model.getBoard().id,idCard:this.model.id,screenName:"pupCardBackSectionInlineDialog"}),this}updateSection(e){return this.section.set(e)}}},"./app/scripts/views/plugin/plugin-card-button-view.js":function(e,t,n){let i;const a=n("./app/scripts/views/plugin/plugin-button-view.js"),r=n("./app/scripts/views/internal/teacup-with-helpers.js")(),{IconDefaultColor:o}=n("./packages/nachos/tokens.ts"),{track:s,trackUe:l}=n("./packages/analytics/index.ts"),{sendPluginUIEvent:c}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),d=r.renderable((({icon:e,text:t,monochrome:n})=>r.span(".button-link",{title:t},(function(){return e&&r.span({class:r.classify({"icon-sm":!0,"plugin-icon":!0,"mod-reset":!1===n}),style:r.stylify({"background-image":r.urlify(r.addRecolorParam(e,"?color=".concat(o.substr(1).toLowerCase())))})}),r.span(t)}))));e.exports=(i=class extends a{static initClass(){this.prototype.className="card-plugin-btn"}render(){return this.$el.html(d(this.pluginButton)),this}trackClick(e){return s("Card Detail","Sidebar Plugin Button",e.text),l("card detail","opens","Power-Up","","","card-button",e.idPlugin),c({idPlugin:e.idPlugin,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpCardButton",source:"cardDetailScreen"}})}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-card-buttons-view.js":function(e,t,n){let i;const a=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/views/card-aging/card-aging-card-button-view.js"),o=n("./app/scripts/views/map/card-location-button-view.js"),s=n("./app/scripts/controller/index.js"),l=n("./app/scripts/views/custom-field/custom-field-card-button-view.js"),c=n("./app/scripts/views/plugin/plugin-buttons-view.js"),d=n("./app/scripts/views/plugin/plugin-card-button-view.js"),u=n("./node_modules/react/index.js"),p=n("./packages/react-dom-wrapper/index.ts"),{UpgradeSmartComponentConnected:m}=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx"),{renderUpgradePrompt:h}=n("./app/src/components/UpgradePrompts/renderUpgradePrompt.ts"),{renderComponent:g}=n("./app/src/components/ComponentWrapper/index.ts"),{PupUpgradePromptSection:b}=n("./app/scripts/views/plugin/PupUpgradePromptSection.tsx"),f=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_detail"),{trackUe:v}=n("./packages/analytics/index.ts"),{featureFlagClient:k}=n("./packages/feature-flag-client/index.ts"),y=n("./app/scripts/lib/util/index.js"),{currentModelManager:C}=n("./app/scripts/controller/currentModelManager.ts"),{Analytics:j}=n("./packages/atlassian-analytics/index.ts"),w=n("./packages/config/index.ts").customFieldsId,{BUTLER_POWER_UP_ID:x}=n("./app/scripts/data/butler-id.js"),_={},E=f.renderable((function({showGetPups:e,hasButtons:t,placeholders:n}){if(f.h3("mod-no-top-margin",(()=>f.format("plugins"))),f.div(".u-clearfix.js-button-list",(function(){if(n)return a.times(n,(()=>f.a(".button-link.disabled",(()=>f.span("")))))})),e)return f.div((function(){return f.a(".button-link.add-button-link.js-add-pups",{href:"#",title:f.l("add-pups")},(()=>f.format("add-pups"))),f.div(".js-card-back-pup-prompt")}))}));function S(e,t){return null!=e?t(e):void 0}e.exports=(i=class extends c{static initClass(){this.prototype.tagName="div",this.prototype.className="window-module u-clearfix hide",this.prototype.buttonsSelector=".js-button-list",this.prototype.buttonView=d,this.prototype.events={"click .js-add-pups":"showPowerUps"}}remove(){return"function"==typeof this.unmountPupPrompt&&this.unmountPupPrompt(),super.remove(...arguments)}_getPlaceholderCountCacheKey(){return"".concat(this.model.getBoard().id,":").concat(this.model.getBoard().idPluginsEnabled().sort().join(":"))}getPlaceholderCount(){let e=0;const t=this._getPlaceholderCountCacheKey();if(_[t])e=_[t];else{if(!this.model.getBoard().editable())return e;const t=n("./app/scripts/db/model-cache.js"),i=e=>null!=e&&a.contains(e.get("capabilities"),"card-buttons")&&e.id!==x;e=this.model.getBoard().idPluginsEnabled().map((e=>t.get("Plugin",e))).filter(i).length}return e}hideContainer(e){return null==e?0===this.placeholderCount&&!this.model.getBoard().editable():0===e.length&&!this.model.getBoard().editable()}renderContainer(e,t){null==t&&(t=!1);const n=this.model.getBoard(),i=e.length>0,a=n.editable(),r=t?this.getPlaceholderCount():0;if(t&&(this.placeholderCount=r),this.$el.html(E({hasButtons:i,showGetPups:a,placeholders:r})),k.get("btg.upgrade-prompt-audit",!1)){const e=this.$el.find(".js-card-back-pup-prompt")[0];e&&(this.unmountPupPrompt=()=>e&&p.unmountComponentAtNode(e),g(u.createElement(m,{orgId:S(this.model.getBoard().getOrganization(),(e=>e.id)),promptId:"pupUpgradePromptPill"}),e))}else this.unmountPupPrompt=h(u.createElement(b,{orgId:S(this.model.getBoard().getOrganization(),(e=>e.id))}),this.$el.find(".js-card-back-pup-prompt")[0],{boardModel:n,extraCondition:()=>n.editable()});return this.$(".js-button-list")}renderButtons(e){const t=this.model.getBoard();(e=>e.isPluginEnabled(w)&&e.editable())(t)&&e.push({text:f.l("custom-fields"),view:l}),!t.isMapCore()&&t.isMapPowerUpEnabled()&&t.editable()&&e.push({text:f.l("location"),view:o}),t.isPowerUpEnabled("cardAging")&&t.editable()&&e.push({text:f.l("card-aging"),view:r}),super.renderButtons(e);const n=this.$(".js-button-list").children().length;return _[this._getPlaceholderCountCacheKey()]=n}runnerOptions(){return{command:"card-buttons",board:this.model.getBoard(),card:this.model,list:this.model.getList()}}renderOnce(){return this.renderContainer([],!0),this.$el.toggleClass("hide",this.hideContainer()),super.renderOnce(...arguments)}showPowerUps(e){var t,n,i,a,r,o,l;if(y.stop(e),C.onAnyBoardView())return null!==(t=this.model)&&void 0!==t&&null!==(n=t.getBoard())&&void 0!==n&&n.canEnableAdditionalPowerUps()||j.sendTrackEvent({action:"exceeded",actionSubject:"powerUpLimit",source:"inBoardPowerUpDirectory",containers:{board:{id:null===(i=this.model.getBoard())||void 0===i?void 0:i.id},organization:{id:null===(a=this.model.getBoard())||void 0===a||null===(r=a.getOrganization())||void 0===r?void 0:r.id},enterprise:{id:null===(o=this.model.getBoard())||void 0===o||null===(l=o.getEnterprise())||void 0===l?void 0:l.id}},attributes:{fromBoardMenu:!1,fromCard:!0}}),s.getCurrentBoardView().navigateToDirectory(this.model),v("board view","opens","Power-Up directory home page","","","by clicking Power-Ups link on card-back");window.open("/power-ups","_blank")}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-card-detail-badge-view.js":function(e,t,n){let i;const a=n("./app/scripts/lib/plugins/plugin-validators.js"),r=n("./app/scripts/views/plugin/plugin-badge-view.js"),o=n("./node_modules/teacup/lib/teacup.js"),{trackUe:s}=n("./packages/analytics/index.ts"),l=n("./app/scripts/lib/util/index.js"),{sendPluginUIEvent:c}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),d=o.renderable((function(e){null==e&&(e={});const{callback:t,url:n,title:i,text:r}=e;return o.h3(".card-detail-item-header",(()=>o.text(i))),n&&a.isValidUrlForIframe(n)?o.a(".card-detail-badge.plugin-card-detail-badge.is-clickable.js-badge",{href:n,rel:"noreferrer nofollow noopener",target:n,title:r},(()=>o.text(r))):t?o.a(".card-detail-badge.plugin-card-detail-badge.is-clickable.js-badge",{href:"#",title:r},(()=>o.text(r))):o.span(".card-detail-badge.plugin-card-detail-badge.static-detail-badge.js-badge",{title:r},(()=>o.text(r)))}));e.exports=(i=class extends r{static initClass(){this.prototype.tagName="div",this.prototype.className="card-detail-item",this.prototype.events={"click .js-badge"(e){if(null==this.pluginBadge.callback&&null==this.pluginBadge.url)return;l.stopPropagation(e);const{idPlugin:t}=this.pluginBadge;return s("card detail","opens","Power-Up","","","card-detail-badge",t),c({idPlugin:t,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{action:"clicked",actionSubject:"badge",actionSubjectId:"cardDetailBadge",source:"cardDetailScreen"}}),null!=this.pluginBadge.callback?(e.preventDefault(),this.pluginBadge.callback({el:e.currentTarget}).done()):void 0}}}renderBadge(e){return this.$el.html(d(e)),this.$(".js-badge")}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-card-detail-badges-view.js":function(e,t,n){let i;const a=n("./app/scripts/views/plugin/plugin-badges-view.js"),r=n("./app/scripts/views/plugin/plugin-card-detail-badge-view.js"),{sendPluginViewedComponentEvent:o}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{trackUe:s}=n("./packages/analytics/index.ts");e.exports=(i=class extends a{static initClass(){this.prototype.tagName="div",this.prototype.badgeView=r}isDetailView(){return!0}runnerOptions(){return{command:"card-detail-badges",board:this.model.getBoard(),card:this.model}}trackBadges(e){if(null==this.trackedDetailsBadges&&(this.trackedDetailsBadges={}),!this.trackedDetailsBadges[e])return this.trackedDetailsBadges[e]=!0,s("card details","views","Power-Up","","","card-detail-badges",e),o({idPlugin:e,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{componentType:"badge",componentName:"pupCardDetailBadge",source:"cardDetailScreen"}})}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-section-remove-attachments-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/confirm.js"),r=n("./app/scripts/views/internal/plugins/plugin-runner.js"),o=n("./node_modules/bluebird/js/browser/bluebird.js"),s=n("./node_modules/teacup/lib/teacup.js"),{track:l}=n("./packages/analytics/index.ts"),c=n("./app/scripts/lib/util/index.js"),d=n("./app/scripts/views/internal/view.js"),u=n("./node_modules/xtend/immutable.js"),p=s.renderable((function(e){s.ul(".pop-over-list",(function(){for(const{name:t,id:n}of Array.from(e))s.li((function(){s.a(".js-remove",{"data-id-attachment":n},(function(){s.text(t)}))}))}))}));class m extends d{static initClass(){this.prototype.viewTitleKey="remove attachments",this.prototype.events={"click .js-remove":"confirmRemove"}}initialize({section:e}){return this.section=e}renderOnce(){const e=this.model.getBoard(),t=this.model;return o.map(this.section.claimed,(n=>r.one({command:"format-url",board:e,card:t,options:{url:n.url}}).get("text").catch(r.Error.NotHandled,(()=>n.name||n.url)).then((e=>u(n,{name:e}))))).then((e=>this.$el.html(p(e)))),this}confirmRemove(e){c.stop(e);const t=i(e.currentTarget).attr("data-id-attachment"),n=this.model.attachmentList.get(t);return a.pushView("remove attachment",{model:n,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>(n.destroy(),l("Attachment","Delete Attachment",n.getType()))})}}m.initClass(),e.exports=m},"./app/scripts/views/plugin/plugin-section-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o;const s=n("./packages/jquery/index.js"),l=n("./node_modules/underscore/underscore.js"),c=n("./app/scripts/views/lib/confirm.js"),d=n("./node_modules/hearsay/lib/index.js"),u=n("./app/scripts/views/lib/pop-over.js"),p=n("./app/scripts/views/internal/plugins/plugin-runner.js"),m=n("./app/scripts/views/plugin/plugin-section-remove-attachments-view.js"),h=n("./app/scripts/views/plugin/plugin-view.js"),g=n("./node_modules/bluebird/js/browser/bluebird.js"),b=n("./app/scripts/lib/plugins/plugin-validators.js"),f=n("./app/scripts/data/plugin-iframe-sandbox.js"),{sendPluginScreenEvent:v}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),k=n("./app/scripts/views/internal/teacup-with-helpers.js")("plugin_section"),{track:y}=n("./packages/analytics/index.ts"),C=n("./app/scripts/lib/util/index.js"),{IconDefaultColor:j}=n("./packages/nachos/tokens.ts"),w=k.renderable((function(e){const{canRemove:t,content:n,popoverIsVisible:i}=e;k.div(".window-module.u-clearfix",(function(){if(k.div(".window-module-title.window-module-title-no-divider",(function(){k.span(".window-module-title-icon.icon-lg.plugin-section-icon.js-icon"),k.h3(".u-inline-block.plugin-section-title.js-title"),k.div(".window-module-title-options",(function(){t&&k.a(".quiet.js-remove",{href:"#"},(function(){k.format("remove")}))}))})),"iframe"===n.type&&b.isValidUrlForIframe(n.url)){let{height:e}=n;const{url:t}=n;b.isValidHeight(e)||(e=void 0),k.div({class:k.classify({"u-gutter":!0,"js-plugin-iframe-container":!0,"plugin-iframe-container-pop-over-shown":i})},(function(){k.iframe(".plugin-iframe.plugin-section",{allow:"microphone; camera",sandbox:f,src:t,style:k.stylify({height:e?"".concat(e,"px;"):void 0})}),k.div(".plugin-iframe-popover-overlay")}))}}))}));e.exports=(o=class extends h{static initClass(){this.prototype.events={"click .js-remove":"confirmRemove"}}initialize(){return this.section=new d.Slot(null)}renderOnce(){const e=this.section.get();if(null==e)throw Error("updateSection not called before render");this.$el.html(w(a(a({},e),{},{canRemove:this.model.editable(),popoverIsVisible:u.isVisible}))),this.subscribe(this.section,(e=>(g.resolve(l.result(e,"title")).then((e=>this.$(".js-title").text(e))).catch(p.Error.Timeout,(function(){})),g.resolve(l.result(e,"icon")).then((t=>{const n=k.addRecolorParam(t,"?color=".concat(j.substr(1).toLowerCase()));return this.$(".js-icon").css("background-image",k.urlify(n)).toggleClass("mod-reset",!1===e.monochrome)})).catch(p.Error.Timeout,(function(){}))))),this.initIFrames(this.model.getBoard(),this.model,this.section);const t=e.claimed||[];return v({idPlugin:e.idPlugin,idBoard:this.model.getBoard().id,idCard:this.model.id,screenName:"pupAttachmentSectionInlineDialog",attributes:{totalAttachments:t.length}}),this}updateSection(e){return this.retain(e),this.section.set(e)}confirmRemove(e){let t;C.stop(e);const n=this.section.get();1===n.claimed.length?(t=this.model.attachmentList.get(n.claimed[0].id),c.toggle("remove attachment",{elem:this.$(e.currentTarget),model:t,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>(t.destroy(),y("Attachment","Delete Attachment",t.getType()))})):u.toggle({elem:s(e.currentTarget),view:new m({model:this.model,section:n})})}},o.initClass(),o=o)},"./app/scripts/views/plugin/plugin-suggestion-pop-over.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=n("./app/scripts/views/lib/alerts.js"),{Analytics:s}=n("./packages/atlassian-analytics/index.ts"),l=n("./app/scripts/views/directory/business-class-upsell-view.js"),c=n("./app/scripts/controller/index.js"),{firstPartyPluginsOrg:d}=n("./packages/config/index.ts"),u=n("./app/scripts/lib/markdown/format.js"),p=n("./app/scripts/views/lib/pop-over.js"),{sendPluginScreenEvent:m,sendPluginUIEvent:h,sendPluginTrackEvent:g}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),b=n("./app/scripts/views/internal/view.js"),f=n("./app/scripts/lib/util/index.js"),v=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_power_ups"),{trackUe:k}=n("./packages/analytics/index.ts"),{navigate:y}=n("./app/scripts/controller/navigate.js"),{featureFlagClient:C}=n("./packages/feature-flag-client/index.ts");class j extends b{static initClass(){this.prototype.className="plugin-suggestion-pop-over",this.prototype.events={"click .js-enable-power-up":"enablePowerUp","click .js-open-listing":"openListing"}}initialize({board:e,card:t}){return this.board=e,this.card=t,this.powerUpEnablementInProgress=!1}enablePowerUp(e){f.stop(e);const t={pluginId:this.model.id,pluginName:this.model.get("name"),pluginTags:this.model.get("tags"),installSource:"attachmentGetPowerUpInlineDialog"},n=s.startTask({taskName:"enable-plugin",source:"attachmentGetPowerUpInlineDialog",attributes:t});if(h({idPlugin:this.model.id,idBoard:this.board.id,idCard:this.card.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"attachmentGetPowerEnableButton",source:"attachmentGetPowerUpInlineDialog"}}),!this.board.canEnableAdditionalPowerUps()&&!(this.model.get("tags")||[]).includes("promotional"))return s.taskAborted({taskName:"enable-plugin",source:"attachmentGetPowerUpInlineDialog",error:new Error("plugin limit reached"),attributes:a({},t),traceId:n}),p.pushView({autoPosition:!0,displayType:C.get("btg.upgrade-prompt-audit",!1)?"directory-upgrade-prompt-popover":"directory-business-class-popover",elem:this.$(e.target),hideHeader:!0,view:new l({model:this.board})}),void m({idPlugin:this.model.id,idBoard:this.board.id,idCard:this.card.id,screenName:"attachmentsGetPowerUpUpgradeInlineDialog"});if(this.board.isPluginEnabled(this.model.id))return s.taskAborted({taskName:"enable-plugin",source:"attachmentGetPowerUpInlineDialog",error:new Error("plugin not allowed"),attributes:a({},t),traceId:n}),void p.hide();if(this.model.get("idOrganizationOwner")===d)this.powerUpEnablementInProgress=!0,this.render(),this.board.enablePluginWithTracing(this.model.id,{traceId:n,attributes:t,taskName:"enable-plugin",source:"attachmentsGetPowerUpUpgradeInlineDialog",next:e=>{if(!e)return k("card-detail","enables","Power-Up","","","enable button",this.model.id),g({idPlugin:this.model.id,idBoard:this.board.id,idCard:this.card.id,event:{action:"added",actionSubject:"powerUp",source:"attachmentGetPowerUpInlineDialog",attributes:{installSource:"attachmentSuggestion",tags:this.model.get("tags"),taskId:n}}}),this.powerUpEnablementInProgress=!1,p.hide();{const i=e.serverMessage;s.taskAborted({taskName:"enable-plugin",source:"attachmentsGetPowerUpUpgradeInlineDialog",error:new Error(i),attributes:a({},t),traceId:n});const r=s.startTask({taskName:"disable-plugin",source:"attachmentGetPowerUpUpgradeInlineDialog",attributes:t});this.powerUpEnablementInProgress=!1,this.render(),this.board.disablePluginWithTracing(this.model.id,{traceId:r,attributes:t,taskName:"disable-plugin",source:"attachmentsGetPowerUpUpgradeInlineDialog"}),"PLUGIN_NOT_ALLOWED"===i?o.show("plugin not allowed","error","addpluginerror",4e3):o.show("could not add plugin","error","addpluginerror",2e3)}}});else{s.taskAborted({taskName:"enable-plugin",source:"attachmentGetPowerUpInlineDialog",error:new Error("need data consent"),attributes:a({},t),traceId:n}),p.hide();c.getCurrentBoardView().directoryReturnCard=this.card;const e=c.getBoardUrl(this.board.id,"power-up",[this.model.id,"enable"]);y(e,{trigger:!0})}}openListing(e){f.stop(e),k("card-detail","opens","Power-Up directory home page","","","by clicking the learn more link"),h({idPlugin:this.model.id,idBoard:this.board.id,idCard:this.card.id,event:{action:"clicked",actionSubject:"link",actionSubjectId:"attachmentGetPowerLearnMoreLink",source:"attachmentGetPowerUpInlineDialog"}}),p.hide();c.getCurrentBoardView().directoryReturnCard=this.card;const t=c.getBoardUrl(this.board.id,"power-up",[this.model.id]);return y(t,{trigger:!0})}render(){const{description:e}=this.model.get("listing");return this.$el.html(v.render((()=>(v.div(".plugin-description-container",(()=>v.div(".markeddown",(()=>v.raw(u.markdownAsHtml(e)))))),v.p((()=>this.powerUpEnablementInProgress?v.button(".nch-button.nch-button--primary",(()=>v.format("power-up-enablement-in-progress"))):v.button(".nch-button.nch-button--primary.js-enable-power-up",(()=>v.format("enable-power-up"))))),v.p(".secondary-links.quiet",(()=>v.a(".js-open-listing",{href:"#"},(()=>v.format("learn-more"))))))))),this}}j.initClass(),e.exports=j},"./app/scripts/views/reactions/reaction-icon.js":function(e,t,n){const i=n("./node_modules/react/index.js"),a=n("./app/scripts/views/internal/recup-with-helpers.js")("reactions");class r extends i.Component{static initClass(){this.prototype.displayName="ReactionIcon",this.prototype.render=a.renderable((function(){const{disabled:e,withBorder:t,active:n,onClick:i}=this.props;return a.span({class:a.classify({"reactions-add":!0,"is-disabled":e,"mod-with-border":t,"is-active":n}),onClick:i},(()=>a.icon("add-reaction",{class:a.classify({"reactions-add-icon":!0}),title:a.l("add-reaction")})))}))}}r.initClass(),e.exports=r},"./app/scripts/views/reactions/reaction-piles.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/alerts.js"),r=n("./app/scripts/db/auth.js"),o=n("./app/scripts/lib/localize.js"),s=n("./app/scripts/db/model-cache.js"),l=n("./app/scripts/views/internal/model-cache-listener.js"),c=n("./app/scripts/views/lib/pop-over.js"),d=n("./app/scripts/views/internal/recup-with-helpers.js")("reactions"),{trackUe:u}=n("./packages/analytics/index.ts"),p=n("./app/scripts/views/lib/tooltip.js"),{Emoji:m}=n("./app/src/components/Emoji/Emoji.tsx"),h=n("./node_modules/react/index.js"),g=n("./app/scripts/views/reactions/reaction-icon.js"),b=n("./app/scripts/views/reactions/reaction-selector.js"),f=n("./app/scripts/views/reactions/reaction-tooltip.js"),v=n("./app/scripts/lib/util/index.js"),k=n("./node_modules/underscore/underscore.js"),{Analytics:y}=n("./packages/atlassian-analytics/index.ts"),{shouldFireConfetti:C}=n("./app/scripts/views/card/should-fire-confetti.ts"),j=n("./node_modules/canvas-confetti/dist/confetti.module.mjs").default;class w extends h.Component{static initClass(){this.prototype.displayName="ReactionPiles",this.prototype.render=d.renderable((function(){const{canReact:e,renderReactIconWithBorder:t}=this.props,n=this.mapReactionListToPiles();return d.div(".reaction-piles",{class:d.classify({"reaction-piles-empty":!n.length,disabled:!e})},(()=>{for(const{reaction:e,count:t,mine:i}of Array.from(n))d.div(".reaction-pile-item",{class:d.classify({"my-reaction":i}),"data-reaction":e},(()=>(d.addElement(h.createElement(m,{emoji:e,onClick:this.handleEmojiClick,onOver:this.handleEmojiOver,onLeave:this.hideReactionTooltip})),d.span(".reaction-pile-count",(function(){return d.text(t>99?"99+":t)})))));return n.length||t?this.renderReactIcon():this.renderInlineReactIcon()}))}))}constructor(e){super(e),this.state={reactionSelectorOpen:!1,reactionList:this.props.reactionList},this.toggleReaction=this.toggleReaction.bind(this),this.showReactionTooltip=this.showReactionTooltip.bind(this),this.handleEmojiClick=this.handleEmojiClick.bind(this),this.handleEmojiOver=this.handleEmojiOver.bind(this),this.openReactionSelector=this.openReactionSelector.bind(this),this.renderInlineReactIcon=this.renderInlineReactIcon.bind(this),this._listen()}_listen(){return this._alertEvent("uniqueReactionLimit","unique-reaction-limit-exceeded"),this._alertEvent("totalReactionLimit","total-reaction-limit-exceeded"),this._alertEvent("addReactionError","add-reaction-error"),this._alertEvent("removeReactionError","remove-reaction-error"),this.props.modelListener(this.props.reactionList,"add remove reset",(()=>(this.props.onReactionChanged&&this.props.onReactionChanged(),this.setState({reactionList:this.props.reactionList})))),this.props.modelListener(this.props.reactionList,"add remove reset",(()=>this.setState({reactionList:this.props.reactionList})))}_alertEvent(e,t){return this.props.modelListener(this.props.reactionList,e,(e=>{const n=e?d.l(t,{number:e.disableAt,heart:"â¤"}):d.l(t);a.showLiteralText(n,"error","reaction-piles",3e3)}))}trackWithData(e,t,n,i,a){const{category:r}=this.props.trackingContext,o=JSON.stringify(k.omit(this.props.trackingContext,"category"));return u(r,e,t,n,i,a,o)}toggleReaction(e,t){if(v.stop(t),!this.props.canReact)return;if(C(e.native)){const n=e.unified.toUpperCase();this.props.reactionList.findMyReaction(n)||j({angle:k.random(55,125),spread:k.random(50,70),particleCount:k.random(40,75),origin:{x:t.pageX/window.innerWidth,y:t.pageY/window.innerHeight}})}return this.props.reactionList.toggleReaction(this.props.actionId,e,(t=>{t?y.sendTrackEvent({action:"added",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.cardId))},list:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.listId))},board:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.boardId))}},attributes:{addedTo:"comment",fromPile:!0}}):y.sendTrackEvent({action:"removed",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.cardId))},list:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.listId))},board:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.boardId))}},attributes:{removedFrom:"comment",fromPile:!0}});return this.trackWithData(t?"adds":"removes","reaction",e.id,t?"to a comment":"from a comment","by clicking the pile")}))}showReactionTooltip(e,t){const n=i(t.currentTarget),a=e.colons;let l=!1,c=this.props.reactionList.chain().filter((e=>e.toEmojiMart().colons===a)).omit((function(e){const t=e.get("idMember")===r.myId();return t&&(l=!0),t})).map((e=>x(s.get("Member",e.get("idMember")),(e=>e.get("fullName"))))).compact().value();l&&(c=[o("You"),...Array.from(c)]);const d=new f({names:c,reaction:a});return p.show(d,n,!1,p.STYLE.MENU)}hideReactionTooltip(){return p.hide()}mapReactionListToPiles(){return this.props.reactionList.chain().groupBy((e=>e.toEmojiMart().colons)).pairs().map((function(...e){const[t,n]=Array.from(e[0]);return{reaction:t,count:n.length,mine:k.any(n,(e=>e.get("idMember")===r.myId()))}})).value()}handleEmojiClick(e,t){return this.hideReactionTooltip(),this.toggleReaction(e,t),this.props.onEmojiClick&&this.props.onEmojiClick(e,t)}handleEmojiOver(e,t){return this.showReactionTooltip(e,t),this.props.onEmojiOver&&this.props.onEmojiOver(e,t)}openReactionSelector(e){this.shouldSuppressTracking=!1;const t=i(e.currentTarget);v.stop(e),this.setState({reactionSelectorOpen:!0});const n="by clicking the picker button ".concat(t.parents(".inline-add-reaction").length>0?"inline":"next to reactions");if(this.state.reactionSelectorOpen)return this.shouldSuppressTracking=!0,c.popView(),this.setState({reactionSelectorOpen:!1}),this.sendGASEvent&&y.sendClosedComponentEvent({componentType:"inlineDialog",componentName:"reactionSelectorInlineDialog",source:"cardDetailScreen",attributes:{method:"clicked picker button"},containers:{card:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.cardId))},list:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.listId))},board:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.boardId))}}}),void this.trackWithData("closes","reaction selector","","",n);this.sendGASEvent&&y.sendScreenEvent({name:"reactionSelectorInlineDialog",containers:{card:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.cardId))},list:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.listId))},board:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.boardId))}}}),this.trackWithData("opens","reaction selector","","",n);const a={actionId:this.props.actionId,reactionList:this.props.reactionList,trackingContext:this.props.trackingContext,onReactionClick:(e,t)=>(v.stop(e),this.shouldSuppressTracking=!0,this.setState({reactionSelectorOpen:!1}),c.popView())};return c.show({elem:i(e.currentTarget),hideHeader:!0,displayType:"mod-reaction-selector",view:new b(a),showImmediately:!0,hidden:()=>k.defer((()=>{if(this.setState({reactionSelectorOpen:!1}),!this.shouldSuppressTracking)return this.sendGASEvent&&y.sendClosedComponentEvent({componentType:"inlineDialog",componentName:"reactionSelectorInlineDialog",source:"cardDetailScreen",attributes:{method:"clicked outside the inline dialog"},containers:{card:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.cardId))},list:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.listId))},board:{id:x(null!=this.props?this.props.trackingContext:void 0,(e=>e.boardId))}}}),this.trackWithData("closes","reaction selector","","","by clicking outside")}))})}renderReactIcon(){return d.div(".reaction-pile-selector",(()=>d.createElement(g,{disabled:!this.props.canReact,withBorder:!0,onClick:this.openReactionSelector,active:this.state.reactionSelectorOpen})))}renderInlineReactIcon(){return d.span(".inline-add-reaction.meta-add-reaction.quiet",(()=>d.createElement(g,{disabled:!this.props.canReact,withBorder:!1,onClick:this.openReactionSelector,active:this.state.reactionSelectorOpen})))}}function x(e,t){return null!=e?t(e):void 0}w.initClass(),e.exports=l(w)},"./app/scripts/views/reactions/reaction-selector.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/internal/view.js"),{trackUe:r}=n("./packages/analytics/index.ts"),o=n("./node_modules/underscore/underscore.js"),s=n("./node_modules/react/index.js"),l=n("./packages/react-dom-wrapper/index.ts"),c=n("./app/scripts/views/emoji/trello-emoji-picker.js"),{Analytics:d}=n("./packages/atlassian-analytics/index.ts"),{shouldFireConfetti:u}=n("./app/scripts/views/card/should-fire-confetti.ts"),p=n("./node_modules/canvas-confetti/dist/confetti.module.mjs").default;function m(e,t){return null!=e?t(e):void 0}e.exports=class extends a{constructor(e){super(e),this.trackWithData=this.trackWithData.bind(this)}render(){return l.render(this.getEmojiPicker(),this.$el[0]),this.trackReactionClickEvents(),this}remove(){return l.unmountComponentAtNode(this.$el[0]),super.remove(...arguments)}trackWithData(e,t,n,i,a){const{category:s}=this.options.trackingContext,l=JSON.stringify(o.omit(this.options.trackingContext,"category"));return r(s,e,t,n,i,a,l)}trackReactionClickEvents(){const e=".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin";return i(document).off("click",e).on("click",e,(e=>{e.stopPropagation();const t=i(e.currentTarget),n=t.is(".emoji-mart-anchor"),a=n?"reaction selector category button":t.is(".emoji-mart-skin-swatch")?"reaction selector skin tone button":t.is(".emoji-mart-skin")?"reaction selector skin tone menu":void 0;if(!a)return;const r="by clicking the ".concat(a),o=n?"reaction selector category":"reaction selector skin tone menu",s=n?t.attr("title"):t.is(".emoji-mart-skin")?"skin-tone-".concat(t.data("skin")):"";return d.sendUIEvent({action:"clicked",actionSubject:"icon",actionSubjectId:"reactionMenuIcon",source:"reactionSelectorInlineDialog",attributes:{target:a},containers:{card:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.cardId))},board:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.boardId))},list:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.listId))}}}),this.trackWithData("opens",o,s,"",r)})),i(document).on("input",".emoji-mart-search input",o.debounce((e=>(e.stopPropagation(),d.sendTrackEvent({action:"searched",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.cardId))},board:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.boardId))},list:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.listId))}}}),this.trackWithData("searches","reaction selector","","for emoji","by typing in the reaction selector search box"))),1e3))}handleReactionClick(e,t){if(u(t.native)){const n=t.unified.toUpperCase();this.options.reactionList.findMyReaction(n)||p({angle:o.random(55,125),spread:o.random(50,70),particleCount:o.random(40,75),origin:{x:e.pageX/window.innerWidth,y:e.pageY/window.innerHeight}})}return this.options.reactionList.toggleReaction(this.options.actionId,t,(e=>{e?d.sendTrackEvent({action:"added",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.cardId))},list:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.listId))},board:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.boardId))}},attributes:{addedTo:"comment",emoji:t.id,fromPile:!1}}):d.sendTrackEvent({action:"removed",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.cardId))},list:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.listId))},board:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.boardId))}},attributes:{removedFrom:"comment",emoji:t.id,fromPile:!1}});return this.trackWithData(e?"adds":"removes","reaction",t.id,e?"to a comment":"from a comment","by picking a reaction")})),this.options.onReactionClick&&this.options.onReactionClick(e,t)}getEmojiPicker(){return s.createElement(c,{onClick:(e,t)=>this.handleReactionClick(t,e)})}willBePopped(){return i(".js-open-reactions").removeClass("active"),i(document).off("click",".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin"),i(document).off("input",".emoji-mart-search input")}}},"./app/scripts/views/reactions/reaction-tooltip.js":function(e,t,n){const i=n("./app/scripts/lib/localize.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("reactions"),r=n("./app/scripts/views/internal/view.js"),o=n("./node_modules/joinn/lib/joinn.js"),s=e=>a.render((()=>a.span(".reaction-fullname",(()=>a.text(e))))),l=e=>a.render((()=>a.strong((()=>a.text(e))))),c=a.renderable((function({names:e,reaction:t}){const n=(null!=e?e[0]:void 0)===i("You")&&1===e.length;return e=e.map(s),a.div(".reaction-tooltip",(function(){return""!==e&&null==t?a.raw(o(e,", "," ".concat(a.l("and")," "))):n?a.raw(a.l("reaction-tooltip-you",{reaction:l(t)},{raw:!0})):1===e.length?a.raw(a.l("reaction-tooltip",{name:e[0],reaction:l(t)},{raw:!0})):e.length>1?a.raw(a.l("reaction-tooltip-plural",{names:o(e,", "," ".concat(a.l("and")," ")),reaction:l(t)},{raw:!0})):a.raw(l(t))}))}));e.exports=class extends r{renderOnce(){let{names:e}=this.options;const{reaction:t}=this.options;return null==e&&(e=[]),this.$el.append(c({names:e,reaction:t})),this}}},"./app/scripts/views/stickers/sticker-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=n("./packages/browser/index.ts"),s=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./app/scripts/data/sticker-size.js"),d=n("./app/scripts/lib/util/sticker-clip.js"),u=n("./app/scripts/views/internal/teacup-with-helpers.js")("sticker_on_card"),p=n("./node_modules/bluebird/js/browser/bluebird.js"),{track:m}=n("./packages/analytics/index.ts"),{Analytics:h,tracingCallback:g}=n("./packages/atlassian-analytics/index.ts"),b=o.supportsFancyPeel(),f=u.renderable((function({url:e,rotate:t,image:i,showEditControls:a,showRemoveUI:r,isGiphySticker:o}){return r?(u.div({class:u.classify({"sticker-removing":!0,"giphy-sticker":o})},(function(){return u.div(".sticker-removing-highlight",{style:"transform: rotate(".concat(t,"deg)")}),b?(u.img(".sticker-remove-image.sticker-removing-residue",{src:n("./resources/images/stickers/residue.png"),style:"--sticker-rotation: ".concat(t,"deg; mask-image: ").concat(u.urlify(e),"; -webkit-mask-image: ").concat(u.urlify(e),";")}),u.img(".sticker-remove-image.sticker-removing-shadow",{src:e,style:"--sticker-rotation: ".concat(t,"deg")}),u.img(".sticker-remove-image.sticker-removing-fixed",{src:e,style:"--sticker-rotation: ".concat(t,"deg;")}),u.img(".sticker-remove-image.sticker-removing-peel",{src:e,style:"--sticker-rotation: ".concat(t,"deg")})):u.img(".sticker-remove-image.sticker-removing-fixed",{src:e,style:"transform: rotate(".concat(t,"deg)")})})),u.span(".sticker-control-btn.remove-btn.js-remove-sticker",{style:"display: none"},(()=>u.format("remove")))):(u.img({class:u.classify({"sticker-image":!0,"giphy-sticker":o}),src:e,style:"-webkit-transform: rotate(".concat(t,"deg);transform: rotate(").concat(t,"deg);"),alt:i}),a?u.div(".sticker-controls",(function(){return u.span(".sticker-control-btn.rotate-btn.js-rotate-sticker",(()=>u.format("rotate"))),u.span(".sticker-control-btn.move-btn.js-move-sticker",(()=>u.format("move"))),u.span(".sticker-control-btn.remove-btn.js-remove-sticker",(()=>u.format("remove")))})):void 0)})),v=function(e,t){null==t&&(t={});const n=e.getBoundingClientRect(),{left:i}=n,{top:a}=n,r=t.fixedWidth?i+t.fixedWidth():n.right,o=t.fixedHeight?a+t.fixedHeight():n.bottom;return{left:i,top:a,bottom:o,right:r,width:r-i,height:o-a,x:i+(r-i)/2,y:a+(o-a)/2}};let k=null;class y extends l{static initClass(){this.prototype.className="sticker"}initialize(){return super.initialize(...arguments),this.listenTo(this.model,"change",this.render)}showEditControls(){return!1}events(){return this.options.canRemove?{mouseenter(e){if(!this.showRemoveUI)return this.showRemoveUI=!0,this.render()},mouseleave:"mouseLeave",mousemove:"mouseMove",mousedown(e){if(!this.$(e.target).closest(".js-remove-sticker").length)return this.removeRemove()},"left-sticker":"removeRemove","mousemove .js-remove-sticker":e=>s.stop(e),"mouseenter .js-remove-sticker"(e){return this.$el.addClass("peeling")},"mouseleave .js-remove-sticker"(e){return this.$el.removeClass("peeling")},"click .js-remove-sticker"(e){return s.stop(e),this.removeSticker()}}:{}}render(){let e;const t=this.model.toJSON();var n,i;return t.url=null!=(n=s.smallestPreviewBiggerThan(t.imageScaled,c),i=e=>e.url,e=null!=n?i(n):void 0)?e:t.imageUrl,t.showEditControls=this.showEditControls(),t.showRemoveUI=this.showRemoveUI,this.$el.html(f(t)).css({left:"".concat(d(t.left),"%"),top:"".concat(d(t.top),"%")}),this}mouseMove(e){return e.buttons?this.removeRemove():this.showingRemove?this.clearTimeouts():this.hoverTimeout?(this.currentX=e.offsetX,this.currentY=e.offsetY):(this.$el.siblings().trigger("left-sticker"),this.currentX=this.startX=e.offsetX,this.currentY=this.startY=e.offsetY,this.hoverTimeout=this.setTimeout((()=>this.showRemove()),350))}showRemove(){if(this.showingRemove)return;this.showingRemove=!0;const e=this.currentX-this.startX,t=this.currentY-this.startY;this.$el.addClass("hover");const n=this.$(".js-remove-sticker");return p.try((()=>k||(n.css({display:"inline-block"}),new p((e=>this.requestAnimationFrame((()=>(k=v(n.get(0)),n.css({display:"none"}),e(k))))))))).then((i=>{const{left:r,top:o}=function({rect:e,containerRect:t,controlRect:n,currentX:i,currentY:r,deltaX:o,deltaY:l,interval:c}){const d=s.getPositiveDegrees(-l,o),u=e=>e-45<d&&d<e+45,p=8-n.height,m=(e.height-n.height)/2,h=e.height-8,g=8-n.width,b=(e.width-n.width)/2,f=e.width-8,v=[{left:b,top:h,avoid:u(270)},{left:b,top:p,avoid:u(90)},{left:f,top:m,avoid:u(0)||u(360)},{left:g,top:m,avoid:u(180)},{left:g,top:h,avoid:u(225)},{left:f,top:h,avoid:u(315)},{left:g,top:p,avoid:u(135)},{left:f,top:p,avoid:u(45)}].map((i=>{const r=i.left+(e.left-t.left),o=i.top+(e.top-t.top),s=r+n.width,l=o+n.height,c=(Math.min(s,t.width)-Math.max(0,r))*(Math.min(l,t.height)-Math.max(0,o));return a(a({},i),{},{visibleArea:c})})).sort(((e,t)=>t.visibleArea-e.visibleArea));return v.filter((e=>!e.avoid))[0]||v.filter((e=>e.avoid))[0]||v[0]}({rect:v(this.el),containerRect:v(this.$el.closest(".js-stickers-area").get(0),{fixedWidth:this.options.fixedWidth,fixedHeight:this.options.fixedHeight}),controlRect:i,currentX:this.currentX,currentY:this.currentY,deltaX:e,deltaY:t,interval:350});return n.css({display:"inline-block",top:o,left:r})})).done()}removeRemove(e){if(this.showingRemove)return this.showingRemove=!1,this.clearTimeouts(),this.$(".js-remove-sticker").css({display:"none"}),this.$el.removeClass("hover peeling")}mouseLeave(e){return this.clearTimeouts(),this.removeTimeout=this.setTimeout((()=>this.removeRemove()),200)}clearTimeouts(){return clearTimeout(this.hoverTimeout),this.hoverTimeout=null,clearTimeout(this.removeTimeout),this.removeTimeout=null}removeSticker(){const e=h.startTask({taskName:"edit-card",subTask:"stickers",source:"stickerHoverView",attributes:{action:"removed"}});return m("Card","Sticker","Remove via Hover"),this.clearTimeouts(),this.$el.remove(),this.model.destroyWithTracing({traceId:e},g({taskName:"edit-card",subTask:"stickers",traceId:e,source:"stickerHoverView",attributes:{action:"removed"}},((t,n)=>{if(n){var i;const t=null===(i=this.options)||void 0===i?void 0:i.card;h.sendUpdatedCardFieldEvent({field:"stickers",source:"stickerHoverView",attributes:{taskId:e,action:"removed"},containers:{card:{id:null==t?void 0:t.id},list:{id:null==t?void 0:t.get("idList")},board:{id:null==t?void 0:t.get("idBoard")}}})}})))}}y.initClass(),e.exports=y},"./app/scripts/views/suggestions-settings/toggle-suggestions-settings.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"toggleSuggestionsSettings",(function(){return v}));var i=n("./packages/i18n/index.ts"),a=n("./node_modules/react/index.js"),r=n.n(a),o=n("./node_modules/classnames/index.js"),s=n.n(o),l=n("./packages/analytics/index.ts"),c=n("./app/src/components/SuggestionsSettings/SuggestionsSettings.less"),d=n.n(c);const u=Object(i.forTemplate)("suggestions_settings"),p=function({context:e,onStopShowingSuggestions:t}){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,u("if-these-arent-useful")),r.a.createElement("button",{className:s()("button",d.a.stop),onClick:n=>{Object(l.track)("Suggestions",e,"Stop Showing Suggestions"),t()}},u("stop-showing-suggestions")))};var m=n("./app/scripts/view-models/member-state.js"),h=n.n(m),g=n("./app/scripts/views/lib/pop-over.js"),b=n.n(g);const f=Object(i.forNamespace)("view title");function v(e){return t=>{t.stopPropagation(),t.preventDefault();const n={elem:t.currentTarget,getViewTitle:()=>f("suggestions settings"),reactElement:r.a.createElement(p,{key:"suggestions-settings",context:e,onStopShowingSuggestions:()=>{h.a.setShowSuggestions(!1),b.a.popView()}})};b.a.contains(t.currentTarget)?b.a.pushView(n):b.a.toggle(n)}}},"./app/scripts/views/templates/action.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("action"),r=n("./app/scripts/views/templates/entity.js"),o=n("./app/scripts/views/templates/member_avatar.js"),s=n("./app/scripts/views/templates/action_footer.js"),l=n("./app/scripts/views/templates/action_appCreator.ts"),c=["attachmentPreview","comment","checkList"];e.exports=a.renderable((function(e,t,n){const{entities:d,saved:u,dateLastEdited:p,date:m,url:h,appCreator:g}=e,{member:b,showReactions:f,showInlineReactionButton:v,canLinkAppCreator:k}=t,{useEmbedly:y,useCommentUnfurl:C,usePreviews:j}=n;let w=!0;return a.div(".phenom-creator",(function(){return b?a.div(".member.js-show-mem-menu",{class:a.classify({"member-deactivated":b.isDeactivated||b.activityBlocked}),idmember:b.id},(()=>o(b))):a.span(".icon-lg.icon-member")})),a.div(".phenom-desc",(function(){for(const e of Array.from(d))Array.from(c).includes(e.type)&&(w=!1,a.span(".inline-spacer",(()=>a.text(" "))),a.span(".phenom-date.quiet",(function(){if(u&&(h?a.a(".date.js-hide-on-sending.js-highlight-link.past",{dt:m,href:h}):a.span(".date.js-hide-on-sending.past",{dt:m,href:h})),p)return a.span(".js-date-title.js-hide-on-sending.past",{dt:p},(function(){return a.text(" "),a.format("edited")}));g&&l({appCreator:g,canLinkAppCreator:k})}))),r(e,t,n);if(y&&a.div(".hide.embedly.js-embedly"),C&&a.div(".hide.unfurled-comment.comment-preview"),j)return a.div(".hide.previews.js-previews")})),f?a.div(".phenom-reactions",(function(){return a.div(".js-reaction-piles.reaction-piles-container",{class:a.classify({last:v,"reaction-piles-container-full":!v})}),s(e,t,i.extend(n,{needsDate:w}))})):s(e,t,i.extend(n,{needsDate:w}))}))},"./app/scripts/views/templates/action_appCreator.ts":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("action");e.exports=function(e){const{appCreator:t,canLinkAppCreator:n}=e,a=()=>{let e="";const i=()=>{let e="";return t.iconClass&&(e='<span class="app-creator-icon icon-sm '.concat(t.iconClass,'"></span>')),e+="<span>".concat(t.name,"</span>"),e};return e=t.idPlugin&&n?'<a class="quiet js-app-creator-link" href="#">'.concat(i(),"</a>"):i(),e};i.span((()=>{i.text(" "),i.raw("<span>".concat(i.l("via",{integrationName:a()},{raw:!0}),"</span>"))}))}},"./app/scripts/views/templates/action_footer.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("action"),a=n("./app/scripts/views/templates/action_appCreator.ts");e.exports=i.renderable((function(e,t,n){const{saved:r,dateLastEdited:o,date:s,url:l,appCreator:c}=e,{board:d,organization:u,canReply:p,canReplyAll:m,canDelete:h,canEdit:g,canAttachLink:b,canLinkAppCreator:f}=t,{showOptions:v,needsDate:k}=n;return i.div(".phenom-meta.quiet",(function(){if(k&&(r&&(l?i.a(".date.js-hide-on-sending.js-highlight-link.past",{dt:s,href:l}):i.span(".date.js-hide-on-sending.past",{dt:s,href:l})),o&&i.span(".js-date-title.js-hide-on-sending.past",{dt:o},(function(){return i.text(" "),i.format("edited")})),c&&a({appCreator:c,canLinkAppCreator:f})),i.span({class:i.classify({"js-spinner":!0,hide:r})},(function(){return i.format("sending-ellipsis"),i.raw("&nbsp;")})),d){const{boardPLevelAltText:e,boardPLevelIconClass:n}=t;i.text(" - "),i.format("on-board-name",{url:d.url,name:d.name,boardPLevelAltText:e,boardPLevelIconClass:n})}if(u){const{orgPLevelAltText:e,orgPLevelIconClass:n}=t;i.text(" - "),i.format("on-organization-name",{url:u.url,name:u.name,orgPLevelAltText:e,orgPLevelIconClass:n})}if(v)return i.span(".js-hide-on-sending.middle",(function(){let e=!1;const t=function(){return e?i.text(" - "):e=!0};return p&&(t(),i.a({href:"#",class:m?"js-reply-to-all-action":"js-reply-to-action"},(()=>i.format("reply")))),g&&(t(),i.a(".js-edit-action",{href:"#"},(()=>i.format("edit")))),b&&(t(),i.a(".js-attach-link",{href:"#"},(()=>i.format("attach link")))),h&&(t(),i.a(".js-confirm-delete-action",{href:"#"},(()=>i.format("delete")))),i.span(".edits-warning.quiet",(function(){return t(),i.format("you-have-unsaved-edits-on-this-field")}))}))}))}))},"./app/scripts/views/templates/attachment_thumb.js":function(e,t,n){const{makePreviewCachable:i}=n("./app/common/lib/util/preview.ts"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("attachment_thumb");e.exports=a.renderable((function({canReply:e,canUseViewer:t,date:n,edgeColor:r,editable:o,ext:s,imgSrc:l,isCover:c,isHidden:d,name:u,openIconClass:p,openText:m,plugin:h,previewClass:g,removeText:b,url:f,upsellEnabled:v}){const k={"attachment-thumbnail-preview":!0,"js-open-viewer":t,"attachment-thumbnail-preview-is-cover":c};if(d)return a.div;const y={};l&&(y["background-image"]=a.urlify(i(l))),r&&(y["background-color"]=r),a.a({href:f,class:a.classify(k),target:"_blank",title:u,style:a.stylify(y),rel:"noreferrer nofollow noopener"},(function(){if(h){let e="";return null==l&&(e="background-image: url(".concat(h.get("icon").url,");")),a.span(".attachment-thumbnail-preview-plugin",{style:e},(function(){if(o&&v)return a.span(".attachment-thumbnail-plugin-enable-link.js-show-power-up-suggestions-info",{title:a.l("see-more-with-power-up",{powerUpName:h.get("listing").name})},(function(){return a.icon("power-up"),a.format("get-power-up")}))}))}return g?a.span({class:["attachment-thumbnail-preview-service-logo",g].join(" ")}):l?void 0:s?a.span(".attachment-thumbnail-preview-ext",(()=>a.text(s))):a.span(".icon-lg.icon-attachment.attachment-thumbnail-preview-attachment-icon")}));a.p(".attachment-thumbnail-details",{class:a.classify({"js-open-viewer":t,"js-open-in-new-window":!t})},(function(){a.span(".attachment-thumbnail-name",(()=>a.text(u))),a.a(".attachment-thumbnail-details-title-action.dark-hover.js-attachment-action.js-direct-link",{href:f,target:"_blank",rel:"noreferrer nofollow noopener"},(()=>a.icon(p))),a.span(".u-block.quiet.attachment-thumbnail-details-title-options",(()=>function(){if(n&&a.span((()=>a.format("added",{date:n}))),e&&a.span((()=>a.a(".attachment-thumbnail-details-title-options-item.js-reply",{href:"#"},(()=>a.span(".attachment-thumbnail-details-options-item-text",(()=>a.format("comment"))))))),o)return a.span((()=>a.a(".attachment-thumbnail-details-title-options-item.dark-hover.js-confirm-delete",{href:"#"},(()=>a.span(".attachment-thumbnail-details-options-item-text",(()=>a.text(b))))))),a.span((()=>a.a(".attachment-thumbnail-details-title-options-item.dark-hover.js-edit",{href:"#"},(()=>a.span(".attachment-thumbnail-details-options-item-text",(()=>a.format("edit")))))))}())),a.span(".quiet.attachment-thumbnail-details-options",(function(){o&&(a.a(".attachment-thumbnail-details-options-item.dark-hover.hide.js-make-cover",{href:"#"},(function(){return a.icon("card-cover"),a.text(" "),a.span(".attachment-thumbnail-details-options-item-text",(()=>a.format("make-cover")))})),a.a(".attachment-thumbnail-details-options-item.dark-hover.hide.js-remove-cover",{href:"#"},(function(){return a.icon("card-cover"),a.text(" "),a.span(".attachment-thumbnail-details-options-item-text",(()=>a.format("remove-cover")))})))}))}))}))},"./app/scripts/views/templates/attachment_thumb_processing.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("attachment_thumb_processing");e.exports=i.renderable((e=>i.div(".attachment-thumbnail.attachment-thumbnail-processing.js-attachment-thumb-processing",(()=>(i.span(".spinner.small"),i.raw("&nbsp;"),i.format(null!=e&&e.isLoadingVersion?"loading-ellipsis":"processing-ellipsis"))))))},"./app/scripts/views/templates/card_attach_links.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_attach_links");e.exports=i.renderable((e=>i.div(".card-attach-link-list",(()=>(()=>{const t=[];for(const{url:n,text:a,domain:r,attached:o}of Array.from(e))t.push(i.div(".card-attach-link-list-item",{class:i.classify({attached:o})},(function(){return i.div(".card-attach-link-list-item-title",(function(){return a?i.text(a):i.format("link to domain",{domain:r})})),i.div(".card-attach-link-list-item-url.quiet",(()=>i.text(n))),o?i.div(".card-attach-link-list-item-attached.quiet",(()=>i.span(".icon-lg.icon-check"))):i.button(".card-attach-link-list-item-attach.js-attach",{"data-url":n,"data-text":a},(()=>i.format("attach")))})));return t})()))))},"./app/scripts/views/templates/card_copy.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_copy");e.exports=function(){return i.mustacheBlock("loading",(()=>i.div(".spinner.loading.js-loading-card-actions"))),i.mustacheBlockInverted("loading",(()=>i.form((function(){return i.label((()=>i.format("title"))),i.textarea(".js-autofocus",{name:"name"},(()=>i.text(i.mustacheVar("name")))),i.mustacheBlock("hasStuff",(function(){return i.label((()=>i.format("keep-ellipsis"))),i.mustacheBlock("hasChecklists",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepChecklists",type:"checkbox",name:"checklists",checked:!0}),i.label({for:"idKeepChecklists"},(()=>i.format("checklists-numchecklists",{numChecklists:i.mustacheVar("numChecklists")})))})))),i.mustacheBlock("hasLabels",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepLabels",type:"checkbox",name:"labels",checked:!0}),i.label({for:"idKeepLabels"},(()=>i.format("labels-numlabels",{numLabels:i.mustacheVar("numLabels")})))})))),i.mustacheBlock("hasMembers",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepMembers",type:"checkbox",name:"members",checked:!0}),i.label({for:"idKeepMembers"},(()=>i.format("members-nummembers",{numMembers:i.mustacheVar("numMembers")})))})))),i.mustacheBlock("hasAttachments",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepAttachments",type:"checkbox",name:"attachments",checked:!0}),i.label({for:"idKeepAttachments"},(()=>i.format("attachments-numattachments",{numAttachments:i.mustacheVar("numAttachments")})))})))),i.mustacheBlock("hasComments",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepComments",type:"checkbox",name:"comments",checked:!0}),i.label({for:"idKeepComments"},(()=>i.format("comments-numcomments",{numComments:i.mustacheVar("numComments")})))})))),i.mustacheBlock("hasStickers",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepStickers",type:"checkbox",name:"stickers",checked:!0}),i.label({for:"idKeepStickers"},(()=>i.format("stickers-numstickers",{numStickers:i.mustacheVar("numStickers")})))}))))})),i.label((()=>i.format("copy-to-ellipsis"))),i.mustachePartial(n("./app/scripts/views/templates/move_card_controls.js")),i.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:i.l("create-card")})}))))}},"./app/scripts/views/templates/card_detail.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_detail"),a=n("./app/scripts/views/templates/comment_options.js"),r=n("./app/scripts/views/templates/member_avatar.js"),{seesVersionedVariation:o}=n("./packages/feature-flag-client/index.ts"),s=n("./app/scripts/views/templates/card_detail_sidebar_button.js"),l=i.renderable((function(e){const{editable:t,isLoggedIn:n,isOnBoardTemplate:a,isSubscribed:r,isTemplate:l,isMapCore:c}=e,d=o("ecosystem.timeline-version","stable");return i.div(".window-sidebar",(function(){return t&&(i.div(".window-module.suggested-actions-module.js-suggested-actions.hide",(function(){i.div(".suggested-actions-settings.js-suggested-actions-settings",(()=>i.icon("gear"))),i.h3(".mod-no-top-margin",(()=>i.format("suggested"))),i.div(".u-clearfix",(()=>s("js-join","member","join")))})),i.div(".window-module.u-clearfix",(function(){return i.h3(".mod-no-top-margin.js-sidebar-add-heading",(function(){return l?i.format("add-to-template"):i.format("add-to-card")})),i.div(".u-clearfix",(function(){a||s("js-change-card-members","member","members"),s("js-edit-labels","label","labels"),s("js-add-checklist-menu","checklist","checklist"),d?i.div(".js-date-range-picker"):s("js-add-due-date","clock","due-date"),s("js-attach","attachment","attachment"),c&&s("js-edit-location","location","location",!1),s("js-card-cover-chooser","card-cover","cover")}))}))),i.div(".js-plugin-buttons"),t&&i.div(".js-butler-card-buttons"),i.div(".window-module.u-clearfix",(function(){return i.h3(".mod-no-top-margin",(()=>i.format("actions"))),n&&i.div(".u-clearfix",(function(){return t?(s("js-move-card","move","move"),s("js-copy-card","copy","copy"),s("js-convert-to-template.hide","template-card","make-template"),i.span(".js-template-sidebar-button.hide"),a&&!r||i.span(".js-subscribe-sidebar-button.hide"),i.span(".js-vote-sidebar-button.hide"),i.hr(),s("js-archive-card","archive","archive"),s("js-unarchive-card","refresh","send-to-board"),s("js-delete-card.hide.negate","remove","delete")):(s("js-copy-card","card","copy"),a||i.a(".js-subscribe-sidebar-button.hide",{href:"#"}),i.a(".js-vote-sidebar-button.hide",{href:"#"}))})),s("js-more-menu","share","share")}))}))}));e.exports=i.renderable((function(e){const{editable:t,canComment:n,me:s,loading:c,canToggleDetails:d,subscribeOnComment:u,isOnBoardTemplate:p,isSubscribed:m,cardCoverIsAttachment:h,fullCoverCardBackEnabled:g}=e,b=o("ecosystem.timeline-version","stable");return i.div(".window-cover.hide.js-card-cover-box.js-stickers-area",{class:i.classify({"js-open-card-cover-in-viewer":h})},(function(){return i.div(".window-cover-stickers.js-display-stickers"),i.div(".window-cover-menu.hide",(function(){return g?i.div(".full-cover-card-title-and-button",(function(){return i.div(".window-title.js-full-cover-card-detail-title.hide",(function(){i.h2(".card-detail-title-assist.js-title-helper",{dir:"auto"});return i.textarea({class:i.classify({"mod-card-back-title":!0,"js-card-detail-title-input":!0,"full-cover-card-detail-title":!0}),disabled:!t,dir:"auto"})})),i.a(".window-cover-menu-button.js-card-cover-chooser",{href:"#"},(function(){return i.icon("card-cover"),i.text(" "),i.format("cover")}))})):i.a(".window-cover-menu-button.js-card-cover-chooser",{href:"#"},(function(){return i.icon("card-cover"),i.text(" "),i.format("cover")}))}))})),i.div(".js-card-banner"),i.div(".window-header.js-card-detail-header",(function(){i.span(".window-header-icon.icon-lg.icon-card.js-card-header-icon");if(i.div({class:i.classify({"window-title":!0})},(function(){i.h2(".card-detail-title-assist.js-title-helper",{dir:"auto"});return i.textarea({class:i.classify({"mod-card-back-title":!0,"js-card-detail-title-input":!0}),disabled:!t,dir:"auto"})})),i.div(".window-header-inline-content.quiet.js-current-list"),!p||m)return i.div(".window-header-inline-content.hide.js-subscribed-indicator-header",(()=>i.icon("subscribe")))})),i.div(".window-main-col",(function(){if(i.div(".card-detail-data.u-gutter",(function(){return i.div(".card-detail-item.js-card-detail-list.hide",(function(){return i.h3(".card-detail-item-header",(()=>i.format("list"))),i.div(".card-detail-list-badge",(()=>i.button(".button-link.card-detail-badge-list-button.js-card-detail-list-badge-button",(()=>i.span(".js-list-text")))))})),i.div(".card-detail-item.u-clearfix.hide.js-card-detail-members",(function(){return i.h3(".card-detail-item-header.mod-no-top-margin",(()=>i.format("members"))),i.div(".js-card-detail-members-list")})),i.div(".card-detail-item.card-detail-item-labels.u-clearfix.hide.js-card-detail-labels",(function(){return i.h3(".card-detail-item-header",(()=>i.format("labels"))),i.div(".u-clearfix.js-card-detail-labels-list")})),b&&i.div(".card-detail-item.hide.js-card-detail-start-date",(function(){i.h3(".card-detail-item-header",(function(){i.format("start-date")})),i.div(".card-detail-start-date-badge.js-card-detail-start-date-badge",(function(){return i.div(".card-detail-badge-start-date-react-container")}))})),i.div(".card-detail-item.hide.js-card-detail-due-date",(function(){return i.h3(".card-detail-item-header",(()=>i.format("due-date"))),i.div(".card-detail-due-date-badge.js-card-detail-due-date-badge",(function(){return i.a(".card-detail-badge-due-date-complete-box.js-card-detail-due-date-badge-complete",{href:"#",role:"button"},(()=>i.span(".card-detail-badge-due-date-complete-icon"))),b?i.div(".card-detail-badge-due-date-react-container"):i.button(".button-link.card-detail-badge-due-date-button",(function(){return i.span(".js-date-text.card-detail-due-date-text"),i.span(".js-due-status.card-detail-due-status-lozenge")}))}))})),i.div(".card-detail-item.hide.js-card-detail-votes",(function(){return i.h3(".card-detail-item-header",(()=>i.format("votes"))),i.a(".card-detail-badge.is-clickable.js-card-detail-votes-badge.js-show-votes",{href:"#"})})),i.div(".card-detail-item.hide.js-card-detail-age",(function(){return i.h3(".card-detail-item-header",(()=>i.format("last-updated"))),i.div(".card-detail-badge.date.mod-last-updated.js-card-detail-age-badge.past")})),i.div(".plugin-detail-badges.js-plugin-badges"),i.div(".u-clearfix")})),i.div(".js-fill-card-detail-desc"),i.div(".window-module.u-clearfix.js-location-section.hide",(function(){return i.div(".window-module-title.window-module-title-no-divider",(function(){return i.span(".window-module-title-icon.icon-lg.icon-location"),i.h3(".u-inline-block",(()=>i.format("location")))})),i.div(".u-gutter",(()=>i.div(".u-clearfix.js-card-location")))})),i.div(".window-module.u-clearfix.js-custom-fields-section.hide",(function(){return i.div(".window-module-title.window-module-title-no-divider",(function(){return i.span(".window-module-title-icon.icon-lg.icon-custom-field"),i.h3(".u-inline-block",(()=>i.format("custom-fields")))})),i.div(".u-gutter",(()=>i.div(".u-clearfix.js-custom-field-detail-badges.custom-field-detail-badges")))})),i.div(".js-plugin-card-back-sections"),i.div(".js-plugin-sections"),i.div(".js-plugin-suggestion-sections"),i.div(".window-module.js-trello-attachments-section.trello-attachments-section.u-clearfix.hide",(function(){return i.div(".window-module-title.window-module-title-no-divider",(function(){return i.span(".window-module-title-icon.icon-lg.icon-board"),i.h3(".u-inline-block",(()=>i.format("trello attachments")))})),i.div(".u-gutter",(function(){if(i.div(".u-clearfix.js-trello-attachments-list"),i.p(".js-show-fewer-trello-attachments.hide",(()=>i.a(".quiet-button.js-view-some-trello-attachments",{href:"#"},(()=>i.format("show-fewer-trello-attachments"))))),i.p(".js-show-more-trello-attachments.hide",(()=>i.a(".quiet-button.js-view-all-trello-attachments",{href:"#"}))),t)return i.p((()=>i.a(".nch-button.mt-4.mb-4.js-attach-trello-attachment",{href:"#"},(()=>i.format("add-trello-attachment")))))}))})),i.div(".window-module.js-attachments-section.u-clearfix.hide",(function(){return i.div(".window-module-title.window-module-title-no-divider",(function(){return i.span(".window-module-title-icon.icon-lg.icon-attachment"),i.h3(".u-inline-block",(()=>i.format("attachments")))})),i.div(".u-gutter",(function(){if(i.div(".u-clearfix.js-attachment-list"),i.p(".js-show-fewer-attachments.hide",(()=>i.a(".quiet-button.js-view-some-attachments",{href:"#"},(()=>i.format("show-fewer-attachments"))))),i.p(".js-show-more-attachments.hide",(()=>i.a(".quiet-button.js-view-all-attachments",{href:"#"}))),t)return i.p(".js-show-with-attachments.hide",(()=>i.a(".nch-button.mt-4.mb-4.js-attach",{href:"#"},(()=>i.format("add-an-attachment")))))}))})),i.div(".checklist-list.window-module.js-checklist-list.js-no-higher-edits"),!p)return i.div(".window-module",(function(){return i.div(".window-module-title.window-module-title-no-divider.card-detail-activity",(function(){if(i.span(".window-module-title-icon.icon-lg.icon-activity"),i.h3((()=>i.format("activity"))),d)return i.div(".window-module-title-options",(function(){return i.span(".editing-members-comments.js-editing-members-comments.hide"),i.a(".subtle.button.hide.js-show-details",{href:"#"},(()=>i.format("show-details"))),i.a(".subtle.button.hide.js-hide-details",{href:"#"},(()=>i.format("hide-details")))}))})),n&&i.div(".new-comment.js-new-comment.mod-card-back",(function(){return s&&i.div(".member.member-no-menu",(()=>r(s))),i.form((()=>i.div(".comment-frame",(()=>i.div(".comment-box",(function(){return i.textarea(".comment-box-input.js-new-comment-input",{placeholder:i.l("write-a-comment-ellipsis"),dir:"auto"}),i.div(".comment-controls.u-clearfix",(function(){return i.input(".nch-button.nch-button--primary.confirm.mod-no-top-bottom-margin.js-add-comment",{disabled:"disabled",type:"submit",value:i.l("save")}),i.span({class:i.classify({"comment-subscribe":!0,"is-clickable":!0,"is-subscribed":u,"js-comment-subscribe":!0}),"aria-label":i.l("watch-card-for-updates")},(function(){return i.span(".comment-subscribe-box",(()=>i.span(".comment-subscribe-icon"))),i.div(".comment-subscribe-description",(()=>i.format("watch")))}))})),a(t)})))))),i.div(".comment-too-long-warning",(function(){return i.p((()=>i.format("your-comment-is-too-long-you-can-add-it-as-a-text-attachment-or-truncate-it"))),i.input(".nch-button.nch-button--primary.js-attach-comment",{type:"submit",value:i.l("add-as-an-attachment")}),i.input(".js-truncate-comment",{type:"submit",value:i.l("truncate")})}))})),i.div(".js-list-actions.mod-card-back"),c&&i.div(".spinner.loading.js-loading-card-actions"),i.p(".u-bottom",(()=>i.a(".show-more.hide.js-show-all-actions",{href:"#"},(()=>i.format("show-all-actions-ellipsis")))))}))})),l(e),i.p(".dropzone",(()=>i.format("drop-files-to-upload"))),i.p(".dropzone-limited.attachments-per-card",(()=>i.format("too-many-attachments-on-card"))),i.p(".dropzone-limited.attachments-per-board",(()=>i.format("too-many-attachments-on-board"))),i.p(".dropzone-restricted.attachments-restricted",(()=>i.format("attachments-restricted")))}))},"./app/scripts/views/templates/card_detail_add_button.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_detail_add_button");e.exports=i.renderable((function({klass:e}){const t={"card-detail-item-add-button":!0};return t[e]=!0,i.a({class:i.classify(t)},(()=>i.icon("add")))}))},"./app/scripts/views/templates/card_detail_list.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_detail_list");e.exports=i.renderable((({editable:e,listName:t,showBoardName:n,boardName:a,boardUrl:r})=>i.p(".u-inline-block.u-bottom",(function(){const o=i.classify({"js-open-move-from-header":e,disabled:!e});return n?i.format("board-in-list",{boardClassName:"",boardName:a,boardUrl:r,listClassName:o,listName:t}):i.format("in-list",{className:o,listName:t})}))))},"./app/scripts/views/templates/card_detail_more_menu.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_detail_more_menu");e.exports=function(){return i.ul(".pop-over-list",(function(){if(i.li((()=>i.a(".js-print",{href:"#"},(()=>i.format("print-ellipsis"))))),i.mustacheVar("isLoggedIn"))return i.li((()=>i.a(".js-export-json",{href:i.mustacheVar("jsonURL")},(()=>i.format("export-json")))))})),i.mustachePartial(n("./app/scripts/views/templates/card_menu_meta.js"))}},"./app/scripts/views/templates/card_detail_sidebar_button.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_detail");e.exports=i.renderable(((e,t,n,a)=>i.a(".button-link.".concat(e),{href:"#",title:i.l(n)},(function(){return i.icon(t,{class:i.classify({"icon-custom":a,hide:e.includes("add-button-link")})}),i.span(".js-sidebar-action-text",(()=>i.format(n)))}))))},"./app/scripts/views/templates/card_detail_toggle_button.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_detail_toggle_button");e.exports=i.renderable((({isOn:e,selectorOn:t,selectorOff:n,title:a,text:r,icon:o,disabled:s})=>{if(s)return;const l={"button-link toggle-button":!0,"is-on":e,[n]:!e,[t]:e};i.a({class:i.classify(l),title:i.l(a||r),href:"#"},(()=>{i.icon(o),i.span((()=>i.format(r))),i.span(".on",(()=>i.icon("check",{class:"light"})))}))}))},"./app/scripts/views/templates/card_menu_meta.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_menu_meta");e.exports=function(){return i.hr(),i.div((function(){return i.div((function(){return i.label((function(){return i.format("link-to-this-card"),i.text(" "),i.icon(i.mustacheVar("pLevelClass"),{title:i.mustacheVar("pLevelAltText")})})),i.input(".js-short-url.js-autofocus",{type:"text",readonly:"readonly",value:i.mustacheVar("shortUrl")}),i.div(".js-qr-code")})),i.div((function(){return i.label((()=>i.format("embed-this-card"))),i.input(".js-embed",{type:"text",readonly:"readonly",value:i.mustacheVar("embed")})})),i.mustacheBlock("email",(()=>i.mustacheBlock("__ed",(()=>i.div((function(){return i.label((()=>i.format("email-for-this-card"))),i.input(".js-email",{type:"text",readonly:"readonly",value:i.mustacheVar("email")}),i.p(".quiet",{stlye:"margin: 0 4px;"},(()=>i.l("emails-sent-to-this-address-will-appear-as-a-comment-by-you-on-the-card")))})))))),i.hr(),i.div(".quiet",(function(){return i.mustacheBlock("idShort",(()=>i.p({style:"display: inline-block; margin: 0 8px 0 0;"},(function(){return i.format("card-idshort",{idShort:i.mustacheVar("idShort")}),i.text(" ")})))),i.p({style:"display: inline-block; margin: 0;"},(function(){return i.mustacheBlock("dateAdded",(()=>i.format("added",{dateAdded:i.mustacheVar("dateAdded")}))),i.mustacheBlock("__ed",(function(){return i.text(" - "),i.a(".js-delete",{href:"#"},(()=>i.format("delete")))}))}))}))}))}},"./app/scripts/views/templates/checklist.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("checklist"),{featureFlagClient:a}=n("./packages/feature-flag-client/index.ts");e.exports=()=>(i.div({class:"window-module-title window-module-title-no-divider u-clearfix".concat(i.mustacheBlock("__ed",(()=>{})))},(()=>{a.get("treehouse.web.checklist-toggles",!1)?i.span(".window-module-title-icon.icon-lg.toggle-checklist-button.js-toggle-checklist-state"):i.span(".window-module-title-icon.icon-lg.icon-checklist"),i.mustacheBlock("__ed",(()=>{i.div(".editable.non-empty.checklist-title.js-checklist-title",{attr:"name"},(()=>{i.h3(".current.hide-on-edit",{dir:"auto"},(()=>{i.text(i.mustacheVar("name"))})),i.div(".window-module-title-options",(()=>{i.mustacheBlock("__ed",(()=>{i.a(".nch-button.hide.hide-on-edit.js-show-checked-items",{href:"#",style:"margin: 0 8px 0 0;"}),i.a(".nch-button.hide.hide-on-edit.js-hide-checked-items",{href:"#",style:"margin: 0 8px 0 0;"},(()=>{i.format("hide-checked-items")})),i.a(".nch-button.hide-on-edit.js-confirm-delete",{href:"#",style:"margin: 0"},(()=>{i.format("delete")}))}))})),i.div(".edit.edit-heavy",(()=>{i.textarea(".field.full.single-line.checklist-title-input",{dir:"auto"}),i.div(".checklist-title-edit-controls.u-clearfix",(()=>{i.input(".nch-button.nch-button--primary.confirm.mod-submit-edit.js-save-checklist-title",{type:"submit",value:i.l("save")}),i.a(".icon-lg.icon-close.dark-hover.cancel.js-cancel-checklist-title",{href:"#"})}))})),i.p(".edits-warning.quiet",(()=>{i.format("you-have-unsaved-edits-on-this-field"),i.text(" "),i.a(".js-view-edits",{href:"#"},(()=>{i.format("view-edits")})),i.text(" - "),i.a(".js-discard-edits",{href:"#"},(()=>{i.format("discard")}))}))}))})),i.mustacheBlockInverted("__ed",(()=>{i.h3((()=>{i.text(i.mustacheVar("name"))}))}))})),i.div(".checklist-progress",(()=>{i.span(".checklist-progress-percentage.js-checklist-progress-percent",(()=>{i.text("0%")})),i.div(".checklist-progress-bar",(()=>{i.div(".checklist-progress-bar-current.js-checklist-progress-bar")})),i.span(".checklist-completed-text.hide.quiet.js-completed-message",(()=>{i.format("everything-in-this-checklist-is-complete")}))})),i.div(".js-checklist-banners"),i.div(".checklist-items-list.js-checklist-items-list.js-no-higher-edits"),i.mustacheBlock("__ed",(()=>{i.div(".editable.checklist-new-item.u-gutter.js-new-checklist-item",{attr:"newItem"},(()=>{i.button(".js-new-checklist-item-button.nch-button.mt-4.hide-on-edit",(()=>i.l("add-an-item"))),i.textarea(".edit.field.checklist-new-item-text.js-new-checklist-item-input",{placeholder:i.l("add-an-item")}),i.div(".checklist-add-controls.u-clearfix",(()=>{i.input(".nch-button.nch-button--primary.confirm.mod-submit-edit.js-add-checklist-item",{type:"submit",value:i.l("add")}),i.a(".icon-lg.icon-close.dark-hover.cancel.js-cancel-checklist-item",{href:"#"}),i.div(".checklist-add-controls-spacer"),i.a(".checklist-add-controls-option.options-menu.dark-hover.js-assign.hide",{href:"#"}),i.a(".checklist-add-controls-option.options-menu.dark-hover.js-due.checklist-add-controls-due.hide",{href:"#"}),i.a(".checklist-add-controls-option.options-menu.dark-hover.js-open-mention-selector",{href:"#"},(()=>{i.span(".icon-sm.icon-mention")})),i.a(".checklist-add-controls-option.options-menu.dark-hover.js-open-emoji-selector",{href:"#"},(()=>{i.span(".icon-sm.icon-emoji")}))}))})),i.div(".checklist-limit-warning.u-gutter.js-new-checklist-item-limit-exceeded.hide",(()=>{i.span(".checklist-limit-warning-text",(()=>{i.format("too-many-check-items")}))}))})))},"./app/scripts/views/templates/checklist_add_menu.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("checklist_add_menu");e.exports=i.renderable((function({canCopy:e,canAddChecklistCard:t,canAddChecklistBoard:n,suggestions:a}){return a.length>0&&i.div(".pop-over-section.js-suggestions",(function(){i.h4((function(){return i.icon("sparkle"),i.format("suggested")})),a.forEach((e=>{i.a(".button-link.js-suggested-checklist",{"data-id":e.id,"data-name":e.name,href:"#"},(function(){return i.icon("checklist"),i.text(e.name)}))}))})),i.form((function(){const a=t&&n;if(a)return i.label({for:"id-checklist"},(()=>i.format("title"))),i.input(".js-checklist-title.js-autofocus",{type:"text",id:"id-checklist",value:i.l("default-checklist-name"),"data-default":i.l("default-checklist-name"),dir:"auto"}),e&&i.span((()=>(i.label({for:"js-checklist-copy-source"},(()=>i.format("copy-items-from-ellipsis"))),i.select(".js-checklist-copy-source.js-uninitialized",(()=>i.option({value:"",selected:!0},(()=>i.format("none")))))))),i.input(".nch-button.nch-button--primary.wide.confirm.js-add-checklist",{type:"submit",value:i.l("add")});i.span(".js-checklist-limit-exeeded.error",{class:i.classify({hide:a})},(()=>i.format(t?"board-limit-exceeded":"card-limit-exceeded")))}))}))},"./app/scripts/views/templates/comment-unfurl-preview.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/lib/plugins/plugin-validators.js"),r=n("./app/scripts/views/plugin/plugin-view.js"),o=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),s=n("./app/scripts/views/internal/teacup-with-helpers.js")("plugin_section"),{sendPluginUIEvent:l}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),c=s.renderable((function({icon:e,text:t,image:n,url:i,subtext:r,thumbnail:l,idPlugin:c,actions:u}){const p=o.fromId(c);s.div(".comment-unfurl.js-comment-unfurl",(function(){return s.div(".comment-unfurl-thumb",{style:s.stylify({"background-image":l?s.urlify(l):(null!=n?n.url:void 0)?s.urlify(n.url):e?s.urlify(e):a.isValidUrlForCSSImage(d(null!=p?p.icon:void 0,(e=>e.url)))?s.urlify(p.icon.url):void 0,"background-position-y":"top"===(null!=n?n.y:void 0)?"0px":void 0,"background-position-x":"left"===(null!=n?n.x:void 0)?"0px":void 0,"background-size":(()=>{if(!l&&!(null!=n?n.url:void 0))return"auto 40px";switch(null!=n?n.size:void 0){case"contain":return"contain";case"original":return"inherit";default:return"cover"}})()})}),s.div(".comment-unfurl-meta",(function(){return s.span(".comment-unfurl-title",(()=>s.text(t))),s.span(".comment-unfurl-subtext",{title:r},(()=>s.text(r))),s.div(".comment-unfurl-media",(function(){return s.div(".comment-unfurl-plugin-icon",(function(){return a.isValidUrlForImage(d(null!=p?p.icon:void 0,(e=>e.url)))&&s.img({src:p.icon.url}),s.span(".comment-unfurl-plugin-name",(()=>s.text(o.fromId(c).name)))})),s.div(".comment-unfurl-button-block",(()=>null!=u?u.map((function(e,n){return e.url?s.a({href:e.url,title:t,rel:"noopener noreferrer",target:"_blank"},(()=>e.text)):s.button(".js-comment-preview-button",{"data-index":n,title:e.text},e.text)})):void 0))}))}))}))}));function d(e,t){return null!=e?t(e):void 0}e.exports=function(){class e extends r{static initClass(){this.prototype.events={"click .js-comment-unfurl":"clickCommentUnfurl","click .js-comment-preview-button":"executeActionCallback"}}constructor(e){super(e),this.render=this.render.bind(this)}initialize({commentUnfurl:e}){return this.commentUnfurl=e,this.retain(this.commentUnfurl)}render(){return this.$el.html(c(this.commentUnfurl)),this}clickCommentUnfurl(e){return i.isFunction(this.commentUnfurl.callback)?(e.preventDefault(),this.commentUnfurl.callback({el:e.currentTarget})):"A"!==e.target.tagName?window.open(this.commentUnfurl.url):void 0}executeActionCallback(e){e.stopPropagation();const t=parseInt(this.$(e.currentTarget).attr("data-index"),10),n=this.commentUnfurl.actions[t];if(l(this.commentUnfurl.idPlugin,{action:"clicked",actionSubject:"button",source:"cardDetailScreen",actionSubjectId:"unfurlActionButton",objectType:"powerUp",objectId:this.commentUnfurl.idPlugin}),null!=n.callback)return e.preventDefault(),n.callback({el:e.currentTarget})}}return e.initClass(),e}()},"./app/scripts/views/templates/comment_edit_controls.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("comment_edit_controls");e.exports=function(){return i.div(".comment-controls.u-clearfix",(function(){return i.input(".nch-button.nch-button--primary.confirm.mod-no-top-bottom-margin.js-save-edit",{type:"submit",value:i.l("save"),tabindex:"2"}),i.a(".js-discard-comment-edits.icon-lg.icon-close.dark-hover.cancel",{href:"#"})})),i.div(".comment-controls-errors.u-clearfix",(function(){return i.div(".js-too-long-warning.hide",(()=>i.p((()=>i.format("your-comment-is-too-long"))))),i.div(".js-is-empty-warning.hide",(()=>i.p((()=>i.format("must-have-at-least-one-character")))))}))}},"./app/scripts/views/templates/comment_options.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("comment_options");e.exports=i.renderable((e=>i.div(".comment-box-options",(function(){return e&&i.a(".comment-box-options-item.js-comment-add-attachment",{href:"#",title:i.l("add-an-attachment-ellipsis")},(()=>i.icon("attachment"))),i.a(".comment-box-options-item.js-comment-mention-member",{href:"#",title:i.l("mention-a-member-ellipsis")},(()=>i.icon("mention"))),i.a(".comment-box-options-item.js-comment-add-emoji",{href:"#",title:i.l("add-emoji-ellipsis")},(()=>i.icon("emoji"))),i.a(".comment-box-options-item.js-comment-add-card",{href:"#",title:i.l("add-card-ellipsis")},(()=>i.icon("card")))}))))},"./app/scripts/views/templates/confirm.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("confirm");e.exports=function(){return i.p((function(){return i.mustacheVar("html")?i.raw(i.mustacheVar("html")):i.text(i.mustacheVar("text"))})),i.input(".js-confirm.full",{type:"submit",class:i.mustacheVar("confirmBtnClass"),value:i.mustacheVar("confirmText"),"data-test-id":i.mustacheVar("confirmBtnTestId")}),i.mustacheBlock("cancelText",(()=>i.input(".js-cancel.full",{type:"submit",value:i.mustacheVar("cancelText")})))}},"./app/scripts/views/templates/date_editor.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("date_picker");e.exports=i.renderable((function({canRemove:e}){return i.div(".datepicker-select.u-clearfix",(function(){return i.div(".datepicker-select-date",(()=>i.label(".datepicker-select-label",(function(){return i.format("date"),i.input(".datepicker-select-input.js-dpicker-date-input.js-autofocus",{type:"text",placeholder:i.l("enter-date"),tabindex:101})})))),i.div(".datepicker-select-time",(()=>i.label(".datepicker-select-label",(function(){return i.format("time"),i.input(".datepicker-select-input.js-dpicker-time-input",{type:"text",placeholder:i.l("enter-time"),tabindex:102})}))))})),i.div(".pickers.js-dpicker-cal"),i.div(".datepicker-confirm-btns",(function(){if(i.input(".nch-button.nch-button--primary.wide.confirm",{type:"submit",value:i.l("save"),tabindex:103}),e)return i.button(".nch-button.nch-button--danger.remove-date.js-remove-date",{type:"button",tabindex:104},(()=>i.format("remove")))}))}))},"./app/scripts/views/templates/date_picker.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("date_picker");e.exports=i.renderable((function({upsellEnabled:e,canChangePowerUps:t,canEnableAdditionalPowerUps:n,customReminderSettings:a,selectedReminderSetting:r}){return i.div(".datepicker-select.u-clearfix",(function(){return i.div(".datepicker-select-date",(()=>i.label(".datepicker-select-label",(function(){return i.format("date"),i.input(".datepicker-select-input.js-dpicker-date-input.js-autofocus",{type:"text",placeholder:i.l("enter-date"),tabindex:101})})))),i.div(".datepicker-select-time",(()=>i.label(".datepicker-select-label",(function(){return i.format("time"),i.input(".datepicker-select-input.js-dpicker-time-input",{type:"text",placeholder:i.l("enter-time"),tabindex:102})}))))})),i.div(".pickers.js-dpicker-cal"),a&&(i.label((()=>i.format("set-reminder"))),i.select(".js-custom-reminder",(()=>(()=>{const e=[];for(const t of Array.from(a)){const n=t.value===r;e.push(i.optionSelected(n,{value:t.value},(()=>i.text(t.text))))}return e})())),i.div(".reminder-clarification",(()=>i.format("reminder-clarification")))),i.div(".datepicker-confirm-btns",(function(){return i.input(".nch-button.nch-button--primary.wide.confirm",{type:"submit",value:i.l("save"),tabindex:103}),i.button(".nch-button.nch-button--danger.remove-date.js-remove-date",{type:"button",tabindex:104},(()=>i.format("remove")))})),i.div(".js-enable-cal.hide",(function(){return i.hr(),n?(i.p((()=>i.a(".quiet-button.mod-with-image.js-enable-calendar-powerup",{href:"#"},(()=>i.icon("power-up","enable-the-calendar-power-up",{class:"quiet-button-icon"}))))),i.p(".u-bottom.quiet",(()=>i.format("you-ll-get-a-calendar-view-of-your-cards-and-an-ical-feed-woo")))):e?i.p(".u-bottom.quiet",(function(){return i.format("upgrade-to-business-class-to-enable-the-calendar-power-up"),i.text(" "),i.format("you-ll-get-a-calendar-view-of-your-cards-and-an-ical-feed-woo")})):void 0})),i.div(".js-cal-enabled.hide",(function(){return i.hr(),i.p(".helper",(function(){return t?i.format("click-the-calendar-button-in-the-board-header-to-open-the-calendar-to-change-calendar-settings-click-power-ups-in-the-board-menu"):i.format("click-the-calendar-button-in-the-board-header-to-open-the-calendar")}))}))}))},"./app/scripts/views/templates/description.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("description");e.exports=i.renderable((({editable:e,isCardDesc:t,placeholderKey:n,isAdmin:a,isTemplate:r})=>i.div(".window-module",(function(){return i.div(".window-module-title.window-module-title-no-divider.description-title",(function(){if(i.span(".icon-description.icon-lg.window-module-title-icon"),i.h3(".u-inline-block",(()=>i.format("description"))),e)return i.div({class:i.classify({editable:e}),attr:"desc"},(function(){return i.a(".nch-button.ml-4.hide-on-edit.js-show-with-desc.js-edit-desc.js-edit-desc-button",{href:"#"},(()=>i.format("edit"))),i.span(".editing-members-description.js-editing-members-description.hide")}))})),i.div(".u-gutter",(()=>i.div({class:i.classify({editable:e}),attr:"desc"},(()=>i.div(".description-content.js-desc-content",(function(){if(i.div(".description-content-fade-button",(()=>i.span(".description-content-fade-button-text",(()=>i.format("show-full-description"))))),i.div(".current.markeddown.hide-on-edit.js-desc.js-show-with-desc.hide",{dir:"auto"}),e||!r||t||a||i.div(".description-content-no-edit.js-hide-with-desc",(()=>i.format(n))),e)return i.p(".u-bottom.js-hide-with-desc",(()=>i.a({class:i.classify({"description-fake-text-area hide-on-edit js-edit-desc  js-hide-with-draft":!0,large:!t}),href:"#"},(()=>i.format(n))))),i.div(".description-edit.edit",(function(){return i.a(".helper.nch-button.js-format-help",{href:"#"},(()=>i.format("formatting-help"))),i.textarea(".field.field-autosave.js-description-draft.description",{placeholder:i.l(n)})})),i.p(".edits-warning.quiet",(function(){return i.format("you-have-unsaved-edits-on-this-field"),i.text(" "),i.a(".js-view-edits",{href:"#"},(()=>i.format("view-edits"))),i.text(" - "),i.a(".js-discard-edits",{href:"#"},(()=>i.format("discard")))})),i.p(".edits-error.error",(()=>i.format("edit-not-saved")))}))))))}))))},"./app/scripts/views/templates/edit_attachment.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("edit_attachment");e.exports=i.renderable((({serviceKey:e,url:t,name:n})=>i.form((function(){return"other"===e&&i.label((function(){return i.format("attachment-url"),i.input(".js-attachment-url",{type:"text",value:t})})),i.label((function(){return"other"===e?i.format("attachment-name-optional"):i.format("attachment-name"),i.input(".js-attachment-name.js-autofocus",{type:"text",value:n})})),i.input(".js-edit-attachment.wide.nch-button.nch-button--primary",{style:"margin: 0;",type:"submit",value:i.l("update-attachment")}),i.div(".hide.save-attachment-container")}))))},"./app/scripts/views/templates/edit_controls.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("edit_controls");e.exports=i.renderable((()=>i.div(".edit-controls.u-clearfix",(function(){return i.input(".nch-button.nch-button--primary.confirm.mod-submit-edit.js-save-edit",{type:"submit",value:i.l("save")}),i.a(".icon-lg.icon-close.dark-hover.cancel.js-cancel-edit",{href:"#"})}))))},"./app/scripts/views/templates/edit_in_progress.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")();e.exports=i.renderable((({members:e})=>(()=>{const t=[];for(const{avatarUrl:n,viewTitle:a,initials:r,icon:o}of Array.from(e))t.push(i.span(".edit-in-progress",(function(){if(i.span(".inline-member",(function(){const e=a;return n?i.img(".inline-member-av",{src:[n,"30.png"].join("/"),alt:e,title:e}):i.span(".initials",{title:e},(()=>i.text(r)))})),o)return i.icon(o,{class:"icon"})})));return t})()))},"./app/scripts/views/templates/embedly.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("embedly");e.exports=()=>i.div({class:"embed embed-".concat(i.mustacheVar("type")," embed-provider-").concat(i.mustacheVar("provider_name"))},(function(){return i.mustacheBlockInverted("type_photo",(function(){return i.mustacheBlock("requireHttps",(()=>i.raw(i.mustacheVar("htmlHttps")))),i.mustacheBlockInverted("requireHttps",(()=>i.raw(i.mustacheVar("html"))))})),i.mustacheBlock("type_photo",(()=>i.a({href:i.mustacheVar("originalUrl"),target:"_blank"},(()=>i.img({src:i.mustacheVar("url")})))))}))},"./app/scripts/views/templates/entity.js":function(e,t,n){const{makePreviewCachable:i}=n("./app/common/lib/util/preview.ts"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("entity"),r=n("./app/scripts/views/templates/comment_edit_controls.js"),o=n("./app/scripts/views/templates/comment_options.js"),s=n("./app/scripts/views/attachment/helpers.js");e.exports=a.renderable((function(e,t,n){let l,c,d,u,p,m,h,g,b,f,v,k,y,C,j,w,x,_,E,S;const{type:O,text:T}=e;switch(O){case"text":case"list":case"checklist":case"plugin":case"date":return a.text(T);case"card":return({url:b,nameHtml:f}=e),f?a.span(".js-friendly-links-for-link-card",(()=>a.raw(f))):a.a(".action-card",{href:b},(()=>a.text(T)));case"board":return({url:b}=e),a.a({href:b},(()=>a.text(T)));case"organization":return({url:b}=e),a.a({href:b},T||a.l("an-organization"));case"checkItem":return({nameHtml:f}=e),f?a.span(".js-friendly-links",(()=>a.raw(f))):a.text(T);case"comment":return({textHtml:v}=e),({canEdit:k}=t),({truncateComment:y,extremeTruncation:C}=n),a.div(".comment-container",(function(){const e={"action-comment":!0,"can-edit":k,markeddown:!0,"js-comment":!0,"is-truncated":y,"extreme-truncation":C};return a.div({class:a.classify(e),dir:"auto"},(function(){if(y&&a.div(".action-comment-fade-button.js-expand-comment"),a.div(".current-comment.js-friendly-links.js-open-card",(()=>a.raw(v))),k)return a.div(".comment-box.mod-editing-comment",(function(){return a.textarea(".comment-box-input.js-text",{tabindex:"1"},(()=>a.text(T))),r(),o(!0)}))}))}));case"customField":case"customFieldItem":return a.text(T);case"label":return({color:j}=e),w={"card-label":!0},w[j+"-label"]=!0,x=T||"".concat(j," label (default)"),a.span({class:a.classify(w),title:x},(function(){return T?a.text(T):a.raw("&nbsp;")}));case"attachment":return({link:p,url:b,isTrello:u,id:c,isFriendly:d}=e),p||d?s.isViewerable(b)?a.a(".js-open-attachment-viewer",{href:b,"data-idattachment":c},(()=>a.text(T))):u?a.a(".js-friendly-links",{href:b},(()=>a.text(T))):a.a(".js-friendly-links",{href:b,target:"_blank",rel:"noopener noreferrer"},(()=>a.text(T))):a.span(".attachment-deleted",(()=>a.text(T)));case"attachmentPreview":if(({previewUrlForRes:h,originalUrl:m,id:c}=e),({showCompactAttachmentPreview:_}=n),h){w={"js-open-attachment-viewer":!_,"js-open-card":_,"js-friendly-links":!0};const e={"attachment-image-preview":!0,"mod-compact-image-preview":_};return a.a({class:a.classify(w),href:m,target:"_blank","data-idattachment":c},(()=>a.img({class:a.classify(e),src:i(h)})))}return a.raw("&nbsp;");case"member":return({id:c,avatarUrl:l,username:g}=e),a.span(".inline-member.js-show-mem-menu",{idMember:c},(function(){return l&&(x="".concat(T," (").concat(g,")"),a.img(".inline-member-av",{src:[l,"30.png"].join("/"),alt:x,title:x})),a.span(".u-font-weight-bold",(()=>a.text(T)))}));case"relDate":return({date:E,current:S}=e),a.span(".rel-date",{dt:E,text:T},(()=>a.text(S)))}}))},"./app/scripts/views/templates/formatting_help.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("formatting_help");e.exports=function(){return i.p((()=>i.format("trello-uses-markdown-for-formatting-here-are-the-basics-see-the-complete-syntax"))),i.hr(),i.p(".quiet",(()=>i.format("first-level-header"))),i.code((function(){return i.format("making-scrambled-eggs-a-primer"),i.br(),i.text("\n    ===============================\n  ")})),i.hr(),i.p(".quiet",(()=>i.format("second-level-header"))),i.code((function(){return i.format("1-1-preparation"),i.br(),i.text("\n    ----------------\n  ")})),i.hr(),i.p(".quiet",(()=>i.format("paragraphs"))),i.code((()=>i.format("add-two-new-lines-to-start-a-new-paragraph-crack-two-eggs-into-the-bowl-and-whisk"))),i.hr(),i.p(".quiet",(()=>i.format("bold"))),i.code((()=>i.format("carefully-crack-the-eggs"))),i.hr(),i.p(".quiet",(()=>i.format("emphasis"))),i.code((()=>i.format("whisk-the-eggs-vigorously"))),i.hr(),i.p(".quiet",(()=>i.format("lists"))),i.code((function(){return i.format("ingredients"),i.br(),i.br(),i.format("eggs"),i.br(),i.format("oil"),i.br(),i.format("optional-milk")})),i.hr(),i.p(".quiet",(()=>i.format("links"))),i.code((()=>i.format("to-download-a-pdf-version-of-the-recipe-click-here-https-example-com-scrambled-eggs-pdf"))),i.hr(),i.p(".quiet",(()=>i.format("images"))),i.code((()=>i.format("the-finished-dish-https-example-com-eggs-png")))}},"./app/scripts/views/templates/invite_add_name.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("invite_add_name");e.exports=i.renderable((function({email:e,fullName:t,canAddAsObserver:n,modelType:a,isLoading:r,isOrgAdmin:o,wouldBecomeBillableGuest:s,availableLicenseCount:l,error:c,isDesktop:d}){r&&i.div(".spinner.loading"),c&&i.div(".error",(()=>i.text(c)));const u=o&&!d;if(s&&i.div(".card-back-billable-guests-alert.js-billable-guests-alert",{class:i.classify({"as-admin":u,"as-non-admin":!u})}),!r&&!c&&(!s||u)&&!(s&&l<1))return i.p(".quiet",(function(){if("Board"===a)return i.format("click-send-below");if("Organization"===a)return i.format("we dont know that personâ¦team",{email:e});throw new Error("Expected either Board or Organization as modelType; got ".concat(a))})),i.p(".error.hide.js-name-error",(()=>i.format("full name too short"))),i.p(".error.hide.js-name-error-url",(()=>i.format("full name must not contain a url"))),i.form(".js-email-data",(function(){return i.label((()=>i.format("full-name"))),i.input(".js-autofocus.js-full-name",{type:"text",value:t}),i.input(".js-email",{type:"hidden",value:e}),n&&i.span(".check-div.quiet.u-clearfix",(function(){return i.input({type:"checkbox",id:"addAsObserver"}),i.label({for:"addAsObserver"},(()=>i.format("include-this-member-as-a-view-only-observer")))})),i.input(".wide.nch-button.nch-button--primary.js-send-email-invite",{type:"submit",value:i.l("send")})}))}))},"./app/scripts/views/templates/label.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("label");e.exports=i.renderable((function({color:e,name:t,extraClasses:n}){const a={"card-label":!0};if(e&&(a["card-label-".concat(e)]=!0),n)for(const e of Array.from(n))a[e]=!0;return i.span({class:i.classify(a),title:null!=t?t:"".concat(e," label (default)")},(()=>i.span({class:"label-text"},(function(){return t?i.text(t):i.raw("&nbsp;")}))))}))},"./app/scripts/views/templates/label_edit_component.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("label_edit_component");e.exports=function(){return i.label({for:"labelName"},(()=>i.format("name"))),i.input(".js-autofocus.js-label-name",{id:"labelName",type:"text",name:"name",value:i.mustacheVar("label.name")}),i.label((()=>i.format("select-a-color"))),i.div(".u-clearfix",(()=>i.mustacheBlock("colors",(()=>i.span({class:"card-label mod-edit-label mod-clickable card-label-".concat(i.mustacheVar("color")," palette-color js-palette-color"),"data-color":i.mustacheVar("color")},(()=>i.span({class:"card-label-color-select-icon icon-sm icon-check light ".concat(i.mustacheBlockInverted("selected",(()=>"hide"))," js-palette-select")}))))))),i.div(".edit-labels-no-color-section.u-clearfix",(function(){return i.div(".edit-labels-no-color-section-color",(()=>i.span({class:"card-label mod-edit-label mod-clickable card-label-null palette-color js-palette-color","data-color":null},(()=>i.span({class:"card-label-color-select-icon icon-sm icon-check light ".concat(i.mustacheBlockInverted("noColor",(()=>"hide"))," js-palette-select")}))))),i.div(".edit-labels-no-color-section-text",(function(){return i.p(".u-bottom",(()=>i.format("no-color"))),i.p(".u-bottom.quiet",(()=>i.format("this-wont-show-up-on-the-front-of-cards")))}))})),i.div(".u-clearfix",(function(){return i.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:i.mustacheVar("submitText")}),i.div(".u-float-right.js-accessory-view-holder")}))}},"./app/scripts/views/templates/label_limit_exceeded.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("label_limit_exceeded");e.exports=()=>i.span({class:"error"},(()=>i.format("board-label-limit-exceeded")))},"./app/scripts/views/templates/member.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("member");e.exports=i.renderable((function({id:e,avatarUrl:t,viewTitle:n,initials:a,isDeactivated:r,isBoardAdmin:o,isOrganizationAdmin:s,hideBadges:l}){if(t?i.img(".member-avatar",{height:"30",width:"30",src:[t,"30.png"].join("/"),srcset:[[t,"30.png 1x"].join("/"),[t,"50.png 2x"].join("/")].join(", "),alt:n,title:n}):a?i.span(".member-initials",{title:n,"aria-label":n},(()=>i.text(a))):i.div(".member-icon-container",(()=>i.icon("member"))),e&&i.span("#".concat(e,"-avatar")),r||l||(o&&i.span(".member-type.admin",{title:i.l("this-member-is-an-admin-of-this-board"),"aria-label":i.l("this-member-is-an-admin-of-this-board")}),s&&i.span(".member-type.admin",{title:i.l("this-member-is-an-admin-of-this-organization"),"aria-label":i.l("this-member-is-an-admin-of-this-organization")})),!l)return i.span(".member-gold-badge",{title:i.l("this-member-has-trello-gold"),"aria-label":i.l("this-member-has-trello-gold")})}))},"./app/scripts/views/templates/member_avatar.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("member");e.exports=i.renderable((function({avatarUrl:e,viewTitle:t,initials:n,isDeactivated:a,isBoardAdmin:r,isOrganizationAdmin:o}){const s=t;if(e){const t=[e,"30.png"].join("/"),n=[e,"50.png"].join("/");i.img({class:"member-avatar",height:"30",width:"30",src:t,srcset:"".concat(t," 1x, ").concat(n," 2x"),alt:s,title:s})}else n?i.span(".member-initials",{title:s,"aria-label":s},(()=>i.text(n))):i.div(".member-icon-container",(()=>i.icon("member")));return a||(r&&i.span(".member-type.admin",{title:i.l("this-member-is-an-admin-of-this-board")}),o&&i.span(".member-type.admin",{title:i.l("this-member-is-an-admin-of-this-organization")})),i.span(".member-gold-badge",{title:i.l("this-member-has-trello-gold")})}))},"./app/scripts/views/templates/member_large_avatar.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("member_large_avatar");e.exports=i.renderable((function({avatarUrl:e,viewTitle:t,avatarSource:n}){const a=t;let r="";return"atlassianAccount"===n&&(r="pop-over-atlassian-account-avatar"),i.img({src:[e,"original.png"].join("/"),class:r,alt:a,title:a})}))},"./app/scripts/views/templates/member_on_card.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_card"),a=n("./app/scripts/views/templates/member.js");e.exports=i.renderable((({avatarUrl:e,fullName:t,id:n,initials:r,isDeactivated:o,isBoardAdmin:s,isOrganizationAdmin:l,isVirtual:c,username:d,viewTitle:u,activityBlocked:p})=>i.div(".member.js-member-on-card-menu",{class:i.classify({"member-deactivated":o||p,"member-virtual":c,"long-initials":(null!=r?r.length:void 0)>2}),"data-idmem":n},(()=>a({avatarUrl:e,fullName:t,initials:r,isDeactivated:o,isBoardAdmin:s,isOrganizationAdmin:l,username:d,viewTitle:u})))))},"./app/scripts/views/templates/member_on_card_menu.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_card_menu");e.exports=()=>i.mustacheBlock("__ed",(()=>i.li((()=>i.a(".js-remove-member",(()=>i.format("remove-from-card")))))))},"./app/scripts/views/templates/members_voted.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("members_voted"),a=n("./app/scripts/views/templates/member.js");e.exports=function(){return i.mustacheBlock("loading",(()=>i.p(".quiet.u-text-align-center",{style:"margin: 24px 0;"},(()=>i.format("loading-ellipsis"))))),i.mustacheBlockInverted("loading",(function(){return i.div({class:"list-voters u-clearfix ".concat(i.mustacheBlock("fewMembers",(()=>"compact")))},(()=>i.mustacheBlock("members",(()=>i.div(".voter",(function(){return i.div(".member.member-no-menu",(()=>a(i.mustacheVar(".")))),i.mustacheBlock("fewMembers",(()=>i.p(".title",(function(){return i.text(i.mustacheVar("fullName")),i.text(" "),i.span(".quiet",(()=>i.text("(".concat(i.mustacheVar("username"),")"))))}))))})))))),i.mustacheBlock("moreMembers",(()=>i.a(".show-more.mod-compact.js-more-members-voted",{href:"#"},(()=>i.format("show-all-voters-lengthdiff-more",{lengthDiff:i.mustacheVar("lengthDiff")}))))),i.mustacheBlock("canVote",(function(){return i.hr(),i.mustacheBlock("voted",(()=>i.a(".quiet-button.u-text-align-center.js-unvote",{href:"#"},(()=>i.format("remove-your-vote"))))),i.mustacheBlockInverted("voted",(()=>i.button(".nch-button.nch-button--primary.full.js-vote",{href:"#"},(()=>i.format("vote")))))}))}))}},"./app/scripts/views/templates/mini_profile.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("mini_profile");e.exports=i.renderable((({avatarUrl:e,viewTitle:t,fullName:n,username:a,initials:r,bio:o,email:s,showEmail:l,isMe:c,isDeactivated:d,activityBlocked:u})=>i.div(".mini-profile",(function(){return i.div(".mini-profile-member.member-large",{class:i.classify({"member-deactivated":d||u})},(function(){e&&i.a(".av-btn.js-view-large",{href:"#"});const n=t;return e?i.img(".member-avatar",{height:"50",width:"50",src:[e,"50.png"].join("/"),alt:n,title:n}):r?i.span(".member-initials",{title:n},(()=>i.text(r))):i.div(".member-icon-container",(()=>i.icon("member")))})),i.div(".mini-profile-info",(function(){if(i.h3(".mini-profile-info-title",(()=>i.a(".mini-profile-info-title-link.js-profile",{href:"/".concat(a)},(()=>i.text(n))))),i.p(".quiet.u-bottom",(()=>i.format("at-username",{username:a}))),o&&i.p(".mini-profile-info-bio.quiet",(()=>i.text(o))),l&&i.p(".u-bottom.quiet",(()=>i.text(s))),c)return i.p(".u-bottom",(function(){const e="/".concat(a,"/profile");return i.a(".quiet",{href:e},(()=>i.format("edit-profile-info")))}))}))}))))},"./app/scripts/views/templates/move_card_controls.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("move_card_controls"),{SelectTestIds:a}=n("./packages/test-ids/index.ts");e.exports=function(){return i.mustacheBlockInverted("hideBoard",(function(){return i.div(".form-grid",(function(){return i.div(".form-grid-child.form-grid-child-full",{class:i.classify({hide:!i.mustacheVar("restrictToCurrentBoard")})},(function(){return i.label((()=>i.format("board"))),i.p((()=>i.mustacheBlock("organizations",(()=>i.mustacheBlock("boards",(()=>i.text(i.mustacheVar("name"))))))))})),i.div(".button-link.setting.form-grid-child.form-grid-child-full",{class:i.classify({hide:i.mustacheVar("restrictToCurrentBoard")})},(function(){return i.span(".label",(()=>i.format("board"))),i.span(".value.js-board-value"),i.label((()=>i.format("board"))),i.select(".js-select-board",{"data-test-id":a.MoveBoardSelect},(()=>i.mustacheBlock("organizations",(()=>i.optgroup({label:i.mustacheVar("displayName")},(()=>i.mustacheBlock("boards",(()=>i.optionSelected(i.mustacheVar("selected"),{value:i.mustacheVar("id")},(function(){return i.text(i.mustacheVar("name")),i.mustacheBlock("selected",(function(){return i.text(" "),i.format("current")}))}))))))))))}))})),i.mustacheBlock("hasEnterprise",(()=>i.mustacheBlock("enterpriseName",(function(){return i.mustacheBlock("isMove",(()=>i.p(".quiet",(()=>i.format("card-can-only-be-moved-to-teams-within-org",{enterpriseName:i.mustacheVar("enterpriseName")}))))),i.mustacheBlock("isCopy",(()=>i.p(".quiet",(()=>i.format("card-can-only-be-copied-to-teams-within-org",{enterpriseName:i.mustacheVar("enterpriseName")})))))}))))})),i.div(".form-grid",(function(){return i.div(".button-link.setting.form-grid-child.form-grid-child-threequarters",(function(){return i.span(".label",(()=>i.format("list"))),i.span(".value.js-list-value"),i.label((()=>i.format("list"))),i.select(".js-select-list")})),i.div(".button-link.setting.form-grid-child",(function(){return i.span(".label",(()=>i.format("position"))),i.span(".value.js-pos-value"),i.label((()=>i.format("position"))),i.select(".js-select-position")}))}))}},"./app/scripts/views/templates/popover_auto_mentioner.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_auto_mentioner");e.exports=function(){return i.mustacheBlock("button",(()=>i.input(".js-filter-mentionables.js-autofocus",{type:"text",placeholder:i.l("search-members-ellipsis")}))),i.p(".quiet.js-empty-list.hide",{style:"padding: 8px 8px 0;"},(()=>i.format("no-matching-members"))),i.ul(".pop-over-member-list.js-available-members")}},"./app/scripts/views/templates/popover_change_labels.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_change_labels");e.exports=function(){return i.input(".js-autofocus.js-label-search",{type:"text",placeholder:i.l("search-labels-ellipsis"),value:i.mustacheVar("searchInit"),autocomplete:"off"}),i.div(".pop-over-section.js-suggestions",(function(){i.h4((function(){return i.icon("sparkle"),i.format("suggested")})),i.ul(".edit-labels-pop-over.js-suggested-labels-list",(function(){}))})),i.div(".pop-over-section",(function(){return i.h4((()=>i.format("labels"))),i.ul(".edit-labels-pop-over.js-labels-list"),i.mustacheBlock("__ed",(()=>i.div((function(){return i.button(".button.full.js-add-label",(()=>i.format("create-a-new-label"))),i.button(".button.full.hide.js-show-more",(()=>i.format("show-more-labels"))),i.hr(),i.button(".button.full.js-toggle-color-blind-mode",(function(){return i.mustacheBlock("isColorBlindEnabled",(()=>i.format("disable-color-blind-friendly-mode-no-punc"))),i.mustacheBlockInverted("isColorBlindEnabled",(()=>i.format("enable-color-blind-friendly-mode-no-punc")))}))}))))}))}},"./app/scripts/views/templates/popover_emoji_completer.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_emoji_completer");e.exports=i.renderable((function({input:e,button:t,upsellEnabled:n}){return t&&i.input(".js-filter-emoji.js-autofocus",{type:"text",placeholder:i.l("search-for-emoji-ellipsis")}),i.div(".js-results.input-emoji-results",(function(){if(i.ul(".pop-over-emoji-list.js-available-emoji"),n)return i.hr(),i.ul(".pop-over-list",(()=>i.li((()=>i.a(".js-upload-emoji",{href:"#","data-emojiname":""},(()=>i.format("upload-emoji")))))))})),i.div(".js-no-results.hide.input-emoji-no-results",(function(){if(n)return i.p(".u-bottom.js-no-matching-emoji-helper"),i.a(".nch-button.nch-button--primary.nch-button--fullwidth.js-upload-emoji.my-4",{href:"#","data-emojiname":""})}))}))},"./app/scripts/views/templates/popover_emoji_uploader.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_emoji_uploader");e.exports=function(){return i.mustacheBlockInverted("canUpload",(function(){return i.div(".warning",(function(){return i.mustacheBlockInverted("hasGold",(()=>i.p((()=>i.format("you-can-upload-custom-emoji-with-trello-gold-learn-more-about-trello-gold"))))),i.mustacheBlockInverted("hasBCGold",(()=>i.p(".u-bottom",(()=>i.format("you-can-get-custom-emoji-for-your-entire-organization-with-business-class-learn-more-about-business-class")))))})),i.hr()})),i.form({action:"/1/member/".concat(i.mustacheVar("id"),"/customEmoji"),method:"post",enctype:"multipart/form-data"},(function(){return i.input({type:"hidden",name:"token",value:""}),i.input({type:"hidden",name:"format",value:"http"}),i.label({for:"emojiImage"},(()=>i.format("upload-image"))),i.input(".js-upload-emoji-file.upload-emoji",{id:"emojiImage",type:"file",name:"file",tabindex:"-1",accept:"image/*"}),i.label({for:"emojiName"},(()=>i.format("emoji-name"))),i.input(".js-emoji-name",{id:"emojiName",type:"text",name:"name",value:i.mustacheVar("emojiName")}),i.p(".quiet",(()=>i.format("the-name-will-default-to-the-name-of-the-uploaded-file-you-can-change-it-here-though"))),i.p(".warning.hide.js-invalid-name",(()=>i.format("the-emoji-name-can-only-contain-letters-numbers-and-underscores"))),i.div(".js-emoji-preview",{style:"margin-bottom: 12px;"},(function(){return i.p({style:"margin-bottom: 4px;"},(()=>i.strong((()=>i.format("preview"))))),i.span(".js-emoji-preview-name",(()=>i.text(i.mustacheVar("emojiName")))),i.text(" â "),i.img(".js-emoji-preview.emoji")})),i.input(".nch-button.nch-button--primary.wide.js-upload-emoji",{type:"submit",value:i.l("create-custom-emoji")}),i.div(".error.hide",(()=>i.format("upload-failed")))})),i.mustacheBlock("canUpload",(()=>i.mustacheBlock("showTeamUpsell",(function(){return i.hr(),i.p(".u-bottom",(()=>i.format("you-can-also-get-custom-emoji-for-your-entire-organization-with-business-class-learn-more-about-business-class")))}))))}},"./app/scripts/views/templates/popover_limit_exceeded.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_limit_exceeded");e.exports=i.renderable((e=>i.div(".error.js-limit-exceeded",{style:"margin: 12px 0 6px;"},(function(){return"perCard"===e?i.format("attachments-per-card-exceeded"):"perBoard"===e?i.format("attachments-per-board-exceeded"):void 0}))))},"./app/scripts/views/templates/popover_move_card.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_move_card");e.exports=function(){const e=i.mustacheVar("suggestions");return e.length>0&&i.div(".pop-over-section.js-suggestions",(function(){i.h4((function(){return i.icon("sparkle"),i.format("suggested")}));for(const t of Array.from(e))i.a(".button-link.js-suggested-move",{class:i.classify({"flip-icon":"left"===t.direction}),"data-id":t.id,"data-position":t.position,href:"#"},(function(){return i.icon("move"),i.text(t.name)}))})),i.div(".pop-over-section",(function(){return i.h4((()=>i.format("select-destination"))),i.mustachePartial(n("./app/scripts/views/templates/move_card_controls.js")),i.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:i.l("move")})}))}},"./app/scripts/views/templates/popover_select_members.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_select_members");e.exports=i.renderable((function({canInviteMembers:e,includeOrgMembers:t}){const n=function(e){return i.h4((()=>i.format(e))),i.div(".js-loading",(()=>i.p(".empty",{style:"padding: 24px 6px"},(()=>i.format("loading"))))),i.div(".js-no-results.hide",(()=>i.p(".empty",{style:"padding: 24px 6px"},(()=>i.format("no-results"))))),i.ul(".pop-over-member-list.checkable.u-clearfix.js-mem-list")};return i.input(".js-search-mem.js-autofocus",{type:"text",placeholder:i.l("search-members")}),i.div(".pop-over-section.js-suggestions",(function(){i.h4((function(){return i.icon("sparkle"),i.format("suggested")})),i.ul(".pop-over-member-list.checkable.u-clearfix.js-mem-list")})),i.div(".pop-over-section.js-board-members",(()=>n("board-members"))),t&&(i.div(".pop-over-section.js-org-members",(()=>n("team-members"))),i.div(".js-show-org-members",(()=>i.a(".subtle.button.full",{href:"#",style:"margin-top: 8px;"},(()=>i.format("show-team-members")))))),i.div(".js-invite-no-results.hide",(()=>i.p(".empty",{style:"padding: 24px 6px"},(function(){return e?i.l("not-a-member"):i.l("no-results")})))),i.div(".js-invite-results.hide"),i.div(".js-invite-error.hide",(()=>i.p(".error",{style:"margin: 16px 8px 6px;"})))}))},"./app/scripts/views/templates/popover_trello_completer.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_trello_completer");e.exports=i.renderable((function(){return i.label((function(){return i.format("card-or-board-to-add"),i.input(".js-search.js-autofocus",{type:"text",placeholder:i.l("search-for-a-card-or-board-ellipsis")})})),i.div(".js-loading",(()=>i.span(".loading.spinner"))),i.div(".pop-over-section.js-card-results.hide",(function(){return i.h4(".pop-over-section-heading",(()=>i.format("cards"))),i.ul(".pop-over-list.navigable.js-card-list"),i.div(".empty.js-no-card-results.hide",{style:"padding: 24px 6px"},(()=>i.p(".u-bottom",(()=>i.format("no-results")))))})),i.div(".pop-over-section.js-board-results.hide",(function(){return i.h4(".pop-over-section-heading",(()=>i.format("boards"))),i.ul(".pop-over-list.navigable.js-board-list"),i.div(".empty.js-no-board-results.hide",{style:"padding: 24px 6px"},(()=>i.p(".u-bottom",(()=>i.format("no-results")))))}))}))},"./app/scripts/views/templates/select_board.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_board");e.exports=i.renderable((({name:e,id:t,closed:n,orgName:a})=>i.li(".item",(()=>i.a(".name.js-select-board",{href:"#",title:e,"data-id":t},(function(){if(i.span(".item-name",(function(){if(i.text(e),n)return i.text(" "),i.span(".quiet",(()=>i.format("archived")))})),a)return i.span(".sub-name",(()=>i.format("in-orgname",{orgName:a})))}))))))},"./app/scripts/views/templates/select_card.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_card");e.exports=i.renderable((({name:e,id:t,closed:n,boardName:a})=>i.li(".item",(()=>i.a(".name.js-select-card",{href:"#",title:e,"data-id":t},(function(){if(i.span(".item-name",(function(){if(i.text(e),n)return i.text(" "),i.span(".quiet",(()=>i.format("archived")))})),a)return i.span(".sub-name",(()=>i.format("in-boardname",{boardName:a})))}))))))},"./app/scripts/views/templates/select_emoji.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_emoji");e.exports=()=>i.li(".item",(()=>i.a(".name.js-select-emoji",{href:"#",title:i.mustacheVar("name")},(function(){return i.mustacheBlock("isEmojiMart",(()=>{i.mustacheBlock("html",(()=>i.raw(i.mustacheVar("html")))),i.mustacheBlock("image",(()=>i.img(".emoji",{src:i.mustacheVar("image")})))})),i.mustacheBlockInverted("isEmojiMart",(()=>i.img(".emoji",{src:i.mustacheVar("image")}))),i.span(".emoji-name",{name:i.mustacheVar("name")},(()=>i.text(i.mustacheVar("name"))))}))))},"./app/scripts/views/templates/select_labels.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_labels");e.exports=()=>i.mustacheBlock("labels",(()=>i.li((function(){return i.mustacheBlock("__ed",(()=>i.a(".card-label-edit-button.icon-sm.icon-edit.js-edit-label",{href:"#","data-idlabel":i.mustacheVar("id")}))),i.span({class:"card-label mod-selectable card-label-".concat(i.mustacheVar("color")," ").concat(i.mustacheBlock("isActive",(()=>"active"))," js-select-label"),"data-idlabel":i.mustacheVar("id"),"data-color":i.mustacheVar("color")},(function(){return i.mustacheBlock("name",(()=>i.text(i.mustacheVar("name")))),i.icon("check",{class:"card-label-selectable-icon light"})}))}))))},"./app/scripts/views/templates/tooltip_content.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("tooltip_content");e.exports=function(){const e=i.mustacheVar("closeable"),t=e?[".tooltip-content-closeable"]:[];return i.div(t.join("")+".tooltip-content.js-tooltip-content",(function(){return e&&i.icon("close",{class:"tooltip-close-button js-tooltip-close-button"}),i.raw(i.mustacheVar("tooltipHtml"))}))}},"./app/src/components/BillingDetails/BillingHistory/TeamBillingStatementsQuery.graphql":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamBillingStatements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statements"},arguments:[{kind:"Argument",name:{kind:"Name",value:"accountType"},value:{kind:"EnumValue",value:"organizations"}},{kind:"Argument",name:{kind:"Name",value:"accountId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statementUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statementToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translationKey"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:202}};n.loc.source={body:"query TeamBillingStatements($orgId: ID!) {\n  statements(accountType: organizations, accountId: $orgId) @client {\n    date\n    amount\n    item\n    statementUrl\n    statementToken\n    translationKey\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.TeamBillingStatements=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"TeamBillingStatements")},"./app/src/components/Butler/Buttons/ButlerCardButton.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButton.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/Butler/Buttons/ButlerCardButtons.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButtons.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/Butler/CommandEditors/AvailableActions.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/AvailableActions.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/Butler/CommandEditors/CommandEditor.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandEditor.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/Butler/CommandEditors/CommandSelect.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandSelect.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/Butler/CommandEditors/CommandText.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandText.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/Butler/CommandEditors/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return Je})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return Y}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/atlassian-analytics/index.ts"),o=n("./packages/keybindings/index.ts"),s=n("./app/src/components/Butler/CommandMetadata/index.ts");const l=e=>{const t={type:e,[e]:{}};switch(t.type){case"MOVE_CARD_ACTION":case"COPY_CARD_ACTION":t[t.type].DESTINATION={POSITION_TOP:"top"};break;case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":t[t.type]=!0;break;case"REMOVE_FROM_CARD_ACTION":t[t.type].REMOVE_ALL_MEMBERS=!0;break;case"JOIN_CARD_ACTION":t[t.type]=!0;break;case"ADD_DUE_DATE_ACTION":t[t.type].DUE_DATE={IN_X_FROM_TODAY:{X_WORKING_DAYS:3}};break;case"SORT_LIST_ACTION":t[t.type]={SORT_ASCENDING:!0,SORT_BY_DUE_DATE:!0};break;case"ADD_LABEL_ACTION":t[t.type].LABEL={}}return t};var c=n("./app/src/components/Butler/CommandEditors/AvailableActions.less"),d=n.n(c);const u=(e,t)=>{const n=Object(s.i)(e.TRIGGER),a=Object(i.useMemo)((()=>{var t;return new Set(null===(t=e.ACTION)||void 0===t?void 0:t.map((({type:e})=>e)))}),[e.ACTION.length]);return Object(i.useMemo)((()=>{const e=new Set;function i(t){e.add(t)}var r;("card-button"===t&&i(s.b.Card),n)&&(null===(r=n.providedContext)||void 0===r||r.forEach(i));return a.forEach((e=>{var t;null===(t=s.a[e].providedContext)||void 0===t||t.forEach(i)})),Object.entries(s.a).reduce(((t,[n,i])=>{const{requiredContext:a}=i;return a&&!a.every(e.has.bind(e))||t.push(n),t}),[])}),[n,a,t])},p=({command:e,commandType:t,onSelectAction:n})=>{Object(i.useEffect)((()=>{r.Analytics.sendScreenEvent({name:"addButlerActionInlineDialog",attributes:{commandType:t}})}),[t]);const c=u(e,t),p=e=>{r.Analytics.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"butlerActionMenuItem",source:"addButlerActionInlineDialog",attributes:{actionType:e,commandType:t}});const i=l(e);n(i)};return a.a.createElement(a.a.Fragment,null,c.flatMap((e=>{const t=Object(s.d)(e);if(!t)return null;const n=Object(s.g)(e);return a.a.createElement("div",{key:"butler-actions-list-".concat(e),className:d.a.actionOption,onClick:()=>p(e),onKeyDown:t=>{Object(o.isSubmitEvent)(t)&&p(e)},role:"button",style:{cursor:"pointer"},tabIndex:0},a.a.createElement(n,{dangerous_className:d.a.actionOptionIcon}),t)})))};var m=n("./node_modules/classnames/index.js"),h=n.n(m),g=n("./node_modules/immer/dist/immer.esm.js"),b=n("./packages/nachos/button.ts"),f=n("./packages/nachos/icons/close.tsx"),v=n("./packages/i18n/index.ts"),k=n("./app/src/components/CloseButton/index.ts"),y=n("./packages/nachos/src/components/Select/Select.tsx"),C=n("./app/src/components/Butler/CommandEditors/CommandSelect.less"),j=n.n(C);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const _=Object(v.forNamespace)(["butler","command editor"]),E=e=>{let{width:t}=e,n=x(e,["width"]);return a.a.createElement(y.a,w({appearance:"subtle",containerClassName:j.a.select,containerStyle:{width:t},spacing:"compact",noOptionsMessage:()=>_("no options")},n))};var S=n("./node_modules/@apollo/client/index.js");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const N={context:{operationName:"ActionDestination"}},I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActionDestination"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"initialIdBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"initialBoard"},name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"initialIdBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]};const A=Object(v.forNamespace)(["butler","command"]),P=({id:e,name:t})=>({label:t,value:e}),B=({initialIdBoard:e,selectedBoardName:t,skip:n=!1})=>{const[a,r]=Object(i.useState)(t?void 0:e),{data:o,loading:s}=function(e){const t=T(T({},N),e);return S.useQuery(I,t)}({variables:{idBoard:a||e,initialIdBoard:e},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:n}),{boards:l,lists:c}=Object(i.useMemo)((()=>{var t,n;if(null==o||!o.board||null==o||!o.member)return{boards:[],lists:[]};const i=o.member.boards.map(P);return!i.some((({value:t})=>t===e))&&o.initialBoard&&(i.push(P(o.initialBoard)),i.sort(((e,t)=>e.label.localeCompare(t.label)))),{boards:i,lists:null!==(t=null===(n=o.board.lists)||void 0===n?void 0:n.map(P))&&void 0!==t?t:[]}}),[e,o]);return Object(i.useEffect)((()=>{var e,n;void 0===a&&t&&l.length&&r(null!==(e=null===(n=l.find((({label:e})=>e===t)))||void 0===n?void 0:n.value)&&void 0!==e?e:null)}),[a,t,l]),{idBoard:a,boards:l,lists:c,loading:s,selectBoard:r}},L=[{label:A("top"),value:"top"},{label:A("bottom"),value:"bottom"}],F=Object(v.forNamespace)(["butler","command"]),M=({action:e,update:t,idBoard:n})=>{var r,o;const{idBoard:s,boards:l,lists:c,loading:d,selectBoard:u}=B({initialIdBoard:n,selectedBoardName:e.COPY_CARD_ACTION.DESTINATION.$BOARD});return Object(i.useEffect)((()=>{if(!e.COPY_CARD_ACTION.DESTINATION.$BOARD&&s){const e=l.find((({value:e})=>e===s));e&&t((t=>{t.COPY_CARD_ACTION.DESTINATION.$BOARD=e.label}))}}),[e,t,l,s]),a.a.createElement(a.a.Fragment,null,F("copy_card_to_position_of_the_list_on_board_action",{position:a.a.createElement(E,{width:"120px",key:"copy-card-action-position",onChange:({value:e})=>{t((t=>{"top"===e?(t.COPY_CARD_ACTION.DESTINATION.POSITION_TOP=e,t.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM=void 0):(t.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM=e,t.COPY_CARD_ACTION.DESTINATION.POSITION_TOP=void 0)}))},options:L,value:e.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM?L[1]:L[0]}),list:a.a.createElement(E,{key:"copy-card-action-list",width:"180px",isLoading:d,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.COPY_CARD_ACTION.DESTINATION.$LIST=e}))},options:c,placeholder:F("list name"),value:null!==(r=e.COPY_CARD_ACTION.DESTINATION.$LIST)&&void 0!==r?r:null}),board:a.a.createElement(E,{key:"copy-card-action-board",width:"240px",isLoading:d,isSearchable:!0,onChange:({label:e,value:n})=>{t((t=>{t.COPY_CARD_ACTION.DESTINATION.$BOARD!==e&&(t.COPY_CARD_ACTION.DESTINATION.$BOARD=e,t.COPY_CARD_ACTION.DESTINATION.$LIST=void 0)})),u(n)},options:l,placeholder:F("board name"),value:null!==(o=e.COPY_CARD_ACTION.DESTINATION.$BOARD)&&void 0!==o?o:null})}))},R=Object(v.forNamespace)(["butler","command"]),U=({action:e,update:t,idBoard:n})=>{var r,o;const{idBoard:s,boards:l,lists:c,loading:d,selectBoard:u}=B({initialIdBoard:n,selectedBoardName:e.MOVE_CARD_ACTION.DESTINATION.$BOARD});return Object(i.useEffect)((()=>{if(!e.MOVE_CARD_ACTION.DESTINATION.$BOARD&&s){const e=l.find((({value:e})=>e===s));e&&t((t=>{t.MOVE_CARD_ACTION.DESTINATION.$BOARD=e.label}))}}),[e,t,l,s]),a.a.createElement(a.a.Fragment,null,R("move_card_to_position_of_the_list_on_board_action",{position:a.a.createElement(E,{key:"move-card-action-position",width:"120px",onChange:({value:e})=>{t((t=>{"top"===e?(t.MOVE_CARD_ACTION.DESTINATION.POSITION_TOP=e,t.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM=void 0):(t.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM=e,t.MOVE_CARD_ACTION.DESTINATION.POSITION_TOP=void 0)}))},options:L,value:e.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM?L[1]:L[0]}),list:a.a.createElement(E,{key:"move-card-action-list",width:"180px",isLoading:d,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.MOVE_CARD_ACTION.DESTINATION.$LIST=e}))},options:c,placeholder:R("list name"),value:null!==(r=e.MOVE_CARD_ACTION.DESTINATION.$LIST)&&void 0!==r?r:null}),board:a.a.createElement(E,{key:"move-card-action-board",width:"240px",isLoading:d,isSearchable:!0,onChange:({label:e,value:n})=>{t((t=>{t.MOVE_CARD_ACTION.DESTINATION.$BOARD!==e&&(t.MOVE_CARD_ACTION.DESTINATION.$BOARD=e,t.MOVE_CARD_ACTION.DESTINATION.$LIST=void 0)})),u(n)},options:l,placeholder:R("board name"),value:null!==(o=e.MOVE_CARD_ACTION.DESTINATION.$BOARD)&&void 0!==o?o:null})}))},V=Object(v.forNamespace)(["butler","command"]),z=[{label:V("complete"),value:"MARK_DUE_COMPLETE_ACTION"},{label:V("incomplete"),value:"UNMARK_DUE_COMPLETE_ACTION"}],H=({action:e,update:t})=>a.a.createElement(a.a.Fragment,null,V("mark_due_date_complete_action",{status:a.a.createElement(E,{width:"150px",key:"mark-due-date-action-type",onChange:({value:e})=>{t((t=>{t.type=e,"MARK_DUE_COMPLETE_ACTION"===e?(delete t.UNMARK_DUE_COMPLETE_ACTION,t.MARK_DUE_COMPLETE_ACTION=!0):(delete t.MARK_DUE_COMPLETE_ACTION,t.UNMARK_DUE_COMPLETE_ACTION=!0)}))},options:z,value:z.find((({value:t})=>t===e.type))})}));function W(e){const t=Object.keys(e).find((t=>"number"==typeof e[t]));if(!t)return null;return{propName:t,value:e[t]}}function K(e){const t=e.IN_X_FROM_TODAY?W(e.IN_X_FROM_TODAY):W(e),{value:n,propName:i}=t||{};return{time:n,timeframe:i}}function q({time:e,timeframe:t}){if("number"==typeof e&&t){if("IN_MINUTES"===t||"IN_HOURS"===t)return{[t]:e};if(t)return{IN_X_FROM_TODAY:{[t]:e}}}return{}}const $=(e={})=>{const{POSITION_TOP:t,POSITION_BOTTOM:n,$LIST:i}=e;return!(!t&&!n||!i)},G=(e={})=>!!e.COLOR||!!e.$TITLE,Z=(e,t)=>{const n=t.filter((t=>!!e[t]));return 1===n.length?n[0]:null},J=e=>{switch(e.type){case"MOVE_CARD_ACTION":return $(e.MOVE_CARD_ACTION.DESTINATION);case"COPY_CARD_ACTION":return $(e.COPY_CARD_ACTION.DESTINATION);case"REMOVE_FROM_CARD_ACTION":{const t=e.REMOVE_FROM_CARD_ACTION,n=Z(t,["LABEL","REMOVE_ALL_CHECKLISTS","REMOVE_ALL_MEMBERS","REMOVE_ALL_STICKERS","REMOVE_ALL_LABELS","REMOVE_COVER","REMOVE_DUE_DATE"]);return!!n&&(t.LABEL?G(t.LABEL):!0===t[n])}case"ADD_DUE_DATE_ACTION":{const t=e.ADD_DUE_DATE_ACTION.DUE_DATE;if(!t)return!1;const{time:n,timeframe:i}=K(t);return!!i&&"number"==typeof n&&!Number.isNaN(n)}case"SORT_LIST_ACTION":{const t=e.SORT_LIST_ACTION,n=Z(t,["SORT_BY_AGE","SORT_BY_CUSTOM_FIELD","SORT_BY_DATE_IN_TITLE","SORT_BY_DUE_DATE","SORT_BY_LABEL","SORT_BY_TIME_IN_LIST","SORT_BY_TITLE","SORT_BY_VOTES"]);return!!n&&(t.SORT_BY_LABEL?G(t.SORT_BY_LABEL.SORT_LABEL):t.SORT_BY_CUSTOM_FIELD?((e={})=>!!e.$NAME)(t.SORT_BY_CUSTOM_FIELD):!0===t[n])}case"ADD_LABEL_ACTION":return G(e.ADD_LABEL_ACTION.LABEL);case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":case"JOIN_CARD_ACTION":return!0;default:return!1}},Y=e=>!!e.ACTION.length&&e.ACTION.every(J);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const te={context:{operationName:"ActionLabel"}},ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActionLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}}]}}]}}]}}]};const ie=["green","yellow","orange","red","purple","blue","sky","lime","pink","black"],ae=e=>ie.indexOf(e),re=Object(v.forNamespace)(["butler","command"]),oe=({idBoard:e,onChange:t,value:n,width:r})=>{const{data:o,loading:s}=function(e){const t=Q(Q({},te),e);return S.useQuery(ne,t)}({variables:{idBoard:e}}),l=Object(i.useMemo)((()=>{var e,t,n;return null!==(e=[...null!==(t=null==o||null===(n=o.board)||void 0===n?void 0:n.labels)&&void 0!==t?t:[]].sort(((e,t)=>{const{color:n,name:i=""}=e,{color:a,name:r=""}=t,o=i.localeCompare(r);return n&&a?ae(n)-ae(a)||o:!n&&a?1:n&&!a?-1:o})).map((e=>{var t;return{label:a.a.createElement("span",{className:h()({[j.a.colorLabel]:!0,[j.a["colorLabel--".concat(e.color)]]:!!e.color})},e.name),value:{COLOR:null!==(t=e.color)&&void 0!==t?t:null,$TITLE:e.name}}})))&&void 0!==e?e:[]}),[o]),c=Object(i.useMemo)((()=>{if(G(n))return l.find((({value:{COLOR:e,$TITLE:t}})=>e===n.COLOR&&t===n.$TITLE))}),[l,n]);Object(i.useEffect)((()=>{!G(n)&&l.length&&t(l[0].value)}),[n,l,t]);const d=re(s?"loading":"label");return a.a.createElement(E,{key:"labelSelector",isLoading:s,placeholder:d,onChange:({value:e})=>{t(e)},options:l,value:c,width:r||"250px"})},se=Object(v.forNamespace)(["butler","command"]),le=[{label:se("label"),value:"LABEL"},{label:se("all labels"),value:"REMOVE_ALL_LABELS"},{label:se("due date"),value:"REMOVE_DUE_DATE"},{label:se("all checklists"),value:"REMOVE_ALL_CHECKLISTS"},{label:se("all members"),value:"REMOVE_ALL_MEMBERS"},{label:se("all stickers"),value:"REMOVE_ALL_STICKERS"},{label:se("cover"),value:"REMOVE_COVER"}],ce=({action:e,update:t,idBoard:n})=>a.a.createElement(a.a.Fragment,null,se("remove_from_card_action",{remove:a.a.createElement(E,{key:"selector",onChange:({value:e})=>{t((t=>{t.REMOVE_FROM_CARD_ACTION="LABEL"!==e?{[e]:!0}:{LABEL:{}}}))},options:le,value:le.find((t=>t.value===Object.keys(e.REMOVE_FROM_CARD_ACTION)[0])),width:"140px"}),removeLabel:e.REMOVE_FROM_CARD_ACTION.LABEL&&a.a.createElement(oe,{key:"labelSelector",idBoard:n,value:e.REMOVE_FROM_CARD_ACTION.LABEL,onChange:e=>{t((t=>{t.REMOVE_FROM_CARD_ACTION.LABEL=e}))}})})),de=Object(v.forNamespace)(["butler","command"]),ue=()=>a.a.createElement(a.a.Fragment,null,de("join_card_action"));var pe=n("./packages/nachos/src/components/Textfield/Textfield.tsx"),me=n("./app/src/components/Butler/CommandEditors/CommandText.less"),he=n.n(me);function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const fe=e=>{let{width:t}=e,n=be(e,["width"]);return a.a.createElement(pe.a,ge({className:he.a.commandText,appearance:"borderless",spacing:"compact",style:{width:t}},n))},ve=Object(v.forNamespace)(["butler","command"]),ke=[{label:ve("minutes"),value:"IN_MINUTES"},{label:ve("hours"),value:"IN_HOURS"},{label:ve("days"),value:"X_DAYS"},{label:ve("working days"),value:"X_WORKING_DAYS"},{label:ve("weeks"),value:"X_WEEKS"},{label:ve("months"),value:"X_MONTHS"}],ye=({update:e,action:t})=>{const{time:n,timeframe:i}=K(t.ADD_DUE_DATE_ACTION.DUE_DATE);return a.a.createElement(a.a.Fragment,null,ve("add_due_date_action",{time:a.a.createElement(fe,{key:"timeSelector",type:"number",onChange:t=>{e((e=>{e.ADD_DUE_DATE_ACTION.DUE_DATE=q({time:Math.max(0,parseInt(t.target.value,10))||0,timeframe:i})}))},value:n,width:"30px"}),timeframe:a.a.createElement(E,{key:"timeframeSelector",onChange:t=>{e((e=>{e.ADD_DUE_DATE_ACTION.DUE_DATE=q({time:n,timeframe:t.value})}))},options:ke,value:ke.find((e=>e.value===i)),width:"120px"})}))};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const _e=Object(v.forNamespace)(["butler","command"]),Ee=[{label:_e("age"),value:"SORT_BY_AGE"},{label:_e("due date"),value:"SORT_BY_DUE_DATE"},{label:_e("label"),value:"SORT_BY_LABEL"},{label:_e("time in list"),value:"SORT_BY_TIME_IN_LIST"},{label:_e("title"),value:"SORT_BY_TITLE"},{label:_e("votes"),value:"SORT_BY_VOTES"}],Se=[{label:_e("ascending"),value:"SORT_ASCENDING"},{label:_e("descending"),value:"SORT_DESCENDING"}],Oe=({action:e,update:t,idBoard:n})=>{const r=!!e.SORT_LIST_ACTION.$LIST,{lists:o,loading:s}=B({initialIdBoard:n,skip:!r}),l=Object(i.useMemo)((()=>Ee.find((({value:t})=>!!e.SORT_LIST_ACTION[t]))),[e]),c=e.SORT_LIST_ACTION.SORT_ASCENDING?Se[0]:Se[1];return a.a.createElement(a.a.Fragment,null,_e(r?"sort_specific_list_action":"sort_list_action",{list:r?a.a.createElement(E,{key:"sort-list-list",width:"180px",isLoading:s,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.SORT_LIST_ACTION.$LIST=e}))},options:o,placeholder:_e("list name"),value:e.SORT_LIST_ACTION.$LIST}):void 0,field:a.a.createElement(a.a.Fragment,{key:"sort-list-field"},a.a.createElement(E,{key:"sort-list-field-select",onChange:({value:e})=>{(null==l?void 0:l.value)!==e&&t((t=>{const{$LIST:n,SORT_ASCENDING:i,SORT_DESCENDING:a}=t.SORT_LIST_ACTION;t.SORT_LIST_ACTION={$LIST:n,SORT_ASCENDING:i,SORT_DESCENDING:a,[e]:"SORT_BY_LABEL"!==e||{SORT_LABEL:{}}}}))},options:Ee,value:l,width:"180px"}),e.SORT_LIST_ACTION.SORT_BY_LABEL&&a.a.createElement(oe,{key:"sort-list-by-label-selector",idBoard:n,value:e.SORT_LIST_ACTION.SORT_BY_LABEL.SORT_LABEL,onChange:e=>{t((t=>{t.SORT_LIST_ACTION.SORT_BY_LABEL={SORT_LABEL:e}}))}})),direction:a.a.createElement(E,{key:"sort-list-direction",onChange:({value:e})=>{t((t=>{const n=t.SORT_LIST_ACTION,{SORT_ASCENDING:i,SORT_DESCENDING:a}=n,r=xe(n,["SORT_ASCENDING","SORT_DESCENDING"]);t.SORT_LIST_ACTION=je(je({},r),{},{[e]:!0})}))},options:Se,value:c,width:"150px"})}))},Te=Object(v.forNamespace)(["butler","command"]),De=({action:e,update:t,idBoard:n})=>a.a.createElement(a.a.Fragment,null,Te("add_label_action",{label:a.a.createElement(oe,{key:"labelSelector",idBoard:n,width:"190px",value:e.ADD_LABEL_ACTION.LABEL,onChange:e=>{t((t=>{t.ADD_LABEL_ACTION.LABEL=e}))}})}));function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Ae=Object(v.forNamespace)(["butler","command"]),Pe=({trigger:e,update:t,idBoard:n})=>{var i;const{lists:r,loading:o}=B({initialIdBoard:n});return a.a.createElement(a.a.Fragment,null,Ae("when_card_is_added_into_list_trigger",{list:a.a.createElement(E,{key:"when-card-into-list-trigger-list",width:"180px",isLoading:o,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.WHEN.CARD_INTO_LIST.$LIST=e}))},options:r,placeholder:Ae("list name"),value:null!==(i=e.CARD_INTO_LIST.$LIST)&&void 0!==i?i:null})}))};var Be=n("./node_modules/moment/moment.js");const Le=Object(v.forNamespace)(["butler","command"]),Fe=Object(Be.weekdays)().map(((e,t)=>({label:e,value:String(t)}))),Me=({trigger:e,update:t})=>{var n;return a.a.createElement(a.a.Fragment,null,Le("certain_days_trigger",{day:a.a.createElement(E,{width:"150px",key:"certain-days-trigger-day",onChange:({value:e})=>{t((t=>{t.EVERY.CERTAIN_DAYS.DAY=Number(e)}))},options:Fe,placeholder:Le("list name"),value:Fe[null!==(n=e.CERTAIN_DAYS.DAY)&&void 0!==n?n:0]})}))},Re=Object(v.forNamespace)(["butler","command"]),Ue=()=>a.a.createElement(a.a.Fragment,null,Re("every_day_trigger"));function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var He=n("./app/src/components/Butler/CommandEditors/CommandEditor.less"),We=n.n(He);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Ze=Object(v.forNamespace)(["butler","command editor"]),Je=e=>{var t;let{command:n,commandType:i,source:l,onUpdateCommand:c,onClickAddAction:d}=e,p=Ge(e,["command","commandType","source","onUpdateCommand","onClickAddAction"]);const{TRIGGER:m,ACTION:v}=n,y=Object(s.j)(m),C=u(n,i),j=v.length<10&&C.length&&(C.length>1||(null===(t=v[0])||void 0===t?void 0:t.type)!==C[0]),w=v.length>1,x=({Icon:e,category:t,onClickRemove:n})=>a.a.createElement("div",{className:We.a.header},a.a.createElement("div",{className:We.a.category},a.a.createElement(e,{dangerous_className:We.a.icon}),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),n?a.a.createElement(k.a,{className:We.a.removeButton,closeIcon:a.a.createElement(f.a,{color:"quiet",size:"xsmall"}),onClick:n}):null);return a.a.createElement("div",{className:We.a.grid},m&&y?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:We.a.sectionLabel},Ze("when")),a.a.createElement("div",{className:We.a.trigger},x({Icon:Object(s.h)(y),category:Object(s.f)(y)}),a.a.createElement("div",{className:We.a.editor},(e=>{let{trigger:t}=e,n=ze(e,["trigger"]);if(t.EVERY)switch(t.EVERY.type){case"EVERY_DAY":return a.a.createElement(Ue,Ve({trigger:t.EVERY},n));case"CERTAIN_DAYS":return a.a.createElement(Me,Ve({trigger:t.EVERY},n));default:return null}else if(t.WHEN)switch(t.WHEN.type){case"CARD_INTO_LIST":return a.a.createElement(Pe,Ve({trigger:t.WHEN},n));default:return null}return null})(qe({trigger:m,update:e=>{c(Object(g.b)(n,(t=>{e(t.TRIGGER)})))}},p)))),a.a.createElement("hr",{className:h()(We.a.thread,We.a["thread--md"])}),a.a.createElement("p",{className:We.a.sectionLabel},Ze("then")),a.a.createElement("hr",{className:h()(We.a.thread,We.a["thread--lg"])})):a.a.createElement("p",{className:We.a.sectionLabel},Ze("actions")),v.map(((e,t)=>{const i=Object(s.g)(e.type);return a.a.createElement(a.a.Fragment,{key:"butler-command-editor-action-".concat(t)},a.a.createElement("div",{className:We.a.action},x({Icon:i,category:Object(s.c)(e.type),onClickRemove:w?()=>{c(Object(g.b)(n,(e=>{e.ACTION.splice(t,1)}))),r.Analytics.sendClickedButtonEvent({buttonName:"removeButlerActionButton",source:l})}:void 0}),a.a.createElement("div",{className:We.a.editor},(e=>{let{action:t,index:n}=e,i=Ie(e,["action","index"]);const r="".concat(t.type,"-").concat(n);switch(t.type){case"COPY_CARD_ACTION":return a.a.createElement(M,Ne({key:r,action:t},i));case"MOVE_CARD_ACTION":return a.a.createElement(U,Ne({key:r,action:t},i));case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":return a.a.createElement(H,Ne({key:r,action:t},i));case"REMOVE_FROM_CARD_ACTION":return a.a.createElement(ce,Ne({key:r,action:t},i));case"JOIN_CARD_ACTION":return a.a.createElement(ue,Ne({key:r,action:t},i));case"ADD_DUE_DATE_ACTION":return a.a.createElement(ye,Ne({key:r,action:t},i));case"SORT_LIST_ACTION":return a.a.createElement(Oe,Ne({key:r,action:t},i));case"ADD_LABEL_ACTION":return a.a.createElement(De,Ne({key:r,action:t},i));default:return null}})(qe({action:e,update:e=>{c(Object(g.b)(n,(n=>{e(n.ACTION[t])})))},index:t},p)))),j||t<v.length-1?a.a.createElement("hr",{className:h()(We.a.thread,We.a["thread--sm"])}):null)})),j?a.a.createElement(b.Button,{appearance:0===v.length?"primary":"default",className:We.a.addActionButton,size:"fullwidth",onClick:d,onKeyPress:e=>{Object(o.isSubmitEvent)(e)&&(null==d||d())}},"+ ",Ze("add action")):null)}},"./app/src/components/Butler/CommandMetadata/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return T})),n.d(t,"c",(function(){return I})),n.d(t,"f",(function(){return A})),n.d(t,"e",(function(){return B})),n.d(t,"b",(function(){return r}));var i=n("./packages/objects/index.ts"),a=n("./packages/i18n/index.ts");let r,o;!function(e){e.Card="card",e.Checklist="checklist",e.List="list"}(r||(r={})),function(e){e.Add="add",e.Archive="archive",e.Calendar="calendar",e.CardChanges="card changes",e.CardsAndLists="cards and lists",e.Checklists="checklists",e.Confetti="confetti",e.Content="content",e.Copy="copy",e.Dates="dates",e.Fields="fields",e.Labels="labels",e.Members="members",e.Move="move",e.Remove="remove",e.Sort="sort"}(o||(o={}));const s=Object(i.a)({MOVE_CARD_ACTION:{category:o.Move,requiredContext:[r.Card]},COPY_CARD_ACTION:{category:o.Copy,requiredContext:[r.Card]},ADD_LABEL_ACTION:{category:o.Labels,requiredContext:[r.Card]},JOIN_CARD_ACTION:{category:o.Members,requiredContext:[r.Card]},ADD_DUE_DATE_ACTION:{category:o.Dates,requiredContext:[r.Card]},MARK_DUE_COMPLETE_ACTION:{category:o.Dates,requiredContext:[r.Card]},UNMARK_DUE_COMPLETE_ACTION:{category:o.Dates,requiredContext:[r.Card]},REMOVE_FROM_CARD_ACTION:{category:o.Remove,requiredContext:[r.Card]},SORT_LIST_ACTION:{category:o.Sort}}),l=Object(a.forNamespace)(["butler","action labels"],{returnBlankForMissingStrings:!0}),c=Object(i.a)({CARD_INTO_LIST:{category:o.CardsAndLists,commandType:"rule",providedContext:[r.Card,r.List]},EVERY_DAY:{category:o.Calendar,commandType:"schedule"},CERTAIN_DAYS:{category:o.Calendar,commandType:"schedule"}}),d=e=>{var t,n;return null!==(t=null==e||null===(n=e[e.type])||void 0===n?void 0:n.type)&&void 0!==t?t:null},u=e=>{const t=d(e);return t?c[t]:null};var p=n("./packages/nachos/icons/add.tsx"),m=n("./packages/nachos/icons/archive.tsx"),h=n("./packages/nachos/icons/calendar.tsx"),g=n("./packages/nachos/icons/card.tsx"),b=n("./packages/nachos/icons/checklist.tsx"),f=n("./packages/nachos/icons/clock.tsx"),v=n("./packages/nachos/icons/comment.tsx"),k=n("./packages/nachos/icons/copy.tsx"),y=n("./packages/nachos/icons/description.tsx"),C=n("./packages/nachos/icons/filter.tsx"),j=n("./packages/nachos/icons/label.tsx"),w=n("./packages/nachos/icons/list.tsx"),x=n("./packages/nachos/icons/member.tsx"),_=n("./packages/nachos/icons/move.tsx"),E=n("./packages/nachos/icons/remove.tsx"),S=n("./packages/nachos/icons/sparkle.tsx");const O=Object(i.a)({[o.Add]:p.a,[o.Archive]:m.a,[o.Calendar]:h.CalendarIcon,[o.CardChanges]:g.a,[o.CardsAndLists]:w.ListIcon,[o.Checklists]:b.a,[o.Confetti]:S.a,[o.Content]:v.a,[o.Copy]:k.a,[o.Dates]:f.a,[o.Fields]:y.a,[o.Labels]:j.a,[o.Members]:x.MemberIcon,[o.Move]:_.a,[o.Remove]:E.a,[o.Sort]:C.a}),T=e=>O[c[e].category],D=e=>O[s[e].category],N=Object(a.forNamespace)(["butler","command element categories"]),I=e=>N(s[e].category),A=e=>N(c[e].category),P=Object(i.a)({[o.Add]:"fas-plus",[o.Archive]:"fas-archive",[o.Checklists]:"fas-check-square",[o.Confetti]:"fas-magic",[o.Content]:"fas-comment",[o.Copy]:"fas-copy",[o.Dates]:"fas-clock",[o.Fields]:"fas-align-justify",[o.Labels]:"fas-tag",[o.Members]:"fas-user",[o.Move]:"fas-arrow-right",[o.Remove]:"fas-minus",[o.Sort]:"fas-sort-amount-down"}),B=(e,t=!1)=>{var n;const i=null!==(n=e&&P[s[e].category])&&void 0!==n?n:"gears";return t?i:"https://app.butlerfortrello.com/assets/fa-5.1.1/icons/pngs/".concat(i,".png")}},"./app/src/components/Butler/ListRule/ButlerListMenuSection.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/ListRule/ButlerListMenuSection.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/Butler/ListRule/listRuleDraftState.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=new(n("./packages/shared-state/index.ts").b)({})},"./app/src/components/Butler/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ButlerCardButtons",(function(){return J})),n.d(t,"ButlerListMenuSection",(function(){return ce})),n.d(t,"showButlerDirectory",(function(){return k.d})),n.d(t,"ButlerTab",(function(){return k.b})),n.d(t,"ButlerNewCommandId",(function(){return k.a}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/scripts/debug/constants.ts"),o=n("./app/src/components/ErrorBoundary/index.ts"),s=n("./node_modules/classnames/index.js"),l=n.n(s),c=n("./packages/atlassian-analytics/index.ts"),d=n("./packages/keybindings/index.ts"),u=n("./packages/nachos/icons/information.tsx"),p=n("./packages/nachos/popover.ts"),m=n("./packages/use-lazy-component/index.ts"),h=n("./packages/nachos/button.ts"),g=n("./packages/i18n/index.ts"),b=n("./app/src/components/UpgradePrompts/index.ts"),f=n("./app/src/components/Butler/getButlerName.ts"),v=n("./app/src/components/Butler/showButlerAlert.ts"),k=n("./app/src/components/Butler/showButlerDirectory.ts"),y=n("./packages/feature-flag-client/index.ts"),C=n("./node_modules/@apollo/client/index.js");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _={context:{operationName:"HasButlerAccess"}},E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HasButlerAccess"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"organization"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"enterprise"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idAdmins"}}]}}]}}]}}]}}]};const S=e=>{const t=Object(y.useFeatureFlag)("workflowers.butler-ent-admin-only-allowlist",[]),{data:n}=function(e){const t=w(w({},_),e);return C.useQuery(E,t)}({variables:{idBoard:e}});return Object(i.useMemo)((()=>{var e,i,a,r;if(null==n||!n.board)return!1;const{idEnterprise:o}=n.board;if(!o||!t.includes(o))return!0;const s=null===(e=n.member)||void 0===e?void 0:e.id,{organization:l}=n.board;if(!s||!l)return!1;const{idAdmins:c}=null!==(i=l.enterprise)&&void 0!==i?i:{};return(null==c?void 0:c.includes(s))||"admin"===(null===(a=l.memberships)||void 0===a||null===(r=a.find((e=>e.idMember===s)))||void 0===r?void 0:r.memberType)}),[t,n])};var O=n("./app/scripts/views/lib/dialog.js"),T=n.n(O),D=n("./packages/config/index.ts"),N=n("./packages/session-cookie/index.ts");var I=n("./app/src/components/Butler/Buttons/ButlerCardButton.less"),A=n.n(I);const P=({button:e,idCard:t,idBoard:n,idOrganization:r,cardButtonCallback:o})=>{const[s,u]=Object(i.useState)(!1),p=async(i=!1)=>{if(s)return;c.Analytics.sendClickedButtonEvent({buttonName:"butlerCardButton",source:"cardDetailScreen",containers:Object(c.formatContainers)({idCard:t,idBoard:n,idOrganization:r}),attributes:{close:!!e.close,section:"butlerCardButtons",viaKeypress:i}}),u(!0),e.close&&T.a.hide(!0);const a=await async function({idButton:e,idBoard:t,idCard:n}){try{const i=await fetch("/1/boards/".concat(t,"/butlerButtons/").concat(e,"/runs"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Trello-Client-Version":D.clientVersion},body:JSON.stringify({idCard:n,token:N.token})});if(!i.ok){if(504===i.status)return v.a.GatewayTimeout;const e=await i.text();if("CANT_PARSE_COMMAND"===e)return v.a.InvalidCommand;if("MEMBER_NOT_CONFIRMED"===e)return v.a.Unauthorized;try{if("Command quota exceeded"===JSON.parse(e).message)return v.a.PowerupUsageExceeded}catch(e){}return v.a.RunButtonError}}catch(e){return v.a.NetworkError}return v.a.Success}({idButton:e.id,idBoard:n,idCard:t});u(!1),o(a)};return a.a.createElement("a",{key:e.id,className:l()("button-link",{disabled:s}),onClick:()=>p(),onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&p(!0)},role:"button",tabIndex:0,title:e.label},a.a.createElement("span",{className:l()("icon-sm","plugin-icon",A.a.icon,{spinner:s}),style:{backgroundImage:s?"":"url(".concat(e.image,")")}}),e.label)};var B=n("./app/scripts/init/useSocketSubscription.ts");function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const R={context:{operationName:"ButlerButtons"}},U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ButlerButtons"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idOrganization"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skipOrganization"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"butlerButtonLimit"}},{kind:"Field",name:{kind:"Name",value:"privateButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}},{kind:"Field",name:{kind:"Name",value:"sharedButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}},{kind:"Field",name:{kind:"Name",value:"butlerButtonOverrides"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idButton"}},{kind:"Field",name:{kind:"Name",value:"overrides"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idOrganization"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"skipOrganization"}}}]},{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"privateButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}},{kind:"Field",name:{kind:"Name",value:"sharedButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}}]}}]}}]};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const H=(e,t)=>{if(!e||!t)return null!=e?e:[];const n=e.map((e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)));return null==t||t.forEach((({idButton:e,overrides:t})=>{const i=n.find((({id:t})=>t===e));i&&"boolean"==typeof(null==t?void 0:t.enabled)&&(i.enabled=t.enabled)})),n},W=({type:e,idBoard:t,idOrganization:n})=>{var a,r;const o=!n;Object(B.a)("Board",t),Object(B.a)("Organization",n,o);const[s,l]=Object(i.useState)([]),{data:c}=function(e){const t=F(F({},R),e);return C.useQuery(U,t)}({variables:{idBoard:t,idOrganization:n,skipOrganization:o},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"});return Object(i.useEffect)((()=>{c&&l(((e,{member:t,board:n,organization:i})=>{var a,r;return n?[H(null!==(a=null==i?void 0:i.sharedButlerButtons)&&void 0!==a?a:[],n.butlerButtonOverrides),H(null!==(r=null==i?void 0:i.privateButlerButtons)&&void 0!==r?r:[],n.butlerButtonOverrides),H(n.sharedButlerButtons,n.butlerButtonOverrides),H(n.privateButlerButtons,n.butlerButtonOverrides)].flatMap((n=>n.filter((t=>t.enabled&&t.type===e)).sort(((e,t)=>e.pos-t.pos)).sort(((e,n)=>e.idMemberOwner===(null==t?void 0:t.id)&&n.idMemberOwner!==(null==t?void 0:t.id)?-1:e.idMemberOwner!==(null==t?void 0:t.id)&&n.idMemberOwner===(null==t?void 0:t.id)?1:0)))).slice(0,n.butlerButtonLimit).sort(((e,t)=>e.label.localeCompare(t.label))):[]})(e,c))}),[e,c]),{buttons:s,limit:Math.max(null!==(a=null==c||null===(r=c.board)||void 0===r?void 0:r.butlerButtonLimit)&&void 0!==a?a:20,20)}};var K=n("./app/src/components/Butler/Buttons/ButlerCardButtons.less"),q=n.n(K);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const G=Object(g.forNamespace)("butler"),Z=({idCard:e,idBoard:t,idOrganization:r})=>{const{buttons:o,limit:s}=W({type:"card-button",idBoard:t,idOrganization:r}),{shouldDisplayUpgradePrompt:g}=Object(b.useUpgradePromptRules)(r),y=Object(m.useLazyComponent)((()=>Promise.resolve().then(n.bind(null,"./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx"))),{namedImport:"UpgradeSmartComponent"}),{popoverProps:C,triggerRef:j,show:w,hide:x}=Object(p.e)({onShow:()=>{c.Analytics.sendScreenEvent({name:"butlerUpsellInlineDialog",containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:r})})}}),{popoverProps:_,triggerRef:E,toggle:O}=Object(p.e)({onShow:()=>{c.Analytics.sendScreenEvent({name:"aboutButlerInlineDialog",containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:r}),attributes:{numCardButtons:o.length}})}}),T=Object(m.useLazyComponent)((()=>n.e(26).then(n.bind(null,"./app/src/components/Butler/Buttons/AddCardButtonPopover.tsx"))),{namedImport:"AddCardButtonPopover"}),{popoverProps:D,triggerRef:N,toggle:I,push:A,pop:B,hide:L}=Object(p.e)({onShow:()=>{c.Analytics.sendScreenEvent({name:"addButlerCardButtonInlineDialog",containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:r}),attributes:{numCardButtons:o.length}})}}),F=e=>{e===v.a.PowerupUsageExceeded&&g?w():Object(v.b)(e)},M=({source:n,butlerTab:i,butlerCmdEdit:a})=>{n&&c.Analytics.sendClickedLinkEvent({linkName:"openButlerLink",source:n,containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:r})}),Object(k.d)(t,i,a)},R=S(t),U=(n=!1)=>{c.Analytics.sendClickedButtonEvent({buttonName:"addButlerCardButtonButton",source:"cardDetailScreen",containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:r}),attributes:{numCardButtons:o.length,viaKeypress:n}}),o.length>=s?Object(v.b)(v.a.ButtonLimitMet):R?I():Object(k.d)(t)},V=(n=!1)=>{c.Analytics.sendClickedLinkEvent({linkName:"giveFeedbackLink",source:"aboutButlerInlineDialog",containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:r}),attributes:{viaKeypress:n}})};return a.a.createElement("div",{className:"window-module u-clearfix",ref:j},a.a.createElement("div",{className:q.a.header},a.a.createElement("h3",{className:"mod-no-top-margin"},Object(f.getButlerName)()),a.a.createElement("a",{className:l()(["button-link",q.a.informationIcon]),onClick:O,onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&O()},ref:E,role:"button",tabIndex:0},a.a.createElement(u.a,{size:"small"}))),a.a.createElement("div",{className:"u-clearfix"},o.map((n=>a.a.createElement(P,{key:n.id,button:n,idCard:e,idBoard:t,idOrganization:r,cardButtonCallback:F}))),a.a.createElement("div",null,a.a.createElement("a",{className:"button-link add-button-link",onClick:()=>U(),onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&U(!0)},role:"button",ref:N,tabIndex:0,title:G("add button")},G("add button")))),D.isVisible?a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(T,{idCard:e,idBoard:t,idOrganization:r,popoverProps:D,push:A,pop:B,hide:L,goToButlerDirectory:(e,t)=>{M({butlerTab:e,butlerCmdEdit:t}),L()}})):null,a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(y,{orgId:r,promptId:"butlerUpsellPopoverPromptFull",additionalProps:{popoverProps:C,goToButler:()=>{M({source:"butlerUpsellInlineDialog"}),x()},ctaOnClick:x}})),a.a.createElement(p.b,$({},_,{title:G("about butler")}),a.a.createElement("div",{className:q.a.aboutButlerPopoverContent},a.a.createElement("p",null,G("about butler description 1")),a.a.createElement("p",null,G("about butler description 2"))),a.a.createElement(h.Button,{appearance:"primary",size:"fullwidth",onClick:()=>M({source:"aboutButlerInlineDialog"}),onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&M({source:"aboutButlerInlineDialog"})},tabIndex:0},G("go to the butler directory")),a.a.createElement("div",{className:q.a.feedbackLinkContainer},a.a.createElement("a",{href:"https://trello.typeform.com/to/VVTrq577",target:"_blank",className:q.a.feedbackLink,onClick:()=>V(),onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&V(!0)}},G("give us feedback")))))},J=e=>a.a.createElement(o.ErrorBoundary,{tags:{ownershipArea:"trello-workflowers",feature:r.Feature.ButlerOnBoards}},a.a.createElement(Z,e));var Y=n("./packages/nachos/icons/external-link.tsx"),X=n("./app/scripts/views/lib/pop-over.js"),Q=n.n(X),ee=n("./app/src/components/ComponentWrapper/index.ts"),te=n("./app/src/components/NewFeature/index.ts"),ne=n("./app/src/components/Butler/CommandEditors/index.ts"),ie=n("./app/src/components/Butler/ListRule/listRuleDraftState.ts");var ae=n("./app/src/components/Butler/ListRule/ButlerListMenuSection.less"),re=n.n(ae);function oe(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const se=Object(g.forTemplate)("list_menu"),le=Object(g.forNamespace)(["butler","create list rule popover"]),ce=e=>{let{listName:t}=e,s=oe(e,["listName"]);const u=Object(m.useLazyComponent)((()=>n.e(59).then(n.bind(null,"./app/src/components/Butler/ListRule/CreateListRulePopover.tsx"))),{namedImport:"CreateListRulePopover"}),{acknowledgeNewFeature:p}=Object(te.useNewFeature)(te.FeatureId.ButlerOnBoardsV2),{idBoard:h}=s;if(!S(h))return null;const g=e=>{p({explicit:!0,source:"listMenuInlineDialog"}),(({template:e,listName:t})=>{switch(e){case"when-a-card-is-added-to-the-list":return void ie.a.setValue({TRIGGER:{type:"WHEN",WHEN:{type:"CARD_INTO_LIST",CARD_INTO_LIST:{$LIST:t}}},ACTION:[]});case"every-day-sort-list-by":{const e=Object(ne.c)("SORT_LIST_ACTION");return e.SORT_LIST_ACTION.$LIST=t,void ie.a.setValue({TRIGGER:{type:"EVERY",EVERY:{type:"EVERY_DAY",EVERY_DAY:!0}},ACTION:[e]})}case"every-monday-sort-list-by":{const e=Object(ne.c)("SORT_LIST_ACTION");return e.SORT_LIST_ACTION.$LIST=t,void ie.a.setValue({TRIGGER:{type:"EVERY",EVERY:{type:"CERTAIN_DAYS",CERTAIN_DAYS:{DAY:1}}},ACTION:[e]})}default:throw new Error("Invalid template: ".concat(e))}})({template:e,listName:t}),Q.a.pushView({getViewTitle:()=>le("new rule"),reactElement:a.a.createElement(ee.ComponentWrapper,{key:"butlerCreateListRulePopover"},a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(o.ErrorBoundary,{tags:{ownershipArea:"trello-workflowers",feature:r.Feature.ButlerOnBoards}},a.a.createElement(u,s))))}),c.Analytics.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"butlerRuleTemplateMenuItem",source:"listMenuInlineDialog",containers:Object(c.formatContainers)(s),attributes:{template:e}})},b=async()=>{p({explicit:!0,source:"listMenuInlineDialog"}),await Object(k.d)(h,k.b.Rules,k.a),c.Analytics.sendClickedButtonEvent({buttonName:"createCustomButlerRuleButton",source:"listMenuInlineDialog",containers:Object(c.formatContainers)(s)}),Q.a.hide()};return a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",null),a.a.createElement("div",{className:re.a.header},a.a.createElement("div",{className:re.a.title},Object(f.getButlerName)(),a.a.createElement("span",{className:re.a.newPill},a.a.createElement(te.NewPill,{featureId:te.FeatureId.ButlerOnBoardsV2,source:"listMenuInlineDialog"})))),a.a.createElement("ul",{className:l()("pop-over-list",re.a.templates)},["when-a-card-is-added-to-the-list","every-day-sort-list-by","every-monday-sort-list-by"].map((e=>{const t=se(e);return a.a.createElement("li",{key:e},a.a.createElement("a",{className:re.a.template,onClick:()=>g(e),onKeyDown:t=>{Object(d.isSubmitEvent)(t)&&g(e)},role:"link",title:t,tabIndex:0},t))})),a.a.createElement("li",null,a.a.createElement("a",{className:re.a.customRuleButton,onClick:b,onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&b()},role:"link",title:se("create-a-custom-rule"),tabIndex:0},a.a.createElement("span",{className:re.a.customRuleLabel},se("create-a-custom-rule")),a.a.createElement("span",{className:re.a.externalLinkIcon},a.a.createElement(Y.a,null))))))}},"./app/src/components/Butler/showButlerAlert.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var i=n("./packages/nachos/experimental.ts"),a=n("./packages/i18n/index.ts");const r=Object(a.forNamespace)(["butler","alert"]);let o;!function(e){e.Success="Success",e.InvalidCommand="InvalidCommand",e.PowerupUsageExceeded="PowerupUsageExceeded",e.RunButtonError="RunButtonError",e.NetworkError="NetworkError",e.ButtonLimitMet="ButtonLimitMet",e.GatewayTimeout="GatewayTimeout",e.CommandTooLong="CommandTooLong",e.CommandStorageExceeded="CommandStorageExceeded",e.SomethingWentWrong="SomethingWentWrong",e.Unauthorized="Unauthorized"}(o||(o={}));const s={[o.Success]:{appearance:"success",title:r("success")},[o.InvalidCommand]:{appearance:"error",title:r("invalid command")},[o.PowerupUsageExceeded]:{appearance:"error",title:r("usage exceeded"),learnMoreHref:"https://help.trello.com/article/1181-butler-features-and-quotas"},[o.RunButtonError]:{appearance:"error",title:r("button error"),learnMoreHref:"https://help.trello.com/article/1150-opening-the-butler-usage-log"},[o.NetworkError]:{appearance:"error",title:r("network error")},[o.ButtonLimitMet]:{appearance:"error",title:r("button limit met"),learnMoreHref:"https://help.trello.com/article/1181-butler-features-and-quotas"},[o.GatewayTimeout]:{appearance:"error",title:r("gateway timeout")},[o.CommandTooLong]:{appearance:"error",title:r("command too long")},[o.CommandStorageExceeded]:{appearance:"error",title:r("command storage exceeded")},[o.SomethingWentWrong]:{appearance:"error",title:r("something went wrong")},[o.Unauthorized]:{appearance:"error",title:r("unauthorized")}};function l(e){const{appearance:t,title:n,learnMoreHref:a}=s[e];t&&n&&Object(i.showFlag)({title:n,appearance:t,actions:a?[{content:r("learn more"),href:a,target:"_blank",type:"link"}]:void 0,isAutoDismiss:!0,msTimeout:5e3})}},"./app/src/components/Butler/showButlerDirectory.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return v}));var i=n("./packages/error-reporting/index.ts"),a=n("./app/scripts/data/butler-id.js"),r=n("./app/scripts/db/model-cache.js"),o=n.n(r),s=n("./app/scripts/debug/constants.ts"),l=n("./app/scripts/views/internal/plugins/plugin-runner.js"),c=n.n(l),d=n("./app/src/components/Butler/CommandMetadata/index.ts"),u=n("./packages/feature-flag-client/index.ts"),p=n("./app/scripts/controller/index.js"),m=n.n(p);let h;!function(e){e.Rules="rules",e.BoardButton="board-button",e.CardButton="card-button",e.Schedule="scheduled",e.DueDate="on-date"}(h||(h={}));const g=e=>{var t;switch(null===(t=Object(d.i)(e.TRIGGER))||void 0===t?void 0:t.commandType){case"rule":return h.Rules;case"schedule":return h.Schedule;case"on-date":return h.DueDate;default:return}},b="new",f=async(e,t,n)=>{if(u.featureFlagClient.get("workflowers.new-butler-board-button",!1))return m.a.getCurrentBoardView().navigateToButlerView({tab:t,edit:n});const r=o.a.get("Board",e);try{await c.a.one({plugin:a.BUTLER_POWER_UP_ID,command:"show-settings",board:r,options:{butlerTab:t,butlerCmdEdit:n}})}catch(e){Object(i.sendErrorEvent)(e,{tags:{ownershipArea:"trello-workflowers",feature:s.Feature.ButlerOnBoards}})}},v=async()=>m.a.getCurrentBoardView().toggleButlerView()},"./app/src/components/CardBackBanner/ArchivedCardBanner.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardBackBanner/ArchivedCardBanner.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardBackBanner/ArchivedListBanner.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardBackBanner/ArchivedListBanner.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardBackBanner/TemplateCardBanner.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardBackBanner/TemplateCardBanner.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardBackBanner/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CardBackBanner",(function(){return K}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/@apollo/client/index.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={context:{operationName:"CardBackBanner"}},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardBackBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idCard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"list"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"closed"}}]}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"idUploadedBackground"}}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};var u=n("./packages/nachos/icons/archive.tsx"),p=n("./packages/i18n/index.ts"),m=n("./app/src/components/CardBackBanner/ArchivedCardBanner.less"),h=n.n(m),g=n("./packages/test-ids/index.ts");const b=Object(p.forTemplate)("card_detail"),f=()=>a.a.createElement("div",{className:h.a.archivedBanner,"data-test-id":g.CardBackTestIds.ArchivedBanner},a.a.createElement(u.a,{dangerous_className:h.a.archiveBannerIcon,size:"large"}),a.a.createElement("p",{className:h.a.archivedBannerText},b("this-card-is-archived")));var v=n("./app/src/components/CardBackBanner/ArchivedListBanner.less"),k=n.n(v);const y=Object(p.forTemplate)("card_detail"),C=()=>a.a.createElement("div",{className:k.a.archivedBanner},a.a.createElement(u.a,{dangerous_className:k.a.archiveBannerIcon,size:"large"}),a.a.createElement("p",{className:k.a.archivedBannerText},y("this-card-is-in-an-archived-list")));var j=n("./node_modules/classnames/index.js"),w=n.n(j),x=n("./packages/nachos/button.ts"),_=n("./packages/nachos/src/components/Icon/index.ts");const E=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M5 3C3.89543 3 3 3.89543 3 5V7C3 7.55229 3.44772 8 4 8C4.55228 8 5 7.55229 5 7V5H7C7.55228 5 8 4.55229 8 4C8 3.44772 7.55228 3 7 3H5Z",fill:"currentColor"}),a.a.createElement("path",{d:"M21 5C21 3.89543 20.1046 3 19 3H17C16.4477 3 16 3.44772 16 4C16 4.55228 16.4477 5 17 5H19V7C19 7.55228 19.4477 8 20 8C20.5523 8 21 7.55228 21 7V5Z",fill:"currentColor"}),a.a.createElement("path",{d:"M5 21C3.89543 21 3 20.1046 3 19V17C3 16.4477 3.44772 16 4 16C4.55228 16 5 16.4477 5 17V19H7C7.55228 19 8 19.4477 8 20C8 20.5523 7.55228 21 7 21H5Z",fill:"currentColor"}),a.a.createElement("path",{d:"M4 10C3.44772 10 3 10.4477 3 11V13C3 13.5523 3.44772 14 4 14C4.55228 14 5 13.5523 5 13V11C5 10.4477 4.55228 10 4 10Z",fill:"currentColor"}),a.a.createElement("path",{d:"M11 5C10.4477 5 10 4.55228 10 4C10 3.44772 10.4477 3 11 3H13C13.5523 3 14 3.44772 14 4C14 4.55228 13.5523 5 13 5H11Z",fill:"currentColor"}),a.a.createElement("path",{d:"M14 10C14 9.44771 14.4477 9 15 9C15.5523 9 16 9.44772 16 10V14H20C20.5523 14 21 14.4477 21 15C21 15.5523 20.5523 16 20 16H16V20C16 20.5523 15.5523 21 15 21C14.4477 21 14 20.5523 14 20V16H10C9.44771 16 9 15.5523 9 15C9 14.4477 9.44772 14 10 14H14V10Z",fill:"currentColor"})),S=e=>{const{testId:t,dangerous_className:n,size:i,color:r,label:o,block:s}=e;return a.a.createElement(_.a,{testId:t,size:i,dangerous_className:n,color:r,block:s,label:o||"TemplateCreateIcon",glyph:E})};var O=n("./app/src/components/CardTemplatesPopover/index.ts"),T=n("./app/scripts/controller/navigate.js");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A={context:{operationName:"CreateCardFromTemplate"}},P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCardFromTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCardSource"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idList"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepFromSource"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"copyCard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idCardSource"},value:{kind:"Variable",name:{kind:"Name",value:"idCardSource"}}},{kind:"Argument",name:{kind:"Name",value:"idList"},value:{kind:"Variable",name:{kind:"Name",value:"idList"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"keepFromSource"},value:{kind:"Variable",name:{kind:"Name",value:"keepFromSource"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"shortLink"}}]}}]}}]};var B=n("./app/src/components/CardBackBanner/TemplateCardBanner.less"),L=n.n(B),F=n("./packages/atlassian-analytics/index.ts"),M=n("./packages/nachos/popover.ts"),R=n("./packages/error-reporting/index.ts"),U=n("./app/scripts/debug/constants.ts");function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const z=Object(p.forTemplate)("card_detail"),H=(Symbol("CARD_BACK_CREATE_FROM_TEMPLATE"),({idCard:e,editable:t,hasCover:n,hasStickers:o})=>{const s=Object(i.useCallback)((()=>{F.Analytics.sendClickedButtonEvent({buttonName:"createCardFromTemplateButton",source:"cardDetailScreen",attributes:{isTemplate:!0}})}),[]),{toggle:l,hide:c,popoverProps:d,triggerRef:u}=Object(M.e)({onShow:s}),[p]=function(e){const t=N(N({},A),e);return r.useMutation(P,t)}();return a.a.createElement("div",{className:w()(L.a.templateCardBanner,{[L.a.hasCover]:n,[L.a.hasStickers]:o})},a.a.createElement("span",{className:L.a.templateCardBannerImage}),a.a.createElement("h3",{className:L.a.templateCardBannerText,"data-test-id":g.CardTemplateTestIds.TemplateCardBackBanner},z("this-is-a-template-card")),t?a.a.createElement(x.Button,{iconBefore:a.a.createElement(S,{color:"light",size:"medium"}),className:L.a.templateCardBannerButton,appearance:"primary",ref:u,onClick:l,testId:g.CardTemplateTestIds.CreateCardFromTemplateBannerButton},z("create-card-from-template")):null,a.a.createElement(M.b,V({},d,{title:z("create-card-from-template"),dangerous_className:L.a.popover}),a.a.createElement(O.CreateCardFromTemplatePopover,{idCard:e,showLists:!0,hideEditButton:!0,createCard:async(e,t,n,i)=>{if(!i)return;const a=F.Analytics.startTask({taskName:"create-card",subTask:"template",source:"createCardFromTemplateInlineDialog"});F.Analytics.sendClickedButtonEvent({buttonName:"createCardButton",source:"createCardFromTemplateInlineDialog"});try{const{data:r}=await p({variables:{idCardSource:t,idList:i,name:e,keepFromSource:n,traceId:a}}),o=null==r?void 0:r.copyCard;o&&(F.Analytics.sendTrackEvent({action:"created",actionSubject:"card",source:"createCardFromTemplateInlineDialog",containers:{card:{id:o.id},list:{id:i}},attributes:{taskId:a}}),F.Analytics.taskSucceeded({taskName:"create-card",subTask:"template",traceId:a,source:"createCardFromTemplateInlineDialog"}),c(),Object(T.navigate)("/c/".concat(o.shortLink),{trigger:!0}))}catch(e){throw Object(R.sendErrorEvent)(e,{tags:{ownershipArea:"trello-remarkable",feature:U.Feature.TemplateCard}}),F.Analytics.taskFailed({taskName:"create-card",subTask:"template",traceId:a,source:"createCardFromTemplateInlineDialog",error:e})}}})))});var W=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx");const K=({idCard:e,editable:t})=>{const{data:n,loading:i,error:o}=function(e){const t=s(s({},c),e);return r.useQuery(d,t)}({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{idCard:e}}),l=n&&n.card?n.card:null;if(!l||i||o)return null;const u=!(!l.cover||!(l.cover.color||l.cover.idAttachment||l.cover.idUploadedBackground)),p=l.stickers&&l.stickers.length>0;return l.isTemplate?a.a.createElement(W.ErrorBoundary,{tags:{ownershipArea:"trello-remarkable",feature:U.Feature.TemplateCard},errorHandlerComponent:()=>null},a.a.createElement(H,{idCard:e,hasStickers:p,hasCover:u,editable:t})):l.closed?a.a.createElement(f,null):l.list.closed?a.a.createElement(C,null):null}},"./app/src/components/CardCoverChooser/CardCoversSetting.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/CardCoversSetting.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/ColorCover.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/ColorCover.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/MiniCard.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/MiniCard.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/SearchResultImageButton.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResultImageButton.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/SearchResultImageButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),o=n.n(r),s=n("./packages/i18n/index.ts"),l=n("./packages/nachos/spinner.ts"),c=n("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),d=n("./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx"),u=n("./app/src/components/CardCoverChooser/SearchResultImageButton.less"),p=n.n(u),m=n("./packages/unsplash/index.ts"),h=n("./packages/atlassian-analytics/index.ts");const g=Object(s.forTemplate)("card_cover_chooser"),b=n("./app/scripts/views/board-create/photo-attribution-component.js"),f=({cardId:e,index:t,urls:n,links:i,user:r,onSetCover:s,onSetCoverFailed:u,buttonClassName:f,onClick:v})=>{const{data:k}=Object(c.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[y,{loading:C}]=Object(d.a)({onError:u,onCompleted:()=>{s()}}),j=null==k?void 0:k.card,w={organization:{id:null==j?void 0:j.board.idOrganization},board:{id:null==j?void 0:j.board.id},card:{id:null==j?void 0:j.id}};return a.a.createElement("div",{key:t,className:p.a.backgroundGridItem},a.a.createElement("button",{className:o()("button",p.a.coverTilesItem,f),style:{backgroundImage:"url('".concat(n.thumb,"')")},onClick:t=>{v&&v(t),t.isDefaultPrevented()||(async t=>{const n=h.Analytics.startTask({taskName:"edit-card",subTask:"cover",source:"cardCoverInlineDialog"});try{await y({variables:{traceId:n,cardId:e,cover:t}}),h.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",value:t.url,taskId:n},containers:w}),h.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover",traceId:n,source:"cardCoverInlineDialog"})}catch(e){throw h.Analytics.taskFailed({taskName:"edit-card",subTask:"cover",traceId:n,source:"cardCoverInlineDialog",error:e})}m.unsplashClient.trackDownload({links:i})})({url:m.unsplashClient.appendImageParameters(n.raw)})}},C?a.a.createElement("div",{className:p.a.upload},a.a.createElement(l.a,{wrapperClassName:p.a.spinnerWrapper,inline:!0,modLeft:!0,small:!0,text:g("uploading-ellipsis")})):a.a.createElement(b,{user:r,size:"small"})))}},"./app/src/components/CardCoverChooser/SearchResults.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResults.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@apollo/client/index.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={context:{operationName:"SearchUnsplash"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SearchUnsplash"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"perPage"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unsplashPhotos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"perPage"},value:{kind:"Variable",name:{kind:"Name",value:"perPage"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"urls"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumb"}},{kind:"Field",name:{kind:"Name",value:"raw"}}]}},{kind:"Field",name:{kind:"Name",value:"links"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"download_location"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"links"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"html"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]};function c(e){const t=r(r({},s),e);return i.useQuery(l,t)}},"./app/src/components/CardCoverChooser/SelectAttachmentCover.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectAttachmentCover.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/SelectCover.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectCover.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/SelectCover.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"getPotentialCovers",(function(){return Fe})),n.d(t,"SelectCover",(function(){return Me}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/i18n/index.ts"),o=n("./node_modules/classnames/index.js"),s=n.n(o),l=n("./app/src/components/CardCoverChooser/SelectCover.less"),c=n.n(l),d=n("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),u=n("./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx"),p=n("./packages/atlassian-analytics/index.ts"),m=n("./app/src/components/CardCoverChooser/ColorCover.less"),h=n.n(m);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=Object(r.forTemplate)("card_cover_chooser"),k=["green","yellow","orange","red","purple","blue","sky","lime","pink","black"],y=({cardId:e})=>{const{data:t}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[n]=Object(u.a)(),i=null==t?void 0:t.card,r=null==i?void 0:i.cover,o=null==r?void 0:r.color,l={organization:{id:null==i?void 0:i.board.idOrganization},board:{id:null==i?void 0:i.board.id},card:{id:null==i?void 0:i.id}};return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",{className:h.a.heading},v("colors")),a.a.createElement("div",{className:h.a.colorTiles},k.map((t=>a.a.createElement("button",{key:t,onClick:()=>{p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverColorTile",source:"cardCoverInlineDialog",attributes:{value:t},containers:l}),(async t=>{let i={color:t,brightness:"black"===t?"dark":"light"};const a=p.Analytics.startTask({taskName:"edit-card",subTask:"cover",source:"cardCoverInlineDialog"});t===o?(i=null,p.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"color",taskId:a},containers:l})):p.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"color",value:t,taskId:a},containers:l});try{await n({variables:{cardId:e,cover:i,traceId:a},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:b(b({__typename:"Card_Cover"},r),{},i?{color:t,brightness:i.brightness,idUploadedBackground:null,idAttachment:null}:{color:null,idUploadedBackground:null,idAttachment:null,scaled:null}),idAttachmentCover:null}}}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover",traceId:a,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:"cover",traceId:a,source:"cardCoverInlineDialog",error:e})}})(t)},className:s()(h.a.colorTile,h.a[t],{[h.a.selected]:t===o})})))))};var C=n("./packages/nachos/spinner.ts"),j=n("./app/common/lib/util/preview.ts"),w=n("./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx"),x=n("./app/src/components/CardCoverChooser/MiniCard.less"),_=n.n(x);const E=({onClick:e,coverSize:t,coverColor:n,coverImageUrl:i,selected:r,textColor:o="dark",disabled:l})=>{const c="normal"===t,d="full"===t,u=n?_.a[n]:null,p=d?u:null;let m="linear-gradient(to bottom, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5))";return"light"===o&&(m="linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))"),a.a.createElement("div",{role:"button",onClick:l?void 0:e,className:s()(_.a.miniCard,p,{[_.a.hasCover]:c,[_.a.hasFullCover]:d,[_.a.colorCardCover]:d&&Boolean(n),[_.a.imageCardCover]:d&&Boolean(i),[_.a.selected]:r,[_.a.disabled]:l}),style:{backgroundImage:d&&i?"".concat(m,", url(").concat(i,")"):void 0}},c&&a.a.createElement("div",{className:s()(_.a.cover,u,{[_.a.colorCardCover]:Boolean(n),[_.a.imageCardCover]:Boolean(i)}),style:{backgroundImage:i?"url(".concat(i,")"):void 0}}),a.a.createElement("div",{className:s()(_.a.content,{[_.a.light]:"light"===o})},a.a.createElement("div",{className:_.a.longName}),a.a.createElement("div",{className:_.a.shortName}),a.a.createElement("div",{className:_.a.badges},a.a.createElement("div",{className:_.a.badge}),a.a.createElement("div",{className:_.a.badge})),a.a.createElement("div",{className:_.a.avatar})))};var S=n("./app/src/components/CardCoverChooser/SelectSize.less"),O=n.n(S);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=Object(r.forTemplate)("card_cover_chooser"),A=({cardId:e,cover:t})=>{const{data:n}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[r]=Object(u.a)(),o=null==n?void 0:n.card,s={organization:{id:null==o?void 0:o.board.idOrganization},board:{id:null==o?void 0:o.board.id},card:{id:null==o?void 0:o.id}},l=Object(i.useCallback)((async n=>{const i=p.Analytics.startTask({taskName:"edit-card",subTask:"cover",source:"cardCoverInlineDialog"});try{await r({variables:{traceId:i,cardId:e,cover:{size:n}},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:D(D({__typename:"Card_Cover"},t),{},{size:n}),idAttachmentCover:null==t?void 0:t.idAttachment}}}),p.Analytics.sendTrackEvent({action:"updated",actionSubject:"coverSize",source:"cardCoverInlineDialog",attributes:{value:n,taskId:i},containers:s}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover",traceId:i,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:"cover",traceId:i,source:"cardCoverInlineDialog",error:e})}}),[e,s,t,r]),c=Object(i.useCallback)((()=>{p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverSizeTile",source:"cardCoverInlineDialog",attributes:{value:"normal"},containers:s}),l("normal")}),[s,l]),m=Object(i.useCallback)((()=>{p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverSizeTile",source:"cardCoverInlineDialog",attributes:{value:"full"},containers:s}),l("full")}),[s,l]),h=t&&t.scaled?Object(j.smallestPreviewBiggerThan)(t.scaled,86,64)||Object(j.biggestPreview)(t.scaled):null,g=t&&(t.idAttachment||(null==t?void 0:t.color)||(null==t?void 0:t.idUploadedBackground)||(null==t?void 0:t.idPlugin));return a.a.createElement("div",{className:O.a.selectSize},a.a.createElement("h4",{className:O.a.heading},I("size")),a.a.createElement("div",{className:O.a.sizeTiles},a.a.createElement(E,{onClick:c,coverSize:"normal",coverColor:null==t?void 0:t.color,coverImageUrl:null==h?void 0:h.url,selected:Boolean(g&&"normal"===(null==t?void 0:t.size)),disabled:!g}),a.a.createElement(E,{onClick:m,coverSize:"full",coverColor:null==t?void 0:t.color,coverImageUrl:null==h?void 0:h.url,selected:Boolean(g&&"full"===(null==t?void 0:t.size)),textColor:"dark"===(null==t?void 0:t.brightness)?"light":"dark",disabled:!g})))};var P=n("./app/src/components/CardCoverChooser/SelectTextColor.less"),B=n.n(P);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const R=Object(r.forTemplate)("card_cover_chooser"),U=({cardId:e,cardName:t,cover:n})=>{const{data:r}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[o]=Object(u.a)(),l=null==r?void 0:r.card,c={organization:{id:null==l?void 0:l.board.idOrganization},board:{id:null==l?void 0:l.board.id},card:{id:null==l?void 0:l.id}},m=Object(i.useCallback)((async t=>{const i=p.Analytics.startTask({taskName:"edit-card",subTask:"cover",source:"cardCoverInlineDialog"});try{await o({variables:{traceId:i,cardId:e,cover:{brightness:t}},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:F(F({__typename:"Card_Cover"},n),{},{brightness:t}),idAttachmentCover:null==n?void 0:n.idAttachment}}}),p.Analytics.sendTrackEvent({action:"updated",actionSubject:"coverBrightness",source:"cardCoverInlineDialog",attributes:{value:t,taskId:i},containers:c}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover",traceId:i,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:"cover",traceId:i,source:"cardCoverInlineDialog",error:e})}}),[e,c,n,o]),h=Object(i.useCallback)((()=>{m("dark"),p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverTextColorTile",source:"cardCoverInlineDialog",attributes:{value:"dark"},containers:c})}),[m,c]),g=Object(i.useCallback)((()=>{m("light"),p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverTextColorTile",source:"cardCoverInlineDialog",attributes:{value:"light"},containers:c})}),[m,c]);let b="dark";"dark"===(null==n?void 0:n.brightness)&&(b="light");const f=null==n?void 0:n.color,v=f?B.a[f]:null,k=n&&n.scaled?Object(j.smallestPreviewBiggerThan)(n.scaled,86,64)||Object(j.biggestPreview)(n.scaled):null,y=s()(B.a.textColorTile,v,{[B.a.colorCardCover]:v}),C={backgroundImage:null!=k&&k.url?"".concat("linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))",", url(").concat(k.url,")"):void 0},w={backgroundImage:null!=k&&k.url?"".concat("linear-gradient(to bottom, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5))",", url(").concat(k.url,")"):void 0};return a.a.createElement("div",{className:B.a.selectTextColor},a.a.createElement("h4",{className:B.a.heading},R("text-color")),a.a.createElement("div",{className:B.a.textColorTiles},a.a.createElement("div",{role:"button",onClick:h,className:s()(y,{[B.a.selected]:"light"===b}),style:C},a.a.createElement("h3",{className:s()(B.a.name,B.a.light)},t)),a.a.createElement("div",{role:"button",onClick:g,className:s()(y,{[B.a.selected]:"dark"===b}),style:w},a.a.createElement("h3",{className:B.a.name},t))))};var V=n("./app/src/components/CardCoverChooser/Upload.less"),z=n.n(V),H=n("./node_modules/@apollo/client/index.js");function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $={context:{operationName:"UploadCover"}},G={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"file"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FileUpload"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uploadCardCover"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"Argument",name:{kind:"Name",value:"file"},value:{kind:"Variable",name:{kind:"Name",value:"file"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]};const Z=Object(r.forTemplate)("card_cover_chooser"),J=({cardId:e,onFileSelected:t,onFileUploaded:n,onUploadFailed:r,hideHeading:o,className:l})=>{const{data:c}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),u=null==c?void 0:c.card,m={organization:{id:null==u?void 0:u.board.idOrganization},board:{id:null==u?void 0:u.board.id},card:{id:null==u?void 0:u.id}},[h,{loading:g,error:b}]=function(e){const t=K(K({},$),e);return H.useMutation(G,t)}({onError:r,onCompleted:()=>{p.Analytics.sendTrackEvent({action:"uploaded",actionSubject:"cover",source:"cardCoverInlineDialog",containers:m}),n&&n()}}),[f,v]=Object(i.useState)(),k=Object(i.useRef)(null);return g?a.a.createElement(C.a,{centered:!0}):a.a.createElement("div",{className:l},!o&&a.a.createElement("h4",{className:z.a.heading},Z("upload")),a.a.createElement("input",{ref:k,className:z.a.fileInput,type:"file",accept:"image/*",onClick:()=>{v(void 0)},onChange:async n=>{const i=n.target,a=i.files&&i.files[0];if(a){v(a),t&&t();const n=p.Analytics.startTask({taskName:"create-attachment",subTask:"card-cover",source:"cardCoverInlineDialog"});try{await h({variables:{traceId:n,cardId:e,file:a}}),p.Analytics.taskSucceeded({taskName:"create-attachment",subTask:"card-cover",traceId:n,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"create-attachment",subTask:"card-cover",traceId:n,source:"cardCoverInlineDialog",error:e})}}}}),a.a.createElement("button",{className:s()("button",z.a.upload),onClick:()=>{k.current&&k.current.click(),p.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentUploadButton",source:"cardCoverInlineDialog",containers:m})}},Z("upload-a-cover-image")),b&&f?a.a.createElement("div",{className:z.a.error},Z("unable-to-use-file-as-card-cover",{fileName:f.name})):a.a.createElement("div",{className:z.a.tip},Z("tip-drag-an-image")))};var Y=n("./app/src/components/CardCoverChooser/SelectAttachmentCover.less"),X=n.n(Y);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne=Object(r.forTemplate)("card_cover_chooser"),ie=({cardId:e})=>{var t;const{data:n}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"});if(null==n||!n.card)throw new Error("Failed to load card details from cache for SelectAttachmentCover.");const r=n.card,{attachments:o}=r,l=null===(t=r.cover)||void 0===t?void 0:t.idAttachment,[c,m]=Object(i.useState)(!1),[h,g]=Object(i.useState)(l),[b,f]=Object(i.useState)(!1),[v]=Object(u.a)();if(null==n||!n.card)throw new Error("Failed to load card details from cache for SelectAttachmentCover.");const k={organization:{id:null==r?void 0:r.board.idOrganization},board:{id:null==r?void 0:r.board.id},card:{id:null==r?void 0:r.id}},y=async t=>{const n=p.Analytics.startTask({taskName:"edit-card",subTask:"idAttachmentCover",source:"cardCoverInlineDialog"});try{await v({variables:{traceId:n,cardId:e,cover:t},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:ee(ee({__typename:"Card_Cover"},r.cover),{},t?{idAttachment:t.idAttachment,idUploadedBackground:null,color:null}:{idAttachment:null,idUploadedBackground:null,color:null}),idAttachmentCover:null==t?void 0:t.idAttachment}}}),t?p.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"attachment",value:t.idAttachment,taskId:n},containers:k}):p.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"attachment",taskId:n},containers:k}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:"idAttachmentCover",traceId:n,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:"idAttachmentCover",traceId:n,source:"cardCoverInlineDialog",error:e})}},C=[];for(const e of o){const t=Object(j.smallestPreviewBiggerThan)(e.previews,256)||Object(j.biggestPreview)(e.previews);if(!t||!t.url)continue;const n={id:e.id,edgeColor:e.edgeColor||"transparent",thumbnailUrl:t.url,selected:l===e.id};h&&e.id===h?C.unshift(n):C.push(n)}const w=c?C:C.slice(0,6);return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",{className:X.a.heading},ne("attachments")),C.length>0&&a.a.createElement("div",{className:X.a.attachmentTiles},w.map((({id:e,edgeColor:t,thumbnailUrl:n,selected:i},r)=>a.a.createElement("button",{key:e,className:s()("button",X.a.attachmentTilesItem,{[X.a.selected]:i}),style:{backgroundColor:t,backgroundImage:"url('".concat(n,"')"),backgroundSize:"contain"},onClick:()=>{i?y(null):(y({idAttachment:e}),f(r>5)),p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverAttachmentTile",source:"cardCoverInlineDialog",attributes:{value:e},containers:k})}})))),C.length>6&&!c&&a.a.createElement("button",{className:s()("button",X.a.showMoreButton),onClick:()=>{p.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentShowMoreButton",source:"cardCoverInlineDialog",containers:k}),m(!0)}},ne("show-more")),c&&a.a.createElement("button",{className:s()("button",X.a.showFewerButton),onClick:()=>{var e;(p.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentShowFewerButton",source:"cardCoverInlineDialog",containers:k}),m(!1),b)&&g(null===(e=r.cover)||void 0===e?void 0:e.idAttachment)}},ne("show-fewer")),a.a.createElement(J,{cardId:e,className:s()(X.a.uploadButton,{[X.a.hasNoAttachments]:0===C.length,[X.a.hasPaginatedTiles]:C.length>6}),hideHeading:!0}))};var ae=n("./app/src/components/CardCoverChooser/SearchResultImageButton.tsx"),re=n("./app/src/components/CardCoverChooser/SelectUnsplashCover.less"),oe=n.n(re);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const de=Object(r.forTemplate)("card_cover_chooser"),ue=({cardId:e,navigateToAddCover:t})=>{var n;const[r,o]=Object(i.useState)(null),{data:l}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),{data:c}=Object(w.a)({variables:{query:"",perPage:9,page:1},fetchPolicy:"cache-only"}),[m]=Object(u.a)();if(null==l||!l.card)throw new Error("Failed to load card details from cache for SelectUnsplashCover.");const h=l&&l.card,g=h?h.cover:null,b={organization:{id:null==h?void 0:h.board.idOrganization},board:{id:null==h?void 0:h.board.id},card:{id:null==h?void 0:h.id}},f=async t=>{const n=p.Analytics.startTask({taskName:"edit-card",subTask:"cover",source:"cardCoverInlineDialog"});try{await m({variables:{traceId:n,cardId:e,cover:t},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:le(le({__typename:"Card_Cover"},h.cover),{},t?{idUploadedBackground:t.idUploadedBackground,idAttachment:null,color:null}:{idAttachment:null,idUploadedBackground:null,color:null}),idAttachmentCover:null}}}),t?p.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",value:t.idUploadedBackground,taskId:n},containers:b}):p.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",taskId:n},containers:b}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover",traceId:n,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:"cover",traceId:n,source:"cardCoverInlineDialog",error:e})}},[v]=Object(i.useState)(g);Object(i.useEffect)((()=>{const e=null==g?void 0:g.idUploadedBackground,t=(null==g?void 0:g.color)||(null==g?void 0:g.idAttachment);e&&!t||o(null)}),[g,v]);let k=null,y=6;if(v&&v.idUploadedBackground&&v.scaled){const e=Object(j.smallestPreviewBiggerThan)(v.scaled,256)||Object(j.biggestPreview)(v.scaled);e&&e.url&&(k=a.a.createElement("button",{key:"firstUnsplashCoverNode",className:s()("button",oe.a.unsplashTilesItem,{[oe.a.selected]:g&&v.idUploadedBackground===g.idUploadedBackground}),style:{backgroundColor:(null==v?void 0:v.edgeColor)||"transparent",backgroundImage:"url('".concat(e.url,"')"),backgroundSize:"cover"},onClick:()=>{p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",containers:b}),g&&v.idUploadedBackground===g.idUploadedBackground?(f(null),o(null)):null!=v&&v.idUploadedBackground&&(f({idUploadedBackground:v.idUploadedBackground}),o(null))}}),y=5)}const C=[];if(null!=c&&null!==(n=c.unsplashPhotos)&&void 0!==n&&n.length){let t=0;for(const n of c.unsplashPhotos.slice(0,y)){const{urls:i,links:l,user:c,id:d}=n;C.unshift(a.a.createElement(ae.a,{key:d,urls:i,links:l,user:c,index:t++,cardId:e,onSetCover:()=>{o(d)},onSetCoverFailed:()=>{},buttonClassName:s()(oe.a.unsplashTilesItem,{[oe.a.selected]:r===d}),onClick:e=>{r===d&&(e.preventDefault(),f(null)),p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",attributes:{value:i.raw},containers:b})}}))}}return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",{className:oe.a.heading},de("unsplash")),a.a.createElement("div",{className:oe.a.unsplashTiles},k,C),a.a.createElement("button",{className:s()("button",oe.a.searchButton),onClick:()=>{p.Analytics.sendClickedButtonEvent({buttonName:"cardCoverUnsplashSearchButton",source:"cardCoverInlineDialog",containers:b}),t()}},de("search-for-photos")))};var pe=n("./packages/nachos/button.ts");function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const be={context:{operationName:"UpdateCardCoversPreference"}},fe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCardCoversPreference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardCovers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardCardCoversPref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"cardCovers"},value:{kind:"Variable",name:{kind:"Name",value:"cardCovers"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"}}]}}]}}]}}]};var ve=n("./app/src/components/CardCoverChooser/CardCoversSetting.less"),ke=n.n(ve);const ye=Object(r.forTemplate)("card_cover_chooser"),Ce=({idBoard:e,isAdmin:t})=>{const[n]=function(e){const t=he(he({},be),e);return H.useMutation(fe,t)}();return t?a.a.createElement("div",null,a.a.createElement("p",{className:ke.a.isAdmin},ye("card-covers-are-disbaled-on-this-board")),a.a.createElement(pe.Button,{appearance:"primary",size:"fullwidth",onClick:()=>{n({variables:{boardId:e,cardCovers:!0},optimisticResponse:{__typename:"Mutation",updateBoardCardCoversPref:{__typename:"Board",id:e,prefs:{__typename:"Board_Prefs",cardCovers:!0}}}})},className:ke.a.enableButton},ye("enable-card-covers"))):a.a.createElement("p",{className:ke.a.notAdmin},ye("card-covers-are-disabled-on-this-board-admins-can-enable-card-covers"))};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _e={context:{operationName:"SelectPluginCover"}},Ee={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelectPluginCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"plugins"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"available"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"capabilities"}},{kind:"Field",name:{kind:"Name",value:"icon"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"tags"}}]}},{kind:"Field",name:{kind:"Name",value:"boardPlugins"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idPlugin"}}]}}]}}]}}]};function Se(e){const t=we(we({},_e),e);return H.useQuery(Ee,t)}var Oe=n("./app/scripts/db/model-cache.js"),Te=n.n(Oe),De=n("./app/src/components/CardCoverChooser/SelectPluginCover.less"),Ne=n.n(De);const Ie=n("./app/scripts/views/internal/plugins/plugin-runner.js"),Ae=Object(r.forTemplate)("card_cover_chooser"),Pe=({cardId:e,boardId:t})=>{var n,r,o;const{data:l}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),{data:c}=Se({variables:{boardId:t},fetchPolicy:"cache-only"}),u=Object(i.useCallback)((async(t,n)=>{const i=Te.a.get("Card",e),a=i.getBoard();await Ie.one({command:"card-cover",plugin:t,card:i,board:a,list:i.getList(),timeout:5e3,el:n})}),[e]),p=null==l?void 0:l.card,m=null==c?void 0:c.board,h=null!==(n=null==m?void 0:m.plugins)&&void 0!==n?n:[],g=(null!==(r=null==m?void 0:m.boardPlugins)&&void 0!==r?r:[]).map((e=>e.idPlugin)),b=h.filter((e=>g.includes(e.id)&&e.capabilities.includes("card-cover")&&e.tags.includes("plugin-cover-beta"))),f=null==p||null===(o=p.cover)||void 0===o?void 0:o.idPlugin,v=b.map((e=>{var t;return{id:e.id,title:null!==(t=e.name)&&void 0!==t?t:"",iconUrl:e.icon.url,selected:e.id===f}}));return 0===v.length?null:a.a.createElement("div",null,a.a.createElement("h4",{className:Ne.a.heading},Ae("power-ups")),a.a.createElement("div",{className:Ne.a.pluginCoverTiles},v.map((e=>a.a.createElement("button",{key:e.id,className:s()("button",Ne.a.pluginCoverTilesItem,{[Ne.a.selected]:e.id===f}),style:{backgroundImage:"url('".concat(e.iconUrl,"')"),backgroundSize:"contain"},onClick:t=>u(e.id,t.target)})))))},Be=Object(r.forTemplate)("card_cover_chooser");var Le;!function(e){e.Attachment="attachment",e.Unsplash="unsplash"}(Le||(Le={}));const Fe=(e=[],t)=>{const n=[];for(const i of e){const e=Object(j.smallestPreviewBiggerThan)(i.previews,256)||Object(j.biggestPreview)(i.previews);e&&e.url&&n.unshift({id:i.id,type:Le.Attachment,edgeColor:i.edgeColor||"transparent",thumbnailUrl:e.url,selected:t===i.id})}return n},Me=({navigateToAddCover:e,cardId:t,boardId:n})=>{var r,o;const{data:l,error:m,loading:h}=Object(d.a)({variables:{cardId:t},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),{error:g,loading:b}=Se({variables:{boardId:n},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),[f]=Object(u.a)(),[v,k]=Object(i.useState)(),[x,_]=Object(i.useState)(!1),{loading:E}=Object(w.a)({variables:{query:"",perPage:9,page:1}}),S=h||E||b,O=null==l?void 0:l.card,T=null==O?void 0:O.board,D=null==l?void 0:l.member,N=Boolean(null===(r=null==T||null===(o=T.prefs)||void 0===o?void 0:o.cardCovers)||void 0===r||r),I={organization:{id:null==O?void 0:O.board.idOrganization},board:{id:null==O?void 0:O.board.id},card:{id:null==O?void 0:O.id}};Object(i.useEffect)((()=>{O&&!x&&(p.Analytics.sendScreenEvent({name:"cardCoverInlineDialog",containers:I}),_(!0))}),[O,I,x]);const P=O&&O.idAttachmentCover?O.idAttachmentCover:null,B=O?O.cover:null,L=O&&O.attachments?Fe(O.attachments,P):[];if(Object(i.useEffect)((()=>{B&&B.idUploadedBackground&&k(B)}),[B]),!N&&D&&T){const e=()=>{var e,t,n;return!(!T.idOrganization||!D)&&(null!==(e=null===(t=D.organizations)||void 0===t||null===(n=t.find((e=>e.id===T.idOrganization)))||void 0===n?void 0:n.memberships.some((e=>e.idMember===D.id&&"admin"===e.memberType)))&&void 0!==e&&e)},t=()=>{var e,t,n,i;return!(!T.idEnterprise||!D.enterprises)&&(null!==(e=null===(t=D.enterprises)||void 0===t||null===(n=t.find((e=>e.id===T.idEnterprise)))||void 0===n||null===(i=n.idAdmins)||void 0===i?void 0:i.some((e=>e===D.id)))&&void 0!==e&&e)},n=(()=>{var e,t;return null!==(e=null===(t=T.memberships)||void 0===t?void 0:t.some((e=>e.idMember===D.id&&"admin"===e.memberType)))&&void 0!==e&&e})()||e()||t();return a.a.createElement(Ce,{idBoard:T.id,isAdmin:n})}const F=Boolean(B&&B.idUploadedBackground&&B.scaled),M=F?B:v;if(M&&M.idUploadedBackground&&M.scaled){const e=Object(j.smallestPreviewBiggerThan)(M.scaled,256)||Object(j.biggestPreview)(M.scaled);e&&e.url&&L.unshift({id:M.idUploadedBackground,edgeColor:M.edgeColor||"transparent",thumbnailUrl:e.url,selected:F,type:Le.Unsplash})}const R=L.some((e=>e.selected))||Boolean(null==B?void 0:B.color)||Boolean(null==B?void 0:B.idPlugin),V=!S&&!m&&"full"===(null==B?void 0:B.size)&&((null==B?void 0:B.idAttachment)||(null==B?void 0:B.idUploadedBackground)||(null==B?void 0:B.idPlugin));return S?a.a.createElement("div",null,a.a.createElement(C.a,{centered:!0})):m||g?a.a.createElement("div",null,Be("something-went-wrong")):a.a.createElement("div",null,a.a.createElement(A,{cardId:t,cover:B}),R&&a.a.createElement("button",{className:s()("button",c.a.remove,c.a.colorAndFullVersion),onClick:()=>{(async e=>{let n;const i=null==O?void 0:O.cover;i&&(i.color?n="color":i.idUploadedBackground?n="unsplash":i.idAttachment?n="attachment":i.idPlugin&&(n="plugin"));const a="attachment"===n?"idAttachmentCover":"cover",r=p.Analytics.startTask({taskName:"edit-card",subTask:a,source:"cardCoverInlineDialog"});try{await f({variables:{traceId:r,cardId:t,cover:e}}),e?p.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:e.idAttachment?"attachment":"unsplash",value:e.idAttachment||e.idUploadedBackground,taskId:r},containers:I}):p.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:n,taskId:r},containers:I}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:a,traceId:r,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:a,traceId:r,source:"cardCoverInlineDialog",error:e})}})(null),p.Analytics.sendClickedButtonEvent({buttonName:"removeCardCoverButton",source:"cardCoverInlineDialog",containers:I})}},Be("remove-cover")),V&&a.a.createElement(U,{cardId:t,cardName:null==O?void 0:O.name,cover:B}),a.a.createElement(y,{cardId:t}),a.a.createElement(ie,{cardId:t}),a.a.createElement(ue,{cardId:t,navigateToAddCover:e}),a.a.createElement(Pe,{cardId:t,boardId:n}))}},"./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@apollo/client/index.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={context:{operationName:"SelectCover"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelectCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"}},{kind:"Field",name:{kind:"Name",value:"idUploadedBackground"}},{kind:"Field",name:{kind:"Name",value:"idPlugin"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}},{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idAttachmentCover"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"previews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"enterprises"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idAdmins"}}]}},{kind:"Field",name:{kind:"Name",value:"organizations"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]}}]};function c(e){const t=r(r({},s),e);return i.useQuery(l,t)}},"./app/src/components/CardCoverChooser/SelectPluginCover.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectPluginCover.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/SelectSize.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectSize.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/SelectTextColor.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectTextColor.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/SelectUnsplashCover.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectUnsplashCover.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/SuggestedSearches.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SuggestedSearches.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/TopUnsplashPhotos.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/TopUnsplashPhotos.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/UnsplashSearch.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/UnsplashSearch.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@apollo/client/index.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={context:{operationName:"UpdateCardCover"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCardCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cover"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputCover"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCardCover"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"Argument",name:{kind:"Name",value:"cover"},value:{kind:"Variable",name:{kind:"Name",value:"cover"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idAttachmentCover"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"}},{kind:"Field",name:{kind:"Name",value:"idUploadedBackground"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}},{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}}]}}]}}]};function c(e){const t=r(r({},s),e);return i.useMutation(l,t)}},"./app/src/components/CardCoverChooser/Upload.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/Upload.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardFronts/EditCardButton.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/EditCardButton.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardFronts/EditCardButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/icons/edit.tsx"),o=n("./app/src/components/CardFronts/EditCardButton.less"),s=n.n(o),l=n("./node_modules/classnames/index.js"),c=n.n(l);const d=({onClick:e,shouldShow:t})=>a.a.createElement("button",{className:c()(s.a.editCardButton,t&&s.a.show),onClick:e},a.a.createElement(r.a,{color:"dark",size:"small"})),u=()=>{const[e,t]=Object(i.useState)(!1);return{showEditCardButton:()=>t(!0),hideEditCardButton:()=>t(!1),shouldShowEditCardButton:e}}},"./app/src/components/CardFronts/LinkCard.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/LinkCard.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardFronts/LinkCard.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"LinkCard",(function(){return x}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),o=n.n(r),s=n("./node_modules/@atlaskit/smart-card/dist/esm/index.js"),l=n("./packages/shared-state/index.ts"),c=n("./node_modules/react-intl/lib/index.es.js"),d=n("./packages/feature-flag-client/index.ts"),u=n("./app/src/components/CardFronts/LinkCard.less"),p=n.n(u),m=n("./app/src/components/CardFronts/EditCardButton.tsx"),h=n("./app/scripts/network/smart-card-client/index.ts"),g=n("./app/scripts/network/object-resolver-client/index.ts"),b=n("./app/src/components/ErrorBoundary/index.ts"),f=n("./packages/atlassian-analytics/index.ts"),v=n("./node_modules/@atlaskit/analytics-listeners/dist/esm/index.js"),k=n("./node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsContext.js");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=["jira-object-provider","bitbucket-object-provider"],x=({url:e,openEditor:t,hideCover:n,locale:r="en",isEditable:u,hideActions:y,analyticsContainers:j})=>{const{showEditCardButton:x,hideEditCardButton:_,shouldShowEditCardButton:E}=Object(m.b)(),[S]=Object(l.c)(h.a.authorizedProviders),[O,T]=Object(i.useState)(g.objectResolverClient.isCached(e)),D=Object(d.useSeesVersionedVariation)("wildcard.public-links","beta"),[N,I]=Object(i.useState)(!1),[A,P]=Object(i.useState)(Date.now()),[B,L]=Object(i.useState)(!1),[F,M]=(e=>{const t=Object(i.useCallback)((e=>{var t;const{name:n}=(null==e||null===(t=e.data)||void 0===t?void 0:t.generator)||{},{definitionId:i,requestAccess:a}=(null==e?void 0:e.meta)||{},{accessType:r,cloudId:o}=a||{};return{urlType:n,definitionId:i,cloudId:o,accessType:r}}),[]),n=Object(i.useCallback)((e=>{if(e){const n=t(e);r(n)}}),[t]),[a,r]=Object(i.useState)(e?t(e):{});return[a,n]})();Object(i.useEffect)((()=>{const{definitionId:e}=F;B&&e&&S.has(e)&&(P(Date.now()),L(!1))}),[B,F,S]),Object(i.useEffect)((()=>{T(!1),(async()=>{const t=await g.objectResolverClient.resolveUrl(e,{publicLinksEnabled:D,sourceComponent:"link-card"});t?(M(t),T("not_found"!==t.meta.visibility),L("unauthorized"===t.meta.access),I(t.meta.key&&w.includes(t.meta.key)||w.includes(t.meta.definitionId))):T(!1),t&&"not_found"!==t.meta.visibility?T(!0):T(!1)})()}),[e,D,M]),Object(i.useEffect)((()=>{f.Analytics.sendViewedComponentEvent({componentType:"card",componentName:"linkCard",source:"cardView",containers:j,attributes:C({},F)})}),[j,F]);const R=Object(i.useCallback)((()=>{f.Analytics.sendClickedLinkEvent({linkName:"linkCard",source:"cardView",containers:j,attributes:C({},F)})}),[j,F]),U=a.a.createElement("a",{className:p.a.link,href:e,target:"_blank",onClick:R},e),V={attributes:C(C(C({},F),j&&{containers:j}),{},{component:"linkCard"})},z=O?a.a.createElement(b.ErrorBoundary,{sendCrashEvent:!1,errorHandlerComponent:()=>U},a.a.createElement(v.b,{client:f.Analytics.dangerouslyGetAnalyticsWebClient()},a.a.createElement(k.a,{data:V},a.a.createElement(s.d,{client:h.a,key:A},a.a.createElement(c.c,{locale:r},a.a.createElement("a",{className:p.a.link,href:e,target:"_blank",onClick:e=>{e.stopPropagation(),R()}},a.a.createElement(s.b,{onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(e,"_blank"),R()},appearance:"block",url:e,inheritDimensions:!0,showActions:!y}))))))):U;return a.a.createElement("div",{className:o()({[p.a.smartLinkCard]:O,[p.a.linkCard]:!O,[p.a.hideCover]:n,[p.a.hasBadge]:N}),onFocus:x,onBlur:_,onMouseOver:x,onMouseOut:_},a.a.createElement(m.a,{onClick:t,shouldShow:u&&E}),z)}},"./app/src/components/CardTemplatesPopover/CardTemplatesButton.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesButton.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardTemplatesPopover/CardTemplatesQuery.graphql":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"template"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idChecklists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"left"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rotate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brightness"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1031}};n.loc.source={body:"query CardTemplates($boardId: ID!) {\n  board(id: $boardId) @client {\n    id\n    members {\n      id\n      avatarUrl\n      initials\n    }\n    cards(filter: template) {\n      id\n      idBoard\n      shortLink\n      name\n      isTemplate\n      closed\n      idList\n      idChecklists\n      attachments {\n        id\n      }\n      stickers {\n        id\n        top\n        left\n        rotate\n        zIndex\n        image\n        imageUrl\n        imageScaled {\n          id\n          width\n          height\n          url\n          scaled\n        }\n      }\n      idLabels\n      labels {\n        id\n        name\n        color\n        idBoard\n      }\n      idMembers\n      cover {\n        scaled {\n          url\n          width\n          height\n          scaled\n        }\n        edgeColor\n        color\n        size\n        brightness\n      }\n      badges {\n        attachments\n        checkItems\n        description\n        attachmentsByType {\n          trello {\n            board\n            card\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.CardTemplates=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CardTemplates")},"./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardTemplatesPopover/TemplateCardComposer.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/TemplateCardComposer.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CardTemplatesPopover/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CardTemplatesPopover",(function(){return ue})),n.d(t,"CreateCardFromTemplatePopover",(function(){return Ne})),n.d(t,"CardTemplatesButton",(function(){return Ge}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/@apollo/client/index.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={context:{operationName:"CardTemplates"}},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"initials"}}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"template"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}},{kind:"Field",name:{kind:"Name",value:"shortLink"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"idList"}},{kind:"Field",name:{kind:"Name",value:"idChecklists"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"top"}},{kind:"Field",name:{kind:"Name",value:"left"}},{kind:"Field",name:{kind:"Name",value:"rotate"}},{kind:"Field",name:{kind:"Name",value:"zIndex"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"imageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"}},{kind:"Field",name:{kind:"Name",value:"checkItems"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"}},{kind:"Field",name:{kind:"Name",value:"card"}}]}}]}}]}}]}}]}}]}}]};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={context:{operationName:"CardTemplateMember"}},g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplateMember"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorBlind"}}]}}]}}]}}]};function b(e){const t=p(p({},h),e);return r.useQuery(g,t)}var f=n("./packages/nachos/spinner.ts"),v=n("./packages/nachos/button.ts"),k=n("./packages/nachos/tooltip.ts"),y=n("./app/gamma/src/components/canonical-components/index.tsx"),C=n("./packages/trello-canonical-components/src/card-front/Card.tsx");function j(e){const t=e.cover;return t?t.color?{url:"",color:t.color,size:t.size,brightness:t.brightness}:t.scaled&&t.edgeColor?{url:"",edgeColor:t.edgeColor,previews:t.scaled.map((e=>{const{scaled:t,height:n,url:i,width:a}=e;return{scaled:t,height:n,url:i,width:a}})),size:t.size,brightness:t.brightness}:null:null}function w(e){const{attachments:t,attachmentsByType:n,description:i,checkItems:a}=e.badges;return{attachments:t,description:i,attachmentsByType:{trello:{board:n.trello.board,card:n.trello.card}},checklistItems:a,checklistItemsChecked:0,comments:0,due:null,start:null,subscribed:!1,viewingMemberVoted:!1,votes:0,dueComplete:!1,checkItemsEarliestDue:null}}function x(e){const{labels:t}=e;return t.map((e=>{const{id:t,name:n,color:i,idBoard:a}=e;return{id:t,name:n,idBoard:a,color:i||null}}))}function _(e,t){const{idMembers:n}=e,i=[];return n.forEach((e=>{const n=t.find((t=>t.id===e));n&&i.push({avatars:n.avatarUrl?{30:"".concat(n.avatarUrl,"/30.png")}:null,initials:n.initials||"",id:n.id,enterprises:[],idPremOrgsAdmin:[]})})),i}function E(e){return e.stickers.map((e=>{const{imageScaled:t}=e,n=t.find((e=>e.url.includes("@2x")));return{id:e.id,image:e.image,imageUrl:e.imageUrl,left:e.left,top:e.top,rotate:e.rotate,zIndex:e.zIndex,imageUrl2x:n?n.url:null}}))}function S(e,t){return{cover:j(e),badges:w(e),labels:x(e),members:_(e,t),stickers:E(e)}}var O=n("./packages/i18n/index.ts"),T=n("./app/src/components/RouterLink/RouterLink.tsx");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A={context:{operationName:"CreateCardTemplate"}},P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"closed"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCardTemplate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"listId"},value:{kind:"Variable",name:{kind:"Name",value:"listId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"closed"},value:{kind:"Variable",name:{kind:"Name",value:"closed"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}},{kind:"Field",name:{kind:"Name",value:"shortLink"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"idList"}},{kind:"Field",name:{kind:"Name",value:"idChecklists"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"top"}},{kind:"Field",name:{kind:"Name",value:"left"}},{kind:"Field",name:{kind:"Name",value:"rotate"}},{kind:"Field",name:{kind:"Name",value:"zIndex"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"imageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"}},{kind:"Field",name:{kind:"Name",value:"checkItems"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"}},{kind:"Field",name:{kind:"Name",value:"card"}}]}}]}}]}}]}}]}}]};var B=n("./packages/analytics/index.ts"),L=n("./packages/atlassian-analytics/index.ts"),F=n("./packages/nachos/icons/add.tsx"),M=n("./packages/nachos/icons/close.tsx"),R=n("./packages/keybindings/index.ts"),U=n("./node_modules/classnames/index.js"),V=n.n(U),z=n("./app/src/components/CardTemplatesPopover/CardTemplatesQuery.graphql"),H=n.n(z),W=n("./app/src/components/CardTemplatesPopover/TemplateCardComposer.less"),K=n.n(W),q=n("./packages/test-ids/index.ts");function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J=Object(O.forTemplate)("card-templates"),Y=Object(O.forTemplate)("card_composer_inline"),X=({idList:e,idBoard:t,closedComponent:n,onCreate:o})=>{const[s,l]=Object(i.useState)(!1),[c,d]=Object(i.useState)(""),[u,{loading:p}]=function(e){const t=N(N({},A),e);return r.useMutation(P,t)}();Object(R.useShortcut)((()=>{l(!1)}),{scope:R.Scope.Popover,key:R.Key.Escape,enabled:s});const m=()=>{d(""),l(!1)},h=async()=>{if(0===c.trim().length)return;const n=L.Analytics.startTask({taskName:"create-card",subTask:"template",source:"createCardTemplateInlineDialog"});try{const{data:i}=await(n=>u({variables:{traceId:n,listId:e,name:c.trim(),closed:!1},update(e,{data:n}){const i=n&&n.createCardTemplate;if(!i)return;const a=e.readQuery({query:H.a,variables:{boardId:t}});if(!a)return;const r=a.board,o=r&&r.cards;o&&e.writeQuery({query:H.a,variables:{boardId:t},data:{board:G(G({},r),{},{cards:o.concat(i)})}})}}))(n);if(Object(B.trackUe)({category:B.Noun.CARD_TEMPLATES,verb:B.Verb.CREATES,directObj:B.Noun.CARD_TEMPLATE,indirectObj:B.Noun.CARD_TEMPLATES_MENU,method:"by clicking the create new template button"}),m(),o&&i&&i.createCardTemplate){const e=i.createCardTemplate;o(e)}L.Analytics.taskSucceeded({taskName:"create-card",subTask:"template",traceId:n,source:"createCardTemplateInlineDialog"})}catch(e){throw L.Analytics.taskFailed({taskName:"create-card",subTask:"template",traceId:n,source:"createCardTemplateInlineDialog",error:e})}};return s?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:K.a.listCard},a.a.createElement("div",{className:V()(K.a.listCardDetails,"u-clearfix")},a.a.createElement("textarea",{value:c,className:K.a.templateCardComposerTextarea,dir:"auto",placeholder:J("template-title"),autoFocus:!0,onBlur:()=>{0===c.length&&m()},onKeyDown:e=>{Object(R.getKey)(e)===R.Key.Enter&&(e.preventDefault(),h())},onChange:e=>d(e.target.value),"data-test-id":q.CardTemplateTestIds.CreateTemplateCardComposer}))),a.a.createElement("div",{className:K.a.listCardButtons},a.a.createElement(v.Button,{onClick:h,className:K.a.addButton,appearance:"primary",isDisabled:p,isLoading:p,testId:q.CardTemplateTestIds.NewTemplateCardSubmitButton},Y("add")),a.a.createElement("a",{role:"button",className:K.a.closeButton,onClick:m},a.a.createElement(M.a,{dangerous_className:K.a.closeIcon,color:"quiet",size:"large"})))):n?n((()=>l(!0))):a.a.createElement("a",{role:"button",className:K.a.openTemplateCardComposer,href:"#",onClick:e=>{e.preventDefault(),l(!0)}},a.a.createElement(F.a,{dangerous_className:K.a.iconAdd,size:"small"}),a.a.createElement("span",null,J("create-a-new-template")))};var Q=n("./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less"),ee=n.n(Q),te=n("./packages/nachos/icons/edit.tsx"),ne=n("./packages/nachos/src/components/Icon/index.ts");const ie=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M9 4C9 3.44772 9.44772 3 10 3H14C14.5523 3 15 3.44772 15 4H19C19.552 4 20 4.448 20 5V6H4V5C4 4.448 4.448 4 5 4H9Z",fill:"currentColor"}),a.a.createElement("path",{d:"M9 11C9 10.4477 9.44772 10 10 10C10.5523 10 11 10.4477 11 11V16C11 16.5523 10.5523 17 10 17C9.44772 17 9 16.5523 9 16V11Z",fill:"currentColor"}),a.a.createElement("path",{d:"M13 11C13 10.4477 13.4477 10 14 10C14.5523 10 15 10.4477 15 11V16C15 16.5523 14.5523 17 14 17C13.4477 17 13 16.5523 13 16V11Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.85795 18.1534L5 7H19L18.142 18.1534C18.0619 19.1954 17.193 20 16.1479 20H7.85206C6.80699 20 5.93811 19.1954 5.85795 18.1534ZM7.85206 18L7.15975 9H16.8402L16.1479 18L7.85206 18Z",fill:"currentColor"})),ae=e=>{const{testId:t,dangerous_className:n,size:i,color:r,label:o,block:s}=e;return a.a.createElement(ne.a,{testId:t,size:i,dangerous_className:n,color:r,block:s,label:o||"TrashIcon",glyph:ie})};var re=n("./packages/shared-state/index.ts"),oe=n("./app/src/components/Label/index.ts");function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function le(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const ce=Object(O.forTemplate)("card-templates"),de=e=>{let{onClick:t}=e,n=le(e,["onClick"]);return a.a.createElement("a",se({},n,{href:"#",role:"button",onClick:e=>{e.preventDefault(),t&&t(e)}}))},ue=({idBoard:e,idList:t,onSelect:n,onTemplateCreated:i,confirmDelete:o,editTemplate:l,isEditing:u,setIsEditing:p})=>{var m,h;Object(R.useShortcut)((()=>{p(!1)}),{scope:R.Scope.Popover,key:R.Key.Escape,enabled:u});const{data:g,loading:j,error:w}=function(e){const t=s(s({},c),e);return r.useQuery(d,t)}({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{boardId:e}}),{data:x,loading:_}=b({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),E=(g&&g.board&&g.board.cards?g.board.cards:[]).filter((e=>e&&e.isTemplate)).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{numeric:!0,caseFirst:"upper"}))),O=g&&g.board&&g.board.members?g.board.members:[],[D]=Object(re.c)(oe.a);if(w)return a.a.createElement("div",{id:"cardTemplatesError"},ce("something-went-wrong"));if(!g&&(j||_))return a.a.createElement(f.a,{centered:!0});if(0===E.length)return a.a.createElement(X,{idList:t,idBoard:e,onCreate:i,closedComponent:e=>a.a.createElement("div",null,a.a.createElement("p",{className:ee.a.emptyStateMessage},ce("you-dont-have-any-templates")),a.a.createElement(v.Button,{onClick:e,className:ee.a.createNewTemplateButton,appearance:"primary",shouldFitContainer:!0,testId:q.CardTemplateTestIds.CreateNewTemplateCardButton},ce("create-a-new-template")))});const N=null==x||null===(m=x.member)||void 0===m||null===(h=m.prefs)||void 0===h?void 0:h.colorBlind;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:ee.a.templateCards},E.map((e=>{const{cover:t,badges:i,labels:r,members:s,stickers:c}=S(e,O);return a.a.createElement("div",{className:ee.a.templateCardContainer,key:e.id},a.a.createElement(C.f,{className:ee.a.templateCard,onClick:()=>n(e.id),cover:t,colorBlind:N,hasStickers:!!c.length,linkComponent:de},a.a.createElement(y.a,{name:e.name,cover:t,badges:i,isTemplate:e.isTemplate,labels:r,expandLabels:D.showText,members:s,stickers:c,colorBlind:N})),u&&a.a.createElement("div",{className:ee.a.controlButtons},a.a.createElement(k.a,{content:ce("edit-this-template")},a.a.createElement(T.a,{className:ee.a.noTextDecoration,onClick:()=>{Object(B.trackUe)({category:B.Noun.CARD_TEMPLATES,verb:B.Verb.OPENS,directObj:B.Noun.CARD_TEMPLATE,indirectObj:B.Noun.CARD_TEMPLATES_MENU,method:"by clicking the edit this template button"}),null==l||l(e.id)},href:"/c/".concat(e.shortLink)},a.a.createElement(v.Button,{tabIndex:-1,iconBefore:a.a.createElement(te.a,{color:"gray",size:"small"}),className:ee.a.controlButton}))),a.a.createElement(k.a,{content:ce("delete-this-template")},a.a.createElement(v.Button,{iconBefore:a.a.createElement(ae,{color:"gray",size:"small"}),onClick:()=>o(e.id),className:ee.a.controlButton}))))}))),a.a.createElement(X,{idList:t,idBoard:e,onCreate:i}),u?a.a.createElement(v.Button,{className:ee.a.finishEditingButton,onClick:()=>p(!1),shouldFitContainer:!0},ce("finish-editing")):a.a.createElement(v.Button,{className:ee.a.editTemplatesButton,onClick:()=>p(!0),shouldFitContainer:!0},ce("edit-templates")))};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge={context:{operationName:"CardTemplate"}},be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}},{kind:"Field",name:{kind:"Name",value:"shortLink"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"idList"}},{kind:"Field",name:{kind:"Name",value:"idChecklists"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"top"}},{kind:"Field",name:{kind:"Name",value:"left"}},{kind:"Field",name:{kind:"Name",value:"rotate"}},{kind:"Field",name:{kind:"Name",value:"zIndex"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"imageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"}},{kind:"Field",name:{kind:"Name",value:"idMembers"}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}}]}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"initials"}}]}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"}},{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"}},{kind:"Field",name:{kind:"Name",value:"checkItems"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"}},{kind:"Field",name:{kind:"Name",value:"card"}}]}}]}}]}}]}}]}}]};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ye={context:{operationName:"CreateCardFromTemplateLists"}},Ce={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreateCardFromTemplateLists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"closed"}}]}}]}}]}}]};var je=n("./packages/nachos/select.ts"),we=n("./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less"),xe=n.n(we);function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Se=Object(O.forTemplate)("card-templates");function Oe(e,t){const[n,a]=Object(i.useState)(e||t),[r,o]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{a(e),r||e===t||o(!0)}),[t,r,e]),[n,a,r]}const Te=({checked:e,setChecked:t,id:n,labelKey:i,count:r,disabled:o})=>a.a.createElement("div",{className:"check-div u-clearfix"},a.a.createElement("input",{disabled:o,type:"checkbox",id:n,"aria-checked":e,checked:e,onChange:e=>t(e.target.checked)}),a.a.createElement("label",{htmlFor:n},Se(i,{count:r}))),De=e=>{let{loaded:t}=e,n=Ee(e,["loaded"]);const r=Object(i.useRef)(null);return Object(i.useEffect)((()=>{r.current&&(r.current.focus(),r.current.select())}),[t]),a.a.createElement("textarea",_e({className:xe.a.templateCardEditTitle,ref:r},n))},Ne=({idCard:e,createCard:t,showLists:n,hideEditButton:o,editTemplate:s})=>{var l,c,d;const{data:u,loading:p,error:m}=function(e){const t=me(me({},ge),e);return r.useQuery(be,t)}({variables:{cardId:e}}),h=u&&u.card?u.card:void 0,{data:g,loading:k,error:C}=function(e){const t=ve(ve({},ye),e);return r.useQuery(Ce,t)}({skip:!h||p,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{boardId:h&&h.idBoard||""}}),{data:j,loading:w}=b({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),[x,_,E]=Oe(h&&h.name?h.name:"",""),[O,D]=Oe(h&&h.idList?h.idList:void 0,void 0),[N,I]=Object(i.useState)(!0),[A,P]=Object(i.useState)(!0),[L,F]=Object(i.useState)(!0),[M,U]=Object(i.useState)(!0),[V,z]=Object(i.useState)(!0),[H,W]=Object(i.useState)(!1),[K,$]=Object(i.useState)(!1),G=(g&&g.board&&g.board.lists?g.board.lists:[]).map((e=>({label:e.name,value:e.id}))),Z=G&&G.find((({value:e})=>e===O))||G[0],[J]=Object(re.c)(oe.a),Y=Object(i.useCallback)((async()=>{const n=x.trim();if(0===n.length)return;const i=n.replace(/\r/g," ").replace(/\n/g," ");W(!0);const a=[];N&&a.push("checklists"),A&&a.push("attachments"),L&&a.push("stickers"),V&&a.push("members"),M&&a.push("labels");try{await t(i,e,a,O)}catch(e){$(!0)}W(!1)}),[N,A,L,V,M,t,x,e,O]);if(w||p||n&&k)return a.a.createElement(f.a,{centered:!0});if(m||!h||K||n&&C)return a.a.createElement("div",{id:"createCardFromTemplateError"},Se("something-went-wrong"));const X=h.idChecklists.length>0,Q=h.attachments.length>0,ee=h.stickers.length>0,te=h.idLabels.length>0,ne=h.idMembers.length>0,ie=X||Q||ee||te||ne,{cover:ae,badges:se,labels:le,members:ce,stickers:de}=S(h,h.members);let ue=ae;"full"===(null===(l=ue)||void 0===l?void 0:l.size)&&(ue.size="normal"),N||(se.checklistItems=0),A||(se.attachments=0,se.attachmentsByType.trello.board=0,se.attachmentsByType.trello.card=0,h.cover&&h.cover.idAttachment&&(ue=null));const pe=null==j||null===(c=j.member)||void 0===c||null===(d=c.prefs)||void 0===d?void 0:d.colorBlind;return a.a.createElement("div",null,a.a.createElement("div",{className:xe.a.templateCard},a.a.createElement(y.a,{name:h.name,cover:ue,badges:se,labels:M?le:[],expandLabels:J.showText,members:V?ce:[],stickers:L?de:[],colorBlind:pe,replacements:{CardTitle:a.a.createElement("div",{className:xe.a.templateCardNameContainer},a.a.createElement(De,{disabled:H,"data-test-id":q.CardTemplateTestIds.CardTitleTextarea,name:"title",placeholder:h.name||Se("title"),value:x,loaded:E,onChange:e=>_(e.target.value),onKeyDown:e=>{Object(R.getKey)(e)===R.Key.Enter&&(e.preventDefault(),Y())}}))}})),ie&&a.a.createElement(a.a.Fragment,null,a.a.createElement("label",null,Se("keep")),X&&a.a.createElement(Te,{disabled:H,id:"idKeepChecklists",checked:N,setChecked:I,labelKey:"checklists",count:h.idChecklists.length}),te&&a.a.createElement(Te,{disabled:H,id:"idKeepLabels",checked:M,setChecked:U,labelKey:"labels",count:h.idLabels.length}),ne&&a.a.createElement(Te,{disabled:H,id:"idKeepMembers",checked:V,setChecked:z,labelKey:"members",count:h.idMembers.length}),Q&&a.a.createElement(Te,{disabled:H,id:"idKeepAttachments",checked:A,setChecked:P,labelKey:"attachments",count:h.attachments.length}),ee&&a.a.createElement(Te,{disabled:H,id:"idKeepStickers",checked:L,setChecked:F,labelKey:"stickers",count:h.stickers.length})),n&&a.a.createElement("label",null,Se("list"),a.a.createElement(je.a,{options:G,value:Z,isDisabled:!G.length,onChange:({value:e})=>D(e)})),a.a.createElement(v.Button,{className:xe.a.createCardButton,isLoading:H,isDisabled:H||0===x.trim().length,appearance:"primary",shouldFitContainer:!0,onClick:Y,testId:q.CardTemplateTestIds.CreateCardFromTemplateButton},Se("create-card")),!o&&a.a.createElement(T.a,{onClick:()=>{Object(B.trackUe)({category:B.Noun.CARD_TEMPLATES,verb:B.Verb.OPENS,directObj:B.Noun.CARD_TEMPLATE,indirectObj:B.Noun.CREATE_CARD_FROM_TEMPLATE_MENU,method:"by clicking the edit this template button"}),null==s||s(e)},className:xe.a.editTemplateLink,href:"/c/".concat(h.shortLink)},a.a.createElement(v.Button,{className:xe.a.editTemplateButton,isDisabled:H,appearance:"default",shouldFitContainer:!0},Se("edit-this-template"))))};var Ie=n("./app/scripts/controller/navigate.js"),Ae=n("./packages/nachos/popover.ts"),Pe=n("./app/src/components/PopoverConfirm/index.ts");function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Me={context:{operationName:"DeleteCardTemplate"}},Re={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteCardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteCard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idCard"},value:{kind:"Variable",name:{kind:"Name",value:"idCard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}}]}}]}}]};var Ue=n("./app/src/components/CardTemplatesPopover/CardTemplatesButton.less"),Ve=n.n(Ue),ze=n("./packages/test-ids/src/testIds.ts");function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const We=Object(O.forNamespace)("view title"),Ke=Object(O.forTemplate)("list"),qe=Object(O.forNamespace)(["confirm","delete template card"]);var $e;!function(e){e[e.CardTemplates=0]="CardTemplates",e[e.CreateCardFromTemplate=1]="CreateCardFromTemplate",e[e.ConfirmDelete=2]="ConfirmDelete"}($e||($e={}));const Ge=({idList:e,idBoard:t,createCard:n})=>{const[o,s]=Object(i.useState)(!1),[l,c]=Object(i.useState)(""),[d,u]=Object(i.useState)(""),[p]=function(e){const t=Le(Le({},Me),e);return r.useMutation(Re,t)}(),m=Object(i.useCallback)((()=>{Object(B.trackUe)({category:B.Noun.CARD_TEMPLATES,verb:B.Verb.OPENS,directObj:B.Noun.CARD_TEMPLATES_MENU,context:{entry:B.Noun.LIST}})}),[]),h=Object(i.useCallback)((()=>{s(!1)}),[]),{toggle:g,hide:b,triggerRef:f,popoverProps:v,push:y,pop:C}=Object(Ae.e)({initialScreen:$e.CardTemplates,onShow:m,onHide:h});return a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,{content:Ke("create-from-template"),delay:100,hideTooltipOnMouseDown:!0},a.a.createElement("a",{className:Ve.a.cardTemplateButton,"data-test-id":ze.i.CardTemplateListButton,ref:f,onClick:g,role:"button",href:"#","aria-label":Ke("create-from-template")},a.a.createElement("span",{className:"icon-sm icon-template-card dark-background-hover"}))),a.a.createElement(Ae.b,He({},v,{dangerous_className:Ve.a.popover}),a.a.createElement(Ae.d,{id:$e.CardTemplates,title:We("card templates")},a.a.createElement(ue,{idList:e,idBoard:t,onSelect:e=>{c(e),y($e.CreateCardFromTemplate)},onTemplateCreated:e=>{b(),Object(Ie.navigate)("/c/".concat(e.shortLink),{trigger:!0})},confirmDelete:e=>{u(e),y($e.ConfirmDelete)},isEditing:o,setIsEditing:s,editTemplate:()=>b()})),a.a.createElement(Ae.d,{id:$e.CreateCardFromTemplate,title:We("create card")},a.a.createElement(Ne,{idCard:l,createCard:async(e,t,i)=>{try{const a=await n(e,t,i);Object(B.trackUe)({category:B.Noun.CARD_TEMPLATES,verb:B.Verb.COMPLETES,directObj:B.Noun.CREATE_CARD_FROM_TEMPLATE_MENU,context:{entry:B.Noun.LIST}}),b(),a()}catch(e){}},editTemplate:()=>{b()}})),a.a.createElement(Ae.d,{id:$e.ConfirmDelete,title:qe("title")},a.a.createElement(Pe.a,{confirmKey:"delete template card",confirmCallback:async()=>{d&&(await p({variables:{idCard:d}}),Object(B.trackUe)({category:B.Noun.CARD_TEMPLATES,verb:B.Verb.DELETES,directObj:B.Noun.CARD_TEMPLATE,indirectObj:B.Noun.CARD_TEMPLATES_MENU}),C())},isDanger:!0}))))}},"./app/src/components/CheckItemCheckbox/CheckItemCheckbox.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CheckItemCheckbox/CheckItemCheckbox.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CheckItemCheckbox/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CheckItemCheckbox",(function(){return l}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/src/components/CheckItemCheckbox/CheckItemCheckbox.less"),o=n.n(r),s=n("./packages/nachos/checkbox.ts");const l=({model:e,onChange:t,isDisabled:n})=>{const[r,l]=Object(i.useState)("complete"===e.get("state"));return a.a.createElement(s.a,{className:o.a.checkItemCheckbox,onChange:()=>{t(),l("complete"===e.get("state"))},isChecked:r,isDisabled:n})}},"./app/src/components/CheckItemMemberBadge/CheckItemMemberBadge.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CheckItemMemberBadge/CheckItemMemberBadge.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CheckItemMemberBadge/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CheckItemMemberBadge",(function(){return p}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),o=n.n(r),s=n("./app/src/components/CheckItemMemberBadge/CheckItemMemberBadge.less"),l=n.n(s),c=n("./packages/nachos/icons/add-member.tsx"),d=n("./packages/test-ids/index.ts"),u=n("./app/src/components/MemberAvatar/index.ts");const p=function({assigned:e,avatarSource:t,initials:n,avatarUrl:i,deactivated:r,onClick:s,testId:p}){const m=a.a.createElement(u.b,{avatarSource:t,initials:n,avatars:i?{30:"".concat(i,"/30.png"),50:"".concat(i,"/50.png"),170:"".concat(i,"/170.png")}:void 0,gold:!1,deactivated:r,size:24,hoverable:!!s});return s?a.a.createElement("button",{onClick:s,className:o()(l.a.assigneeBadge,"assigneeBadge"),"data-test-id":p},e?a.a.createElement("div",{"data-test-id":d.ChecklistTestIds.ChecklistItemAssignedBadge},m):a.a.createElement(c.a,{size:"small"})):e?a.a.createElement("div",{className:"readOnly"},m):null}},"./app/src/components/CheckItemOverflowMenu/CheckItemOverflowMenu.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CheckItemOverflowMenu/CheckItemOverflowMenu.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/CheckItemOverflowMenu/CheckItemOverflowMenu.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"CheckItemOverflowMenu",(function(){return f}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/popover.ts"),o=n("./node_modules/classnames/index.js"),s=n.n(o),l=n("./app/src/components/CheckItemOverflowMenu/CheckItemOverflowMenu.less"),c=n.n(l),d=n("./packages/atlassian-analytics/index.ts"),u=n("./packages/i18n/index.ts"),p=n("./packages/keybindings/index.ts"),m=n("./packages/test-ids/index.ts");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const g=Object(u.forTemplate)("check_item_menu"),b=Object(u.forNamespace)("view title"),f=({model:e,editableView:t})=>{const{triggerRef:n,toggle:i,hide:o,popoverProps:l}=Object(r.e)();return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{className:t?c.a.editableViewLink:c.a.inlineEditViewLink,ref:n,onClick:e=>{e.preventDefault(),e.stopPropagation(),d.Analytics.sendClickedButtonEvent({buttonName:"checkItemMenuButton",source:"cardDetailScreen"}),i()},role:"button",tabIndex:0,onKeyDown:e=>{Object(p.getKey)(e)===p.Key.Enter&&(e.preventDefault(),i())},"data-test-id":m.ChecklistTestIds.ChecklistItemOverflowMenuButton},a.a.createElement("span",{className:"icon-sm icon-overflow-menu-horizontal"})),a.a.createElement(r.b,h({},l,{title:b("check item"),noHorizontalPadding:!0,noVerticalPadding:!0}),a.a.createElement("button",{className:s()("convertButton",c.a.overflowButton),onClick:()=>{d.Analytics.sendClickedButtonEvent({buttonName:"convertCheckItemToCardButton",source:"checkItemMenuInlineDialog"}),o();const t=d.Analytics.startTask({taskName:"create-card",subTask:"checkItem",source:"checkItemMenuInlineDialog"});e.api({method:"convertToCard",traceId:t},Object(d.tracingCallback)({taskName:"create-card",subTask:"checkItem",source:"checkItemMenuInlineDialog",traceId:t},(e=>{e||d.Analytics.sendTrackEvent({action:"created",actionSubject:"card",source:"checkItemMenuInlineDialog",attributes:{taskId:t}})}))),e.getChecklist().checkItemList.remove(e)},tabIndex:0,"data-test-id":m.ChecklistTestIds.ChecklistItemConvertButton},g("convert-to-card")),a.a.createElement("button",{className:s()("deleteButton",c.a.overflowButton),onClick:()=>{d.Analytics.sendClickedButtonEvent({buttonName:"deleteCheckItemButton",source:"checkItemMenuInlineDialog"}),o();const t=d.Analytics.startTask({taskName:"delete-checkItem",source:"checkItemMenuInlineDialog"});e.destroyWithTracing({traceId:t},Object(d.tracingCallback)({taskName:"delete-checkItem",source:"checkItemMenuInlineDialog",traceId:t},(e=>{e||d.Analytics.sendTrackEvent({action:"deleted",actionSubject:"checkItem",source:"checkItemMenuInlineDialog",attributes:{taskId:t}})})))},tabIndex:0,"data-test-id":m.ChecklistTestIds.ChecklistItemDeleteButton},g("delete"))))}},"./app/src/components/ChecklistEducationBanner/ChecklistEducationBanner.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/ChecklistEducationBanner/ChecklistEducationBanner.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/ChecklistEducationBanner/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ChecklistEducationBanner",(function(){return p}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/src/components/ChecklistEducationBanner/ChecklistEducationBanner.less"),o=n.n(r),s=n("./packages/i18n/index.ts"),l=n("./packages/nachos/icons/close.tsx"),c=n("./packages/atlassian-analytics/index.ts"),d=n("./packages/browser/index.ts");const u=Object(s.forTemplate)("checklist_education_banner"),p=({onDismiss:e,idBoard:t,idCard:n,idOrganization:i})=>{const r={card:{id:n},board:{id:t},organization:{id:i}};return a.a.createElement("div",{className:o.a.banner},a.a.createElement("h2",{className:o.a.heading},u("assign-people-and-dates")),a.a.createElement("div",{className:o.a.content},u("plus-see-all-your-assigned-items",{yourItems:a.a.createElement("a",{key:"your-items",target:Object(d.isDesktop)()?void 0:"_blank",href:"/my/tasks",onClick:()=>c.Analytics.sendClickedLinkEvent({linkName:"yourItemsLink",source:"advancedChecklistEducationBanner",containers:r})},u("your-items"))})),a.a.createElement("div",{className:o.a.footer},a.a.createElement("a",{target:"_blank",href:"https://help.trello.com/article/942-assigning-people-and-due-dates-to-specific-checklist-items",onClick:()=>c.Analytics.sendClickedLinkEvent({linkName:"advancedChecklistLearnMoreLink",source:"advancedChecklistEducationBanner",containers:r})},u("learn-more"))),a.a.createElement("button",{className:o.a.dismiss,onClick:()=>{e(),c.Analytics.sendClickedButtonEvent({buttonName:"dismissButton",source:"advancedChecklistEducationBanner",containers:r})}},a.a.createElement(l.a,{size:"small"})))}},"./app/src/components/ChooseDate/ChooseDate.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/ChooseDate/ChooseDate.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/ChooseMember/ChooseMember.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/ChooseMember/ChooseMember.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/DateRangePicker/DateRangePickerBadge.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/DateRangePicker/DateRangePickerBadge.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/DateRangePicker/DateRangePickerButton.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/DateRangePicker/DateRangePickerButton.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/DateRangePicker/LazyDateRangePicker.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"Choice",(function(){return s})),n.d(t,"LazyDateRangePicker",(function(){return l}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/use-lazy-component/index.ts"),o=n("./app/src/components/ComponentWrapper/index.ts");let s;!function(e){e[e.StartDate=0]="StartDate",e[e.DueDate=1]="DueDate"}(s||(s={}));const l=e=>{const t=Object(r.useLazyComponent)((()=>n.e(63).then(n.bind(null,"./app/src/components/DateRangePicker/DateRangePicker.tsx"))),{namedImport:"DateRangePicker"});return a.a.createElement(o.ComponentWrapper,{key:"date-range-picker"},a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(t,e)))}},"./app/src/components/Emoji/Emoji.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"Emoji",(function(){return u}));var i,a,r,o=n("./app/src/components/Emoji/EmojiProviderComponent.tsx"),s=n("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js"),l=n("./node_modules/react/index.js"),c=n.n(l);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}class u extends c.a.Component{render(){return c.a.createElement(o.EmojiProviderComponent,{isSmallSpinner:!0},((e,t)=>c.a.createElement(s.default,d({},this.props,{data:e,backgroundImageFn:t}))))}}r={set:"twitter",size:16},(a="defaultProps")in(i=u)?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r},"./app/src/components/Emoji/EmojiProviderComponent.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"EmojiProviderComponent",(function(){return l}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/src/components/Emoji/EmojiProvider.ts"),o=n("./packages/nachos/spinner.ts");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends a.a.Component{constructor(e){super(e),s(this,"mounted",void 0),this.state={data:r.emojiProvider.getDataSync()}}componentDidMount(){this.mounted=!0,this.state.data||r.emojiProvider.getData().then((e=>{if(this.mounted&&e)return this.setState({data:e})}))}componentWillUnmount(){this.mounted=!1}getBackgroundImageFn(){if(r.emojiProvider.getSpritesheetsSync())return r.emojiProvider.getSpritesheetsUrl}render(){const{children:e,isSmallSpinner:t}=this.props,{data:n}=this.state;return n?e(n,this.getBackgroundImageFn()):a.a.createElement("div",null,a.a.createElement(o.a,{small:t,centered:!t}))}}s(l,"defaultProps",{isSmallSpinner:!1})},"./app/src/components/FreeTrial/FreeTrialBannerActive.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerActive.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/FreeTrial/FreeTrialBannerExpired.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerExpired.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/FreeTrial/FreeTrialPlanSelection.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialPlanSelection.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/tooltip.ts"),o=n("./node_modules/classnames/index.js"),s=n.n(o),l=n("./app/src/components/FreeTrial/FreeTrialPlanSelection.less"),c=n.n(l),d=n("./packages/i18n/index.ts"),u=n("./packages/product-features/index.ts"),p=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),m=n("./app/scripts/debug/constants.ts"),h=n("./packages/atlassian-analytics/index.ts"),g=n("./packages/test-ids/index.ts"),b=n("./packages/nachos/icons/board.tsx"),f=n("./packages/nachos/icons/power-up.tsx"),v=n("./packages/nachos/icons/image.tsx"),k=n("./packages/nachos/icons/search.tsx"),y=n("./packages/nachos/icons/sticker.tsx"),C=n("./packages/nachos/icons/table.tsx"),j=n("./packages/nachos/icons/calendar.tsx"),w=n("./packages/nachos/icons/heart.tsx"),x=n("./packages/nachos/icons/admin-chevron.tsx"),_=n("./packages/nachos/icons/subscribe.tsx"),E=n("./packages/nachos/icons/template-board.tsx"),S=n("./packages/nachos/icons/checklist.tsx"),O=n("./packages/nachos/icons/location.tsx"),T=n("./packages/nachos/icons/butler-bot.tsx"),D=n("./packages/nachos/icons/star.tsx");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=Object(d.forNamespace)("upgrade-prompt-plan-selection-consolidated"),B=(e,t)=>{const n=[e,"features",t],i="free-team"===e||"boards"===t||"sta-team"===e&&"pups"===t||"free-team-nusku"===e&&"pups"===t;return{content:P([...n,e.includes("nusku")||e.includes("bc")?"content-joined":"content"]),tooltip:i?null:P([...n,"tooltip"])}},L=[I({icon:b.BoardIcon},B("bc-team","boards")),I({icon:f.a},B("bc-team","pups")),I({icon:T.a},B("bc-team","butler")),I({icon:_.a},B("bc-team","admin")),I({icon:w.a},B("bc-team","support")),I({icon:D.a},B("bc-team","more"))],F=[I({icon:f.a},B("bc-team-nusku","pups")),I({icon:T.a},B("bc-team-nusku","butler")),I({icon:C.TableIcon},B("bc-team-nusku","table")),I({icon:j.CalendarIcon},B("bc-team-nusku","calendar")),I({icon:O.LocationIcon},B("bc-team-nusku","map")),I({icon:S.a},B("bc-team-nusku","checklists")),I({icon:E.a},B("bc-team-nusku","templates")),I({icon:_.a},B("bc-team-nusku","observers")),I({icon:x.a},B("bc-team-nusku","admin")),I({icon:w.a},B("bc-team-nusku","support"))],M=[I({icon:b.BoardIcon},B("free-team","boards")),I({icon:f.a},B("free-team","pups")),I({icon:T.a},B("free-team","butler"))],R=[I({icon:b.BoardIcon},B("free-team-nusku","boards")),I({icon:f.a},B("free-team-nusku","pups")),I({icon:T.a},B("free-team-nusku","butler"))],U=[I({icon:b.BoardIcon},B("sta-team","boards")),I({icon:f.a},B("sta-team","pups")),I({icon:T.a},B("sta-team","butler")),I({icon:v.a},B("sta-team","custom-backgrounds")),I({icon:y.a},B("sta-team","custom-stickers")),I({icon:k.a},B("sta-team","saved-searches"))],V=(e,t)=>e?a.a.createElement(r.a,{content:e,component:r.b},t):t,z=P("after-trial",{price:"$".concat(Object(d.asMoney)(u.ProductFeatures.getPrice(u.Products.Organization.BusinessClass.current.yearly)/12)),downgradeOption:a.a.createElement("a",{key:"after-trial-downgrade",target:"_blank",href:"https://help.trello.com/article/836-cancel-trello-business-class"},P("after-trial-downgrade"))}),H=({type:e,trialLength:t,cta:r,orgId:o,hideSecondaryCta:l=!1,isStandardVariationEnabled:d})=>(Object(i.useEffect)((()=>{h.Analytics.sendScreenEvent({name:"planSelectionModal",containers:{organization:{id:o}}})}),[o]),a.a.createElement(p.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:m.Feature.FreeTrialExistingTeam}},a.a.createElement("div",{"data-test-id":"have-business-class"===e?g.FreeTrialTestIds.HaveBCPlanSelection:g.FreeTrialTestIds.TryBCPlanSelection,className:c.a.heading},a.a.createElement("h1",null,a.a.createElement("img",{src:n("./resources/images/moonshot/bc-sparkle.svg"),alt:"","aria-hidden":"true"}),P([e,"headline"],{dayCount:t})),a.a.createElement("h2",null,P([e,"description"],{dayCount:t}))),a.a.createElement("div",{className:c.a.bodyWrapper},d?a.a.createElement("div",{className:s()(c.a.freePlan,d&&c.a.freePlanNusku)},a.a.createElement("h2",null,P(["free-team-nusku","headline"])),a.a.createElement("ul",null,R.map((({icon:e,content:t,tooltip:n},i)=>a.a.createElement("li",{key:i,className:s()(c.a.featureItem,!!n&&c.a.tooltipTarget)},V(n,a.a.createElement("div",{className:c.a.featureItemWrapper},a.a.createElement(e,{color:"quiet"}),a.a.createElement("div",null,a.a.createElement("span",{className:c.a.featureContent},t))))))))):a.a.createElement("div",{className:s()(c.a.freePlan,d&&c.a.freePlanNusku)},a.a.createElement("h2",null,P(["free-team","headline"])),a.a.createElement("ul",null,M.map((({icon:e,content:t},n)=>a.a.createElement("li",{key:n,className:c.a.featureItem},a.a.createElement(e,{color:"quiet"}),a.a.createElement("span",{className:c.a.featureContent},t)))))),d&&a.a.createElement("div",{className:c.a.staPlan},a.a.createElement("h2",null,P(["sta-team","headline"])),a.a.createElement("ul",null,U.map((({icon:e,content:t,tooltip:n},i)=>a.a.createElement("li",{key:i,className:s()(c.a.featureItem,!!n&&c.a.tooltipTarget)},V(n,a.a.createElement("div",{className:c.a.featureItemWrapper},a.a.createElement(e,{color:"quiet"}),a.a.createElement("div",null,a.a.createElement("span",{className:c.a.featureContent},t))))))))),d?a.a.createElement("div",{className:s()(c.a.bcPlan,c.a.bcPlanNusku)},a.a.createElement("div",{className:c.a.recommendedLabel},P([e,"tag"],{dayCount:t})),a.a.createElement("h2",null,P(["bc-team-nusku","headline"])),a.a.createElement("h3",{className:c.a.subLabel},P(["bc-team-nusku","everything-in-sta"])),a.a.createElement("ul",null,F.map((({icon:e,content:t,tooltip:n},i)=>a.a.createElement("li",{key:i,className:s()(c.a.featureItem,!!n&&c.a.tooltipTarget)},V(n,a.a.createElement("div",{className:c.a.featureItemWrapper},a.a.createElement(e,{color:"quiet"}),a.a.createElement("div",null,a.a.createElement("span",{className:c.a.featureContent},t.replace(/&amp;/g,"&")))))))))):a.a.createElement("div",{className:c.a.bcPlan},a.a.createElement("div",{className:c.a.recommendedLabel},P([e,"tag"],{dayCount:t})),a.a.createElement("h2",null,P(["bc-team","headline"])),a.a.createElement("ul",null,L.map((({icon:e,content:t,tooltip:n},i)=>a.a.createElement("li",{key:i,className:s()(c.a.featureItem,!!n&&c.a.tooltipTarget)},V(n,a.a.createElement("div",{className:c.a.featureItemWrapper},a.a.createElement(e,{size:"medium",dangerous_className:c.a.featureIcon}),a.a.createElement("div",null,a.a.createElement("span",{className:c.a.featureContent},t)))))))))),a.a.createElement("div",{className:c.a.actions},r,a.a.createElement("div",{className:c.a.trustedBy},a.a.createElement("span",null,P("trusted-by-teams-at")),a.a.createElement("img",{src:n("./resources/images/upgrade-prompts/pinterest.svg"),alt:"Pinterest",width:"22"}),a.a.createElement("img",{src:n("./resources/images/upgrade-prompts/google.svg"),alt:"Google",width:"64"}),a.a.createElement("img",{src:n("./resources/images/upgrade-prompts/fortnite.svg"),alt:"Fortnite",width:"58"}),a.a.createElement("img",{src:n("./resources/images/upgrade-prompts/peloton.svg"),alt:"Peloton",width:"85"})),a.a.createElement("p",{className:c.a.afterTrial},z),"try-business-class"===e&&!l&&a.a.createElement("a",{onClick:()=>{h.Analytics.sendClickedButtonEvent({buttonName:"learnMoreAboutBCButton",source:"planSelectionModal",containers:{organization:{id:o}}})},href:"/business-class",className:c.a.secondaryCta,"data-test-id":g.FreeTrialTestIds.LearnMoreAboutBCButton},P([e,"secondary-cta"])))))},"./app/src/components/FreeTrial/PlanSelection.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelection.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/FreeTrial/PlanSelection.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/icons/board.tsx"),o=n("./packages/nachos/icons/power-up.tsx"),s=n("./packages/nachos/icons/butler-bot.tsx"),l=n("./packages/nachos/icons/subscribe.tsx"),c=n("./packages/nachos/icons/heart.tsx"),d=n("./packages/nachos/icons/star.tsx"),u=n("./packages/nachos/icons/business-class.tsx"),p=n("./packages/nachos/tooltip.ts"),m=n("./node_modules/classnames/index.js"),h=n.n(m),g=n("./app/src/components/FreeTrial/PlanSelection.less"),b=n.n(g),f=n("./packages/i18n/index.ts"),v=n("./packages/product-features/index.ts"),k=n("./packages/test-ids/index.ts");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=Object(f.forNamespace)("upgrade prompt plan selection"),x=(e,t)=>{const n=[e,"features",t];return{content:w([...n,"bc team"===e?"content-joined":"content"]),tooltip:"free team"===e||"boards"===t?null:w([...n,"tooltip"])}},_=[C({icon:a.a.createElement(r.BoardIcon,null)},x("bc team","boards")),C({icon:a.a.createElement(o.a,null)},x("bc team","pups")),C({icon:a.a.createElement(s.a,null)},x("bc team","butler")),C({icon:a.a.createElement(l.a,null)},x("bc team","admin")),C({icon:a.a.createElement(c.a,null)},x("bc team","support")),C({icon:a.a.createElement(d.a,null)},x("bc team","more"))],E=[C({icon:a.a.createElement(r.BoardIcon,null)},x("free team","boards")),C({icon:a.a.createElement(o.a,null)},x("free team","pups")),C({icon:a.a.createElement(s.a,null)},x("free team","butler"))],S=w("price per user",{price:"$".concat(Object(f.asMoney)(v.ProductFeatures.getPrice(v.Products.Organization.BusinessClass.current.yearly)/12))}),O=({cta:e})=>a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:b.a.heading,"data-test-id":k.UpgradePromptTestIds.PlanSelection},a.a.createElement("h1",null,a.a.createElement(u.BusinessClassIcon,{color:"dark",dangerous_className:b.a.headingIcon})," ",w("headline")),a.a.createElement("h2",null,w("description"))),a.a.createElement("div",{className:b.a.bodyWrapper},a.a.createElement("div",{className:b.a.freePlan},a.a.createElement("h2",null,w(["free team","headline"])),a.a.createElement("ul",null,E.map((({icon:e,content:t},n)=>a.a.createElement("li",{key:n,className:b.a.featureItem},a.a.cloneElement(e,{size:"medium",dangerous_className:b.a.featureIcon}),a.a.createElement("span",{className:b.a.featureContent},t)))))),a.a.createElement("div",{className:b.a.bcPlan},a.a.createElement("div",{className:b.a.recommendedLabel},"Recommended"),a.a.createElement("h2",null,w(["bc team","headline"])),a.a.createElement("ul",null,_.map((({icon:e,content:t,tooltip:n},i)=>a.a.createElement("li",{key:i,className:h()(b.a.featureItem,!!n&&b.a.tooltipTarget)},((e,t)=>e?a.a.createElement(p.a,{content:e,component:p.b},t):t)(n,a.a.createElement("div",{className:b.a.featureItemWrapper},a.a.cloneElement(e,{size:"medium",dangerous_className:b.a.featureIcon}),a.a.createElement("div",null,a.a.createElement("span",{className:b.a.featureContent},t)))))))))),a.a.createElement("div",{className:b.a.actions},a.a.createElement("p",null,S),e,a.a.createElement("a",{href:"/business-class",className:b.a.learnMore},w("learn bc"))))},"./app/src/components/FreeTrial/PlanSelectionOverlay.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelectionOverlay.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/FreeTrial/PlanSelectionOverlay.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return A}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),o=n.n(r),s=n("./packages/i18n/index.ts"),l=n("./app/src/components/Overlay/index.ts"),c=n("./app/src/components/ComponentWrapper/index.ts"),d=n("./app/src/components/FreeTrial/PlanSelection.tsx"),u=n("./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx"),p=n("./app/src/components/FreeTrial/UpsellOverlay.tsx"),m=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),h=n("./packages/atlassian-analytics/index.ts"),g=n("./packages/nachos/spinner.ts"),b=n("./app/src/components/RouterLink/RouterLink.tsx"),f=n("./node_modules/@apollo/client/index.js");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C={context:{operationName:"PlanSelectionOverlay"}},j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlanSelectionOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"standardVariation"}}]}}]}}]};var w=n("./packages/test-ids/index.ts"),x=n("./app/src/components/StandardGenerics/index.ts"),_=n("./packages/nachos/icons/back.tsx"),E=n("./packages/nachos/icons/close.tsx"),S=n("./packages/nachos/button.ts"),O=n("./app/src/components/FreeTrial/PlanSelectionOverlay.less"),T=n.n(O);const D=Object(s.forNamespace)("upgrade-prompt-plan-selection-consolidated"),N=Object(s.forNamespace)("upgrade prompt plan selection"),I=({onClose:e,orgId:t,currentPlanSelected:n,startFreeTrialOptions:r})=>{var s,c,v,y;const{data:O,loading:I}=function(e){const t=k(k({},C),e);return f.useQuery(j,t)}({variables:{orgId:t},skip:!t}),{isStandardVariationEnabled:A}=Object(x.useStandard)({orgId:t}),P=null==O||null===(s=O.organization)||void 0===s?void 0:s.name,B=null==O||null===(c=O.member)||void 0===c?void 0:c.id,L=null==O||null===(v=O.organization)||void 0===v||null===(y=v.memberships)||void 0===y?void 0:y.find((e=>e.idMember===B&&"admin"===e.memberType)),{isEligible:F,isTrialActive:M,startFreeTrial:R,loading:U}=Object(m.a)(t),[V,z]=Object(i.useState)(!1),[H,W]=Object(i.useState)(!1);Object(i.useEffect)((()=>{M&&H&&(e(),W(!1))}),[e,M,H]);const K=async()=>{H||(W(!0),h.Analytics.sendTrackEvent({action:"accepted",actionSubject:"freeTrial",source:"freeTrialModal",containers:{organization:{id:t}},attributes:{currentPlanSelected:n}}),await R(r))};if(I||U)return null;let q=a.a.createElement(d.a,{cta:L?a.a.createElement(b.a,{onClick:()=>e(),href:"/".concat(P,"/billing"),className:T.a.planSelectionCtaButton},N("start bc")):a.a.createElement("a",{className:T.a.planSelectionCtaButton,href:"/business-class"},N("start bc"))});return F||H?q=V?a.a.createElement(u.a,{type:"try-business-class",orgId:t,cta:a.a.createElement(S.Button,{appearance:"primary",size:"fullwidth","data-test-id":w.FreeTrialTestIds.StartFreeTrialButton,onClick:K},H?a.a.createElement(g.a,{centered:!0,small:!0,wrapperClassName:T.a.spinner}):D(["try-business-class","cta"],{dayCount:14})),trialLength:14,isStandardVariationEnabled:A}):a.a.createElement(p.a,{onCtaClick:K,isLoading:H,orgId:t,onLearnMore:()=>z(!0)}):M&&(q=a.a.createElement(u.a,{type:"have-business-class",cta:a.a.createElement(S.ButtonLink,{isPrimary:!0,link:"/business-class",className:T.a.freeTrialPlanSelectionCtaButton},N("learn bc")),orgId:t,trialLength:14,isStandardVariationEnabled:A})),a.a.createElement(l.a,{onClose:e,background:l.c.DARK},a.a.createElement("div",{className:o()(T.a.animation,T.a.overlay,T.a.overlayExistingTeams,(M||V)&&T.a.overlayViewingPlan,A&&T.a.overlayExpanded),tabIndex:-1,ref:e=>{e&&e.focus()}},V&&a.a.createElement("button",{className:T.a.back,title:"Todo","aria-label":"Todo",onClick:()=>(async()=>{h.Analytics.sendClickedButtonEvent({buttonName:"backButton",source:"planSelectionModal",containers:{organization:{id:t}},attributes:{currentPlanSelected:n}}),z(!1)})()},a.a.createElement(_.a,{size:"large",block:!0})),a.a.createElement("button",{className:T.a.close,title:N("close"),"aria-label":N("close"),onClick:()=>(async()=>{h.Analytics.sendClosedComponentEvent({componentType:"modal",componentName:"freeTrialModal",source:"planSelectionModal",containers:{organization:{id:t}},attributes:{currentPlanSelected:n}}),e()})()},a.a.createElement(E.a,{size:"large",block:!0})),q))},A=e=>a.a.createElement(c.ComponentWrapper,null,a.a.createElement(I,e))},"./app/src/components/FreeTrial/UpsellOverlay.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/UpsellOverlay.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/FreeTrial/UpsellOverlay.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/i18n/index.ts"),o=n("./packages/nachos/button.ts"),s=n("./packages/nachos/spinner.ts"),l=n("./packages/nachos/icons/forward.tsx"),c=n("./packages/atlassian-analytics/index.ts"),d=n("./app/src/components/FreeTrial/UpsellOverlay.less"),u=n.n(d),p=n("./packages/test-ids/index.ts");const m=Object(r.forNamespace)(""),h=Object(r.forNamespace)(["free trial existing","upsell"]),g=[h("things-to-know-point-1"),h("things-to-know-point-2"),h("things-to-know-point-3",{priority:a.a.createElement("a",{href:"https://help.trello.com",style:{marginRight:4},key:"things-to-know-point-3-priority-support"},h("things-to-know-point-3-priority-support"))}),h("things-to-know-point-4")],b=({onLearnMore:e,orgId:t,onCtaClick:r,isLoading:d})=>(Object(i.useEffect)((()=>{c.Analytics.sendScreenEvent({name:"freeTrialModal",containers:{organization:{id:t}}})}),[t]),a.a.createElement("div",{className:u.a.upsellOverlay},a.a.createElement("div",{className:u.a.upsellOverlayHeader},a.a.createElement("img",{src:n("./resources/images/free-trial/light.svg"),alt:"free-trial-light",role:"presentation",width:"101",height:"90"}),a.a.createElement("div",{className:u.a.upsellOverlayTag},h(["upsell","tag"])),a.a.createElement("h3",null,h(["upsell","headline"])),a.a.createElement("p",null,h(["upsell","content"])),a.a.createElement(o.Button,{className:u.a.button,appearance:"primary","data-test-id":p.FreeTrialTestIds.StartFreeTrialButton,onClick:r,size:"fullwidth"},d?a.a.createElement(s.a,{centered:!0,small:!0,wrapperClassName:u.a.spinner}):h(["upsell","maincta"]))),a.a.createElement("div",{className:u.a.upsellOverlayBody},a.a.createElement("div",{className:u.a.upsellOverlayBodyHeader},a.a.createElement("h3",null,h(["upsell","things-to-know-header"])),a.a.createElement("img",{src:n("./resources/images/free-trial/thumbs-up.svg"),alt:"free-trial-thumbs-up",role:"presentation",width:"94",height:"93"})),a.a.createElement("div",{className:u.a.upsellOverlayThings},g.map(((e,t)=>a.a.createElement("div",{key:t.toString(),className:u.a.upsellOverlayThing},a.a.createElement("div",{className:u.a.upsellOverlayThingBullet,"aria-hidden":"true",role:"presentation"})," ",e)))),a.a.createElement(o.Button,{className:u.a.learnMoreStep,onClick:()=>{e(),c.Analytics.sendClickedButtonEvent({buttonName:"learnMoreButton",source:"freeTrialModal",containers:{organization:{id:t}}})},size:"fullwidth","data-test-id":p.FreeTrialTestIds.LearnMoreAboutBCButton,iconAfter:a.a.createElement(l.a,{size:"small"})},m(["learn more button"])))))},"./app/src/components/FreeTrial/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"UpsellOverlay",(function(){return i.a})),n.d(t,"FreeTrialBanner",(function(){return Q})),n.d(t,"PlanSelection",(function(){return ee.a})),n.d(t,"FreeTrialPlanSelection",(function(){return te.a})),n.d(t,"PlanSelectionOverlay",(function(){return k.a})),n.d(t,"PlanSelectionOverlayConnected",(function(){return k.b})),n.d(t,"useFreeTrialEligibilityRules",(function(){return Y.a}));var i=n("./app/src/components/FreeTrial/UpsellOverlay.tsx"),a=n("./node_modules/@apollo/client/index.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={context:{operationName:"FreeTrialDismissBannerAndConfetti"}},c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FreeTrialDismissBannerAndConfetti"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function d(e){const t=o(o({},l),e);return a.useMutation(c,t)}var u=n("./node_modules/react/index.js"),p=n.n(u),m=n("./node_modules/classnames/index.js"),h=n.n(m),g=n("./packages/nachos/button.ts"),b=n("./packages/i18n/index.ts"),f=n("./app/src/components/FreeTrial/FreeTrialBannerActive.less"),v=n.n(f),k=n("./app/src/components/FreeTrial/PlanSelectionOverlay.tsx"),y=n("./packages/atlassian-analytics/index.ts"),C=n("./node_modules/canvas-confetti/dist/confetti.module.mjs"),j=n("./node_modules/underscore/underscore.js"),w=n.n(j),x=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),_=n("./app/scripts/debug/constants.ts"),E=n("./packages/test-ids/index.ts"),S=n("./app/src/components/RouterLink/RouterLink.tsx"),O=n("./packages/nachos/icons/close.tsx"),T=n("./packages/feature-flag-client/index.ts");const D=Object(b.forNamespace)("free trial existing"),N=Object(b.forNamespace)("learn more button"),I=({orgId:e,dismissBanner:t,data:n,freeTrialRules:i})=>{var a,r,o,s,l,c;const[m,f]=Object(u.useState)(!1),j=()=>f(!0),I=Object(T.useFeatureFlag)("fep.a11y_button",!1),[A]=d(),{daysLeft:P,isAdmin:B,totalFreeTrialCredits:L}=i,F=L>1?"free-trial-banner-confetti-".concat(L,"-").concat(e):"free-trial-banner-confetti-".concat(e),M=null!=n&&null!==(a=n.member)&&void 0!==a&&a.oneTimeMessagesDismissed?null==n||null===(r=n.member)||void 0===r?void 0:r.oneTimeMessagesDismissed:[],[R,U]=Object(u.useState)(0),[V,z]=Object(u.useState)(0),H=Object(u.useCallback)((()=>{A({variables:{memberId:"me",messageId:F},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:M.concat([F]),__typename:"Member"}}})}),[M,A,F]),W=M.includes(F);Object(u.useEffect)((()=>{let e=null,t=null;return R&&V&&!W&&(e=setTimeout((()=>{Object(C.default)({angle:w.a.random(0,45),spread:w.a.random(150,180),particleCount:150,origin:{x:0,y:V/window.innerHeight}}),e=null,t=setTimeout((()=>{H(),t=null}),3500)}),1500)),()=>{!W&&t&&H(),t&&clearTimeout(t),e&&clearTimeout(e)}}),[R,V,W,H]);const K=Object(u.useCallback)((e=>{if(null!==e){const t=e.getBoundingClientRect();U(t.x+t.width/2),z(t.y+t.height/2)}W&&C.default.reset()}),[W]),q=null==n||null===(o=n.organization)||void 0===o?void 0:o.displayName,$=null==n||null===(s=n.organization)||void 0===s?void 0:s.name,G=$?"/".concat($,"/billing"):"",Z=!(null==n||null===(l=n.organization)||void 0===l||null===(c=l.paidAccount)||void 0===c||!c.cardType);return p.a.createElement(x.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:_.Feature.FreeTrialExistingTeam}},p.a.createElement("div",{className:h()(v.a.container,v.a.bannerBg),"data-test-id":E.FreeTrialTestIds.ActiveFreeTrialBanner,role:"banner"},p.a.createElement("div",{className:v.a.bcContainer},p.a.createElement("span",{role:"img","aria-label":"confetti",className:v.a.emoji},"ð"),Object(b.localizeCount)("free-trial-banner-tagline-by-days",P,{teamName:p.a.createElement(p.a.Fragment,{key:q},q),days:p.a.createElement("div",{ref:K,key:"".concat(q,"-").concat(P),className:v.a.daysContainer},P)})),p.a.createElement("div",{className:v.a.ctaContainer},B&&!Z?p.a.createElement(p.a.Fragment,null,p.a.createElement("a",{role:"button",className:v.a.linkCta,"data-test-id":E.FreeTrialTestIds.LearnMoreBannerLink,onClick:()=>{y.Analytics.sendClickedLinkEvent({linkName:"learnMoreLink",source:"freeTrialBanner",containers:{organization:{id:e}}}),j()}},N("")),p.a.createElement(S.a,{className:h()(v.a.linkButton,I&&v.a.linkButtonExp),href:G,onClick:()=>{const t=B?"addPaymentButton":"upgradeButton";y.Analytics.sendClickedButtonEvent({buttonName:t,source:"freeTrialBanner",containers:{organization:{id:e}}})},testId:E.FreeTrialTestIds.BannerAddPaymentButton},D(["banner","add-payment-method"]))):p.a.createElement(p.a.Fragment,null,p.a.createElement(g.Button,{className:v.a.linkButton,appearance:"primary",onClick:()=>{y.Analytics.sendClickedButtonEvent({buttonName:"learnMoreButton",source:"freeTrialBanner",containers:{organization:{id:e}}}),j()}},N("")),p.a.createElement("button",{className:v.a.closeButton,onClick:t},p.a.createElement(O.a,{size:"medium",block:!0,dangerous_className:v.a.closeIcon}))))),m&&p.a.createElement(k.a,{orgId:e,onClose:()=>f(!1)}))};var A=n("./packages/product-features/index.ts"),P=n("./node_modules/moment/moment.js"),B=n.n(P),L=n("./app/src/components/FreeTrial/FreeTrialBannerExpired.less"),F=n.n(L),M=n("./packages/paid-account/index.ts"),R=n("./app/src/components/TeamBillingView/useBillingStep.tsx"),U=n("./app/src/components/StandardGenerics/index.ts");const V=Object(b.forNamespace)("free trial existing"),z=({orgId:e,dismissBanner:t,data:n})=>{var i,a,r,o,s,l,c,d;const{isStandardVariationEnabled:m}=Object(U.useStandard)({orgId:e}),{setStep:g}=Object(R.a)(),b=Object(T.useFeatureFlag)("fep.a11y_button",!1),f=null==n||null===(i=n.organization)||void 0===i?void 0:i.displayName,v=null==n||null===(a=n.organization)||void 0===a?void 0:a.name,k=v?"/".concat(v,"/billing"):"",C=A.ProductFeatures.hasProduct(null!==(r=null==n||null===(o=n.member)||void 0===o||null===(s=o.paidAccount)||void 0===s||null===(l=s.products)||void 0===l?void 0:l[0])&&void 0!==r?r:0),j=B()(null!==(c=Object(M.getExpirationDate)(null==n||null===(d=n.member)||void 0===d?void 0:d.paidAccount))&&void 0!==c?c:"").format("MM/DD"),w=Object(u.useCallback)((()=>{y.Analytics.sendClickedButtonEvent({buttonName:"upgradeButton",source:"freeTrialBanner",containers:{organization:{id:e}}})}),[e]),D=Object(u.useCallback)((e=>{g({step:e}),t(),w()}),[t,g,w]);let N;return N=C?V(["banner","expired tagline gold"],{date:p.a.createElement(p.a.Fragment,{key:"date-expired"},j)}):V(["banner","expired tagline"],{teamName:p.a.createElement(p.a.Fragment,{key:f},f)}),p.a.createElement(x.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:_.Feature.FreeTrialExistingTeam}},p.a.createElement("div",{className:h()(F.a.container,F.a.expiredBg),"data-test-id":E.FreeTrialTestIds.ExpiredFreeTrialBanner,role:"banner"},p.a.createElement("div",{className:F.a.bcContainer},p.a.createElement("span",{role:"img","aria-label":"wave",className:F.a.emoji},"ð"),N),p.a.createElement("section",{className:F.a.ctaContainer},p.a.createElement("div",{className:F.a.linkContainer},C&&p.a.createElement(S.a,{testId:E.FreeTrialTestIds.RenewGoldButton,role:"button",className:F.a.linkCta,onClick:()=>{y.Analytics.sendClickedLinkEvent({linkName:"goldLink",source:"freeTrialBanner",containers:{organization:{id:e}}})},href:"/me/billing"},V(["banner","renew-gold"])),m&&p.a.createElement(S.a,{testId:E.FreeTrialTestIds.ExplorePlansButton,role:"button",className:F.a.linkCta,href:k,onClick:()=>D("details")},V(["banner","explore-plans"])),p.a.createElement(S.a,{testId:E.FreeTrialTestIds.AddPaymentMethodButton,role:"button",className:h()(F.a.linkButton,b&&F.a.linkButtonExp),href:k,onClick:()=>D("billing")},V(["banner","add-payment-method"]))),p.a.createElement("button",{className:F.a.closeButton,onClick:t},p.a.createElement(O.a,{size:"medium",block:!0,dangerous_className:F.a.closeIcon})))))};var H=n("./packages/browser/index.ts"),W=n("./node_modules/js-cookie/src/js.cookie.js"),K=n.n(W);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z={context:{operationName:"FreeTrialBanner"}},J={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeTrialBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}},{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"expirationDates"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardType"}}]}}]}}]}}]};var Y=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),X=n("./packages/organizations/index.ts");const Q=({orgId:e})=>{var t,n,i;const[r]=d(),o=Object(Y.a)(e),{hasCredit:s,isTrialActive:l,trialSource:c,isAdmin:u,totalFreeTrialCredits:m}=o,{data:h,loading:g}=function(e){const t=$($({},Z),e);return a.useQuery(J,t)}({variables:{orgId:e}}),b=m>1?"free-trial-banner-".concat(m,"-").concat(e):"free-trial-banner-".concat(e),f=null!=h&&null!==(t=h.member)&&void 0!==t&&t.oneTimeMessagesDismissed?null==h||null===(n=h.member)||void 0===n?void 0:n.oneTimeMessagesDismissed:[];if(!s||f.includes(b)||g||!h||null!=h&&null!==(i=h.organization)&&void 0!==i&&i.idEnterprise||Object(H.dontUpsell)())return null;const v=K.a.get("simulateExpiredTrial"),k=l&&!v,C=c===X.TrialSource.Moonshot,j=async()=>{y.Analytics.sendDismissedComponentEvent({componentType:"banner",componentName:"freeTrialBanner",source:Object(y.getScreenFromUrl)(),containers:{organization:{id:e}}}),r({variables:{memberId:"me",messageId:b},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:f.concat([b]),__typename:"Member"}}})};return!u&&!k||u&&C?null:((async()=>{const t=u&&k?"admin":k?"normal":"expired";y.Analytics.sendViewedBannerEvent({bannerName:"freeTrialBanner",source:Object(y.getScreenFromUrl)(),containers:{organization:{id:e}},attributes:{type:t}})})(),p.a.createElement(x.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:_.Feature.FreeTrialExistingTeam}},k?p.a.createElement(I,{orgId:e,dismissBanner:j,data:h,freeTrialRules:o}):p.a.createElement(z,{orgId:e,dismissBanner:j,data:h})))};var ee=n("./app/src/components/FreeTrial/PlanSelection.tsx"),te=n("./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx")},"./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var i=n("./node_modules/@apollo/client/index.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={context:{operationName:"FreeTrialEligibilityRules"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeTrialEligibilityRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standing"}}]}},{kind:"Field",name:{kind:"Name",value:"credits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"count"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={context:{operationName:"AddFreeTrialCredit"}},m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddFreeTrialCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addFreeTrial"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"standing"}},{kind:"Field",name:{kind:"Name",value:"dateFirstSubscription"}}]}}]}}]}}]};var h=n("./app/src/components/BillingDetails/BillingHistory/TeamBillingStatementsQuery.graphql"),g=n.n(h),b=n("./packages/organizations/index.ts"),f=n("./packages/paid-account/index.ts"),v=n("./app/scripts/controller/navigate.js"),k=n("./packages/atlassian-analytics/index.ts"),y=n("./packages/graphql-error-handling/index.ts"),C=n("./app/scripts/views/lib/alerts.js"),j=n.n(C),w=n("./packages/dates/index.ts"),x=n("./node_modules/moment/moment.js"),_=n.n(x);const E=(e,t={skip:!1})=>{var n,a;const{data:o,loading:c}=function(e){const t=r(r({},s),e);return i.useQuery(l,t)}({variables:{orgId:e||""},skip:!e||t.skip}),[u,{loading:h}]=function(e){const t=d(d({},p),e);return i.useMutation(m,t)}(),C=null==o?void 0:o.member,x=null==o?void 0:o.organization,E=(null==C?void 0:C.id)||"",S=null==C?void 0:C.idEnterprise,O=null==C?void 0:C.confirmed,T=null==x?void 0:x.name,D=(null==x?void 0:x.credits)||[],N=(null==x?void 0:x.products)||[],I=Object(f.needsCC)(null==x||null===(n=x.paidAccount)||void 0===n?void 0:n.standing),A=Object(b.getFreeTrialProperties)(D,N),P=!(null==A||!A.credit),B=D.some((e=>"freeTrial"===e.type&&_()(Object(w.e)(e.id)).add(e.count,"day").isAfter("2021-02-09T00:00:00+0000"))),L=D.filter((e=>"freeTrial"===e.type)).length,F=!(null==x||!x.memberships.find((e=>e.idMember===E&&"admin"===e.memberType)));return{startFreeTrial:async({redirect:t}={redirect:!0},n)=>{if(e&&!c&&!B&&!h){try{await u({variables:{orgId:e},refetchQueries:[{query:g.a,variables:{orgId:e}}]}),n&&k.Analytics.sendTrackEvent({action:"accepted",actionSubject:"freeTrial",source:n,containers:{organization:{id:e}}})}catch(e){var i;j.a.showLiteralText(e,"error","alert",5e3);const t=Object(y.c)(e);n&&k.Analytics.sendOperationalEvent({action:"errored",actionSubject:"freeTrial",source:n,attributes:{errorMessage:null!==(i=null==t?void 0:t.message)&&void 0!==i?i:null==e?void 0:e.message,errorCode:null==t?void 0:t.code}})}t&&Object(v.navigate)("/".concat(T,"/getting-started"),{trigger:!0,replace:!0})}},isAdmin:F,hasCredit:P,isTrialActive:null==A?void 0:A.isActive,isExpired:null==A?void 0:A.isExpired,isEligible:F&&!B&&!I&&O&&!S,loading:c,daysLeft:(null==A?void 0:A.daysLeft)||0,trialSource:null==A?void 0:A.trialSource,startDate:null==A?void 0:A.startDate,days:null==A?void 0:A.days,endDate:null!==(a=null==A?void 0:A.expiresAt)&&void 0!==a?a:null,totalFreeTrialCredits:L}}},"./app/src/components/InfiniteList/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"InfiniteList",(function(){return s}));var i=n("./node_modules/@researchgate/react-intersection-list/lib/es/index.js"),a=n("./packages/nachos/spinner.ts"),r=n("./node_modules/react/index.js"),o=n.n(r);class s extends o.a.Component{constructor(...e){var t,n,i;super(...e),i=(e,t)=>{const{itemCount:n,loadMore:i}=this.props;i&&e>=n&&i(e,t)},(n="loadMoreItems")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{axis:e,renderEmpty:t,renderItem:n,itemCount:r,itemsRenderer:s,isLoading:l=!1,awaitMore:c,pageSize:d,spinnerClassName:u,threshold:p}=this.props;return o.a.createElement(o.a.Fragment,null,t&&t(0===r),o.a.createElement(i.a,{renderItem:n,itemCount:r,awaitMore:c,onIntersection:this.loadMoreItems,itemsRenderer:s,pageSize:d,threshold:p,axis:e}),l&&o.a.createElement(a.a,{centered:!0,wrapperClassName:u}))}}},"./app/src/components/Label/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=new(n("./packages/shared-state/index.ts").a)({showText:!1},{storageKey:"labelState"})},"./app/src/components/MoveCardPopover/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"MoveCardPopover",(function(){return j}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),o=n.n(r),s=n("./packages/nachos/select.ts"),l=n("./packages/colors/index.ts"),c=n("./node_modules/@apollo/client/index.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m={context:{operationName:"MoveCardPopover"}},h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoveCardPopover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"visible"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idList"}}]}}]}}]}}]};var g=n("./packages/i18n/index.ts"),b=n("./app/scripts/lib/localize.js"),f=n.n(b),v=n("./app/scripts/lib/util/index.js"),k=n("./packages/test-ids/index.ts");const y=Object(g.forTemplate)("popover_move_card"),C=Object(g.forTemplate)("move_card_controls"),j=({hasEnterprise:e=!1,hideBoardSelect:t=!1,isMove:n=!0,isCopy:r=!1,currentIndex:d,defaultBoardId:p,defaultBoardName:g,defaultListId:b,defaultListName:j,enterpriseName:w="",cardList:x,organizations:_,onSubmit:E,restrictToCurrentBoard:S=!1,suggestions:O=[]})=>{const[T,D]=Object(i.useState)(p),[N,I]=Object(i.useState)(b),[A,P]=Object(i.useState)("bottom"),[B,L]=Object(i.useState)(d),{data:F,loading:M}=function(e){const t=u(u({},m),e);return c.useQuery(h,t)}({fetchPolicy:"network-only",nextFetchPolicy:"cache-first",variables:{boardId:T}}),R=N===b,U=_.map((e=>({label:e.displayName,options:e.boards.map((e=>({label:e.name,value:e.id})))}))),V=F&&F.board?F.board.lists.map((e=>({label:e.name,value:e.id}))):[{label:j,value:b}];let z=V&&V.find((({value:e})=>e===N))||V[0];const H=F&&F.board&&F.board.cards?F.board.cards.filter((({idList:e})=>e===N)).length:0;let W=H||x.length;x.length>H&&R&&(W=x.length),z&&!R&&(W=H+1);const K=F&&F.board?[...Array(W).keys()].map((e=>({label:e+1,value:e}))):[{label:d+1,value:d}];let q=K[B]||K[K.length-1];V.length||(z={label:f()("no lists"),value:""},q={label:f()("n/a"),value:-1}),Object(i.useEffect)((()=>{!M&&I(z.value),!M&&!R&&L(W)}),[z.value,M,W,R]),Object(i.useEffect)((()=>{!M&&L(q.value)}),[q.value,M]),Object(i.useEffect)((()=>{P((()=>0===B?"top":B===H?"bottom":Object(v.calcPos)(B,x)))}),[B,x,H]);const $=Object(i.useCallback)((e=>{E(e,T,N,A,B)}),[E,T,B,N,A]);return a.a.createElement(a.a.Fragment,null,O.length>0&&a.a.createElement("div",{className:"pop-over-section"},a.a.createElement("h4",null,a.a.createElement("span",{className:"icon-sm icon-sparkle"}),y("suggested")),O.map((e=>a.a.createElement("a",{className:o()({"button-link":!0,"js-suggested-move":!0,"flip-icon":"left"===e.direction}),key:e.id,href:"#","data-id":e.id,"data-position":e.position},a.a.createElement("span",{className:"icon-sm icon-move"}),e.name)))),a.a.createElement("div",{className:"pop-over-section"},a.a.createElement("h4",null,y("select-destination")),a.a.createElement("div",{className:"form-grid"},!t&&a.a.createElement("div",{className:"form-grid-child form-grid-child-full"},S?a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{style:{color:l.N800,fontSize:"14px",marginBottom:"2px",lineHeight:"20px"}},C("board")),a.a.createElement("p",null,_[0].boards[0].name)):a.a.createElement(s.a,{label:C("board"),options:U,defaultValue:{label:g,value:p},onChange:({value:e})=>D(e),isSearchable:!0,testId:k.SelectTestIds.MoveBoardSelect}),e&&w&&n&&a.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},C("card-can-only-be-moved-to-teams-within-org",{enterpriseName:w})),e&&w&&r&&a.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},C("card-can-only-be-copied-to-teams-within-org",{enterpriseName:w}))),a.a.createElement("div",{className:"form-grid-child form-grid-child-threequarters",style:{maxWidth:"100%"}},a.a.createElement(s.a,{label:C("list"),options:V,value:z,onChange:({value:e})=>I(e),isSearchable:!0,isDisabled:!V.length})),a.a.createElement("div",{className:"form-grid-child"},a.a.createElement(s.a,{label:C("position"),options:K,value:q,onChange:({value:e})=>L(e),isSearchable:!0,isDisabled:!V.length})))),a.a.createElement("input",{className:"nch-button nch-button--primary wide",type:"submit",disabled:!V.length,onClick:e=>$(e),value:y("move")}))}},"./app/src/components/NewFeature/NewPill.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/NewFeature/NewPill.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/NewFeature/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"FeatureId",(function(){return i.a})),n.d(t,"NewPill",(function(){return M})),n.d(t,"useNewFeature",(function(){return I}));var i=n("./app/src/components/NewFeature/FeatureRolloutConfig.ts"),a=n("./node_modules/react/index.js"),r=n.n(a),o=n("./packages/atlassian-analytics/index.ts"),s=n("./packages/keybindings/index.ts"),l=n("./packages/i18n/index.ts"),c=n("./app/src/components/Lozenge/index.ts"),d=n("./node_modules/moment/moment.js"),u=n.n(d),p=n("./packages/dates/index.ts"),m=n("./packages/shared-state/index.ts"),h=n("./node_modules/@apollo/client/index.js");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={context:{operationName:"AcknowledgeNewFeature"}},k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AcknowledgeNewFeature"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w={context:{operationName:"NewFeature"}},x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NewFeature"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function T(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const D=e=>{const[,t]=i.b[e],n=u()(t,i.c).valueOf();return"ack-new-feature-".concat(e,"-").concat(n)},N=new m.a({},{storageKey:"newFeaturesSeen",session:!0}),I=e=>{const{data:t}=function(e){const t=C(C({},w),e);return h.useQuery(x,t)}(),[n]=function(e){const t=b(b({},v),e);return h.useMutation(k,t)}(),[r,s]=Object(m.c)(N),l=Object(a.useMemo)((()=>{var n;if(null==t||null===(n=t.member)||void 0===n||!n.id)return!1;const{id:a,oneTimeMessagesDismissed:r}=t.member,o=Object(p.e)(a),[s,l]=i.b[e];if(u()(s,i.c).isBefore(o)||u()(l,i.c).isBefore(Date.now()))return!1;const c=D(e);return!(null!=r?r:[]).includes(c)}),[t,e]),c=Object(a.useRef)(!1);Object(a.useEffect)((()=>{l&&!c.current&&(o.Analytics.sendOperationalEvent({action:"exposed",actionSubject:"newFeature",source:Object(o.getScreenFromUrl)(),attributes:{featureId:e}}),c.current=!0)}),[e,l,c]);const d=Object(a.useCallback)((async({source:t,explicit:i=!1})=>{const a=null!=r?r:{},{[e]:c}=a,d=O(a,[e].map(T));if(l){const t=D(e);await n({variables:{messageId:t}}),s(E(E({},d),{},{[e]:!i}))}else{if(!i||!0!==c)return;s(E(E({},d),{},{[e]:!1}))}o.Analytics.sendTrackEvent({action:"acknowledged",actionSubject:"newFeature",source:t,attributes:{featureId:e,explicit:i}})}),[e,l,n,r,s]);return{isNewFeature:l||!(null==r||!r[e]),acknowledgeNewFeature:d}};var A=n("./app/src/components/NewFeature/NewPill.less"),P=n.n(A);function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const F=Object(l.forNamespace)("new feature"),M=e=>{let{featureId:t,source:n,markViewed:i=!0,dismissOnClick:l=!1,children:d}=e,u=L(e,["featureId","source","markViewed","dismissOnClick","children"]);const{isNewFeature:p,acknowledgeNewFeature:m}=I(t),[h,g]=Object(a.useState)(i);if(Object(a.useEffect)((()=>{h&&p&&(m({source:n}),g(!1),o.Analytics.sendViewedComponentEvent({componentType:"pill",componentName:"newFeaturePill",source:n,attributes:{featureId:t}}))}),[t,p,m,h,g,n]),!p)return null;const b=()=>{l&&m({source:n,explicit:!0}),o.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"newFeaturePill",source:n,attributes:{featureId:t,dismissOnClick:l}})};return r.a.createElement("a",{className:l?P.a.link:P.a.unstyledLink,onClick:b,onKeyDown:e=>{Object(s.isSubmitEvent)(e)&&b()},role:"button",tabIndex:l?0:void 0},r.a.createElement(c.a,B({color:"green"},u),r.a.createElement("span",{className:P.a.lozenge},d||F("new"))))}},"./app/src/components/PopoverConfirm/PopoverConfirm.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverConfirm/PopoverConfirm.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/PopoverConfirm/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./packages/nachos/button.ts"),a=n("./packages/i18n/index.ts"),r=n("./node_modules/react/index.js"),o=n.n(r),s=n("./app/src/components/PopoverConfirm/PopoverConfirm.less"),l=n.n(s);const c=({confirmKey:e,confirmCallback:t,confirmSubstitutions:n,isDanger:r})=>{const s=Object(a.forNamespace)(["confirm",e]);return o.a.createElement("div",{className:l.a.confirmContainer},o.a.createElement("p",null,s("text",n)),o.a.createElement(i.Button,{appearance:r?"danger":"primary",autoFocus:!0,onClick:t,size:"fullwidth"},s("confirm",n)))}},"./app/src/components/PowerUpAttachmentSectionSuggestion/ClaimedAttachment.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpAttachmentSectionSuggestion/ClaimedAttachment.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/PowerUpAttachmentSectionSuggestion/PowerUpAttachmentSectionSuggestion.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpAttachmentSectionSuggestion/PowerUpAttachmentSectionSuggestion.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/PowerUpAttachmentSectionSuggestion/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"PowerUpAttachmentSectionSuggestion",(function(){return E})),n.d(t,"getSecondLevelDomain",(function(){return N})),n.d(t,"getClaimedSecondLevelDomainsToPluginMapForOrg",(function(){return I})),n.d(t,"doesMatchClaimedDomain",(function(){return A})),n.d(t,"PowerUpSuggestionContainer",(function(){return B}));var i=n("./node_modules/classnames/index.js"),a=n.n(i),r=n("./node_modules/react/index.js"),o=n.n(r),s=n("./app/src/components/PowerUpAttachmentSectionSuggestion/PowerUpAttachmentSectionSuggestion.less"),l=n.n(s),c=n("./packages/nachos/icons/close.tsx"),d=n("./app/scripts/db/auth.js"),u=n.n(d),p=n("./app/scripts/views/lib/pop-over.js"),m=n.n(p),h=n("./packages/i18n/index.ts"),g=n("./app/src/components/PowerUpAttachmentSectionSuggestion/ClaimedAttachment.less"),b=n.n(g),f=n("./packages/nachos/icons/overflow-menu-horizontal.tsx"),v=n("./app/src/components/ComponentWrapper/index.ts"),k=n("./app/scripts/views/lib/confirm.js"),y=n.n(k);const C=Object(h.forTemplate)("claimed_attachment"),j=({onRemoveAttachment:e})=>o.a.createElement(v.ComponentWrapper,{key:"edit-attachment"},o.a.createElement("ul",{className:"pop-over-list"},o.a.createElement("li",null,o.a.createElement("a",{onClick:()=>{y.a.pushView("remove attachment",{confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e})},role:"button"},C("remove"))))),w=Object(h.forTemplate)("claimed_attachment"),x=({attachment:e,pluginName:t,mark:n,onRemoveAttachment:i})=>{const a=new Date(e.date),r=u.a.myLocale()||void 0,s=a.toLocaleString(r,{dateStyle:"long",timeStyle:"medium"}),l=a.toLocaleString(r,{month:"short",day:"numeric"});return o.a.createElement("div",{role:"button",className:b.a.attachmentCard,onClick:t=>{t.preventDefault(),window.open(e.url,e.url,"noopener,noreferrer")}},o.a.createElement("a",{className:b.a.attachmentCover,href:e.url,onClick:e=>e.stopPropagation(),target:"_blank",title:e.name,rel:"noreferrer nofollow noopener"},o.a.createElement("img",{src:n,height:"40",width:"40",alt:""})),o.a.createElement("div",{className:b.a.attachmentDetail},o.a.createElement("div",null,o.a.createElement("span",{className:b.a.attachmentTitle},e.name),o.a.createElement("div",{className:b.a.attachmentMeta},o.a.createElement("span",{className:b.a.subtitle},t),o.a.createElement("span",{className:b.a.metaSeparator}," â¢ "),o.a.createElement("span",{title:s},l))),o.a.createElement("a",{className:b.a.attachmentMenu,onClick:t=>{t.preventDefault(),t.stopPropagation(),m.a.toggle({elem:t.target,getViewTitle:()=>w("edit-attachment"),reactElement:j({onRemoveAttachment:()=>{i(e.id)}})})},role:"button"},o.a.createElement(f.a,null))))},_=Object(h.forTemplate)("power_up_attachment_section_suggestion"),E=({attachments:e,name:t,overview:n,mark:i,onDismissBtn:r,onRemoveAttachment:s,onEnableBtn:d})=>0===e.length?null:o.a.createElement("div",{className:"window-module"},o.a.createElement("div",{className:l.a.moduleTitleBlock},o.a.createElement("img",{className:l.a.mark,src:i,height:"24",width:"24",alt:""}),o.a.createElement("div",{className:l.a.headerContent},o.a.createElement("h3",{className:l.a.moduleTitle},t),o.a.createElement("div",{className:l.a.headerActions},o.a.createElement("button",{className:a()(l.a.headerBtn,l.a.dismissBtn),onClick:e=>r(e.target)},o.a.createElement(c.a,null)),o.a.createElement("button",{className:a()(l.a.headerBtn,l.a.enableBtn),onClick:e=>d(e.target)},o.a.createElement("img",{className:l.a.btnMark,src:i,height:"20",width:"20",alt:""}),o.a.createElement("span",null,_("enable",{name:t})))))),o.a.createElement("div",{className:"u-gutter"},o.a.createElement("p",{className:l.a.sectionMeta},n),o.a.createElement("div",{className:l.a.attachmentsGrid},e.map((e=>o.a.createElement(x,{key:e.id,pluginName:t,mark:i,attachment:e,onRemoveAttachment:s}))))));var S=n("./app/scripts/db/model-loader.js"),O=n.n(S);const T={},D={};function N(e){const t=["http:","https:"],n=["co","com","org","gov"];let i;try{const a=new URL(e);if(!t.includes(a.protocol))return null;const r=a.hostname.split(".");if(r.length<2)return null;i=r.slice(-2).join("."),r.length>2&&n.includes(r[r.length-2])&&(i=r.slice(-3).join("."))}catch(e){return null}return i}async function I(e,t){if(T[e])return T[e];if(D[e])return D[e];const n=new Promise((n=>{O.a.loadPluginsWithClaimedDomains(t).then((t=>{if(!t)return null;const i={};t.forEach((e=>{var t;null===(t=e.attributes.claimedDomains)||void 0===t||t.forEach((t=>{const n=N("https://".concat(t.replace(/^\*\./,"")));n&&(i[n]?i[n].includes(e)||i[n].push(e):i[n]=[e])}))})),T[e]=i,delete D[e],n(T[e])}))}));return D[e]=n,n}function A(e,t){let n,i;try{n=new URL(e)}catch(e){return!1}return t.startsWith("*.")?(i=new URL("https://".concat(t.substring(2))),(n.host===i.host||n.host.endsWith(".".concat(i.host)))&&n.pathname.startsWith(i.pathname)):(i=new URL("https://".concat(t)),n.host===i.host&&n.pathname.startsWith(i.pathname))}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const B=({suggestionProps:e})=>o.a.createElement(o.a.Fragment,null,e.map((e=>o.a.createElement(E,P({key:e.name},e)))))},"./app/src/components/QrCode/QrCode.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCode.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/QrCode/QrCodePopover.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodePopover.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/QrCode/QrCodeToggle.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodeToggle.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/QrCode/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"QrCode",(function(){return b})),n.d(t,"QrCodeType",(function(){return h})),n.d(t,"QrCodeStyle",(function(){return g})),n.d(t,"QrCodePopover",(function(){return N})),n.d(t,"QrCodeToggle",(function(){return L})),n.d(t,"QrCodeWrapper",(function(){return _}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/atlassian-analytics/index.ts"),o=n("./packages/nachos/button.ts"),s=n("./packages/nachos/spinner.ts"),l=n("./packages/i18n/index.ts"),c=n("./app/src/components/QrCode/QrCode.less"),d=n.n(c);const u=n("./resources/images/qr-code/error.svg"),p="qrCodeSection",m=Object(l.forNamespace)(["qr_code"],{shouldEscapeStrings:!1});let h,g;!function(e){e.board="board",e.card="card",e.boardInvite="board-invite",e.teamInvite="team-invite"}(h||(h={})),function(e){e.popover="popover",e.inline="inline"}(g||(g={}));const b=({url:e,type:t=h.board,style:n=g.popover,imageData:l="",hasErrored:c=!1,isLoading:b=!1,onTryAgain:f=(()=>{})})=>{const v=Object(i.useCallback)((()=>{r.Analytics.sendClickedButtonEvent({buttonName:"downloadButton",source:p,attributes:{type:t}})}),[t]),k=Object(i.useCallback)((()=>{f(),r.Analytics.sendClickedButtonEvent({buttonName:"tryAgainButton",source:p,attributes:{type:t}})}),[f,t]),y=()=>b?a.a.createElement(s.a,{centered:!0,wrapperClassName:d.a.qrCodeSpinner}):c||!l?a.a.createElement("img",{src:u,alt:m("error"),key:"errorImage"}):a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:l,alt:"".concat(m("qr-code")," for: ").concat(e),key:"qrCodeImage"}),a.a.createElement("i",{className:d.a.top}),a.a.createElement("i",{className:d.a.bottom})),C=()=>m(b||!c&&l?"".concat(t,"-text"):"something-went-wrong"),j=()=>b?a.a.createElement(o.Button,{isDisabled:!0,className:d.a.button},m("download")):c||!l?a.a.createElement(o.Button,{onClick:k,className:d.a.button},m("try-again")):a.a.createElement(o.ButtonLink,{link:l,download:"trello-".concat(t,"-qr-code.png"),isPrimary:!0,onClick:v,className:d.a.button},m("download"));return n===g.inline?a.a.createElement("div",{className:d.a.qrCodeInline},a.a.createElement("div",{className:d.a.qrCodeImage},y()),a.a.createElement("div",null,a.a.createElement("p",null,C()),a.a.createElement("p",null,j()))):a.a.createElement("div",{className:d.a.qrCodeContent},C(),a.a.createElement("div",{className:d.a.qrCodeImage},y()),j())};var f=n("./packages/nachos/popover.ts"),v=n("./node_modules/@apollo/client/index.js");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j={context:{operationName:"QrCode"}},w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QrCode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"url"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"qrCode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"url"},value:{kind:"Variable",name:{kind:"Name",value:"url"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageData"}}]}}]}}]};const x="qrCodeSection",_=({url:e,type:t=h.board,style:n=g.popover})=>{const[o,s]=Object(i.useState)(!1),[l,c]=Object(i.useState)(!1),[d,u]=Object(i.useState)(""),p=function(e){const t=y(y({},j),e);return v.useQuery(w,t)}({variables:{url:e}});Object(i.useEffect)((()=>{var e;s(p.loading),p.error?(c(!0),r.Analytics.sendOperationalEvent({action:"errored",actionSubject:"qrCode",source:x,attributes:{type:t,error:p.error}})):null!=p&&null!==(e=p.data)&&void 0!==e&&e.qrCode&&(u(p.data.qrCode.imageData),r.Analytics.sendOperationalEvent({action:"fetched",actionSubject:"qrCode",source:x,attributes:{type:t}}))}),[p,t]);const m=Object(i.useCallback)((()=>{p.refetch()}),[p]);return a.a.createElement(b,{url:e,type:t,style:n,imageData:d,hasErrored:l,isLoading:o,onTryAgain:m})};var E=n("./app/src/components/QrCode/QrCodePopover.less"),S=n.n(E);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const T="qrCodePopover",D=Object(l.forNamespace)(["qr_code"],{shouldEscapeStrings:!1}),N=({url:e,type:t})=>{const{popoverProps:n,toggle:o,triggerRef:s}=Object(f.e)({onHide:()=>{r.Analytics.sendClosedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:T,attributes:{type:t}})},onShow:()=>{r.Analytics.sendViewedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:T,attributes:{type:t}})}}),l=Object(i.useCallback)((()=>{o(),r.Analytics.sendClickedLinkEvent({linkName:"toggleQrCodeLink",source:T,attributes:{type:t}})}),[o,t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{role:"link",onClick:l,ref:s,className:S.a.showQrCodeLink},D("show-qr-code")),a.a.createElement(f.b,O({},n,{title:D("qr-code")}),a.a.createElement(_,{url:e,type:t,style:g.popover})))};var I=n("./app/src/components/QrCode/QrCodeToggle.less"),A=n.n(I);const P="qrCodeToggle",B=Object(l.forNamespace)(["qr_code"],{shouldEscapeStrings:!1}),L=({url:e,type:t})=>{const[n,o]=Object(i.useState)(!1);Object(i.useEffect)((()=>{n?r.Analytics.sendViewedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:P,attributes:{type:t}}):r.Analytics.sendClosedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:P,attributes:{type:t}})}),[n]);const s=Object(i.useCallback)((()=>{o(!n),r.Analytics.sendClickedLinkEvent({linkName:"toggleQrCodeLink",source:P,attributes:{type:t}})}),[n,t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{role:"link",onClick:s,className:A.a.showQrCodeLink},B(n?"hide-qr-code":"show-qr-code")),n?a.a.createElement(_,{url:e,type:t,style:g.inline}):null)}},"./app/src/components/StandardGenerics/index.ts":function(e,t,n){"use strict";n.r(t);var i=n("./app/src/components/StandardGenerics/useStandard.ts");n.d(t,"getStandardVariation",(function(){return i.a})),n.d(t,"getStandardVariationEnabled",(function(){return i.b})),n.d(t,"useStandard",(function(){return i.c}))},"./app/src/components/StandardGenerics/useStandard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g}));var i=n("./node_modules/js-cookie/src/js.cookie.js"),a=n.n(i),r=n("./packages/feature-flag-client/index.ts"),o=n("./node_modules/@apollo/client/index.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={context:{operationName:"StandardVariation"}},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StandardVariation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standardVariation"}}]}}]}}]};const p="nusku.phase-3",m=e=>a.a.get("force_standardVariation")||e||"control",h=e=>r.featureFlagClient.get(p,!1)&&"control"!==m(e),g=({standardVariation:e,orgId:t=""})=>{var n;const{data:i}=function(e){const t=l(l({},d),e);return o.useQuery(u,t)}({variables:{orgId:t},skip:!t}),a=m(e||(null==i||null===(n=i.organization)||void 0===n?void 0:n.standardVariation)),s=Object(r.useFeatureFlag)(p,!1);return{isStandardFlagEnabled:s,isStandardVariationEnabled:s&&"control"!==a,standardVariation:a}}},"./app/src/components/SuggestionsSettings/SuggestionsSettings.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/SuggestionsSettings/SuggestionsSettings.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/TeamBillingView/useBillingStep.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./packages/shared-state/index.ts");const a=new i.b({step:"details"}),r=()=>{const[{step:e},t]=Object(i.c)(a);return{billingStep:e,setStep:t,resetBillingStep:()=>t({step:"details"})}}},"./app/src/components/UpgradePrompts/UpgradePromptBanner.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptBanner.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptButton.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButton.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptButton.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptButton",(function(){return m})),n.d(t,"UpgradePromptButtonConnected",(function(){return h}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),o=n.n(r),s=n("./app/src/components/UpgradePrompts/UpgradePromptButton.less"),l=n.n(s),c=n("./app/src/components/ComponentWrapper/index.ts"),d=n("./app/src/components/RouterLink/RouterLink.tsx"),u=n("./packages/browser/index.ts");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const m=({cta:e,ctaLink:t,ctaOnClick:n,icon:i,isDarkTheme:r,shouldFitContainer:s,openInNewTab:c,allowUpsell:m,testId:h})=>{if(Object(u.dontUpsell)()&&!m)return null;const g=o()(l.a.upgradePromptButton,r?l.a.upgradePromptButtonDarkTheme:l.a.upgradePromptButtonLightTheme,s&&l.a.upgradePromptFitContainer);let b="/business-class"===t?"a":d.a;return t||(b="button"),a.a.createElement(b,p({"data-test-id":h,href:t,className:g,onClick:()=>{n&&n()}},c?{target:"_blank"}:{}),void 0!==i&&a.a.createElement("div",{className:l.a.upgradePromptButtonIconBackground},a.a.cloneElement(i,{dangerous_className:l.a.upgradePromptButtonIcon,size:"small"})),a.a.createElement("div",{className:l.a.upgradePromptButtonCTA},e))},h=e=>a.a.createElement(c.ComponentWrapper,null,a.a.createElement(m,e))},"./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptDismissMessageMutation.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@apollo/client/index.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={context:{operationName:"UpgradePromptDismissMessage"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpgradePromptDismissMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function c(e){const t=r(r({},s),e);return i.useMutation(l,t)}},"./app/src/components/UpgradePrompts/UpgradePromptFull.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFull.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptFull.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptFull",(function(){return C})),n.d(t,"UpgradePromptFullConnected",(function(){return j}));var i=n("./packages/atlassian-analytics/index.ts"),a=n("./node_modules/react/index.js"),r=n.n(a),o=n("./node_modules/classnames/index.js"),s=n.n(o),l=n("./packages/nachos/icons/close.tsx"),c=n("./app/src/components/ComponentWrapper/index.ts"),d=n("./packages/nachos/button.ts"),u=n("./app/src/components/FreeTrial/index.ts"),p=n("./app/src/components/RouterLink/RouterLink.tsx"),m=n("./app/src/components/UpgradePrompts/UpgradePromptFull.less"),h=n.n(m),g=n("./packages/browser/index.ts"),b=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),f=n("./packages/i18n/index.ts"),v=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),k=n("./app/scripts/debug/constants.ts");const y=Object(f.forNamespace)(["free trial existing","upgrade prompt"]),C=({allowUpsell:e,className:t,content:n,cta:o,ctaLink:c,ctaOnClick:m,headline:f,hidePlanOverlay:C,icon:j,isDarkTheme:w,isDismissable:x,onDismiss:_,orgId:E,source:S,testId:O})=>{const{isEligible:T}=Object(b.a)(E),D=T,[N,I]=Object(a.useState)(!1),A=()=>{C||I(!0),i.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:S,containers:{organization:{id:E}},attributes:{feature:D?"freeTrial":void 0}}),m&&m()},P=s()(h.a.upgradePromptFull,w?h.a.upgradePromptFullDarkTheme:h.a.upgradePromptFullLightTheme,t),B=n&&r.a.createElement("div",{className:h.a.upgradePromptFullContent},n),L=x&&r.a.createElement("button",{className:h.a.upgradePromptFullCloseButtonWrapper,onClick:_},r.a.createElement(l.a,{dangerous_className:h.a.upgradePromptFullCloseButton,size:"small"})),F="/business-class"===c?"a":p.a;if(Object(g.dontUpsell)()&&!e)return null;const M=D?y("cta"):o;return r.a.createElement(v.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:k.Feature.UpgradePrompt}},r.a.createElement("div",{className:P},r.a.createElement("div",{className:h.a.upgradePromptFullHeadline},f),B,C?r.a.createElement(F,{href:c,className:h.a.upgradePromptFullCTA,onClick:A,"data-test-id":O,target:Object(g.isDesktop)()&&"/business-class"===c?"_blank":void 0},M):r.a.createElement(d.Button,{appearance:"link",onClick:A,"data-test-id":O,className:h.a.upgradePromptFullCTA},M),!C&&N&&E&&r.a.createElement(u.PlanSelectionOverlay,{onClose:()=>I(!1),orgId:E}),r.a.createElement("div",{className:h.a.upgradePromptFullIconBackground},r.a.cloneElement(j,{dangerous_className:h.a.upgradePromptFullIcon,size:"medium"})),r.a.createElement("div",{className:h.a.upgradePromptFullIconClippedBackground}),L))},j=e=>r.a.createElement(c.ComponentWrapper,null,r.a.createElement(C,e))},"./app/src/components/UpgradePrompts/UpgradePromptFullBase.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFullBase.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptFullBase.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),o=n.n(r),s=n("./app/src/components/UpgradePrompts/UpgradePromptFullBase.less"),l=n.n(s),c=n("./packages/nachos/icons/close.tsx");const d=({loading:e,className:t,content:n,cta:i,headline:r,icon:s,isDarkTheme:d,onDismiss:u,allowUpsell:p})=>{const m=o()(l.a.upgradePromptFull,d?l.a.upgradePromptFullDarkTheme:l.a.upgradePromptFullLightTheme,t);return e?a.a.createElement("div",{className:l.a.animation}):a.a.createElement("div",{className:m},a.a.createElement("div",{className:l.a.upgradePromptFullHeadline},r),a.a.createElement("div",{className:l.a.upgradePromptFullContent},n),i,a.a.createElement("div",{className:l.a.upgradePromptFullIconBackground},a.a.cloneElement(s,{dangerous_className:l.a.upgradePromptFullIcon})),a.a.createElement("div",{className:l.a.upgradePromptFullIconClippedBackground}),u&&a.a.createElement("button",{className:l.a.upgradePromptFullCloseButtonWrapper,onClick:u},a.a.createElement(c.a,{size:"small",dangerous_className:l.a.upgradePromptFullCloseButton})))}},"./app/src/components/UpgradePrompts/UpgradePromptPill.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPill.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptPill.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptPill",(function(){return m})),n.d(t,"UpgradePromptPillConnected",(function(){return h}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),o=n.n(r),s=n("./app/src/components/UpgradePrompts/UpgradePromptPill.less"),l=n.n(s),c=n("./app/src/components/ComponentWrapper/index.ts"),d=n("./app/src/components/RouterLink/RouterLink.tsx"),u=n("./packages/browser/index.ts");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const m=({isDarkTheme:e,cta:t,ctaLink:n,ctaLinkOpenNewTab:i,ctaOnClick:r,icon:s,allowUpsell:c,testId:m})=>{if(Object(u.dontUpsell)()&&!c)return null;const h=()=>{r&&r()},g=o()(l.a.upgradePromptPill,e?l.a.upgradeDarkTheme:l.a.upgradeLightTheme),b="/business-class"===n||"/enterprise"===n?"a":d.a,f=a.a.createElement(a.a.Fragment,null,a.a.cloneElement(s,{dangerous_className:l.a.upgradePromptPillIcon,size:"small"}),a.a.createElement("div",{className:l.a.upgradePromptPillCTA},t));return n?a.a.createElement(b,p({href:n},i?{target:"_blank",rel:"noopener noreferrer"}:{},{className:g,onClick:h,"data-test-id":m}),f):a.a.createElement("button",{className:g,onClick:h,"data-test-id":m},f)},h=e=>a.a.createElement(c.ComponentWrapper,null,a.a.createElement(m,e))},"./app/src/components/UpgradePrompts/UpgradePromptPillBase.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPillBase.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/UpgradePrompts/UpgradeSmartComponent.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradeSmartComponent.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradeSmartComponentNoBoundary",(function(){return W})),n.d(t,"UpgradeSmartComponent",(function(){return K})),n.d(t,"UpgradeSmartComponentConnected",(function(){return q}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),o=n.n(r),s=n("./packages/feature-flag-client/index.ts"),l=n("./packages/nachos/popover.ts"),c=n("./packages/test-ids/index.ts"),d=n("./app/src/components/ComponentWrapper/index.ts"),u=n("./app/src/components/UpgradePrompts/UpgradePromptFullBase.tsx"),p=n("./app/src/components/UpgradePrompts/UpgradePromptPillBase.less"),m=n.n(p),h=n("./app/src/components/RouterLink/RouterLink.tsx");function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const b=({isDarkTheme:e,cta:t,ctaLink:n,ctaLinkOpenNewTab:i,ctaOnClick:r,icon:s,allowUpsell:l,testId:c})=>{const d=()=>{r&&r()},u=o()(m.a.upgradePromptPill,e?m.a.upgradeDarkTheme:m.a.upgradeLightTheme),p=a.a.createElement(a.a.Fragment,null,a.a.cloneElement(s,{dangerous_className:m.a.upgradePromptPillIcon,size:"small"}),a.a.createElement("div",{className:m.a.upgradePromptPillCTA},t));return n?a.a.createElement(h.a,g({href:n},i?{target:"_blank",rel:"noopener noreferrer"}:{},{className:u,onClick:d,testId:c}),p):a.a.createElement("button",{className:u,onClick:d,"data-test-id":c},p)};var f=n("./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less"),v=n.n(f),k=n("./packages/nachos/icons/business-class.tsx");const y=({cta:e,ctaLink:t,ctaOnClick:n,isDarkTheme:i,shouldFitContainer:r,openInNewTab:s,testId:l})=>{const c=o()(v.a.upgradePromptButton,{[v.a.upgradePromptButtonDarkTheme]:i,[v.a.upgradePromptButtonLightTheme]:!i,[v.a.upgradePromptFitContainer]:r});return a.a.createElement("button",{"data-test-id":l,className:c,onClick:e=>{e.preventDefault(),n&&n()}},a.a.createElement("div",{className:v.a.upgradePromptButtonIconBackground},a.a.createElement(k.BusinessClassIcon,{size:"small",dangerous_className:v.a.upgradePromptButtonIcon})),a.a.createElement("div",{className:v.a.upgradePromptButtonCTA},e))};var C=n("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),j=n("./app/src/components/FreeTrial/index.ts"),w=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),x=n("./packages/nachos/button.ts"),_=n("./packages/i18n/index.ts"),E=n("./packages/analytics/index.ts"),S=n("./packages/atlassian-analytics/index.ts"),O=n("./app/scripts/debug/constants.ts"),T=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.less"),D=n.n(T),N=n("./packages/browser/index.ts"),I=n("./packages/nachos/icons/collection.tsx"),A=n("./packages/nachos/icons/power-up.tsx"),P=n("./packages/nachos/icons/butler-bot.tsx"),B=n("./packages/nachos/icons/board.tsx"),L=n("./packages/nachos/icons/download.tsx"),F=n("./packages/nachos/icons/member.tsx");function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const R=Object(_.forNamespace)("upgrade prompt"),U=Object(_.forNamespace)("free trial existing"),V=Object(_.forTemplate)("create_board"),z=Object(_.forTemplate)("business_class_upsell"),H=Object(_.forTemplate)("card_detail"),W=({orgId:e,promptId:t,additionalProps:n,allowUpsell:i})=>{const r="".concat(e,"-").concat(t),{isEligible:d,loading:p}=Object(j.useFreeTrialEligibilityRules)(e),{boardLimit:m,org:g,dismissMessage:f,openPlanSelection:v,shouldDisplayUpgradePrompt:w,loading:_}=Object(C.b)(e,r,{allowUpsell:i}),O="/".concat(null==g?void 0:g.name,"/billing"),T="/".concat(null==g?void 0:g.name,"/free-trial"),W=Object(s.useFeatureFlag)("dataeng.gasv3-event-tracking",!1),K=p||_;if(K||!w)return null;const q={approachingBoardLimitTemplateUpgradePromptPill:a.a.createElement(y,{cta:V("upgrade team"),ctaOnClick:()=>{S.Analytics.sendClickedButtonEvent({source:"createFromTemplateInlineDialog",buttonName:"bcUpgradePrompt",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"approachingBoardLimitTemplateUpgradePromptPill"}}),v()}}),atBoardLimitTemplateUpgradePromptPill:a.a.createElement(y,{cta:V("upgrade team"),ctaOnClick:()=>{S.Analytics.sendClickedButtonEvent({source:"createFromTemplateInlineDialog",buttonName:"bcUpgradePrompt",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"atBoardLimitTemplateUpgradePromptPill"}}),Object(E.trackUe)({category:E.Noun.TEMPLATE_DIALOG,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking button upgrade prompt in create from template dialog",context:{organizationId:e,isFreeTrial:!!d}}),v()}}),boardMenuMoreCollectionsPromptFull:a.a.createElement("div",{className:D.a.margin},a.a.createElement(u.a,{onDismiss:f,loading:K,icon:a.a.createElement(I.CollectionIcon,null),headline:R(["board menu","collections","headline-2"]),content:R(["board menu","collections","content-2"]),cta:a.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.CollectionsUpgradePrompt,className:o()(D.a.cta,D.a.lightModeCta),onClick:()=>{Object(E.trackUe)({category:E.Noun.BOARD_MENU,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in board menu more section",context:{isFreeTrial:!!d,organizationId:e}}),W&&S.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"boardMenuMoreCollectionsPromptFull"}}),v()}},d?U(["upgrade prompt","cta"]):R("learn more"))})),boardMenuMoreCollectionsPromptPill:a.a.createElement(b,{testId:c.UpgradePromptTestIds.CollectionsUpgradePill,icon:a.a.createElement(k.BusinessClassIcon,null),cta:R(["upgrade"]),ctaOnClick:()=>{Object(E.trackUe)({category:E.Noun.BOARD_MENU,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking collections upgrade pill in board menu more section",context:{isFreeTrial:!!d,organizationId:e}}),W&&S.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"boardMenuMoreCollectionsPromptPill"}}),v()}}),boardMenuMoreTemplatesPromptPill:a.a.createElement(b,{ctaOnClick:()=>{Object(E.trackUe)({category:E.Noun.BOARD_MENU,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking template upgrade pill in board menu more section",context:{isFreeTrial:!!d,organizationId:e}}),W&&S.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"boardMenuMoreTemplatesPromptPill"}}),v()},cta:R(["upgrade"]),icon:a.a.createElement(k.BusinessClassIcon,null),testId:c.UpgradePromptTestIds.TemplatesUpgradePill}),boardMenuDrawerPromptFull:a.a.createElement(u.a,{loading:K,icon:a.a.createElement(A.a,null),headline:R(["board menu","power ups","headline"]),content:R(["board menu","power ups","content"]),cta:a.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.PuPsUpgradePrompt,className:o()(D.a.cta,D.a.lightModeCta),onClick:()=>{Object(E.trackUe)({category:E.Noun.BOARD_MENU,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in board menu pup section",context:{isFreeTrial:!!d,organizationId:e}}),W&&S.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawer",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"boardMenuDrawerPromptFull"}}),v()}},d?U(["upgrade prompt","cta"]):R("learn more"))}),butlerUpsellPopoverPromptFull:a.a.createElement(l.b,M({},null==n?void 0:n.popoverProps,{title:R(["butler upsell popover","usage-quota-title"])}),a.a.createElement("div",{className:D.a.butlerUpsellPopoverPromptFullWrapper},a.a.createElement(u.a,{loading:K,content:R(["butler upsell popover","usage-quota-content"]),headline:R(["butler upsell popover","usage-quota-headline"]),icon:a.a.createElement(P.a,null),cta:a.a.createElement("button",{className:o()(D.a.cta,D.a.lightModeCta),onClick:()=>{var t;S.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"butlerUpsellInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"butlerUpsellPopoverPromptFull"}}),null==n||null===(t=n.ctaOnClick)||void 0===t||t.call(n),d&&!Object(N.dontUpsell)()?v():window.open("/business-class")}},d&&!Object(N.dontUpsell)()?U(["upgrade prompt","cta"]):R("learn more"))})),a.a.createElement(x.Button,{size:"fullwidth",onClick:null==n?void 0:n.goToButler},R(["butler upsell popover","go to butler"]))),createBoardModalPromptFull:a.a.createElement("div",{className:D.a.createBoardModalWrapper},a.a.createElement(u.a,{loading:K,icon:a.a.createElement(B.BoardIcon,null),headline:R(["create board popover","headline"],{boardCount:m}),content:R(["create board popover","content-2"]),cta:a.a.createElement(h.a,{testId:c.UpgradePromptTestIds.CreateBoardUpgradePrompt,className:o()(D.a.cta,D.a.darkModeCta),href:"/".concat(null==g?void 0:g.name,d?"/free-trial":"/billing"),onClick:()=>{Object(E.trackUe)({category:E.Noun.CREATE_BOARD_POPOVER,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in create board popover",context:{organizationId:e}}),S.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"createBoardModal",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"createBoardModalPromptFull"}})}},d?U(["upgrade prompt","cta"]):R("learn more")),isDarkTheme:!0})),inviteUpgradePromptFull:a.a.createElement(u.a,{loading:K,icon:a.a.createElement(k.BusinessClassIcon,null),headline:Object(N.dontUpsell)()?R(["team page","invite-popover","headline-auaa-desktop"]):R(["team page","invite-popover","headline-auaa-2"]),content:Object(N.dontUpsell)()?R(["team page","invite-popover","content-auaa-desktop"]):R(["team page","invite-popover","content-auaa-2"]),cta:a.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.InviteUpgradePrompt,className:o()(D.a.cta,D.a.lightModeCta),onClick:()=>{Object(E.trackUe)({category:E.Noun.TEAM_PAGE,verb:E.Verb.OPENS,directObj:E.Noun.TEAM_PAGE_BC_TAB,method:"by clicking full upgrade prompt in team page invite members popover",context:{organizationId:e,isFreeTrial:!!d}}),W&&S.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"inviteToTeamInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"teamInvitePromptFull"}}),d&&!Object(N.dontUpsell)()?v():window.open("/business-class")}},d&&!Object(N.dontUpsell)()?U(["upgrade prompt","cta"]):R("learn more"))}),memberHomeScreenPromptFull:a.a.createElement(u.a,{loading:K,icon:a.a.createElement(k.BusinessClassIcon,null),onDismiss:f,headline:d?U(["upgrade prompt","headline"]):R(["home","team tab","headline-2"]),content:d?U(["upgrade prompt","content"]):R(["home","team tab","content-2"]),isDarkTheme:!1,cta:a.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.TeamHomeSidebarUpgradePrompt,className:o()(D.a.cta,D.a.lightModeCta),onClick:()=>{Object(E.trackUe)({category:E.Noun.HOME_TEAM_ACCORDION,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in home page team accordion",context:{organizationId:e,isFreeTrial:!!d}}),W&&S.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationBoardsHomeScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"memberHomeScreenPromptFull"}}),v()}}," ",d?U(["upgrade prompt","cta"]):R("learn more"))}),moreMenuShareInlineDialogPromptFull:a.a.createElement(u.a,{onDismiss:f,loading:K,icon:a.a.createElement(L.DownloadIcon,null),headline:R(["board menu","print and export","headline-2"]),content:R(["board menu","print and export","content-2"]),cta:a.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.PrintAndExportUpgradePrompt,className:o()(D.a.cta,D.a.lightModeCta),onClick:()=>{Object(E.trackUe)({category:E.Noun.BOARD_MENU,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in the board menu export page",context:{isFreeTrial:!!d,organizationId:e}}),W&&S.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"printAndExportBoardInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"moreMenuShareInlineDialogPromptFull"}}),v()}},d?U(["upgrade prompt","cta"]):R("learn more"))}),orgMemberRestrictedPromptFull:a.a.createElement(u.a,{loading:K,icon:a.a.createElement(F.MemberIcon,null),headline:Object(N.dontUpsell)()?R(["team page","members","headline-membership-tooltip-auaa-desktop"]):R(["team page","members","headline-membership-tooltip-auaa-2"]),content:Object(N.dontUpsell)()?R(["team page","members","content-membership-tooltip-auaa-desktop"]):R(["team page","members","content-membership-tooltip-auaa-2"]),cta:a.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.OrgMemberRestrictedPermission,className:o()(D.a.cta,D.a.lightModeCta),onClick:()=>{Object(E.trackUe)({category:E.Noun.TEAM_PAGE,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in team page membership type",context:{organizationId:e,isFreeTrial:!!d}}),W&&S.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"auaaUpgradeInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"auaaPromptFull"}}),d&&!Object(N.dontUpsell)()?v():window.open("/business-class")}},d&&!Object(N.dontUpsell)()?U(["upgrade prompt","cta"]):R("learn more"))}),pupLimitPopUpPromptFull:a.a.createElement(u.a,{loading:K,icon:a.a.createElement(B.BoardIcon,null),headline:z("get-unlimited-power-ups"),content:z("need-more-than-one-power-up-per-board-go-unlimited-with-business-class"),onDismiss:null==n?void 0:n.onClose,cta:a.a.createElement("button",{className:o()(D.a.cta),onClick:()=>{W&&S.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"pupLimitBCUpsellInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"pupLimitPopUpPromptFull"}}),v()}},d?U(["upgrade prompt","cta"]):R("learn more"))}),pupUpgradeBannerButton:a.a.createElement(y,{cta:R("upgrade"),ctaOnClick:()=>{Object(E.trackUe)({category:E.Noun.POWER_UPS_DIRECTORY,verb:E.Verb.CLICKS,directObj:E.Noun.UPGRADE_BUTTON,context:{isFreeTrial:!!d,organizationId:e}}),W&&S.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"powerUpDirectoryUpgradeBanner",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"pupUpgradeBannerButton"}}),v()},shouldFitContainer:!0}),pupUpgradePromptPill:a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"card-back-pup-upgrade-prompt-section"},a.a.createElement("div",{className:"card-back-pup-upgrade-prompt-opener"},H("upgrade-to-get-unlimited-power-ups-2")),a.a.createElement("div",{className:"card-back-pup-upgrade-prompt"},a.a.createElement(b,{testId:c.UpgradePromptTestIds.PuPsUpgradePill,icon:a.a.createElement(k.BusinessClassIcon,null),cta:R("upgrade team"),ctaLink:d?T:O,ctaOnClick:()=>{Object(E.trackUe)({category:E.Noun.CARD_BACK,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking pill upgrade prompt in card back pup section",context:{isFreeTrial:!!d,organizationId:e}}),S.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"pupCardBackSectionInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"pupUpgradePromptPill"}})}})))),teamBoardsHeaderUpgradePromptButton:a.a.createElement(y,{testId:c.UpgradePromptTestIds.TeamBoardsHeaderUpgradeButton,cta:R("upgrade"),ctaOnClick:()=>{Object(E.trackUe)({category:E.Noun.HOME,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking button upgrade prompt in home page boards tab",context:{isFreeTrial:!!d,organizationId:e}}),W&&S.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"memberBoardsHomeScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"teamBoardsHeaderUpgradePromptButton"}}),v()},shouldFitContainer:!0}),teamMembersScreenPromptFull:a.a.createElement(u.a,{loading:K,icon:a.a.createElement(B.BoardIcon,null),isDarkTheme:!0,headline:R(["team page","members","headline-sidebar-auaa-2"]),content:R(["team page","members","content-sidebar-auaa-2"]),cta:a.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.TeamMembersPageUpgradePrompt,className:o()(D.a.cta,D.a.darkModeCta),onClick:()=>{Object(E.trackUe)({category:E.Noun.TEAM_PAGE,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in team page members tab",context:{isFreeTrial:!!d,organizationId:e}}),W&&S.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationMembersScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"teamMembersScreenPromptFull"}}),v()}},d?U(["upgrade prompt","cta"]):R("learn more"))}),teamBoardsScreenPromptFull:a.a.createElement(u.a,{loading:K,icon:a.a.createElement(B.BoardIcon,null),isDarkTheme:!0,headline:R(["team page","members","headline-sidebar-auaa-2"]),content:R(["team page","members","content-sidebar-auaa-2"]),cta:a.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.TeamMembersPageUpgradePrompt,className:o()(D.a.cta,D.a.darkModeCta),onClick:()=>{Object(E.trackUe)({category:E.Noun.TEAM_PAGE,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in team page members tab",context:{isFreeTrial:!!d,organizationId:e}}),W&&S.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationMembersScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"teamBoardsScreenPromptFull"}}),v()}},d?U(["upgrade prompt","cta"]):R("learn more"))})};if(void 0===q[t])throw new Error("UpgradeSmartComponent: promptId ".concat(t,' not found"'));return q[t]},K=e=>a.a.createElement(w.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:O.Feature.UpgradePrompt}},a.a.createElement(W,e)),q=e=>a.a.createElement(d.ComponentWrapper,null,a.a.createElement(K,e))},"./app/src/components/UpgradePrompts/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptFull",(function(){return i.UpgradePromptFull})),n.d(t,"UpgradePromptButton",(function(){return a.UpgradePromptButton})),n.d(t,"UpgradePromptPill",(function(){return r.UpgradePromptPill})),n.d(t,"UpgradePromptSettingsTab",(function(){return w})),n.d(t,"UpgradePromptSettingsTabConnected",(function(){return x})),n.d(t,"UpgradePromptBanner",(function(){return P})),n.d(t,"UpgradePromptBannerType",(function(){return N})),n.d(t,"UpgradeSmartComponent",(function(){return B.UpgradeSmartComponent})),n.d(t,"UpgradeSmartComponentConnected",(function(){return B.UpgradeSmartComponentConnected})),n.d(t,"useUpgradePromptRules",(function(){return h.b}));var i=n("./app/src/components/UpgradePrompts/UpgradePromptFull.tsx"),a=n("./app/src/components/UpgradePrompts/UpgradePromptButton.tsx"),r=n("./app/src/components/UpgradePrompts/UpgradePromptPill.tsx"),o=n("./node_modules/react/index.js"),s=n.n(o),l=n("./packages/i18n/index.ts"),c=n("./node_modules/classnames/index.js"),d=n.n(c),u=n("./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less"),p=n.n(u),m=n("./packages/analytics/index.ts"),h=n("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),g=n("./packages/feature-flag-client/index.ts"),b=n("./app/src/components/ComponentWrapper/index.ts"),f=n("./packages/nachos/button.ts"),v=n("./packages/atlassian-analytics/index.ts"),k=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),y=n("./packages/nachos/tooltip.ts");const C=Object(l.forTemplate)("org_account"),j=n("./resources/images/stars.svg"),w=({billingUrl:e,orgId:t,isAdmin:n,isStandard:i})=>{const a=n?e:"/business-class",r=i||n?"ads-upgrade":"ads-learn-more",o=Object(g.useFeatureFlag)("btg.upgrade-prompt-audit",!1),{openPlanSelection:l}=Object(h.b)(t,"upgrade-prompt-settings-tab-".concat(t)),{isEligible:c}=Object(k.a)(t,{skip:!o}),u=i&&!n;return s.a.createElement("div",{className:d()("window-module","u-clearfix",p.a.bcPromptHeader)},s.a.createElement("div",{className:d()("setting-item",p.a.settingItem)},s.a.createElement("div",{className:p.a.bcPromptSparkle},s.a.createElement("img",{alt:"sparkle",src:j})),s.a.createElement("div",{className:"setting-item-detail"},C("more-settings",{boldTextUpgradeToBc:s.a.createElement("strong",{key:"bold-text-upgrade-to-bc"},C("bold-text-upgrade-to-bc"))})),s.a.createElement("div",{className:"setting-item-action"},!i&&o?s.a.createElement(f.Button,{appearance:"primary",onClick:()=>{l(),v.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"teamSettingsScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:!!c,promptId:"teamSettingsButton"}}),Object(m.trackUe)({category:m.Noun.TEAM_PAGE,verb:m.Verb.OPENS,directObj:m.Noun.BC_MODAL,method:"by clicking upgrade button in team page settings tab",context:{isFreeTrial:!!c,organizationId:t}})},shouldFitContainer:!0},C(r)):u?s.a.createElement(y.a,{content:C("tooltip-contact-admin-to-upgrade"),component:y.b},s.a.createElement("span",{className:p.a.tooltipDisabledHack,tabIndex:0,role:"button"},s.a.createElement(f.Button,{appearance:"primary",isDisabled:!0,shouldFitContainer:!0},C(r)))):s.a.createElement("a",{className:d()("primary","button-link","u-text-align-center",p.a.bcPromptUpgrade),href:a,onClick:()=>Object(m.trackUe)({category:m.Noun.TEAM_PAGE,verb:m.Verb.OPENS,directObj:m.Noun.TEAM_PAGE_BC_TAB,method:"by clicking upgrade button in team page settings tab"})},C(r)))))},x=e=>s.a.createElement(b.ComponentWrapper,null,s.a.createElement(w,e)),_=(e,t)=>Array(t-e+1).fill(0).map(((t,n)=>e+n));var E=n("./app/src/components/UpgradePrompts/UpgradePromptBanner.less"),S=n.n(E),O=n("./packages/browser/index.ts"),T=n("./app/src/components/FreeTrial/index.ts");const D=Object(l.forTemplate)("paid_product_info");let N;!function(e){e.BusinessClass="business-class",e.BusinessClassUpgrade="business-class-upgrade",e.Gold="gold"}(N||(N={}));const I={"business-class":[n("./resources/images/business-class/feature-boards.svg"),n("./resources/images/business-class/feature-powerups.svg"),n("./resources/images/business-class/feature-butler.svg"),n("./resources/images/business-class/feature-control.svg")],"business-class-upgrade":[n("./resources/images/business-class-feature-boards.png"),n("./resources/images/business-class-feature-integration.png"),n("./resources/images/business-class-feature-roadmap.png")],gold:[n("./resources/images/business-class-feature-boards.png"),n("./resources/images/business-class-feature-integration.png"),n("./resources/images/business-class-feature-roadmap.png")]},A=({type:e,orgId:t,infoUrl:n,subtitleCount:i=0,epilogueCount:a=0,allowUpsell:r})=>{const o=Object(g.useFeatureFlag)("btg.upgrade-prompt-audit",!1),{openPlanSelection:l}=Object(h.b)(t,"",{skip:"business-class"!==e}),{isEligible:c}=Object(T.useFreeTrialEligibilityRules)(t,{skip:"business-class"!==e});if(Object(O.dontUpsell)()&&!r)return null;const d="business-class"===e?4:3;if("business-class-upgrade"!==e&&a>1)throw new Error("Only use epilogueCount with the type business-class-upgrade");let u=!1,p=()=>{};return o&&t&&c&&(u=!0,p=()=>{Object(m.trackUe)({category:m.Noun.BILLING_PAGE,verb:m.Verb.OPENS,directObj:m.Noun.BC_MODAL,method:"by clicking upgrade button in create from the biling page",context:{organizationId:t,isFreeTrial:c}}),v.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"orgBillingScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:c,promptId:"billingPageFreeTrialBannerButton"}}),l()}),s.a.createElement("div",{className:S.a.upgradePromptBanner},s.a.createElement("header",null,s.a.createElement("h2",null,D([e,"title"])),i>0&&_(0,i-1).map((t=>s.a.createElement("p",{key:"subtitles-".concat(t)},D([e,"subtitles",t.toString()]))))),s.a.createElement("div",{className:S.a.features},_(0,d-1).map((t=>s.a.createElement("div",{className:S.a.feature,key:"features-".concat(t)},s.a.createElement("img",{src:I[e][t],alt:D([e,"featureHeaders",t.toString()])}),s.a.createElement("h3",null,D([e,"featureHeaders",t.toString()])),s.a.createElement("p",null,D([e,"featureBodies",t.toString()])))))),a>0&&s.a.createElement("div",{className:S.a.epilogue},_(0,a-1).map((t=>s.a.createElement("p",{key:"epilogue-".concat(t)},D([e,"epilogue recent",t.toString()],1===t?{smartBilling:s.a.createElement("strong",{key:"smartBilling"},D("smartBilling"))}:{}))))),u&&s.a.createElement(f.Button,{className:S.a.freeTrialButton,appearance:"primary",onClick:p},D([e,"startFreeTrial"])),s.a.createElement("div",null,s.a.createElement("a",{href:n,target:"_blank",onClick:()=>{v.Analytics.sendClickedLinkEvent({linkName:"seeAllBenefitsLink",source:"gold"===e?"memberBillingScreen":"orgBillingScreen",containers:{organization:{id:t}}}),Object(m.track)("Billing Page","See All Benefits Link Click")}},D([e,"link"]))))},P=e=>s.a.createElement(b.ComponentWrapper,null,s.a.createElement(A,e));var B=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx")},"./app/src/components/UpgradePrompts/renderUpgradePrompt.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"renderUpgradePrompt",(function(){return l}));var i=n("./app/scripts/db/auth.js"),a=n.n(i),r=n("./app/src/components/ComponentWrapper/index.ts"),o=n("./packages/react-dom-wrapper/index.ts"),s=n("./packages/browser/index.ts");const l=(e,t,n={},i)=>{const{boardModel:l,extraCondition:c=(()=>!0),orgModel:d,promptID:u,allowUpsell:p}=n,m=a.a.me(),h=!!u&&m.isDismissed(u),g=d||l&&l.getOrganization(),b=!!g&&(!g.isPremium()&&!g.isEnterprise()),f=m.hasPaidOrgPowerUps(),v=(!Object(s.dontUpsell)()||p)&&!h&&b&&!f&&c(),k=()=>!!t&&o.default.unmountComponentAtNode(t),y="function"==typeof e?e({dismiss:()=>{u&&m.dismiss(u),k()}}):e;return t&&(v||i)?Object(r.renderComponent)(y,t):k(),k}},"./app/src/components/UpgradePrompts/useUpgradePromptRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y}));var i=n("./node_modules/react/index.js"),a=n("./node_modules/react-redux/es/index.js"),r=n("./app/gamma/src/modules/state/ui/overlay.ts"),o=n("./node_modules/@apollo/client/index.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={context:{operationName:"UpgradePromptRules"}},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UpgradePromptRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}}]}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"products"}}]}}]}}]};var p=n("./app/src/components/UpgradePrompts/UpgradePromptDismissMessageMutation.generated.tsx"),m=n("./packages/browser/index.ts"),h=n("./packages/product-features/index.ts"),g=n("./app/scripts/init/useSocketSubscription.ts"),b=n("./app/scripts/db/model-cache.js"),f=n.n(b);let v;!function(e){e.Enterprise="enterprise",e.BusinessClass="businessClass",e.Standard="standard",e.Free="free"}(v||(v={}));const k={[v.Enterprise]:3,[v.BusinessClass]:2,[v.Standard]:1,[v.Free]:0},y=(e,t,n,s)=>{var c,b,y,C,j,w;const x=Object(a.d)();Object(g.a)("Organization",e,Boolean(!e));const{data:_,loading:E}=function(e){const t=l(l({},d),e);return o.useQuery(u,t)}(!e||null!=n&&n.skip?{skip:!0}:{variables:{memberId:"me",orgId:e||""}}),[S]=Object(p.a)(),O=null==_?void 0:_.member,T=null==_?void 0:_.organization,D=(null==O?void 0:O.id)||"",N=Object(i.useMemo)((()=>{var e,t,n;return null!=T&&null!==(e=T.products)&&void 0!==e&&e.some((e=>h.ProductFeatures.isEnterpriseProduct(e)))?v.Enterprise:null!=T&&null!==(t=T.products)&&void 0!==t&&t.some((e=>h.ProductFeatures.isBusinessClassProduct(e)))?v.BusinessClass:null!=T&&null!==(n=T.products)&&void 0!==n&&n.some((e=>h.ProductFeatures.isStandardProduct(e)))?v.Standard:v.Free}),[null==T?void 0:T.products]),I=Boolean(null==T||null===(c=T.memberships)||void 0===c?void 0:c.find((e=>e.idMember===D))),A=null==O?void 0:O.idEnterprise,P=null==T?void 0:T.idEnterprise,B=Boolean(null==O||null===(b=O.oneTimeMessagesDismissed)||void 0===b?void 0:b.find((e=>e===t))),L=null==O?void 0:O.confirmed,F=null===(y=f.a.get("Organization",e))||void 0===y||null===(C=y.get("limits"))||void 0===C||null===(j=C.orgs)||void 0===j||null===(w=j.freeBoardsPerOrg)||void 0===w?void 0:w.count,[M,R]=Object(i.useState)(!1),U=Boolean((!Object(m.dontUpsell)()||(null==n?void 0:n.allowUpsell))&&!M&&((e,t,n)=>t||n?t&&n?e===t&&k[t]<k[n]:n?k[e]<k[n]:e===t:e===v.Free)(N,null==s?void 0:s.from,null==s?void 0:s.to)&&!B&&!A&&!P&&I&&L);return{boardLimit:F,org:null==_?void 0:_.organization,openPlanSelection:()=>{e&&x(Object(r.setOverlay)({overlayType:r.OverlayType.PlanSelection,context:{orgId:e}}))},dismissMessage:()=>{R(!0),S({variables:{memberId:"me",messageId:t||""}})},shouldDisplayUpgradePrompt:U,loading:E}}},"./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js":function(e,t,n){"use strict";t.a=function(e){return function(t){return function(n){var i=n(t),a=i.clone();return a&&a.fire(e),i}}}},"./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js":function(e,t,n){"use strict";var i=n("./node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),a=n("./node_modules/react/index.js"),r=n.n(a),o=n("./node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsContext.js");t.a=function(e){return function(t){var n=r.a.forwardRef((function(n,a){var s=n.analyticsContext,l=void 0===s?{}:s,c=Object(i.c)(n,["analyticsContext"]),d=Object(i.a)(Object(i.a)({},e),l);return r.a.createElement(o.a,{data:d},r.a.createElement(t,Object(i.a)({},c,{ref:a})))}));return n.displayName="WithAnalyticsContext("+(t.displayName||t.name)+")",n}}},"./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js":function(e,t,n){"use strict";var i=n("./node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),a=n("./node_modules/react/index.js"),r=n.n(a),o=n("./node_modules/prop-types/index.js"),s=n.n(o),l=function(e){function t(n){var a=e.call(this,n)||this;return a.clone=function(){return a.hasFired?(console.warn("Cannot clone an event after it's been fired."),null):new t({context:Object(i.d)(a.context),handlers:Object(i.d)(a.handlers),payload:JSON.parse(JSON.stringify(a.payload))})},a.fire=function(e){a.hasFired?console.warn("Cannot fire an event twice."):(a.handlers.forEach((function(t){return t(a,e)})),a.hasFired=!0)},a.context=n.context||[],a.handlers=n.handlers||[],a.hasFired=!1,a}return Object(i.b)(t,e),t.prototype.update=function(t){return this.hasFired?(console.warn("Cannot update an event after it's been fired."),this):e.prototype.update.call(this,t)},t}(function(){function e(t){var n=this;this.clone=function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})},this.payload=t.payload}return e.prototype.update=function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"==typeof e&&(this.payload=Object(i.a)(Object(i.a)({},this.payload),e)),this},e}()),c=function(e){function t(t){var n=e.call(this,t)||this;return n.originalEventProps={},n.patchedEventProps={},n.updatePatchedEventProps=function(e){var t=Object.keys(n.props.createEventMap).filter((function(t){return n.originalEventProps[t]!==e[t]}));return t.length>0&&(n.patchedEventProps=Object(i.a)(Object(i.a)({},n.patchedEventProps),n.mapCreateEventsToProps(t,e)),t.forEach((function(t){n.originalEventProps[t]=e[t]}))),n.patchedEventProps},n.mapCreateEventsToProps=function(e,t){return e.reduce((function(e,a){var r,o=n.props.createEventMap[a],s=t[a];if(!["object","function"].includes(typeof o))return e;return Object(i.a)(Object(i.a)({},e),((r={})[a]=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];var r="function"==typeof o?o(n.createAnalyticsEvent,t):n.createAnalyticsEvent(o);s&&s.apply(void 0,Object(i.d)(e,[r]))},r))}),{})},n.createAnalyticsEvent=function(e){var t=n.context,i=t.getAtlaskitAnalyticsEventHandlers,a=t.getAtlaskitAnalyticsContext;return new l({context:"function"==typeof a&&a()||[],handlers:"function"==typeof i&&i()||[],payload:e})},Object.keys(n.props.createEventMap).forEach((function(e){n.originalEventProps[e]=t.wrappedComponentProps[e]})),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),t.wrappedComponentProps),n}return Object(i.b)(t,e),t.prototype.render=function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})},t.contextTypes={getAtlaskitAnalyticsEventHandlers:s.a.func,getAtlaskitAnalyticsContext:s.a.func},t.defaultProps={createEventMap:{}},t}(r.a.Component);t.a=function(e){return function(t){var n=r.a.forwardRef((function(n,a){return r.a.createElement(c,{createEventMap:e,wrappedComponentProps:n},(function(e){var o=e.createAnalyticsEvent,s=e.patchedEventProps;return r.a.createElement(t,Object(i.a)({},n,s,{createAnalyticsEvent:o,ref:a}))}))}));return n.displayName="WithAnalyticsEvents("+(t.displayName||t.name)+")",n}}},"./node_modules/@atlaskit/tooltip/dist/esm/version.json":function(e,t){e.exports={name:"@atlaskit/tooltip",version:"16.0.0",sideEffects:!1}},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@researchgate/react-intersection-list/lib/es/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js")),o=n("./node_modules/warning/warning.js"),s=n.n(o),l=n("./node_modules/react-dom/index.js");n("./node_modules/invariant/browser.js"),n("./node_modules/@researchgate/react-intersection-list/node_modules/@researchgate/react-intersection-observer/node_modules/warning/browser.js");function c(e){return a.a.isValidElement(e)&&"string"==typeof e.type}var d=/^-?\d*\.?\d+(px|%)$/;function u(e){var t=(e?e.trim():"0px").split(/\s+/).map((function(e){if(!d.test(e))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return e})),n=t[0],i=void 0===n?"0px":n,a=t[1],r=void 0===a?i:a,o=t[2],s=void 0===o?i:o,l=t[3];return i+" "+r+" "+s+" "+(void 0===l?r:l)}function p(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.some((function(n,i){return p(e[i],t[i])})):e!==t}var m=new Map;function h(e,t){var n=m.get(e);if(n)for(var i=n.values(),a=void 0;a=i.next().value;)if(a.target===t.target)return a;return null}function g(e,t){for(var n=0;n<e.length;n++){var i=h(t,e[n]);i&&i.handleChange(e[n])}}function b(e){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.root||null,n=u(e.rootMargin),i=Array.isArray(e.threshold)?e.threshold:[null!=e.threshold?e.threshold:0],a=m.keys(),r=void 0;r=a.next().value;){if(!(t!==r.root||n!==r.rootMargin||p(i,r.thresholds)))return r}return null}(e)||new IntersectionObserver(g,e)}function f(e){m.has(e.observer)||m.set(e.observer,new Set),m.get(e.observer).add(e),e.observer.observe(e.target)}function v(e){if(m.has(e.observer)){var t=m.get(e.observer);t.delete(e)&&(t.size>0?e.observer.unobserve(e.target):(e.observer.disconnect(),m.delete(e.observer)))}}var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=["root","rootMargin","threshold"],x=["disabled"].concat(w),_=Object.prototype,E=function(e){function t(){var n,i;C(this,t);for(var a=arguments.length,r=Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=i=j(this,e.call.apply(e,[this].concat(r))),i.handleChange=function(e){i.props.onChange(e,i.unobserve),i.props.onlyOnce&&e.isIntersecting&&i.unobserve()},i.handleNode=function(e){var t=i.props.children.ref;t&&("function"==typeof t?t(e):"object"===(void 0===t?"undefined":k(t))&&(t.current=e)),i.targetChanged=null!=(i.renderedTarget&&e)&&i.renderedTarget!==e,i.targetChanged&&i.unobserve(),i.target=e},i.observe=function(){i.target=c(i.target)?i.target:Object(l.findDOMNode)(i.target),i.observer=b(i.options),f(i)},i.unobserve=function(){null!=i.target&&v(i)},j(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.observe()},t.prototype.componentDidUpdate=function(e){var t=this,n=x.some((function(n){return p(t.props[n],e[n])}));n&&this.unobserve(),(this.targetChanged||n)&&(this.props.disabled||this.observe())},t.prototype.componentWillUnmount=function(){this.unobserve()},t.prototype.render=function(){return this.renderedTarget=this.target,a.a.cloneElement(a.a.Children.only(this.props.children),{ref:this.handleNode})},y(t,[{key:"options",get:function(){var e=this;return w.reduce((function(t,n){if(_.hasOwnProperty.call(e.props,n)){var i="root"===n&&"[object String]"===_.toString.call(e.props[n]);t[n]=i?document.querySelector(e.props[n]):e.props[n]}return t}),{})}}]),t}(a.a.Component);E.displayName="IntersectionObserver";var S=E;function O(e){var t=e.threshold,n=e.axis,i=[t],a="0"+(t.match(/^-?\d*\.?\d+(px|%)$/)||[""]).pop();return"y"===n?i.push(a):i.unshift(a),i.join(" ")}function T(e,t){return Math.max(0,Math.min(e,t))}var D=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.setRootElement=function(e){i.setState({rootElement:e})},i.state={rootElement:void 0,rootMargin:O(n)},i.target=a.a.createElement("span",{style:{height:1,width:1,display:"block"}}),n.setRef(i.setRootElement),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.threshold,i=e.axis,a=null;return n===t.threshold&&i===t.axis||(a={threshold:n,axis:i,rootMargin:O({threshold:n,axis:i})}),a},t.prototype.shouldComponentUpdate=function(e,t){var n=t.rootMargin,i=t.rootElement,a=this.state,r=a.rootMargin,o=a.rootElement;return r!==n||o!==i||(this.element.unobserve(),this.element.observe(),!1)},t.prototype.render=function(){var e=this,t=this.props.onChange,n=this.state,i=n.rootElement,r=n.rootMargin;return a.a.createElement(S,{ref:function(t){e.element=t},disabled:void 0===i,root:i,rootMargin:r,onChange:t},this.target)},t}(i.Component);Object(r.polyfill)(D);var N=D;function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P={x:"overflowX",y:"overflowY"},B=function(e){function t(){var n,i;I(this,t);for(var a=arguments.length,r=Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=i=A(this,e.call.apply(e,[this].concat(r))),i.state={size:0},i.setRef=function(e){var t=void 0;i.setRootNode=function(n){if(n!==t){t=n;var a=window.getComputedStyle(n)[P[i.props.axis]];e(-1!==["auto","scroll","overlay"].indexOf(a)?n:null)}}},i.handleUpdate=function(e){var t=e.isIntersecting,n=i.props,a=n.awaitMore,r=n.onIntersection,o=i.state,l=o.size,c=o.itemCount,d=o.pageSize;if(i.prematureIntersectionChecked||(i.prematureIntersectionChecked=!0,s()(!t,"ReactIntersectionList: the sentinel detected a viewport with a bigger size than the size of its items. This could lead to detrimental behavior, e.g.: triggering more than one onIntersection callback at the start.\nTo prevent this, use either a bigger `pageSize` value or avoid using the prop awaitMore initially.")),t){var u=T(l+d,c);l!==u&&i.setState({size:u}),!r||a&&!i.awaitIntersection||(i.awaitIntersection&&(i.awaitIntersection=!1),r(u,d))}},A(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.pageSize,i=function(e,t){var n=e.itemCount,i=e.items,a=void 0!==n,r=void 0!==i;return t&&s()(!(a&&r),"ReactIntersectionList: cannot use itemCount and items props at the same time, choose one to determine the number of items to render."),a?n:r&&(i.length||i.size)||0}(function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["pageSize"]),!0);return{pageSize:n,itemCount:i,size:T(0===t.size?n:t.itemCount<i?t.size+n:t.size+-(t.pageSize-n),i)}},t.prototype.componentDidMount=function(){this.prematureIntersectionChecked=0===this.state.size},t.prototype.getItemRenderer=function(){var e=this.props,t=e.children,n=e.renderItem,i=void 0!==t,r=void 0!==n;return s()(!(i&&r),"ReactIntersectionList: cannot use children and renderItem props as render function at the same time."),i?t:r?n:function(e,t){return a.a.createElement("div",{key:t},e)}},t.prototype.renderItems=function(){for(var e=this,t=this.props,n=t.awaitMore,i=t.axis,r=t.initialIndex,o=t.itemsRenderer,s=t.threshold,l=this.state,c=l.size,d=l.itemCount,u=this.getItemRenderer(),p=[],m=0;m<c;++m)p.push(u(r+m,m));var h=void 0;return(c<d||n)&&(h=a.a.createElement(N,{key:"sentinel",threshold:s,axis:i,setRef:this.setRef,onChange:this.handleUpdate}),p.push(h),n&&(this.awaitIntersection=!0)),o(p,(function(t){t&&h&&e.setRootNode(t)}))},t.prototype.render=function(){return this.renderItems()},t}(i.PureComponent);B.defaultProps={axis:"y",initialIndex:0,itemsRenderer:function(e,t){return a.a.createElement("div",{ref:t},e)},pageSize:10,threshold:"100px"},Object(r.polyfill)(B);var L=B},"./node_modules/@researchgate/react-intersection-list/node_modules/@researchgate/react-intersection-observer/node_modules/warning/browser.js":function(e,t,n){"use strict";e.exports=function(){}},"./node_modules/asap/browser-asap.js":function(e,t,n){"use strict";var i=n("./node_modules/asap/browser-raw.js"),a=[],r=[],o=i.makeRequestCallFromTimer((function(){if(r.length)throw r.shift()}));function s(e){var t;(t=a.length?a.pop():new l).task=e,i(t)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(r.push(e),o())}finally{this.task=null,a[a.length]=this}}},"./node_modules/asap/browser-raw.js":function(e,t,n){"use strict";(function(t){function n(e){a.length||(i(),!0),a[a.length]=e}e.exports=n;var i,a=[],r=0;function o(){for(;r<a.length;){var e=r;if(r+=1,a[e].call(),r>1024){for(var t=0,n=a.length-r;t<n;t++)a[t]=a[t+r];a.length-=r,r=0}}a.length=0,r=0,!1}var s,l,c,d=void 0!==t?t:self,u=d.MutationObserver||d.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof u?(s=1,l=new u(o),c=document.createTextNode(""),l.observe(c,{characterData:!0}),i=function(){s=-s,c.data=s}):i=p(o),n.requestFlush=i,n.makeRequestCallFromTimer=p}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/create-emotion/dist/index.esm.js":function(e,t,n){"use strict";var i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var r=function(e){for(var t,n=e.length,i=n^n,a=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(t>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++a;switch(n){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),((i^=i>>>15)>>>0).toString(36)};var o=function(e){function t(e,i,l,c,p){for(var m,h,g,b,y,j=0,w=0,x=0,_=0,E=0,I=0,P=g=m=0,L=0,F=0,M=0,R=0,U=l.length,V=U-1,z="",H="",W="",K="";L<U;){if(h=l.charCodeAt(L),L===V&&0!==w+_+x+j&&(0!==w&&(h=47===w?10:47),_=x=j=0,U++,V++),0===w+_+x+j){if(L===V&&(0<F&&(z=z.replace(u,"")),0<z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:z+=l.charAt(L)}h=59}switch(h){case 123:for(m=(z=z.trim()).charCodeAt(0),g=1,R=++L;L<U;){switch(h=l.charCodeAt(L)){case 123:g++;break;case 125:g--;break;case 47:switch(h=l.charCodeAt(L+1)){case 42:case 47:e:{for(P=L+1;P<V;++P)switch(l.charCodeAt(P)){case 47:if(42===h&&42===l.charCodeAt(P-1)&&L+2!==P){L=P+1;break e}break;case 10:if(47===h){L=P+1;break e}}L=P}}break;case 91:h++;case 40:h++;case 34:case 39:for(;L++<V&&l.charCodeAt(L)!==h;);}if(0===g)break;L++}switch(g=l.substring(R,L),0===m&&(m=(z=z.replace(d,"").trim()).charCodeAt(0)),m){case 64:switch(0<F&&(z=z.replace(u,"")),h=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=i;break;default:F=N}if(R=(g=t(i,F,g,h,p+1)).length,0<A&&(y=s(3,g,F=n(N,z,M),i,O,S,R,h,p,c),z=F.join(""),void 0!==y&&0===(R=(g=y.trim()).length)&&(h=0,g="")),0<R)switch(h){case 115:z=z.replace(C,o);case 100:case 109:case 45:g=z+"{"+g+"}";break;case 107:g=(z=z.replace(f,"$1 $2"))+"{"+g+"}",g=1===D||2===D&&r("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=z+g,112===c&&(H+=g,g="")}else g="";break;default:g=t(i,n(i,z,M),g,c,p+1)}W+=g,g=M=F=P=m=0,z="",h=l.charCodeAt(++L);break;case 125:case 59:if(1<(R=(z=(0<F?z.replace(u,""):z).trim()).length))switch(0===P&&(m=z.charCodeAt(0),45===m||96<m&&123>m)&&(R=(z=z.replace(" ",":")).length),0<A&&void 0!==(y=s(1,z,i,e,O,S,H.length,c,p,c))&&0===(R=(z=y.trim()).length)&&(z="\0\0"),m=z.charCodeAt(0),h=z.charCodeAt(1),m){case 0:break;case 64:if(105===h||99===h){K+=z+l.charAt(L);break}default:58!==z.charCodeAt(R-1)&&(H+=a(z,m,h,z.charCodeAt(2)))}M=F=P=m=0,z="",h=l.charCodeAt(++L)}}switch(h){case 13:case 10:47===w?w=0:0===1+m&&107!==c&&0<z.length&&(F=1,z+="\0"),0<A*B&&s(0,z,i,e,O,S,H.length,c,p,c),S=1,O++;break;case 59:case 125:if(0===w+_+x+j){S++;break}default:switch(S++,b=l.charAt(L),h){case 9:case 32:if(0===_+j+w)switch(E){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===_+w+j&&(F=M=1,b="\f"+b);break;case 108:if(0===_+w+j+T&&0<P)switch(L-P){case 2:112===E&&58===l.charCodeAt(L-3)&&(T=E);case 8:111===I&&(T=I)}break;case 58:0===_+w+j&&(P=L);break;case 44:0===w+x+_+j&&(F=1,b+="\r");break;case 34:case 39:0===w&&(_=_===h?0:0===_?h:_);break;case 91:0===_+w+x&&j++;break;case 93:0===_+w+x&&j--;break;case 41:0===_+w+j&&x--;break;case 40:if(0===_+w+j){if(0===m)switch(2*E+3*I){case 533:break;default:m=1}x++}break;case 64:0===w+x+_+j+P+g&&(g=1);break;case 42:case 47:if(!(0<_+j+x))switch(w){case 0:switch(2*h+3*l.charCodeAt(L+1)){case 235:w=47;break;case 220:R=L,w=42}break;case 42:47===h&&42===E&&R+2!==L&&(33===l.charCodeAt(R+2)&&(H+=l.substring(R,L+1)),b="",w=0)}}0===w&&(z+=b)}I=E,E=h,L++}if(0<(R=H.length)){if(F=i,0<A&&(void 0!==(y=s(2,H,F,e,O,S,R,c,p,c))&&0===(H=y).length))return K+H+W;if(H=F.join(",")+"{"+H+"}",0!=D*T){switch(2!==D||r(H,2)||(T=0),T){case 111:H=H.replace(k,":-moz-$1")+H;break;case 112:H=H.replace(v,"::-webkit-input-$1")+H.replace(v,"::-moz-$1")+H.replace(v,":-ms-input-$1")+H}T=0}}return K+H+W}function n(e,t,n){var a=t.trim().split(g);t=a;var r=a.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<r;++s)t[s]=i(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<r;++s)for(var c=0;c<o;++c)t[l++]=i(e[c]+" ",a[s],n).trim()}return t}function i(e,t,n){var i=t.charCodeAt(0);switch(33>i&&(i=(t=t.trim()).charCodeAt(0)),i){case 38:return t.replace(b,"$1"+e.trim());case 58:return e.trim()+t.replace(b,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(b,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function a(e,t,n,i){var o=e+";",s=2*t+3*n+4*i;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===D||2===D&&r(l,1)?"-webkit-"+l+l:l}if(0===D||2===D&&!r(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return m.test(o)?o.replace(p,":-webkit-")+o.replace(p,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(y,"tb");break;case 232:l=o.replace(y,"tb-rl");break;case 220:l=o.replace(y,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(w,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(w,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?a(e.replace("stretch","fill-available"),t,n,i).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+i&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+o}return o}function r(e,t){var n=e.indexOf(1===t?":":"{"),i=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),P(2!==t?i:i.replace(x,"$1"),n,t)}function o(e,t){var n=a(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(j," or ($1)").substring(4):"("+t+")"}function s(e,t,n,i,a,r,o,s,l,d){for(var u,p=0,m=t;p<A;++p)switch(u=I[p].call(c,e,m,n,i,a,r,o,s,l,d)){case void 0:case!1:case!0:case null:break;default:m=u}if(m!==t)return m}function l(e){return void 0!==(e=e.prefix)&&(P=null,e?"function"!=typeof e?D=1:(D=2,P=e):D=0),l}function c(e,n){var i=e;if(33>i.charCodeAt(0)&&(i=i.trim()),i=[i],0<A){var a=s(-1,n,i,i,O,S,0,0,0,0);void 0!==a&&"string"==typeof a&&(n=a)}var r=t(N,i,n,0,0);return 0<A&&(void 0!==(a=s(-2,r,i,i,O,S,r.length,0,0,0))&&(r=a)),"",T=0,S=O=1,r}var d=/^\0+/g,u=/[\0\r\f]/g,p=/: */g,m=/zoo|gra/,h=/([,: ])(transform)/g,g=/,\r+?/g,b=/([\t\r\n ])*\f?&/g,f=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,k=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,C=/\(\s*(.*)\s*\)/g,j=/([\s\S]*?);/g,w=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,S=1,O=1,T=0,D=1,N=[],I=[],A=0,P=null,B=0;return c.use=function e(t){switch(t){case void 0:case null:A=I.length=0;break;default:switch(t.constructor){case Array:for(var n=0,i=t.length;n<i;++n)e(t[n]);break;case Function:I[A++]=t;break;case Boolean:B=0|!!t}}return e},c.set=l,void 0!==e&&l(e),c},s=n("./node_modules/stylis-rule-sheet/index.js"),l=n.n(s),c=/[A-Z]|^ms/g,d=i((function(e){return e.replace(c,"-$&").toLowerCase()})),u=function(e,t){return null==t||"boolean"==typeof t?"":1===a[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},p=function e(t){for(var n=t.length,i=0,a="";i<n;i++){var r=t[i];if(null!=r){var o=void 0;switch(typeof r){case"boolean":break;case"function":0,o=e([r()]);break;case"object":if(Array.isArray(r))o=e(r);else for(var s in o="",r)r[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=r}o&&(a&&(a+=" "),a+=o)}}return a},m="undefined"!=typeof document;function h(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var g=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=h(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else{var i=h(this.opts);this.tags.push(i),i.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(h(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();t.a=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,i,a=t.key||"css",s=l()((function(e){n+=e,m&&h.insert(e,f)}));void 0!==t.prefix&&(i={prefix:t.prefix});var c={registered:{},inserted:{},nonce:t.nonce,key:a},h=new g(t);m&&h.inject();var b=new o(i);b.use(t.stylisPlugins)(s);var f="";function v(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return v.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return j.call(this,e);default:var i=c.registered[e];return!1===t&&void 0!==i?i:e}}var k,y,C=new WeakMap;function j(e){if(C.has(e))return C.get(e);var t="";return Array.isArray(e)?e.forEach((function(e){t+=v.call(this,e,!1)}),this):Object.keys(e).forEach((function(n){"object"!=typeof e[n]?void 0!==c.registered[e[n]]?t+=n+"{"+c.registered[e[n]]+"}":t+=d(n)+":"+u(n,e[n])+";":Array.isArray(e[n])&&"string"==typeof e[n][0]&&void 0===c.registered[e[n][0]]?e[n].forEach((function(e){t+=d(n)+":"+u(n,e)+";"})):t+=n+"{"+v.call(this,e[n],!1)+"}"}),this),C.set(e,t),t}var w=/label:\s*([^\s;\n{]+)\s*;/g,x=function(e,t){return r(e+t)+t},_=function(e){var t=!0,n="",i="";null==e||void 0===e.raw?(t=!1,n+=v.call(this,e,!1)):n+=e[0];for(var a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];return r.forEach((function(i,a){n+=v.call(this,i,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[a+1]&&(n+=e[a+1])}),this),y=n,n=n.replace(w,(function(e,t){return i+="-"+t,""})),k=x(n,i),n};function E(e,t){void 0===c.inserted[k]&&(n="",b(e,t),c.inserted[k]=n)}var S=function(){var e=_.apply(this,arguments),t=a+"-"+k;return void 0===c.registered[t]&&(c.registered[t]=y),E("."+t,e),t};function O(e,t){var n="";return t.split(" ").forEach((function(t){void 0!==c.registered[t]?e.push(t):n+=t+" "})),n}function T(e,t){var n=[],i=O(n,e);return n.length<2?e:i+S(n,t)}function D(e){c.inserted[e]=!0}if(m){var N=document.querySelectorAll("[data-emotion-"+a+"]");Array.prototype.forEach.call(N,(function(e){h.tags[0].parentNode.insertBefore(e,h.tags[0]),e.getAttribute("data-emotion-"+a).split(" ").forEach(D)}))}var I={flush:function(){m&&(h.flush(),h.inject()),c.inserted={},c.registered={}},hydrate:function(e){e.forEach(D)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T(p(t))},merge:T,getRegisteredStyles:O,injectGlobal:function(){var e=_.apply(this,arguments);E("",e)},keyframes:function(){var e=_.apply(this,arguments),t="animation-"+k;return E("","@keyframes "+t+"{"+e+"}"),t},css:S,sheet:h,caches:c};return e.__SECRET_EMOTION__=I,I}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2KpZMYSiDizjEs{height:20px;border-radius:3px;display:flex;align-items:center;justify-content:center;flex-direction:column;overflow:hidden;width:70%;margin:0 auto}._2KpZMYSiDizjEs:before{content:"";display:block;width:100%}._3Zo5oGEJ9Enqr7:before{border-top:2px solid #c1c7d0}',""]),t.locals={separatorCard:"_2KpZMYSiDizjEs",singleHorizontalLine:"_3Zo5oGEJ9Enqr7"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/checklist/advanced-checklists-beta-info.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1J9mbVsbRyVDVP{display:block;color:#5e6c84;text-align:center;font-size:12px;margin:10px 6px}",""]),t.locals={feedback:"_1J9mbVsbRyVDVP"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/checklist/upsell-advanced-checklist.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3LbnRbKGPK7Uv7{margin:10px 14px 0}._3ggGt3gpbzYZfZ{padding-top:4px;text-align:center}._3ggGt3gpbzYZfZ a{border-radius:3px;color:#5e6c84;display:block;margin:2px 0;padding:6px 12px;position:relative;-webkit-user-select:none;user-select:none;transition-property:background-color,border-color,box-shadow;transition-duration:85ms;transition-timing-function:ease}._3ggGt3gpbzYZfZ a svg circle{stroke:#5e6c84}._3ggGt3gpbzYZfZ a:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;color:#172b4d}._3ggGt3gpbzYZfZ a:hover svg circle{stroke:#172b4d}._3ggGt3gpbzYZfZ a:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0}._3ggGt3gpbzYZfZ a:active ._2LeaA8ZRPMPWvC{color:#0079bf}._3ggGt3gpbzYZfZ a:active svg circle{stroke:#0079bf}.XwX-NBSQBbiZ4x{color:#172b4d;font-size:16px;font-weight:600;letter-spacing:-.006em;line-height:20px;margin-top:24px}._1TctftjE3MnB_s{font-size:14px;line-height:20px}.XQRYg5pe1KZYGT{display:flex;flex-direction:row;justify-content:left;align-items:center;padding:6px 0}.sepC1XWt-H79Kn{color:#5e6c84;font-size:12px;font-weight:600;line-height:16px;margin-top:16px}._1D1Cr3-BvDsWm7{width:24px;height:24px;margin-right:8px;border-radius:8px;background-color:#f7f0fa;display:flex;align-items:center;justify-content:center;align-self:flex-start}._36VIi2ylmSM7Bv{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;font-size:14px;line-height:20px;flex:1}.BJMDFrXdbUCzuq{margin-top:12px}._3NO3zXKG-fe3vS{color:#6c547b}",""]),t.locals={acContainer:"_3LbnRbKGPK7Uv7",bcLink:"_3ggGt3gpbzYZfZ","icon-sm":"_2LeaA8ZRPMPWvC",checklistTitle:"XwX-NBSQBbiZ4x",text:"_1TctftjE3MnB_s",iconDiv:"XQRYg5pe1KZYGT",bcGetTitle:"sepC1XWt-H79Kn",iconStyling:"_1D1Cr3-BvDsWm7",iconInfo:"_36VIi2ylmSM7Bv",upgradeWrapper:"BJMDFrXdbUCzuq",icon:"_3NO3zXKG-fe3vS"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1aVHZezUaujAku{display:inline-block;width:20px;height:20px}",""]),t.locals={icon:"_1aVHZezUaujAku"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButtons.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3zv98wwVOVa6fE{display:flex;justify-content:space-between}@media only screen and (max-width:750px){._3zv98wwVOVa6fE{justify-content:flex-start}}._1OsMT4LOi8yCME{margin-top:-2px;padding:2px;height:22px}@media only screen and (max-width:750px){._1OsMT4LOi8yCME{margin-left:16px;width:unset!important}}._18rsRjuvO59v-n{border-bottom:1px solid rgba(9,30,66,.13);margin-bottom:16px;padding-bottom:4px}._1giyxcCJc2JOkA{margin-top:4px;text-align:center}._35bHqZrbL5Q2sG{color:#8993a4}._35bHqZrbL5Q2sG:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._35bHqZrbL5Q2sG:focus{outline:5px auto -webkit-focus-ring-color}}._35bHqZrbL5Q2sG:hover{color:#5e6c84}._3BjVxknVgFP-fD{display:inline;cursor:pointer}",""]),t.locals={header:"_3zv98wwVOVa6fE",informationIcon:"_1OsMT4LOi8yCME",aboutButlerPopoverContent:"_18rsRjuvO59v-n",feedbackLinkContainer:"_1giyxcCJc2JOkA",feedbackLink:"_35bHqZrbL5Q2sG",betaLozenge:"_3BjVxknVgFP-fD"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/AvailableActions.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3CyaaoeFzUnxij{display:grid;grid-template-columns:16px [inset] calc(50% - 16px - 8px / 2) [thread] 8px 1fr;margin-top:16px;margin-bottom:16px}._1ZYD9DG9X4eiyg,.kMf6YFo8YNHhxK,.tF99wyxvH_yUep{grid-column:1/-1;padding:8px;border-radius:3px;box-shadow:0 1px 6px rgba(9,30,66,.13)}.kMf6YFo8YNHhxK{grid-column-start:inset}._1YsrBItJWXZ2Ui{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;grid-column:1/thread;margin-top:0;margin-bottom:8px;align-self:end}hr._1fqhI5c2zlWRUD{grid-column:thread;margin:0 auto;width:1px;background-color:#dfe1e6}hr._1pzaGxRwIW2r7t{height:8px}hr._3ju5XB3S_nOkv5{height:16px}hr._2Z4g9mHwkZ8Uc1{height:32px}.Hn3_WkGfuoY4vC{grid-column:1/-1;margin:0}._3uwGW_jSboPHfx{display:flex;flex-wrap:wrap;align-items:center;font-size:14px;line-height:28px;color:#172b4d}._1_j6F10y32zsGn{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;width:100%}._1Zf_lTmREF1rL7{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;display:flex;align-items:center;margin-top:0;font-size:10px;font-weight:700}.tF99wyxvH_yUep ._1Zf_lTmREF1rL7{color:#519839}.kMf6YFo8YNHhxK ._1Zf_lTmREF1rL7{color:#96650a}._1ZYD9DG9X4eiyg ._1Zf_lTmREF1rL7{color:#055a8c}.body-color-blind-mode-enabled ._1Zf_lTmREF1rL7,.body-color-blind-mode-enabled~div ._1Zf_lTmREF1rL7{color:#5e6c84}._3AYvmHk0Mm53DN{margin-right:4px;padding:2px;border-radius:3px}._3AYvmHk0Mm53DN>span{line-height:12px}._3AYvmHk0Mm53DN>span>svg{width:12px;height:12px;line-height:12px}.body-color-blind-mode-enabled ._3AYvmHk0Mm53DN,.body-color-blind-mode-enabled~div ._3AYvmHk0Mm53DN{background-color:#f4f5f7!important}.body-color-blind-mode-enabled ._3AYvmHk0Mm53DN svg,.body-color-blind-mode-enabled~div ._3AYvmHk0Mm53DN svg{color:#42526e!important}.tF99wyxvH_yUep ._3AYvmHk0Mm53DN{background-color:#eef6ec}.tF99wyxvH_yUep ._3AYvmHk0Mm53DN svg{color:#519839}.kMf6YFo8YNHhxK ._3AYvmHk0Mm53DN{background-color:#faf3c0}.kMf6YFo8YNHhxK ._3AYvmHk0Mm53DN svg{color:#96650a}._1ZYD9DG9X4eiyg ._3AYvmHk0Mm53DN{background-color:#e4f0f6}._1ZYD9DG9X4eiyg ._3AYvmHk0Mm53DN svg{color:#055a8c}._8DVm-VVS6e93rZ{margin-bottom:0}._3VWVXslrEBUVJP{display:flex;align-items:center;flex-wrap:wrap;margin-bottom:8px;border-radius:3px;border:1px solid #dfe1e6;padding:4px;font-size:14px;line-height:28px;color:#172b4d}._3VWVXslrEBUVJP:first-child{margin-top:8px}._3VWVXslrEBUVJP:focus,._3VWVXslrEBUVJP:hover{background-color:#f4f5f7}._3UpomPwWWQe9QT{margin-right:4px;padding:2px;border-radius:3px;margin-right:8px;padding:4px}._3UpomPwWWQe9QT>span{line-height:12px}._3UpomPwWWQe9QT>span>svg{width:12px;height:12px;line-height:12px}.body-color-blind-mode-enabled ._3UpomPwWWQe9QT,.body-color-blind-mode-enabled~div ._3UpomPwWWQe9QT{background-color:#f4f5f7!important}.body-color-blind-mode-enabled ._3UpomPwWWQe9QT svg,.body-color-blind-mode-enabled~div ._3UpomPwWWQe9QT svg{color:#42526e!important}._3UpomPwWWQe9QT>span{line-height:16px}._3UpomPwWWQe9QT>span>svg{width:16px;height:16px;line-height:16px}._3UpomPwWWQe9QT{background-color:#e4f0f6}._3UpomPwWWQe9QT svg{color:#055a8c}",""]),t.locals={grid:"_3CyaaoeFzUnxij",trigger:"tF99wyxvH_yUep",condition:"kMf6YFo8YNHhxK",action:"_1ZYD9DG9X4eiyg",sectionLabel:"_1YsrBItJWXZ2Ui",thread:"_1fqhI5c2zlWRUD","thread--sm":"_1pzaGxRwIW2r7t","thread--md":"_3ju5XB3S_nOkv5","thread--lg":"_2Z4g9mHwkZ8Uc1",addActionButton:"Hn3_WkGfuoY4vC",editor:"_3uwGW_jSboPHfx",header:"_1_j6F10y32zsGn",category:"_1Zf_lTmREF1rL7",icon:"_3AYvmHk0Mm53DN",removeButton:"_8DVm-VVS6e93rZ",actionOption:"_3VWVXslrEBUVJP",actionOptionIcon:"_3UpomPwWWQe9QT"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandEditor.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3RfVhmoELPUwo7{display:grid;grid-template-columns:16px [inset] calc(50% - 16px - 8px / 2) [thread] 8px 1fr;margin-top:16px;margin-bottom:16px}._1J3EBHJLyg5ZbQ,._3DuddXjWnDdbwi,._OrMt-iLedDUTa{grid-column:1/-1;padding:8px;border-radius:3px;box-shadow:0 1px 6px rgba(9,30,66,.13)}._OrMt-iLedDUTa{grid-column-start:inset}._34gWlIrl8-5GRr{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;grid-column:1/thread;margin-top:0;margin-bottom:8px;align-self:end}hr._3JjjUjoGjrhcV9{grid-column:thread;margin:0 auto;width:1px;background-color:#dfe1e6}hr._2AFQMEAJXxLqAk{height:8px}hr.VbR9QqGYvCgN4d{height:16px}hr._3wv5fcnak5SNYF{height:32px}._8reobonVA5A0eY{grid-column:1/-1;margin:0}.B805Y_VXjabyGn{display:flex;flex-wrap:wrap;align-items:center;font-size:14px;line-height:28px;color:#172b4d}._2ieCaKJqKz8KoI{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;width:100%}._3MHv97tetiDGk3{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;display:flex;align-items:center;margin-top:0;font-size:10px;font-weight:700}._3DuddXjWnDdbwi ._3MHv97tetiDGk3{color:#519839}._OrMt-iLedDUTa ._3MHv97tetiDGk3{color:#96650a}._1J3EBHJLyg5ZbQ ._3MHv97tetiDGk3{color:#055a8c}.body-color-blind-mode-enabled ._3MHv97tetiDGk3,.body-color-blind-mode-enabled~div ._3MHv97tetiDGk3{color:#5e6c84}._2CiYUZktK-vqhQ{margin-right:4px;padding:2px;border-radius:3px}._2CiYUZktK-vqhQ>span{line-height:12px}._2CiYUZktK-vqhQ>span>svg{width:12px;height:12px;line-height:12px}.body-color-blind-mode-enabled ._2CiYUZktK-vqhQ,.body-color-blind-mode-enabled~div ._2CiYUZktK-vqhQ{background-color:#f4f5f7!important}.body-color-blind-mode-enabled ._2CiYUZktK-vqhQ svg,.body-color-blind-mode-enabled~div ._2CiYUZktK-vqhQ svg{color:#42526e!important}._3DuddXjWnDdbwi ._2CiYUZktK-vqhQ{background-color:#eef6ec}._3DuddXjWnDdbwi ._2CiYUZktK-vqhQ svg{color:#519839}._OrMt-iLedDUTa ._2CiYUZktK-vqhQ{background-color:#faf3c0}._OrMt-iLedDUTa ._2CiYUZktK-vqhQ svg{color:#96650a}._1J3EBHJLyg5ZbQ ._2CiYUZktK-vqhQ{background-color:#e4f0f6}._1J3EBHJLyg5ZbQ ._2CiYUZktK-vqhQ svg{color:#055a8c}._22EzVaMSXDf17d{margin-bottom:0}",""]),t.locals={grid:"_3RfVhmoELPUwo7",trigger:"_3DuddXjWnDdbwi",condition:"_OrMt-iLedDUTa",action:"_1J3EBHJLyg5ZbQ",sectionLabel:"_34gWlIrl8-5GRr",thread:"_3JjjUjoGjrhcV9","thread--sm":"_2AFQMEAJXxLqAk","thread--md":"VbR9QqGYvCgN4d","thread--lg":"_3wv5fcnak5SNYF",addActionButton:"_8reobonVA5A0eY",editor:"B805Y_VXjabyGn",header:"_2ieCaKJqKz8KoI",category:"_3MHv97tetiDGk3",icon:"_2CiYUZktK-vqhQ",removeButton:"_22EzVaMSXDf17d"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandSelect.less":function(e,t,n){var i=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._1sgc-5a63UDT5m{display:grid;grid-template-columns:16px [inset] calc(50% - 16px - 8px / 2) [thread] 8px 1fr;margin-top:16px;margin-bottom:16px}._2Jjbi2G1_NF7-0,.FJSd2FhUIJudik,.IcfY4THMch59Rl{grid-column:1/-1;padding:8px;border-radius:3px;box-shadow:0 1px 6px rgba(9,30,66,.13)}.FJSd2FhUIJudik{grid-column-start:inset}._31h1TnsGoHaX2d{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;grid-column:1/thread;margin-top:0;margin-bottom:8px;align-self:end}hr._10aroulzq4ERX8{grid-column:thread;margin:0 auto;width:1px;background-color:#dfe1e6}hr._3lpwQR93dIjqj7{height:8px}hr._31i-soFe_OVgUD{height:16px}hr._2sc5_7CxDnJwuo{height:32px}._4ClHHrjFD0FfvX{grid-column:1/-1;margin:0}._1S286GbBdpey2_{display:flex;flex-wrap:wrap;align-items:center;font-size:14px;line-height:28px;color:#172b4d}._2BUbpDmZQk24RL{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;width:100%}.Lo2givZa4rbZJy{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;display:flex;align-items:center;margin-top:0;font-size:10px;font-weight:700}.IcfY4THMch59Rl .Lo2givZa4rbZJy{color:#519839}.FJSd2FhUIJudik .Lo2givZa4rbZJy{color:#96650a}._2Jjbi2G1_NF7-0 .Lo2givZa4rbZJy{color:#055a8c}.body-color-blind-mode-enabled .Lo2givZa4rbZJy,.body-color-blind-mode-enabled~div .Lo2givZa4rbZJy{color:#5e6c84}.rzwlBdZDLbZwGa{margin-right:4px;padding:2px;border-radius:3px}.rzwlBdZDLbZwGa>span{line-height:12px}.rzwlBdZDLbZwGa>span>svg{width:12px;height:12px;line-height:12px}.body-color-blind-mode-enabled .rzwlBdZDLbZwGa,.body-color-blind-mode-enabled~div .rzwlBdZDLbZwGa{background-color:#f4f5f7!important}.body-color-blind-mode-enabled .rzwlBdZDLbZwGa svg,.body-color-blind-mode-enabled~div .rzwlBdZDLbZwGa svg{color:#42526e!important}.IcfY4THMch59Rl .rzwlBdZDLbZwGa{background-color:#eef6ec}.IcfY4THMch59Rl .rzwlBdZDLbZwGa svg{color:#519839}.FJSd2FhUIJudik .rzwlBdZDLbZwGa{background-color:#faf3c0}.FJSd2FhUIJudik .rzwlBdZDLbZwGa svg{color:#96650a}._2Jjbi2G1_NF7-0 .rzwlBdZDLbZwGa{background-color:#e4f0f6}._2Jjbi2G1_NF7-0 .rzwlBdZDLbZwGa svg{color:#055a8c}._228SXPBnJ8YuCr{margin-bottom:0}._26F_AQk7Ri2Dut{display:inline-flex;align-items:center}._26F_AQk7Ri2Dut:after,._26F_AQk7Ri2Dut:before{content:"\\A0"}._26F_AQk7Ri2Dut>div{flex-grow:1;width:calc(100% - 8px)}._26F_AQk7Ri2Dut input[type=text]{margin:0}._26F_AQk7Ri2Dut input[type=text]:focus{box-shadow:none}._1P18c-8cE9eoAj{display:inline-block;color:#fff;font-weight:500;width:90%;min-height:20px;margin-bottom:-5px;padding:0 5px;border-radius:5px;background-color:#b3bac5;background-repeat:repeat-y;background-size:16px 16px;background-position:0 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body-color-blind-mode-enabled ._1P18c-8cE9eoAj,.body-color-blind-mode-enabled~div ._1P18c-8cE9eoAj{padding-left:21px;width:69%}._1BgClY786btZqM{background-color:#61bd4f}.body-color-blind-mode-enabled ._1BgClY786btZqM,.body-color-blind-mode-enabled~div ._1BgClY786btZqM{background-image:url('+i(n("./resources/images/patterns/light/StripeDiagonal.svg"))+")}._2mvF0XB47YE6t2{background-color:#f2d600}.body-color-blind-mode-enabled ._2mvF0XB47YE6t2,.body-color-blind-mode-enabled~div ._2mvF0XB47YE6t2{background-image:url("+i(n("./resources/images/patterns/light/WaveSquare.svg"))+")}._3h0TtXgNOye4yO{background-color:#ff9f1a}.body-color-blind-mode-enabled ._3h0TtXgNOye4yO,.body-color-blind-mode-enabled~div ._3h0TtXgNOye4yO{background-image:url("+i(n("./resources/images/patterns/light/StripeVertical.svg"))+")}.y8bFZ4fqBgGMUh{background-color:#eb5a46}.body-color-blind-mode-enabled .y8bFZ4fqBgGMUh,.body-color-blind-mode-enabled~div .y8bFZ4fqBgGMUh{background-image:url("+i(n("./resources/images/patterns/light/DotsChecker.svg"))+")}._2DRHHxoMCAz7vM{background-color:#c377e0}.body-color-blind-mode-enabled ._2DRHHxoMCAz7vM,.body-color-blind-mode-enabled~div ._2DRHHxoMCAz7vM{background-image:url("+i(n("./resources/images/patterns/light/GrooveDiagonal.svg"))+")}.CSIZyp6lgXu9__{background-color:#0079bf}.body-color-blind-mode-enabled .CSIZyp6lgXu9__,.body-color-blind-mode-enabled~div .CSIZyp6lgXu9__{background-image:url("+i(n("./resources/images/patterns/light/StripeHorizontal.svg"))+")}._13HvZ0l6ScfzJw{background-color:#ff78cb}.body-color-blind-mode-enabled ._13HvZ0l6ScfzJw,.body-color-blind-mode-enabled~div ._13HvZ0l6ScfzJw{background-image:url("+i(n("./resources/images/patterns/light/BrickHorizontal.svg"))+")}.uEA8R0i4UoV4u8{background-color:#00c2e0}.body-color-blind-mode-enabled .uEA8R0i4UoV4u8,.body-color-blind-mode-enabled~div .uEA8R0i4UoV4u8{background-image:url("+i(n("./resources/images/patterns/light/BrickDiagonal.svg"))+")}._1v-SA9qNdsVSsM{background-color:#51e898}.body-color-blind-mode-enabled ._1v-SA9qNdsVSsM,.body-color-blind-mode-enabled~div ._1v-SA9qNdsVSsM{background-image:url("+i(n("./resources/images/patterns/light/Scale.svg"))+")}._3v3Tlyova747-G{background-color:#344563}.body-color-blind-mode-enabled ._3v3Tlyova747-G,.body-color-blind-mode-enabled~div ._3v3Tlyova747-G{background-image:url("+i(n("./resources/images/patterns/light/BrickVertical.svg"))+")}",""]),t.locals={grid:"_1sgc-5a63UDT5m",trigger:"IcfY4THMch59Rl",condition:"FJSd2FhUIJudik",action:"_2Jjbi2G1_NF7-0",sectionLabel:"_31h1TnsGoHaX2d",thread:"_10aroulzq4ERX8","thread--sm":"_3lpwQR93dIjqj7","thread--md":"_31i-soFe_OVgUD","thread--lg":"_2sc5_7CxDnJwuo",addActionButton:"_4ClHHrjFD0FfvX",editor:"_1S286GbBdpey2_",header:"_2BUbpDmZQk24RL",category:"Lo2givZa4rbZJy",icon:"rzwlBdZDLbZwGa",removeButton:"_228SXPBnJ8YuCr",select:"_26F_AQk7Ri2Dut",colorLabel:"_1P18c-8cE9eoAj","colorLabel--green":"_1BgClY786btZqM","colorLabel--yellow":"_2mvF0XB47YE6t2","colorLabel--orange":"_3h0TtXgNOye4yO","colorLabel--red":"y8bFZ4fqBgGMUh","colorLabel--purple":"_2DRHHxoMCAz7vM","colorLabel--blue":"CSIZyp6lgXu9__","colorLabel--pink":"_13HvZ0l6ScfzJw","colorLabel--sky":"uEA8R0i4UoV4u8","colorLabel--lime":"_1v-SA9qNdsVSsM","colorLabel--black":"_3v3Tlyova747-G"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandText.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._1VO-1NlYR10ot2{display:inline-flex;align-items:center}._1VO-1NlYR10ot2:after,._1VO-1NlYR10ot2:before{content:"\\A0"}._1VO-1NlYR10ot2>input{flex-grow:1}._1VO-1NlYR10ot2 input[type=number]{-moz-appearance:textfield}._1VO-1NlYR10ot2 input[type=number]::-webkit-inner-spin-button,._1VO-1NlYR10ot2 input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}',""]),t.locals={commandText:"_1VO-1NlYR10ot2"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/ListRule/ButlerListMenuSection.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2TTZ8Ml-liVQd1{margin-bottom:8px;padding-top:8px;line-height:16px}._1XwxIgHwwt4n0P{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin:0}._111ZJ0ZSHATK9a{margin-left:8px}.iFVDWmJ4y5n7bs{font-size:12px;text-decoration:none;color:#8993a4}.iFVDWmJ4y5n7bs:active,.iFVDWmJ4y5n7bs:focus,.iFVDWmJ4y5n7bs:hover{color:#5e6c84;text-decoration:underline}.iFVDWmJ4y5n7bs:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){.iFVDWmJ4y5n7bs:focus{outline:5px auto -webkit-focus-ring-color}}.oboduUx4MUcwlj{display:flex;flex-direction:column}.oboduUx4MUcwlj>li{display:inline-flex;align-items:center}.oboduUx4MUcwlj>li>.sh4pItSeGnXqm4{display:flex;width:100%}._38JQQZ_oqQIb4a{width:100%}._3poDDtPpE-1GfK,._38JQQZ_oqQIb4a{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._3poDDtPpE-1GfK{flex-shrink:1}.zRmWq2gqIVYSD1{flex-shrink:0;margin-left:4px}",""]),t.locals={header:"_2TTZ8Ml-liVQd1",title:"_1XwxIgHwwt4n0P",newPill:"_111ZJ0ZSHATK9a",feedbackLink:"iFVDWmJ4y5n7bs",templates:"oboduUx4MUcwlj",customRuleButton:"sh4pItSeGnXqm4",template:"_38JQQZ_oqQIb4a",customRuleLabel:"_3poDDtPpE-1GfK",externalLinkIcon:"zRmWq2gqIVYSD1"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardBackBanner/ArchivedCardBanner.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2VuXjZvBBBdnzM{background-color:#fdfae5;background-image:linear-gradient(to bottom right,rgba(0,0,0,.05) 25%,transparent 0,transparent 50%,rgba(0,0,0,.05) 0,rgba(0,0,0,.05) 75%,transparent 0,transparent);background-size:14px 14px;min-height:30px;padding:12px 12px 12px 50px;position:relative}._2VuXjZvBBBdnzM ._39T1FO0zt8OK6x{position:absolute;top:12px;left:12px}._2VuXjZvBBBdnzM ._3dwJeJOl6obszp{font-size:16px;line-height:30px;margin:0}",""]),t.locals={archivedBanner:"_2VuXjZvBBBdnzM",archiveBannerIcon:"_39T1FO0zt8OK6x",archivedBannerText:"_3dwJeJOl6obszp"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardBackBanner/ArchivedListBanner.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1F4Doh_0G24Io3{background-color:#fdfae5;background-image:linear-gradient(to bottom right,rgba(0,0,0,.05) 25%,transparent 0,transparent 50%,rgba(0,0,0,.05) 0,rgba(0,0,0,.05) 75%,transparent 0,transparent);background-size:14px 14px;min-height:30px;padding:12px 12px 12px 50px;position:relative}._1F4Doh_0G24Io3 ._1xtsOrw05K5iny{position:absolute;top:12px;left:12px}._1F4Doh_0G24Io3 .cOopJ-zHKCqUI4{font-size:16px;line-height:30px;margin:0}",""]),t.locals={archivedBanner:"_1F4Doh_0G24Io3",archiveBannerIcon:"_1xtsOrw05K5iny",archivedBannerText:"cOopJ-zHKCqUI4"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardBackBanner/TemplateCardBanner.less":function(e,t,n){var i=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1qEb41-oC_NOkA{background-color:#e4f0f6;display:grid;height:48px;grid-template-columns:auto 1fr auto;align-items:center;grid-gap:12px;padding-right:48px}._1qEb41-oC_NOkA._1yTdjCjpSh6XUn,._1qEb41-oC_NOkA.FumqRW-j2V4xGV{padding-right:8px}._1qEb41-oC_NOkA ._1UGxdKpRGuKdJr{background-image:url("+i(n("./resources/images/card-templates/header-card-template.png"))+");height:48px;width:72px;background-size:cover}._1qEb41-oC_NOkA ._1MArJ6SJ1RCwcD{font-size:16px;line-height:30px;margin:0}._1qEb41-oC_NOkA ._1Mqt_HS_XzFzAM{margin-bottom:0}._2M8OxMb7QxuGaI{background:#ebecf0}._11AuPRs48e4Srr{margin:0 12px}",""]),t.locals={templateCardBanner:"_1qEb41-oC_NOkA",hasStickers:"FumqRW-j2V4xGV",hasCover:"_1yTdjCjpSh6XUn",templateCardBannerImage:"_1UGxdKpRGuKdJr",templateCardBannerText:"_1MArJ6SJ1RCwcD",templateCardBannerButton:"_1Mqt_HS_XzFzAM",popover:"_2M8OxMb7QxuGaI",popoverPadding:"_11AuPRs48e4Srr"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/CardCoversSetting.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1H24C7UKctQICN{margin-bottom:0}._1H24C7UKctQICN,._15M1Y_ms6fMtxS{text-align:center}.biDvWRnxvd9iFl{margin-bottom:0}",""]),t.locals={notAdmin:"_1H24C7UKctQICN",isAdmin:"_15M1Y_ms6fMtxS",enableButton:"biDvWRnxvd9iFl"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/ColorCover.less":function(e,t,n){var i=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".RTmeIoMP_kSe5T{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}.RTmeIoMP_kSe5T::-webkit-scrollbar{height:8px;width:8px}.RTmeIoMP_kSe5T::-webkit-scrollbar-button:end:increment,.RTmeIoMP_kSe5T::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.RTmeIoMP_kSe5T::-webkit-scrollbar-thumb:horizontal,.RTmeIoMP_kSe5T::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.RTmeIoMP_kSe5T._1PyHiQbDdSUWBK{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2Qa_l9ojLUlSqR{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._2Qa_l9ojLUlSqR._1_qz6jmAp-aP8m{opacity:.25}._2Qa_l9ojLUlSqR:hover{filter:saturate(85%) brightness(85%)}._2Qa_l9ojLUlSqR:active{filter:saturate(70%) brightness(70%)}._2Qa_l9ojLUlSqR._3H41ES9liaXynr{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._2Qa_l9ojLUlSqR._3H41ES9liaXynr:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._2Qa_l9ojLUlSqR._3H41ES9liaXynr:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:active ._3NMs3ewwRySKGg{color:#0079bf}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:active svg circle{stroke:#0079bf}._230dNndTdS7vRJ{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._3zYZrEHtMpYE6i{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr 1fr 1fr}._3zYZrEHtMpYE6i::-webkit-scrollbar{height:8px;width:8px}._3zYZrEHtMpYE6i::-webkit-scrollbar-button:end:increment,._3zYZrEHtMpYE6i::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3zYZrEHtMpYE6i::-webkit-scrollbar-thumb:horizontal,._3zYZrEHtMpYE6i::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3zYZrEHtMpYE6i._1PyHiQbDdSUWBK{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._9HlyjDStZT9Tkt{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;width:50px;height:32px;cursor:pointer}._9HlyjDStZT9Tkt._1_qz6jmAp-aP8m{opacity:.25}._9HlyjDStZT9Tkt:hover{filter:saturate(85%) brightness(85%)}._9HlyjDStZT9Tkt:active{filter:saturate(70%) brightness(70%)}._9HlyjDStZT9Tkt._3H41ES9liaXynr{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._9HlyjDStZT9Tkt._3H41ES9liaXynr:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._9HlyjDStZT9Tkt._3H41ES9liaXynr:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._9HlyjDStZT9Tkt._3qziXoVq3vOoB-{background-color:#5ba4cf}._9HlyjDStZT9Tkt._VjutK-Uakd6Op{background-color:#7bc86c}._9HlyjDStZT9Tkt._3IxJVmJ52SXvxO{background-color:#ffaf3f}._9HlyjDStZT9Tkt._2hOM7AmVdl8C7W{background-color:#ef7564}._9HlyjDStZT9Tkt.Ds0H9CqAfcVFSh{background-color:#cd8de5}._9HlyjDStZT9Tkt._3wmQ8lVe3zahD9{background-color:#f5dd29}._9HlyjDStZT9Tkt._3wVGI--mpmR634{background-color:#ff8ed4}._9HlyjDStZT9Tkt._2sAsAnMyJDuTix{background-color:#29cce5}._9HlyjDStZT9Tkt._2zEv5Z_t8hhaSh{background-color:#6deca9}._9HlyjDStZT9Tkt._36HiOr-q2SnKP7{background-color:#172b4d}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt{background-size:16px 16px;background-repeat:repeat}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3qziXoVq3vOoB-{background-image:url("+i(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._VjutK-Uakd6Op{background-image:url("+i(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3IxJVmJ52SXvxO{background-image:url("+i(n("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._2hOM7AmVdl8C7W{background-image:url("+i(n("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt.Ds0H9CqAfcVFSh{background-image:url("+i(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3wmQ8lVe3zahD9{background-image:url("+i(n("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3wVGI--mpmR634{background-image:url("+i(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._2sAsAnMyJDuTix{background-image:url("+i(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._2zEv5Z_t8hhaSh{background-image:url("+i(n("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._36HiOr-q2SnKP7{background-image:url("+i(n("./resources/images/patterns/light/BrickVertical.svg"))+")}",""]),t.locals={coverTiles:"RTmeIoMP_kSe5T",modFixedHeight:"_1PyHiQbDdSUWBK",coverTilesItem:"_2Qa_l9ojLUlSqR",uploading:"_1_qz6jmAp-aP8m",selected:"_3H41ES9liaXynr",modAdd:"dsLtlzTR-f72BR","icon-sm":"_3NMs3ewwRySKGg",heading:"_230dNndTdS7vRJ",colorTiles:"_3zYZrEHtMpYE6i",colorTile:"_9HlyjDStZT9Tkt",blue:"_3qziXoVq3vOoB-",green:"_VjutK-Uakd6Op",orange:"_3IxJVmJ52SXvxO",red:"_2hOM7AmVdl8C7W",purple:"Ds0H9CqAfcVFSh",yellow:"_3wmQ8lVe3zahD9",pink:"_3wVGI--mpmR634",sky:"_2sAsAnMyJDuTix",lime:"_2zEv5Z_t8hhaSh",black:"_36HiOr-q2SnKP7"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/MiniCard.less":function(e,t,n){var i=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3ZNTYTqSH-zGL-{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3ZNTYTqSH-zGL-::-webkit-scrollbar{height:8px;width:8px}._3ZNTYTqSH-zGL-::-webkit-scrollbar-button:end:increment,._3ZNTYTqSH-zGL-::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3ZNTYTqSH-zGL-::-webkit-scrollbar-thumb:horizontal,._3ZNTYTqSH-zGL-::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3ZNTYTqSH-zGL-._3pfX0YvVJqKSq9{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2j7a9q0-V_TEqd{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._2j7a9q0-V_TEqd._1iIc6GXeKPZUYj{opacity:.25}._2j7a9q0-V_TEqd:hover{filter:saturate(85%) brightness(85%)}._2j7a9q0-V_TEqd:active{filter:saturate(70%) brightness(70%)}._2j7a9q0-V_TEqd._2TXPT3SuVCUYZF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._2j7a9q0-V_TEqd._2TXPT3SuVCUYZF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._2j7a9q0-V_TEqd._2TXPT3SuVCUYZF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:active ._2bi48A9howWO_m{color:#0079bf}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:active svg circle{stroke:#0079bf}._1BPeZhZP3WlV9X{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._1viqoNbp3RGt0Y{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr 1fr 1fr}._1viqoNbp3RGt0Y::-webkit-scrollbar{height:8px;width:8px}._1viqoNbp3RGt0Y::-webkit-scrollbar-button:end:increment,._1viqoNbp3RGt0Y::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1viqoNbp3RGt0Y::-webkit-scrollbar-thumb:horizontal,._1viqoNbp3RGt0Y::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1viqoNbp3RGt0Y._3pfX0YvVJqKSq9{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._13gMeZaeJM4R_R{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;width:50px;height:32px;cursor:pointer}._13gMeZaeJM4R_R._1iIc6GXeKPZUYj{opacity:.25}._13gMeZaeJM4R_R:hover{filter:saturate(85%) brightness(85%)}._13gMeZaeJM4R_R:active{filter:saturate(70%) brightness(70%)}._13gMeZaeJM4R_R._2TXPT3SuVCUYZF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._13gMeZaeJM4R_R._2TXPT3SuVCUYZF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._13gMeZaeJM4R_R._2TXPT3SuVCUYZF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._13gMeZaeJM4R_R._3olFfJuileHTzu{background-color:#5ba4cf}._13gMeZaeJM4R_R._321rwMEtxUkyai{background-color:#7bc86c}._13gMeZaeJM4R_R._38m8iXWeuTH6JJ{background-color:#ffaf3f}._13gMeZaeJM4R_R._236Jd26UD4Nbd6{background-color:#ef7564}._13gMeZaeJM4R_R._207qy-0OdXObOR{background-color:#cd8de5}._13gMeZaeJM4R_R._3-cGT-dmFxAOWZ{background-color:#f5dd29}._13gMeZaeJM4R_R._17lSFoKyYAkApk{background-color:#ff8ed4}._13gMeZaeJM4R_R._3JuPs6NSLdDUI-{background-color:#29cce5}._13gMeZaeJM4R_R._1xziIBKUmhwNSJ{background-color:#6deca9}._13gMeZaeJM4R_R._2-5M3mLJVdgvRI{background-color:#172b4d}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R{background-size:16px 16px;background-repeat:repeat}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._3olFfJuileHTzu{background-image:url("+i(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._321rwMEtxUkyai{background-image:url("+i(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._38m8iXWeuTH6JJ{background-image:url("+i(n("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._236Jd26UD4Nbd6{background-image:url("+i(n("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._207qy-0OdXObOR{background-image:url("+i(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._3-cGT-dmFxAOWZ{background-image:url("+i(n("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._17lSFoKyYAkApk{background-image:url("+i(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._3JuPs6NSLdDUI-{background-image:url("+i(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._1xziIBKUmhwNSJ{background-image:url("+i(n("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._2-5M3mLJVdgvRI{background-image:url("+i(n("./resources/images/patterns/light/BrickVertical.svg"))+")}._1a8LrtkAQTAK-j{margin:0;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;cursor:pointer;background:#fff;border-radius:3px;position:relative;width:134px;height:34px;border:1px solid rgba(9,30,66,.08)}._1a8LrtkAQTAK-j._1iIc6GXeKPZUYj{opacity:.25}._1a8LrtkAQTAK-j:hover{filter:saturate(85%) brightness(85%)}._1a8LrtkAQTAK-j:active{filter:saturate(70%) brightness(70%)}._1a8LrtkAQTAK-j._2TXPT3SuVCUYZF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._1a8LrtkAQTAK-j._2TXPT3SuVCUYZF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._1a8LrtkAQTAK-j._2TXPT3SuVCUYZF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a{height:28px;border-radius:3px 3px 0 0}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._3olFfJuileHTzu{background-color:#5ba4cf}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._321rwMEtxUkyai{background-color:#7bc86c}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._38m8iXWeuTH6JJ{background-color:#ffaf3f}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._236Jd26UD4Nbd6{background-color:#ef7564}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._207qy-0OdXObOR{background-color:#cd8de5}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ{background-color:#f5dd29}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._17lSFoKyYAkApk{background-color:#ff8ed4}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._3JuPs6NSLdDUI-{background-color:#29cce5}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._1xziIBKUmhwNSJ{background-color:#6deca9}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._2-5M3mLJVdgvRI{background-color:#172b4d}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._3Nb7RJ6JRfDx3z{background-size:cover}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_{padding:6px 4px 4px 6px;position:relative}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{background:#6b778c;height:4px;border-radius:2px;width:122px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs{width:98px;margin-top:4px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ .MSLVFDgwEE7ILt{display:flex;margin-top:6px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ .MSLVFDgwEE7ILt ._1ZlsPuJsGpFga7{width:16px;height:6px;background:#6b778c;border-radius:2px;margin-right:2px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ ._3OZzs3qEQCIZ_E{position:absolute;width:10px;height:10px;right:4px;bottom:4px;background:#6b778c;border-radius:5px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q,._1a8LrtkAQTAK-j.UC8-8jzxy9UkT0{height:62px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3olFfJuileHTzu{background-color:#5ba4cf}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._321rwMEtxUkyai{background-color:#7bc86c}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._38m8iXWeuTH6JJ{background-color:#ffaf3f}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._236Jd26UD4Nbd6{background-color:#ef7564}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._207qy-0OdXObOR{background-color:#cd8de5}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ{background-color:#f5dd29}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._17lSFoKyYAkApk{background-color:#ff8ed4}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3JuPs6NSLdDUI-{background-color:#29cce5}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._1xziIBKUmhwNSJ{background-color:#6deca9}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._2-5M3mLJVdgvRI{background-color:#172b4d}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._3Nb7RJ6JRfDx3z{background-size:cover;background-position:50%}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_{position:absolute;bottom:4px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{background:rgba(9,30,66,.6)}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{width:116px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs{width:92px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_._11g85mwkYGI1Jk ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_._11g85mwkYGI1Jk .iNrcwkjGRZWeLW{background:#fff}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ ._3OZzs3qEQCIZ_E,._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ .MSLVFDgwEE7ILt{display:none}._1a8LrtkAQTAK-j._26XWB5josseeRo{cursor:default}._1a8LrtkAQTAK-j._26XWB5josseeRo:hover{filter:unset}._1a8LrtkAQTAK-j._26XWB5josseeRo ._1ZlsPuJsGpFga7,._1a8LrtkAQTAK-j._26XWB5josseeRo ._2n6YBcAzfBM_0a,._1a8LrtkAQTAK-j._26XWB5josseeRo ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._26XWB5josseeRo ._3OZzs3qEQCIZ_E,._1a8LrtkAQTAK-j._26XWB5josseeRo._4FN7X40rw25a6Q,._1a8LrtkAQTAK-j._26XWB5josseeRo .iNrcwkjGRZWeLW{background:#5e6c84;opacity:.3}._1a8LrtkAQTAK-j._26XWB5josseeRo._4FN7X40rw25a6Q ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._26XWB5josseeRo._4FN7X40rw25a6Q .iNrcwkjGRZWeLW{background:#fff;opacity:1}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-{background-size:16px 16px;background-repeat:repeat-y}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3olFfJuileHTzu,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._3olFfJuileHTzu{background-image:url("+i(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._321rwMEtxUkyai,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._321rwMEtxUkyai{background-image:url("+i(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._38m8iXWeuTH6JJ,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._38m8iXWeuTH6JJ{background-image:url("+i(n("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._236Jd26UD4Nbd6,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._236Jd26UD4Nbd6{background-image:url("+i(n("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._207qy-0OdXObOR,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._207qy-0OdXObOR{background-image:url("+i(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ{background-image:url("+i(n("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._17lSFoKyYAkApk,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._17lSFoKyYAkApk{background-image:url("+i(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3JuPs6NSLdDUI-,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._3JuPs6NSLdDUI-{background-image:url("+i(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._1xziIBKUmhwNSJ,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._1xziIBKUmhwNSJ{background-image:url("+i(n("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._2-5M3mLJVdgvRI,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._2-5M3mLJVdgvRI{background-image:url("+i(n("./resources/images/patterns/light/BrickVertical.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV- ._2F9ioHU3xVEem_{padding-left:24px}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV- ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{width:100px}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV- ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs{width:76px}",""]),t.locals={coverTiles:"_3ZNTYTqSH-zGL-",modFixedHeight:"_3pfX0YvVJqKSq9",coverTilesItem:"_2j7a9q0-V_TEqd",uploading:"_1iIc6GXeKPZUYj",selected:"_2TXPT3SuVCUYZF",modAdd:"_1ndbchVWcccxJj","icon-sm":"_2bi48A9howWO_m",heading:"_1BPeZhZP3WlV9X",colorTiles:"_1viqoNbp3RGt0Y",colorTile:"_13gMeZaeJM4R_R",blue:"_3olFfJuileHTzu",green:"_321rwMEtxUkyai",orange:"_38m8iXWeuTH6JJ",red:"_236Jd26UD4Nbd6",purple:"_207qy-0OdXObOR",yellow:"_3-cGT-dmFxAOWZ",pink:"_17lSFoKyYAkApk",sky:"_3JuPs6NSLdDUI-",lime:"_1xziIBKUmhwNSJ",black:"_2-5M3mLJVdgvRI",miniCard:"_1a8LrtkAQTAK-j",cover:"_2n6YBcAzfBM_0a",colorCardCover:"_2WIiiCSEst2vV-",imageCardCover:"_3Nb7RJ6JRfDx3z",content:"_2F9ioHU3xVEem_",longName:"iNrcwkjGRZWeLW",shortName:"_3oRL16p-W0XVVs",badges:"MSLVFDgwEE7ILt",badge:"_1ZlsPuJsGpFga7",avatar:"_3OZzs3qEQCIZ_E",hasCover:"UC8-8jzxy9UkT0",hasFullCover:"_4FN7X40rw25a6Q",light:"_11g85mwkYGI1Jk",disabled:"_26XWB5josseeRo"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResultImageButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2XWZsTylB5lDaE{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._2XWZsTylB5lDaE::-webkit-scrollbar{height:8px;width:8px}._2XWZsTylB5lDaE::-webkit-scrollbar-button:end:increment,._2XWZsTylB5lDaE::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2XWZsTylB5lDaE::-webkit-scrollbar-thumb:horizontal,._2XWZsTylB5lDaE::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2XWZsTylB5lDaE.Kxre9nfD3Jv-x-{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.v_UpVlx65vhbBc{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}.v_UpVlx65vhbBc._1frHOuyVrolhNm{opacity:.25}.v_UpVlx65vhbBc:hover{filter:saturate(85%) brightness(85%)}.v_UpVlx65vhbBc:active{filter:saturate(70%) brightness(70%)}.v_UpVlx65vhbBc._20js7CVn6hDwDW{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}.v_UpVlx65vhbBc._20js7CVn6hDwDW:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}.v_UpVlx65vhbBc._20js7CVn6hDwDW:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:active ._1RR_lfGO1Ur1Tp{color:#0079bf}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:active svg circle{stroke:#0079bf}._1PAhBzxAgmtfxa{position:relative}._34TWB4ax7qwhyL{margin:0;border-radius:4px;width:132px;height:72px;background-size:cover;background-repeat:no-repeat;background-position:50%;cursor:pointer;box-shadow:none}._34TWB4ax7qwhyL._1frHOuyVrolhNm{opacity:.25}._34TWB4ax7qwhyL._1frHOuyVrolhNm ._1JhQgb2U8pcQ1H{margin-right:4px}._34TWB4ax7qwhyL:hover{filter:saturate(85%) brightness(85%)}._34TWB4ax7qwhyL:active{filter:saturate(70%) brightness(70%)}._34TWB4ax7qwhyL._20js7CVn6hDwDW{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._34TWB4ax7qwhyL._20js7CVn6hDwDW:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._34TWB4ax7qwhyL._20js7CVn6hDwDW:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}.q1QWoDJC-NIAnI{display:inline-block}._3zbsfZZvzhk07w{display:block;overflow:hidden;box-sizing:border-box;background:rgba(0,0,0,.8);color:#fff;font-size:12px;text-align:left;position:absolute;width:100%;bottom:0;left:0;z-index:1}._3BTMgnJ1S_0Czm{display:flex;font-size:10px;line-height:16px;height:16px}",""]),t.locals={coverTiles:"_2XWZsTylB5lDaE",modFixedHeight:"Kxre9nfD3Jv-x-",coverTilesItem:"v_UpVlx65vhbBc",uploading:"_1frHOuyVrolhNm",selected:"_20js7CVn6hDwDW",modAdd:"_2Ga8vwljfWavZH","icon-sm":"_1RR_lfGO1Ur1Tp",backgroundGridItem:"_1PAhBzxAgmtfxa",cover:"_34TWB4ax7qwhyL",spinner:"_1JhQgb2U8pcQ1H",uploadIndicator:"q1QWoDJC-NIAnI",upload:"_3zbsfZZvzhk07w",spinnerWrapper:"_3BTMgnJ1S_0Czm"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResults.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".MtwcKrAY10iCcP{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}.MtwcKrAY10iCcP::-webkit-scrollbar{height:8px;width:8px}.MtwcKrAY10iCcP::-webkit-scrollbar-button:end:increment,.MtwcKrAY10iCcP::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.MtwcKrAY10iCcP::-webkit-scrollbar-thumb:horizontal,.MtwcKrAY10iCcP::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.MtwcKrAY10iCcP._1uDezppYXFbHBJ{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3pwCbisp0aR78I{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3pwCbisp0aR78I._10EvXEn8cGzjo2{opacity:.25}._3pwCbisp0aR78I:hover{filter:saturate(85%) brightness(85%)}._3pwCbisp0aR78I:active{filter:saturate(70%) brightness(70%)}._3pwCbisp0aR78I._1cJDsF_isdqOlg{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._3pwCbisp0aR78I._1cJDsF_isdqOlg:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._3pwCbisp0aR78I._1cJDsF_isdqOlg:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:active ._2U8SV9UIIv8nuL{color:#0079bf}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:active svg circle{stroke:#0079bf}.CAtwhcALYIZ7X4{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._3pgH5LbnW04-xX{display:none}._2HltlAXz8CoUXh{display:flex;justify-content:space-between;color:#5e6c84;font-size:12px;line-height:16px;margin-top:12px;height:16px}._2LlJKib0iz9s6H{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._2LlJKib0iz9s6H::-webkit-scrollbar{height:8px;width:8px}._2LlJKib0iz9s6H::-webkit-scrollbar-button:end:increment,._2LlJKib0iz9s6H::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2LlJKib0iz9s6H::-webkit-scrollbar-thumb:horizontal,._2LlJKib0iz9s6H::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2LlJKib0iz9s6H._1uDezppYXFbHBJ{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._10EvXEn8cGzjo2{opacity:.25}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju:hover{filter:saturate(85%) brightness(85%)}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju:active{filter:saturate(70%) brightness(70%)}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._1cJDsF_isdqOlg{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._1cJDsF_isdqOlg:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._1cJDsF_isdqOlg:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._2LlJKib0iz9s6H>span,.MtwcKrAY10iCcP>span{margin-top:-9px}.ppvgTgGEh-MN4G{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition-duration:85ms;transition-timing-function:ease;flex:0 1 auto;opacity:1;transition-property:opacity}._1En7YrI9yo9nbC{opacity:0}.zzqdDXUWr7pF77{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:0 0 auto}._1Cz5uumZYraDJn{color:#5e6c84}",""]),t.locals={coverTiles:"MtwcKrAY10iCcP",modFixedHeight:"_1uDezppYXFbHBJ",coverTilesItem:"_3pwCbisp0aR78I",uploading:"_10EvXEn8cGzjo2",selected:"_1cJDsF_isdqOlg",modAdd:"IbZmrbDNOrEOD_","icon-sm":"_2U8SV9UIIv8nuL",heading:"CAtwhcALYIZ7X4",hideInfiniteListSpinner:"_3pgH5LbnW04-xX",searchResultsFooter:"_2HltlAXz8CoUXh",searchResultTiles:"_2LlJKib0iz9s6H",searchResultTilesItem:"_1zy2yKg7CeYBju",loadingColumn:"ppvgTgGEh-MN4G",isExiting:"_1En7YrI9yo9nbC",unsplashColumn:"zzqdDXUWr7pF77",unsplashLink:"_1Cz5uumZYraDJn"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectAttachmentCover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3fH7oJho9R0bz7{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3fH7oJho9R0bz7::-webkit-scrollbar{height:8px;width:8px}._3fH7oJho9R0bz7::-webkit-scrollbar-button:end:increment,._3fH7oJho9R0bz7::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3fH7oJho9R0bz7::-webkit-scrollbar-thumb:horizontal,._3fH7oJho9R0bz7::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3fH7oJho9R0bz7.vs5JODSD8ukfJk{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3uCSs_asedYtCD{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3uCSs_asedYtCD.sLqaKuFqHIx6Nh{opacity:.25}._3uCSs_asedYtCD:hover{filter:saturate(85%) brightness(85%)}._3uCSs_asedYtCD:active{filter:saturate(70%) brightness(70%)}._3uCSs_asedYtCD._1drOsv23u1Kuiz{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._3uCSs_asedYtCD._1drOsv23u1Kuiz:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._3uCSs_asedYtCD._1drOsv23u1Kuiz:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:active ._1myV3iaiVlPQmw{color:#0079bf}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:active svg circle{stroke:#0079bf}._6gyIDeA0YC2Ojj{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._266umnppKqyxcX{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._266umnppKqyxcX::-webkit-scrollbar{height:8px;width:8px}._266umnppKqyxcX::-webkit-scrollbar-button:end:increment,._266umnppKqyxcX::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._266umnppKqyxcX::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._266umnppKqyxcX::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._266umnppKqyxcX::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._266umnppKqyxcX::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._266umnppKqyxcX::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._266umnppKqyxcX::-webkit-scrollbar-thumb:horizontal,._266umnppKqyxcX::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._266umnppKqyxcX.vs5JODSD8ukfJk{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._266umnppKqyxcX ._2Rkx-wUW4H0MU2{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._266umnppKqyxcX ._2Rkx-wUW4H0MU2.sLqaKuFqHIx6Nh{opacity:.25}._266umnppKqyxcX ._2Rkx-wUW4H0MU2:hover{filter:saturate(85%) brightness(85%)}._266umnppKqyxcX ._2Rkx-wUW4H0MU2:active{filter:saturate(70%) brightness(70%)}._266umnppKqyxcX ._2Rkx-wUW4H0MU2._1drOsv23u1Kuiz{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._266umnppKqyxcX ._2Rkx-wUW4H0MU2._1drOsv23u1Kuiz:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._266umnppKqyxcX ._2Rkx-wUW4H0MU2._1drOsv23u1Kuiz:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._1638oiy6oou4t0{margin-top:4px}._1638oiy6oou4t0._1aDo0lG6FoQqWN,._1638oiy6oou4t0.MOXYJa09sv4xrJ{margin-top:8px}._1Fj6VKwfhxguaj,._1XMmP7DF6X0ehD{margin:4px 0 0;width:100%}",""]),t.locals={coverTiles:"_3fH7oJho9R0bz7",modFixedHeight:"vs5JODSD8ukfJk",coverTilesItem:"_3uCSs_asedYtCD",uploading:"sLqaKuFqHIx6Nh",selected:"_1drOsv23u1Kuiz",modAdd:"_1n5Q0m-OyK0Sl9","icon-sm":"_1myV3iaiVlPQmw",heading:"_6gyIDeA0YC2Ojj",attachmentTiles:"_266umnppKqyxcX",attachmentTilesItem:"_2Rkx-wUW4H0MU2",uploadButton:"_1638oiy6oou4t0",hasPaginatedTiles:"_1aDo0lG6FoQqWN",hasNoAttachments:"MOXYJa09sv4xrJ",showMoreButton:"_1Fj6VKwfhxguaj",showFewerButton:"_1XMmP7DF6X0ehD"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectCover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1bI7f7L7AWeFIj{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._1bI7f7L7AWeFIj::-webkit-scrollbar{height:8px;width:8px}._1bI7f7L7AWeFIj::-webkit-scrollbar-button:end:increment,._1bI7f7L7AWeFIj::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1bI7f7L7AWeFIj::-webkit-scrollbar-thumb:horizontal,._1bI7f7L7AWeFIj::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1bI7f7L7AWeFIj.ytCRHM_6vlXvOj{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.K6mun10LS1BRsW{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}.K6mun10LS1BRsW._3r_XWzSsGM5Lrh{opacity:.25}.K6mun10LS1BRsW:hover{filter:saturate(85%) brightness(85%)}.K6mun10LS1BRsW:active{filter:saturate(70%) brightness(70%)}.K6mun10LS1BRsW._1YFXhB_367zLuE{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}.K6mun10LS1BRsW._1YFXhB_367zLuE:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}.K6mun10LS1BRsW._1YFXhB_367zLuE:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:active ._2ZzgU9Ss5_JMjB{color:#0079bf}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:active svg circle{stroke:#0079bf}._14Ww49tEL2joF2{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:0}._3-CjziCGL9o1aO{margin:8px 0 0;width:100%}._3-CjziCGL9o1aO._1fcxnzs4VXcgEM{margin:4px 0 0}",""]),t.locals={coverTiles:"_1bI7f7L7AWeFIj",modFixedHeight:"ytCRHM_6vlXvOj",coverTilesItem:"K6mun10LS1BRsW",uploading:"_3r_XWzSsGM5Lrh",selected:"_1YFXhB_367zLuE",modAdd:"_3yFZG0AF_Ojscn","icon-sm":"_2ZzgU9Ss5_JMjB",heading:"_14Ww49tEL2joF2",remove:"_3-CjziCGL9o1aO",colorAndFullVersion:"_1fcxnzs4VXcgEM"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectPluginCover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3TVkFrHOX3Em4N{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3TVkFrHOX3Em4N::-webkit-scrollbar{height:8px;width:8px}._3TVkFrHOX3Em4N::-webkit-scrollbar-button:end:increment,._3TVkFrHOX3Em4N::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3TVkFrHOX3Em4N::-webkit-scrollbar-thumb:horizontal,._3TVkFrHOX3Em4N::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3TVkFrHOX3Em4N._1dP1SeYKFmeJhp{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3rFrBiACsnjj2e{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3rFrBiACsnjj2e._2kYnDI6gVBXfp0{opacity:.25}._3rFrBiACsnjj2e:hover{filter:saturate(85%) brightness(85%)}._3rFrBiACsnjj2e:active{filter:saturate(70%) brightness(70%)}._3rFrBiACsnjj2e.lGmGkzwB32VDdQ{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._3rFrBiACsnjj2e.lGmGkzwB32VDdQ:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._3rFrBiACsnjj2e.lGmGkzwB32VDdQ:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:active ._3kQzJ4D_hifi00{color:#0079bf}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:active svg circle{stroke:#0079bf}._3KAZo6Spxvfozq{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:12px;margin-bottom:4px}._3kFZ5M8yw4AMhW{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._3kFZ5M8yw4AMhW::-webkit-scrollbar{height:8px;width:8px}._3kFZ5M8yw4AMhW::-webkit-scrollbar-button:end:increment,._3kFZ5M8yw4AMhW::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3kFZ5M8yw4AMhW::-webkit-scrollbar-thumb:horizontal,._3kFZ5M8yw4AMhW::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3kFZ5M8yw4AMhW._1dP1SeYKFmeJhp{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg._2kYnDI6gVBXfp0{opacity:.25}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg:hover{filter:saturate(85%) brightness(85%)}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg:active{filter:saturate(70%) brightness(70%)}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg.lGmGkzwB32VDdQ{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg.lGmGkzwB32VDdQ:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg.lGmGkzwB32VDdQ:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}",""]),t.locals={coverTiles:"_3TVkFrHOX3Em4N",modFixedHeight:"_1dP1SeYKFmeJhp",coverTilesItem:"_3rFrBiACsnjj2e",uploading:"_2kYnDI6gVBXfp0",selected:"lGmGkzwB32VDdQ",modAdd:"_3x5rN2gc8iKhBb","icon-sm":"_3kQzJ4D_hifi00",heading:"_3KAZo6Spxvfozq",pluginCoverTiles:"_3kFZ5M8yw4AMhW",pluginCoverTilesItem:"yOVMaJAXNmQNNg"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectSize.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1o3nt1JZq6_8my{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._1o3nt1JZq6_8my::-webkit-scrollbar{height:8px;width:8px}._1o3nt1JZq6_8my::-webkit-scrollbar-button:end:increment,._1o3nt1JZq6_8my::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1o3nt1JZq6_8my::-webkit-scrollbar-thumb:horizontal,._1o3nt1JZq6_8my::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1o3nt1JZq6_8my._1AYE9cHQbYpA9U{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3jX9loiBo61DVn{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3jX9loiBo61DVn._2NNahw1r4Z5h-B{opacity:.25}._3jX9loiBo61DVn:hover{filter:saturate(85%) brightness(85%)}._3jX9loiBo61DVn:active{filter:saturate(70%) brightness(70%)}._3jX9loiBo61DVn._1O-qwaOS-o4_wF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._3jX9loiBo61DVn._1O-qwaOS-o4_wF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._3jX9loiBo61DVn._1O-qwaOS-o4_wF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7:active ._1R6NucRxqzbcY9{color:#0079bf}._3jX9loiBo61DVn._1zymqMxhHJMME7:active svg circle{stroke:#0079bf}._1mh73i3GOtAUyT{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:0;margin-bottom:4px}._3hbdnDjD_nZO1f{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3hbdnDjD_nZO1f::-webkit-scrollbar{height:8px;width:8px}._3hbdnDjD_nZO1f::-webkit-scrollbar-button:end:increment,._3hbdnDjD_nZO1f::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3hbdnDjD_nZO1f::-webkit-scrollbar-thumb:horizontal,._3hbdnDjD_nZO1f::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3hbdnDjD_nZO1f._1AYE9cHQbYpA9U{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}",""]),t.locals={coverTiles:"_1o3nt1JZq6_8my",modFixedHeight:"_1AYE9cHQbYpA9U",coverTilesItem:"_3jX9loiBo61DVn",uploading:"_2NNahw1r4Z5h-B",selected:"_1O-qwaOS-o4_wF",modAdd:"_1zymqMxhHJMME7","icon-sm":"_1R6NucRxqzbcY9",heading:"_1mh73i3GOtAUyT",sizeTiles:"_3hbdnDjD_nZO1f"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectTextColor.less":function(e,t,n){var i=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3TmZQjSJExxJRN{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3TmZQjSJExxJRN::-webkit-scrollbar{height:8px;width:8px}._3TmZQjSJExxJRN::-webkit-scrollbar-button:end:increment,._3TmZQjSJExxJRN::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3TmZQjSJExxJRN::-webkit-scrollbar-thumb:horizontal,._3TmZQjSJExxJRN::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3TmZQjSJExxJRN.Z4oNsXOtbQI_5g{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._35pc8XYOpc4hxf{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._35pc8XYOpc4hxf._2-Kp0Ji7hZN6MF{opacity:.25}._35pc8XYOpc4hxf:hover{filter:saturate(85%) brightness(85%)}._35pc8XYOpc4hxf:active{filter:saturate(70%) brightness(70%)}._35pc8XYOpc4hxf._2PQFEWG4jWHn19{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._35pc8XYOpc4hxf._2PQFEWG4jWHn19:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._35pc8XYOpc4hxf._2PQFEWG4jWHn19:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX:active ._3waVqrFnP74RUF{color:#0079bf}._35pc8XYOpc4hxf._1KUajT9leg8skX:active svg circle{stroke:#0079bf}._1j4VxzKzGcvcHS{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr 1fr 1fr}._1j4VxzKzGcvcHS::-webkit-scrollbar{height:8px;width:8px}._1j4VxzKzGcvcHS::-webkit-scrollbar-button:end:increment,._1j4VxzKzGcvcHS::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1j4VxzKzGcvcHS::-webkit-scrollbar-thumb:horizontal,._1j4VxzKzGcvcHS::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1j4VxzKzGcvcHS.Z4oNsXOtbQI_5g{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2SzaOhra4WC_tw{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;width:50px;height:32px;cursor:pointer}._2SzaOhra4WC_tw._2-Kp0Ji7hZN6MF{opacity:.25}._2SzaOhra4WC_tw:hover{filter:saturate(85%) brightness(85%)}._2SzaOhra4WC_tw:active{filter:saturate(70%) brightness(70%)}._2SzaOhra4WC_tw._2PQFEWG4jWHn19{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._2SzaOhra4WC_tw._2PQFEWG4jWHn19:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._2SzaOhra4WC_tw._2PQFEWG4jWHn19:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._2SzaOhra4WC_tw._1_Ef1_IvRGiy2U{background-color:#5ba4cf}._2SzaOhra4WC_tw._8__gKxw99cj9bp{background-color:#7bc86c}._2SzaOhra4WC_tw._2AmMzsO_58K_oC{background-color:#ffaf3f}._2SzaOhra4WC_tw._3Re38L-Fp--pm3{background-color:#ef7564}._2SzaOhra4WC_tw._1LJWqxH7TtcJN_{background-color:#cd8de5}._2SzaOhra4WC_tw._1gKa7mqiFQHUC1{background-color:#f5dd29}._2SzaOhra4WC_tw._1N1bySn2fshow7{background-color:#ff8ed4}._2SzaOhra4WC_tw._2aEFGwEf13Xobg{background-color:#29cce5}._2SzaOhra4WC_tw._1IBJJ-hvP4gRTE{background-color:#6deca9}._2SzaOhra4WC_tw._2C2RpW947EnhMf{background-color:#172b4d}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw{background-size:16px 16px;background-repeat:repeat}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1_Ef1_IvRGiy2U{background-image:url("+i(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._8__gKxw99cj9bp{background-image:url("+i(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._2AmMzsO_58K_oC{background-image:url("+i(n("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._3Re38L-Fp--pm3{background-image:url("+i(n("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1LJWqxH7TtcJN_{background-image:url("+i(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1gKa7mqiFQHUC1{background-image:url("+i(n("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1N1bySn2fshow7{background-image:url("+i(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._2aEFGwEf13Xobg{background-image:url("+i(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1IBJJ-hvP4gRTE{background-image:url("+i(n("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._2C2RpW947EnhMf{background-image:url("+i(n("./resources/images/patterns/light/BrickVertical.svg"))+")}.lsTpOEMnJOwenR{margin-top:16px;margin-bottom:8px}._3ZwOZczwhhUyJ8{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._1342qNISA4o6aQ{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr}._1342qNISA4o6aQ::-webkit-scrollbar{height:8px;width:8px}._1342qNISA4o6aQ::-webkit-scrollbar-button:end:increment,._1342qNISA4o6aQ::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1342qNISA4o6aQ::-webkit-scrollbar-thumb:horizontal,._1342qNISA4o6aQ::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1342qNISA4o6aQ.Z4oNsXOtbQI_5g{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._1pBIagFvjN411Z{margin:0;height:72px;width:100%;background-repeat:no-repeat;box-shadow:none;cursor:pointer;display:flex;flex-direction:row;align-items:flex-end;border-radius:3px;width:unset;height:20px;background-size:cover;background-position:50%;padding:6px 10px 6px 12px;overflow:hidden}._1pBIagFvjN411Z._2-Kp0Ji7hZN6MF{opacity:.25}._1pBIagFvjN411Z:hover{filter:saturate(85%) brightness(85%)}._1pBIagFvjN411Z:active{filter:saturate(70%) brightness(70%)}._1pBIagFvjN411Z._2PQFEWG4jWHn19{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._1pBIagFvjN411Z._2PQFEWG4jWHn19:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._1pBIagFvjN411Z._2PQFEWG4jWHn19:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._1pBIagFvjN411Z h3._1mR03l81QzYqXM{margin-bottom:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px;line-height:20px}._1pBIagFvjN411Z h3._1mR03l81QzYqXM.aZiGjjq4Xd6k44{color:#fff}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1_Ef1_IvRGiy2U{background-color:#5ba4cf}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._8__gKxw99cj9bp{background-color:#7bc86c}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2AmMzsO_58K_oC{background-color:#ffaf3f}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._3Re38L-Fp--pm3{background-color:#ef7564}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1LJWqxH7TtcJN_{background-color:#cd8de5}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1gKa7mqiFQHUC1{background-color:#f5dd29}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1N1bySn2fshow7{background-color:#ff8ed4}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2aEFGwEf13Xobg{background-color:#29cce5}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1IBJJ-hvP4gRTE{background-color:#6deca9}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2C2RpW947EnhMf{background-color:#172b4d}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH{background-size:16px 16px;background-repeat:repeat-y;background-position:0}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1_Ef1_IvRGiy2U{background-image:url("+i(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._8__gKxw99cj9bp{background-image:url("+i(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2AmMzsO_58K_oC{background-image:url("+i(n("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._3Re38L-Fp--pm3{background-image:url("+i(n("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1LJWqxH7TtcJN_{background-image:url("+i(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1gKa7mqiFQHUC1{background-image:url("+i(n("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1N1bySn2fshow7{background-image:url("+i(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2aEFGwEf13Xobg{background-image:url("+i(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1IBJJ-hvP4gRTE{background-image:url("+i(n("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2C2RpW947EnhMf{background-image:url("+i(n("./resources/images/patterns/light/BrickVertical.svg"))+")}",""]),t.locals={coverTiles:"_3TmZQjSJExxJRN",modFixedHeight:"Z4oNsXOtbQI_5g",coverTilesItem:"_35pc8XYOpc4hxf",uploading:"_2-Kp0Ji7hZN6MF",selected:"_2PQFEWG4jWHn19",modAdd:"_1KUajT9leg8skX","icon-sm":"_3waVqrFnP74RUF",heading:"_3ZwOZczwhhUyJ8",colorTiles:"_1j4VxzKzGcvcHS",colorTile:"_2SzaOhra4WC_tw",blue:"_1_Ef1_IvRGiy2U",green:"_8__gKxw99cj9bp",orange:"_2AmMzsO_58K_oC",red:"_3Re38L-Fp--pm3",purple:"_1LJWqxH7TtcJN_",yellow:"_1gKa7mqiFQHUC1",pink:"_1N1bySn2fshow7",sky:"_2aEFGwEf13Xobg",lime:"_1IBJJ-hvP4gRTE",black:"_2C2RpW947EnhMf",selectTextColor:"lsTpOEMnJOwenR",textColorTiles:"_1342qNISA4o6aQ",textColorTile:"_1pBIagFvjN411Z",name:"_1mR03l81QzYqXM",light:"aZiGjjq4Xd6k44",colorCardCover:"XNqcSeZ1YnMHTH"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectUnsplashCover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2ag6uJTPcLf8cj{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._2ag6uJTPcLf8cj::-webkit-scrollbar{height:8px;width:8px}._2ag6uJTPcLf8cj::-webkit-scrollbar-button:end:increment,._2ag6uJTPcLf8cj::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2ag6uJTPcLf8cj::-webkit-scrollbar-thumb:horizontal,._2ag6uJTPcLf8cj::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2ag6uJTPcLf8cj._1oMO8v9lG5DKjd{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.T7gBC_P4Bmblcj{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}.T7gBC_P4Bmblcj._3FrBnzH3Q3mcdD{opacity:.25}.T7gBC_P4Bmblcj:hover{filter:saturate(85%) brightness(85%)}.T7gBC_P4Bmblcj:active{filter:saturate(70%) brightness(70%)}.T7gBC_P4Bmblcj.hnqOV4jGg9AKey{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}.T7gBC_P4Bmblcj.hnqOV4jGg9AKey:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}.T7gBC_P4Bmblcj.hnqOV4jGg9AKey:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:active ._1PJLA-HbfsAGVJ{color:#0079bf}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:active svg circle{stroke:#0079bf}._1Wdq0fbpbp8Sy-{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._2AJ8JKfvB8CGhQ{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._2AJ8JKfvB8CGhQ::-webkit-scrollbar{height:8px;width:8px}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-button:end:increment,._2AJ8JKfvB8CGhQ::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-thumb:horizontal,._2AJ8JKfvB8CGhQ::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2AJ8JKfvB8CGhQ._1oMO8v9lG5DKjd{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ._3FrBnzH3Q3mcdD{opacity:.25}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ:hover{filter:saturate(85%) brightness(85%)}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ:active{filter:saturate(70%) brightness(70%)}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ.hnqOV4jGg9AKey{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ.hnqOV4jGg9AKey:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ.hnqOV4jGg9AKey:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._2c8qsjNNafLenq{margin:4px 0 0;width:100%}",""]),t.locals={coverTiles:"_2ag6uJTPcLf8cj",modFixedHeight:"_1oMO8v9lG5DKjd",coverTilesItem:"T7gBC_P4Bmblcj",uploading:"_3FrBnzH3Q3mcdD",selected:"hnqOV4jGg9AKey",modAdd:"_3ZLUoWmLMZV2zg","icon-sm":"_1PJLA-HbfsAGVJ",heading:"_1Wdq0fbpbp8Sy-",unsplashTiles:"_2AJ8JKfvB8CGhQ",unsplashTilesItem:"_3TKOEFTWhXcUoJ",searchButton:"_2c8qsjNNafLenq"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SuggestedSearches.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2lWB17nDk2758A{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:0}._3I9o-wLYWuUhPA{margin:0 4px 4px 0}",""]),t.locals={heading:"_2lWB17nDk2758A",suggestedSearchButton:"_3I9o-wLYWuUhPA"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/TopUnsplashPhotos.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".WYiE6RHU_sh9GW{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}.WYiE6RHU_sh9GW::-webkit-scrollbar{height:8px;width:8px}.WYiE6RHU_sh9GW::-webkit-scrollbar-button:end:increment,.WYiE6RHU_sh9GW::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.WYiE6RHU_sh9GW::-webkit-scrollbar-thumb:horizontal,.WYiE6RHU_sh9GW::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.WYiE6RHU_sh9GW._3lYKvRV2_HUtc2{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._31KJducVH04iqO{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._31KJducVH04iqO.rzzm1iWU9pD9rb{opacity:.25}._31KJducVH04iqO:hover{filter:saturate(85%) brightness(85%)}._31KJducVH04iqO:active{filter:saturate(70%) brightness(70%)}._31KJducVH04iqO._1tdKL39uyKcldb{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._31KJducVH04iqO._1tdKL39uyKcldb:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._31KJducVH04iqO._1tdKL39uyKcldb:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o:active .b1menElyZXaaYW{color:#0079bf}._31KJducVH04iqO.PoPtr2fx1PmG9o:active svg circle{stroke:#0079bf}.BC0l2bm1DbI50D{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:12px;margin-bottom:4px}.Tku87to0FvGanr{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}.Tku87to0FvGanr::-webkit-scrollbar{height:8px;width:8px}.Tku87to0FvGanr::-webkit-scrollbar-button:end:increment,.Tku87to0FvGanr::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.Tku87to0FvGanr::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.Tku87to0FvGanr::-webkit-scrollbar-thumb:horizontal,.Tku87to0FvGanr::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.Tku87to0FvGanr._3lYKvRV2_HUtc2{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.Tku87to0FvGanr .kBuv-8JgZToq5Q{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}.Tku87to0FvGanr .kBuv-8JgZToq5Q.rzzm1iWU9pD9rb{opacity:.25}.Tku87to0FvGanr .kBuv-8JgZToq5Q:hover{filter:saturate(85%) brightness(85%)}.Tku87to0FvGanr .kBuv-8JgZToq5Q:active{filter:saturate(70%) brightness(70%)}.Tku87to0FvGanr .kBuv-8JgZToq5Q._1tdKL39uyKcldb{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}.Tku87to0FvGanr .kBuv-8JgZToq5Q._1tdKL39uyKcldb:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}.Tku87to0FvGanr .kBuv-8JgZToq5Q._1tdKL39uyKcldb:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._1yJcg0cQWXOCuu{display:flex;justify-content:space-between;color:#5e6c84;font-size:12px;line-height:16px;margin-top:8px;height:16px;flex-direction:row-reverse}.vHPJWb0o-0x6Mq{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:0 0 auto}.Yah_zSnLzJC4ft{color:#5e6c84}",""]),t.locals={coverTiles:"WYiE6RHU_sh9GW",modFixedHeight:"_3lYKvRV2_HUtc2",coverTilesItem:"_31KJducVH04iqO",uploading:"rzzm1iWU9pD9rb",selected:"_1tdKL39uyKcldb",modAdd:"PoPtr2fx1PmG9o","icon-sm":"b1menElyZXaaYW",heading:"BC0l2bm1DbI50D",unsplashTiles:"Tku87to0FvGanr",unsplashTilesItem:"kBuv-8JgZToq5Q",searchResultsFooter:"_1yJcg0cQWXOCuu",unsplashColumn:"vHPJWb0o-0x6Mq",unsplashLink:"Yah_zSnLzJC4ft"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/UnsplashSearch.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3yqfsSVYR8yjDU{overflow-y:hidden;overflow-x:hidden}.TBCpxHnpt53su5{position:relative}input.lR37eaCVHqVe18{width:100%;padding-right:36px}._26RvG-oPnG3m5c{position:absolute;top:0;right:0;height:36px;width:36px;margin:0;padding:0}._26RvG-oPnG3m5c,._26RvG-oPnG3m5c:active,._26RvG-oPnG3m5c:hover{background:transparent}._26RvG-oPnG3m5c:hover ._3v7z5fxhXALUoR{color:#172b4d}",""]),t.locals={unsplashSearch:"_3yqfsSVYR8yjDU",unsplashSearchInputSection:"TBCpxHnpt53su5",unsplashSearchInput:"lR37eaCVHqVe18",unsplashSearchClearButton:"_26RvG-oPnG3m5c",unsplashSearchClearButtonIcon:"_3v7z5fxhXALUoR"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/Upload.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1kefSuo0uNZAva{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase}._2w85sGi5OdW2wf{margin:0;width:100%}._3kNiwjIoyLTow2{display:none}._2ciutp6C5PxYUd,._24z8ZTWu-7pmyi{font-size:12px;line-height:16px;margin-top:12px}._2ciutp6C5PxYUd{color:#5e6c84}._24z8ZTWu-7pmyi{color:#eb5a46}",""]),t.locals={heading:"_1kefSuo0uNZAva",upload:"_2w85sGi5OdW2wf",fileInput:"_3kNiwjIoyLTow2",tip:"_2ciutp6C5PxYUd",error:"_24z8ZTWu-7pmyi"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/EditCardButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3IF3avWmHwzLpc{box-sizing:content-box;display:flex;width:20px;height:20px;align-items:center;justify-content:center;background-color:#f4f5f7;background-clip:padding-box;background-origin:padding-box;border-radius:3px;opacity:.8;padding:4px;position:absolute;right:2px;top:2px;visibility:hidden;z-index:40}._3IF3avWmHwzLpc:hover{background-color:#ebecf0;opacity:1}._3IF3avWmHwzLpc:active{background-color:#dfe1e6;opacity:1}._3IF3avWmHwzLpc.ApithuIVV3SwXB{visibility:visible}",""]),t.locals={editCardButton:"_3IF3avWmHwzLpc",show:"ApithuIVV3SwXB"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/LinkCard.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-resolved-view-thumb]{height:160px;min-width:100%;max-width:100%}.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-forbidden-view],.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-not-found-view],.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-resolved-view],.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-unauthorized-view]{flex-direction:column-reverse;border:unset;border-radius:3px;box-shadow:unset;min-height:88px}.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-forbidden-view]:hover,.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-not-found-view]:hover,.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-resolved-view]:hover,.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-unauthorized-view]:hover{background-color:#f4f5f7}.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-content]{padding:8px}.hfEqV6Dvl9_gNw.QUcIjGZR7B8bAv div[data-trello-do-not-use-override=block-card-resolved-view-thumb]{display:none}.hfEqV6Dvl9_gNw.Sfs2Df47vuXDKE a[data-trello-do-not-use-override=block-card-content-header] span:nth-child(3){position:absolute;bottom:8px;right:8px;max-width:50%}.hfEqV6Dvl9_gNw ._3P2eowmQfJwrLb{text-decoration:none}.hfEqV6Dvl9_gNw ._3P2eowmQfJwrLb>a,.hfEqV6Dvl9_gNw ._3P2eowmQfJwrLb a[data-testid=lazy-render-placeholder]{word-break:break-all;display:inline-block;padding:8px;line-height:20px;color:#0052cc}._2FjgPuLxBqsjiO{padding:6px 8px 2px}._2FjgPuLxBqsjiO ._3P2eowmQfJwrLb{clear:both;display:block;margin:0 0 4px;overflow:hidden;text-decoration:underline;word-wrap:break-word;color:#0052cc}",""]),t.locals={smartLinkCard:"hfEqV6Dvl9_gNw",hideCover:"QUcIjGZR7B8bAv",hasBadge:"Sfs2Df47vuXDKE",link:"_3P2eowmQfJwrLb",linkCard:"_2FjgPuLxBqsjiO"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3PiJ2WyNY99H0v{background:#ebecf0}._2arBFfwXVxA0AM{margin-right:8px}._2arBFfwXVxA0AM:active,._2arBFfwXVxA0AM:visited{outline:none}._2arBFfwXVxA0AM:focus{outline:1px auto -webkit-focus-ring-color}._2arBFfwXVxA0AM .icon-template-card{margin-right:0}",""]),t.locals={popover:"_3PiJ2WyNY99H0v",cardTemplateButton:"_2arBFfwXVxA0AM"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1gN8uXOfybjSaC{text-align:center;margin-bottom:12px}._9_-qCCbjiiNeHt{margin-bottom:0}._17ubmepy2-mYZb{flex:1 1 auto;z-index:1;min-height:0;padding-top:1px}._1NBxMapN6ogWWX{display:flex}._13EPD62dgXxJoa{width:100%;margin-bottom:8px;min-height:56px}._1vnFiqTFvUbHmO,._2t77MEi0PcsMTi{margin-top:8px;margin-bottom:0}.qc5qf-WU-D6S1U{text-decoration:none}.o0k1FA-_28rf9K{display:flex;flex-direction:column;margin-left:8px}.o0k1FA-_28rf9K ._3Piz0dNsYmYOhL{width:32px;padding:6px 8px;margin-bottom:8px}.o0k1FA-_28rf9K ._3Piz0dNsYmYOhL:focus{outline:1px auto -webkit-focus-ring-color}",""]),t.locals={emptyStateMessage:"_1gN8uXOfybjSaC",createNewTemplateButton:"_9_-qCCbjiiNeHt",templateCards:"_17ubmepy2-mYZb",templateCardContainer:"_1NBxMapN6ogWWX",templateCard:"_13EPD62dgXxJoa",editTemplatesButton:"_1vnFiqTFvUbHmO",finishEditingButton:"_2t77MEi0PcsMTi",noTextDecoration:"qc5qf-WU-D6S1U",controlButtons:"o0k1FA-_28rf9K",controlButton:"_3Piz0dNsYmYOhL"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2NkSOgcUn7Xcve{margin-top:8px;margin-bottom:8px}._2NkSOgcUn7Xcve:last-child{margin-bottom:0}._2RfGKd4tIw-XUP{text-decoration:none}._1FoQzNHcvCPp1q{margin-top:0;margin-bottom:0}._3WNLfRSLnnkkmi{width:100%;margin-bottom:8px;min-height:72px;background-color:#fff;border-radius:3px;box-sizing:border-box;box-shadow:0 1px 0 0 rgba(9,30,66,.25);display:block;padding-bottom:6px;position:relative;overflow:hidden}.F3X6m84g4ieEPZ{padding:8px 8px 0}._1lfupGZ_Pw3Omh{background-color:#fff;border:1px solid #00000000;box-shadow:none;padding:0;overflow:hidden;overflow-wrap:break-word;resize:none;height:60px}._1lfupGZ_Pw3Omh:focus,._1lfupGZ_Pw3Omh:hover{box-shadow:none;background-color:transparent}",""]),t.locals={createCardButton:"_2NkSOgcUn7Xcve",editTemplateLink:"_2RfGKd4tIw-XUP",editTemplateButton:"_1FoQzNHcvCPp1q",templateCard:"_3WNLfRSLnnkkmi",templateCardNameContainer:"F3X6m84g4ieEPZ",templateCardEditTitle:"_1lfupGZ_Pw3Omh"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/TemplateCardComposer.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1z6lMwQy3ObsrK{border-radius:3px;color:#5e6c84;display:flex;flex:0 0 auto;padding:4px 8px;position:relative;text-decoration:none;-webkit-user-select:none;user-select:none;cursor:pointer}._1z6lMwQy3ObsrK ._38xwr8TrHEbGDN{color:#6b778c;margin-right:2px;width:20px;height:20px;display:inline-flex;justify-content:center;align-items:center}._1z6lMwQy3ObsrK:hover{background-color:rgba(9,30,66,.08);color:#172b4d;text-decoration:none}._1z6lMwQy3ObsrK:hover ._38xwr8TrHEbGDN{color:#42526e}._1z6lMwQy3ObsrK:active{background-color:rgba(9,30,66,.13)}._3730WlziYhHDQa,._3730WlziYhHDQa:focus,._3730WlziYhHDQa:hover{background:none;border:none;box-shadow:none;height:auto!important;margin-bottom:4px!important;max-height:162px;min-height:54px;overflow-y:auto;padding:0;resize:none}._3FwclAq3n9xe43{display:flex}._3yXlJeRn0Etb5h{margin-bottom:0}.p7jyk-R-Ofxu1z{margin-left:8px;cursor:pointer}.p7jyk-R-Ofxu1z ._1TgqRIZIIMKMV-{display:inline-flex;height:32px;align-items:center}.p7jyk-R-Ofxu1z:hover ._1TgqRIZIIMKMV- svg{color:#172b4d}._3amdh54KEULv4z{background-color:#fff;border-radius:3px;box-shadow:0 1px 0 rgba(9,30,66,.25);cursor:pointer;display:block;margin-bottom:8px;max-width:300px;min-height:20px;position:relative;text-decoration:none;z-index:0}._3amdh54KEULv4z a{color:#172b4d}._2X-1PEvh3NMQUN{overflow:hidden;padding:6px 8px 2px;position:relative;z-index:10}",""]),t.locals={openTemplateCardComposer:"_1z6lMwQy3ObsrK",iconAdd:"_38xwr8TrHEbGDN",templateCardComposerTextarea:"_3730WlziYhHDQa",listCardButtons:"_3FwclAq3n9xe43",addButton:"_3yXlJeRn0Etb5h",closeButton:"p7jyk-R-Ofxu1z",closeIcon:"_1TgqRIZIIMKMV-",listCard:"_3amdh54KEULv4z",listCardDetails:"_2X-1PEvh3NMQUN"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CheckItemCheckbox/CheckItemCheckbox.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._EA9JLuDVP_37n{bottom:2px;left:6px}",""]),t.locals={checkItemCheckbox:"_EA9JLuDVP_37n"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CheckItemMemberBadge/CheckItemMemberBadge.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1pC09zm4yY8jn4{line-height:1;background-color:rgba(9,30,66,.04);align-items:center;justify-content:center}._1pC09zm4yY8jn4:hover{background-color:rgba(9,30,66,.08)}._1pC09zm4yY8jn4:active{background-color:rgba(9,30,66,.13)}",""]),t.locals={assigneeBadge:"_1pC09zm4yY8jn4"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CheckItemOverflowMenu/CheckItemOverflowMenu.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1dMl0-9xzq2nnB{text-align:left;width:100%;cursor:pointer;display:block;font-weight:400;padding:6px 12px;position:relative;background-color:unset;margin:unset}._1dMl0-9xzq2nnB:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none}._1dMl0-9xzq2nnB:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0}._1dMl0-9xzq2nnB:active ._1pIq3AiJ5h5dRn{color:#0079bf}._1dMl0-9xzq2nnB:active svg circle{stroke:#0079bf}._1dMl0-9xzq2nnB:focus{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0}._1dMl0-9xzq2nnB:focus ._1pIq3AiJ5h5dRn{color:#0079bf}._1dMl0-9xzq2nnB:focus svg circle{stroke:#0079bf}._1dMl0-9xzq2nnB:last-child{margin-bottom:8px}._3yWAcuVd_c3pxF{padding:6px 8px;display:block}._1OXMHvUOoBqn1D{height:20px;width:20px;border-radius:0;box-sizing:unset;padding:2px;margin:-2px;cursor:pointer;display:block}._1OXMHvUOoBqn1D:focus{outline:none}",""]),t.locals={overflowButton:"_1dMl0-9xzq2nnB","icon-sm":"_1pIq3AiJ5h5dRn",editableViewLink:"_3yWAcuVd_c3pxF",inlineEditViewLink:"_1OXMHvUOoBqn1D"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/ChecklistEducationBanner/ChecklistEducationBanner.less":function(e,t,n){var i=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".zR0IwLeuWUhwT8{padding:12px 16px;box-sizing:border-box;margin-left:40px;background-color:#eddbf4;background-image:url("+i(n("./resources/images/checklists/pointing-hand.svg"))+");background-repeat:no-repeat;background-position:400px 0;position:relative}._228u0oBjRyf8cP{line-height:16px;margin-bottom:8px}._1qSUUV_YosWbD8,._2diQbNrV2iSpKK,._228u0oBjRyf8cP{font-size:14px;max-width:380px}._1qSUUV_YosWbD8{color:#5e6c84}.hMpDzGr8w-B1F4{position:absolute;top:16px;right:16px;padding:0;background-color:transparent;line-height:14px;color:#42526e}.hMpDzGr8w-B1F4:hover{color:#505f79}.hMpDzGr8w-B1F4:active{color:#5e6c84}",""]),t.locals={banner:"zR0IwLeuWUhwT8",heading:"_228u0oBjRyf8cP",content:"_2diQbNrV2iSpKK",footer:"_1qSUUV_YosWbD8",dismiss:"hMpDzGr8w-B1F4"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/ChooseDate/ChooseDate.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2f0I_tTmloWZCp{display:flex;flex-direction:row;justify-content:space-between;margin-top:8px}._2f0I_tTmloWZCp button{flex:1;overflow:hidden;margin-right:8px}._2f0I_tTmloWZCp button:last-child{margin-right:0}",""]),t.locals={buttons:"_2f0I_tTmloWZCp"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/ChooseMember/ChooseMember.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2nNVAptGp6yi4G{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase}._3T1fx1UMd-8Lb7{padding:4px 8px 4px 4px;height:40px;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:100%;margin:0;background-color:transparent}._3T1fx1UMd-8Lb7._14xOHeP5QUB7V7,._3T1fx1UMd-8Lb7:focus,._3T1fx1UMd-8Lb7:hover{background-color:rgba(9,30,66,.04)}._3T1fx1UMd-8Lb7:active{background-color:#e4f0f6}._2aJCCMSwH-jyc2{flex:1;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._1vcWoKq4yr96kI{display:inline-block;margin-right:8px}._1wcUKrNOmyG3uG{color:#5e6c84;text-align:center;font-size:12px;line-height:16px;margin:8px 12px}._2YG-E0vYF9hSw8{width:100%;margin-top:16px}",""]),t.locals={heading:"_2nNVAptGp6yi4G",memberButton:"_3T1fx1UMd-8Lb7",highlight:"_14xOHeP5QUB7V7",memberName:"_2aJCCMSwH-jyc2",memberAvatar:"_1vcWoKq4yr96kI",memberOverflow:"_1wcUKrNOmyG3uG",removeButton:"_2YG-E0vYF9hSw8"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/DateRangePicker/DateRangePickerBadge.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._27-QCl8g_AaJW6{margin-bottom:0}._2D8ifQEWQGhYdd{font-size:12px;line-height:16px;padding:0 4px;text-transform:uppercase;border-radius:2px;margin:auto 0 auto 8px}._2D8ifQEWQGhYdd._3k86FQ_2Ap5QZ2{color:#fff;background-color:#61bd4f}._2D8ifQEWQGhYdd._27Ogp-JfTXve2l{color:#172b4d;background-color:#f2d600}._2D8ifQEWQGhYdd._3BSWtC2PcjfeqH,._2D8ifQEWQGhYdd.TSTXjupzrVa-x6{color:#fff;background-color:#ec9488}",""]),t.locals={button:"_27-QCl8g_AaJW6",dueDateStatusLozenge:"_2D8ifQEWQGhYdd","is-due-complete":"_3k86FQ_2Ap5QZ2","is-due-soon":"_27Ogp-JfTXve2l","is-due-now":"TSTXjupzrVa-x6","is-due-past":"_3BSWtC2PcjfeqH"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/DateRangePicker/DateRangePickerButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".WGodZ3Mk_ttRNL{width:100%;margin:8px 0 0;justify-content:left}.WGodZ3Mk_ttRNL>span{margin-left:-4px}.WGodZ3Mk_ttRNL .g1zlKNDb4U61jG{margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""]),t.locals={button:"WGodZ3Mk_ttRNL",buttonLabel:"g1zlKNDb4U61jG"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerActive.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2N560lTQ3WyptT{padding:4px 4px 4px 16px;background-color:rgba(9,30,66,.95);display:flex;align-items:center;justify-content:space-between;line-height:18px;font-weight:600;height:auto}._1MRQX_IJiyLODx{margin-right:8px}._2XwOJ2654HK9f7{align-items:center}._2XwOJ2654HK9f7,._3OjkzahPuddAwo,.nTLDRV8fEmYp_k{display:flex;flex-direction:row}._2xrxB8mjhio6GW{background-color:#5aac44;box-shadow:none;border:none;color:#fff;-webkit-text-decoration-line:none;text-decoration-line:none;font-size:14px;line-height:20px;font-weight:400;min-width:-webkit-fit-content;min-width:fit-content;margin:0;padding:6px 12px;border-radius:3px;transition:background .1s ease-out,box-shadow .15s cubic-bezier(.47,.03,.49,1.38);transition-duration:.1s,.15s;white-space:nowrap}._2xrxB8mjhio6GW svg circle{stroke:#fff}._2xrxB8mjhio6GW:hover{background-color:#61bd4f;box-shadow:none;border:none;color:#fff}._2xrxB8mjhio6GW:hover svg circle{stroke:#fff}._2xrxB8mjhio6GW:active{background-color:#49852e;box-shadow:none;border:none;color:#fff;outline:0}._2xrxB8mjhio6GW:active svg circle{stroke:#fff}._1qtkcneZ81jS1L{background-color:#0079bf;box-shadow:none;border:none;color:#fff}._1qtkcneZ81jS1L svg circle{stroke:#fff}._1qtkcneZ81jS1L:hover{background-color:#026aa7;box-shadow:none;border:none;color:#fff}._1qtkcneZ81jS1L:hover svg circle{stroke:#fff}._1qtkcneZ81jS1L:active{background-color:#055a8c;box-shadow:none;border:none;color:#fff;outline:0}._1qtkcneZ81jS1L:active svg circle{stroke:#fff}._2PQZa2WycxY8zh{margin:0;padding:0;min-width:34px}._2PQZa2WycxY8zh,._2PQZa2WycxY8zh:hover{background-color:transparent}._3Zh8CvMx7ueezh{margin-left:2px;color:#42526e}._3Zh8CvMx7ueezh:hover{color:#fff}._3-6W2WtTj2jZOi{color:#a5adba;display:flex;align-items:center;margin-right:8px;margin-bottom:3px;-webkit-text-decoration-line:underline;text-decoration-line:underline;font-size:12px;line-height:16px;font-weight:500;cursor:pointer}._3-6W2WtTj2jZOi:hover{color:#fff}@media only screen and (max-width:600px),only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px){.nTLDRV8fEmYp_k{flex-direction:column-reverse;align-items:flex-end}._2PQZa2WycxY8zh{align-self:flex-start}._3-6W2WtTj2jZOi{margin-right:0}.nTLDRV8fEmYp_k{margin-left:20px}}._1Fjdy94ppLYU5t{color:#fff;background-color:rgba(9,30,66,.95)}._36guWW-fdGEyKw{display:flex;justify-content:center;align-items:center;background-color:#42526e;border-radius:3px;width:24px;height:24px;margin:0 4px}",""]),t.locals={container:"_2N560lTQ3WyptT",emoji:"_1MRQX_IJiyLODx",bcContainer:"_2XwOJ2654HK9f7",ctaContainer:"_3OjkzahPuddAwo",linkContainer:"nTLDRV8fEmYp_k",linkButton:"_2xrxB8mjhio6GW",linkButtonExp:"_1qtkcneZ81jS1L",closeButton:"_2PQZa2WycxY8zh",closeIcon:"_3Zh8CvMx7ueezh",linkCta:"_3-6W2WtTj2jZOi",bannerBg:"_1Fjdy94ppLYU5t",daysContainer:"_36guWW-fdGEyKw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerExpired.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._37x93_BLTtpSop{padding:4px 4px 4px 16px;background-color:rgba(9,30,66,.95);display:flex;align-items:center;justify-content:space-between;line-height:18px;font-weight:600;height:auto}._2n9meSIT_QtyH8{margin-right:8px}._2U26G_mw-D-OCX{align-items:center}._1Hbz1myrnCU46s,._2U26G_mw-D-OCX,._3G4H_sOWXC38KP{display:flex;flex-direction:row}._2mY0j81O9kAMfU{background-color:#5aac44;box-shadow:none;border:none;color:#fff;-webkit-text-decoration-line:none;text-decoration-line:none;font-size:14px;line-height:20px;font-weight:400;min-width:-webkit-fit-content;min-width:fit-content;margin:0;padding:6px 12px;border-radius:3px;transition:background .1s ease-out,box-shadow .15s cubic-bezier(.47,.03,.49,1.38);transition-duration:.1s,.15s;white-space:nowrap}._2mY0j81O9kAMfU svg circle{stroke:#fff}._2mY0j81O9kAMfU:hover{background-color:#61bd4f;box-shadow:none;border:none;color:#fff}._2mY0j81O9kAMfU:hover svg circle{stroke:#fff}._2mY0j81O9kAMfU:active{background-color:#49852e;box-shadow:none;border:none;color:#fff;outline:0}._2mY0j81O9kAMfU:active svg circle{stroke:#fff}._1jjwxMFRxt6A1i{background-color:#0079bf;box-shadow:none;border:none;color:#fff}._1jjwxMFRxt6A1i svg circle{stroke:#fff}._1jjwxMFRxt6A1i:hover{background-color:#026aa7;box-shadow:none;border:none;color:#fff}._1jjwxMFRxt6A1i:hover svg circle{stroke:#fff}._1jjwxMFRxt6A1i:active{background-color:#055a8c;box-shadow:none;border:none;color:#fff;outline:0}._1jjwxMFRxt6A1i:active svg circle{stroke:#fff}._1thjxAXGC3UsrM{margin:0;padding:0;min-width:34px}._1thjxAXGC3UsrM,._1thjxAXGC3UsrM:hover{background-color:transparent}._3jB-w4L8Uae--t{margin-left:2px;color:#42526e}._3jB-w4L8Uae--t:hover{color:#fff}.cj88FvRlJZ5HVe{color:#a5adba;display:flex;align-items:center;margin-right:8px;margin-bottom:3px;-webkit-text-decoration-line:underline;text-decoration-line:underline;font-size:12px;line-height:16px;font-weight:500;cursor:pointer}.cj88FvRlJZ5HVe:hover{color:#fff}@media only screen and (max-width:600px),only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px){._3G4H_sOWXC38KP{flex-direction:column-reverse;align-items:flex-end}._1thjxAXGC3UsrM{align-self:flex-start}.cj88FvRlJZ5HVe{margin-right:0}._3G4H_sOWXC38KP{margin-left:20px}}._1wo3_RPE13pGLp{color:#172b4d;background-color:#d6ecd2}.cj88FvRlJZ5HVe{color:#172b4d;margin-top:5px}.cj88FvRlJZ5HVe:hover{color:#42526e}",""]),t.locals={container:"_37x93_BLTtpSop",emoji:"_2n9meSIT_QtyH8",bcContainer:"_2U26G_mw-D-OCX",ctaContainer:"_1Hbz1myrnCU46s",linkContainer:"_3G4H_sOWXC38KP",linkButton:"_2mY0j81O9kAMfU",linkButtonExp:"_1jjwxMFRxt6A1i",closeButton:"_1thjxAXGC3UsrM",closeIcon:"_3jB-w4L8Uae--t",linkCta:"cj88FvRlJZ5HVe",expiredBg:"_1wo3_RPE13pGLp"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialPlanSelection.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".zy_ZQ64E_28jRU{padding:8px 32px 24px;text-align:center}.zy_ZQ64E_28jRU h1{font-size:24px;margin-top:0;letter-spacing:-.01px;line-height:28px;padding-top:20px;font-weight:500}.zy_ZQ64E_28jRU h1 img{vertical-align:text-bottom;margin:0 8px}.zy_ZQ64E_28jRU h2{font-size:14px;font-weight:400;line-height:20px;margin:8px 0 0}@media only screen and (max-width:750px){.zy_ZQ64E_28jRU{padding:16px}.zy_ZQ64E_28jRU h1{padding-top:0;font-size:20px;margin-bottom:8px}.zy_ZQ64E_28jRU h2{line-height:20px}}._16lmArv_imxoEI{color:#89609e;font-size:33px}._2PpmAPYBjGdKnA{display:flex;flex-direction:row;padding:0 24px 8px}@media only screen and (max-width:750px){._2PpmAPYBjGdKnA{padding:0 16px 8px}}._2Oi3zDyOZwlD4Q,._3slODlZkmgnMCb,.tbggjH8n6OtAXV{display:flex;flex:1;flex-direction:column;padding:16px;border-radius:3px;border:3px solid #f4f5f7}._2Oi3zDyOZwlD4Q h2,._3slODlZkmgnMCb h2,.tbggjH8n6OtAXV h2{text-align:center;font-size:16px;font-weight:500;line-height:20px;margin:0;padding:4px 0 5px;color:#484553}._2Oi3zDyOZwlD4Q ._20YfSrIWe28hiu,._3slODlZkmgnMCb ._20YfSrIWe28hiu,.tbggjH8n6OtAXV ._20YfSrIWe28hiu{font-weight:700;margin-bottom:0;font-size:11px;text-align:center;color:#6c547b}._2Oi3zDyOZwlD4Q p,._3slODlZkmgnMCb p,.tbggjH8n6OtAXV p{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;padding:8px 0 0;text-align:center}._2Oi3zDyOZwlD4Q ul,._3slODlZkmgnMCb ul,.tbggjH8n6OtAXV ul{flex:1}@media only screen and (max-width:750px){._2Oi3zDyOZwlD4Q,._3slODlZkmgnMCb,.tbggjH8n6OtAXV{position:relative;padding:16px 8px 8px}._2Oi3zDyOZwlD4Q h2,._3slODlZkmgnMCb h2,.tbggjH8n6OtAXV h2{font-size:14px;margin-bottom:8px}._2Oi3zDyOZwlD4Q p,._3slODlZkmgnMCb p,.tbggjH8n6OtAXV p{padding:4px 0;font-size:12px}}._3slODlZkmgnMCb,.tbggjH8n6OtAXV{margin:8px -3px 8px 0}._3slODlZkmgnMCb h2,.tbggjH8n6OtAXV h2{color:#5e6c84}@media only screen and (max-width:750px){._3slODlZkmgnMCb,.tbggjH8n6OtAXV{display:none}}._2Oi3zDyOZwlD4Q{position:relative;background-color:#f7f0fa;border-color:#eddbf4}@media only screen and (max-width:750px){._2Oi3zDyOZwlD4Q h2{display:none}}._3D-KcI-HT3kXuQ{background-color:#f2d600;color:#172b4d;border-radius:3px;display:inline-block;height:18px;padding:0 12px;font-size:12px;text-align:center;line-height:18px;align-self:center;margin-top:-25px}._3slODlZkmgnMCb,.f_YzlIq6WPNxB_{margin:16px -3px 16px 0}._2Oi3zDyOZwlD4Q.XXCxmhLu-yYmu2 ._3D-KcI-HT3kXuQ{font-weight:700;padding:2px 12px;font-size:11px}._1Rt7DE1tx8CySC{display:flex;padding:8px;text-align:left}._1Rt7DE1tx8CySC ._3yDwpWXQhoFxdt{color:#42526e;margin-right:8px}@media only screen and (max-width:750px){._1Rt7DE1tx8CySC{padding:8px 0}._1Rt7DE1tx8CySC ._3yDwpWXQhoFxdt{width:16px;height:16px;line-height:16px;font-size:16px;margin-right:4px}}._1d-dFKXscj4xfb{display:flex}._3zwlTiSt3cEQDO{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;display:inline;color:#172b4d;line-height:20px;flex:1;margin-left:10px}@media only screen and (max-width:750px){._3zwlTiSt3cEQDO{font-size:14px;line-height:16px}}._1J-F5vGwoeXF1a{cursor:pointer}._1J-F5vGwoeXF1a ._3zwlTiSt3cEQDO{border-bottom:2px dashed #97a0af;padding-bottom:1px}._2EiF7tEJdDzjVI{display:flex;flex-direction:column;padding:0 24px;margin-top:8px}._2EiF7tEJdDzjVI p{flex:1;text-align:center;color:#8993a4;font-size:12px}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L{display:flex;justify-content:center;align-items:center;margin-bottom:16px}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L span{color:#5e6c84;margin-top:20px;margin:0;text-transform:uppercase;padding-right:8px;color:#6b778c;font-size:12px;line-height:16px;font-weight:600}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L img{padding:0 8px}._2EiF7tEJdDzjVI ._1A9FfYQGkg0DaB{font-size:12px;line-height:16px;color:#5e6c84;margin-bottom:16px}._2EiF7tEJdDzjVI ._1A9FfYQGkg0DaB span{text-decoration:underline}._2EiF7tEJdDzjVI ._1qINNpZO_1hOCK{align-self:center;display:inline-block;background:rgba(9,30,66,.04);border-radius:3px;padding:6px 12px;font-size:14px;line-height:20px;color:#172b4d;margin-bottom:16px;text-decoration:none}._2EiF7tEJdDzjVI ._1qINNpZO_1hOCK:hover{background:rgba(9,30,66,.13)}@media only screen and (max-width:750px){._2EiF7tEJdDzjVI{padding:0 16px}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L{flex-wrap:wrap}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L span{display:block;width:100%;margin:8px 0}}._1IGMnFTTE1yvnJ{mix-blend-mode:hard-light}",""]),t.locals={heading:"zy_ZQ64E_28jRU",headingIcon:"_16lmArv_imxoEI",bodyWrapper:"_2PpmAPYBjGdKnA",bcPlan:"_2Oi3zDyOZwlD4Q",freePlan:"tbggjH8n6OtAXV",staPlan:"_3slODlZkmgnMCb",subLabel:"_20YfSrIWe28hiu",recommendedLabel:"_3D-KcI-HT3kXuQ",freePlanNusku:"f_YzlIq6WPNxB_",bcPlanNusku:"XXCxmhLu-yYmu2",featureItem:"_1Rt7DE1tx8CySC",featureIcon:"_3yDwpWXQhoFxdt",featureItemWrapper:"_1d-dFKXscj4xfb",featureContent:"_3zwlTiSt3cEQDO",tooltipTarget:"_1J-F5vGwoeXF1a",actions:"_2EiF7tEJdDzjVI",trustedBy:"_1ywZNvfU6aYi4L",afterTrial:"_1A9FfYQGkg0DaB",secondaryCta:"_1qINNpZO_1hOCK",spinner:"_1IGMnFTTE1yvnJ"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelection.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1or2fRlzUFCY7b{padding:16px 32px;text-align:center}._1or2fRlzUFCY7b h1{font-size:24px;margin-top:0;letter-spacing:-.01px;line-height:28px;padding-top:20px}._1or2fRlzUFCY7b h2{font-size:14px;font-weight:400;margin:8px 0 0}@media only screen and (max-width:750px){._1or2fRlzUFCY7b{padding:16px}._1or2fRlzUFCY7b h1{padding-top:0;font-size:20px;margin-bottom:8px}._1or2fRlzUFCY7b h2{line-height:20px}}.Un6lamEaRbz4uy{color:#89609e;font-size:33px}.iy3rXmWQICgxb3{display:flex;flex-direction:row;padding:0 16px 8px}._1iK0jrL0RcWs8y,._1RfayTVWAZtHjj{display:flex;flex:1;flex-direction:column;padding:16px}._1iK0jrL0RcWs8y h2,._1RfayTVWAZtHjj h2{text-align:center;font-size:16px;line-height:20px;margin:0;padding:4px 0 5px}._1iK0jrL0RcWs8y p,._1RfayTVWAZtHjj p{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;color:#5e6c84;padding:8px 0 0;text-align:center}._1iK0jrL0RcWs8y ul,._1RfayTVWAZtHjj ul{flex:1}@media only screen and (max-width:750px){._1iK0jrL0RcWs8y,._1RfayTVWAZtHjj{position:relative;padding:16px 8px 8px}._1iK0jrL0RcWs8y h2,._1RfayTVWAZtHjj h2{font-size:14px;margin-bottom:8px}._1iK0jrL0RcWs8y p,._1RfayTVWAZtHjj p{padding:4px 0;font-size:12px}}._1iK0jrL0RcWs8y h2{color:#5e6c84}._1RfayTVWAZtHjj{position:relative;background-color:#f7f0fa;color:#172b4d}._2ShULneJqBlULX{background-color:#f2d600;border-radius:3px;width:89px;height:18px;padding:1px;transform:rotate(10.21deg);position:absolute;right:-7px;top:-8px;font-size:12px;text-align:center;line-height:16px}@media only screen and (max-width:750px){._2ShULneJqBlULX{position:absolute;top:-12px;transform:translateX(-50%);left:50%;font-size:10px;width:80px;height:16px}}._3JIQjFv2GP7nbR{display:flex;padding:8px}._3JIQjFv2GP7nbR ._1Fm4qaiAuHnXXK{color:#42526e;margin-right:8px;width:20px;height:20px;flex:0 0 20px;line-height:20px}@media only screen and (max-width:750px){._3JIQjFv2GP7nbR{padding:8px 0}._3JIQjFv2GP7nbR ._1Fm4qaiAuHnXXK{width:16px;height:16px;line-height:16px;font-size:16px;margin-right:4px}}._3EY0dN0ATMPSbV{display:flex}._1mFi1D8Y_l8YRL{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;display:inline;color:#172b4d;line-height:20px;flex:1}@media only screen and (max-width:750px){._1mFi1D8Y_l8YRL{font-size:14px;line-height:16px}}._27or2EkLlTB6B7{cursor:pointer}._27or2EkLlTB6B7 ._1mFi1D8Y_l8YRL{border-bottom:2px dashed #97a0af;padding-bottom:1px}._1ivmjdL7obkKr7{display:flex;align-items:center;flex-direction:column;padding:0 32px;margin-top:8px}._1ivmjdL7obkKr7 p{width:100%;text-align:center;color:#8993a4;font-size:12px}._1G7HxsteMCpeIo{color:#8993a4;margin:12px 0}._1G7HxsteMCpeIo:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._1G7HxsteMCpeIo:focus{outline:5px auto -webkit-focus-ring-color}}._1G7HxsteMCpeIo:hover{color:#5e6c84}",""]),t.locals={heading:"_1or2fRlzUFCY7b",headingIcon:"Un6lamEaRbz4uy",bodyWrapper:"iy3rXmWQICgxb3",bcPlan:"_1RfayTVWAZtHjj",freePlan:"_1iK0jrL0RcWs8y",recommendedLabel:"_2ShULneJqBlULX",featureItem:"_3JIQjFv2GP7nbR",featureIcon:"_1Fm4qaiAuHnXXK",featureItemWrapper:"_3EY0dN0ATMPSbV",featureContent:"_1mFi1D8Y_l8YRL",tooltipTarget:"_27or2EkLlTB6B7",actions:"_1ivmjdL7obkKr7",learnMore:"_1G7HxsteMCpeIo"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelectionOverlay.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".TAPXNueu2hw5pN{box-shadow:0 8px 16px -4px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);width:600px;background:#fff;border-radius:3px;border:1px solid rgba(9,30,66,.08);padding:8px;position:relative;outline:0;transition:height .1s ease-in-out}@media only screen and (max-width:750px){.TAPXNueu2hw5pN{max-width:none;min-width:0;width:100%;border:0;display:flex;flex-direction:column;flex-grow:1}}._3f1iB7LHb9zRPD{width:800px}@media only screen and (max-width:750px){._3f1iB7LHb9zRPD{max-width:none;min-width:0;width:100%;border:0;display:flex;flex-direction:column;flex-grow:1}}._1y7opsmGmOEJWT{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6}._1y7opsmGmOEJWT:focus,._1y7opsmGmOEJWT:hover{opacity:1}._2ZpqyegRfFbQ9D{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6;right:6px}._2ZpqyegRfFbQ9D:focus,._2ZpqyegRfFbQ9D:hover{opacity:1}.Gh_AD0DB2L8_4d{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6;left:6px}.Gh_AD0DB2L8_4d:focus,.Gh_AD0DB2L8_4d:hover{opacity:1}._3xswMGw_nfN1Th{display:flex;align-items:center;justify-content:center;border-radius:3px;color:#fff;background:#0079bf;text-decoration:none;margin:0;font-weight:400;font-size:16px;height:40px;width:100%}._3xswMGw_nfN1Th:hover{color:#fff;background:#026aa7}.TeZmHGg1-RhPOS{display:flex;align-items:center;justify-content:center;width:100%;margin:0 0 16px;font-size:14px;font-weight:400;line-height:20px;padding:8px 0}",""]),t.locals={overlay:"TAPXNueu2hw5pN",overlayExpanded:"_3f1iB7LHb9zRPD","top-button":"_1y7opsmGmOEJWT",close:"_2ZpqyegRfFbQ9D",back:"Gh_AD0DB2L8_4d",planSelectionCtaButton:"_3xswMGw_nfN1Th",freeTrialPlanSelectionCtaButton:"TeZmHGg1-RhPOS"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/UpsellOverlay.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".lifmGNSoimxSIN{padding:8px;background:#fff;border-radius:3px}._1OYaD5X4bOFzHP{background:#fdfae5;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:16px 26px;text-align:center}._1OYaD5X4bOFzHP h3{margin-top:12px}._1OYaD5X4bOFzHP p{margin-top:6px;margin-bottom:16px}._2r0TugWKrjdprP{margin-top:6px;background:#f2d600;padding:2px 4px;border-radius:3px;font-size:11px}._2GUkxuwG8-jCEf{padding:16px 16px 0}._1NTgUUWh46GWue{display:flex;align-items:center;justify-content:space-between;margin-top:-10px;height:40px}._1NTgUUWh46GWue h3{color:#6c547b}._1NTgUUWh46GWue img{transform:rotate(10deg)}._1k-y-i8bm9Rl7F{display:flex;align-items:baseline;margin-bottom:10px}.tV0YibQqlji1H7{margin-bottom:18px}._239mqRKuaByA6p{width:6px;height:6px;background-color:#0079bf;border-radius:50%;margin-right:6px;position:relative;top:-2px}._2mVouPFPjhrU6J{height:32px;padding:0}.-JasI9K5v4uv56{mix-blend-mode:hard-light}",""]),t.locals={upsellOverlay:"lifmGNSoimxSIN",upsellOverlayHeader:"_1OYaD5X4bOFzHP",upsellOverlayTag:"_2r0TugWKrjdprP",upsellOverlayBody:"_2GUkxuwG8-jCEf",upsellOverlayBodyHeader:"_1NTgUUWh46GWue",upsellOverlayThing:"_1k-y-i8bm9Rl7F",upsellOverlayThings:"tV0YibQqlji1H7",upsellOverlayThingBullet:"_239mqRKuaByA6p",button:"_2mVouPFPjhrU6J",spinner:"-JasI9K5v4uv56"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/NewFeature/NewPill.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1vjyFh9E-pUCZA:focus{border:none;box-shadow:none}._3j76mYiHVAvmoL{cursor:pointer;-webkit-user-select:none;user-select:none}._1Xn5PVqTB27keA{font-weight:600}",""]),t.locals={unstyledLink:"_1vjyFh9E-pUCZA",link:"_3j76mYiHVAvmoL",lozenge:"_1Xn5PVqTB27keA"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverConfirm/PopoverConfirm.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".G7qauLECfKVgm8{padding:0 12px;word-break:break-word}.G7qauLECfKVgm8 p{margin:0 0 16px}",""]),t.locals={confirmContainer:"G7qauLECfKVgm8"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpAttachmentSectionSuggestion/ClaimedAttachment.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3BBYGzDuxp06By{cursor:pointer;max-width:248px}._3BBYGzDuxp06By:hover .LL1EfVvqK6y2JW{background-color:#dfe1e6}._3BBYGzDuxp06By:active .LL1EfVvqK6y2JW{background-color:#e4f0f6}.LL1EfVvqK6y2JW{background-color:#ebecf0;border-radius:3px;height:128px;display:flex;justify-content:center;align-items:center;text-decoration:none}.LL1EfVvqK6y2JW:hover{background-color:#dfe1e6}.LL1EfVvqK6y2JW:active{background-color:#e4f0f6}.KRi-ac5z6rPLaW{display:grid;grid-template-columns:minmax(0,1fr) 32px;margin-top:4px}._3bUHc3cbl9YAZQ{display:inline-block;font-size:14px;line-height:20px;max-height:60px;overflow:hidden;text-overflow:ellipsis;word-break:break-all}._17aXLgrWSARrMF{color:#5e6c84;display:flex;align-items:center;font-size:12px;line-height:16px}._3vKHLDYJ2zqews{padding:0 4px}._2yBnX3WMY_Jg0L{align-items:center;border-radius:3px;cursor:pointer;display:flex;height:32px;justify-content:center;width:32px}._2yBnX3WMY_Jg0L:hover{background-color:rgba(9,30,66,.08)}._2yBnX3WMY_Jg0L:active{background-color:rgba(9,30,66,.13)}._1JTsFgcUZlFeZ9{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:70%}",""]),t.locals={attachmentCard:"_3BBYGzDuxp06By",attachmentCover:"LL1EfVvqK6y2JW",attachmentDetail:"KRi-ac5z6rPLaW",attachmentTitle:"_3bUHc3cbl9YAZQ",attachmentMeta:"_17aXLgrWSARrMF",metaSeparator:"_3vKHLDYJ2zqews",attachmentMenu:"_2yBnX3WMY_Jg0L",subtitle:"_1JTsFgcUZlFeZ9"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpAttachmentSectionSuggestion/PowerUpAttachmentSectionSuggestion.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3wklLrytvmSjtz{padding:0;position:relative;margin:0 0 8px 40px}._2zKPW_sdAXWcbt{margin:0}._3BWETzuLlD1vYL{left:-40px;padding:4px;position:absolute;top:2px;filter:brightness(0) invert(34%) sepia(10%) saturate(1614%) hue-rotate(180deg) brightness(87%) contrast(91%)}._20sYKRoiwK6UKb{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:16px;grid-row-gap:16px}._1D2XrOJRdW1kgI{color:#5e6c84;font-size:12px;line-height:16px}.CxyVNNgYhxMiPz{filter:brightness(0) invert(34%) sepia(10%) saturate(1614%) hue-rotate(180deg) brightness(87%) contrast(91%)}._2ci0iHKbF0nuFY{justify-content:space-between}._2ci0iHKbF0nuFY,._3NAu_lOWqrslp6,.Q0EuOR_6fYpQga{align-items:center;display:flex}._3NAu_lOWqrslp6{height:32px;justify-content:center;margin:0 0 0 8px;max-height:32px}._1-2G4AJJD4paPT{background-color:rgba(9,30,66,.04);color:#172b4d}._1-2G4AJJD4paPT .CxyVNNgYhxMiPz{margin-right:8px}._1-2G4AJJD4paPT:hover{background-color:rgba(9,30,66,.08)}._1-2G4AJJD4paPT:active{background-color:#e4f0f6}._1-2G4AJJD4paPT span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}._1N7lj-L6GDDqLS{width:32px;background-color:rgba(9,30,66,.04)}._1N7lj-L6GDDqLS:hover{background-color:rgba(9,30,66,.08)}._1N7lj-L6GDDqLS:active,._1N7lj-L6GDDqLS:focus{background-color:#e4f0f6}",""]),t.locals={moduleTitleBlock:"_3wklLrytvmSjtz",moduleTitle:"_2zKPW_sdAXWcbt",mark:"_3BWETzuLlD1vYL",attachmentsGrid:"_20sYKRoiwK6UKb",sectionMeta:"_1D2XrOJRdW1kgI",btnMark:"CxyVNNgYhxMiPz",headerContent:"_2ci0iHKbF0nuFY",headerActions:"Q0EuOR_6fYpQga",headerBtn:"_3NAu_lOWqrslp6",enableBtn:"_1-2G4AJJD4paPT",dismissBtn:"_1N7lj-L6GDDqLS"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCode.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2SXsbBVkQNTN5f{text-align:center}.UDLZXx4mmLzkon{overflow:hidden;display:flex;align-items:center}.UDLZXx4mmLzkon ._2MgI0WCov9Av8r{margin:8px 16px 8px 0;height:100px;width:100px;flex:none}.UDLZXx4mmLzkon ._2g4fs4K3OjsfQE{padding-top:35px}.UDLZXx4mmLzkon button{margin-left:0!important}._33Eoe218B0nZfl{margin-bottom:0}._2MgI0WCov9Av8r{background:#fff;height:120px;width:120px;margin:16px auto;position:relative}._2MgI0WCov9Av8r ._2g4fs4K3OjsfQE{padding-top:45px}._2MgI0WCov9Av8r img{max-width:100%}._2MgI0WCov9Av8r small{display:none}._2MgI0WCov9Av8r i:after,._2MgI0WCov9Av8r i:before{content:"";height:15px;width:15px;border:0 solid #000;position:absolute}._2MgI0WCov9Av8r i._1tJv0bktuj_Bge:after,._2MgI0WCov9Av8r i._1tJv0bktuj_Bge:before{top:1px;border-top-width:2px}._2MgI0WCov9Av8r i._1tJv0bktuj_Bge:before{border-top-left-radius:8px;left:1px;border-left-width:2px}._2MgI0WCov9Av8r i._1tJv0bktuj_Bge:after{border-top-right-radius:8px;right:1px;border-right-width:2px}._2MgI0WCov9Av8r i._1sDgnTFUQL1B1D:after,._2MgI0WCov9Av8r i._1sDgnTFUQL1B1D:before{bottom:1px;border-bottom-width:2px}._2MgI0WCov9Av8r i._1sDgnTFUQL1B1D:before{border-bottom-left-radius:8px;left:1px;border-left-width:2px}._2MgI0WCov9Av8r i._1sDgnTFUQL1B1D:after{border-bottom-right-radius:8px;right:1px;border-right-width:2px}',""]),t.locals={qrCodeContent:"_2SXsbBVkQNTN5f",qrCodeInline:"UDLZXx4mmLzkon",qrCodeImage:"_2MgI0WCov9Av8r",qrCodeSpinner:"_2g4fs4K3OjsfQE",button:"_33Eoe218B0nZfl",top:"_1tJv0bktuj_Bge",bottom:"_1sDgnTFUQL1B1D"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodePopover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2HHFO6xK0ghCTR{cursor:pointer;text-decoration:underline}",""]),t.locals={showQrCodeLink:"_2HHFO6xK0ghCTR"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodeToggle.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2lLml0WXXoiseT{cursor:pointer;display:inline-block;margin-bottom:8px;text-decoration:underline}",""]),t.locals={showQrCodeLink:"_2lLml0WXXoiseT"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/SuggestionsSettings/SuggestionsSettings.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".l0cBXt9_KRr-DC{width:100%}",""]),t.locals={stop:"l0cBXt9_KRr-DC"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptBanner.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1fEBhj-UvPpb5m{margin-bottom:16px;text-align:center}._1fEBhj-UvPpb5m header{margin-bottom:25px}._1fEBhj-UvPpb5m header h2{font-size:24px;line-height:28px;margin:0 0 12px}._1fEBhj-UvPpb5m header p{font-size:16px}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP{display:flex;justify-content:center}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G{flex:0.25;padding:0 12px;box-sizing:border-box}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G img{max-width:112px;height:112px;margin-bottom:8px}._1fEBhj-UvPpb5m ._1P8a7USWLOyfwB{margin-bottom:20px}._1fEBhj-UvPpb5m a{border-radius:3px;color:#5e6c84;display:block;margin:2px 0;padding:6px 12px;position:relative;-webkit-user-select:none;user-select:none;transition-property:background-color,border-color,box-shadow;transition-duration:85ms;transition-timing-function:ease;margin:8px auto 10px;width:136px;text-align:center}._1fEBhj-UvPpb5m a svg circle{stroke:#5e6c84}._1fEBhj-UvPpb5m a:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;color:#172b4d}._1fEBhj-UvPpb5m a:hover svg circle{stroke:#172b4d}._1fEBhj-UvPpb5m a:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0}._1fEBhj-UvPpb5m a:active .y16zQbccbIof-4{color:#0079bf}._1fEBhj-UvPpb5m a:active svg circle{stroke:#0079bf}._1fEBhj-UvPpb5m .gGi80gWJGHMsGh{margin-top:16px}@media only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px){._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP{display:block}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G{display:block;margin:0 auto;max-width:400px;width:100%}}",""]),t.locals={upgradePromptBanner:"_1fEBhj-UvPpb5m",features:"_3DhK0Y16GdWbDP",feature:"_2UXv9aODhh-z-G",epilogue:"_1P8a7USWLOyfwB","icon-sm":"y16zQbccbIof-4",freeTrialButton:"gGi80gWJGHMsGh"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._8RbxdseVV49R6m{border-radius:3px;box-sizing:border-box;display:inline-flex;overflow:hidden;padding:6px 12px 6px 6px;position:relative;text-decoration:none}.BhLk7hyE1L79ei{background:#eddbf4}.BhLk7hyE1L79ei:hover{background:#dfc0eb}.BhLk7hyE1L79ei .mF0y-rlipxpKvj{background:#89609e}.BhLk7hyE1L79ei ._3hOaPVUXoPh9lj svg{color:#fff}.BhLk7hyE1L79ei .SjSnrkndhUYwrg{color:#42526e}._3jzxIyxxHiYEAx{background:#89609e}._3jzxIyxxHiYEAx:hover{background:#583f68}._3jzxIyxxHiYEAx:hover ._3hOaPVUXoPh9lj svg{color:#583f68}._3jzxIyxxHiYEAx .mF0y-rlipxpKvj{background:#fff}._3jzxIyxxHiYEAx ._3hOaPVUXoPh9lj svg{color:#89609e}._3jzxIyxxHiYEAx .SjSnrkndhUYwrg{color:#fff}.mF0y-rlipxpKvj{border-radius:2px;height:20px;margin-right:8px;width:20px}._22GuzMUR-IlR-Z{width:100%}._3hOaPVUXoPh9lj,._22GuzMUR-IlR-Z{display:flex;justify-content:center}._3hOaPVUXoPh9lj{height:20px;align-items:center}",""]),t.locals={upgradePromptButton:"_8RbxdseVV49R6m",upgradePromptButtonLightTheme:"BhLk7hyE1L79ei",upgradePromptButtonIconBackground:"mF0y-rlipxpKvj",upgradePromptButtonIcon:"_3hOaPVUXoPh9lj",upgradePromptButtonCTA:"SjSnrkndhUYwrg",upgradePromptButtonDarkTheme:"_3jzxIyxxHiYEAx",upgradePromptFitContainer:"_22GuzMUR-IlR-Z"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2jRNa-bQL5DUcd{border-radius:3px;box-sizing:border-box;display:inline-flex;overflow:hidden;padding:6px 12px 6px 6px;position:relative;text-decoration:none}._3sE1kqqgsyuHVp{background:#eddbf4}._3sE1kqqgsyuHVp:hover{background:#dfc0eb}._3sE1kqqgsyuHVp ._3u5wBPt5mgOMqu{background:#89609e}._3sE1kqqgsyuHVp .PCWaeUruvT9keA svg{color:#fff}._3sE1kqqgsyuHVp ._2LQQ51bnEs4F8_{color:#42526e}._3ta-CtR5M1TfF9{background:#89609e}._3ta-CtR5M1TfF9:hover{background:#583f68}._3ta-CtR5M1TfF9:hover .PCWaeUruvT9keA svg{color:#583f68}._3ta-CtR5M1TfF9 ._3u5wBPt5mgOMqu{background:#fff}._3ta-CtR5M1TfF9 .PCWaeUruvT9keA svg{color:#89609e}._3ta-CtR5M1TfF9 ._2LQQ51bnEs4F8_{color:#fff}._3u5wBPt5mgOMqu{border-radius:2px;height:20px;margin-right:8px;width:20px}._3jINWVpnit_PRM{width:100%}._3jINWVpnit_PRM,.PCWaeUruvT9keA{display:flex;justify-content:center}.PCWaeUruvT9keA{height:20px;align-items:center}",""]),t.locals={upgradePromptButton:"_2jRNa-bQL5DUcd",upgradePromptButtonLightTheme:"_3sE1kqqgsyuHVp",upgradePromptButtonIconBackground:"_3u5wBPt5mgOMqu",upgradePromptButtonIcon:"PCWaeUruvT9keA",upgradePromptButtonCTA:"_2LQQ51bnEs4F8_",upgradePromptButtonDarkTheme:"_3ta-CtR5M1TfF9",upgradePromptFitContainer:"_3jINWVpnit_PRM"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFull.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".YbF3JXQH2gXlsC{box-shadow:0 1px 1px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);padding-left:16px;padding-right:16px;overflow:hidden;position:relative;width:100%;box-sizing:border-box;border-radius:3px;transition:background .3s ease;text-rendering:geometricPrecision}.YbF3JXQH2gXlsC ._3CD8BA2QQVCNAM{display:inline-block}.YbF3JXQH2gXlsC ._3CD8BA2QQVCNAM:active,.YbF3JXQH2gXlsC ._3CD8BA2QQVCNAM:hover{color:#fff}._1Mrj74Dt-jrz_K{background:#fff}._1Mrj74Dt-jrz_K ._2xNMNaE5Gc204_{color:#172b4d}._1Mrj74Dt-jrz_K ._-9pGlm2xfXwHs4{color:#6b778c}._1Mrj74Dt-jrz_K ._3CD8BA2QQVCNAM{color:#5e6c84}._1Mrj74Dt-jrz_K ._3CD8BA2QQVCNAM:hover{background-color:transparent;color:#172b4d}._1Mrj74Dt-jrz_K .fkZ0vkuH1V3vBu svg{color:#fff}._1Mrj74Dt-jrz_K ._3YSrt64LQGxMmX{background:#89609e}._1Mrj74Dt-jrz_K .wMzUsJpeaxp7fH{background:rgba(9,30,66,.04)}._1Mrj74Dt-jrz_K .mEHOJHTJV5iMw5:hover{background-color:#f4f5f7}._2kOLCbYadB51ca{background:#6c547b}._2kOLCbYadB51ca ._2xNMNaE5Gc204_{color:#fff}._2kOLCbYadB51ca ._-9pGlm2xfXwHs4{color:#8fdfeb}._2kOLCbYadB51ca ._3CD8BA2QQVCNAM{color:#fff}._2kOLCbYadB51ca .fkZ0vkuH1V3vBu svg{color:#6c547b}._2kOLCbYadB51ca ._3YSrt64LQGxMmX{background:#fff}._2kOLCbYadB51ca .wMzUsJpeaxp7fH{background:hsla(0,0%,100%,.1)}._2kOLCbYadB51ca .mEHOJHTJV5iMw5:hover{background:#583f68}._2xNMNaE5Gc204_{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-bottom:8px}._-9pGlm2xfXwHs4{margin-bottom:16px}.fkZ0vkuH1V3vBu{display:flex;justify-content:center;align-items:center;height:100%}._3YSrt64LQGxMmX{position:absolute;bottom:8px;right:8px;width:26px;height:26px;border-radius:3px;z-index:2}.wMzUsJpeaxp7fH{position:absolute;bottom:-64px;right:-28px;width:120px;height:80px;border-radius:12px;z-index:1;transform:rotate(-50deg)}._3CD8BA2QQVCNAM{margin-bottom:16px;padding:0}.mEHOJHTJV5iMw5{position:absolute;top:8px;right:8px;background:none;padding:4px;margin:0;border:0;width:22px;height:22px;display:flex}._1K0LqnoX4a7pZj{line-height:14px;margin-left:-1px}._1K0LqnoX4a7pZj svg{color:#a5adba}",""]),t.locals={upgradePromptFull:"YbF3JXQH2gXlsC",upgradePromptFullCTA:"_3CD8BA2QQVCNAM",upgradePromptFullLightTheme:"_1Mrj74Dt-jrz_K",upgradePromptFullHeadline:"_2xNMNaE5Gc204_",upgradePromptFullContent:"_-9pGlm2xfXwHs4",upgradePromptFullIcon:"fkZ0vkuH1V3vBu",upgradePromptFullIconBackground:"_3YSrt64LQGxMmX",upgradePromptFullIconClippedBackground:"wMzUsJpeaxp7fH",upgradePromptFullCloseButtonWrapper:"mEHOJHTJV5iMw5",upgradePromptFullDarkTheme:"_2kOLCbYadB51ca",upgradePromptFullCloseButton:"_1K0LqnoX4a7pZj"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFullBase.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3yAElQd0GLZQ7K{width:100%;border-radius:3px;height:60px;animation:_3NfwqyO3_GyP3I 2s infinite}@keyframes _3NfwqyO3_GyP3I{0%{background-color:#f4f5f7}50%{background-color:#ebecf0}to{background-color:#dfe1e6}}._1rk3TDAaU81_Ii{box-shadow:0 1px 1px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);padding-left:16px;padding-right:16px;overflow:hidden;position:relative;width:100%;box-sizing:border-box;border-radius:3px;transition:background .3s ease;text-rendering:geometricPrecision}.V6AzWH4E8HBPZX{background:#fff}.V6AzWH4E8HBPZX ._3Cnio1oR4iJKRE{color:#172b4d}.V6AzWH4E8HBPZX ._3Uplc-pCxrlRyl{color:#6b778c}.V6AzWH4E8HBPZX ._3aM7hAccVA2vmN svg{color:#fff}.V6AzWH4E8HBPZX .k9UvWenTsfCELV{background:#89609e}.V6AzWH4E8HBPZX .bUcOdikdfVj-0U{background:rgba(9,30,66,.04)}.V6AzWH4E8HBPZX ._3pJ-SI7UWvwzAF:hover{background-color:#f4f5f7}._3BALbHgNWTvWKk{background:#6c547b}._3BALbHgNWTvWKk ._3Cnio1oR4iJKRE{color:#fff}._3BALbHgNWTvWKk ._3Uplc-pCxrlRyl{color:#8fdfeb}._3BALbHgNWTvWKk ._3aM7hAccVA2vmN svg{color:#6c547b}._3BALbHgNWTvWKk .k9UvWenTsfCELV{background:#fff}._3BALbHgNWTvWKk .bUcOdikdfVj-0U{background:hsla(0,0%,100%,.1)}._3BALbHgNWTvWKk ._3pJ-SI7UWvwzAF:hover{background:#583f68}._3Cnio1oR4iJKRE{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-bottom:8px}._3Uplc-pCxrlRyl{margin-bottom:16px}._3aM7hAccVA2vmN{width:26px;height:26px;padding:2px}._3aM7hAccVA2vmN svg{width:22px;height:22px;line-height:24px}.k9UvWenTsfCELV{position:absolute;bottom:8px;right:8px;width:26px;height:26px;border-radius:3px;z-index:2}.bUcOdikdfVj-0U{position:absolute;bottom:-64px;right:-28px;width:120px;height:80px;border-radius:12px;z-index:1;transform:rotate(-50deg)}._3pJ-SI7UWvwzAF{position:absolute;top:8px;right:8px;background:none;padding:4px;margin:0;border:0;width:22px;height:22px;display:flex}._9plRmEW19jh9xU{color:#a5adba;line-height:14px;margin-left:-1px}",""]),t.locals={animation:"_3yAElQd0GLZQ7K",pulse:"_3NfwqyO3_GyP3I",upgradePromptFull:"_1rk3TDAaU81_Ii",upgradePromptFullLightTheme:"V6AzWH4E8HBPZX",upgradePromptFullHeadline:"_3Cnio1oR4iJKRE",upgradePromptFullContent:"_3Uplc-pCxrlRyl",upgradePromptFullIcon:"_3aM7hAccVA2vmN",upgradePromptFullIconBackground:"k9UvWenTsfCELV",upgradePromptFullIconClippedBackground:"bUcOdikdfVj-0U",upgradePromptFullCloseButtonWrapper:"_3pJ-SI7UWvwzAF",upgradePromptFullDarkTheme:"_3BALbHgNWTvWKk",upgradePromptFullCloseButton:"_9plRmEW19jh9xU"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPill.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".D8PrIBfVHLaC1G{display:inline-flex;border-radius:3px;font-size:12px;padding:4px;text-decoration:none;line-height:12px;margin-bottom:0}._39vNpql8O9h5co{display:flex;justify-content:center;width:12px;height:12px;margin-right:4px;line-height:12px}._1xgAps5V3J3WWx{background-color:#eddbf4}._1xgAps5V3J3WWx ._39vNpql8O9h5co svg{color:#89609e}._1xgAps5V3J3WWx ._17EaYJuwhiq6Dy svg{color:#42526e}._1xgAps5V3J3WWx:hover{background-color:#dfc0eb}.fo3ROqdZZNdBSw{background-color:#89609e}.fo3ROqdZZNdBSw ._17EaYJuwhiq6Dy svg,.fo3ROqdZZNdBSw ._39vNpql8O9h5co svg{color:#fff}.fo3ROqdZZNdBSw:hover{background-color:#583f68}",""]),t.locals={upgradePromptPill:"D8PrIBfVHLaC1G",upgradePromptPillIcon:"_39vNpql8O9h5co",upgradeLightTheme:"_1xgAps5V3J3WWx",upgradePromptPillCTA:"_17EaYJuwhiq6Dy",upgradeDarkTheme:"fo3ROqdZZNdBSw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPillBase.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".S95NMhjS-qa4Rh{display:inline-flex;border-radius:3px;font-size:12px;padding:4px;text-decoration:none;line-height:16px;margin-bottom:0}._3CcWNraBrODUCQ{background-color:#eddbf4}._3CcWNraBrODUCQ ._90leiVeMlaRE7c svg{color:#89609e}._3CcWNraBrODUCQ .S6WUhGTdfgQrrb svg{color:#42526e}._3CcWNraBrODUCQ:hover{background-color:#dfc0eb}._3epI7hOflZT3Zp{background-color:#89609e}._3epI7hOflZT3Zp ._90leiVeMlaRE7c svg,._3epI7hOflZT3Zp .S6WUhGTdfgQrrb svg{color:#fff}._3epI7hOflZT3Zp:hover{background-color:#583f68}.S6WUhGTdfgQrrb{padding-left:4px}",""]),t.locals={upgradePromptPill:"S95NMhjS-qa4Rh",upgradeLightTheme:"_3CcWNraBrODUCQ",upgradePromptPillIcon:"_90leiVeMlaRE7c",upgradePromptPillCTA:"S6WUhGTdfgQrrb",upgradeDarkTheme:"_3epI7hOflZT3Zp"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2UxKMNua2KSiL6{padding-top:8px;padding-right:8px;margin-bottom:0;color:#172b4d}._3fzsq9jEZYVCax{margin-left:24px}._3i3aIPvVcGa13r{position:absolute;left:-10px;top:10px;font-size:30px}.yXN9qZ4e4tA7WG{margin-top:0}._1IujPgsvQ9IF3P{display:block;position:relative}._1IujPgsvQ9IF3P:before{content:"";width:100%;height:100%;position:absolute;z-index:1}._1IujPgsvQ9IF3P button{margin:0}',""]),t.locals={bcPromptHeader:"_2UxKMNua2KSiL6",settingItem:"_3fzsq9jEZYVCax",bcPromptSparkle:"_3i3aIPvVcGa13r",bcPromptUpgrade:"yXN9qZ4e4tA7WG",tooltipDisabledHack:"_1IujPgsvQ9IF3P"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradeSmartComponent.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".k4fHjDZIpOlJJ3{margin-bottom:16px;display:inline-block;padding:0;background:transparent;text-decoration:underline}.k4fHjDZIpOlJJ3:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){.k4fHjDZIpOlJJ3:focus{outline:5px auto -webkit-focus-ring-color}}.k4fHjDZIpOlJJ3:active,.k4fHjDZIpOlJJ3:hover{background-color:transparent}._1HU4hZ1sEBp2QC{color:#5e6c84}._1HU4hZ1sEBp2QC:hover{background-color:transparent;color:#172b4d}._2_ySCHs3C0BxvV,._2_ySCHs3C0BxvV:hover{color:#fff}._1kUj6qo0eXH4Pp{margin:4px 0}._28ASm-lZuWGxjE{margin-top:4px;margin-bottom:16px}.uig2fjRiWi1QqK{margin-top:8px}",""]),t.locals={cta:"k4fHjDZIpOlJJ3",lightModeCta:"_1HU4hZ1sEBp2QC",darkModeCta:"_2_ySCHs3C0BxvV",boardMenuPromptFullWrapper:"_1kUj6qo0eXH4Pp",butlerUpsellPopoverPromptFullWrapper:"_28ASm-lZuWGxjE",createBoardModalWrapper:"uig2fjRiWi1QqK"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/List/List.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2XUnC-GKb6UkpG{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;padding:0;margin:0}._2XUnC-GKb6UkpG,._2XUnC-GKb6UkpG li,._38pq5NbRWAG39y{list-style-type:none}._38pq5NbRWAG39y{padding:6px 12px}._38pq5NbRWAG39y:hover{background-color:rgba(9,30,66,.04)}._38pq5NbRWAG39y:active{background-color:#e4f0f6}.I2WBX22XhJYhvT{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;display:grid;grid-template-rows:1fr;grid-template-columns:1fr;grid-auto-columns:44px;grid-auto-flow:column;min-height:48px}.I2WBX22XhJYhvT:hover{background-color:rgba(9,30,66,.04)}.I2WBX22XhJYhvT:active{background-color:#e4f0f6}._2DNNgL-8Twpnyf{margin:auto 0 auto auto;grid-column-end:1}._1CTfRY17GWJSii{padding:6px 12px}.WDaxXXrS7crTKz{font-size:12px;line-height:16px;color:#5e6c84}.t50cODzF7KObcp{color:#fff}._1VniUx1gUK2kyV{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;list-style-type:none;padding:0;margin:0}._1VniUx1gUK2kyV li{list-style-type:none;padding:6px 12px}._1VniUx1gUK2kyV li:hover{background-color:rgba(9,30,66,.04)}._1VniUx1gUK2kyV li:active{background-color:#e4f0f6}",""]),t.locals={"nch-list":"_2XUnC-GKb6UkpG","nch-list__item":"_38pq5NbRWAG39y","nch-list__cell":"I2WBX22XhJYhvT","nch-list__cell-image":"_2DNNgL-8Twpnyf","nch-list__cell-content":"_1CTfRY17GWJSii","nch-list__cell-meta":"WDaxXXrS7crTKz","nch-list__cell-meta--selected":"t50cODzF7KObcp","nch-list--static":"_1VniUx1gUK2kyV"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Select/Select.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1E5X2RKu9Rucv2{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400}._1E5X2RKu9Rucv2:focus{outline:none}._1T1MG_BX1zeaq8{min-height:36px;background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;border-radius:3px;-webkit-appearance:none;border:none;width:100%;padding-left:12px;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='%2342526E' viewBox='0 0 20 20'%3E%3Cpath d='M4.516 7.548c.436-.446 1.043-.481 1.576 0L10 11.295l3.908-3.747c.533-.481 1.141-.446 1.574 0 .436.445.408 1.197 0 1.615-.406.418-4.695 4.502-4.695 4.502a1.095 1.095 0 0 1-1.576 0S4.924 9.581 4.516 9.163s-.436-1.17 0-1.615z'/%3E%3C/svg%3E\") no-repeat;background-size:20px;background-position:right 8px center}._3aKo_iEHQ06zFk{min-height:24px}._23S_kzHpI0As0O{background-color:#f4f5f7;box-shadow:none}._1T1MG_BX1zeaq8:hover{background-color:#ebecf0;cursor:pointer}._1T1MG_BX1zeaq8:focus,._1T1MG_BX1zeaq8:focus:hover,._3VuyTzxJvL9fnY,._3VuyTzxJvL9fnY:hover{background-color:#fff;box-shadow:inset 0 0 0 2px #0079bf}._2Uvn7gBr1E2UUI{color:#a5adba;pointer-events:none;background-color:rgba(9,30,66,.04)}._17oKwiCho39YzQ{box-shadow:0 4px 8px -2px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08)}._11O9PMdHE0te2R{background-color:#e4f0f6}._3mmTa26C7TsBuF._1Qv4GU0xuPVnrX{color:#a5adba;pointer-events:none;background-color:rgba(9,30,66,.04)}._8BuraJ5qA9us6k,._8BuraJ5qA9us6k:active,._8BuraJ5qA9us6k:hover,._8BuraJ5qA9us6k li,._8BuraJ5qA9us6k li:active{color:#fff;background-color:#172b4d}._2jWrEGE8usKp9N{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-weight:400;color:#172b4d;font-size:14px;margin-bottom:2px}._2jWrEGE8usKp9N,._3BTdRu8Ie4X0Jd{line-height:20px;font-weight:700;display:block}._3BTdRu8Ie4X0Jd{font-size:16px;text-overflow:ellipsis}._2CsKG3pbuiDMf7{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;min-height:36px;background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;border-radius:3px;-webkit-appearance:none;border:none;width:100%;padding-left:12px;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='%2342526E' viewBox='0 0 20 20'%3E%3Cpath d='M4.516 7.548c.436-.446 1.043-.481 1.576 0L10 11.295l3.908-3.747c.533-.481 1.141-.446 1.574 0 .436.445.408 1.197 0 1.615-.406.418-4.695 4.502-4.695 4.502a1.095 1.095 0 0 1-1.576 0S4.924 9.581 4.516 9.163s-.436-1.17 0-1.615z'/%3E%3C/svg%3E\") no-repeat;background-size:20px;background-position:right 8px center}._2CsKG3pbuiDMf7:focus{outline:none}._2CsKG3pbuiDMf7:hover{background-color:#ebecf0;cursor:pointer}._2CsKG3pbuiDMf7:focus{background-color:#fff;box-shadow:inset 0 0 0 2px #0079bf}",""]),t.locals={"nch-select":"_1E5X2RKu9Rucv2","nch-select__control":"_1T1MG_BX1zeaq8","nch-select__control--compact":"_3aKo_iEHQ06zFk","nch-select__control--subtle":"_23S_kzHpI0As0O","nch-select__control--focus":"_3VuyTzxJvL9fnY","nch-select__control--disabled":"_2Uvn7gBr1E2UUI","nch-select__menu":"_17oKwiCho39YzQ","nch-select__option--active":"_11O9PMdHE0te2R","nch-select__option":"_3mmTa26C7TsBuF","nch-select__option--disabled":"_1Qv4GU0xuPVnrX","nch-select__option--selected":"_8BuraJ5qA9us6k","nch-select__label":"_2jWrEGE8usKp9N","nch-select__val":"_3BTdRu8Ie4X0Jd","nch-select--static":"_2CsKG3pbuiDMf7"}},"./node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js":function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"categories",(function(){return b})),n.d(i,"search",(function(){return f}));var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=Object.getPrototypeOf||function(e){return"function"==typeof(e=Object(e)).constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Object.prototype:null},o=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(o),l=n("./node_modules/emoji-mart/dist-es/polyfills/createClass.js");function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=Object;function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=d.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.setPrototypeOf?d.setPrototypeOf(e,t):e.__proto__=t)}n("./node_modules/emoji-mart/dist-es/vendor/raf-polyfill.js");var p=n("./node_modules/react/index.js"),m=n.n(p),h=n("./node_modules/prop-types/index.js"),g=n.n(h),b={activity:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"}))},custom:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("g",{transform:"translate(2.000000, 1.000000)"},m.a.createElement("rect",{id:"Rectangle",x:"8",y:"0",width:"3",height:"21",rx:"1.5"}),m.a.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"}),m.a.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"})))},flags:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"}))},foods:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"}))},nature:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),m.a.createElement("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"}))},objects:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),m.a.createElement("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"}))},people:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),m.a.createElement("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"}))},places:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),m.a.createElement("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"}))},recent:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),m.a.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}))},symbols:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"}))}},f={search:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},m.a.createElement("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"}))},delete:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},m.a.createElement("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"}))}},v="emoji-mart",k=JSON,y="undefined"!=typeof window&&"localStorage"in window,C=void 0,j=void 0;function w(e,t){if(j)j(e,t);else{if(!y)return;try{window.localStorage[v+"."+e]=k.stringify(t)}catch(e){}}}var x={update:function(e){for(var t in e){w(t,e[t])}},set:w,get:function(e){if(C)return C(e);if(y){try{var t=window.localStorage[v+"."+e]}catch(e){return}return t?JSON.parse(t):void 0}},setNamespace:function(e){v=e},setHandlers:function(e){e||(e={}),C=e.getter,j=e.setter}},_=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart","poop"],E=void 0,S=void 0,O={};function T(){S=!0,E=x.get("frequently")}var D={add:function(e){S||T();var t=e.id;E||(E=O),E[t]||(E[t]=0),E[t]+=1,x.set("last",t),x.set("frequently",E)},get:function(e){if(S||T(),!E){O={};for(var t=[],n=0;n<e;n++)O[_[n]]=e-n,t.push(_[n]);return t}var i=4*e,a=[];for(var r in E)E.hasOwnProperty(r)&&a.push(r);var o=a.sort((function(e,t){return E[e]-E[t]})).reverse().slice(0,i),s=x.get("last");return s&&-1==o.indexOf(s)&&(o.pop(),o.push(s)),o}},N=n("./node_modules/emoji-mart/dist-es/utils/index.js"),I=n("./node_modules/emoji-mart/dist-es/utils/data.js"),A=n("./node_modules/emoji-mart/dist-es/utils/shared-props.js"),P=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e)),i=e.categories.filter((function(e){return e.first}))[0];return n.state={selected:i.name},n.handleClick=n.handleClick.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=e.currentTarget.getAttribute("data-index"),n=this.props,i=n.categories;(0,n.onAnchorClick)(i[t],t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,i=t.color,a=t.i18n,r=t.icons,o=this.state.selected;return m.a.createElement("div",{className:"emoji-mart-anchors"},n.map((function(t,n){var s=t.id,l=t.name,c=t.anchor,d=l==o;return!1===c?null:m.a.createElement("span",{key:s,title:a.categories[s],"data-index":n,onClick:e.handleClick,className:"emoji-mart-anchor "+(d?"emoji-mart-anchor-selected":""),style:{color:d?i:null}},m.a.createElement("div",{className:"emoji-mart-anchor-icon"},r.categories[s]()),m.a.createElement("span",{className:"emoji-mart-anchor-bar",style:{backgroundColor:i}}))})))}}]),t}(m.a.PureComponent),B=P;P.defaultProps={categories:[],onAnchorClick:function(){},icons:{}};var L=n("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js"),F=function(e){function t(){return s()(this,t),c(this,(t.__proto__||r(t)).apply(this,arguments))}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.emojiProps,i=e.i18n,r=e.notFound,o=e.notFoundEmoji;return r&&r()||m.a.createElement("div",{className:"emoji-mart-no-results"},Object(L.default)(a({data:t},n,{size:38,emoji:o,onOver:null,onLeave:null,onClick:null})),m.a.createElement("div",{className:"emoji-mart-no-results-label"},i.notfound))}}]),t}(m.a.PureComponent),M=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.data=e.data,n.setContainerRef=n.setContainerRef.bind(n),n.setLabelRef=n.setLabelRef.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.parent=this.container.parentNode,this.margin=0,this.minMargin=0,this.memoizeSize()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,i=n.name,a=n.perLine,r=n.native,o=n.hasStickyPosition,s=n.emojis,l=n.emojiProps,c=l.skin,d=l.size,u=l.set,p=e.perLine,m=e.native,h=e.hasStickyPosition,g=e.emojis,b=e.emojiProps,f=b.skin,v=b.size,k=b.set,y=!1;return"Recent"==i&&a!=p&&(y=!0),"Search"==i&&(y=!(s==g)),c==f&&d==v&&r==m&&u==k&&o==h||(y=!0),y}},{key:"memoizeSize",value:function(){var e=this.container.getBoundingClientRect(),t=e.top,n=e.height,i=this.parent.getBoundingClientRect().top,a=this.label.getBoundingClientRect().height;this.top=t-i+this.parent.scrollTop,this.maxMargin=0==n?0:n-a}},{key:"handleScroll",value:function(e){var t=e-this.top;if((t=(t=t<this.minMargin?this.minMargin:t)>this.maxMargin?this.maxMargin:t)!=this.margin)return this.props.hasStickyPosition||(this.label.style.top=t+"px"),this.margin=t,!0}},{key:"getEmojis",value:function(){var e=this,t=this.props,n=t.name,i=t.emojis,a=t.recent,r=t.perLine;if("Recent"==n){var o=this.props.custom,s=a||D.get(r);if(s.length&&(i=s.map((function(e){var t=o.filter((function(t){return t.id===e}))[0];return t||e})).filter((function(t){return!!Object(N.b)(t,null,null,e.data)}))),0===i.length&&s.length>0)return null}return i&&(i=i.slice(0)),i}},{key:"updateDisplay",value:function(e){this.getEmojis()&&(this.container.style.display=e)}},{key:"setContainerRef",value:function(e){this.container=e}},{key:"setLabelRef",value:function(e){this.label=e}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,i=t.name,r=t.hasStickyPosition,o=t.emojiProps,s=t.i18n,l=t.notFound,c=t.notFoundEmoji,d=this.getEmojis(),u={},p={},h={};return d||(h={display:"none"}),r||(u={height:28},p={position:"absolute"}),m.a.createElement("div",{ref:this.setContainerRef,className:"emoji-mart-category",style:h},m.a.createElement("div",{style:u,"data-name":i,className:"emoji-mart-category-label"},m.a.createElement("span",{style:p,ref:this.setLabelRef},s.categories[n])),d&&d.map((function(t){return Object(L.default)(a({emoji:t,data:e.data},o))})),d&&!d.length&&m.a.createElement(F,{i18n:s,notFound:l,notFoundEmoji:c,data:this.data,emojiProps:o}))}}]),t}(m.a.Component),R=M;M.defaultProps={emojis:[],hasStickyPosition:!0};var U=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.state={opened:!1},n}return u(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=parseInt(e.currentTarget.getAttribute("data-skin")),n=this.props.onChange;this.state.opened?(this.setState({opened:!1}),t!=this.props.skin&&n(t)):this.setState({opened:!0})}},{key:"render",value:function(){return null}}]),t}(m.a.PureComponent),V=U;U.defaultProps={onChange:function(){}};var z=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.skin,n=e.emojiProps,i=e.data,a=e.skinEmoji,r=e.i18n,o=this.state.opened,s=[],l=1;l<=6;l++){var c=l===t;s.push(m.a.createElement("span",{key:"skin-tone-"+l,className:"emoji-mart-skin-swatch custom"+(c?" selected":"")},m.a.createElement("span",{onClick:this.handleClick,"data-skin":l,className:"emoji-mart-skin-tone-"+l},Object(L.default)({emoji:a,data:i,skin:l,backgroundImageFn:n.backgroundImageFn,native:n.native,set:n.set,sheetSize:n.sheetSize,size:23}))))}return m.a.createElement("div",{className:"emoji-mart-skin-swatches custom"+(o?" opened":"")},m.a.createElement("div",{className:"emoji-mart-skin-text"+(o?" opened":"")},r.skintext),s)}}]),t}(V),H=z;z.propTypes={onChange:g.a.func,skin:g.a.number.isRequired,emojiProps:g.a.object.isRequired,skinTone:g.a.number,skinEmoji:g.a.string.isRequired,i18n:g.a.object},z.defaultProps={onChange:function(){},skinTone:null};var W=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.skin,n=(e.i18n,this.state.opened),i=[],a=1;a<=6;a++){var r=a===t;i.push(m.a.createElement("span",{key:"skin-tone-"+a,className:"emoji-mart-skin-swatch"+(r?" selected":"")},m.a.createElement("span",{onClick:this.handleClick,"data-skin":a,className:"emoji-mart-skin emoji-mart-skin-tone-"+a})))}return m.a.createElement("div",{className:"emoji-mart-skin-swatches"+(n?" opened":"")},i)}}]),t}(V),K=W;W.propTypes={onChange:g.a.func,skin:g.a.number.isRequired,i18n:g.a.object},W.defaultProps={onChange:function(){}};var q=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.data=e.data,n.state={emoji:null},n}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.emoji,t=this.props,n=t.emojiProps,i=t.skinsProps,r=t.showSkinTones,o=t.title,s=t.emoji,l=t.i18n;if(e){var c=Object(N.b)(e,null,null,this.data),d=c.emoticons,u=[],p=[];return(void 0===d?[]:d).forEach((function(e){u.indexOf(e.toLowerCase())>=0||(u.push(e.toLowerCase()),p.push(e))})),m.a.createElement("div",{className:"emoji-mart-preview"},m.a.createElement("div",{className:"emoji-mart-preview-emoji"},Object(L.default)(a({key:e.id,emoji:e,data:this.data},n))),m.a.createElement("div",{className:"emoji-mart-preview-data"},m.a.createElement("div",{className:"emoji-mart-preview-name"},e.name),m.a.createElement("div",{className:"emoji-mart-preview-shortnames"},c.short_names.map((function(e){return m.a.createElement("span",{key:e,className:"emoji-mart-preview-shortname"},":",e,":")}))),m.a.createElement("div",{className:"emoji-mart-preview-emoticons"},p.map((function(e){return m.a.createElement("span",{key:e,className:"emoji-mart-preview-emoticon"},e)})))))}return m.a.createElement("div",{className:"emoji-mart-preview"},m.a.createElement("div",{className:"emoji-mart-preview-emoji"},s&&s.length&&Object(L.default)(a({emoji:s,data:this.data},n))),m.a.createElement("div",{className:"emoji-mart-preview-data"},m.a.createElement("span",{className:"emoji-mart-title-label"},o)),r&&m.a.createElement("div",{className:"emoji-mart-preview-skins"+(i.skinEmoji?" custom":"")},i.skinEmoji?m.a.createElement(H,{skin:i.skin,emojiProps:n,data:this.data,skinEmoji:i.skinEmoji,i18n:l,onChange:i.onChange}):m.a.createElement(K,{skin:i.skin,i18n:l,onChange:i.onChange})))}}]),t}(m.a.PureComponent),$=q;q.defaultProps={showSkinTones:!0,onChange:function(){}};var G=n("./node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js"),Z=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.state={icon:f.search,isSearching:!1},n.data=e.data,n.emojiIndex=new G.a(n.data),n.setRef=n.setRef.bind(n),n.handleChange=n.handleChange.bind(n),n.clear=n.clear.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"search",value:function(e){""==e?this.setState({icon:f.search,isSearching:!1}):this.setState({icon:f.delete,isSearching:!0}),this.props.onSearch(this.emojiIndex.search(e,{emojisToShowFilter:this.props.emojisToShowFilter,maxResults:this.props.maxResults,include:this.props.include,exclude:this.props.exclude,custom:this.props.custom}))}},{key:"clear",value:function(){""!=this.input.value&&(this.input.value="",this.search(""))}},{key:"handleChange",value:function(){this.search(this.input.value)}},{key:"handleKeyUp",value:function(e){13===e.keyCode&&this.clear()}},{key:"setRef",value:function(e){this.input=e}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.autoFocus,i=this.state,a=i.icon,r=i.isSearching;return m.a.createElement("div",{className:"emoji-mart-search"},m.a.createElement("input",{ref:this.setRef,type:"text",onChange:this.handleChange,placeholder:t.search,autoFocus:n}),m.a.createElement("button",{className:"emoji-mart-search-icon",onClick:this.clear,onKeyUp:this.handleKeyUp,disabled:!r},a()))}}]),t}(m.a.PureComponent),J=Z;Z.defaultProps={onSearch:function(){},maxResults:75,emojisToShowFilter:null,autoFocus:!1};var Y={search:"Search",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"}},X=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));n.RECENT_CATEGORY={id:"recent",name:"Recent",emojis:null},n.CUSTOM_CATEGORY={id:"custom",name:"Custom",emojis:[]},n.SEARCH_CATEGORY={id:"search",name:"Search",emojis:null,anchor:!1},e.data.compressed&&Object(I.c)(e.data),n.data=e.data,n.i18n=Object(N.a)(Y,e.i18n),n.icons=Object(N.a)(i,e.icons),n.state={skin:e.skin||x.get("skin")||e.defaultSkin,firstRender:!0},n.categories=[];var o=[].concat(n.data.categories);e.custom.length>0&&(n.CUSTOM_CATEGORY.emojis=e.custom.map((function(e){return a({},e,{id:e.short_names[0],custom:!0})})),o.push(n.CUSTOM_CATEGORY)),n.hideRecent=!0,null!=e.include&&o.sort((function(t,n){return e.include.indexOf(t.id)>e.include.indexOf(n.id)?1:-1}));for(var l=0;l<o.length;l++){var d=o[l],u=!e.include||!e.include.length||e.include.indexOf(d.id)>-1,p=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(d.id)>-1;if(u&&!p)if(e.emojisToShowFilter){for(var m=[],h=d.emojis,g=0;g<h.length;g++){var b=h[g];e.emojisToShowFilter(n.data.emojis[b]||b)&&m.push(b)}if(m.length){var f={emojis:m,name:d.name,id:d.id};n.categories.push(f)}}else n.categories.push(d)}var v=!e.include||!e.include.length||e.include.indexOf(n.RECENT_CATEGORY.id)>-1,k=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(n.RECENT_CATEGORY.id)>-1;return v&&!k&&(n.hideRecent=!1,n.categories.unshift(n.RECENT_CATEGORY)),n.categories[0]&&(n.categories[0].first=!0),n.categories.unshift(n.SEARCH_CATEGORY),n.setAnchorsRef=n.setAnchorsRef.bind(n),n.handleAnchorClick=n.handleAnchorClick.bind(n),n.setSearchRef=n.setSearchRef.bind(n),n.handleSearch=n.handleSearch.bind(n),n.setScrollRef=n.setScrollRef.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleScrollPaint=n.handleScrollPaint.bind(n),n.handleEmojiOver=n.handleEmojiOver.bind(n),n.handleEmojiLeave=n.handleEmojiLeave.bind(n),n.handleEmojiClick=n.handleEmojiClick.bind(n),n.handleEmojiSelect=n.handleEmojiSelect.bind(n),n.setPreviewRef=n.setPreviewRef.bind(n),n.handleSkinChange=n.handleSkinChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.skin?this.setState({skin:e.skin}):e.defaultSkin&&!x.get("skin")&&this.setState({skin:e.defaultSkin})}},{key:"componentDidMount",value:function(){var e=this;this.state.firstRender&&(this.testStickyPosition(),this.firstRenderTimeout=setTimeout((function(){e.setState({firstRender:!1})}),60))}},{key:"componentDidUpdate",value:function(){this.updateCategoriesSize(),this.handleScroll()}},{key:"componentWillUnmount",value:function(){this.SEARCH_CATEGORY.emojis=null,clearTimeout(this.leaveTimeout),clearTimeout(this.firstRenderTimeout)}},{key:"testStickyPosition",value:function(){var e=document.createElement("div");["","-webkit-","-ms-","-moz-","-o-"].forEach((function(t){return e.style.position=t+"sticky"})),this.hasStickyPosition=!!e.style.position.length}},{key:"handleEmojiOver",value:function(e){var t=this.preview;if(t){var n=this.CUSTOM_CATEGORY.emojis.filter((function(t){return t.id===e.id}))[0];for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);t.setState({emoji:e}),clearTimeout(this.leaveTimeout)}}},{key:"handleEmojiLeave",value:function(e){var t=this.preview;t&&(this.leaveTimeout=setTimeout((function(){t.setState({emoji:null})}),16))}},{key:"handleEmojiClick",value:function(e,t){this.props.onClick(e,t),this.handleEmojiSelect(e)}},{key:"handleEmojiSelect",value:function(e){var t=this;this.props.onSelect(e),this.hideRecent||this.props.recent||D.add(e);var n=this.categoryRefs["category-1"];if(n){var i=n.maxMargin;n.forceUpdate(),window.requestAnimationFrame((function(){t.scroll&&(n.memoizeSize(),i!=n.maxMargin&&(t.updateCategoriesSize(),t.handleScrollPaint(),t.SEARCH_CATEGORY.emojis&&n.updateDisplay("none")))}))}}},{key:"handleScroll",value:function(){this.waitingForPaint||(this.waitingForPaint=!0,window.requestAnimationFrame(this.handleScrollPaint))}},{key:"handleScrollPaint",value:function(){if(this.waitingForPaint=!1,this.scroll){var e=null;if(this.SEARCH_CATEGORY.emojis)e=this.SEARCH_CATEGORY;else{for(var t=this.scroll.scrollTop,n=t>(this.scrollTop||0),i=0,a=0,r=this.categories.length;a<r;a++){var o=n?this.categories.length-1-a:a,s=this.categories[o],l=this.categoryRefs["category-"+o];if(l){var c=l.handleScroll(t);(!i||l.top<i)&&l.top>0&&(i=l.top),c&&!e&&(e=s)}}t<i?e=this.categories.filter((function(e){return!(!1===e.anchor)}))[0]:t+this.clientHeight>=this.scrollHeight&&(e=this.categories[this.categories.length-1])}if(e){var d=this.anchors,u=e.name;d.state.selected!=u&&d.setState({selected:u})}this.scrollTop=t}}},{key:"handleSearch",value:function(e){this.SEARCH_CATEGORY.emojis=e;for(var t=0,n=this.categories.length;t<n;t++){var i=this.categoryRefs["category-"+t];if(i&&"Search"!=i.props.name){var a=e?"none":"inherit";i.updateDisplay(a)}}this.forceUpdate(),this.scroll.scrollTop=0,this.handleScroll()}},{key:"handleAnchorClick",value:function(e,t){var n,i=this.categoryRefs["category-"+t],a=this.scroll;this.anchors;n=function(){if(i){var t=i.top;e.first?t=0:t+=1,a.scrollTop=t}},this.SEARCH_CATEGORY.emojis?(this.handleSearch(null),this.search.clear(),window.requestAnimationFrame(n)):n()}},{key:"handleSkinChange",value:function(e){var t={skin:e},n=this.props.onSkinChange;this.setState(t),x.update(t),n(e)}},{key:"handleKeyDown",value:function(e){var t=!1;switch(e.keyCode){case 13:var n=void 0;this.SEARCH_CATEGORY.emojis&&(n=this.SEARCH_CATEGORY.emojis[0])&&this.handleEmojiSelect(n),t=!0}t&&e.preventDefault()}},{key:"updateCategoriesSize",value:function(){for(var e=0,t=this.categories.length;e<t;e++){var n=this.categoryRefs["category-"+e];n&&n.memoizeSize()}if(this.scroll){var i=this.scroll;this.scrollHeight=i.scrollHeight,this.clientHeight=i.clientHeight}}},{key:"getCategories",value:function(){return this.state.firstRender?this.categories.slice(0,3):this.categories}},{key:"setAnchorsRef",value:function(e){this.anchors=e}},{key:"setSearchRef",value:function(e){this.search=e}},{key:"setPreviewRef",value:function(e){this.preview=e}},{key:"setScrollRef",value:function(e){this.scroll=e}},{key:"setCategoryRef",value:function(e,t){this.categoryRefs||(this.categoryRefs={}),this.categoryRefs[e]=t}},{key:"render",value:function(){var e=this,t=this.props,n=t.perLine,i=t.emojiSize,r=t.set,o=t.sheetSize,s=t.sheetColumns,l=t.sheetRows,c=t.style,d=t.title,u=t.emoji,p=t.color,h=t.native,g=t.backgroundImageFn,b=t.emojisToShowFilter,f=t.showPreview,v=t.showSkinTones,k=t.emojiTooltip,y=t.include,C=t.exclude,j=t.recent,w=t.autoFocus,x=t.skinEmoji,_=t.notFound,E=t.notFoundEmoji,S=this.state.skin,O=n*(i+12)+12+2+Object(N.e)();return m.a.createElement("div",{style:a({width:O},c),className:"emoji-mart",onKeyDown:this.handleKeyDown},m.a.createElement("div",{className:"emoji-mart-bar"},m.a.createElement(B,{ref:this.setAnchorsRef,data:this.data,i18n:this.i18n,color:p,categories:this.categories,onAnchorClick:this.handleAnchorClick,icons:this.icons})),m.a.createElement(J,{ref:this.setSearchRef,onSearch:this.handleSearch,data:this.data,i18n:this.i18n,emojisToShowFilter:b,include:y,exclude:C,custom:this.CUSTOM_CATEGORY.emojis,autoFocus:w}),m.a.createElement("div",{ref:this.setScrollRef,className:"emoji-mart-scroll",onScroll:this.handleScroll},this.getCategories().map((function(t,a){return m.a.createElement(R,{ref:e.setCategoryRef.bind(e,"category-"+a),key:t.name,id:t.id,name:t.name,emojis:t.emojis,perLine:n,native:h,hasStickyPosition:e.hasStickyPosition,data:e.data,i18n:e.i18n,recent:t.id==e.RECENT_CATEGORY.id?j:void 0,custom:t.id==e.RECENT_CATEGORY.id?e.CUSTOM_CATEGORY.emojis:void 0,emojiProps:{native:h,skin:S,size:i,set:r,sheetSize:o,sheetColumns:s,sheetRows:l,forceSize:h,tooltip:k,backgroundImageFn:g,onOver:e.handleEmojiOver,onLeave:e.handleEmojiLeave,onClick:e.handleEmojiClick},notFound:_,notFoundEmoji:E})}))),f&&m.a.createElement("div",{className:"emoji-mart-bar"},m.a.createElement($,{ref:this.setPreviewRef,data:this.data,title:d,emoji:u,showSkinTones:v,emojiProps:{native:h,size:38,skin:S,set:r,sheetSize:o,sheetColumns:s,sheetRows:l,backgroundImageFn:g},skinsProps:{skin:S,onChange:this.handleSkinChange,skinEmoji:x},i18n:this.i18n})))}}]),t}(m.a.PureComponent);t.default=X;X.defaultProps=a({},A.b)},"./node_modules/emoji-mart/dist-es/vendor/raf-polyfill.js":function(e,t){"undefined"!=typeof window&&function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),a=Math.max(0,16-(i-e)),r=window.setTimeout((function(){t(i+a)}),a);return e=i+a,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},"./node_modules/emotion/dist/index.esm.js":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n("./node_modules/create-emotion/dist/index.esm.js"),a=void 0!==e?e:{},r=Object(i.a)(a),o=(r.flush,r.hydrate,r.cx,r.merge,r.getRegisteredStyles,r.injectGlobal),s=(r.keyframes,r.css);r.sheet,r.caches}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/flushable/dist/index.umd.js":function(e,t,n){e.exports=function(){"use strict";return function(e,t){var n=setTimeout((function(){n=null,e(!1)}),t),i=function(){n&&(clearTimeout(n),n=null)};return{cancel:i,flush:function(){n&&(i(),e(!0))},pending:function(){return Boolean(n)}}}}()},"./node_modules/immer/dist/immer.esm.js":function(e,t,n){"use strict";function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function a(e){return!!e&&!!e[K]}function r(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[W]||!!e.constructor[W]||p(e)||m(e))}function o(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:q)(e).forEach((function(i){n&&"symbol"==typeof i||t(i,e[i],e)})):e.forEach((function(n,i){return t(i,n,e)}))}function s(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:m(e)?3:0}function l(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function d(e,t,n){var i=s(e);2===i?e.set(t,n):3===i?(e.delete(t),e.add(n)):e[t]=n}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return U&&e instanceof Map}function m(e){return V&&e instanceof Set}function h(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=$(e);delete t[K];for(var n=q(t),i=0;i<n.length;i++){var a=n[i],r=t[a];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(t[a]={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function b(e,t){return void 0===t&&(t=!1),v(e)||a(e)||!r(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=f),Object.freeze(e),t&&o(e,(function(e,t){return b(t,!0)}),!0)),e}function f(){i(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function k(e){var t=G[e];return t||i(18,e),t}function y(){return M}function C(e,t){t&&(k("Patches"),e.u=[],e.s=[],e.v=t)}function j(e){w(e),e.p.forEach(_),e.p=null}function w(e){e===M&&(M=e.l)}function x(e){return M={p:[],l:M,h:e,m:!0,_:0}}function _(e){var t=e[K];0===t.i||1===t.i?t.j():t.g=!0}function E(e,t){t._=t.p.length;var n=t.p[0],a=void 0!==e&&e!==n;return t.h.O||k("ES5").S(t,e,a),a?(n[K].P&&(j(t),i(4)),r(e)&&(e=S(t,e),t.l||T(t,e)),t.u&&k("Patches").M(n[K],e,t.u,t.s)):e=S(t,n,[]),j(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function S(e,t,n){if(v(t))return t;var i=t[K];if(!i)return o(t,(function(a,r){return O(e,i,t,a,r,n)}),!0),t;if(i.A!==e)return t;if(!i.P)return T(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var a=4===i.i||5===i.i?i.o=g(i.k):i.o;o(3===i.i?new Set(a):a,(function(t,r){return O(e,i,a,t,r,n)})),T(e,a,!1),n&&e.u&&k("Patches").R(i,n,e.u,e.s)}return i.o}function O(e,t,n,i,o,s){if(a(o)){var c=S(e,o,s&&t&&3!==t.i&&!l(t.D,i)?s.concat(i):void 0);if(d(n,i,c),!a(c))return;e.m=!1}if(r(o)&&!v(o)){if(!e.h.N&&e._<1)return;S(e,o),t&&t.A.l||T(e,o)}}function T(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&b(t,n)}function D(e,t){var n=e[K];return(n?h(n):e)[t]}function N(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function I(e){e.P||(e.P=!0,e.l&&I(e.l))}function A(e){e.o||(e.o=g(e.t))}function P(e,t,n){var i=p(t)?k("MapSet").T(t,n):m(t)?k("MapSet").F(t,n):e.O?function(e,t){var n=Array.isArray(e),i={i:n?1:0,A:t?t.A:y(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=i,r=Z;n&&(a=[i],r=J);var o=Proxy.revocable(a,r),s=o.revoke,l=o.proxy;return i.k=l,i.j=s,l}(t,n):k("ES5").J(t,n);return(n?n.A:y()).p.push(i),i}function B(e){return a(e)||i(22,e),function e(t){if(!r(t))return t;var n,i=t[K],a=s(t);if(i){if(!i.P&&(i.i<4||!k("ES5").K(i)))return i.t;i.I=!0,n=L(t,a),i.I=!1}else n=L(t,a);return o(n,(function(t,a){i&&c(i.t,t)===a||d(n,t,e(a))})),3===a?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}n.d(t,"b",(function(){return X}));var F,M,R="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),U="undefined"!=typeof Map,V="undefined"!=typeof Set,z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=R?Symbol.for("immer-nothing"):((F={})["immer-nothing"]=!0,F),W=R?Symbol.for("immer-draftable"):"__$immer_draftable",K=R?Symbol.for("immer-state"):"__$immer_state",q=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames),$=Object.getOwnPropertyDescriptors||function(e){var t={};return q(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},G={},Z={get:function(e,t){if(t===K)return e;var n=h(e);if(!l(n,t))return function(e,t,n){var i,a=N(t,n);return a?"value"in a?a.value:null===(i=a.get)||void 0===i?void 0:i.call(e.k):void 0}(e,n,t);var i=n[t];return e.I||!r(i)?i:i===D(e.t,t)?(A(e),e.o[t]=P(e.A.h,i,e)):i},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var i=N(h(e),t);if(null==i?void 0:i.set)return i.set.call(e.k,n),!0;if(!e.P){var a=D(h(e),t),r=null==a?void 0:a[K];if(r&&r.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(u(n,a)&&(void 0!==n||l(e.t,t)))return!0;A(e),I(e)}return e.o[t]=n,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==D(e.t,t)||t in e.t?(e.D[t]=!1,A(e),I(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty:function(){i(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){i(12)}},J={};o(Z,(function(e,t){J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),J.deleteProperty=function(e,t){return Z.deleteProperty.call(this,e[0],t)},J.set=function(e,t,n){return Z.set.call(this,e[0],t,n,e[0])};var Y=new(function(){function e(e){this.O=z,this.N=!0,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var o=this;return function(e){var n=this;void 0===e&&(e=a);for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return o.produce(e,(function(e){var i;return(i=t).call.apply(i,[n,e].concat(r))}))}}var s;if("function"!=typeof t&&i(6),void 0!==n&&"function"!=typeof n&&i(7),r(e)){var l=x(this),c=P(this,e,void 0),d=!0;try{s=t(c),d=!1}finally{d?j(l):w(l)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return C(l,n),E(e,l)}),(function(e){throw j(l),e})):(C(l,n),E(s,l))}if(!e||"object"!=typeof e){if((s=t(e))===H)return;return void 0===s&&(s=e),this.N&&b(s,!0),s}i(21,e)},t.produceWithPatches=function(e,t){var n,i,a=this;return"function"==typeof e?function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(i))}))}:[this.produce(e,t,(function(e,t){n=e,i=t})),n,i]},t.createDraft=function(e){r(e)||i(8),a(e)&&(e=B(e));var t=x(this),n=P(this,e,void 0);return n[K].C=!0,w(t),n},t.finishDraft=function(e,t){var n=(e&&e[K]).A;return C(n,t),E(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!z&&i(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}var r=k("Patches").$;return a(e)?r(e,t):this.produce(e,(function(e){return r(e,t.slice(n+1))}))},e}()),X=Y.produce;Y.produceWithPatches.bind(Y),Y.setAutoFreeze.bind(Y),Y.setUseProxies.bind(Y),Y.applyPatches.bind(Y),Y.createDraft.bind(Y),Y.finishDraft.bind(Y);t.a=X},"./node_modules/joinn/lib/joinn.js":function(e,t){(function(){e.exports=function(e,t,n){var i,a;switch(null==t&&(t=", "),null==n&&(n=" and "),(i=e.slice(0)).length){case 0:return"";case 1:return i.pop();default:return a=i.pop(),i.join(t)+n+a}}}).call(this)},"./node_modules/performance-now/lib/performance-now.js":function(e,t,n){(function(t){(function(){var n,i,a,r,o,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},i=t.hrtime,r=(n=function(){var e;return 1e9*(e=i())[0]+e[1]})(),s=1e9*t.uptime(),o=r-s):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/raf/index.js":function(e,t,n){(function(t){for(var i=n("./node_modules/performance-now/lib/performance-now.js"),a="undefined"==typeof window?t:window,r=["moz","webkit"],o="AnimationFrame",s=a["request"+o],l=a["cancel"+o]||a["cancelRequest"+o],c=0;!s&&c<r.length;c++)s=a[r[c]+"Request"+o],l=a[r[c]+"Cancel"+o]||a[r[c]+"CancelRequest"+o];if(!s||!l){var d=0,u=0,p=[];s=function(e){if(0===p.length){var t=i(),n=Math.max(0,16.666666666666668-(t-d));d=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(d)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++u,callback:e,cancelled:!1}),u},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(a,e)},e.exports.cancel=function(){l.apply(a,arguments)},e.exports.polyfill=function(e){e||(e=a),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-dnd/dist/esm/common/DndContext.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return Ae})),n.d(t,"b",(function(){return Pe}));var i,a=n("./node_modules/react/index.js");!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(i||(i={}));var r=n("./node_modules/redux/es/redux.js"),o=n("./node_modules/invariant/browser.js"),s=n.n(o),l="dnd-core/INIT_COORDS",c="dnd-core/BEGIN_DRAG",d="dnd-core/PUBLISH_DRAG_SOURCE",u="dnd-core/HOVER",p="dnd-core/DROP",m="dnd-core/END_DRAG";function h(e,t){return{type:l,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function f(e,t){return e.filter((function(e){return e!==t}))}function v(e){return"object"===g(e)}function k(e,t){var n=new Map,i=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(i),t.forEach(i);var a=[];return n.forEach((function(e,t){1===e&&a.push(t)})),a}var y={type:l,payload:{clientOffset:null,sourceClientOffset:null}};function C(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},i=n.publishSource,a=void 0===i||i,r=n.clientOffset,o=n.getSourceClientOffset,s=e.getMonitor(),l=e.getRegistry();e.dispatch(h(r)),j(t,s,l);var d=_(t,s);if(null!==d){var u=null;r&&(w(o),u=o(d)),e.dispatch(h(r,u));var p=l.getSource(d),m=p.beginDrag(s,d);x(m),l.pinSource(d);var g=l.getSourceType(d);return{type:c,payload:{itemType:g,item:m,sourceId:d,clientOffset:r||null,sourceClientOffset:u||null,isSourcePublic:!!a}}}e.dispatch(y)}}function j(e,t,n){s()(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){s()(n.getSource(e),"Expected sourceIds to be registered.")}))}function w(e){s()("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function x(e){s()(v(e),"Item must be an object.")}function _(e,t){for(var n=null,i=e.length-1;i>=0;i--)if(t.canDragSource(e[i])){n=e[i];break}return n}function E(e){return function(){if(e.getMonitor().isDragging())return{type:d}}}function S(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function O(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.clientOffset;T(t);var a=t.slice(0),r=e.getMonitor(),o=e.getRegistry();D(a,r,o);var s=r.getItemType();return N(a,o,s),I(a,r,o),{type:u,payload:{targetIds:a,clientOffset:i||null}}}}function T(e){s()(Array.isArray(e),"Expected targetIds to be an array.")}function D(e,t,n){s()(t.isDragging(),"Cannot call hover while not dragging."),s()(!t.didDrop(),"Cannot call hover after drop.");for(var i=0;i<e.length;i++){var a=e[i];s()(e.lastIndexOf(a)===i,"Expected targetIds to be unique in the passed array.");var r=n.getTarget(a);s()(r,"Expected targetIds to be registered.")}}function N(e,t,n){for(var i=e.length-1;i>=0;i--){var a=e[i];S(t.getTargetType(a),n)||e.splice(i,1)}}function I(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),i=e.getRegistry();F(n);var a=R(n);a.forEach((function(a,r){var o=M(a,r,i,n),s={type:p,payload:{dropResult:P({},t,{},o)}};e.dispatch(s)}))}}function F(e){s()(e.isDragging(),"Cannot call drop while not dragging."),s()(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function M(e,t,n,i){var a=n.getTarget(e),r=a?a.drop(i,e):void 0;return function(e){s()(void 0===e||v(e),"Drop result must either be an object or undefined.")}(r),void 0===r&&(r=0===t?{}:i.getDropResult()),r}function R(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function U(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){s()(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var i=t.getSourceId();return n.getSource(i,!0).endDrag(t,i),n.unpinSource(),{type:m}}}var V=function(e,t){return e===t};function z(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!n(e[i],t[i]))return!1;return!0}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case l:case c:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case u:return z(e.clientOffset,n.clientOffset)?e:K({},e,{clientOffset:n.clientOffset});case m:case p:return $;default:return e}}var Z="dnd-core/ADD_SOURCE",J="dnd-core/ADD_TARGET",Y="dnd-core/REMOVE_SOURCE",X="dnd-core/REMOVE_TARGET";function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case c:return ee({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case d:return ee({},e,{isSourcePublic:!0});case u:return ee({},e,{targetIds:n.targetIds});case X:return-1===e.targetIds.indexOf(n.targetId)?e:ee({},e,{targetIds:f(e.targetIds,n.targetId)});case p:return ee({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case m:return ee({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:case J:return e+1;case Y:case X:return e-1;default:return e}}var re=[],oe=[];function se(e,t){return e!==re&&(e===oe||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function le(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:break;case Z:case J:case X:case Y:return re;case c:case d:case m:case p:default:return oe}var t=e.payload,n=t.targetIds,i=void 0===n?[]:n,a=t.prevTargetIds,r=void 0===a?[]:a,o=k(i,r),s=o.length>0||!H(i,r);if(!s)return re;var l=r[r.length-1],h=i[i.length-1];return l!==h&&(l&&o.push(l),h&&o.push(h)),o}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:le(e.dirtyHandlerIds,{type:t.type,payload:ue({},t.payload,{prevTargetIds:b(e,"dragOperation.targetIds",[])})}),dragOffset:G(e.dragOffset,t),refCount:ae(e.refCount,t),dragOperation:ie(e.dragOperation,t),stateId:ce(e.stateId)}}function he(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}re.__IS_NONE__=!0,oe.__IS_ALL__=!0;var be=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n,i;return t=e,(n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},i=n.handlerIds;s()("function"==typeof e,"listener must be a function."),s()(void 0===i||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var a=this.store.getState().stateId,r=function(){var n=t.store.getState(),r=n.stateId;try{r===a||r===a+1&&!se(n.dirtyHandlerIds,i)||e()}finally{a=r}};return this.store.subscribe(r)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;s()("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var i=t.store.getState().dragOffset;i!==n&&(n=i,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return s()(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return s()(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&S(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return s()(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(e),a=this.getItemType();if(a&&!S(i,a))return!1;var r=this.getTargetIds();if(!r.length)return!1;var o=r.indexOf(e);return n?o===r.length-1:o>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,i=e.clientOffset,a=e.initialClientOffset,r=e.initialSourceClientOffset,i&&a&&r?he((n=r,{x:(t=i).x+n.x,y:t.y+n.y}),a):null;var e,t,n,i,a,r}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,t&&n?he(t,n):null;var e,t,n}}])&&ge(t.prototype,n),i&&ge(t,i),e}(),fe=n("./node_modules/asap/browser-asap.js"),ve=n.n(fe),ke=0;function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){t&&Array.isArray(e)?e.forEach((function(e){return Ce(e,!1)})):s()("string"==typeof e||"symbol"===ye(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function je(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xe(e){var t=(ke++).toString();switch(e){case i.SOURCE:return"S".concat(t);case i.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function _e(e){switch(e[0]){case"S":return i.SOURCE;case"T":return i.TARGET;default:s()(!1,"Cannot parse handler ID: ".concat(e))}}function Ee(e,t){var n=e.entries(),i=!1;do{var a=n.next(),r=a.done;if(we(a.value,2)[1]===t)return!0;i=!!r}while(!i);return!1}var Se=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n,a;return t=e,(n=[{key:"addSource",value:function(e,t){Ce(e),function(e){s()("function"==typeof e.canDrag,"Expected canDrag to be a function."),s()("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),s()("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(i.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Z,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){Ce(e,!0),function(e){s()("function"==typeof e.canDrop,"Expected canDrop to be a function."),s()("function"==typeof e.hover,"Expected hover to be a function."),s()("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(i.TARGET,e,t);return this.store.dispatch(function(e){return{type:J,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Ee(this.dragSources,e)||Ee(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s()(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,i=n?this.pinnedSource:this.dragSources.get(e);return i}},{key:"getTarget",value:function(e){return s()(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return s()(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return s()(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return _e(e)===i.SOURCE}},{key:"isTargetId",value:function(e){return _e(e)===i.TARGET}},{key:"removeSource",value:function(e){var t=this;s()(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Y,payload:{sourceId:e}}}(e)),ve()((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){s()(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:X,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);s()(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){s()(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var a=xe(e);return this.types.set(a,t),e===i.SOURCE?this.dragSources.set(a,n):e===i.TARGET&&this.dropTargets.set(a,n),a}}])&&je(t.prototype,n),a&&je(t,a),e}();function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function De(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Object(r.e)(me,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var Ne=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Oe(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var i=De(n);this.store=i,this.monitor=new be(i,new Se(i)),i.subscribe(this.handleRefCountChange)}var t,n,i;return t=e,(n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:C(e),publishDragSource:E(e),hover:O(e),drop:L(e),endDrag:U(e)}}(this);return Object.keys(n).reduce((function(i,a){var r,o=n[a];return i[a]=(r=o,function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=r.apply(e,i);void 0!==o&&t(o)}),i}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&Te(t.prototype,n),i&&Te(t,i),e}();function Ie(e,t,n,i){var a=new Ne(i),r=e(a,t,n);return a.receiveBackend(r),a}var Ae=a.createContext({dragDropManager:void 0});function Pe(e,t,n,i){return{dragDropManager:Ie(e,t,n,i)}}},"./node_modules/react-dnd/dist/esm/common/DndProvider.js":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var i=n("./node_modules/react/index.js"),a=n("./node_modules/react-dnd/dist/esm/common/DndContext.js");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=0,l=Object(i.memo)((function(e){var t=e.children,n=r(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d(),n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=t;r[c]||(r[c]=Object(a.b)(e,t,n,i));return r[c]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(o(e,["children"])),2),l=n[0],u=n[1];return i.useEffect((function(){return u&&s++,function(){u&&(0===--s&&(d()[c]=null))}}),[]),i.createElement(a.a.Provider,{value:l},t)}));l.displayName="DndProvider";var c=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function d(){return void 0!==e?e:window}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-dnd/dist/esm/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DndContext",(function(){return i.a})),n.d(t,"createDndContext",(function(){return i.b})),n.d(t,"DndProvider",(function(){return a.a})),n.d(t,"DragPreviewImage",(function(){return o})),n.d(t,"useDrag",(function(){return P})),n.d(t,"useDrop",(function(){return z})),n.d(t,"useDragLayer",(function(){return W})),n.d(t,"DragSource",(function(){return ke})),n.d(t,"DropTarget",(function(){return xe})),n.d(t,"DragLayer",(function(){return Ae}));var i=n("./node_modules/react-dnd/dist/esm/common/DndContext.js"),a=n("./node_modules/react-dnd/dist/esm/common/DndProvider.js"),r=n("./node_modules/react/index.js"),o=r.memo((function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var i=new Image;i.src=n,i.onload=function(){return t(i)}}return null}));o.displayName="DragPreviewImage";var s=n("./node_modules/invariant/browser.js"),l=n.n(s),c="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,d=n("./node_modules/shallowequal/index.js"),u=n.n(d);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t,n){var i=p(Object(r.useState)((function(){return t(e)})),2),a=i[0],o=i[1],s=Object(r.useCallback)((function(){var i=t(e);u()(a,i)||(o(i),n&&n())}),[a,e,n]);return c(s,[]),[a,s]}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e,t,n){var i=h(m(e,t,n),2),a=i[0],r=i[1];return c((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(r,{handlerIds:[t]})}),[e,r]),a}function b(e,t,n){var i=n.getRegistry(),a=i.addTarget(e,t);return[a,function(){return i.removeTarget(a)}]}function f(e,t,n){var i=n.getRegistry(),a=i.addSource(e,t);return[a,function(){return i.removeSource(a)}]}function v(){var e=Object(r.useContext)(i.a).dragDropManager;return l()(null!=e,"Expected drag drop context"),e}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var y=!1,C=!1,j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,n,i;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){l()(!y,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return y=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{y=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;l()(!C,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return C=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{C=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&k(t.prototype,n),i&&k(t,i),e}();function w(e,t){"function"==typeof e?e(t):e.current=t}function x(e,t){var n=e.ref;return l()("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?Object(r.cloneElement)(e,{ref:function(e){w(n,e),w(t,e)}}):Object(r.cloneElement)(e,{ref:t})}function _(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function E(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(r.isValidElement)(t)){var i=t;return e(i,n),i}var a=t;return _(a),x(a,n?function(t){return e(t,n)}:e)}}(i);t[n]=function(){return a}}})),t}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return null!==e&&"object"===S(e)&&e.hasOwnProperty("current")}function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var D=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=E({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,O(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,O(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,n,i;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();this.handlerId?this.dragPreview&&t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.disconnectDragPreview(),this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.disconnectDragPreview()}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!u()(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!u()(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&T(t.prototype,n),i&&T(t,i),e}();function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(e){var t=Object(r.useRef)(e);t.current=e,l()(null!=e.item,"item must be defined"),l()(null!=e.item.type,"item type must be defined");var n,i=A((n=v(),[Object(r.useMemo)((function(){return new j(n)}),[n]),Object(r.useMemo)((function(){return new D(n.getBackend())}),[n])]),2),a=i[0],o=i[1];!function(e,t,n){var i=v(),a=Object(r.useMemo)((function(){return{beginDrag:function(){var n=e.current,i=n.begin,a=n.item;if(i){var r=i(t);return l()(null==r||"object"===I(r),"dragSpec.begin() must either return an object, undefined, or null"),r||a||{}}return a||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,i){var a=e.current.isDragging;return a?a(t):i===n.getSourceId()},endDrag:function(){var i=e.current.end;i&&i(t.getItem(),t),n.reconnect()}}}),[]);c((function(){var r=N(f(e.current.item.type,a,i),2),o=r[0],s=r[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),s}),[])}(t,a,o);var s=g(a,t.current.collect||function(){return{}},(function(){return o.reconnect()})),d=Object(r.useMemo)((function(){return o.hooks.dragSource()}),[o]),u=Object(r.useMemo)((function(){return o.hooks.dragPreview()}),[o]);return c((function(){o.dragSourceOptions=t.current.options||null,o.reconnect()}),[o]),c((function(){o.dragPreviewOptions=t.current.previewOptions||null,o.reconnect()}),[o]),[s,d,u]}function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var L=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=E({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,O(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n,i;return t=e,(n=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!u()(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&B(t.prototype,n),i&&B(t,i),e}();function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var M=!1,R=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n,i;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;l()(!M,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return M=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{M=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&F(t.prototype,n),i&&F(t,i),e}();function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(e){var t=Object(r.useRef)(e);t.current=e,l()(null!=e.accept,"accept must be defined");var n,i=V((n=v(),[Object(r.useMemo)((function(){return new R(n)}),[n]),Object(r.useMemo)((function(){return new L(n.getBackend())}),[n])]),2),a=i[0],o=i[1];!function(e,t,n){var i=v(),a=Object(r.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);c((function(){var r=U(b(e.current.accept,a,i),2),o=r[0],s=r[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),s}),[t,n])}(t,a,o);var s=g(a,t.current.collect||function(){return{}},(function(){return o.reconnect()})),d=Object(r.useMemo)((function(){return o.hooks.dropTarget()}),[o]);return c((function(){o.dropTargetOptions=e.options||null,o.reconnect()}),[e.options]),[s,d]}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function W(e){var t=v().getMonitor(),n=H(m(t,e),2),i=n[0],a=n[1];return Object(r.useEffect)((function(){return t.subscribeToOffsetChange(a)})),Object(r.useEffect)((function(){return t.subscribeToStateChange(a)})),i}function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e){return"function"==typeof e}function $(){}function G(e){if(!function(e){return"object"===K(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Z(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function J(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||function(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}(e);var t}var Y=n("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),X=n.n(Y);function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),e}var ne=function(){function e(t){Q(this,e),this.isDisposed=!1,this.action=q(t)?t:$}return te(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return e&&q(e.dispose)}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();ne.empty={dispose:$};var ie=function(){function e(){Q(this,e),this.isDisposed=!1;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this.disposables=n}return te(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var i=0;i<e;i++)t[i].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var i=0;i<e;i++)t[i].dispose()}}}]),e}(),ae=function(){function e(){Q(this,e),this.isDisposed=!1}return te(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}();function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function le(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=e.DecoratedComponent,n=e.createHandler,a=e.createMonitor,o=e.createConnector,s=e.registerHandler,c=e.containerDisplayName,d=e.getType,p=e.collect,m=e.options.arePropsEqual,h=void 0===m?u.a:m,g=t,b=t.displayName||t.name||"Component",f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=le(this,ce(t).call(this,e))).decoratedRef=r.createRef(),n.handleChange=function(){var e=n.getCurrentState();u()(e,n.state)||n.setState(e)},n.disposable=new ae,n.receiveProps(e),n.dispose(),n}var c,m,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,e),c=t,(m=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return l()(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!h(e,this.props)||!u()(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new ae,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){h(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(d(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=oe(s(e,this.handler,this.manager),2),n=t[0],i=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var a=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new ie(new ne(a),new ne(i)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?p(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return r.createElement(i.a.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),r.createElement(g,Object.assign({},e.props,e.getCurrentState(),{ref:J(g)?e.decoratedRef:null}))}))}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(l()(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",b,b),void 0!==e&&(this.manager=e,this.handlerMonitor=a(e),this.handlerConnector=o(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}])&&se(c.prototype,m),f&&se(c,f),t}(r.Component);return f.DecoratedComponent=t,f.displayName="".concat(c,"(").concat(b,")"),X()(f,t)}function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){return"string"==typeof e||"symbol"===pe(e)||!!t&&Array.isArray(e)&&e.every((function(e){return me(e,!1)}))}function he(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ge=["canDrag","beginDrag","isDragging","endDrag"],be=["beginDrag"],fe=function(){function e(t,n,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.beginDrag=function(){if(a.props)return a.spec.beginDrag(a.props,a.monitor,a.ref.current)},this.spec=t,this.monitor=n,this.ref=i}var t,n,i;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,Z(this.ref))}}])&&he(t.prototype,n),i&&he(t,i),e}();function ve(e){return Object.keys(e).forEach((function(t){l()(ge.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',ge.join(", "),t),l()("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),be.forEach((function(t){l()("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new fe(e,t,n)}}function ke(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e;"function"!=typeof e&&(l()(me(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),a=function(){return e}),l()(G(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var r=ve(t);return l()("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),l()(G(i),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return ue({containerDisplayName:"DragSource",createHandler:r,registerHandler:f,createConnector:function(e){return new D(e)},createMonitor:function(e){return new j(e)},DecoratedComponent:e,getType:a,collect:n,options:i})}}function ye(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ce=["canDrop","hover","drop"],je=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.spec=t,this.monitor=n,this.ref=i}var t,n,i;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,Z(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&ye(t.prototype,n),i&&ye(t,i),e}();function we(e){return Object.keys(e).forEach((function(t){l()(Ce.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',Ce.join(", "),t),l()("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new je(e,t,n)}}function xe(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e;"function"!=typeof e&&(l()(me(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),a=function(){return e}),l()(G(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var r=we(t);return l()("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),l()(G(i),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return ue({containerDisplayName:"DropTarget",createHandler:r,registerHandler:b,createMonitor:function(e){return new R(e)},createConnector:function(e){return new L(e)},DecoratedComponent:e,getType:a,collect:n,options:i})}}function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Oe(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),e}function Te(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l()("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),l()(G(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var a=n,o=t.arePropsEqual,s=void 0===o?u.a:o,c=a.displayName||a.name||"Component",d=function(t){function n(){var e;return Ee(this,n),(e=Te(this,De(n).apply(this,arguments))).isCurrentlyMounted=!1,e.ref=r.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();u()(t,e.state)||e.setState(t)}},e}return Ne(n,t),Oe(n,[{key:"getDecoratedComponentInstance",value:function(){return l()(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}},{key:"shouldComponentUpdate",value:function(e,t){return!s(e,this.props)||!u()(t,this.state)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)}},{key:"render",value:function(){var e=this;return r.createElement(i.a.Consumer,null,(function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?r.createElement(a,Object.assign({},e.props,e.state,{ref:J(a)?e.ref:null})):null)}))}},{key:"receiveDragDropManager",value:function(e){if(void 0===this.manager){this.manager=e,l()("object"===_e(e),"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",c,c);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}}},{key:"getCurrentState",value:function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)}}]),n}(r.Component);return d.displayName="DragLayer(".concat(c,")"),d.DecoratedComponent=n,X()(d,n)}}},"./node_modules/react-input-autosize/lib/AutosizeInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./node_modules/react/index.js"),o=l(r),s=l(n("./node_modules/prop-types/index.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},d=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],u=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},p=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),m=function(){return p?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||m()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||m()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(u(e,this.sizer),this.placeHolderSizer&&u(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return p&&e?o.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=i({},this.props.style);t.display||(t.display="inline-block");var n=i({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),a=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(this.props,[]);return function(e){d.forEach((function(t){return delete e[t]}))}(a),a.className=this.props.inputClassName,a.id=this.state.inputId,a.style=n,o.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),o.default.createElement("input",i({},a,{ref:this.inputRef})),o.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?o.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(r.Component);h.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},"./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js":function(e,t,n){"use strict";function i(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function r(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=i,t.componentWillReceiveProps=a),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,i)}}return e}n.r(t),n.d(t,"polyfill",(function(){return o})),i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0},"./node_modules/react-node-resolver/lib/NodeResolver.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("./node_modules/react/index.js"),r=n("./node_modules/react-dom/index.js");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,r.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(a.Component);t.default=l},"./node_modules/react-node-resolver/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react-node-resolver/lib/NodeResolver.js");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=i,e&&e.__esModule?e:{default:e}).default;var e}})},"./node_modules/react-select/dist/react-select.esm.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return Re}));var i=n("./node_modules/react/index.js"),a=n.n(i);function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var o=function(e,t){var n;void 0===t&&(t=r);var i,a=[],o=!1;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return o&&n===this&&t(r,a)||(i=e.apply(this,r),o=!0,n=this,a=r),i}},s=n("./node_modules/emotion/dist/index.esm.js"),l=n("./node_modules/react-dom/index.js"),c=n("./node_modules/prop-types/index.js"),d=n.n(c),u=n("./node_modules/raf/index.js"),p=n.n(u),m=n("./node_modules/react-input-autosize/lib/AutosizeInput.js"),h=n.n(m),g=n("./node_modules/react-select/node_modules/react-transition-group/index.js");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function k(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){y(e,t,n[t])}))}return e}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?S(e):t}function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var D=function(){};function N(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function I(e,t,n,i){var a=[t,i];if(n&&e)for(var r in n)n.hasOwnProperty(r)&&n[r]&&a.push("".concat(N(e,r)));return a.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var A=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===b(e)&&null!==e?[e]:[]};function P(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function B(e){return P(e)?window.pageYOffset:e.scrollTop}function L(e,t){P(e)?window.scrollTo(0,t):e.scrollTop=t}function F(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:D,a=B(e),r=t-a,o=10,s=0;function l(){var t=F(s+=o,a,r,n);L(e,t),s<n?p()(l):i(e)}l()}function R(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function U(e){var t=e.maxHeight,n=e.menuEl,i=e.minHeight,a=e.placement,r=e.shouldScroll,o=e.isFixedPosition,s=e.theme.spacing,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/,a=document.documentElement;if("fixed"===t.position)return a;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return a}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d=l.getBoundingClientRect().height,u=n.getBoundingClientRect(),p=u.bottom,m=u.height,h=u.top,g=n.offsetParent.getBoundingClientRect().top,b=window.innerHeight,f=B(l),v=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),y=g-k,C=b-h,j=y+f,w=d-f-h,x=p-b+f+v,_=f+h-k,E=160;switch(a){case"auto":case"bottom":if(C>=m)return{placement:"bottom",maxHeight:t};if(w>=m&&!o)return r&&M(l,x,E),{placement:"bottom",maxHeight:t};if(!o&&w>=i||o&&C>=i)return r&&M(l,x,E),{placement:"bottom",maxHeight:o?C-v:w-v};if("auto"===a||o){var S=t,O=o?y:j;return O>=i&&(S=Math.min(O-v-s.controlHeight,t)),{placement:"top",maxHeight:S}}if("bottom"===a)return L(l,x),{placement:"bottom",maxHeight:t};break;case"top":if(y>=m)return{placement:"top",maxHeight:t};if(j>=m&&!o)return r&&M(l,_,E),{placement:"top",maxHeight:t};if(!o&&j>=i||o&&y>=i){var T=t;return(!o&&j>=i||o&&y>=i)&&(T=o?y-k:j-k),r&&M(l,_,E),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return c}var V=function(e){return"auto"===e?"bottom":e},z=function(e){function t(){var e,n;f(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return y(S(S(n=O(this,(e=x(t)).call.apply(e,[this].concat(a))))),"state",{maxHeight:n.props.maxMenuHeight,placement:null}),y(S(S(n)),"getPlacement",(function(e){var t=n.props,i=t.minMenuHeight,a=t.maxMenuHeight,r=t.menuPlacement,o=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,c=n.context.getPortalPlacement;if(e){var d="fixed"===o,u=U({maxHeight:a,menuEl:e,minHeight:i,placement:r,shouldScroll:s&&!d,isFixedPosition:d,theme:l});c&&c(u),n.setState(u)}})),y(S(S(n)),"getUpdatedProps",(function(){var e=n.props.menuPlacement,t=n.state.placement||V(e);return j({},n.props,{placement:t,maxHeight:n.state.maxHeight})})),n}return w(t,e),k(t,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(i.Component);y(z,"contextTypes",{getPortalPlacement:d.a.func});var H=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},W=H,K=H,q=function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,o=e.innerProps;return a.a.createElement("div",C({className:i(Object(s.a)(r("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},o),t)};q.defaultProps={children:"No options"};var $=function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,o=e.innerProps;return a.a.createElement("div",C({className:i(Object(s.a)(r("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},n)},o),t)};$.defaultProps={children:"Loading..."};var G=function(e){function t(){var e,n;f(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return y(S(S(n=O(this,(e=x(t)).call.apply(e,[this].concat(a))))),"state",{placement:null}),y(S(S(n)),"getPortalPlacement",(function(e){var t=e.placement;t!==V(n.props.menuPlacement)&&n.setState({placement:t})})),n}return w(t,e),k(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,i=e.controlElement,r=e.menuPlacement,o=e.menuPosition,c=e.getStyles,d="fixed"===o;if(!t&&!d||!i)return null;var u=this.state.placement||V(r),p=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),m=d?0:window.pageYOffset,h={offset:p[u]+m,position:o,rect:p},g=a.a.createElement("div",{className:Object(s.a)(c("menuPortal",h))},n);return t?Object(l.createPortal)(g,t):g}}]),t}(i.Component);y(G,"childContextTypes",{getPortalPlacement:d.a.func});var Z=Array.isArray,J=Object.keys,Y=Object.prototype.hasOwnProperty;function X(e,t){if(e===t)return!0;if(e&&t&&"object"==b(e)&&"object"==b(t)){var n,i,a,r=Z(e),o=Z(t);if(r&&o){if((i=e.length)!=t.length)return!1;for(n=i;0!=n--;)if(!X(e[n],t[n]))return!1;return!0}if(r!=o)return!1;var s=e instanceof Date,l=t instanceof Date;if(s!=l)return!1;if(s&&l)return e.getTime()==t.getTime();var c=e instanceof RegExp,d=t instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==t.toString();var u=J(e);if((i=u.length)!==J(t).length)return!1;for(n=i;0!=n--;)if(!Y.call(t,u[n]))return!1;for(n=i;0!=n--;)if(!("_owner"===(a=u[n])&&e.$$typeof||X(e[a],t[a])))return!1;return!0}return e!=e&&t!=t}function Q(e,t){try{return X(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}var ee=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],te=function(e){for(var t=0;t<ee.length;t++)e=e.replace(ee[t].letters,ee[t].base);return e},ne=function(e){return e.replace(/^\s+|\s+$/g,"")},ie=function(e){return"".concat(e.label," ").concat(e.value)},ae=function(e){return a.a.createElement("span",C({className:Object(s.a)({label:"a11yText",zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},e))},re=function(e){function t(){return f(this,t),O(this,x(t).apply(this,arguments))}return w(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),n=(e.emotion,E(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return a.a.createElement("input",C({ref:t},n,{className:Object(s.a)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(i.Component),oe=function(e){function t(){return f(this,t),O(this,x(t).apply(this,arguments))}return w(t,e),k(t,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(l.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(i.Component),se=["boxSizing","height","overflow","paddingRight","position"],le={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ce(e){e.preventDefault()}function de(e){e.stopPropagation()}function ue(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function pe(){return"ontouchstart"in window||navigator.maxTouchPoints}var me=!("undefined"==typeof window||!window.document||!window.document.createElement),he=0,ge=function(e){function t(){var e,n;f(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return y(S(S(n=O(this,(e=x(t)).call.apply(e,[this].concat(a))))),"originalStyles",{}),y(S(S(n)),"listenerOptions",{capture:!1,passive:!1}),n}return w(t,e),k(t,[{key:"componentDidMount",value:function(){var e=this;if(me){var t=this.props,n=t.accountForScrollbars,i=t.touchScrollTarget,a=document.body,r=a&&a.style;if(n&&se.forEach((function(t){var n=r&&r[t];e.originalStyles[t]=n})),n&&he<1){var o=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,l=window.innerWidth-s+o||0;Object.keys(le).forEach((function(e){var t=le[e];r&&(r[e]=t)})),r&&(r.paddingRight="".concat(l,"px"))}a&&pe()&&(a.addEventListener("touchmove",ce,this.listenerOptions),i&&(i.addEventListener("touchstart",ue,this.listenerOptions),i.addEventListener("touchmove",de,this.listenerOptions))),he+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(me){var t=this.props,n=t.accountForScrollbars,i=t.touchScrollTarget,a=document.body,r=a&&a.style;he=Math.max(he-1,0),n&&he<1&&se.forEach((function(t){var n=e.originalStyles[t];r&&(r[t]=n)})),a&&pe()&&(a.removeEventListener("touchmove",ce,this.listenerOptions),i&&(i.removeEventListener("touchstart",ue,this.listenerOptions),i.removeEventListener("touchmove",de,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(i.Component);y(ge,"defaultProps",{accountForScrollbars:!0});var be=function(e){function t(){var e,n;f(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return y(S(S(n=O(this,(e=x(t)).call.apply(e,[this].concat(a))))),"state",{touchScrollTarget:null}),y(S(S(n)),"getScrollTarget",(function(e){e!==n.state.touchScrollTarget&&n.setState({touchScrollTarget:e})})),y(S(S(n)),"blurSelectInput",(function(){document.activeElement&&document.activeElement.blur()})),n}return w(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEnabled,i=this.state.touchScrollTarget;return n?a.a.createElement("div",null,a.a.createElement("div",{onClick:this.blurSelectInput,className:Object(s.a)({position:"fixed",left:0,bottom:0,right:0,top:0})}),a.a.createElement(oe,{innerRef:this.getScrollTarget},t),i?a.a.createElement(ge,{touchScrollTarget:i}):null):t}}]),t}(i.PureComponent),fe=function(e){function t(){var e,n;f(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return y(S(S(n=O(this,(e=x(t)).call.apply(e,[this].concat(a))))),"isBottom",!1),y(S(S(n)),"isTop",!1),y(S(S(n)),"scrollTarget",void 0),y(S(S(n)),"touchStart",void 0),y(S(S(n)),"cancelScroll",(function(e){e.preventDefault(),e.stopPropagation()})),y(S(S(n)),"handleEventDelta",(function(e,t){var i=n.props,a=i.onBottomArrive,r=i.onBottomLeave,o=i.onTopArrive,s=i.onTopLeave,l=n.scrollTarget,c=l.scrollTop,d=l.scrollHeight,u=l.clientHeight,p=n.scrollTarget,m=t>0,h=d-u-c,g=!1;h>t&&n.isBottom&&(r&&r(e),n.isBottom=!1),m&&n.isTop&&(s&&s(e),n.isTop=!1),m&&t>h?(a&&!n.isBottom&&a(e),p.scrollTop=d,g=!0,n.isBottom=!0):!m&&-t>c&&(o&&!n.isTop&&o(e),p.scrollTop=0,g=!0,n.isTop=!0),g&&n.cancelScroll(e)})),y(S(S(n)),"onWheel",(function(e){n.handleEventDelta(e,e.deltaY)})),y(S(S(n)),"onTouchStart",(function(e){n.touchStart=e.changedTouches[0].clientY})),y(S(S(n)),"onTouchMove",(function(e){var t=n.touchStart-e.changedTouches[0].clientY;n.handleEventDelta(e,t)})),y(S(S(n)),"getScrollTarget",(function(e){n.scrollTarget=e})),n}return w(t,e),k(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&(e.scrollHeight<=e.clientHeight||("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1)))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return a.a.createElement(oe,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(i.Component),ve=function(e){function t(){return f(this,t),O(this,x(t).apply(this,arguments))}return w(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=E(e,["isEnabled"]);return t?a.a.createElement(fe,n):this.props.children}}]),t}(i.Component);y(ve,"defaultProps",{isEnabled:!0});var ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,i=t.isMulti,a=t.label,r=t.isDisabled;switch(e){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(a||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},ye=function(e,t){var n=t.value,i=t.isDisabled;if(n)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,i?" is disabled. Select another option.":", selected.")}},Ce=function(e){return!!e.isDisabled},je=function(e){function t(){return f(this,t),O(this,x(t).apply(this,arguments))}return w(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=e.cx,r=e.isMulti,o=e.getStyles,l=e.hasValue;return a.a.createElement("div",{className:i(Object(s.a)(o("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":l},n)},t)}}]),t}(i.Component),we=function(e){var t=e.size,n=E(e,["size"]);return a.a.createElement("svg",C({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:Object(s.a)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},xe=function(e){return a.a.createElement(we,C({size:20},e),a.a.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},_e=function(e){return a.a.createElement(we,C({size:20},e),a.a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ee=function(e){var t=e.isFocused,n=e.theme,i=n.spacing.baseUnit,a=n.colors;return{label:"indicatorContainer",color:t?a.neutral60:a.neutral20,display:"flex",padding:2*i,transition:"color 150ms",":hover":{color:t?a.neutral80:a.neutral40}}},Se=Ee,Oe=Ee,Te="react-select-loading-indicator",De=!1,Ne=function(e){var t=e.color,n=e.delay,i=e.offset;return a.a.createElement("span",{className:Object(s.a)({animationDuration:"1s",animationDelay:"".concat(n,"ms"),animationIterationCount:"infinite",animationName:Te,animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})},Ie=function(e){var t=e.className,n=e.cx,i=e.getStyles,r=e.innerProps,o=e.isFocused,l=e.isRtl,c=e.theme.colors,d=o?c.neutral80:c.neutral20;return De||(Object(s.b)("@keyframes ",Te,"{0%,80%,100%{opacity:0;}40%{opacity:1;}};"),De=!0),a.a.createElement("div",C({},r,{className:n(Object(s.a)(i("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t)}),a.a.createElement(Ne,{color:d,delay:0,offset:l}),a.a.createElement(Ne,{color:d,delay:160,offset:!0}),a.a.createElement(Ne,{color:d,delay:320,offset:!l}))};Ie.defaultProps={size:4};var Ae=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},Pe=function(e){var t=e.children,n=e.innerProps;return a.a.createElement("div",n,t)},Be=Pe,Le=Pe,Fe=function(e){function t(){return f(this,t),O(this,x(t).apply(this,arguments))}return w(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.innerProps;return a.a.createElement("div",n,t||a.a.createElement(xe,{size:14}))}}]),t}(i.Component),Me=function(e){function t(){return f(this,t),O(this,x(t).apply(this,arguments))}return w(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=e.components,r=e.cx,o=e.data,l=e.getStyles,c=e.innerProps,d=e.isDisabled,u=e.removeProps,p=e.selectProps,m=i.Container,h=i.Label,g=i.Remove,b=j({className:r(Object(s.a)(l("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":d},n)},c),f={className:r(Object(s.a)(l("multiValueLabel",this.props)),{"multi-value__label":!0},n)},v=j({className:r(Object(s.a)(l("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},u);return a.a.createElement(m,{data:o,innerProps:b,selectProps:p},a.a.createElement(h,{data:o,innerProps:f,selectProps:p},t),a.a.createElement(g,{data:o,innerProps:v,selectProps:p}))}}]),t}(i.Component);y(Me,"defaultProps",{cropWithEllipsis:!0});var Re={ClearIndicator:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,o=e.innerProps;return a.a.createElement("div",C({},o,{className:i(Object(s.a)(r("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},n)}),t||a.a.createElement(xe,null))},Control:function(e){var t=e.children,n=e.cx,i=e.getStyles,r=e.className,o=e.isDisabled,l=e.isFocused,c=e.innerRef,d=e.innerProps,u=e.menuIsOpen;return a.a.createElement("div",C({ref:c,className:n(Object(s.a)(i("control",e)),{control:!0,"control--is-disabled":o,"control--is-focused":l,"control--menu-is-open":u},r)},d),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,o=e.innerProps;return a.a.createElement("div",C({},o,{className:i(Object(s.a)(r("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},n)}),t||a.a.createElement(_e,null))},DownChevron:_e,CrossIcon:xe,Group:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,o=e.Heading,l=e.headingProps,c=e.label,d=e.theme,u=e.selectProps;return a.a.createElement("div",{className:i(Object(s.a)(r("group",e)),{group:!0},n)},a.a.createElement(o,C({},l,{selectProps:u,theme:d,getStyles:r,cx:i}),c),a.a.createElement("div",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,i=e.getStyles,r=e.theme,o=(e.selectProps,E(e,["className","cx","getStyles","theme","selectProps"]));return a.a.createElement("div",C({className:n(Object(s.a)(i("groupHeading",j({theme:r},o))),{"group-heading":!0},t)},o))},IndicatorsContainer:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles;return a.a.createElement("div",{className:i(Object(s.a)(r("indicatorsContainer",e)),{indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,i=e.getStyles,r=e.innerProps;return a.a.createElement("span",C({},r,{className:n(Object(s.a)(i("indicatorSeparator",e)),{"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,i=e.getStyles,r=e.innerRef,o=e.isHidden,l=e.isDisabled,c=e.theme,d=(e.selectProps,E(e,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return a.a.createElement("div",{className:Object(s.a)(i("input",j({theme:c},d)))},a.a.createElement(h.a,C({className:n(null,{input:!0},t),inputRef:r,inputStyle:Ae(o),disabled:l},d)))},LoadingIndicator:Ie,Menu:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,o=e.innerRef,l=e.innerProps,c=i(Object(s.a)(r("menu",e)),{menu:!0},n);return a.a.createElement("div",C({className:c},l,{ref:o}),t)},MenuList:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,o=e.isMulti,l=e.innerRef;return a.a.createElement("div",{className:i(Object(s.a)(r("menuList",e)),{"menu-list":!0,"menu-list--is-multi":o},n),ref:l},t)},MenuPortal:G,LoadingMessage:$,NoOptionsMessage:q,MultiValue:Me,MultiValueContainer:Be,MultiValueLabel:Le,MultiValueRemove:Fe,Option:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,o=e.isDisabled,l=e.isFocused,c=e.isSelected,d=e.innerRef,u=e.innerProps;return a.a.createElement("div",C({ref:d,className:i(Object(s.a)(r("option",e)),{option:!0,"option--is-disabled":o,"option--is-focused":l,"option--is-selected":c},n)},u),t)},Placeholder:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,o=e.innerProps;return a.a.createElement("div",C({className:i(Object(s.a)(r("placeholder",e)),{placeholder:!0},n)},o),t)},SelectContainer:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,o=e.innerProps,l=e.isDisabled,c=e.isRtl;return a.a.createElement("div",C({className:i(Object(s.a)(r("container",e)),{"--is-disabled":l,"--is-rtl":c},n)},o),t)},SingleValue:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,o=e.isDisabled,l=e.innerProps;return a.a.createElement("div",C({className:i(Object(s.a)(r("singleValue",e)),{"single-value":!0,"single-value--is-disabled":o},n)},l),t)},ValueContainer:je},Ue=function(e){return j({},Re,e.components)},Ve={clearIndicator:Oe,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,i=e.theme,a=i.colors,r=i.borderRadius,o=i.spacing;return{label:"control",alignItems:"center",backgroundColor:t?a.neutral5:a.neutral0,borderColor:t?a.neutral10:n?a.primary:a.neutral20,borderRadius:r,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(a.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?a.primary:a.neutral30}}},dropdownIndicator:Se,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,i=n.spacing.baseUnit,a=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?a.neutral10:a.neutral20,marginBottom:2*i,marginTop:2*i,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,i=n.spacing,a=n.colors;return{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,visibility:t?"hidden":"visible",color:a.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,i=e.theme,a=i.colors,r=i.spacing.baseUnit;return{label:"loadingIndicator",color:t?a.neutral60:a.neutral20,display:"flex",padding:2*r,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:K,menu:function(e){var t,n=e.placement,i=e.theme,a=i.borderRadius,r=i.spacing,o=i.colors;return y(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),y(t,"backgroundColor",o.neutral0),y(t,"borderRadius",a),y(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),y(t,"marginBottom",r.menuGutter),y(t,"marginTop",r.menuGutter),y(t,"position","absolute"),y(t,"width","100%"),y(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,i=e.position;return{left:t.left,position:i,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,i=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:i/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,i=t.colors,a=e.cropWithEllipsis;return{borderRadius:n/2,color:i.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:a?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,i=t.borderRadius,a=t.colors;return{alignItems:"center",borderRadius:i/2,backgroundColor:e.isFocused&&a.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}}},noOptionsMessage:W,option:function(e){var t=e.isDisabled,n=e.isFocused,i=e.isSelected,a=e.theme,r=a.spacing,o=a.colors;return{label:"option",backgroundColor:i?o.primary:n?o.primary25:"transparent",color:t?o.neutral20:i?o.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*r.baseUnit,"px ").concat(3*r.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(i?o.primary:o.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,i=n.spacing,a=n.colors;return{label:"singleValue",color:t?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,maxWidth:"calc(100% - ".concat(2*i.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var ze,He={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},We={backspaceRemovesValue:!0,blurInputOnSelect:R(),captureMenuScroll:!R(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=j({ignoreCase:!0,ignoreAccents:!0,stringify:ie,trim:!0,matchFrom:"any"},ze),i=n.ignoreCase,a=n.ignoreAccents,r=n.stringify,o=n.trim,s=n.matchFrom,l=o?ne(t):t,c=o?ne(r(e)):r(e);return i&&(l=l.toLowerCase(),c=c.toLowerCase()),a&&(l=te(l),c=te(c)),"start"===s?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Ce,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},Ke=1,qe=function(e){function t(e){var n;f(this,t),y(S(S(n=O(this,x(t).call(this,e)))),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),y(S(S(n)),"blockOptionHover",!1),y(S(S(n)),"isComposing",!1),y(S(S(n)),"clearFocusValueOnUpdate",!1),y(S(S(n)),"commonProps",void 0),y(S(S(n)),"components",void 0),y(S(S(n)),"hasGroups",!1),y(S(S(n)),"initialTouchX",0),y(S(S(n)),"initialTouchY",0),y(S(S(n)),"inputIsHiddenAfterUpdate",void 0),y(S(S(n)),"instancePrefix",""),y(S(S(n)),"openAfterFocus",!1),y(S(S(n)),"scrollToFocusedOptionOnUpdate",!1),y(S(S(n)),"userIsDragging",void 0),y(S(S(n)),"controlRef",null),y(S(S(n)),"getControlRef",(function(e){n.controlRef=e})),y(S(S(n)),"focusedOptionRef",null),y(S(S(n)),"getFocusedOptionRef",(function(e){n.focusedOptionRef=e})),y(S(S(n)),"menuListRef",null),y(S(S(n)),"getMenuListRef",(function(e){n.menuListRef=e})),y(S(S(n)),"inputRef",null),y(S(S(n)),"getInputRef",(function(e){n.inputRef=e})),y(S(S(n)),"cacheComponents",(function(e){n.components=Ue({components:e})})),y(S(S(n)),"focus",n.focusInput),y(S(S(n)),"blur",n.blurInput),y(S(S(n)),"onChange",(function(e,t){var i=n.props;(0,i.onChange)(e,j({},t,{name:i.name}))})),y(S(S(n)),"setValue",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",i=arguments.length>2?arguments[2]:void 0,a=n.props,r=a.closeMenuOnSelect,o=a.isMulti;n.onInputChange("",{action:"set-value"}),r&&(n.inputIsHiddenAfterUpdate=!o,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(e,{action:t,option:i})})),y(S(S(n)),"selectOption",(function(e){var t=n.props,i=t.blurInputOnSelect,a=t.isMulti,r=n.state.selectValue;if(a)if(n.isOptionSelected(e,r)){var o=n.getOptionValue(e);n.setValue(r.filter((function(e){return n.getOptionValue(e)!==o})),"deselect-option",e),n.announceAriaLiveSelection({event:"deselect-option",context:{value:n.getOptionLabel(e)}})}else n.isOptionDisabled(e,r)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue([].concat(T(r),[e]),"select-option",e),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));else n.isOptionDisabled(e,r)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue(e,"select-option"),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));i&&n.blurInput()})),y(S(S(n)),"removeValue",(function(e){var t=n.state.selectValue,i=n.getOptionValue(e);n.onChange(t.filter((function(e){return n.getOptionValue(e)!==i})),{action:"remove-value",removedValue:e}),n.announceAriaLiveSelection({event:"remove-value",context:{value:e?n.getOptionLabel(e):""}}),n.focusInput()})),y(S(S(n)),"clearValue",(function(){var e=n.props.isMulti;n.onChange(e?[]:null,{action:"clear"})})),y(S(S(n)),"popValue",(function(){var e=n.state.selectValue,t=e[e.length-1];n.announceAriaLiveSelection({event:"pop-value",context:{value:t?n.getOptionLabel(t):""}}),n.onChange(e.slice(0,e.length-1),{action:"pop-value",removedValue:t})})),y(S(S(n)),"getOptionLabel",(function(e){return n.props.getOptionLabel(e)})),y(S(S(n)),"getOptionValue",(function(e){return n.props.getOptionValue(e)})),y(S(S(n)),"getStyles",(function(e,t){var i=Ve[e](t);i.boxSizing="border-box";var a=n.props.styles[e];return a?a(i,t):i})),y(S(S(n)),"getElementId",(function(e){return"".concat(n.instancePrefix,"-").concat(e)})),y(S(S(n)),"getActiveDescendentId",(function(){var e=n.props.menuIsOpen,t=n.state,i=t.menuOptions,a=t.focusedOption;if(a&&e){var r=i.focusable.indexOf(a),o=i.render[r];return o&&o.key}})),y(S(S(n)),"announceAriaLiveSelection",(function(e){var t=e.event,i=e.context;n.setState({ariaLiveSelection:ye(t,i)})})),y(S(S(n)),"announceAriaLiveContext",(function(e){var t=e.event,i=e.context;n.setState({ariaLiveContext:ke(t,j({},i,{label:n.props["aria-label"]}))})})),y(S(S(n)),"onMenuMouseDown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),n.focusInput())})),y(S(S(n)),"onMenuMouseMove",(function(e){n.blockOptionHover=!1})),y(S(S(n)),"onControlMouseDown",(function(e){var t=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==e.target.tagName&&n.onMenuClose():t&&n.openMenu("first"):(t&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==e.target.tagName&&e.preventDefault()})),y(S(S(n)),"onDropdownIndicatorMouseDown",(function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||n.props.isDisabled)){var t=n.props,i=t.isMulti,a=t.menuIsOpen;n.focusInput(),a?(n.inputIsHiddenAfterUpdate=!i,n.onMenuClose()):n.openMenu("first"),e.preventDefault(),e.stopPropagation()}})),y(S(S(n)),"onClearIndicatorMouseDown",(function(e){e&&"mousedown"===e.type&&0!==e.button||(n.clearValue(),e.stopPropagation(),n.openAfterFocus=!1,setTimeout((function(){return n.focusInput()})))})),y(S(S(n)),"onScroll",(function(e){"boolean"==typeof n.props.closeMenuOnScroll?e.target instanceof HTMLElement&&P(e.target)&&n.props.onMenuClose():"function"==typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(e)&&n.props.onMenuClose()})),y(S(S(n)),"onCompositionStart",(function(){n.isComposing=!0})),y(S(S(n)),"onCompositionEnd",(function(){n.isComposing=!1})),y(S(S(n)),"onTouchStart",(function(e){var t=e.touches.item(0);t&&(n.initialTouchX=t.clientX,n.initialTouchY=t.clientY,n.userIsDragging=!1)})),y(S(S(n)),"onTouchMove",(function(e){var t=e.touches.item(0);if(t){var i=Math.abs(t.clientX-n.initialTouchX),a=Math.abs(t.clientY-n.initialTouchY);n.userIsDragging=i>5||a>5}})),y(S(S(n)),"onTouchEnd",(function(e){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(e.target)&&n.menuListRef&&!n.menuListRef.contains(e.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)})),y(S(S(n)),"onControlTouchEnd",(function(e){n.userIsDragging||n.onControlMouseDown(e)})),y(S(S(n)),"onClearIndicatorTouchEnd",(function(e){n.userIsDragging||n.onClearIndicatorMouseDown(e)})),y(S(S(n)),"onDropdownIndicatorTouchEnd",(function(e){n.userIsDragging||n.onDropdownIndicatorMouseDown(e)})),y(S(S(n)),"handleInputChange",(function(e){var t=e.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(t,{action:"input-change"}),n.onMenuOpen()})),y(S(S(n)),"onInputFocus",(function(e){var t=n.props,i=t.isSearchable,a=t.isMulti;n.props.onFocus&&n.props.onFocus(e),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:"input",context:{isSearchable:i,isMulti:a}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1})),y(S(S(n)),"onInputBlur",(function(e){n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(e),n.onInputChange("",{action:"input-blur"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))})),y(S(S(n)),"onOptionHover",(function(e){n.blockOptionHover||n.state.focusedOption===e||n.setState({focusedOption:e})})),y(S(S(n)),"shouldHideSelectedOptions",(function(){var e=n.props,t=e.hideSelectedOptions,i=e.isMulti;return void 0===t?i:t})),y(S(S(n)),"onKeyDown",(function(e){var t=n.props,i=t.isMulti,a=t.backspaceRemovesValue,r=t.escapeClearsValue,o=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,d=t.onKeyDown,u=t.tabSelectsValue,p=t.openMenuOnFocus,m=n.state,h=m.focusedOption,g=m.focusedValue,b=m.selectValue;if(!(l||"function"==typeof d&&(d(e),e.defaultPrevented))){switch(n.blockOptionHover=!0,e.key){case"ArrowLeft":if(!i||o)return;n.focusValue("previous");break;case"ArrowRight":if(!i||o)return;n.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(g)n.removeValue(g);else{if(!a)return;i?n.popValue():s&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(e.shiftKey||!c||!u||!h||p&&n.isOptionSelected(h,b))return;n.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(n.isComposing)return;n.selectOption(h);break}return;case"Escape":c?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange("",{action:"menu-close"}),n.onMenuClose()):s&&r&&n.clearValue();break;case" ":if(o)return;if(!c){n.openMenu("first");break}if(!h)return;n.selectOption(h);break;case"ArrowUp":c?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":c?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!c)return;n.focusOption("pageup");break;case"PageDown":if(!c)return;n.focusOption("pagedown");break;case"Home":if(!c)return;n.focusOption("first");break;case"End":if(!c)return;n.focusOption("last");break;default:return}e.preventDefault()}}));var i=e.value;n.cacheComponents=o(n.cacheComponents,Q).bind(S(S(n))),n.cacheComponents(e.components),n.instancePrefix="react-select-"+(n.props.instanceId||++Ke);var a=A(i),r=n.buildMenuOptions(e,a);return n.state.menuOptions=r,n.state.selectValue=a,n}return w(t,e),k(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.options,i=t.value,a=t.inputValue;if(this.cacheComponents(e.components),e.value!==i||e.options!==n||e.inputValue!==a){var r=A(e.value),o=this.buildMenuOptions(e,r),s=this.getNextFocusedValue(r),l=this.getNextFocusedOption(o.focusable);this.setState({menuOptions:o,selectValue:r,focusedOption:l,focusedValue:s})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t,n,i,a,r,o=this.props,s=o.isDisabled,l=o.menuIsOpen,c=this.state.isFocused;(c&&!s&&e.isDisabled||c&&l&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,n=this.focusedOptionRef,i=t.getBoundingClientRect(),a=n.getBoundingClientRect(),r=n.offsetHeight/3,a.bottom+r>i.bottom?L(t,Math.min(n.offsetTop+n.clientHeight-t.offsetHeight+r,t.scrollHeight)):a.top-r<i.top&&L(t,Math.max(n.offsetTop-r,0))),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,i=t.selectValue,a=t.isFocused,r=this.props.isMulti,o="first"===e?0:n.focusable.length-1;if(!r){var s=n.focusable.indexOf(i[0]);s>-1&&(o=s)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[o]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,n=t.isMulti,i=t.isSearchable,a=this.state,r=a.selectValue,o=a.focusedValue;if(n){this.setState({focusedOption:null});var s=r.indexOf(o);o||(s=-1,this.announceAriaLiveContext({event:"value"}));var l=r.length-1,c=-1;if(r.length){switch(e){case"previous":c=0===s?0:-1===s?l:s-1;break;case"next":s>-1&&s<l&&(c=s+1)}-1===c&&this.announceAriaLiveContext({event:"input",context:{isSearchable:i,isMulti:n}}),this.setState({inputIsHidden:-1!==c,focusedValue:r[c]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,i=n.focusedOption,a=n.menuOptions,r=a.focusable;if(r.length){var o=0,s=r.indexOf(i);i||(s=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?o=s>0?s-1:r.length-1:"down"===e?o=(s+1)%r.length:"pageup"===e?(o=s-t)<0&&(o=0):"pagedown"===e?(o=s+t)>r.length-1&&(o=r.length-1):"last"===e&&(o=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[o],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:Ce(r[o])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(He):j({},He,this.props.theme):He}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,i=this.selectOption,a=this.props,r=a.classNamePrefix,o=a.isMulti,s=a.isRtl,l=a.options,c=this.state.selectValue,d=this.hasValue();return{cx:I.bind(null,r),clearValue:e,getStyles:t,getValue:function(){return c},hasValue:d,isMulti:o,isRtl:s,options:l,selectOption:i,setValue:n,selectProps:a,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,i=t.selectValue.indexOf(n);if(i>-1){if(e.indexOf(n)>-1)return n;if(i<e.length)return e[i]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var i=this.getOptionValue(e);return t.some((function(e){return n.getOptionValue(e)===i}))}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,i=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:i})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,i=e.inputValue,a=void 0===i?"":i,r=e.options,o=function(e,i){var r=n.isOptionDisabled(e,t),o=n.isOptionSelected(e,t),s=n.getOptionLabel(e),l=n.getOptionValue(e);if(!(n.shouldHideSelectedOptions()&&o||!n.filterOption({label:s,value:l,data:e},a))){var c=r?void 0:function(){return n.onOptionHover(e)},d=r?void 0:function(){return n.selectOption(e)},u="".concat(n.getElementId("option"),"-").concat(i);return{innerProps:{id:u,onClick:d,onMouseMove:c,onMouseOver:c,tabIndex:-1},data:e,isDisabled:r,isSelected:o,key:u,label:s,type:"option",value:l}}};return r.reduce((function(e,t,i){if(t.options){n.hasGroups||(n.hasGroups=!0);var a=t.options.map((function(t,n){var a=o(t,"".concat(i,"-").concat(n));return a&&e.focusable.push(t),a})).filter(Boolean);if(a.length){var r="".concat(n.getElementId("group"),"-").concat(i);e.render.push({type:"group",key:r,data:t,options:a})}}else{var s=o(t,"".concat(i));s&&(e.render.push(s),e.focusable.push(t))}return e}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,n=e.selectValue,i=e.focusedValue,a=e.focusedOption,r=this.props,o=r.options,s=r.menuIsOpen,l=r.inputValue,c=r.screenReaderStatus,d=i?function(e){var t=e.focusedValue,n=e.getOptionLabel,i=e.selectValue;return"value ".concat(n(t)," focused, ").concat(i.indexOf(t)+1," of ").concat(i.length,".")}({focusedValue:i,getOptionLabel:this.getOptionLabel,selectValue:n}):"",u=a&&s?function(e){var t=e.focusedOption,n=e.getOptionLabel,i=e.options;return"option ".concat(n(t)," focused").concat(t.isDisabled?" disabled":"",", ").concat(i.indexOf(t)+1," of ").concat(i.length,".")}({focusedOption:a,getOptionLabel:this.getOptionLabel,options:o}):"",p=function(e){var t=e.inputValue,n=e.screenReaderMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}({inputValue:l,screenReaderMessage:c({count:this.countOptions()})});return"".concat(d," ").concat(u," ").concat(p," ").concat(t)}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,i=e.inputId,r=e.inputValue,o=e.tabIndex,s=this.components.Input,l=this.state.inputIsHidden,c=i||this.getElementId("input");if(!n)return a.a.createElement(re,{id:c,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:D,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:o,value:""});var d={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},u=this.commonProps,p=u.cx,m=u.theme,h=u.selectProps;return a.a.createElement(s,C({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:p,getStyles:this.getStyles,id:c,innerRef:this.getInputRef,isDisabled:t,isHidden:l,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:h,spellCheck:"false",tabIndex:o,theme:m,type:"text",value:r},d))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,i=t.MultiValueContainer,r=t.MultiValueLabel,o=t.MultiValueRemove,s=t.SingleValue,l=t.Placeholder,c=this.commonProps,d=this.props,u=d.controlShouldRenderValue,p=d.isDisabled,m=d.isMulti,h=d.inputValue,g=d.placeholder,b=this.state,f=b.selectValue,v=b.focusedValue,k=b.isFocused;if(!this.hasValue()||!u)return h?null:a.a.createElement(l,C({},c,{key:"placeholder",isDisabled:p,isFocused:k}),g);if(m)return f.map((function(t){var s=t===v;return a.a.createElement(n,C({},c,{components:{Container:i,Label:r,Remove:o},isFocused:s,isDisabled:p,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var y=f[0];return a.a.createElement(s,C({},c,{data:y,isDisabled:p}),this.formatOptionLabel(y,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,r=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||r)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return a.a.createElement(e,C({},t,{innerProps:s,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,r=n.isLoading,o=this.state.isFocused;if(!e||!r)return null;return a.a.createElement(e,C({},t,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var i=this.commonProps,r=this.props.isDisabled,o=this.state.isFocused;return a.a.createElement(n,C({},i,{isDisabled:r,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,i=this.state.isFocused,r={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return a.a.createElement(e,C({},t,{innerProps:r,isDisabled:n,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,i=t.GroupHeading,r=t.Menu,o=t.MenuList,s=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,u=this.commonProps,p=this.state,m=p.focusedOption,h=p.menuOptions,g=this.props,b=g.captureMenuScroll,f=g.inputValue,v=g.isLoading,k=g.loadingMessage,y=g.minMenuHeight,j=g.maxMenuHeight,w=g.menuIsOpen,x=g.menuPlacement,_=g.menuPosition,S=g.menuPortalTarget,O=g.menuShouldBlockScroll,T=g.menuShouldScrollIntoView,D=g.noOptionsMessage,N=g.onMenuScrollToTop,I=g.onMenuScrollToBottom;if(!w)return null;var A,P=function(t){var n=m===t.data;return t.innerRef=n?e.getFocusedOptionRef:void 0,a.a.createElement(d,C({},u,t,{isFocused:n}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())A=h.render.map((function(t){if("group"===t.type){t.type;var r=E(t,["type"]),o="".concat(t.key,"-heading");return a.a.createElement(n,C({},u,r,{Heading:i,headingProps:{id:o},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return P(e)})))}if("option"===t.type)return P(t)}));else if(v){var B=k({inputValue:f});if(null===B)return null;A=a.a.createElement(l,u,B)}else{var L=D({inputValue:f});if(null===L)return null;A=a.a.createElement(c,u,L)}var F={minMenuHeight:y,maxMenuHeight:j,menuPlacement:x,menuPosition:_,menuShouldScrollIntoView:T},M=a.a.createElement(z,C({},u,F),(function(t){var n=t.ref,i=t.placerProps,s=i.placement,l=i.maxHeight;return a.a.createElement(r,C({},u,F,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:v,placement:s}),a.a.createElement(ve,{isEnabled:b,onTopArrive:N,onBottomArrive:I},a.a.createElement(be,{isEnabled:O},a.a.createElement(o,C({},u,{innerRef:e.getMenuListRef,isLoading:v,maxHeight:l}),A))))}));return S||"fixed"===_?a.a.createElement(s,C({},u,{appendTo:S,controlElement:this.controlRef,menuPlacement:x,menuPosition:_}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,i=t.isDisabled,r=t.isMulti,o=t.name,s=this.state.selectValue;if(o&&!i){if(r){if(n){var l=s.map((function(t){return e.getOptionValue(t)})).join(n);return a.a.createElement("input",{name:o,type:"hidden",value:l})}var c=s.length>0?s.map((function(t,n){return a.a.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})})):a.a.createElement("input",{name:o,type:"hidden"});return a.a.createElement("div",null,c)}var d=s[0]?this.getOptionValue(s[0]):"";return a.a.createElement("input",{name:o,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?a.a.createElement(ae,{"aria-live":"assertive"},a.a.createElement("p",{id:"aria-selection-event"},"Â ",this.state.ariaLiveSelection),a.a.createElement("p",{id:"aria-context"},"Â ",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,i=e.SelectContainer,r=e.ValueContainer,o=this.props,s=o.className,l=o.id,c=o.isDisabled,d=o.menuIsOpen,u=this.state.isFocused,p=this.commonProps=this.getCommonProps();return a.a.createElement(i,C({},p,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderLiveRegion(),a.a.createElement(t,C({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u,menuIsOpen:d}),a.a.createElement(r,C({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),a.a.createElement(n,C({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(i.Component);y(qe,"defaultProps",We);var $e={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Ge=function(e){var t,n;return n=t=function(t){function n(){var e,t;f(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return y(S(S(t=O(this,(e=x(n)).call.apply(e,[this].concat(a))))),"select",void 0),y(S(S(t)),"state",{inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue}),y(S(S(t)),"onChange",(function(e,n){t.callProp("onChange",e,n),t.setState({value:e})})),y(S(S(t)),"onInputChange",(function(e,n){var i=t.callProp("onInputChange",e,n);t.setState({inputValue:void 0!==i?i:e})})),y(S(S(t)),"onMenuOpen",(function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})})),y(S(S(t)),"onMenuClose",(function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})})),t}return w(n,t),k(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this.props)[e].apply(t,i)}}},{key:"render",value:function(){var t=this,n=this.props,i=(n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue,E(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return a.a.createElement(e,C({},i,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(i.Component),y(t,"defaultProps",$e),n},Ze={cacheOptions:!1,defaultOptions:!1,filterOption:null},Je=function(e){var t,n;return n=t=function(t){function n(e){var t;return f(this,n),y(S(S(t=O(this,x(n).call(this)))),"select",void 0),y(S(S(t)),"lastRequest",void 0),y(S(S(t)),"mounted",!1),y(S(S(t)),"optionsCache",{}),y(S(S(t)),"handleInputChange",(function(e,n){var i=t.props,a=i.cacheOptions,r=function(e,t,n){if(n){var i=n(e,t);if("string"==typeof i)return i}return e}(e,n,i.onInputChange);if(!r)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(a&&t.optionsCache[r])t.setState({inputValue:r,loadedInputValue:r,loadedOptions:t.optionsCache[r],isLoading:!1,passEmptyOptions:!1});else{var o=t.lastRequest={};t.setState({inputValue:r,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(r,(function(e){t.mounted&&(e&&(t.optionsCache[r]=e),o===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:r,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return r})),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return w(n,t),k(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var i=n(e,t);i&&"function"==typeof i.then&&i.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,n=this.props,i=(n.loadOptions,E(n,["loadOptions"])),r=this.state,o=r.defaultOptions,s=r.inputValue,l=r.isLoading,c=r.loadedInputValue,d=r.loadedOptions,u=r.passEmptyOptions?[]:s&&c?d:o||[];return a.a.createElement(e,C({},i,{ref:function(e){t.select=e},options:u,isLoading:l,onInputChange:this.handleInputChange}))}}]),n}(i.Component),y(t,"defaultProps",Ze),n},Ye=(Je(Ge(qe)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),i=String(t.value).toLowerCase(),a=String(t.label).toLowerCase();return i===n||a===n}),Xe=j({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return Ye(e,t)}))||n.some((function(t){return Ye(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Qe=function(e){var t,n;return n=t=function(t){function n(e){var t;f(this,n),y(S(S(t=O(this,x(n).call(this,e)))),"select",void 0),y(S(S(t)),"onChange",(function(e,n){var i=t.props,a=i.getNewOptionData,r=i.inputValue,o=i.isMulti,s=i.onChange,l=i.onCreateOption,c=i.value;if("select-option"!==n.action)return s(e,n);var d=t.state.newOption,u=Array.isArray(e)?e:[e];if(u[u.length-1]!==d)s(e,n);else if(l)l(r);else{var p=a(r,r),m={action:"create-option"};s(o?[].concat(T(A(c)),[p]):p,m)}}));var i=e.options||[];return t.state={newOption:void 0,options:i},t}return w(n,t),k(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,i=e.formatCreateLabel,a=e.getNewOptionData,r=e.inputValue,o=e.isLoading,s=e.isValidNewOption,l=e.value,c=e.options||[],d=this.state.newOption;d=s(r,A(l),c)?a(r,i(r)):void 0,this.setState({newOption:d,options:!t&&o||!d?c:"first"===n?[d].concat(T(c)):[].concat(T(c),[d])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=C({},this.props),i=this.state.options;return a.a.createElement(e,C({},n,{ref:function(e){t.select=e},options:i,onChange:this.onChange}))}}]),n}(i.Component),y(t,"defaultProps",Xe),n},et=(Ge(Qe(qe)),Je(Ge(Qe(qe))),function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var n=E(t,["in","onExited","appear","enter","exit"]);return a.a.createElement(e,n)}}),tt=function(e){var t=e.component,n=e.duration,i=void 0===n?1:n,r=e.in,o=(e.onExited,E(e,["component","duration","in","onExited"])),s={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(i,"ms")},exiting:{opacity:0},exited:{opacity:0}};return a.a.createElement(g.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:r,timeout:i},(function(e){var n={style:j({},s[e])};return a.a.createElement(t,C({innerProps:n},o))}))},nt=function(e){function t(){var e,n;f(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return y(S(S(n=O(this,(e=x(t)).call.apply(e,[this].concat(a))))),"duration",260),y(S(S(n)),"rafID",void 0),y(S(S(n)),"state",{width:"auto"}),y(S(S(n)),"transition",{exiting:{width:0,transition:"width ".concat(n.duration,"ms ease-out")},exited:{width:0}}),y(S(S(n)),"getWidth",(function(e){e&&isNaN(n.state.width)&&(n.rafID=window.requestAnimationFrame((function(){var t=e.getBoundingClientRect().width;n.setState({width:t})})))})),y(S(S(n)),"getStyle",(function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}})),y(S(S(n)),"getTransition",(function(e){return n.transition[e]})),n}return w(t,e),k(t,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.in,r=this.state.width;return a.a.createElement(g.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:i,timeout:this.duration},(function(t){var i=j({},e.getStyle(r),e.getTransition(t));return a.a.createElement("div",{ref:e.getWidth,style:i},n)}))}}]),t}(i.Component),it=function(e){return function(t){var n=t.in,i=t.onExited,r=E(t,["in","onExited"]);return a.a.createElement(nt,{in:n,onExited:i},a.a.createElement(e,C({cropWithEllipsis:n},r)))}},at=function(e){return function(t){return a.a.createElement(tt,C({component:e,duration:t.isMulti?260:1},t))}},rt=function(e){return function(t){return a.a.createElement(tt,C({component:e},t))}},ot=function(e){return function(t){return a.a.createElement(g.TransitionGroup,C({component:e},t))}},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ue({components:e}),n=t.Input,i=t.MultiValue,a=t.Placeholder,r=t.SingleValue,o=t.ValueContainer,s=E(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return j({Input:et(n),MultiValue:it(i),Placeholder:at(a),SingleValue:rt(r),ValueContainer:ot(o)},s)},lt=st(),ct=(lt.Input,lt.MultiValue,lt.Placeholder,lt.SingleValue,lt.ValueContainer,o(st,Q),Ge(qe));t.b=ct},"./node_modules/react-select/node_modules/dom-helpers/class/addClass.js":function(e,t,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=i(n("./node_modules/react-select/node_modules/dom-helpers/class/hasClass.js"));e.exports=t.default},"./node_modules/react-select/node_modules/dom-helpers/class/hasClass.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},"./node_modules/react-select/node_modules/dom-helpers/class/removeClass.js":function(e,t,n){"use strict";function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=i(e.className,t):e.setAttribute("class",i(e.className&&e.className.baseVal||"",t))}},"./node_modules/react-select/node_modules/react-transition-group/CSSTransition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e}(n("./node_modules/prop-types/index.js"));var i=s(n("./node_modules/react-select/node_modules/dom-helpers/class/addClass.js")),a=s(n("./node_modules/react-select/node_modules/dom-helpers/class/removeClass.js")),r=s(n("./node_modules/react/index.js")),o=s(n("./node_modules/react-select/node_modules/react-transition-group/Transition.js"));n("./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},u=function(e){var t,n;function i(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).onEnter=function(e,n){var i=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,i),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,i),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.getClassNames("appear").doneClassName,a=t.getClassNames("enter").doneClassName,r=n?i+" "+a:a;t.removeClasses(e,n?"appear":"enter"),c(e,r),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,a=i?(i&&n?n+"-":"")+e:n[e];return{className:a,activeClassName:i?a+"-active":n[e+"Active"],doneClassName:i?a+"-done":n[e+"Done"]}},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.removeClasses=function(e,t){var n=this.getClassNames(t),i=n.className,a=n.activeClassName,r=n.doneClassName;i&&d(e,i),a&&d(e,a),r&&d(e,r)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},a.render=function(){var e=l({},this.props);return delete e.classNames,r.default.createElement(o.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},i}(r.default.Component);u.defaultProps={classNames:""},u.propTypes={};var p=u;t.default=p,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/ReplaceTransition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;o(n("./node_modules/prop-types/index.js"));var i=o(n("./node_modules/react/index.js")),a=n("./node_modules/react-dom/index.js"),r=o(n("./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function o(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.handleLifecycle=function(e,t,n){var r,o=this.props.children,s=i.default.Children.toArray(o)[t];s.props[e]&&(r=s.props)[e].apply(r,n),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","in"]),o=i.default.Children.toArray(t),s=o[0],l=o[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,i.default.createElement(r.default,a,n?i.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):i.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(i.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/Transition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n("./node_modules/prop-types/index.js")),a=s(n("./node_modules/react/index.js")),r=s(n("./node_modules/react-dom/index.js")),o=n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");n("./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js");function s(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var c="exited";t.EXITED=c;var d="entering";t.ENTERING=d;var u="entered";t.ENTERED=u;var p="exiting";t.EXITING=p;var m=function(e){var t,n;function i(t,n){var i;i=e.call(this,t,n)||this;var a,r=n.transitionGroup,o=r&&!r.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(a=c,i.appearStatus=d):a=u:a=t.unmountOnExit||t.mountOnEnter?l:c,i.state={status:a},i.nextCallback=null,i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o.getChildContext=function(){return{transitionGroup:null}},i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null},o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==u&&(t=d):n!==d&&n!==u||(t=p)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=r.default.findDOMNode(this);t===d?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},o.performEnter=function(e,t){var n=this,i=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,r=this.getTimeouts(),o=a?r.appear:r.enter;t||i?(this.props.onEnter(e,a),this.safeSetState({status:d},(function(){n.props.onEntering(e,a),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:u},(function(){n.props.onEntered(e,a)}))}))}))):this.safeSetState({status:u},(function(){n.props.onEntered(e)}))},o.performExit=function(e){var t=this,n=this.props.exit,i=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,i.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var i=null==t&&!this.props.addEndListener;e&&!i?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,i=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"==typeof n)return n(e,i);var r=a.default.Children.only(n);return a.default.cloneElement(r,i)},i}(a.default.Component);function h(){}m.contextTypes={transitionGroup:i.object},m.childContextTypes={transitionGroup:function(){}},m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},m.UNMOUNTED=0,m.EXITED=1,m.ENTERING=2,m.ENTERED=3,m.EXITING=4;var g=(0,o.polyfill)(m);t.default=g},"./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=s(n("./node_modules/prop-types/index.js")),a=s(n("./node_modules/react/index.js")),r=n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js"),o=n("./node_modules/react-select/node_modules/react-transition-group/utils/ChildMapping.js");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(e){var t,n;function i(t,n){var i,a=(i=e.call(this,t,n)||this).handleExited.bind(c(c(i)));return i.state={handleExited:a,firstRender:!0},i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},r.componentDidMount=function(){this.appeared=!0,this.mounted=!0},r.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,t){var n=t.children,i=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,i):(0,o.getNextChildMapping)(e,n,i),firstRender:!1}},r.handleExited=function(e,t){var n=(0,o.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["component","childFactory"]),r=d(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r:a.default.createElement(t,i,r)},i}(a.default.Component);u.childContextTypes={transitionGroup:i.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,r.polyfill)(u);t.default=p,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/index.js":function(e,t,n){"use strict";var i=s(n("./node_modules/react-select/node_modules/react-transition-group/CSSTransition.js")),a=s(n("./node_modules/react-select/node_modules/react-transition-group/ReplaceTransition.js")),r=s(n("./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js")),o=s(n("./node_modules/react-select/node_modules/react-transition-group/Transition.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:r.default,ReplaceTransition:a.default,CSSTransition:i.default}},"./node_modules/react-select/node_modules/react-transition-group/utils/ChildMapping.js":function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=r,t.getInitialChildMapping=function(e,t){return a(e.children,(function(n){return(0,i.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=a(e.children),l=r(t,s);return Object.keys(l).forEach((function(a){var r=l[a];if((0,i.isValidElement)(r)){var c=a in t,d=a in s,u=t[a],p=(0,i.isValidElement)(u)&&!u.props.in;!d||c&&!p?d||!c||p?d&&c&&(0,i.isValidElement)(u)&&(l[a]=(0,i.cloneElement)(r,{onExited:n.bind(null,r),in:u.props.in,exit:o(r,"exit",e),enter:o(r,"enter",e)})):l[a]=(0,i.cloneElement)(r,{in:!1}):l[a]=(0,i.cloneElement)(r,{onExited:n.bind(null,r),in:!0,exit:o(r,"exit",e),enter:o(r,"enter",e)})}})),l};var i=n("./node_modules/react/index.js");function a(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function r(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,a=Object.create(null),r=[];for(var o in e)o in t?r.length&&(a[o]=r,r=[]):r.push(o);var s={};for(var l in t){if(a[l])for(i=0;i<a[l].length;i++){var c=a[l][i];s[a[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<r.length;i++)s[r[i]]=n(r[i]);return s}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}},"./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js":function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var i;(i=n("./node_modules/prop-types/index.js"))&&i.__esModule;t.timeoutsShape=null;t.classNamesShape=null},"./node_modules/shallowequal/index.js":function(e,t){e.exports=function(e,t,n,i){var a=n?n.call(i,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<r.length;l++){var c=r[l];if(!s(c))return!1;var d=e[c],u=t[c];if(!1===(a=n?n.call(i,d,u,c):void 0)||void 0===a&&d!==u)return!1}return!0}},"./packages/browser-compatibility/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"print",(function(){return i})),n.d(t,"getUserMedia",(function(){return a}));const i=()=>{navigator.vendor.includes("Apple")?document.execCommand("print"):window.print()};let a=null;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?a=(e,t,n)=>{navigator.mediaDevices.getUserMedia(e).then(t).catch(n)}:navigator.getUserMedia?a=navigator.getUserMedia.bind(navigator):navigator.webkitGetUserMedia&&(a=navigator.webkitGetUserMedia.bind(navigator))},"./packages/i18n/formatters.ts":function(e,t,n){"use strict";n.r(t);var i=n("./packages/i18n/src/formatters.ts");n.d(t,"asMoney",(function(){return i.b})),n.d(t,"asNumber",(function(){return i.c})),n.d(t,"asPercentage",(function(){return i.d})),n.d(t,"asTaxRate",(function(){return i.e})),n.d(t,"asCompactNumber",(function(){return i.a}))},"./packages/nachos/icons/add-member.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 9.44777 7.61532 10.7518 8.59871 11.6649C5.31433 13.0065 3 16.233 3 20C3 20.5523 3.44772 21 4 21H12C12.5523 21 13 20.5523 13 20C13 19.4477 12.5523 19 12 19H5.07089C5.55612 15.6077 8.47353 13 12 13ZM15 8C15 9.65685 13.6569 11 12 11C10.3431 11 9 9.65685 9 8C9 6.34315 10.3431 5 12 5C13.6569 5 15 6.34315 15 8Z",fill:"currentColor"}),a.a.createElement("path",{d:"M17 14C17 13.4477 17.4477 13 18 13C18.5523 13 19 13.4477 19 14V16H21C21.5523 16 22 16.4477 22 17C22 17.5523 21.5523 18 21 18H19V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V18H15C14.4477 18 14 17.5523 14 17C14 16.4477 14.4477 16 15 16H17V14Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"AddMemberIcon",glyph:o})}},"./packages/nachos/icons/admin-chevron.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7072 6.29289C12.3167 5.90237 11.6835 5.90237 11.293 6.29289L6.70011 10.8858C6.31351 11.2724 6.31351 11.8992 6.70011 12.2858C7.08671 12.6724 7.71351 12.6724 8.10011 12.2858L12.0001 8.38579L15.9001 12.2858C16.2867 12.6724 16.9135 12.6724 17.3001 12.2858C17.6867 11.8992 17.6867 11.2724 17.3001 10.8858L12.7072 6.29289ZM17.3001 15.8858L12.7072 11.2929C12.3167 10.9024 11.6835 10.9024 11.293 11.2929L6.70011 15.8858C6.31351 16.2724 6.31351 16.8992 6.70011 17.2858C7.08671 17.6724 7.71351 17.6724 8.10011 17.2858L12.0001 13.3858L15.9001 17.2858C16.2867 17.6724 16.9135 17.6724 17.3001 17.2858C17.6867 16.8992 17.6867 16.2724 17.3001 15.8858Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"AdminChevronIcon",glyph:o})}},"./packages/nachos/icons/archive.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M3.03418 5.59621C2.98604 5.04603 3.39303 4.56099 3.94322 4.51286L19.8823 3.11837C20.4325 3.07023 20.9175 3.47722 20.9657 4.02741L21.0528 5.0236L3.12133 6.5924L3.03418 5.59621Z",fill:"currentColor"}),a.a.createElement("path",{d:"M9 12.9999C9 12.4476 9.44772 11.9999 10 11.9999H14C14.5523 11.9999 15 12.4476 15 12.9999C15 13.5522 14.5523 13.9999 14 13.9999H10C9.44772 13.9999 9 13.5522 9 12.9999Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 18.9999V7.99993H21V18.9999C21 20.1045 20.1046 20.9999 19 20.9999H5C3.89543 20.9999 3 20.1045 3 18.9999ZM5 9.99993H19V18.9999H5L5 9.99993Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"ArchiveIcon",glyph:o})}},"./packages/nachos/icons/business-class.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"BusinessClassIcon",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5C7 3.89543 7.89543 3 9 3H15C16.1046 3 17 3.89543 17 5V6H19V20H5V6H7V5ZM9 6H15V5H9V6ZM7 9C7 8.44772 7.44772 8 8 8H10C10.5523 8 11 8.44772 11 9V16C11 16.5523 10.5523 17 10 17H8C7.44772 17 7 16.5523 7 16V9ZM14 8C13.4477 8 13 8.44772 13 9V14C13 14.5523 13.4477 15 14 15H16C16.5523 15 17 14.5523 17 14V9C17 8.44772 16.5523 8 16 8H14Z",fill:"currentColor"}),a.a.createElement("path",{d:"M4 6C2.89543 6 2 6.89543 2 8V18C2 19.1046 2.89543 20 4 20L4 6Z",fill:"currentColor"}),a.a.createElement("path",{d:"M20 20V6C21.1046 6 22 6.89543 22 8V18C22 19.1046 21.1046 20 20 20Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"BusinessClassIcon",glyph:o})}},"./packages/nachos/icons/butler-bot.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3C13 3.55228 12.5523 4 12 4C11.4477 4 11 3.55228 11 3C11 2.44772 11.4477 2 12 2C12.5523 2 13 2.44772 13 3ZM4 7H20V17H4V7ZM2 7C2 5.89543 2.89543 5 4 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H4C2.89543 19 2 18.1046 2 17V7ZM8 9C8 8.44772 8.44772 8 9 8C9.55228 8 10 8.44772 10 9V11C10 11.5523 9.55228 12 9 12C8.44772 12 8 11.5523 8 11V9ZM14 9C14 8.44772 14.4477 8 15 8C15.5523 8 16 8.44772 16 9V11C16 11.5523 15.5523 12 15 12C14.4477 12 14 11.5523 14 11V9ZM12 16C12.5523 16 13 15.5523 13 15C13 14.4477 12.5523 14 12 14C11.4477 14 11 14.4477 11 15C11 15.5523 11.4477 16 12 16Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"ButlerBotIcon",glyph:o})}},"./packages/nachos/icons/calendar.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarIcon",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4V5H4.995C3.892 5 3 5.893 3 6.994V19.006C3 20.106 3.893 21 4.995 21H19.005C20.108 21 21 20.107 21 19.006V6.994C21 5.895 20.107 5 19.005 5H18V4C18 3.448 17.552 3 17 3C16.448 3 16 3.448 16 4V5H8V4C8 3.448 7.552 3 7 3C6.448 3 6 3.448 6 4ZM5.25 9.571V17.718C5.25 18.273 5.694 18.714 6.243 18.714H17.758C18.3 18.714 18.75 18.268 18.75 17.718V9.571H5.25ZM9 13V10.999H7V13H9ZM17 10.999V13H15V10.999H17ZM11 13H13.001V10.999H11V13ZM7 17V15H9V17H7ZM11 17H13.001V15H11V17ZM17 15V17H15V15H17Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"CalendarIcon",glyph:o})}},"./packages/nachos/icons/checklist.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H6V6L16 6C16.5523 6 17 5.55228 17 5C17 4.44772 16.5523 4 16 4H6ZM8.73534 10.3223C8.36105 9.91618 7.72841 9.89038 7.3223 10.2647C6.91619 10.639 6.89039 11.2716 7.26467 11.6777L10.8768 15.597C11.4143 16.1231 12.2145 16.1231 12.7111 15.6264L13.0754 15.2683C13.3699 14.9785 13.6981 14.6556 14.0516 14.3075C15.0614 13.313 16.0713 12.3169 17.014 11.3848L17.0543 11.3449C18.7291 9.68869 20.0004 8.42365 20.712 7.70223C21.0998 7.30904 21.0954 6.67589 20.7022 6.28805C20.309 5.90022 19.6759 5.90457 19.2881 6.29777C18.5843 7.01131 17.3169 8.27244 15.648 9.92281L15.6077 9.96263C14.6662 10.8937 13.6572 11.8889 12.6483 12.8825L11.8329 13.6851L8.73534 10.3223Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"ChecklistIcon",glyph:o})}},"./packages/nachos/icons/collection.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"CollectionIcon",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5C7 3.89543 7.89543 3 9 3H15C16.1046 3 17 3.89543 17 5H7ZM7 6C5.89543 6 5 6.89543 5 8H19C19 6.89543 18.1046 6 17 6H7ZM5 11H19V19H5L5 11ZM3 11C3 9.89543 3.89543 9 5 9H19C20.1046 9 21 9.89543 21 11V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V11ZM15 15H9V14C9 13.4477 8.55228 13 8 13C7.44772 13 7 13.4477 7 14V15V16C7 16.5523 7.44772 17 8 17H16C16.5523 17 17 16.5523 17 16V15V14C17 13.4477 16.5523 13 16 13C15.4477 13 15 13.4477 15 14V15Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"CollectionIcon",glyph:o})}},"./packages/nachos/icons/comment.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 17H12.5L8.28037 20.4014C6.97772 21.4869 5 20.5606 5 18.865V16.1973C3.2066 15.1599 2 13.2208 2 11C2 7.68629 4.68629 5 8 5H16C19.3137 5 22 7.68629 22 11C22 14.3137 19.3137 17 16 17ZM16 7H8C5.79086 7 4 8.79086 4 11C4 12.8638 5.27477 14.4299 7 14.874V19L12 15H16C18.2091 15 20 13.2091 20 11C20 8.79086 18.2091 7 16 7Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"CommentIcon",glyph:o})}},"./packages/nachos/icons/copy.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 16V4.99188C5 3.8918 5.90195 3 7.00853 3H14.9915L15 3.00002V5H7V16H5ZM8 19C8 20.1046 8.89543 21 10 21H18C19.1046 21 20 20.1046 20 19V8C20 6.89543 19.1046 6 18 6H10C8.89543 6 8 6.89543 8 8V19ZM10 8V19H18V8H10Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"CopyIcon",glyph:o})}},"./packages/nachos/icons/download.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"DownloadIcon",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M16.062 5.48029C16.318 5.43913 16.578 5.41804 16.839 5.41804C19.644 5.41904 22 7.62002 22 10.4988C22 13.4076 19.615 16.0002 16.9 16.0002H14.019V14.0071H16.9C18.557 14.0071 20.015 12.3443 20.015 10.4988C20.015 8.7205 18.546 7.41217 16.911 7.41217H16.899C16.51 7.41217 16.213 7.46338 15.929 7.56278L15.759 7.62504C15.154 7.87305 14.884 7.37904 14.884 7.37904L14.734 7.11195C14.004 5.76546 12.533 5.0164 11.018 4.99331C8.936 5.02745 7.221 6.54062 6.949 8.63716L6.903 8.97755C6.903 8.97755 6.832 9.50169 6.238 9.50169C6.23123 9.50169 6.22826 9.50332 6.22541 9.50489C6.22279 9.50633 6.22027 9.50771 6.215 9.50771H5.961C4.825 9.50771 3.985 10.4656 3.985 11.6655C3.985 12.8714 4.972 14.0071 6.055 14.0071H10.019V16.0002H6.055C3.895 16.0002 2 13.9548 2 11.6655C2 9.66536 3.312 8.00157 5.138 7.5909C5.845 4.88386 8.191 3.03934 11.024 3.00018C12.999 3.02127 14.925 3.90085 16.062 5.48029Z",fill:"currentColor"}),a.a.createElement("path",{d:"M9.2897 17.2914C9.67569 16.9027 10.3013 16.9029 10.6871 17.2917L11.0009 17.6079L11.0001 10.0065C11 9.45069 11.4477 9.00004 12 8.99998C12.5523 8.99993 13 9.45049 13.0001 10.0063L13.0009 17.653L13.3132 17.3383C13.6991 16.9496 14.3248 16.9496 14.7107 17.3383C15.0966 17.7271 15.0966 18.3574 14.7107 18.7461L12.7917 20.6793C12.5767 20.8959 12.2938 21.0028 12.0118 20.9999C12.0083 21 12.0047 21 12.0012 21C11.8291 21 11.6671 20.9563 11.5257 20.8792C11.4277 20.8285 11.3358 20.7618 11.2538 20.6791L9.28934 18.6992C8.90355 18.3103 8.90371 17.68 9.2897 17.2914Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"DownloadIcon",glyph:o})}},"./packages/nachos/icons/edit.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.82034 14.4893L9.94134 16.6103L18.4303 8.12131L16.3093 6.00031H16.3073L7.82034 14.4893ZM17.7233 4.58531L19.8443 6.70731C20.6253 7.48831 20.6253 8.7543 19.8443 9.53531L10.0873 19.2933L5.13734 14.3433L14.8943 4.58531C15.2853 4.19531 15.7973 4.00031 16.3093 4.00031C16.8203 4.00031 17.3323 4.19531 17.7233 4.58531ZM5.20094 20.4097C4.49794 20.5537 3.87694 19.9327 4.02094 19.2297L4.80094 15.4207L9.00994 19.6297L5.20094 20.4097Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"EditIcon",glyph:o})}},"./packages/nachos/icons/external-link.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.745 8.6082C10.742 8.0352 11.204 7.5722 11.776 7.5722H11.78L15.941 7.5912C16.515 7.5942 16.983 8.0622 16.986 8.6362L17.005 12.7972C17.006 13.3712 16.543 13.8352 15.969 13.8322C15.394 13.8302 14.926 13.3622 14.924 12.7882L14.9163 11.0759L8.19297 17.7992C7.80197 18.1892 7.16797 18.1892 6.77797 17.7992C6.38797 17.4092 6.38797 16.7752 6.77797 16.3842L13.5013 9.66089L11.789 9.6532C11.215 9.6512 10.747 9.1832 10.745 8.6082Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"ExternalLinkIcon",glyph:o})}},"./packages/nachos/icons/filter.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.61799 6C3.87461 6 3.39111 6.78231 3.72356 7.44721L3.99996 8H20L20.2763 7.44721C20.6088 6.78231 20.1253 6 19.3819 6H4.61799ZM10.8618 17.7236C10.9465 17.893 11.1196 18 11.309 18H12.6909C12.8803 18 13.0535 17.893 13.1382 17.7236L14 16H9.99996L10.8618 17.7236ZM17 13H6.99996L5.99996 11H18L17 13Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"FilterIcon",glyph:o})}},"./packages/nachos/icons/heart.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.18194 8.23223C5.20563 9.20854 5.20563 10.7915 6.18194 11.7678L12.1923 17.7782L18.2028 11.7678C19.1791 10.7915 19.1791 9.20854 18.2028 8.23223C17.2264 7.25592 15.6435 7.25592 14.6672 8.23223L12.8995 10C12.5089 10.3905 11.8758 10.3905 11.4852 10L9.71747 8.23223C8.74116 7.25592 7.15825 7.25592 6.18194 8.23223ZM4.76773 13.182C3.01037 11.4246 3.01037 8.57538 4.76773 6.81802C6.52509 5.06066 9.37433 5.06066 11.1317 6.81802L12.1923 7.87868L13.253 6.81802C15.0104 5.06066 17.8596 5.06066 19.617 6.81802C21.3743 8.57538 21.3743 11.4246 19.617 13.182L12.8995 19.8995C12.5089 20.29 11.8758 20.29 11.4852 19.8995L4.76773 13.182Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"HeartIcon",glyph:o})}},"./packages/nachos/icons/image.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 6H5L5 18H19V6ZM5 4C3.89543 4 3 4.89543 3 6V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18V6C21 4.89543 20.1046 4 19 4H5ZM14.2929 11.2929C14.6834 10.9024 15.3166 10.9024 15.7071 11.2929L17.7071 13.2929C18.0976 13.6834 18.0976 14.3166 17.7071 14.7071C17.3166 15.0976 16.6834 15.0976 16.2929 14.7071L15 13.4142L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L10 14.4142L7.70711 16.7071C7.31658 17.0976 6.68342 17.0976 6.29289 16.7071C5.90237 16.3166 5.90237 15.6834 6.29289 15.2929L9.29289 12.2929C9.68342 11.9024 10.3166 11.9024 10.7071 12.2929L12 13.5858L14.2929 11.2929ZM9 11C10.1046 11 11 10.1046 11 9C11 7.89543 10.1046 7 9 7C7.89543 7 7 7.89543 7 9C7 10.1046 7.89543 11 9 11Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"ImageIcon",glyph:o})}},"./packages/nachos/icons/label.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 16.2426C10.8284 17.4142 8.92892 17.4142 7.75734 16.2426C6.58577 15.071 6.58577 13.1715 7.75734 12C8.92892 10.8284 10.8284 10.8284 12 12C13.1716 13.1715 13.1716 15.071 12 16.2426ZM10.5858 14.8284C10.1952 15.2189 9.56208 15.2189 9.17156 14.8284C8.78103 14.4379 8.78103 13.8047 9.17156 13.4142C9.56208 13.0237 10.1952 13.0237 10.5858 13.4142C10.9763 13.8047 10.9763 14.4379 10.5858 14.8284Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2929 2.80759C12.0739 2.02654 13.3403 2.02654 14.1213 2.80759L21.1924 9.87866C21.9734 10.6597 21.9734 11.926 21.1924 12.7071L14.8284 19.071C12.0947 21.8047 7.66258 21.8047 4.92891 19.071C2.19524 16.3374 2.19524 11.9052 4.92891 9.17155L11.2929 2.80759ZM12.7071 4.2218L19.7782 11.2929L13.4142 17.6568C11.4616 19.6095 8.29575 19.6095 6.34313 17.6568C4.39051 15.7042 4.39051 12.5384 6.34313 10.5858L12.7071 4.2218Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"LabelIcon",glyph:o})}},"./packages/nachos/icons/list.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"ListIcon",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7V15C2 16.1046 2.89543 17 4 17H6C7.10457 17 8 16.1046 8 15V7C8 5.89543 7.10457 5 6 5H4C2.89543 5 2 5.89543 2 7ZM4 7V15H6V7L4 7Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7V13C9 14.1046 9.89543 15 11 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5H11C9.89543 5 9 5.89543 9 7ZM11 7V13H13V7L11 7Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 17V7C16 5.89543 16.8954 5 18 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H18C16.8954 19 16 18.1046 16 17ZM18 17V7L20 7V17H18Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"ListIcon",glyph:o})}},"./packages/nachos/icons/location.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"LocationIcon",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C14.2802 21 18 12.3137 18 9C18 5.68629 15.3137 3 12 3C8.68629 3 6 5.68629 6 9C6 12.3137 9.71981 21 12 21ZM12 12C13.6081 12 14.9118 10.6964 14.9118 9.08823C14.9118 7.48011 13.6081 6.17647 12 6.17647C10.3919 6.17647 9.08824 7.48011 9.08824 9.08823C9.08824 10.6964 10.3919 12 12 12Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"LocationIcon",glyph:o})}},"./packages/nachos/icons/move.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.292 4.29149C11.903 4.67949 11.903 5.31649 12.292 5.70549L17.586 10.9995H4C3.45 10.9995 3 11.4495 3 11.9995C3 12.5505 3.45 13.0005 4 13.0005H17.586L12.289 18.2965C11.9 18.6855 11.9 19.3215 12.289 19.7105C12.678 20.1005 13.315 20.1005 13.703 19.7105L20.702 12.7125C20.704 12.7115 20.706 12.7095 20.709 12.7075C20.903 12.5145 21 12.2565 21 11.9995C21 11.7425 20.903 11.4855 20.709 11.2915C20.706 11.2905 20.703 11.2885 20.701 11.2865L13.706 4.29149C13.512 4.09749 13.255 4.00049 12.999 4.00049C12.743 4.00049 12.486 4.09749 12.292 4.29149Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"MoveIcon",glyph:o})}},"./packages/nachos/icons/overflow-menu-horizontal.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 14C6.10457 14 7 13.1046 7 12C7 10.8954 6.10457 10 5 10C3.89543 10 3 10.8954 3 12C3 13.1046 3.89543 14 5 14ZM12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14ZM21 12C21 13.1046 20.1046 14 19 14C17.8954 14 17 13.1046 17 12C17 10.8954 17.8954 10 19 10C20.1046 10 21 10.8954 21 12Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"OverflowMenuHorizontalIcon",glyph:o})}},"./packages/nachos/icons/power-up.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M17.5009 2.65511C18.4967 2.5456 19.5352 2.80718 20.364 3.63597L18.9498 5.05019C18.6192 4.71958 18.2151 4.58335 17.7106 4.63884C17.1593 4.69947 16.4959 4.96246 15.7486 5.38541C15.0122 5.80221 14.272 6.32856 13.5675 6.8454C13.4614 6.92326 13.3548 7.00186 13.2485 7.08031C12.6795 7.50008 12.1166 7.91532 11.6552 8.18878C11.1608 8.48182 10.6363 8.46971 10.3204 8.43815C9.98837 8.40498 9.19934 8.39748 7.94353 8.81849C7.16614 9.07911 6.21617 9.69953 5.40597 10.3177L5.34387 10.3653C5.59079 10.4171 5.85122 10.4646 6.11263 10.5076C6.62099 10.5913 7.11123 10.6543 7.47593 10.6964C7.65774 10.7174 7.80708 10.7331 7.9103 10.7434C7.96189 10.7486 8.00189 10.7525 8.02858 10.755L8.0584 10.7578L8.06686 10.7585L8.96578 11.8603L8.96537 11.8658L8.96296 11.8884C8.96079 11.909 8.95758 11.9404 8.95366 11.9813C8.9458 12.0632 8.93516 12.1826 8.92441 12.3287C8.9028 12.6224 8.88136 13.0163 8.88048 13.4263C8.87958 13.8425 8.90011 14.2437 8.95265 14.563C8.9897 14.7881 9.03099 14.8963 9.04531 14.9338C9.04927 14.9442 9.05033 14.9497 9.05033 14.9497C9.05033 14.9497 9.05582 14.9507 9.06621 14.9547C9.10371 14.969 9.2119 15.0103 9.43702 15.0474C9.75627 15.0999 10.1575 15.1204 10.5737 15.1195C10.9837 15.1186 11.3777 15.0972 11.6714 15.0756L12.1391 15.0341L13.2414 15.933L13.3036 16.5241C13.3457 16.8888 13.4087 17.379 13.4924 17.8874C13.5354 18.1488 13.583 18.4092 13.6347 18.6561L13.6823 18.594C14.3005 17.7838 14.9209 16.8339 15.1815 16.0565C15.6025 14.8007 15.595 14.0116 15.5619 13.6796C15.5303 13.3637 15.5182 12.8392 15.8112 12.3448C16.0847 11.8834 16.4999 11.3206 16.9197 10.7515C16.9981 10.6452 17.0767 10.5386 17.1546 10.4325C17.6715 9.72798 18.1978 8.98784 18.6146 8.25143C19.0376 7.50416 19.3005 6.84067 19.3612 6.28939C19.4167 5.78487 19.2804 5.38079 18.9498 5.05019L20.364 3.63597C21.1928 4.46477 21.4544 5.50334 21.3449 6.4991C21.2405 7.4481 20.8244 8.39124 20.3504 9.22877C19.8702 10.0772 19.2817 10.9 18.762 11.6084C18.674 11.7284 18.5889 11.8439 18.5069 11.9552C18.0946 12.5148 17.7615 12.9669 17.5439 13.3284C17.5413 13.3535 17.5403 13.3991 17.5477 13.4727C17.6103 14.0997 17.58 15.1726 17.0735 16.6835C16.7017 17.7925 15.9064 18.9623 15.2669 19.8003C14.9374 20.2322 14.6293 20.6014 14.4034 20.8629C14.2902 20.9939 14.1971 21.0986 14.1314 21.1714C14.0985 21.2078 14.0725 21.2363 14.0543 21.2561L14.0267 21.286L14.0239 21.289C13.8388 21.4871 13.5813 21.6021 13.3108 21.6073C13.0403 21.6124 12.7798 21.5076 12.5889 21.3167C12.3731 21.1009 12.2313 20.8327 12.1361 20.6177C12.0339 20.3868 11.9481 20.1296 11.8751 19.8725C11.729 19.3576 11.6128 18.7648 11.5231 18.2197C11.4566 17.8154 11.4027 17.425 11.3611 17.0937C11.1199 17.1058 10.8496 17.1146 10.5694 17.1152C10.1037 17.1162 9.57892 17.0947 9.10468 17.0166C8.69213 16.9487 8.05261 16.7804 7.63611 16.3639C7.21962 15.9474 7.05129 15.3079 6.9834 14.8953C6.90535 14.4211 6.88378 13.8964 6.88478 13.4306C6.88539 13.1504 6.89426 12.8801 6.90635 12.6389C6.57502 12.5974 6.18466 12.5434 5.78029 12.4769C5.23522 12.3872 4.64237 12.271 4.12751 12.1249C3.8704 12.0519 3.61317 11.9661 3.38231 11.8639C3.16733 11.7687 2.89915 11.6269 2.68332 11.4111C2.49244 11.2202 2.38758 10.9597 2.39276 10.6892C2.39794 10.4187 2.51272 10.1614 2.71081 9.97631L2.71401 9.97332L2.72063 9.96718L2.74387 9.94573C2.76373 9.92748 2.79221 9.90147 2.82863 9.86862C2.90143 9.80296 3.00612 9.70979 3.13714 9.59661C3.39866 9.37069 3.76781 9.06262 4.19969 8.73309C5.03769 8.09367 6.20752 7.29836 7.31652 6.92656C8.8274 6.42004 9.90036 6.3897 10.5273 6.45233C10.6009 6.45968 10.6465 6.45871 10.6716 6.45614C11.0331 6.23853 11.4852 5.90543 12.0448 5.49314C12.1561 5.41114 12.2716 5.32601 12.3916 5.23804C13.1 4.71833 13.9228 4.12982 14.7712 3.64963C15.6088 3.1756 16.5519 2.75948 17.5009 2.65511Z",fill:"currentColor"}),a.a.createElement("path",{d:"M15.4143 8.58572C15.8048 8.97624 16.438 8.97624 16.8285 8.58572C17.219 8.1952 17.219 7.56203 16.8285 7.17151C16.438 6.78098 15.8048 6.78098 15.4143 7.17151C15.0238 7.56203 15.0238 8.1952 15.4143 8.58572Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"PowerUpIcon",glyph:o})}},"./packages/nachos/icons/search.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"SearchIcon",glyph:o})}},"./packages/nachos/icons/sparkle.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M8 2L7 7L2 8L7 9L8 14L9 9L14 8L9 7L8 2Z",fill:"currentColor"}),a.a.createElement("path",{d:"M17 11L18 8L19 11L22 12L19 13L18 16L17 13L14 12L17 11Z",fill:"currentColor"}),a.a.createElement("path",{d:"M11 17L12 14L13 17L16 18L13 19L12 22L11 19L8 18L11 17Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"SparkleIcon",glyph:o})}},"./packages/nachos/icons/sticker.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9913 22C6.47244 21.9953 2 17.5199 2 12C2 6.47715 6.47715 2 12 2C17.5194 2 21.9944 6.47151 22 11.9896C22.0028 12.2553 21.8994 12.5149 21.7071 12.7071L12.7071 21.7071C12.5153 21.8989 12.2565 22.0023 11.9913 22ZM4 12C4 7.58172 7.58172 4 12 4C15.9888 4 19.2957 6.91917 19.901 10.7377C19.4642 10.6737 18.9449 10.625 18.375 10.625C16.7209 10.625 14.5466 11.0392 12.7929 12.7929C11.0392 14.5466 10.625 16.7209 10.625 18.375C10.625 18.9449 10.6737 19.4642 10.7377 19.901C6.91918 19.2957 4 15.9888 4 12ZM14.2071 14.2071C15.4534 12.9608 17.0292 12.625 18.375 12.625C18.5714 12.625 18.7609 12.6322 18.9412 12.6446L12.6446 18.9412C12.6322 18.7609 12.625 18.5714 12.625 18.375C12.625 17.0291 12.9608 15.4534 14.2071 14.2071Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"StickerIcon",glyph:o})}},"./packages/nachos/icons/template-board.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const o=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M7 3C7 2.44772 7.44772 2 8 2H9C9.55228 2 10 2.44772 10 3C10 3.55228 9.55228 4 9 4H8C7.44772 4 7 3.55228 7 3Z",fill:"currentColor"}),a.a.createElement("path",{d:"M3 7C2.44772 7 2 7.44772 2 8V9C2 9.55228 2.44772 10 3 10C3.55228 10 4 9.55228 4 9V8C4 7.44772 3.55228 7 3 7Z",fill:"currentColor"}),a.a.createElement("path",{d:"M2 12C2 11.4477 2.44772 11 3 11C3.55228 11 4 11.4477 4 12V13C4 13.5523 3.55228 14 3 14C2.44772 14 2 13.5523 2 13V12Z",fill:"currentColor"}),a.a.createElement("path",{d:"M2 16C2 15.4477 2.44772 15 3 15C3.55228 15 4 15.4477 4 16V19C2.89543 19 2 18.1046 2 17V16Z",fill:"currentColor"}),a.a.createElement("path",{d:"M12 2C11.4477 2 11 2.44772 11 3C11 3.55228 11.4477 4 12 4H13C13.5523 4 14 3.55228 14 3C14 2.44772 13.5523 2 13 2H12Z",fill:"currentColor"}),a.a.createElement("path",{d:"M15 3C15 2.44772 15.4477 2 16 2H17C18.1046 2 19 2.89543 19 4H16C15.4477 4 15 3.55228 15 3Z",fill:"currentColor"}),a.a.createElement("path",{d:"M4 2C2.89543 2 2 2.89543 2 4V5C2 5.55228 2.44772 6 3 6C3.55228 6 4 5.55228 4 5V4H5C5.55228 4 6 3.55228 6 3C6 2.44772 5.55228 2 5 2H4Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H7ZM8 7C7.44772 7 7 7.44771 7 8V17C7 17.5523 7.44772 18 8 18H11C11.5523 18 12 17.5523 12 17V8C12 7.44772 11.5523 7 11 7H8ZM14 8C14 7.44772 14.4477 7 15 7H18C18.5523 7 19 7.44772 19 8V13C19 13.5523 18.5523 14 18 14H15C14.4477 14 14 13.5523 14 13V8Z",fill:"currentColor"})),s=e=>{const{testId:t,dangerous_className:n,size:i,color:s,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:s,block:c,label:l||"TemplateBoardIcon",glyph:o})}},"./packages/nachos/select.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}));var i=n("./packages/nachos/src/components/Select/Select.tsx")},"./packages/nachos/src/components/List/List.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/List/List.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./packages/nachos/src/components/Select/Select.less":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Select/Select.less");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},"./packages/nachos/src/components/Select/Select.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return z}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/react-select/dist/react-select.esm.js"),o=n("./node_modules/classnames/index.js"),s=n.n(o),l=n("./packages/keybindings/index.ts"),c=n("./packages/layer-manager/index.ts"),d=n("./packages/test-ids/index.ts"),u=n("./packages/nachos/tokens.ts"),p=n("./packages/nachos/src/components/List/List.less"),m=n.n(p);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase);const g="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameItem),b={BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell),IMAGE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameImage),META:{BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameMeta),SELECTED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameMeta,"--").concat(u.ComponentStateSelected)},LABEL:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameLabel),CONTENT:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameContent)},f=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"--").concat(u.ComponentAppearanceStatic),e=>a.a.createElement("li",h({className:m.a[g]},e),e.children)),v=e=>{const{meta:t,image:n,label:i,isSelected:r}=e;let o=null;n&&("string"==typeof n&&(o=a.a.createElement("img",{className:m.a[b.IMAGE],alt:i,src:n})),a.a.isValidElement(n)&&(o=a.a.createElement("div",{className:m.a[b.IMAGE]},n)));const l=s()({[m.a[b.META.BASE]]:!0,[m.a[b.META.SELECTED]]:r});return a.a.createElement("li",h({className:m.a[b.BASE]},e),o&&o,a.a.createElement("div",{className:m.a[b.CONTENT]},a.a.createElement("div",{className:m.a[b.LABEL]},i),t&&a.a.createElement("div",{className:l},t)))};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=(e=!0)=>y(y({},e&&{textOverflow:"ellipsis"}),{},{overflow:"hidden",whiteSpace:"nowrap"});var w=n("./packages/nachos/src/components/Select/Select.less"),x=n.n(w);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const D="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase),N=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"-").concat(u.SelectClassnameContainer),{BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl),FOCUS:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentStateFocus),COMPACT:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentAppearanceCompact),SUBTLE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentAppearanceSubtle),DISABLED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentStateDisabled)}),I="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameMenu),A={BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption),ACTIVE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentStateActive),DISABLED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentStateDisabled),SELECTED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentStateSelected)},P=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameVal),"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameLabel)),B=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"--").concat(u.ComponentAppearanceStatic),({isCompact:e=!1,isLoading:t=!1})=>({control:t=>{const{backgroundColor:n,border:i,borderColor:a,borderWidth:r,borderStyle:o,boxShadow:s}=t,l=T(t,["backgroundColor","border","borderColor","borderWidth","borderStyle","boxShadow"]),c=e?{height:u.SelectControlCompactHeight,minHeight:u.SelectControlCompactHeight,padding:"".concat(u.SelectControlCompactPaddingY," ").concat(u.SelectControlCompactPaddingX)}:{};return S(S({},l),{},{borderRadius:u.SelectControlDefaultBorderRadius,border:u.SelectControlDefaultBorder,height:u.SelectControlDefaultHeight,minHeight:u.SelectControlDefaultHeight,position:"relative",padding:"".concat(u.SelectControlDefaultPaddingY," ").concat(u.SelectControlDefaultPaddingX)},c)},valueContainer:()=>({padding:u.SelectValueContainerDefaultPadding,position:"initial",display:"inherit",width:"100%",maxWidth:t?u.SelectValueContainerDefaultLoadingMaxWidth:u.SelectValueContainerDefaultMaxWidth,maxHeight:"100%"}),input:()=>S({position:"absolute",top:e?u.SelectInputCompactTop:u.SelectInputDefaultTop,left:e?u.SelectInputCompactLeft:u.SelectInputDefaultLeft,maxWidth:u.SelectInputDefaultMaxWidth},j(!1)),option:(e,{isDisabled:t})=>({cursor:t?"initial":"pointer"}),singleValue:()=>S({marginLeft:u.SelectSingleValueDefaultMarginLeft,width:"100%"},j()),groupHeading:e=>S(S({},e),{},{color:u.SelectGroupHeadingDefaultColor,fontSize:u.SelectGroupHeadingDefaultFontSize,fontWeight:u.SelectGroupHeadingDefaultFontWeight,lineHeight:u.SelectGroupHeadingDefaultLineHeight,marginBottom:u.SelectGroupHeadingDefaultMarginBottom}),indicatorsContainer:e=>S(S({},e),{},{paddingRight:u.SelectIndicatorsContainerDefaultPaddingRight})})),L=e=>{let{selectProps:{isDisabled:t,isFocused:n},isSelected:i,data:{label:o,meta:l,image:c,testId:u}}=e,p=T(e,["selectProps","isSelected","data"]);const m=s()({[x.a[A.BASE]]:!0,[x.a[A.SELECTED]]:i,[x.a[A.DISABLED]]:t,[x.a[A.ACTIVE]]:n});return a.a.createElement("div",{[d.TEST_ID_ATTR]:u},a.a.createElement(r.a.Option,_({className:m},p),l||c?a.a.createElement(v,{label:o,meta:l,image:c,isSelected:i}):a.a.createElement(f,null,o)))},F=e=>{var t,n;const i=null!==(t=null==e||null===(n=e.selectProps)||void 0===n?void 0:n.menuElevation)&&void 0!==t?t:0;return a.a.createElement("div",{[c.ELEVATION_ATTR]:i},a.a.createElement(r.a.Menu,_({className:x.a[I]},e)))},M=e=>{var t,n;const i=s()({[x.a[N.BASE]]:!0,[x.a[N.FOCUS]]:e.isFocused,[x.a[N.COMPACT]]:"compact"===e.selectProps.spacing,[x.a[N.SUBTLE]]:"subtle"===e.selectProps.appearance}),o=null!==(t=null==e||null===(n=e.selectProps)||void 0===n?void 0:n.testId)&&void 0!==t?t:null;return a.a.createElement("div",{[d.TEST_ID_ATTR]:o},a.a.createElement(r.a.Control,_({className:i},e)))},R=()=>null,U=e=>{e.key===l.Key.Escape&&(e.nativeEvent.stopImmediatePropagation(),e.preventDefault())},V=e=>{let{className:t,containerClassName:n,containerStyle:o,defaultValue:l,value:d,label:u,options:p,testId:m,isSearchable:h=!1,scrollIntoViewSelectedOption:g=!0,menuPosition:b="fixed"}=e,f=T(e,["className","containerClassName","containerStyle","defaultValue","value","label","options","testId","isSearchable","scrollIntoViewSelectedOption","menuPosition"]);const v=Object(i.useRef)(null),[k,y]=Object(c.useCallbackRef)(),C=Object(c.useCurrentElevation)(k)+1,j=s()({[D]:!0,[x.a[D]]:!0,[x.a[N.DISABLED]]:f.isDisabled},t);let w=u;"string"==typeof u&&(w=a.a.createElement("label",{className:x.a[P]},u)),p.forEach(((e,t,n)=>{"string"==typeof e&&(n[t]={value:e,label:e})}));let E=d;"string"==typeof d&&(E={value:d,label:d});let O=l;"string"==typeof l&&(O={value:l,label:l});const I=e=>{const{select:t}=v.current,{menuOptions:n,selectValue:i,isFocused:a}=t.state,{isMulti:r}=f;let o="first"===e?0:n.focusable.length-1;if(!r&&i[0]&&g){const e=n.focusable.findIndex((e=>e.value===i[0].value));e>-1&&(o=e)}t.scrollToFocusedOptionOnUpdate=!(a&&t.menuListRef),t.inputIsHiddenAfterUpdate=!1,t.onMenuOpen(),t.setState({focusedValue:null,focusedOption:n.focusable[o]}),t.announceAriaLiveContext({event:"menu"})};return v&&v.current&&(v.current.select.openMenu=I),a.a.createElement("div",{ref:y,className:n,style:o},w,a.a.createElement(r.b,_({ref:v,onKeyDown:U,className:j,styles:B({isCompact:"compact"===f.spacing,isLoading:f.isLoading}),value:E,defaultValue:O,options:p,isOptionDisabled:e=>e.isDisabled,menuPortalTarget:document.body,menuPosition:b,isSearchable:h,components:S({Menu:F,Option:L,Control:M,IndicatorSeparator:R,DropdownIndicator:R},f.components),testId:m,menuElevation:C},f)))},z=r.a},"./packages/nachos/tooltip.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return je})),n.d(t,"b",(function(){return xe}));var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./node_modules/flushable/dist/index.umd.js"),d=n.n(c),u=n("./node_modules/react-node-resolver/lib/index.js"),p=n.n(u),m=n("./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),h=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),g=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),b=n("./node_modules/@atlaskit/popper/dist/esm/Popper.js"),f=n("./node_modules/exenv/index.js"),v=n("./node_modules/react-dom/index.js"),k=n.n(v),y=n("./node_modules/tiny-invariant/dist/tiny-invariant.esm.js"),C=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),j=["light","dark"];function w(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&j.includes(e.theme.mode))return e.theme}return{mode:"light"}}function x(e,t){if("string"==typeof e)return n=e,i=t,function(e){var t=w(e);if(e&&e[n]&&i){var a=i[e[n]];if(a&&a[t.mode]){var r=a[t.mode];if(r)return r}}return""};var n,i,a=e;return function(e){var t=w(e);if(t.mode in a){var n=a[t.mode];if(n)return n}return""}}var _,E,S,O="#FF5630",T="#FFAB00",D="#36B37E",N="#4C9AFF",I="#2684FF",A="#0052CC",P="#FFFFFF",B="#6B778C",L="#172B4D",F="#B8C7E0",M="#8C9CB8",R="#283447",U=(x({light:P,dark:"#1B2638"}),x({light:"#DEEBFF",dark:"#B3D4FF"}),x({light:"#EBECF0",dark:"#3B475C"}),x({light:P,dark:R}),x({light:"#091E42",dark:F}),x({light:L,dark:F}),x({light:A,dark:A}),x({light:B,dark:M}),x({light:"#7A869A",dark:"#7988A3"}),x({light:L,dark:F}),x({light:B,dark:M}),x({light:"#F4F5F7",dark:R}),x({light:A,dark:N}),x({light:"#0065FF",dark:I}),x({light:"#0747A6",dark:N}),x({light:N,dark:I}),x({light:A,dark:N}),x({light:A,dark:N}),x({light:"#00B8D9",dark:"#00C7E6"}),x({light:"#6554C0",dark:"#998DD9"}),x({light:O,dark:O}),x({light:T,dark:T}),x({light:D,dark:D}),{card:function(){return 100},dialog:function(){return 300},navigation:function(){return 200},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}),V=function(e){var t=document.createElement("div");return t.setAttribute("class","atlaskit-portal"),t.setAttribute("style","z-index: "+e+";"),t},z=function(){return Object(y.a)(document&&document.body,"cannot find document.body"),document.body},H=Object.keys(U).reduce((function(e,t){var n=t;return e[U[n]()]=n,e}),{}),W=function(e){return Object.prototype.hasOwnProperty.call(H,e)?H[e]:null},K=function(e,t){var n=function(e,t){var n={layer:W(Number(t)),zIndex:t};if("function"==typeof CustomEvent)return new CustomEvent(e,{detail:n});var i=document.createEvent("CustomEvent"),a={bubbles:!0,cancellable:!0,detail:n};return i.initCustomEvent(e,a.bubbles,a.cancellable,a.detail),i}(e,t);window.dispatchEvent(n)},q=function(){var e=document.querySelector("body > .atlaskit-portal-container");if(!e){var t=document.createElement("div");return t.setAttribute("class","atlaskit-portal-container"),t.setAttribute("style","display: flex;"),z().appendChild(t),t}return e},$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={container:f.canUseDOM?V(t.props.zIndex):void 0,portalIsMounted:!1},t}return a(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.state.container,i=this.props.zIndex;if(n&&e.zIndex!==i){var a=V(i);q().replaceChild(n,a),this.setState({container:a})}else!t.container&&n&&q().appendChild(n)},t.prototype.componentDidMount=function(){var e=this.state.container,t=this.props.zIndex;if(e)q().appendChild(e);else{var n=V(t);this.setState({container:n})}this.setState({portalIsMounted:!0}),K("akPortalMount",Number(t))},t.prototype.componentWillUnmount=function(){var e=this.state.container,t=this.props.zIndex;e&&(q().removeChild(e),!!document.querySelector("body > .atlaskit-portal-container > .atlaskit-portal")||z().removeChild(q()));K("akPortalUnmount",Number(t))},t.prototype.render=function(){var e=this.state,t=e.container,n=e.portalIsMounted;return t&&n?k.a.createPortal(this.props.children,t):null},t.defaultProps={zIndex:0},t}(l.a.Component),G=x({light:L,dark:"#0D1424"}),Z=x({light:P,dark:F}),J=C.default.div(_||(_=o(["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"],["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"])),U.tooltip),Y=Object(C.default)(J)(E||(E=o(["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n\n  ","\n"],["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n\n  ","\n"])),G,(function(){return 3}),Z,(function(e){return e.truncate&&"\n      max-width: 420px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    "})),X=(C.default.div(S||(S=o(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]))),n("./node_modules/@atlaskit/tooltip/dist/esm/version.json")),Q=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),ee=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),te=(n("./node_modules/prop-types/index.js"),!1),ne=l.a.createContext(null),ie="unmounted",ae="exited",re="entering",oe="entered",se="exiting",le=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var a,r=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?r?(a=ae,i.appearStatus=re):a=oe:a=t.unmountOnExit||t.mountOnEnter?ie:ae,i.state={status:a},i.nextCallback=null,i}Object(ee.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ie?{status:ae}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==re&&n!==oe&&(t=re):n!==re&&n!==oe||(t=se)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===re?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===ae&&this.setState({status:ie})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[k.a.findDOMNode(this),i],r=a[0],o=a[1],s=this.getTimeouts(),l=i?s.appear:s.enter;!e&&!n||te?this.safeSetState({status:oe},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,o),this.safeSetState({status:re},(function(){t.props.onEntering(r,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:oe},(function(){t.props.onEntered(r,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:k.a.findDOMNode(this);t&&!te?(this.props.onExit(i),this.safeSetState({status:se},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ae},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:ae},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:k.a.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=a[0],o=a[1];this.props.addEndListener(r,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===ie)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(Q.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.a.createElement(ne.Provider,{value:null},"function"==typeof n?n(e,i):l.a.cloneElement(l.a.Children.only(n),i))},t}(l.a.Component);function ce(){}le.contextType=ne,le.propTypes={},le.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ce,onEntering:ce,onEntered:ce,onExit:ce,onExiting:ce,onExited:ce},le.UNMOUNTED=ie,le.EXITED=ae,le.ENTERING=re,le.ENTERED=oe,le.EXITING=se;var de,ue=le,pe=function(e){var t=e.children,n=e.immediatelyHide,i=e.immediatelyShow,a=e.onExited,o=e.in,s={enter:i?0:120,exit:n?0:80};return l.a.createElement(ue,{timeout:s,in:o,onExited:a,unmountOnExit:!0,appear:!0},(function(e){return t(function(e,t){return function(){return r(r({},function(e){return{transition:"transform "+e.enter+"ms cubic-bezier(0.23, 1, 0.32, 1), opacity "+e.enter+"ms linear",opacity:0}}(e)),function(e){return{entering:{},entered:{opacity:1},exiting:{opacity:0}}[e]}(t))}}(s,e))}))},me={action:"displayed",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:X.name,packageVersion:X.version}},he={action:"hidden",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:X.name,packageVersion:X.version}},ge={capture:!0,passive:!0};function be(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}var fe,ve=function(e,t){var n=de&&de.pending();return n&&de.flush(),d()((function(){return e(n)}),n?0:t).cancel},ke=function(e,t){return(de=d()((function(t){return e(t)}),t)).cancel},ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapperRef=null,t.targetRef=null,t.cancelPendingSetState=function(){},t.userInteraction="mouse",t.state={immediatelyHide:!1,immediatelyShow:!1,isVisible:!1,renderTooltip:!1},t.handleWindowScroll=function(){t.state.isVisible&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseClick=function(){t.props.hideTooltipOnClick&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseDown=function(){t.props.hideTooltipOnMouseDown&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseOver=function(e){e.target!==t.wrapperRef&&(t.userInteraction="mouse",t.fakeMouseElement||(t.fakeMouseElement=be({left:e.clientX,top:e.clientY})),t.handleShowTooltip())},t.handleFocus=function(){t.userInteraction="keyboard",t.fakeMouseElement||(t.fakeMouseElement=be({left:0,top:0})),t.handleShowTooltip()},t.handleShowTooltip=function(){t.cancelPendingSetState(),Boolean(t.props.content)&&!t.state.isVisible&&(t.cancelPendingSetState=ve((function(e){t.setState({isVisible:!0,renderTooltip:!0,immediatelyShow:e})}),t.props.delay||0))},t.handleHideTooltip=function(e){e.target!==t.wrapperRef&&(t.cancelPendingSetState(),t.state.isVisible&&(t.cancelPendingSetState=ke((function(e){t.setState({isVisible:!1,immediatelyHide:e})}),t.props.delay||0)))},t.handleMouseMove=function(e){t.state.renderTooltip||(t.fakeMouseElement=be({left:e.clientX,top:e.clientY}))},t}return a(t,e),t.prototype.componentWillUnmount=function(){this.cancelPendingSetState(),this.removeScrollListener()},t.prototype.componentDidUpdate=function(e,t){!t.isVisible&&this.state.isVisible?(this.props.onShow&&this.props.onShow(),window.addEventListener("scroll",this.handleWindowScroll,ge)):t.isVisible&&!this.state.isVisible&&(this.props.onHide&&this.props.onHide(),this.removeScrollListener())},t.prototype.removeScrollListener=function(){window.removeEventListener("scroll",this.handleWindowScroll,ge)},t.prototype.shouldPositionTooltipNearMouse=function(){return"mouse"===this.props.position&&"mouse"===this.userInteraction},t.prototype.render=function(){var e=this,t=this.props,n=t.children,i=t.position,a=t.mousePosition,o=t.content,s=t.truncate,c=t.component,d=t.tag,u=t.testId,m=this.state,h=m.isVisible,g=m.renderTooltip,f=m.immediatelyShow,v=m.immediatelyHide,k="mouse"===i?a:i;return l.a.createElement(l.a.Fragment,null,d&&l.a.createElement(d,{onClick:this.handleMouseClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleHideTooltip,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleHideTooltip,ref:function(t){e.wrapperRef=t}},l.a.createElement(p.a,{innerRef:function(t){e.targetRef=t}},l.a.Children.only(n))),g&&this.targetRef&&this.fakeMouseElement?l.a.createElement($,{zIndex:U.tooltip()},l.a.createElement(b.a,{placement:k,referenceElement:this.shouldPositionTooltipNearMouse()?this.fakeMouseElement:this.targetRef},(function(t){var n=t.ref,i=t.style;return c&&l.a.createElement(pe,{immediatelyShow:f,immediatelyHide:v,onExited:function(){return e.setState({renderTooltip:!1})},in:h},(function(e){return l.a.createElement(c,{innerRef:n||void 0,className:"Tooltip",style:r(r({},e()),i),truncate:s||!1,"data-placement":k,"data-testid":u},o)}))}))):null)},t.defaultProps={component:Y,delay:300,mousePosition:"bottom",position:"bottom",tag:"div"},t}(l.a.Component),Ce=Object(m.a)("atlaskit"),je=Object(h.a)({componentName:"tooltip",packageName:X.name,packageVersion:X.version})(Object(g.a)({onHide:he,onShow:Ce(r({},me))})(ye)),we=n("./packages/colors/index.ts");const xe=Object(C.default)(J)(fe||(_e=["\n  background: ",";\n  border-radius: 4px;\n  box-shadow: 0 1px 2px ",";\n  box-sizing: content-box;\n  color: ",";\n  max-height: 300px;\n  max-width: 300px;\n  padding: 8px 12px;\n"],Ee||(Ee=_e.slice(0)),fe=Object.freeze(Object.defineProperties(_e,{raw:{value:Object.freeze(Ee)}}))),we.N0,we.OpacityDark2,we.N800);var _e,Ee},"./resources/images/business-class-feature-boards.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-boards.e600c69b7e3fc09e01e7.png"},"./resources/images/business-class-feature-integration.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-integration.3cf8a0a268ae3df9ba86.png"},"./resources/images/business-class-feature-roadmap.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-roadmap.6ef1064adc08b58d544a.png"},"./resources/images/business-class/feature-boards.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-boards.187fefab238409644c24.svg"},"./resources/images/business-class/feature-butler.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-butler.a7939b992e0aa414c5dc.svg"},"./resources/images/business-class/feature-control.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-control.521a9528f5a738a01953.svg"},"./resources/images/business-class/feature-powerups.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-powerups.21d4cec5c307cd84f315.svg"},"./resources/images/canonical-card/alert-taco.svg":function(e,t,n){e.exports=n.p+"images/canonical-card/alert-taco.4f0613d1118d1c1a2592.svg"},"./resources/images/canonical-card/bouncer-taco.svg":function(e,t,n){e.exports=n.p+"images/canonical-card/bouncer-taco.66240b4e7a63e2ec97ed.svg"},"./resources/images/canonical-card/confused-taco.svg":function(e,t,n){e.exports=n.p+"images/canonical-card/confused-taco.88caed2d26de350cca5f.svg"},"./resources/images/card-templates/header-card-template.png":function(e,t,n){e.exports=n.p+"images/card-templates/header-card-template.05d178e750601eba6f93.png"},"./resources/images/checklists/pointing-hand.svg":function(e,t,n){e.exports=n.p+"images/checklists/pointing-hand.9d6d5b454e050157108e.svg"},"./resources/images/dropbox-mark.svg":function(e,t,n){e.exports=n.p+"images/dropbox-mark.215858e3544ae873917a.svg"},"./resources/images/free-trial/light.svg":function(e,t,n){e.exports=n.p+"images/free-trial/light.81158fb384d8b22c6c18.svg"},"./resources/images/free-trial/thumbs-up.svg":function(e,t,n){e.exports=n.p+"images/free-trial/thumbs-up.50b570ce7386a670d911.svg"},"./resources/images/illos.png":function(e,t,n){e.exports=n.p+"images/illos.2115ef449c35c60bbc99.png"},"./resources/images/location-cluster.svg":function(e,t,n){e.exports=n.p+"images/location-cluster.d3dbd7a18d5c6104539e.svg"},"./resources/images/location-marker.png":function(e,t,n){e.exports=n.p+"images/location-marker.5a168a2b40a74c2626c5.png"},"./resources/images/moonshot/bc-sparkle.svg":function(e,t,n){e.exports=n.p+"images/moonshot/bc-sparkle.bd904266f6bf970d90a5.svg"},"./resources/images/qr-code/error.svg":function(e,t,n){e.exports=n.p+"images/qr-code/error.d04bdb73176b32293bf7.svg"},"./resources/images/relate-both-cards.png":function(e,t,n){e.exports=n.p+"images/relate-both-cards.611cc393aaa23eb02fba.png"},"./resources/images/services/lock.svg":function(e,t,n){e.exports=n.p+"images/services/lock.a907e0855299b9fd3b5f.svg"},"./resources/images/services/people.svg":function(e,t,n){e.exports=n.p+"images/services/people.cf4cb77547092c216488.svg"},"./resources/images/stars.svg":function(e,t,n){e.exports=n.p+"images/stars.d19b8361de56914042bd.svg"},"./resources/images/stickers/residue.png":function(e,t,n){e.exports=n.p+"images/stickers/residue.38e223183bf85ac21aa3.png"},"./resources/images/upgrade-prompts/fortnite.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/fortnite.a3213014c3b35e6df4dc.svg"},"./resources/images/upgrade-prompts/google.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/google.a9c8466235317a58716f.svg"},"./resources/images/upgrade-prompts/peloton.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/peloton.724a6ab7c61c893a33f6.svg"},"./resources/images/upgrade-prompts/pinterest.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/pinterest.1892dc0d5d3fa40d15d0.svg"}}]);
//# sourceMappingURL=card-detail-view.689c2bc20e49f5129279.js.map