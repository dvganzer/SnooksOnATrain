(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{"./app/src/components/MigrationWizard/MigrationWizard.tsx":function(e,a,t){"use strict";t.r(a),t.d(a,"MigrationWizard",(function(){return Rn}));var n=t("./node_modules/react/index.js"),i=t.n(n),r=t("./node_modules/js-cookie/src/js.cookie.js"),o=t.n(r),s=t("./app/scripts/debug/constants.ts"),l=t("./app/src/components/ErrorBoundary/index.ts"),d=t("./node_modules/@apollo/client/index.js");function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach((function(a){u(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function u(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const p={context:{operationName:"TeamlessBoards"}},b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamlessBoards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundTile"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]}}]};var g=t("./packages/error-reporting/index.ts");const k=({skip:e}={})=>{var a,t,i;const{data:r,loading:o,error:l}=function(e){const a=m(m({},p),e);return d.useQuery(b,a)}({skip:e});Object(n.useEffect)((()=>{l&&Object(g.sendErrorEvent)(l,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useTeamlessBoards"}})}),[l]);const c=(null==r||null===(a=r.member)||void 0===a?void 0:a.id)||"me",u=(null==r||null===(t=r.member)||void 0===t||null===(i=t.boards)||void 0===i?void 0:i.filter((({memberships:e,enterpriseOwned:a,idOrganization:t})=>!t&&!a&&e.find((({idMember:e,memberType:a})=>e===c&&"admin"===a)))))||[];return{loading:o,error:l,teamlessBoards:u}};var v=t("./app/src/components/Dialog/index.ts");let f,O;!function(e){e.INTRO="intro",e.MOVE_YOUR_BOARDS="move-your-boards",e.BC_FOR_FREE="bc-for-free",e.MEMBERSHIPS="memberships",e.BOARD_VISIBILITY="board-visibility",e.COMPLEX_MOVE_BOARDS="complex-move-boards",e.POST_MIGRATION="post-migration-cleanup",e.DONE="done"}(f||(f={})),function(e){e.Post="post",e.Pre="pre",e.Desktop="desktop",e.Advanced="advanced"}(O||(O={}));var y=t("./packages/browser/index.ts");function h(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?h(Object(t),!0).forEach((function(a){N(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function N(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const _={context:{operationName:"MigrationWizard"}},j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MigrationWizard"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"teamify"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"impact"}},{kind:"Field",name:{kind:"Name",value:"autoMigration"}},{kind:"Field",name:{kind:"Name",value:"collaborativeTeamlessBoards"}},{kind:"Field",name:{kind:"Name",value:"soloTeamlessBoards"}},{kind:"Field",name:{kind:"Name",value:"inCollaborativeOrg"}},{kind:"Field",name:{kind:"Name",value:"voluntaryDone"}},{kind:"Field",name:{kind:"Name",value:"idOrgCreated"}},{kind:"Field",name:{kind:"Name",value:"idOrgSelected"}}]}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"nonPublic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullName"}}]}}]}}]}}]};function E(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?E(Object(t),!0).forEach((function(a){M(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function M(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const w={context:{operationName:"MigrationWizardDismissPostMigrationBanner"}},z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardDismissPostMigrationBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};const P="teamify-post-migration",B={[f.INTRO]:"teamifyIntroModal",[f.MOVE_YOUR_BOARDS]:"teamifyMoveYourBoardsModal",[f.BC_FOR_FREE]:"teamifyBCModal",[f.MEMBERSHIPS]:"teamifyMembershipsModal",[f.BOARD_VISIBILITY]:"teamifyBoardVisibilityModal",[f.COMPLEX_MOVE_BOARDS]:"teamifyComplexMoveBoardsModal",[f.POST_MIGRATION]:"teamifyPostMigrationMoveBoardsModal",[f.DONE]:"teamifyDoneModal"};var D=t("./packages/session-cookie/index.ts");function I(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function C(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?I(Object(t),!0).forEach((function(a){T(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function T(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const W={context:{operationName:"MigratedBoards"}},F={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MigratedBoards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"permissionLevel"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundTile"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]}}]};const A=({idOrg:e,skip:a}={})=>{var t,i;const{data:r,loading:o,error:l,refetch:c}=function(e){const a=C(C({},W),e);return d.useQuery(F,a)}({variables:{orgId:null!=e?e:""},skip:a||!e});Object(n.useEffect)((()=>{l&&Object(g.sendErrorEvent)(l,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useMigratedBoards"}})}),[l]);const m=Object(n.useMemo)((()=>{var e,a;return{id:null==r||null===(e=r.organization)||void 0===e?void 0:e.id,displayName:null==r||null===(a=r.organization)||void 0===a?void 0:a.displayName}}),[null==r?void 0:r.organization]),u=(null==r||null===(t=r.organization)||void 0===t||null===(i=t.boards)||void 0===i?void 0:i.filter((({memberships:e})=>e.find((({idMember:e})=>e===D.memberId)))))||[];return{loading:o,error:l,migrationOrg:m,migratedBoards:u,refetch:c}};var V=t("./packages/feature-flag-client/index.ts");function R(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?R(Object(t),!0).forEach((function(a){H(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function H(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const q=e=>{e&&Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useMigrationWizard"}})},G=({skip:e=!1}={})=>{var a,t,i,r,s,l;const c=Object(V.useFeatureFlag)("btg.migration-wizard",!1),[m,u]=Object(n.useState)(!1),[p,b]=Object(n.useState)(!1),{data:g,loading:k,error:v,refetch:f}=function(e){const a=x(x({},_),e);return d.useQuery(j,a)}({skip:!c||e});Object(n.useEffect)((()=>{q(v)}),[v]);const h=null==g?void 0:g.member,N=(null==h?void 0:h.id)||"me",E=null!==(a=null!==(t=null==h||null===(i=h.nonPublic)||void 0===i?void 0:i.fullName)&&void 0!==t?t:null==h?void 0:h.fullName)&&void 0!==a?a:"",M=Boolean(null==h?void 0:h.confirmed),B=Object(n.useMemo)((()=>{var e,a;return null!==(e=null==g||null===(a=g.member)||void 0===a?void 0:a.oneTimeMessagesDismissed)&&void 0!==e?e:[]}),[null==g||null===(r=g.member)||void 0===r?void 0:r.oneTimeMessagesDismissed]),D=o.a.get("teamify")||"{}",I=Object(n.useMemo)((()=>{try{const e=JSON.parse(D);return L(L({},null==h?void 0:h.teamify),e)}catch(e){return null}}),[D,null==h?void 0:h.teamify])||(null==h?void 0:h.teamify),C=null==I?void 0:I.state,T=null==I?void 0:I.impact,W=null!==(s=null==I?void 0:I.collaborativeTeamlessBoards)&&void 0!==s?s:0,F=null!==(l=null==I?void 0:I.soloTeamlessBoards)&&void 0!==l?l:0,R=null==I?void 0:I.idOrgCreated,H=null==I?void 0:I.idOrgSelected,{migratedBoards:G,loading:Q,error:U}=A({idOrg:R||H||""});Object(n.useEffect)((()=>{q(U)}),[U]);const[K,{loading:Y}]=function(e){const a=S(S({},w),e);return d.useMutation(z,a)}(),X=B.includes(P),J=Object(n.useCallback)((()=>!!c&&(!!M&&("done"===C?"none"!==T&&!X&&(!!R||!!H)&&G.length>0:"pending"===C&&(W>0||F>0)))),[W,M,X,R,H,T,c,F,C,G]),Z=o.a.get("simulate-migration-wizard-banner");Object(n.useEffect)((()=>{if(Z&&!m)u(!0);else if(!k&&!Q&&(!m||p)){const e=J();e!==m&&u(e),p&&b(!1)}}),[Z,m,u,k,Q,p,J,b]);const $=Object(n.useCallback)((()=>{f(),b(!0)}),[f,b]);let ee=null;m&&(ee=Object(y.isDesktop)()?O.Desktop:"done"===(null==I?void 0:I.state)||"post"===o.a.get("teamify-wizard-path")?O.Post:null!=I&&I.voluntaryDone?O.Advanced:O.Pre);const ae=Object(n.useCallback)((()=>{Y||K({variables:{messageId:P},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:[...B,P],__typename:"Member"}}})}),[K,B,Y]);return{loading:k,loadingMigratedBoards:Q,error:v,isEligible:m,experience:ee,teamify:I,memberId:N,memberName:E,dismissBanner:ae,refetch:f,checkEligibility:$}},Q=(e,a)=>{switch(a.type){case"add":return[...e,a.idBoard];case"remove":return e.filter((e=>e!==a.idBoard));case"clear":return[];case"all":return a.idBoards;default:return e}};var U=t("./packages/atlassian-analytics/index.ts");function K(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Y(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?K(Object(t),!0).forEach((function(a){X(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function X(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const J={context:{operationName:"BoardsInOrg"}},Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardsInOrg"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]};function $(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function ee(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?$(Object(t),!0).forEach((function(a){ae(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function ae(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const te={context:{operationName:"MembersOfBoards"}},ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MembersOfBoards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoards"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"idBoards"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"avatarSource"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"nonPublic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"fullName"}}]}}]}}]}}]}}]};const ie=e=>{var a;const{data:t,loading:i,error:r}=function(e){const a=Y(Y({},J),e);return d.useQuery(Z,a)}({variables:{orgId:e},skip:!e,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),o=((null==t||null===(a=t.organization)||void 0===a?void 0:a.boards)||[]).map((e=>e.id)),{data:l,loading:c,error:m}=function(e){const a=ee(ee({},te),e);return d.useQuery(ne,a)}({variables:{idBoards:o},skip:i||!e});return Object(n.useEffect)((()=>{r&&Object(g.sendErrorEvent)(r,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useTeamGuests"}})}),[r]),Object(n.useEffect)((()=>{m&&Object(g.sendErrorEvent)(m,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useTeamGuests"}})}),[m]),Object(n.useMemo)((()=>{var e;const a=((null==t||null===(e=t.organization)||void 0===e?void 0:e.memberships)||[]).map((e=>e.idMember)),n=((null==l?void 0:l.boards)||[]).flatMap((({members:e})=>e.filter((e=>!a.includes(e.id)&&e.id!==D.memberId)))).filter((({id:e},a,t)=>t.findIndex((a=>a.id===e))===a)).sort(((e,a)=>{var t,n,i;return null!==(t=null==e||null===(n=e.fullName)||void 0===n?void 0:n.localeCompare(null!==(i=null==a?void 0:a.fullName)&&void 0!==i?i:""))&&void 0!==t?t:0}));return{loading:i||c,error:r||m,teamGuests:n}}),[t,l,i,c,r,m])};var re=t("./app/scripts/init/useSocketSubscription.ts");const oe=f.INTRO,se=()=>{const{isEligible:e,memberName:a,loading:t,teamify:i,experience:r,dismissBanner:s,refetch:l,checkEligibility:d}=G(),{dialogProps:c}=Object(v.c)(),m=e||c.isOpen,{teamlessBoards:u}=k({skip:t||!m||"done"===(null==i?void 0:i.state)}),[p,b]=Object(n.useState)(""),[g,y]=Object(n.useState)(null),[h,x]=Object(n.useState)(!1),{teamGuests:N,loading:_}=ie(p),[j,E]=Object(n.useState)(""),[S,M]=Object(n.useState)(oe),[w,z]=Object(n.useState)(),[P,D]=Object(n.useReducer)(Q,[]),[I,C]=Object(n.useState)(!1);Object(re.a)("Organization",p,!p||!c.isOpen);const T=null==i?void 0:i.voluntaryDone,W=o.a.get("teamify-wizard-path"),F=Object(n.useCallback)((e=>{if(e){switch(e){case f.MEMBERSHIPS:D({type:"clear"}),E(""),_||""===p||(0===(null==N?void 0:N.length)?M(f.BOARD_VISIBILITY):M(e));break;default:M(e)}z(S)}}),[S,D,N,_,p]),A=Object(n.useCallback)((e=>{F(e)}),[F]);Object(n.useEffect)((()=>{if(c.isOpen){if((S===f.MOVE_YOUR_BOARDS||S===f.BC_FOR_FREE)&&""!==p)return;U.Analytics.sendScreenEvent({name:B[S],containers:{organization:{id:p}},attributes:{forcedMigration:r===O.Post?"post":"pre"}})}}),[c.isOpen,S,p,r]);const V=Object(n.useCallback)((()=>{S===f.BC_FOR_FREE&&U.Analytics.sendClickedButtonEvent({buttonName:"backButton",source:"teamifyBCModal"}),w&&F(w)}),[F,w,S]),R=Object(n.useCallback)((()=>{c.hide(),F(f.INTRO),D({type:"clear"}),y(T),b(""),I&&(d(),C(!1))}),[c,F,D,T,d,I,C]);return Object(n.useEffect)((()=>{t||h||(x(!0),y(T))}),[t,y,h,x,T]),Object(n.useEffect)((()=>{!t&&a&&E("".concat(a,"'s workspace"))}),[t,a,E]),Object(n.useEffect)((()=>{if(!t&&h)switch(W){case"advanced":S!==f.COMPLEX_MOVE_BOARDS&&F(f.COMPLEX_MOVE_BOARDS);break;case"simple":S===f.COMPLEX_MOVE_BOARDS&&F(f.INTRO);break;case"post":S!==f.POST_MIGRATION&&F(f.POST_MIGRATION);break;default:"done"===(null==i?void 0:i.state)?F(f.POST_MIGRATION):g&&S!==f.COMPLEX_MOVE_BOARDS&&F(f.COMPLEX_MOVE_BOARDS)}}),[t,W,g,F,S,null==i?void 0:i.state,h]),Object(n.useMemo)((()=>({isEligible:m,teamlessBoards:u,currentStep:S,previousStep:w,onNext:A,onBack:V,orgId:p,setOrgId:b,selectedBoards:P,updateBoards:D,teamName:j,setTeamName:E,dialogProps:c,hideWizard:R,experience:r,teamify:i,dismissBanner:s,refetchMigrationWizardQuery:l,checkEligibilityOnClose:()=>{I||C(!0)}})),[m,u,S,w,A,V,p,b,P,D,j,E,c,R,r,i,s,l,C,I])},le={isEligible:!1,teamlessBoards:[],currentStep:oe,onNext:()=>{},onBack:()=>{},setOrgId:()=>{},orgId:"",selectedBoards:[],updateBoards:()=>{},teamName:"",setTeamName:()=>{},dialogProps:{hide:()=>{},show:()=>{},toggle:()=>{},isOpen:!1},hideWizard:()=>{},experience:null,teamify:null,dismissBanner:()=>{},refetchMigrationWizardQuery:()=>{},checkEligibilityOnClose:()=>{}},de=i.a.createContext(le),ce=({children:e})=>{const a=se();return i.a.createElement(l.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard}},i.a.createElement(de.Provider,{value:a},e))};var me=t("./node_modules/moment/moment.js"),ue=t.n(me),pe=t("./packages/nachos/button.ts"),be=t("./app/src/components/Banner/index.ts"),ge=t("./packages/i18n/index.ts"),ke=t("./packages/test-ids/index.ts"),ve=t("./app/src/components/MigrationWizard/MigrationWizardDesktopBanner.less"),fe=t.n(ve);const Oe=Object(ge.forNamespace)(["migration wizard"]),ye=()=>{const{teamify:e}=Object(n.useContext)(de);return i.a.createElement(i.a.Fragment,null,i.a.createElement(be.a,{inlinePadding:!0,textClassName:fe.a.banner},i.a.createElement("span",{className:fe.a.text},!(null==e||!e.autoMigration)&&Oe("desktop-banner",{migrationDate:ue()(null==e?void 0:e.autoMigration).format("MMMM Do")})),i.a.createElement(pe.Button,{appearance:"primary",className:fe.a.button,onClick:()=>{window.open("/","_blank")},testId:ke.MigrationWizardTestIds.StartButton},Oe("desktop-banner-button"))))};var he=t("./node_modules/classnames/index.js"),xe=t.n(he),Ne=t("./packages/nachos/icons/back.tsx"),_e=t("./packages/nachos/icons/close.tsx"),je=t("./app/src/components/MigrationWizard/MigrationWizardDialog.less"),Ee=t.n(je),Se=t("./app/src/components/MigrationWizard/MigrationWizardStart.less"),Me=t.n(Se);const we=Object(ge.forNamespace)(["migration wizard"]),ze=()=>{const{onNext:e,teamify:a}=Object(n.useContext)(de);let r;return null!=a&&a.autoMigration&&(r=ue()(null==a?void 0:a.autoMigration).format("MMMM Do")),i.a.createElement("div",{className:Me.a.container},i.a.createElement("img",{src:t("./resources/images/migration-wizard/start-board-migration.png"),alt:"",role:"presentation",width:"233",height:"178"}),i.a.createElement("h1",{className:Me.a.startMigrationTitle},we("simple-start-migration-title")),i.a.createElement("p",{className:Me.a.startMigrationBody},we("simple-start-teams-are-workspaces")),i.a.createElement(pe.Button,{appearance:"primary",size:"wide",onClick:()=>null==e?void 0:e(f.MOVE_YOUR_BOARDS),testId:ke.MigrationWizardTestIds.IntroStartButton},we("simple-start-migration-button")),i.a.createElement("hr",{className:Me.a.line}),r?i.a.createElement("p",{className:Me.a.footerText},we("simple-start-migration-footer-with-date",{migrationDate:r})):i.a.createElement("p",{className:Me.a.footerText},we("simple-start-migration-footer-without-date")))};var Pe=t("./packages/nachos/spinner.ts"),Be=t("./packages/graphql-error-handling/index.ts");function De(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Ie(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?De(Object(t),!0).forEach((function(a){Ce(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):De(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function Ce(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const Te={context:{operationName:"UseCreateTeamAndMoveBoardsCreateTeam"}},We={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UseCreateTeamAndMoveBoardsCreateTeam"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"default",block:!1}},{kind:"Argument",name:{kind:"Name",value:"teamType"},value:{kind:"StringValue",value:"other",block:!1}},{kind:"Argument",name:{kind:"Name",value:"creationMethod"},value:{kind:"StringValue",value:"teamify-wizard",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};function Fe(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Ae(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Fe(Object(t),!0).forEach((function(a){Ve(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fe(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function Ve(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const Re={context:{operationName:"MigrationWizardMoveBoard"}},Le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardMoveBoard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"keepBillableGuests"},value:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}}]}}]}}]};function He(e){const a=Ae(Ae({},Re),e);return d.useMutation(Le,a)}function qe(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Ge(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?qe(Object(t),!0).forEach((function(a){Qe(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function Qe(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const Ue={context:{operationName:"MigrationWizardUpdateVoluntaryDone"}},Ke={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardUpdateVoluntaryDone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateTeamifyVoluntaryDone"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};function Ye(e){const a=Ge(Ge({},Ue),e);return d.useMutation(Ke,a)}function Xe(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Je(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Xe(Object(t),!0).forEach((function(a){Ze(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xe(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function Ze(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const $e={context:{operationName:"AddFreeTrial"}},ea={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddFreeTrial"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addFreeTrial"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"via"},value:{kind:"StringValue",value:"teamify-wizard",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"standing"}},{kind:"Field",name:{kind:"Name",value:"dateFirstSubscription"}}]}}]}}]}}]};const aa=()=>{const[e,a]=Object(n.useState)(""),[t,i]=Object(n.useState)(""),[r,o]=Object(n.useState)(""),{setOrgId:l}=Object(n.useContext)(de),[c,{loading:m}]=function(e){const a=Ie(Ie({},Te),e);return d.useMutation(We,a)}(),[u]=function(e){const a=Je(Je({},$e),e);return d.useMutation(ea,a)}(),[p]=He(),[b]=Ye();return{createTeamAndMoveBoards:async(e,t)=>{if(!t||0===t.length)throw new Error("Need to provide boards to move");const n=await(async(e,{withFreeTrial:t=!1})=>{var n;if(m)return;const r=e.trim();let o;try{const{data:e}=await c({variables:{name:r}});o=e}catch(e){const t=Object(Be.c)(e);switch(null==t?void 0:t.code){case"ORG_DISPLAY_NAME_SHORT":a(Object(ge.localizeErrorCode)("organization","ORG_DISPLAY_NAME_SHORT"));break;default:i(Object(ge.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:t})}}if(null!==(n=o)&&void 0!==n&&n.createOrganization){const e=o.createOrganization.id;if(!t)return e;try{return await u({variables:{orgId:e}}),e}catch(e){const a=Object(Be.c)(e);return i((null==a?void 0:a.message)||"Could not add free trial"),void Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:a})}}})(e,{withFreeTrial:t.length>9}),r=n?await(async(e,a)=>{const t=[];for(const r of a)try{var n;const{data:a}=await p({variables:{orgId:e,boardId:r,keepBillableGuests:!0}});var i;null!=a&&null!==(n=a.updateBoardOrg)&&void 0!==n&&n.id&&(t.push(null==a||null===(i=a.updateBoardOrg)||void 0===i?void 0:i.id),U.Analytics.sendUpdatedBoardFieldEvent({field:"organization",value:e,source:B[f.MOVE_YOUR_BOARDS],containers:{board:{id:r},organization:{id:e}}}))}catch(e){const a=e=>{const a=Object(Be.c)(e);null==a||a.code,o(Object(ge.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:a})};Array.isArray(e.networkError)?e.networkError.map((e=>a(new d.ApolloError({networkError:e})))):a(e)}return t})(n,t):[];n&&l(n);try{await b({variables:{memberId:"me"}})}catch(e){const a=Object(Be.c)(e);Object(g.sendErrorEvent)(a||e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:a})}return{organizationId:n,movedBoards:r}},teamNameError:e,setTeamNameError:a,teamError:t,setTeamError:i,boardError:r,setBoardError:o}};var ta=t("./app/common/lib/util/preview.ts"),na=t("./app/src/components/SelectableCompactBoardTile/SelectableCompactBoardTile.less"),ia=t.n(na);const ra=({boardId:e,boardName:a,background:t,isSelected:n=!1,onClick:r,isDisabled:o,title:s,testId:l})=>{const d=xe()(ia.a.container,{[ia.a.selectable]:!o&&Boolean(r),[ia.a.selectedCompactBoardTile]:n,[ia.a.disabled]:o}),c=(e=>{const a={};let t="";if(e){var n,i,r,o;t=e.backgroundTile?null!==(n=e.backgroundImage)&&void 0!==n?n:"":null!==(i=null!==(r=null===(o=Object(ta.smallestPreviewBiggerThan)(e.backgroundImageScaled,400,200))||void 0===o?void 0:o.url)&&void 0!==r?r:e.backgroundImage)&&void 0!==i?i:"",t&&(a.backgroundImage="url('".concat(t,"')")),a.backgroundColor=e.backgroundTopColor||void 0}return a})(t);return i.a.createElement("div",{className:d,style:c,onClick:e=>{o||null==r||r(e)},role:"button",key:e,title:s,"data-test-id":l},i.a.createElement("div",{className:ia.a.boardThumbnail,style:c}),i.a.createElement("div",{className:ia.a.boardDescription},i.a.createElement("div",{className:ia.a.boardNameWrapper},i.a.createElement("div",{className:ia.a.boardName},a)),n&&i.a.createElement("div",{className:ia.a.checkmark},"âœ“")))};var oa=t("./app/src/components/MigrationWizard/MigrationWizardMessagePill.less"),sa=t.n(oa);const la=({children:e,type:a})=>i.a.createElement("div",{"data-test-id":ke.MigrationWizardTestIds.ErrorPill,role:"alert",className:xe()(sa.a.pill,{[sa.a.error]:"error"===a,[sa.a.alert]:"alert"===a})},e);var da=t("./app/src/components/MigrationWizard/MigrationWizardCreateTeamMoveBoards.less"),ca=t.n(da);const ma=Object(ge.forNamespace)(["migration wizard"]),ua=Object(ge.forNamespace)(["error handling","organization"]),pa=()=>{const e=Object(n.useRef)(null),[a,t]=Object(n.useState)(!1),[r,o]=Object(n.useState)(),{teamlessBoards:s,selectedBoards:l,updateBoards:d,onNext:c,teamName:m,setTeamName:u,orgId:p}=Object(n.useContext)(de),{createTeamAndMoveBoards:b,teamNameError:g,setTeamNameError:k,teamError:v}=aa();let O;return Object(n.useEffect)((()=>{""!==p&&(null==c||c(f.MEMBERSHIPS))}),[p,c]),Object(n.useEffect)((()=>{d({type:"all",idBoards:s.map((e=>e.id))})}),[]),O=g||(r||(v||"")),Object(n.useEffect)((()=>{e.current&&setTimeout((()=>{var a,t;null==e||null===(a=e.current)||void 0===a||a.focus(),null==e||null===(t=e.current)||void 0===t||t.select()}),500)}),[e]),i.a.createElement("div",{className:ca.a.container},i.a.createElement("h2",null,ma("create-team-move-boards-title")),i.a.createElement("p",null,ma("create-team-move-boards-body")),i.a.createElement("hr",null),i.a.createElement("label",{htmlFor:"migrationWizardMoveBoards"},ma("create-team-move-boards-add-boards-prompt")),i.a.createElement("input",{id:"migrationWizardMoveBoards",ref:e,name:"teamName",type:"text",value:m,onChange:e=>{k(""),u(e.currentTarget.value)},"data-test-id":ke.MigrationWizardTestIds.TeamNameInput}),i.a.createElement(pe.Button,{appearance:"subtle-link",onClick:()=>{d({type:"clear"}),null==c||c(f.COMPLEX_MOVE_BOARDS)},className:ca.a.selectAnotherButton,testId:ke.MigrationWizardTestIds.SelectOtherTeamButton},ma("create-team-move-boards-different-workspace-prompt")),i.a.createElement("h3",null,ma("create-team-move-boards-selection-prompt-all-or-none-selected",{selectedBoards:l.length}),i.a.createElement(pe.Button,{appearance:"subtle-link",className:ca.a.selectionButton,testId:ke.MigrationWizardTestIds.SelectAllButton,onClick:()=>{l.length>0?d({type:"clear"}):d({type:"all",idBoards:s.map((e=>e.id))})}},l.length>0?ma("start-migration-selection-unselect-all",{count:l.length}):ma("start-migration-selection-none-or-some-selected"))),i.a.createElement("div",{className:ca.a.boards},s.map((({id:e,name:a,prefs:t})=>{const{backgroundTopColor:n="",backgroundImage:r="",backgroundImageScaled:o=[],backgroundTile:s=!1}=null!=t?t:{},c=l.includes(e);return i.a.createElement("div",{key:e,className:ca.a.boardTile,"aria-checked":c},i.a.createElement(ra,{boardId:e,boardName:a,background:{backgroundTopColor:n,backgroundImage:r,backgroundImageScaled:o,backgroundTile:s},onClick:()=>{d({type:c?"remove":"add",idBoard:e})},isSelected:c,testId:ke.MigrationWizardTestIds.BoardTile}))}))),i.a.createElement("hr",{className:ca.a.bottomLine}),0===l.length&&i.a.createElement("p",{className:ca.a.note},ma("create-team-move-boards-selection-noneselected-footer")),O&&i.a.createElement(la,{type:"error"},O),i.a.createElement(pe.Button,{appearance:"primary",className:ca.a.nextButton,onClick:async()=>{if(0!==m.length)if(m.length>100)k(ua("ORG_DISPLAY_NAME_LONG"));else if(l.length>9)null==c||c(f.BC_FOR_FREE);else try{t(!0),await b(m,l)}catch(e){o(e)}else k(ua("ORG_DISPLAY_NAME_SHORT"))},isDisabled:0===l.length||0===m.length||a,testId:ke.MigrationWizardTestIds.CreateBoardsNextButton},a?i.a.createElement(Pe.a,{small:!0}):ma("create-team-move-boards-next-button")))};var ba=t("./packages/nachos/src/components/Spinner/index.ts"),ga=t("./packages/nachos/icons/board.tsx"),ka=t("./packages/nachos/icons/admin-chevron.tsx"),va=t("./packages/nachos/icons/butler-bot.tsx"),fa=t("./packages/nachos/icons/checklist.tsx"),Oa=t("./packages/nachos/icons/power-up.tsx"),ya=t("./packages/nachos/icons/sparkle.tsx"),ha=t("./app/src/components/MigrationWizard/MigrationWizardBusinessClass.less"),xa=t.n(ha);const Na=Object(ge.forNamespace)(["migration wizard"]),_a=Object(ge.forNamespace)(["alerts"]),ja=()=>{const[e,a]=Object(n.useState)(!1),{onNext:r,selectedBoards:o,teamName:s,orgId:l}=Object(n.useContext)(de),[d,c]=Object(n.useState)(),{createTeamAndMoveBoards:m,teamNameError:u,teamError:p}=aa();let b;return Object(n.useEffect)((()=>{""!==l&&(null==r||r(f.MEMBERSHIPS))}),[l,r]),b=u||(d||(p||"")),i.a.createElement("div",{className:xa.a.container},i.a.createElement("img",{className:xa.a.sparkle,src:t("./resources/images/bc-sparkle-flat.svg"),alt:"",role:"presentation"}),i.a.createElement("h2",null,Na("business-class-title")),i.a.createElement("h3",null,Na("business-class-paragraph",{numberOfBoards:o.length})),i.a.createElement("p",null,Na("business-class-list-header")),i.a.createElement("ul",{className:xa.a.featureList},i.a.createElement("li",null,i.a.createElement("span",{className:xa.a.featureIcon},i.a.createElement(ga.BoardIcon,null)),Na("business-class-list-1-unlimited-boards-corrected")),i.a.createElement("li",null,i.a.createElement("span",{className:xa.a.featureIcon},i.a.createElement(Oa.a,null)),Na("business-class-list-2-unlimited-pups-corrected")),i.a.createElement("li",null,i.a.createElement("span",{className:xa.a.featureIcon},i.a.createElement(fa.a,null)),Na("business-class-list-3-assign")),i.a.createElement("li",null,i.a.createElement("span",{className:xa.a.featureIcon},i.a.createElement(ka.a,null)),Na("business-class-list-4-admin-corrected")),i.a.createElement("li",null,i.a.createElement("span",{className:xa.a.featureIcon},i.a.createElement(va.a,null)),Na("business-class-list-5-butler")),i.a.createElement("li",null,i.a.createElement("span",{className:xa.a.featureIcon},i.a.createElement(ya.a,null)),Na("business-class-list-6-more"))),i.a.createElement("hr",null),b&&i.a.createElement(la,{type:"error"},b),i.a.createElement(pe.Button,{appearance:"primary",className:xa.a.button,isDisabled:e,onClick:async()=>{try{a(!0),await m(s,o)}catch(a){var e;c(null!==(e=null==a?void 0:a.message)&&void 0!==e?e:_a("something-went-wrong"))}finally{a(!1)}}},e?i.a.createElement(ba.a,{small:!0}):Na("create-team-move-boards-next-button")),i.a.createElement("p",{className:xa.a.disclaimer},Na("business-class-footer")))};var Ea=t("./packages/nachos/icons/subscribe.tsx"),Sa=t("./app/src/components/MemberAvatar/index.ts"),Ma=t("./packages/nachos/icons/add-member.tsx"),wa=t("./packages/nachos/icons/private.tsx"),za=t("./app/src/components/MigrationWizard/MigrationWizardTeamMemberships.less"),Pa=t.n(za);function Ba(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Da(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ba(Object(t),!0).forEach((function(a){Ia(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ba(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function Ia(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const Ca={context:{operationName:"SelectedWorkspace"}},Ta={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelectedWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"premiumFeatures"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"}},{kind:"Field",name:{kind:"Name",value:"org"}},{kind:"Field",name:{kind:"Name",value:"enterprise"}},{kind:"Field",name:{kind:"Name",value:"public"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundTile"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}}]}}]}}]}}]};const Wa=()=>{var e;const{orgId:a}=Object(n.useContext)(de),{data:t,loading:i,error:r}=function(e){const a=Da(Da({},Ca),e);return d.useQuery(Ta,a)}({variables:{orgId:a},skip:!a});return Object(n.useEffect)((()=>{r&&Object(g.sendErrorEvent)(r,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useSelectedWorkspace"}})}),[r]),{loading:i,boards:(null==t||null===(e=t.organization)||void 0===e?void 0:e.boards)||[],org:(null==t?void 0:t.organization)||null,error:r}};var Fa=t("./packages/nachos/icons/check.tsx"),Aa=t("./packages/nachos/icons/down.tsx"),Va=t("./app/src/components/MigrationWizard/MigrationWizardMembershipDropdown.less"),Ra=t.n(Va),La=t("./packages/nachos/src/components/Popover/index.ts"),Ha=t("./app/src/components/PopoverMenu/index.ts");function qa(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Ga(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?qa(Object(t),!0).forEach((function(a){Qa(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qa(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function Qa(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const Ua={context:{operationName:"MigrationWizardMembershipDropdown"}},Ka={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardMembershipDropdown"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMembersToOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"invitationMessage"},value:{kind:"StringValue",value:"",block:!1}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}},{kind:"Field",name:{kind:"Name",value:"error"}}]}}]}}]};function Ya(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Xa(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ya(Object(t),!0).forEach((function(a){Ja(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ya(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function Ja(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const Za={context:{operationName:"MigrationWizardRemoveMembersFromWorkspace"}},$a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardRemoveMembersFromWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeMembersFromWorkspace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}},{kind:"Field",name:{kind:"Name",value:"error"}}]}}]}}]};function et(){return(et=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}const at=Object(ge.forNamespace)("view title"),tt=Object(ge.forNamespace)(["migration wizard"]),nt=({orgId:e,isPaidProduct:a,memberId:t,onError:r=(()=>{}),onSuccess:o=(()=>{})})=>{const{popoverProps:l,toggle:c,hide:m,triggerRef:u}=Object(La.e)(),[p,b]=Object(n.useState)("guest"),[k]=function(e){const a=Ga(Ga({},Ua),e);return d.useMutation(Ka,a)}(),[v]=function(e){const a=Xa(Xa({},Za),e);return d.useMutation($a,a)}(),f=a?["guest","normal","admin"]:["guest","normal"];return i.a.createElement(i.a.Fragment,null,i.a.createElement(pe.Button,{iconAfter:i.a.createElement(Aa.DownIcon,{size:"small"}),className:Ra.a.permissionButton,onClick:()=>c(),ref:u},tt(p&&a?["membership-paid-account-content",p,"name"]:["membership-free-account-content",p,"name"])),i.a.createElement(La.b,et({},l,{title:at("change permissions")}),i.a.createElement(Ha.a,{className:Ra.a.dropdownPopover},f.map((n=>i.a.createElement(Ha.b,{key:n,className:Ra.a.popoverMenubuttonOptions,onClick:async()=>{let a;if("guest"===n){var i,l;const{data:n}=await v({variables:{orgId:e,users:null!==(i=[{id:t}])&&void 0!==i?i:[],type:"guest"}});a=null==n||null===(l=n.removeMembersFromWorkspace)||void 0===l?void 0:l.error}else{var d,c;const{data:i}=await k({variables:{orgId:e,users:null!==(d=[{id:t}])&&void 0!==d?d:[],type:n}});a=null==i||null===(c=i.addMembersToOrg)||void 0===c?void 0:c.error}a?(r(),Object(g.sendErrorEvent)(new Error(a),{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{component:"MigrationWizardMembershipDropdown",errorCode:"UNKNOWN_ERROR"}})):(o(),b(n)),m()}},i.a.createElement("span",{className:Ra.a.membershipTitle},tt(a?["membership-paid-account-content",n,"name"]:["membership-free-account-content",n,"name"])),n===p&&i.a.createElement(Fa.a,{size:"small",dangerous_className:Ra.a.checkmark,block:!0}),i.a.createElement("div",null,i.a.createElement("span",{className:Ra.a.membershipSubText,key:n},tt(a?["membership-paid-account-content",n,"description"]:["membership-free-account-content",n,"description"])))))))))};var it=t("./packages/product-features/index.ts");function rt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function ot(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?rt(Object(t),!0).forEach((function(a){st(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rt(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function st(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const lt=Object(ge.forNamespace)(["alerts"]),dt=Object(ge.forNamespace)(["migration wizard"]),ct=()=>{var e,a;const{org:t}=Wa(),{orgId:r,onNext:o}=Object(n.useContext)(de),{teamGuests:s,loading:l}=ie(r),[d,c]=Object(n.useState)(s),m=it.ProductFeatures.hasProduct(null!==(e=null==t||null===(a=t.products)||void 0===a?void 0:a[0])&&void 0!==e?e:void 0),[u,p]=Object(n.useState)("");Object(n.useEffect)((()=>{l||0!==(null==d?void 0:d.length)||c(s)}),[l,s,d,c]);const b=Object(n.useCallback)((()=>{if(null!=d&&d.length){var e;const a=(null==d?void 0:d.length)-(null!==(e=null==s?void 0:s.length)&&void 0!==e?e:0);a>0&&U.Analytics.sendClickedButtonEvent({buttonName:"nextButton",source:"teamifyMembershipsModal",attributes:{numMembers:a},containers:{organization:{id:r}}})}null==o||o(f.BOARD_VISIBILITY)}),[d,s,o,r]);return i.a.createElement("div",{className:Pa.a.container},i.a.createElement("h2",null,dt("membership-title")),i.a.createElement("p",null,dt("membership-body")),i.a.createElement("ul",{className:Pa.a.permissionsList},i.a.createElement("li",null,i.a.createElement("span",{className:xe()(Pa.a.permissionIcon,Pa.a.guests)},i.a.createElement(Ma.a,null)),dt("membership-list1-guests")),i.a.createElement("li",null,i.a.createElement("span",{className:xe()(Pa.a.permissionIcon,Pa.a.members)},i.a.createElement(Ea.a,null)),dt("membership-list2-guest-permissions")),i.a.createElement("li",null,i.a.createElement("span",{className:xe()(Pa.a.permissionIcon,Pa.a.private)},i.a.createElement(wa.a,null)),dt("membership-list3-private-boards")),i.a.createElement("li",null,i.a.createElement("span",{className:xe()(Pa.a.permissionIcon,Pa.a.aaua)},i.a.createElement(ka.a,null)),dt("membership-list4-admins"))),i.a.createElement("div",{className:Pa.a.tableWrapper},l?i.a.createElement(Pe.a,{centered:!0}):i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,dt("membership-board-members")),i.a.createElement("th",null,dt("membership-permission-list")))),i.a.createElement("tbody",null,null==d?void 0:d.map((e=>i.a.createElement("tr",{key:e.id},i.a.createElement("td",null,i.a.createElement("div",{className:Pa.a.member},i.a.createElement("div",{className:Pa.a.memberAvatar},i.a.createElement(Sa.a,{idMember:e.id,memberData:ot({},e),size:32})),i.a.createElement("div",{className:Pa.a.memberDetails},i.a.createElement("div",{className:Pa.a.memberFullName},e.fullName," "),i.a.createElement("div",{className:Pa.a.memberUsername},"@",e.username)))),i.a.createElement("td",null,i.a.createElement(nt,{orgId:r,isPaidProduct:m,memberId:e.id,onError:()=>{p(lt("something-went-wrong"))},onSuccess:()=>{p("")}})))))))),i.a.createElement("hr",null),""!==u&&i.a.createElement(la,{type:"error"},u),i.a.createElement("p",{className:Pa.a.footerText},dt("membership-footer")),i.a.createElement(pe.Button,{appearance:"primary",className:Pa.a.nextButton,onClick:b,isDisabled:l,testId:ke.MigrationWizardTestIds.TeamMembershipsNextButton},dt("create-team-move-boards-next-button")))};var mt=t("./packages/nachos/icons/organization.tsx"),ut=t("./packages/nachos/src/components/Button/index.ts"),pt=t("./packages/nachos/icons/enterprise.tsx"),bt=t("./packages/nachos/icons/public.tsx"),gt=t("./packages/organizations/index.ts");function kt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function vt(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?kt(Object(t),!0).forEach((function(a){ft(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kt(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function ft(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const Ot={context:{operationName:"MigrationWizardBoardVisibilityChooserBoardVisibility"}},yt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardBoardVisibilityChooserBoardVisibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visibility"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Board_Prefs_PermissionLevel"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardVisibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"visibility"},value:{kind:"Variable",name:{kind:"Name",value:"visibility"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};var ht=t("./app/src/components/MigrationWizard/MigrationWizardBoardVisibilityChooser.less"),xt=t.n(ht);const Nt=Object(ge.forNamespace)(["migration wizard","board_menu_vis"]),_t=Object(ge.forNamespace)(["migration wizard","board perms"]),jt={private:{Icon:wa.a,className:xe()(xt.a.iconVis,xt.a.iconPrivate)},public:{Icon:bt.a,className:xe()(xt.a.iconVis,xt.a.iconPublic)},org:{Icon:mt.a,className:xt.a.iconVis},enterprise:{Icon:pt.a,className:xt.a.iconVis}},Et=({org:e,idBoard:a,permissionLevel:t,onError:r=(()=>{}),onSuccess:o=(()=>{})})=>{var l,c;const{popoverProps:m,toggle:u,hide:p,triggerRef:b}=Object(La.e)(),[k,v]=Object(n.useState)(t),[f]=function(e){const a=vt(vt({},Ot),e);return d.useMutation(yt,a)}(),O=(null==e?void 0:e.idEnterprise)&&it.ProductFeatures.isEnterpriseProduct(null===(l=e.products)||void 0===l?void 0:l[0])?["private","org","enterprise","public"]:["private","org","public"],y=(null==e||null===(c=e.premiumFeatures)||void 0===c?void 0:c.includes("superAdmins"))?"with super admins":"with organization";return i.a.createElement(i.a.Fragment,null,i.a.createElement(ut.a,{iconAfter:i.a.createElement(Aa.DownIcon,{dangerous_className:xt.a.buttonIcon}),className:xt.a.visibilityButton,shouldFitContainer:!0,onClick:()=>u(),ref:b},k&&_t([k,"name"])),i.a.createElement(La.b,m,i.a.createElement(Ha.a,{className:xt.a.popoverMenu},O.map((t=>{var n;const{Icon:l,className:d}=jt[t],c=!Object(gt.canSetVisibilityOnBoard)({org:{idEnterprise:e.idEnterprise,prefs:{boardVisibilityRestrict:null===(n=e.prefs)||void 0===n?void 0:n.boardVisibilityRestrict},products:e.products},boardVisibility:t,isOrgAdmin:!0});return i.a.createElement(Ha.b,{key:t,onClick:async()=>{try{await f({variables:{boardId:a,visibility:t}}),o(),v(t),p()}catch(a){var e,n,i;r(),Object(g.sendErrorEvent)(a,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{component:"MigrationWizardBoardVisibilityChooser",method:"onClick",errorCode:null!==(e=null==a||null===(n=a.networkError)||void 0===n||null===(i=n.extensions)||void 0===i?void 0:i.code)&&void 0!==e?e:"UNKNOWN_ERROR"}}),p()}},className:xe()(xt.a.menuItem,c&&xt.a.disabled),disabled:c},i.a.createElement(l,{size:"small",dangerous_className:xe()(d,c&&xt.a.disabled)}),Nt(t),t===k&&i.a.createElement(Fa.a,{size:"small",dangerous_className:xt.a.checkmark,block:!0}),i.a.createElement("div",{className:xt.a.subName},i.a.createElement("span",{key:t},Nt(["permission subtext",y,t],{orgName:i.a.createElement(i.a.Fragment,{key:"permission-subtext"},null==e?void 0:e.displayName)})),c&&i.a.createElement("span",{key:"error",className:xt.a.error}," ".concat(Nt(["illegal visibility","create"])))))})))))};var St=t("./app/src/components/MigrationWizard/MigrationWizardBoardVisibility.less"),Mt=t.n(St);function wt(e,a){if(null==e)return{};var t,n,i=function(e,a){if(null==e)return{};var t,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}const zt=Object(ge.forNamespace)(["migration wizard"]),Pt=Object(ge.forNamespace)(["alerts"]),Bt=()=>{const[e,a]=Object(n.useState)(""),{boards:t,org:r,loading:o}=Wa(),{onNext:s}=Object(n.useContext)(de);return i.a.createElement("div",{className:Mt.a.container},i.a.createElement("h2",null,zt("board-visibility-title")),i.a.createElement("p",null,zt("board-visibility-body")),i.a.createElement("ul",{className:Mt.a.visibilityList},i.a.createElement("li",null,i.a.createElement("span",{className:xe()(Mt.a.permissionIcon,Mt.a.stayPrivate)},i.a.createElement(wa.a,null)),zt("board-visibility-list1-private")),i.a.createElement("li",null,i.a.createElement("span",{className:xe()(Mt.a.permissionIcon,Mt.a.private)},i.a.createElement(Ea.a,null)),zt("board-visibility-list2-private-members")),i.a.createElement("li",null,i.a.createElement("span",{className:xe()(Mt.a.permissionIcon,Mt.a.team)},i.a.createElement(mt.a,null)),zt("board-visibility-list3-workspace"))),i.a.createElement("div",{className:Mt.a.tableWrapper},o||!r?i.a.createElement(Pe.a,{centered:!0}):i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,zt("board-visibility-boards-list")),i.a.createElement("th",null,zt("board-visibility-boards-vis")))),i.a.createElement("tbody",null,t.map((({id:e,name:t,prefs:n})=>{const o=null!=n?n:{},{permissionLevel:s="private"}=o,l=wt(o,["permissionLevel"]);return i.a.createElement("tr",{key:e,"data-test-id":ke.MigrationWizardTestIds.BoardVisibilityItem},i.a.createElement("td",null,i.a.createElement("div",{className:Mt.a.boardTile},i.a.createElement(ra,{boardId:e,boardName:t,background:l}))),i.a.createElement("td",null,i.a.createElement(Et,{idBoard:e,permissionLevel:s,org:r,onError:()=>{a(Pt("something-went-wrong"))},onSuccess:()=>{a("")}})))}))))),i.a.createElement("hr",null),""!==e&&i.a.createElement(la,{type:"error"},e),i.a.createElement("p",{className:Mt.a.footerText},zt("board-visibility-footer")),i.a.createElement(ut.a,{appearance:"primary",className:Mt.a.button,onClick:()=>{null==s||s(f.DONE)},testId:ke.MigrationWizardTestIds.BoardVisibilityNextButton,isDisabled:o},zt("create-team-move-boards-next-button")))};var Dt=t("./packages/nachos/src/components/Textfield/index.ts"),It=t("./app/src/components/TeamTypeSelect/index.ts"),Ct=t("./app/src/components/MigrationWizard/MigrationWizardComplexCreateWorkspace.less"),Tt=t.n(Ct);function Wt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Ft(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Wt(Object(t),!0).forEach((function(a){At(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wt(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function At(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const Vt={context:{operationName:"MigrationWizardComplexCreateWorkspace"}},Rt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardComplexCreateWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"teamType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"teamType"},value:{kind:"Variable",name:{kind:"Name",value:"teamType"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"default",block:!1}},{kind:"Argument",name:{kind:"Name",value:"creationMethod"},value:{kind:"StringValue",value:"teamify-wizard",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"idBoards"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"}},{kind:"Field",name:{kind:"Name",value:"public"}},{kind:"Field",name:{kind:"Name",value:"org"}},{kind:"Field",name:{kind:"Name",value:"enterprise"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"limits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orgs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeBoardsPerOrg"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableAt"}}]}}]}}]}}]}}]}}]};function Lt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Ht(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Lt(Object(t),!0).forEach((function(a){qt(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lt(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function qt(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const Gt=Object(ge.forNamespace)(["migration wizard"]),Qt=Object(ge.forNamespace)(["error handling","organization"]),Ut=({onCreateWorkspace:e})=>{const[a,t]=Object(n.useState)(""),[r,o]=Object(n.useState)(!1),[l,c]=Object(n.useState)(""),[m,u]=Object(n.useState)(),[p]=function(e){const a=Ft(Ft({},Vt),e);return d.useMutation(Rt,a)}();return i.a.createElement("div",{className:Tt.a.createWorkspace},i.a.createElement("div",{className:Tt.a.workspaceName},i.a.createElement(Dt.a,{label:Gt("popover-workspace-name"),className:Tt.a.control,autoFocus:!0,value:l,onChange:e=>{c(e.target.value)}})),i.a.createElement("div",{className:Tt.a.workspaceType},i.a.createElement(It.TeamTypeSelect,{label:Gt("popover-workspace-type"),onChange:e=>{u(e)}})),i.a.createElement(pe.Button,{shouldFitContainer:!0,appearance:"primary",isDisabled:!l||!m,isLoading:r,onClick:async()=>{const a=l.trim();if(a.length>100)t(Qt("ORG_DISPLAY_NAME_LONG"));else try{o(!0);const{data:t}=await p({variables:{name:a,teamType:null!=m?m:gt.TeamTypes.Other}});if(null!=t&&t.createOrganization){var n,i,r,d,c;const a=Ht(Ht({},null==t?void 0:t.createOrganization),{},{numberOfFreeBoardsAvailable:null!==(n=null==t||null===(i=t.createOrganization)||void 0===i||null===(r=i.limits)||void 0===r||null===(d=r.orgs)||void 0===d||null===(c=d.freeBoardsPerOrg)||void 0===c?void 0:c.disableAt)&&void 0!==n?n:10,isPremiumWorkspace:!1,isAdmin:!!D.memberId&&Object(gt.isMemberAdmin)({id:D.memberId,memberType:"normal"},null==t?void 0:t.createOrganization)});e(a)}}catch(e){const a=Object(Be.c)(e);switch(null==a?void 0:a.code){case"ORG_DISPLAY_NAME_SHORT":t(Object(ge.localizeErrorCode)("organization","ORG_DISPLAY_NAME_SHORT"));break;default:t(Object(ge.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:a})}}finally{o(!1)}}},Gt("popover-button-and-title")),a&&i.a.createElement(la,{type:"error"},a))};var Kt=t("./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsWorkspaceChooser.less"),Yt=t.n(Kt);function Xt(){return(Xt=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}const Jt=Object(ge.forNamespace)(["migration wizard"]);var Zt;!function(e){e[e.ChooseWorkspace=0]="ChooseWorkspace",e[e.CreateWorkspace=1]="CreateWorkspace"}(Zt||(Zt={}));const $t=({onSelectWorkspace:e,loading:a,workspaces:t})=>{const{popoverProps:r,toggle:o,hide:s,push:l,triggerRef:d}=Object(La.e)({initialScreen:Zt.ChooseWorkspace}),[c,m]=Object(n.useState)({id:"",displayName:Jt("start-migration-workspace-dropdown")}),u=a=>{m({id:a.id,displayName:a.displayName}),null==e||e(a.id),s()};return i.a.createElement(i.a.Fragment,null,i.a.createElement(pe.Button,{iconAfter:i.a.createElement(Aa.DownIcon,null),className:Yt.a.workspaceListButton,onClick:()=>o(),isDisabled:a,ref:d,testId:ke.MigrationWizardTestIds.WorkspaceChooserButton},a?i.a.createElement(Pe.a,{small:!0}):c.displayName),i.a.createElement(La.b,Xt({},r,{hasBackButton:!0}),i.a.createElement(La.d,{id:Zt.ChooseWorkspace,noHorizontalPadding:!0},i.a.createElement("div",{className:Yt.a.workspacePopover},i.a.createElement(Ha.a,null,t.map((e=>i.a.createElement(Ha.b,{key:e.id,title:e.displayName,disabled:0===e.numberOfFreeBoardsAvailable,description:null!==e.numberOfFreeBoardsAvailable&&e.numberOfFreeBoardsAvailable<=7?Object(ge.localizeCount)("free-boards-remaining",e.numberOfFreeBoardsAvailable):null,onClick:()=>{u(e)},className:xe()(Yt.a.workspaceOption,{[Yt.a.selected]:c.id===e.id}),testId:ke.MigrationWizardTestIds.WorkspaceOption}))),i.a.createElement(Ha.b,{title:Jt("popover-menu-title"),onClick:()=>l(Zt.CreateWorkspace)})))),i.a.createElement(La.d,{id:Zt.CreateWorkspace,title:Jt("popover-button-and-title")},i.a.createElement(Ut,{onCreateWorkspace:e=>{u(e)}}))))};function en(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function an(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?en(Object(t),!0).forEach((function(a){tn(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):en(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function tn(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const nn={context:{operationName:"UseAvailableWorkspaces"}},rn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UseAvailableWorkspaces"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"memberType"}},{kind:"Field",name:{kind:"Name",value:"organizations"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"}},{kind:"Field",name:{kind:"Name",value:"public"}},{kind:"Field",name:{kind:"Name",value:"org"}},{kind:"Field",name:{kind:"Name",value:"enterprise"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"limits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orgs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeBoardsPerOrg"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableAt"}},{kind:"Field",name:{kind:"Name",value:"count"}}]}}]}}]}}]}}]}}]}}]};function on(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function sn(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?on(Object(t),!0).forEach((function(a){ln(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):on(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function ln(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const dn=()=>{const{dialogProps:e,experience:a,teamify:t}=Object(n.useContext)(de),{data:i,loading:r,error:o,refetch:l}=function(e){const a=an(an({},nn),e);return d.useQuery(rn,a)}();return Object(n.useEffect)((()=>{o&&Object(g.sendErrorEvent)(o,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useAvailableWorkspaces"}})}),[o]),Object(n.useEffect)((()=>{e.isOpen&&l()}),[e.isOpen,l]),Object(n.useMemo)((()=>{var e,n;const s=null==i?void 0:i.member,d=(null!==(e=null==i||null===(n=i.member)||void 0===n?void 0:n.organizations)&&void 0!==e?e:[]).map((e=>{var a,t,n,i,r,o,l,d,c;const m=it.ProductFeatures.hasProduct(null===(a=e.products)||void 0===a?void 0:a[0]),u=null!==(t=null==e||null===(n=e.limits)||void 0===n||null===(i=n.orgs)||void 0===i||null===(r=i.freeBoardsPerOrg)||void 0===r?void 0:r.count)&&void 0!==t?t:0,p=null!==(o=null==e||null===(l=e.limits)||void 0===l||null===(d=l.orgs)||void 0===d||null===(c=d.freeBoardsPerOrg)||void 0===c?void 0:c.disableAt)&&void 0!==o?o:10;return sn(sn({},e),{},{isAdmin:!!s&&Object(gt.isMemberAdmin)(s,e),numberOfFreeBoardsAvailable:m?Number.POSITIVE_INFINITY:u?p-u:null,isPremiumWorkspace:m})})).filter((e=>a!==O.Post||e.id!==(null==t?void 0:t.idOrgCreated)&&e.id!==(null==t?void 0:t.idOrgSelected))).sort(((e,a)=>e.displayName.localeCompare(a.displayName)));return{loading:r,error:o,workspaces:d,refetch:l}}),[r,o,i,t,a,l])};var cn=t("./app/src/components/MigrationWizard/MigrationWizardMoveBoards.less"),mn=t.n(cn),un=t("./app/src/components/MigrationWizard/MigrationWizardBoardsList.less"),pn=t.n(un);const bn=Object(ge.forNamespace)(["migration wizard"]),gn=({loadingBoards:e,boards:a,workspace:t,selectedBoards:r,updateBoards:o,isMovingBoards:s})=>{const l=Object(n.useCallback)((e=>t&&e&&Object(gt.canAddBoardToOrganization)({org:t,board:e,isOrgAdmin:t.isAdmin})),[t]),d=Object(n.useMemo)((()=>t?a.filter((e=>!l(e))).map((e=>e.id)):[]),[t,a,l]),c=Math.min(a.length,null===(null==t?void 0:t.numberOfFreeBoardsAvailable)?10:null==t?void 0:t.numberOfFreeBoardsAvailable),m=Math.min(c,a.length-d.length),u=r.length>0&&r.length===m,p=r.length>=c;return Object(n.useEffect)((()=>{t&&(r.length>=c?o({type:"all",idBoards:[...r].filter((e=>!d.includes(e))).slice(0,c)}):o({type:"all",idBoards:[...r].filter((e=>!d.includes(e)))}))}),[r.length,c,o,t]),i.a.createElement("div",null,Boolean(d.length)&&i.a.createElement(la,{type:"alert"},bn("complex-move-boards-alert-cannot-add-boards")," ",i.a.createElement("a",{href:"https://help.trello.com/article/710-setting-up-your-business-class-team#Visibility-and-control"},bn("post-migration-banner-learn-more"))),i.a.createElement("div",{className:pn.a.boardsContainer},i.a.createElement("h3",null,t&&!t.isPremiumWorkspace?bn("start-migration-selection-prompt-free",{selectedBoards:r.length,remainingBoards:m}):bn("start-migration-selection-prompt",{selectedBoards:r.length}),!!t&&0!==t.numberOfFreeBoardsAvailable&&i.a.createElement(pe.Button,{appearance:"subtle-link",className:pn.a.selectionButton,onClick:()=>{t&&(t.isPremiumWorkspace?r.length===m?o({type:"clear"}):o({type:"all",idBoards:[...a].filter((({id:e})=>!d.includes(e))).map((({id:e})=>e))}):r.length===c?o({type:"clear"}):o({type:"all",idBoards:[...a].filter((({id:e})=>!d.includes(e))).map((({id:e})=>e)).slice(0,c)}))},isDisabled:s,testId:ke.MigrationWizardTestIds.SelectAllButton},u?bn("start-migration-selection-unselect-all",{count:r.length}):bn("start-migration-selection-none-or-some-selected"))),e?i.a.createElement(ba.a,{centered:!0}):i.a.createElement("div",{className:pn.a.boards},a.map((e=>{const a=r.includes(e.id),n=d.includes(e.id),{id:l,name:c,prefs:m}=e,{backgroundTopColor:u="",backgroundImage:b="",backgroundImageScaled:g=[],backgroundTile:k=!1}=null!=m?m:{};let v="";return p&&!a?v=bn("reached-max-number-of-open-boards"):n&&(v=bn("create-team-move-boards-restricted-board")),i.a.createElement("div",{key:l,className:pn.a.boardTile,"aria-checked":a},i.a.createElement(ra,{boardId:l,boardName:c,background:{backgroundTopColor:u,backgroundImage:b,backgroundImageScaled:g,backgroundTile:k},onClick:s?void 0:()=>{o({type:a?"remove":"add",idBoard:l})},isSelected:a,isDisabled:!t||n||!a&&p,title:v,testId:ke.MigrationWizardTestIds.BoardTile}))})))))};var kn=t("./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsEmptyState.less"),vn=t.n(kn),fn=t("./packages/router/index.ts"),On=t("./packages/routes/index.ts");const yn=Object(ge.forNamespace)(["migration wizard"]),hn=({hideWizard:e,checkEligibilityOnClose:a})=>(Object(n.useEffect)((()=>{a()}),[a]),i.a.createElement("div",{className:vn.a.container},i.a.createElement("h1",null,yn("start-migration-title")),i.a.createElement("p",null,yn("start-migration-body")),i.a.createElement("hr",null),i.a.createElement("img",{src:t("./resources/images/migration-wizard/complex-path-empty-state.svg"),alt:"",role:"presentation"}),i.a.createElement("h2",{className:vn.a.doneTitle},yn("all-boards-moved-empty-state-done")),i.a.createElement("p",{className:vn.a.doneInfo},yn("all-boards-moved-empty-state-done-message")),i.a.createElement(pe.Button,{appearance:"primary",className:vn.a.doneButton,onClick:()=>{const{pathname:a}=Object(fn.getLocation)();"userOrOrg"===Object(On.getRouteIdFromPathname)(a)?(e(),window.location.reload()):e()},testId:ke.MigrationWizardTestIds.EmptyStateDoneButton},yn("start-migration-done-button")))),xn=Object(ge.forNamespace)(["migration wizard"],{shouldEscapeStrings:!1}),Nn=()=>{const[e,a]=Object(n.useState)(!1),[t,r]=Object(n.useState)(""),[o]=He(),[l]=Ye(),{workspaces:d,loading:c,refetch:m}=dn(),{loading:u}=k(),{selectedBoards:p,updateBoards:b,hideWizard:v,experience:y,teamify:h,setOrgId:x,orgId:N,refetchMigrationWizardQuery:_,teamlessBoards:j,checkEligibilityOnClose:E}=Object(n.useContext)(de),{migratedBoards:S,migrationOrg:M,loading:w,refetch:z}=A({skip:y===O.Advanced,idOrg:(null==h?void 0:h.idOrgCreated)||(null==h?void 0:h.idOrgSelected)||""}),P=w||u,D=y===O.Post?S:j,I=Object(n.useMemo)((()=>d.find((e=>e.id===N))),[d,N]),C=Object(n.useCallback)((()=>{a(!1),b({type:"clear"}),_(),m(),y===O.Post&&z()}),[a,b,_,z,y,m]);return Object(n.useEffect)((()=>{(async()=>{try{y!==O.Pre||null!=h&&h.voluntaryDone||await l({variables:{memberId:"me"}})}catch(e){const a=Object(Be.c)(e);Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"MigrationWizardComplexMoveBoards"},networkError:a})}})()}),[l,h,y]),e||0!==D.length?i.a.createElement("div",{className:mn.a.container},i.a.createElement("div",null,i.a.createElement("h2",null,xn("post-migration-modal-title")),i.a.createElement("p",null,xn("post-migration-modal-body")),i.a.createElement("hr",null),i.a.createElement("div",{className:mn.a.movePrompt},y===O.Post?xn("post-migration-workspace-old-workspace",{workspaceName:M.displayName}):xn("create-team-move-boards-add-boards-prompt"))),i.a.createElement($t,{onSelectWorkspace:e=>{x(e),r("")},loading:c,workspaces:d}),i.a.createElement(gn,{boards:D,loadingBoards:P,workspace:I,selectedBoards:p,updateBoards:b,isMovingBoards:e}),i.a.createElement("hr",{className:mn.a.separator}),I&&i.a.createElement("p",{className:mn.a.note},xn("start-migration-footer")),t&&i.a.createElement(la,{type:"error"},t),i.a.createElement(pe.Button,{appearance:"primary",className:mn.a.doneButton,isDisabled:!I||0===p.length||e,onClick:async()=>{if(I&&0!==p.length){r(""),a(!0);try{for(const e of p)await o({variables:{boardId:e,orgId:I.id}}),b({type:"remove",idBoard:e}),U.Analytics.sendUpdatedBoardFieldEvent({field:"organization",value:I.id,source:B[y===O.Post?f.POST_MIGRATION:f.COMPLEX_MOVE_BOARDS],containers:{board:{id:e},organization:{id:I.id}},attributes:y===O.Post?{previous:M.id}:void 0})}catch(e){(e=>{const a=Object(Be.c)(e);switch(null==a?void 0:a.code){case"FREE_BOARD_LIMIT_REACHED":r(Object(ge.localizeErrorCode)("board","FREE_BOARD_LIMIT_REACHED"));break;default:r(Object(ge.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:a})}})(e)}C()}},testId:ke.MigrationWizardTestIds.MoveBoardsButton},e?i.a.createElement(ba.a,{small:!0}):xn("start-migration-add-button"))):i.a.createElement(hn,{hideWizard:v,checkEligibilityOnClose:E})};var _n=t("./app/src/components/MigrationWizard/MigrationWizardDone.less"),jn=t.n(_n);const En=Object(ge.forNamespace)(["migration wizard"]),Sn=()=>{const{hideWizard:e,orgId:a}=Object(n.useContext)(de);return i.a.createElement("div",{className:jn.a.container},i.a.createElement("img",{src:t("./resources/images/migration-wizard/simple-path-done.svg"),alt:"",role:"presentation"}),i.a.createElement("h1",null,En("done-screen-title")),i.a.createElement("p",null,En("done-screen-body")),i.a.createElement(pe.Button,{appearance:"primary",size:"wide",onClick:()=>{e(),window.location.assign("/".concat(a))},testId:ke.MigrationWizardTestIds.DoneComponentDoneButton},En("done-screen-button")))},Mn={[f.INTRO]:{key:f.INTRO,ScreenComponent:i.a.createElement(ze,null),isCloseable:!0},[f.MOVE_YOUR_BOARDS]:{key:f.MOVE_YOUR_BOARDS,ScreenComponent:i.a.createElement(pa,null),isCloseable:!0},[f.BC_FOR_FREE]:{key:f.BC_FOR_FREE,ScreenComponent:i.a.createElement(ja,null),isBackAvailable:!0},[f.MEMBERSHIPS]:{key:f.MEMBERSHIPS,ScreenComponent:i.a.createElement(ct,null)},[f.BOARD_VISIBILITY]:{key:f.BOARD_VISIBILITY,ScreenComponent:i.a.createElement(Bt,null)},[f.COMPLEX_MOVE_BOARDS]:{key:f.COMPLEX_MOVE_BOARDS,ScreenComponent:i.a.createElement(Nn,null),isCloseable:!0},[f.POST_MIGRATION]:{key:f.POST_MIGRATION,ScreenComponent:i.a.createElement(Nn,null),isCloseable:!0},[f.DONE]:{key:f.DONE,ScreenComponent:i.a.createElement(Sn,null),isCloseable:!1}},wn=()=>{const{currentStep:e,onBack:a,hideWizard:t}=Object(n.useContext)(de),{ScreenComponent:r,isCloseable:o,isBackAvailable:s}=Mn[e];return i.a.createElement("div",{className:Ee.a.wizard,"data-test-id":ke.MigrationWizardTestIds.Wizard},r,o&&i.a.createElement("button",{className:xe()(Ee.a.iconButton,Ee.a.close),onClick:()=>{const{pathname:e}=Object(fn.getLocation)();"userOrOrg"===Object(On.getRouteIdFromPathname)(e)?(t(),window.location.reload()):t()}},i.a.createElement(_e.a,null)),s&&i.a.createElement("button",{className:xe()(Ee.a.iconButton,Ee.a.back),onClick:a},i.a.createElement(Ne.a,null)))};var zn=t("./app/src/components/MigrationWizard/MigrationWizardPostMigrationBanner.less"),Pn=t.n(zn);function Bn(){return(Bn=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}const Dn=Object(ge.forNamespace)(["migration wizard"],{shouldEscapeStrings:!1}),In=()=>{const{dismissBanner:e,dialogProps:a,teamify:t}=Object(n.useContext)(de),{migrationOrg:r,loading:o}=A({idOrg:(null==t?void 0:t.idOrgCreated)||(null==t?void 0:t.idOrgSelected)||""}),[s,l]=Object(n.useState)(!1),d=r.displayName,c=!s&&!o&&d;return Object(n.useEffect)((()=>{c&&U.Analytics.sendViewedBannerEvent({bannerName:"teamifyBanner",source:Object(U.getScreenFromUrl)(),attributes:{forcedMigration:"post"}})}),[c]),c?i.a.createElement(i.a.Fragment,null,i.a.createElement(be.a,{inlinePadding:!0,textClassName:Pn.a.banner},i.a.createElement("span",{className:Pn.a.text},Dn("post-migration-banner-content",{workspaceName:d}),i.a.createElement(pe.Button,{appearance:"subtle-link",className:Pn.a.selectionButton,onClick:()=>{window.open("https://help.trello.com/article/1263-moving-to-workspaces","_blank")}},Dn("post-migration-banner-learn-more"))),i.a.createElement("div",{className:Pn.a.rightAligned},i.a.createElement(pe.Button,{appearance:"primary",className:Pn.a.button,onClick:()=>a.show(),testId:ke.MigrationWizardTestIds.StartButton},Dn("post-migration-banner-make-changes")),i.a.createElement(pe.Button,{className:xe()(Pn.a.button,Pn.a.dismissButton),onClick:()=>{l(!0),e()},testId:ke.MigrationWizardTestIds.DismissButton},Dn("post-migration-banner-dismiss")))),i.a.createElement(v.a,Bn({},a,{className:Pn.a.dialog,closeOnEscape:!1,closeOnOutsideClick:!1}),i.a.createElement(wn,null))):null};var Cn=t("./app/src/components/MigrationWizard/MigrationWizardPreMigrationBanner.less"),Tn=t.n(Cn);function Wn(){return(Wn=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}const Fn=Object(ge.forNamespace)(["migration wizard"]),An=()=>{const{dialogProps:e,teamify:a}=Object(n.useContext)(de);Object(n.useEffect)((()=>{U.Analytics.sendViewedBannerEvent({bannerName:"teamifyBanner",source:Object(U.getScreenFromUrl)(),attributes:{forcedMigration:"pre"}})}),[]);const t=!(null==a||!a.autoMigration)&&ue()(null==a?void 0:a.autoMigration).format("MMMM Do");return i.a.createElement("div",{"data-test-id":ke.MigrationWizardTestIds.PreMigrationBanner},i.a.createElement(be.a,{inlinePadding:!0,textClassName:Tn.a.banner},i.a.createElement("span",{className:Tn.a.text},t?Fn("pre-migration-banner-with-date",{migrationDate:t}):Fn("pre-migration-banner-without-date")),i.a.createElement(pe.Button,{appearance:"primary",className:Tn.a.button,onClick:()=>{e.show()},testId:ke.MigrationWizardTestIds.StartButton},Fn("pre-migration-banner-button"))),i.a.createElement(v.a,Wn({},e,{className:Tn.a.dialog,closeOnEscape:!1,closeOnOutsideClick:!1}),i.a.createElement(wn,null)))},Vn=()=>{const{isEligible:e,experience:a}=Object(n.useContext)(de);return e?a===O.Desktop?i.a.createElement(ye,null):a===O.Post?i.a.createElement(In,null):i.a.createElement(An,null):null},Rn=()=>i.a.createElement(ce,null,i.a.createElement(Vn,null))},"./app/src/components/MigrationWizard/MigrationWizardBoardVisibility.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibility.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardBoardVisibilityChooser.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibilityChooser.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardBoardsList.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardsList.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardBusinessClass.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBusinessClass.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardComplexCreateWorkspace.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexCreateWorkspace.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsEmptyState.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsEmptyState.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsWorkspaceChooser.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsWorkspaceChooser.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardCreateTeamMoveBoards.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardCreateTeamMoveBoards.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardDesktopBanner.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDesktopBanner.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardDialog.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDialog.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardDone.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDone.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardMembershipDropdown.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMembershipDropdown.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardMessagePill.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMessagePill.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardMoveBoards.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMoveBoards.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardPostMigrationBanner.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPostMigrationBanner.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardPreMigrationBanner.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPreMigrationBanner.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardStart.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardStart.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/MigrationWizard/MigrationWizardTeamMemberships.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardTeamMemberships.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/PopoverMenu/PopoverMenu.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverMenu/PopoverMenu.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./app/src/components/PopoverMenu/index.ts":function(e,a,t){"use strict";t.d(a,"a",(function(){return f})),t.d(a,"b",(function(){return v})),t.d(a,"c",(function(){return k}));var n=t("./node_modules/classnames/index.js"),i=t.n(n),r=t("./app/src/forwardRefComponent.ts"),o=t("./app/src/components/RouterLink/RouterLink.tsx"),s=t("./node_modules/react/index.js"),l=t.n(s),d=t("./app/src/components/PopoverMenu/PopoverMenu.less"),c=t.n(d),m=t("./packages/a11y/index.ts");function u(){return(u=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function p(e,a){if(null==e)return{};var t,n,i=function(e,a){if(null==e)return{};var t,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}const b=({children:e,description:a,rawDescription:t,title:n,icon:r})=>l.a.createElement(l.a.Fragment,null,r&&l.a.cloneElement(r,{size:"small"}),l.a.createElement("span",{className:i()(c.a.title,a&&c.a.withoutMargins)},n||e),(a||t)&&l.a.createElement("p",{className:c.a.description},a||t)),g=({appendSeparator:e,children:a})=>l.a.createElement("li",{className:i()(c.a.item,e&&c.a.withSeparator)},a),k=e=>{let{appendSeparator:a,testId:t,href:n,target:r,className:s,onClick:d}=e,k=p(e,["appendSeparator","testId","href","target","className","onClick"]);const[v,f]=Object(m.a)();return l.a.createElement(g,{appendSeparator:a},l.a.createElement(o.a,u({className:i()(c.a.link,s,v&&c.a.linkFocusRing),href:n,testId:t,onClick:d,target:r},f),l.a.createElement(b,k)))},v=Object(r.a)("PopoverMenuButton",((e,a)=>{let{appendSeparator:t,onClick:n,className:r,disabled:o,testId:s}=e,d=p(e,["appendSeparator","onClick","className","disabled","testId"]);const[k,v]=Object(m.a)();return l.a.createElement(g,{appendSeparator:t},l.a.createElement("button",u({className:i()(c.a.link,k&&c.a.linkFocusRing,r),disabled:o,onClick:n,"data-test-id":s,ref:a},v),l.a.createElement(b,d)))})),f=({className:e,children:a,testId:t})=>l.a.createElement("nav",{className:e},l.a.createElement("ul",{"data-test-id":t},a))},"./app/src/components/SelectableCompactBoardTile/SelectableCompactBoardTile.less":function(e,a,t){var n=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=t("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/SelectableCompactBoardTile/SelectableCompactBoardTile.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibility.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1AesMyb2SPuoex{text-align:center;padding:32px 0 16px}._1AesMyb2SPuoex h2{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;font-weight:500;margin:0 0 8px}._1AesMyb2SPuoex p{font-size:14px;line-height:20px;margin-bottom:24px}._1AesMyb2SPuoex p._7tR874BlLN3GX6{color:#5e6c84;margin-bottom:8px}._1AesMyb2SPuoex hr{margin-top:0;background-color:#ebecf0}._1AesMyb2SPuoex table,._1AesMyb2SPuoex tbody,._1AesMyb2SPuoex td,._1AesMyb2SPuoex th,._1AesMyb2SPuoex thead,._1AesMyb2SPuoex tr{background:none;border:none;text-align:left;padding:0}ul._3hrH0cW1UbJFR-{display:flex;flex-direction:column;align-items:center;margin-bottom:24px}ul._3hrH0cW1UbJFR- li{display:flex;width:344px;align-items:center;text-align:left;margin-bottom:8px;font-size:12px;line-height:16px}ul._3hrH0cW1UbJFR- li ._2TkJWyrXpcrPdl{display:flex;width:24px;height:24px;flex:0 0 24px;align-items:center;justify-content:center;background:rgba(9,30,66,.04);border-radius:3px;margin-right:8px}ul._3hrH0cW1UbJFR- li ._2TkJWyrXpcrPdl._1CtAYeBzeUVtjl svg{color:#e79217}ul._3hrH0cW1UbJFR- li ._2TkJWyrXpcrPdl.VP5GxKqrnXpdAT svg{color:#cf513d}ul._3hrH0cW1UbJFR- li ._2TkJWyrXpcrPdl._3TziuzL6cahxb- svg{color:#026aa7}._3Hb4XHk4m9qK1g{overflow-x:hidden;overflow-y:auto;max-height:240px;padding-right:16px;margin-right:-16px;max-height:320px}._3Hb4XHk4m9qK1g table{border-collapse:separate;border-spacing:0}._3Hb4XHk4m9qK1g table thead th{color:#5e6c84;font-size:12px;font-weight:600;line-height:16px;margin-top:16px;position:-webkit-sticky;position:sticky;top:0;padding-bottom:8px;background-color:#f4f5f7;z-index:1;border-bottom:1px solid #ebecf0}._3Hb4XHk4m9qK1g table tbody td{padding:0;vertical-align:middle}._3Hb4XHk4m9qK1g table tbody td:first-child{width:100%}._3Hb4XHk4m9qK1g table tbody tr:first-of-type td{padding-top:4px}._2GevlXDI_2j53T{padding-right:8px}._3T9G7HaSxNDARu{padding-left:56px;padding-right:56px;margin-bottom:0}",""]),a.locals={container:"_1AesMyb2SPuoex",footerText:"_7tR874BlLN3GX6",visibilityList:"_3hrH0cW1UbJFR-",permissionIcon:"_2TkJWyrXpcrPdl",stayPrivate:"_1CtAYeBzeUVtjl",private:"VP5GxKqrnXpdAT",team:"_3TziuzL6cahxb-",tableWrapper:"_3Hb4XHk4m9qK1g",boardTile:"_2GevlXDI_2j53T",button:"_3T9G7HaSxNDARu"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibilityChooser.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2jKI7P-btp4jzM{margin:0;min-width:96px;white-space:nowrap;justify-content:space-between}._2jKI7P-btp4jzM ._2gPd7g3S9G-Dlt{width:20px;height:20px;margin-left:8px}._23E7BzB1W_6vRK:active[disabled] ._1_yPqe78vcCTHi,._23E7BzB1W_6vRK:active[disabled] ._1mMC7n1LMmOZOO,._23E7BzB1W_6vRK:active[disabled] ._1SSE7i59cB07kd,._23E7BzB1W_6vRK:hover[disabled] ._1_yPqe78vcCTHi,._23E7BzB1W_6vRK:hover[disabled] ._1mMC7n1LMmOZOO,._23E7BzB1W_6vRK:hover[disabled] ._1SSE7i59cB07kd{color:#6b778c!important}._1SSE7i59cB07kd{margin-left:8px}._2EKsUFmQXBaxsP{margin:0 -12px}._1_yPqe78vcCTHi{margin-right:8px}._3u7bduwAesJNb8,._4l6h0nO1DTjOw7{color:#eb5a46}._7Nv_Om23vlRQ6M{color:#5aac44}._1mMC7n1LMmOZOO{color:#6b778c;font-size:12px;font-weight:400;line-height:16px;margin-top:4px}._1hOaOhg7ig2i0N{color:#6b778c}",""]),a.locals={visibilityButton:"_2jKI7P-btp4jzM",buttonIcon:"_2gPd7g3S9G-Dlt",menuItem:"_23E7BzB1W_6vRK",checkmark:"_1SSE7i59cB07kd",subName:"_1mMC7n1LMmOZOO",iconVis:"_1_yPqe78vcCTHi",popoverMenu:"_2EKsUFmQXBaxsP",iconPrivate:"_4l6h0nO1DTjOw7",error:"_3u7bduwAesJNb8",iconPublic:"_7Nv_Om23vlRQ6M",disabled:"_1hOaOhg7ig2i0N"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardsList.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".Uu5_S1w5osafQh{margin-top:24px}._2gG06GlDCNfxG6{display:flex;flex-direction:row;flex-wrap:wrap;margin:0 -4px;overflow-x:hidden;overflow-y:auto;max-height:240px;padding-right:16px;margin-right:-16px;max-height:248px}._2gG06GlDCNfxG6 ._3yTmnL3ciZpS4C{width:50%;box-sizing:border-box}._2gG06GlDCNfxG6 ._3yTmnL3ciZpS4C:nth-child(odd){padding-right:4px}._2gG06GlDCNfxG6 ._3yTmnL3ciZpS4C:nth-child(2n){padding-left:4px}._26zMYf3pjXrbRZ{font-size:12px;line-height:16px;padding:0;margin:0 0 0 16px}",""]),a.locals={boardsContainer:"Uu5_S1w5osafQh",boards:"_2gG06GlDCNfxG6",boardTile:"_3yTmnL3ciZpS4C",selectionButton:"_26zMYf3pjXrbRZ"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBusinessClass.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2sn6qWQHuxC4Nt{text-align:center;padding:24px 0 16px}._2sn6qWQHuxC4Nt ._3a0SnfyhPicQWS{margin-bottom:16px}._2sn6qWQHuxC4Nt h2{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;font-weight:500;margin:0 0 8px}._2sn6qWQHuxC4Nt h3{font-weight:400;font-size:12px;line-height:16px;color:#5e6c84;margin:0 0 16px}._2sn6qWQHuxC4Nt p{font-size:14px;line-height:20px;margin:0 0 16px}._2sn6qWQHuxC4Nt hr{background-color:#ebecf0}ul._3Uqh2DF2yb62ll{display:flex;flex-direction:column;align-items:center}ul._3Uqh2DF2yb62ll li{display:flex;width:304px;align-items:center;text-align:left;margin-bottom:8px;font-size:12px;line-height:16px}ul._3Uqh2DF2yb62ll li .aRbZQMxu-5S7Q5{display:flex;width:24px;height:24px;flex:0 0 24px;align-items:center;justify-content:center;background:#f7f0fa;border-radius:3px;margin-right:8px}ul._3Uqh2DF2yb62ll li .aRbZQMxu-5S7Q5 svg{color:#6c547b}._3wBYTS_Vbyadby{padding-left:56px;padding-right:56px;margin-bottom:16px}p._3RfEKgcQEll1gO{font-size:12px;line-height:16px;color:#5e6c84;margin:0}",""]),a.locals={container:"_2sn6qWQHuxC4Nt",sparkle:"_3a0SnfyhPicQWS",featureList:"_3Uqh2DF2yb62ll",featureIcon:"aRbZQMxu-5S7Q5",button:"_3wBYTS_Vbyadby",disclaimer:"_3RfEKgcQEll1gO"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexCreateWorkspace.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".il2ejQn6oQvQLH label{color:#5e6c84;font-size:12px;font-weight:600;line-height:16px;margin-top:20px;text-transform:uppercase;margin:0 0 4px}._3MW4hsMcN6HGQu{margin-bottom:8px}._3ly2FaqKzIJzjP{margin-bottom:16px}",""]),a.locals={createWorkspace:"il2ejQn6oQvQLH",workspaceName:"_3MW4hsMcN6HGQu",workspaceType:"_3ly2FaqKzIJzjP"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsEmptyState.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1ZvzRkTlUS0QdX{padding:32px 0 16px;display:flex;flex-direction:column;align-items:center}._1ZvzRkTlUS0QdX h1{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;text-align:center;font-weight:500;margin:0 0 8px}._1ZvzRkTlUS0QdX p{text-align:center;font-size:14px;line-height:20px}._1ZvzRkTlUS0QdX hr{margin:8px 0 32px;background-color:#ebecf0}._1ZvzRkTlUS0QdX h2{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;margin:12px 0 4px}._1ZvzRkTlUS0QdX ._2Vy8SxidQjzcuw{font-size:14px}._1ZvzRkTlUS0QdX ._1shIIx0vQZqW7o{color:#5e6c84;margin-bottom:32px;padding:0 96px}.o3djMx_KD63BbA{display:block;padding-left:56px;padding-right:56px;margin:0 auto}",""]),a.locals={container:"_1ZvzRkTlUS0QdX",doneTitle:"_2Vy8SxidQjzcuw",doneInfo:"_1shIIx0vQZqW7o",doneButton:"o3djMx_KD63BbA"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsWorkspaceChooser.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2fRLvlsq9YRp3y{width:100%;margin-bottom:8px;justify-content:space-between}._2MosU0HGPammKG{overflow-x:hidden;overflow-y:auto;max-height:240px;padding-right:16px;margin-right:-16px;width:536px}._2WBxjiKEziE4OQ{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:300px}._2WBxjiKEziE4OQ[disabled],._2WBxjiKEziE4OQ[disabled] p{background:transparent;color:#a5adba}._2WBxjiKEziE4OQ[disabled] a{background:transparent;color:#5e6c84}._2WBxjiKEziE4OQ._2d7RoKzvYSPPx9{background-color:rgba(9,30,66,.08)}",""]),a.locals={workspaceListButton:"_2fRLvlsq9YRp3y",workspacePopover:"_2MosU0HGPammKG",workspaceOption:"_2WBxjiKEziE4OQ",selected:"_2d7RoKzvYSPPx9"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardCreateTeamMoveBoards.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".lzBmSCBTiuNIAv{padding:32px 0 16px}.lzBmSCBTiuNIAv h2{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;text-align:center;font-weight:500;margin:0 0 8px}.lzBmSCBTiuNIAv p{text-align:center;font-size:14px;line-height:20px;margin-bottom:24px}.lzBmSCBTiuNIAv hr{background-color:#ebecf0}.lzBmSCBTiuNIAv label{color:#172b4d;color:#5e6c84}.lzBmSCBTiuNIAv input,.lzBmSCBTiuNIAv label{font-size:16px;font-weight:600;letter-spacing:-.006em;line-height:20px;margin-top:24px;margin:0 0 8px}.lzBmSCBTiuNIAv input{color:#172b4d;padding:12px 8px;width:100%}.lzBmSCBTiuNIAv h3{color:#5e6c84;font-size:12px;font-weight:600;line-height:16px;margin-top:20px;text-transform:uppercase;margin:0 0 4px}._2yF4eLcsUb4k7U{margin:0 0 24px}._2yF4eLcsUb4k7U,._221yb67AitIU1G{font-size:12px;line-height:16px;padding:0}._221yb67AitIU1G{margin:0 0 0 16px}._1NPnycoC9frThl{display:flex;flex-direction:row;flex-wrap:wrap;margin:0 -4px;overflow-x:hidden;overflow-y:auto;max-height:240px;padding-right:16px;margin-right:-16px;max-height:248px}._1NPnycoC9frThl ._-7dnA9J7gO7hhk{width:50%;box-sizing:border-box}._1NPnycoC9frThl ._-7dnA9J7gO7hhk:nth-child(odd){padding-right:4px}._1NPnycoC9frThl ._-7dnA9J7gO7hhk:nth-child(2n){padding-left:4px}._1b6re4L9Mv3yDh{margin:4px 0 8px}p._2ZVgEMlwLjo4JR{font-size:12px;line-height:16px;color:#5e6c84;margin:0 0 8px}._3p_T2RlzscixYc{display:block;padding-left:56px;padding-right:56px;margin:0 auto}",""]),a.locals={container:"lzBmSCBTiuNIAv",selectAnotherButton:"_2yF4eLcsUb4k7U",selectionButton:"_221yb67AitIU1G",boards:"_1NPnycoC9frThl",boardTile:"_-7dnA9J7gO7hhk",bottomLine:"_1b6re4L9Mv3yDh",note:"_2ZVgEMlwLjo4JR",nextButton:"_3p_T2RlzscixYc"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDesktopBanner.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".SDC1z98xOHfmnz{display:flex;justify-content:space-between;align-items:center;padding-right:0}.mqmyq6qGLDxwdV{margin:0;padding-left:32px;padding-right:32px}.mqmyq6qGLDxwdV._13Yq6TmEuyXasM{background:rgba(9,30,66,.04)}.mqmyq6qGLDxwdV:focus{outline:#5aac44}._2S9gGHibL089Ul{padding:0;min-width:600px;max-width:100%;min-height:64px}",""]),a.locals={banner:"SDC1z98xOHfmnz",button:"mqmyq6qGLDxwdV",neutral:"_13Yq6TmEuyXasM",dialog:"_2S9gGHibL089Ul"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDialog.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".MtMKfltDITJn2x{position:relative;padding:0 32px}._3p6VippevY_NpF{display:flex;justify-content:center;align-items:center;position:absolute;width:32px;height:32px;top:8px;background:rgba(9,30,66,.04);border-radius:3px;padding:0;margin:0}._3p6VippevY_NpF._1oOIty2I_TOh2F{left:8px}._3p6VippevY_NpF.oBinuk6CM0zhin{right:8px}._3p6VippevY_NpF:hover{background:rgba(9,30,66,.08)}",""]),a.locals={wizard:"MtMKfltDITJn2x",iconButton:"_3p6VippevY_NpF",back:"_1oOIty2I_TOh2F",close:"oBinuk6CM0zhin"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDone.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._23TNIasZrm_YT4{padding:32px 0 16px;display:flex;flex-direction:column;align-items:center}._23TNIasZrm_YT4 h1{color:#172b4d;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;text-align:center;font-weight:500;font-size:24px;margin:24px 0 8px}._23TNIasZrm_YT4 p{text-align:center;font-size:14px;line-height:20px;margin-bottom:24px}.QXkIbiYMGtELeS{display:block;padding-left:56px;padding-right:56px;margin:0 auto}",""]),a.locals={container:"_23TNIasZrm_YT4",doneButton:"QXkIbiYMGtELeS"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMembershipDropdown.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2MnNricAI5oFTE{margin:0;min-width:96px}.WDh5rnGVEN3YLC{color:#172b4d;padding:6px 12px;margin:0 -12px}._1X0cEgdQxlrNeN{clear:both;color:#5e6c84;display:block;font-size:12px;font-weight:400;line-height:16px;margin-top:4px}._2W-mRH91cNNg4c{margin-left:8px;color:#6b778c}",""]),a.locals={permissionButton:"_2MnNricAI5oFTE",membershipTitle:"WDh5rnGVEN3YLC",membershipSubText:"_1X0cEgdQxlrNeN",checkmark:"_2W-mRH91cNNg4c"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMessagePill.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".DCoMHU7cfwsMEq{padding:8px;margin-bottom:8px;width:100%;min-height:32px;border-radius:3px;box-sizing:border-box;font-size:12px;line-height:16px;text-align:left}.DCoMHU7cfwsMEq h2,.DCoMHU7cfwsMEq h3,.DCoMHU7cfwsMEq h4,.DCoMHU7cfwsMEq h5,.DCoMHU7cfwsMEq h6{color:#5e6c84;font-size:12px;font-weight:600;line-height:16px;margin-top:20px;margin-top:0;margin-bottom:4px}.DCoMHU7cfwsMEq p:last-child{margin-bottom:0}._3ibu5HxQr8ePVK{color:#fff;background:#cf513d}._3ibu5HxQr8ePVK a,._3ibu5HxQr8ePVK h2,._3ibu5HxQr8ePVK h3,._3ibu5HxQr8ePVK h4,._3ibu5HxQr8ePVK h5,._3ibu5HxQr8ePVK h6{color:#fff}._3ibu5HxQr8ePVK a:active,._3ibu5HxQr8ePVK a:hover{color:#f5d3ce}._2VAt-6H5-_DsH1{color:#172b4d;background:#e4f0f6}._2VAt-6H5-_DsH1 a,._2VAt-6H5-_DsH1 h2,._2VAt-6H5-_DsH1 h3,._2VAt-6H5-_DsH1 h4,._2VAt-6H5-_DsH1 h5,._2VAt-6H5-_DsH1 h6{color:#172b4d}._2VAt-6H5-_DsH1 a:active,._2VAt-6H5-_DsH1 a:hover{color:#42526e}",""]),a.locals={pill:"DCoMHU7cfwsMEq",error:"_3ibu5HxQr8ePVK",alert:"_2VAt-6H5-_DsH1"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMoveBoards.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1bnmypWlduFd4A{padding:32px 0 16px}._1bnmypWlduFd4A h2{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;text-align:center;font-weight:500;margin:0 0 8px}._1bnmypWlduFd4A p{text-align:center;font-size:14px;line-height:20px;margin-bottom:24px}._1bnmypWlduFd4A hr{background-color:#ebecf0}._1bnmypWlduFd4A ._3b69d4BQXcrkiq{color:#172b4d;font-size:16px;font-weight:600;letter-spacing:-.006em;line-height:20px;margin-top:24px;color:#5e6c84;margin:0 0 8px}._1bnmypWlduFd4A h3{color:#5e6c84;font-size:12px;font-weight:600;line-height:16px;margin-top:20px;text-transform:uppercase;margin:0 0 4px}._2amTD5JM03dRXY{margin-top:8px}p._2Q4LsyGcFEZYAW{font-size:12px;line-height:16px;color:#5e6c84;margin:0 0 8px}._20BPukQIvEoTfI{display:block;padding-left:56px;padding-right:56px;margin:0 auto}",""]),a.locals={container:"_1bnmypWlduFd4A",movePrompt:"_3b69d4BQXcrkiq",separator:"_2amTD5JM03dRXY",note:"_2Q4LsyGcFEZYAW",doneButton:"_20BPukQIvEoTfI"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPostMigrationBanner.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2RqOFqftgSoXI6{display:flex;justify-content:space-between;align-items:center;padding-right:0}.TiBwr7N1y2C4pI{margin:0;padding-left:32px;padding-right:32px}.TiBwr7N1y2C4pI._2lpF5BH3MFRqhA{background:rgba(9,30,66,.04)}.TiBwr7N1y2C4pI:focus{outline:#5aac44}._3x4ePBBrNZbfUg{margin-left:4px}._3mBc7uJ_lbQgNr{padding:0;min-width:600px;max-width:100%;min-height:64px}._362O6BUTnAM0GC{margin-bottom:0}",""]),a.locals={banner:"_2RqOFqftgSoXI6",button:"TiBwr7N1y2C4pI",neutral:"_2lpF5BH3MFRqhA",dismissButton:"_3x4ePBBrNZbfUg",dialog:"_3mBc7uJ_lbQgNr",selectionButton:"_362O6BUTnAM0GC"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPreMigrationBanner.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1uBqr0BTyxGD8G{display:flex;justify-content:space-between;align-items:center;padding-right:0}._1UODjvaS0PEEKa{margin:0;padding-left:32px;padding-right:32px}._1UODjvaS0PEEKa._2Xci7pmbA_YdDt{background:rgba(9,30,66,.04)}._1UODjvaS0PEEKa:focus{outline:#5aac44}._2-TQEKLGTgTcy-{padding:0;min-width:600px;max-width:100%;min-height:64px}",""]),a.locals={banner:"_1uBqr0BTyxGD8G",button:"_1UODjvaS0PEEKa",neutral:"_2Xci7pmbA_YdDt",dialog:"_2-TQEKLGTgTcy-"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardStart.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._28VIe8vDaS0LTP{display:flex;align-items:center;text-align:center;flex-direction:column;padding:24px 16px}._28VIe8vDaS0LTP ._4lAOkw6qcazI-o{font-size:24px;margin-top:24px;margin-bottom:0;line-height:32px}._28VIe8vDaS0LTP ._1clRbDLA1Dlhzu{margin:8px 0 32px}._28VIe8vDaS0LTP ._2fEOuMmgve3xZi{color:#5e6c84;margin:16px auto}._28VIe8vDaS0LTP ._2tjKSYEMe0VzrA{color:#5e6c84;font-size:12px;margin-bottom:0}",""]),a.locals={container:"_28VIe8vDaS0LTP",startMigrationTitle:"_4lAOkw6qcazI-o",startMigrationBody:"_1clRbDLA1Dlhzu",line:"_2fEOuMmgve3xZi",footerText:"_2tjKSYEMe0VzrA"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardTeamMemberships.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._21YvoeK9px3J51{text-align:center;padding:32px 0 16px}._21YvoeK9px3J51 ._2ZlhIC4Sw-dP7T{margin-top:16px}._21YvoeK9px3J51 h2{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;font-weight:500;margin:0 0 8px}._21YvoeK9px3J51 p{font-size:14px;line-height:20px;margin-bottom:24px}._21YvoeK9px3J51 p.VMU7ENIp064svr{color:#5e6c84;margin-bottom:8px}._21YvoeK9px3J51 hr{background-color:#ebecf0}.sxdEpDb6qYOmSf{overflow-x:hidden;overflow-y:auto;max-height:240px;padding-right:16px;margin-right:-16px}.sxdEpDb6qYOmSf table,.sxdEpDb6qYOmSf tbody,.sxdEpDb6qYOmSf td,.sxdEpDb6qYOmSf th,.sxdEpDb6qYOmSf thead,.sxdEpDb6qYOmSf tr{background:none;border:none;text-align:left;padding:0}.sxdEpDb6qYOmSf table{border-collapse:separate;border-spacing:0}.sxdEpDb6qYOmSf table thead{border-bottom:1px solid #ebecf0}.sxdEpDb6qYOmSf table thead th{color:#5e6c84;font-size:12px;font-weight:600;line-height:16px;margin-top:16px;position:-webkit-sticky;position:sticky;top:0;padding-bottom:8px;background-color:#f4f5f7;z-index:1}.sxdEpDb6qYOmSf table tbody td{padding:8px 0;vertical-align:middle}.sxdEpDb6qYOmSf table tbody td:first-child{width:100%}ul.oWI3xf5PnCAKgO{display:flex;flex-direction:column;align-items:center;margin-bottom:24px}ul.oWI3xf5PnCAKgO li{display:flex;width:312px;align-items:center;text-align:left;margin-bottom:8px;font-size:12px;line-height:16px}ul.oWI3xf5PnCAKgO li ._4VmkMGoQzQ84Iq{display:flex;width:24px;height:24px;flex:0 0 24px;align-items:center;justify-content:center;background:rgba(9,30,66,.04);border-radius:3px;margin-right:8px}ul.oWI3xf5PnCAKgO li ._4VmkMGoQzQ84Iq._1NLV4p_LFrxlmr svg{color:#0079bf}ul.oWI3xf5PnCAKgO li ._4VmkMGoQzQ84Iq._1CrFwkd266Gb5q svg{color:#cf513d}ul.oWI3xf5PnCAKgO li ._4VmkMGoQzQ84Iq._1kyKCfcvl3l65P svg{color:#e79217}ul.oWI3xf5PnCAKgO li ._4VmkMGoQzQ84Iq._1v2sBHusOB2SGJ svg{color:#5aac44}._1kVUba7PTJBXOa{display:flex;align-items:center}._1kVUba7PTJBXOa ._2nN2MbG4A93nfE{width:32px;height:32px;flex:0 0 32px;margin-right:8px}._1kVUba7PTJBXOa ._1P-Etlq2PHcPLt{flex:1;font-size:12px;line-height:16px;width:40px}._1kVUba7PTJBXOa ._1P-Etlq2PHcPLt .wO14cirNAnrJEh{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._1kVUba7PTJBXOa ._3Jm0Cfak_pfeOf{color:#5e6c84}._3GwkQR8l6wQlVz{display:block;background-color:#cf513d;color:#fff;margin-bottom:10px;padding:10px;font-size:12px}.jZVtScSBiz42_B{padding-left:56px;padding-right:56px;margin-bottom:0}",""]),a.locals={container:"_21YvoeK9px3J51",spinner:"_2ZlhIC4Sw-dP7T",footerText:"VMU7ENIp064svr",tableWrapper:"sxdEpDb6qYOmSf",permissionsList:"oWI3xf5PnCAKgO",permissionIcon:"_4VmkMGoQzQ84Iq",guests:"_1NLV4p_LFrxlmr",members:"_1CrFwkd266Gb5q",private:"_1kyKCfcvl3l65P",aaua:"_1v2sBHusOB2SGJ",member:"_1kVUba7PTJBXOa",memberAvatar:"_2nN2MbG4A93nfE",memberDetails:"_1P-Etlq2PHcPLt",memberFullName:"wO14cirNAnrJEh",memberUsername:"_3Jm0Cfak_pfeOf",updateMembershipsError:"_3GwkQR8l6wQlVz",nextButton:"jZVtScSBiz42_B"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverMenu/PopoverMenu.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2FCfpANq784raH{background-color:transparent;border:none;background:#fff;border-radius:0;box-shadow:none;color:#172b4d;display:block;height:100%;padding:6px 12px;text-align:left;text-decoration:none;width:100%;transition:none;margin:0;outline:0}._2FCfpANq784raH:hover{background-color:transparent;border:none;box-shadow:none;background:rgba(9,30,66,.04)}._2FCfpANq784raH:active{background-color:transparent;border:none;box-shadow:none;background:#e4f0f6}._2FCfpANq784raH._154-yjtGZB4imr:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._2FCfpANq784raH._154-yjtGZB4imr:focus{outline:5px auto -webkit-focus-ring-color}}._2FCfpANq784raH[disabled]:active,._2FCfpANq784raH[disabled]:focus,._2FCfpANq784raH[disabled]:hover{background:transparent;color:#a5adba!important}._2FCfpANq784raH[disabled]:active ._3oK2g02ecSZ4wX svg,._2FCfpANq784raH[disabled]:focus ._3oK2g02ecSZ4wX svg,._2FCfpANq784raH[disabled]:hover ._3oK2g02ecSZ4wX svg{color:#a5adba!important}._2FCfpANq784raH[disabled]:active span[name=check],._2FCfpANq784raH[disabled]:focus span[name=check],._2FCfpANq784raH[disabled]:hover span[name=check]{color:#6b778c!important}._2FCfpANq784raH[disabled]:active .Puvhv7-oGbJGmR,._2FCfpANq784raH[disabled]:focus .Puvhv7-oGbJGmR,._2FCfpANq784raH[disabled]:hover .Puvhv7-oGbJGmR{color:#a5adba!important}.lcLi2SyiMFND91{font-size:14px;font-weight:400;line-height:20px}.lcLi2SyiMFND91._27ZbL25GrWr6E2{margin:0}.Puvhv7-oGbJGmR{color:#5e6c84;font-size:12px;font-weight:400;line-height:16px;margin:4px 0 0;padding:0}._1IJ3BWdWDb2xH2:after{background-color:rgba(9,30,66,.13);content:" ";display:block;height:1px;margin:8px auto;width:calc(100% - 20px)}',""]),a.locals={link:"_2FCfpANq784raH",linkFocusRing:"_154-yjtGZB4imr",icon:"_3oK2g02ecSZ4wX",description:"Puvhv7-oGbJGmR",title:"lcLi2SyiMFND91",withoutMargins:"_27ZbL25GrWr6E2",withSeparator:"_1IJ3BWdWDb2xH2"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/SelectableCompactBoardTile/SelectableCompactBoardTile.less":function(e,a,t){(a=e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3JqfJbo03cu1cW{display:flex;flex:1;min-width:0;box-sizing:border-box;background-size:cover;background-position:50%;margin:4px;border-radius:3px;opacity:.7}._3JqfJbo03cu1cW._12KP3dmthwJEfs{cursor:pointer}._3JqfJbo03cu1cW._12KP3dmthwJEfs:hover{opacity:1}._1L5KIC3unLmMnG{flex-shrink:0;background-size:cover;height:36px;width:36px;border-top-left-radius:3px;border-bottom-left-radius:3px}._3Vq4nA7kXSgHHY{display:flex;flex-grow:1;min-width:0;background-color:hsla(0,0%,100%,.7);border-top-right-radius:3px;border-bottom-right-radius:3px}._3oO_Xmn7Whx8FO{flex-grow:1;flex-basis:0%;min-width:0;padding-left:9px;padding-right:9px}._3yRjJQL9M2G64L{color:#172b4d;font-weight:700;line-height:36px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.LCcXbM2XwAt9l3{width:36px;flex-shrink:1;line-height:36px;text-align:center;font-weight:700;-webkit-user-select:none;user-select:none}.bSnX2hbhGIaUZO{opacity:1}._2PDU73SR7flOPU{opacity:.5;cursor:not-allowed}",""]),a.locals={container:"_3JqfJbo03cu1cW",selectable:"_12KP3dmthwJEfs",boardThumbnail:"_1L5KIC3unLmMnG",boardDescription:"_3Vq4nA7kXSgHHY",boardNameWrapper:"_3oO_Xmn7Whx8FO",boardName:"_3yRjJQL9M2G64L",checkmark:"LCcXbM2XwAt9l3",selectedCompactBoardTile:"bSnX2hbhGIaUZO",disabled:"_2PDU73SR7flOPU"}},"./packages/a11y/index.ts":function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t("./node_modules/react/index.js");const i=(e={})=>{const[a,t]=Object(n.useState)(!1),[i,r]=Object(n.useState)(!1),[o,s]=Object(n.useState)(!1),l=()=>{i&&o||t(!0)};return[a,{onMouseEnter:a=>{r(!0),t(!1),e.onMouseEnter&&e.onMouseEnter(a)},onMouseLeave:a=>{r(!1),t(!1),e.onMouseLeave&&e.onMouseLeave(a)},onMouseDown:a=>{s(!0),t(!1),e.onMouseDown&&e.onMouseDown(a)},onKeyDown:a=>{s(!1),l(),e.onKeyDown&&e.onKeyDown(a)},onKeyUp:a=>{l(),e.onKeyUp&&e.onKeyUp(a)},onBlur:a=>{t(!1),e.onBlur&&e.onBlur(a)}}]}},"./packages/nachos/icons/add-member.tsx":function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t("./node_modules/react/index.js"),i=t.n(n),r=t("./packages/nachos/src/components/Icon/index.ts");const o=()=>i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 9.44777 7.61532 10.7518 8.59871 11.6649C5.31433 13.0065 3 16.233 3 20C3 20.5523 3.44772 21 4 21H12C12.5523 21 13 20.5523 13 20C13 19.4477 12.5523 19 12 19H5.07089C5.55612 15.6077 8.47353 13 12 13ZM15 8C15 9.65685 13.6569 11 12 11C10.3431 11 9 9.65685 9 8C9 6.34315 10.3431 5 12 5C13.6569 5 15 6.34315 15 8Z",fill:"currentColor"}),i.a.createElement("path",{d:"M17 14C17 13.4477 17.4477 13 18 13C18.5523 13 19 13.4477 19 14V16H21C21.5523 16 22 16.4477 22 17C22 17.5523 21.5523 18 21 18H19V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V18H15C14.4477 18 14 17.5523 14 17C14 16.4477 14.4477 16 15 16H17V14Z",fill:"currentColor"})),s=e=>{const{testId:a,dangerous_className:t,size:n,color:s,label:l,block:d}=e;return i.a.createElement(r.a,{testId:a,size:n,dangerous_className:t,color:s,block:d,label:l||"AddMemberIcon",glyph:o})}},"./packages/nachos/icons/private.tsx":function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t("./node_modules/react/index.js"),i=t.n(n),r=t("./packages/nachos/src/components/Icon/index.ts");const o=()=>i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C9.79536 3 8 4.79192 8 7.00237V9H7C5.89543 9 5 9.89543 5 11V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V11C19 9.89543 18.1046 9 17 9H16V7.00237C16 4.79182 14.2091 3 12 3ZM14 11H16H17V19H7V11H8H10H14ZM14 9V7.00237C14 5.89617 13.1043 5 12 5C10.8983 5 10 5.89813 10 7.00237V9H14ZM14 15C14 16.1046 13.1046 17 12 17C10.8954 17 10 16.1046 10 15C10 13.8954 10.8954 13 12 13C13.1046 13 14 13.8954 14 15Z",fill:"currentColor"})),s=e=>{const{testId:a,dangerous_className:t,size:n,color:s,label:l,block:d}=e;return i.a.createElement(r.a,{testId:a,size:n,dangerous_className:t,color:s,block:d,label:l||"PrivateIcon",glyph:o})}},"./packages/nachos/icons/sparkle.tsx":function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t("./node_modules/react/index.js"),i=t.n(n),r=t("./packages/nachos/src/components/Icon/index.ts");const o=()=>i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M8 2L7 7L2 8L7 9L8 14L9 9L14 8L9 7L8 2Z",fill:"currentColor"}),i.a.createElement("path",{d:"M17 11L18 8L19 11L22 12L19 13L18 16L17 13L14 12L17 11Z",fill:"currentColor"}),i.a.createElement("path",{d:"M11 17L12 14L13 17L16 18L13 19L12 22L11 19L8 18L11 17Z",fill:"currentColor"})),s=e=>{const{testId:a,dangerous_className:t,size:n,color:s,label:l,block:d}=e;return i.a.createElement(r.a,{testId:a,size:n,dangerous_className:t,color:s,block:d,label:l||"SparkleIcon",glyph:o})}},"./resources/images/bc-sparkle-flat.svg":function(e,a,t){e.exports=t.p+"images/bc-sparkle-flat.a161cac3b4a9fe3e9b99.svg"},"./resources/images/migration-wizard/complex-path-empty-state.svg":function(e,a,t){e.exports=t.p+"images/migration-wizard/complex-path-empty-state.6d914ca1a94dd576322d.svg"},"./resources/images/migration-wizard/simple-path-done.svg":function(e,a,t){e.exports=t.p+"images/migration-wizard/simple-path-done.6ba985fbca73417c6ff1.svg"},"./resources/images/migration-wizard/start-board-migration.png":function(e,a,t){e.exports=t.p+"images/migration-wizard/start-board-migration.dbbeecc8541012b6aba2.png"}}]);
//# sourceMappingURL=migration-wizard.3c0658642918b33a23c0.js.map