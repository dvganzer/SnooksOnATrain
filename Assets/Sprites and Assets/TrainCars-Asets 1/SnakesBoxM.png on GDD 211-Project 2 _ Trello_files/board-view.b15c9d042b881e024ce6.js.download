/*! For license information please see board-view.b15c9d042b881e024ce6.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"./app/common/lib/util/last-organization.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return r}));var n=i("./packages/storage/index.ts");function r(e=n.TrelloStorage){const t="idLastOrganization",i="none";return{NO_ORGANIZATION:i,LAST_ORGANIZATION:t,set(n){e.set(t,n||i)},get(){const i=e.get(t);return"string"==typeof i?i:null}}}},"./app/common/lib/util/non-public-fields-filter.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"useNonPublicIfAvailable",(function(){return n}));const n=(e,t)=>e.nonPublic&&e.nonPublic[t]?e.nonPublic[t]:e[t]},"./app/gamma/src/components/canonical-components/index.tsx":function(e,t,i){"use strict";i.d(t,"b",(function(){return U})),i.d(t,"a",(function(){return z}));var n=i("./packages/browser/index.ts"),r=i("./packages/trello-canonical-components/index.ts"),a=i("./packages/i18n/index.ts"),s=i("./app/common/lib/util/preview.ts"),o=i("./node_modules/react/index.js"),l=i.n(o),c=i("./packages/dates/index.ts"),d=i("./app/gamma/src/util/dates.ts"),u=i("./app/gamma/src/util/sort.ts"),p=(i("./app/src/components/RouterLink/LinkWrapper.tsx"),i("./packages/trello-canonical-components/src/card-front/Badges.tsx")),m=i("./packages/colors/index.ts"),h=i("./packages/feature-flag-client/index.ts"),g=i("./packages/trello-canonical-components/src/card-front/CardLabel.tsx"),b=i("./app/src/components/CardFronts/LinkCard.tsx");function f(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const{ArchivedBadge:v,AttachmentsBadge:k,Card:y,CardBadges:w,CardCover:j,CardDetails:x,CardLabels:C,CardLink:_,CardMembers:O,CardStickers:E,CardTitle:S,ChecklistBadge:T,CommentsBadge:N,DescriptionBadge:P,DueDateBadge:I,NotificationBadge:B,Sticker:D,SubscribedBadge:A,TrelloAttachmentsBadge:L,VotesBadge:F}=r.CanonicalCard,M=Object(a.forTemplate)("canonical_card"),V={red:m.Red400,blue:m.TrelloBlue300,green:m.Green400,orange:m.Orange400,purple:m.Purple400,yellow:m.Yellow400,pink:m.Pink400,sky:m.Sky400,lime:m.Lime400,black:m.N800},R={red:"DotsChecker",blue:"StripeHorizontal",green:"StripeDiagonal",orange:"StripeVertical",purple:"GrooveDiagonal",yellow:"WaveSquare",pink:"BrickHorizontal",sky:"BrickDiagonal",lime:"Scale",black:"BrickVertical"},z=({name:e,team:t,members:i=[],labels:a=[],colorBlind:o,cover:m,coverHeight:f,archived:y,badges:_,isTemplate:z,stickers:U=[],expandLabels:H,numNotifications:W,replacements:q={},cardRole:$})=>{const G=_&&_.attachmentsByType?_.attachmentsByType.trello.board+_.attachmentsByType.trello.card:0,K=_?_.attachments-G:0,Z=((e,{hasStickers:t,heightOverride:i,colorBlind:r}={})=>{const a={height:0,img:"",bgColor:"",bgSize:"cover",sharedSourceUrl:"",pattern:null};if(!e)return a;const o=e?Object(s.smallestPreviewBiggerThan)(e.previews,Object(n.isHighDPI)()?600:300)||Object(s.biggestPreview)(e.previews):null;if(o){a.img=o.url?o.url:e.url,a.sharedSourceUrl=e.sharedSourceUrl,a.bgColor=e.edgeColor;const t=Math.min(o.height,260),i=245*o.height/o.width;i<=t?(a.height=i,a.bgSize="cover"):(a.height=t,a.bgSize="contain")}return e.color&&(a.bgColor=V[e.color],a.height=t?64:32,r&&(a.bgSize=void 0,a.pattern=R[e.color])),a.height=i||a.height,a})(m,{hasStickers:U.length>0,heightOverride:f,colorBlind:o}),J=new Set(t&&t.memberships?t.memberships.filter((e=>e.deactivated)).map((e=>e.idMember)):[]),Q=Object(h.seesVersionedVariation)("ecosystem.timeline-version","stable");return h.featureFlagClient.get("wildcard.link-cards",!1)&&"link"===$&&e?l.a.createElement(x,null,l.a.createElement(b.LinkCard,{url:e,isEditable:!1,openEditor:()=>{},hideCover:!0,hideActions:!0})):l.a.createElement(l.a.Fragment,null,m&&"full"!==m.size&&l.a.createElement(j,Z),U.length>0&&l.a.createElement(E,{height:Z.height?Z.height:64},U.map((e=>l.a.createElement(D,{key:e.id,left:e.left,top:e.top,alt:e.image,img:Object(n.isHighDPI)()&&e.imageUrl2x?e.imageUrl2x:e.imageUrl,rotate:e.rotate,zIndex:e.zIndex})))),l.a.createElement(x,null,a&&a.length>0&&l.a.createElement(C,null,a.filter((e=>!!e.color)).sort(u.b).map((e=>l.a.createElement(g.a,{key:e.id,color:e.color,pattern:o?g.b[e.color]:null},H?e.name||" ":null)))),q.CardTitle?q.CardTitle:l.a.createElement(S,null,e),l.a.createElement(w,null,z&&l.a.createElement(p.c,null,M("card template badge label")),!!W&&l.a.createElement(B,{numUnread:W}),_&&_.subscribed&&l.a.createElement(A,null),_&&_.votes>0&&!z&&l.a.createElement(F,{numVotes:_.votes,voted:_.viewingMemberVoted}),_&&(_.start||_.due)&&!z&&l.a.createElement(I,{dueDate:_.due,isComplete:_.dueComplete},Q&&Object(d.getStringForCombinedDateBadge)(_.start,_.due),!Q&&_.due&&Object(c.b)(_.due)),_&&_.description&&l.a.createElement(P,null),_&&_.comments>0&&l.a.createElement(N,{numComments:_.comments}),K>0&&l.a.createElement(k,{numAttachments:K}),G>0&&l.a.createElement(L,{numAttachments:G}),_&&_.checklistItems>0&&l.a.createElement(T,{numItems:_.checklistItems,numComplete:_.checklistItemsChecked,checkItemsEarliestDue:_.checkItemsEarliestDue}),y&&!z&&l.a.createElement(v,null,M("archived card badge label"))),i&&i.length>0&&l.a.createElement(O,null,i.sort(Object(u.a)("name")).reduceRight(((e,t)=>(e.push(l.a.createElement(r.CanonicalAvatar,{key:t.id,avatarSource:t.avatarSource,deactivated:J.has(t.id)||t.activityBlocked,img:t.avatars&&t.avatars[30],initials:t.initials,lightBackground:!0})),e)),[]))))},U=e=>{var t;let{className:i,style:n}=e,r=f(e,["className","style"]);return l.a.createElement(y,{className:i,style:n,cover:r.cover,colorBlind:r.colorBlind,coverHeight:r.coverHeight,truncateNameForFullCover:r.truncateNameForFullCover,hasStickers:!(null===(t=r.stickers)||void 0===t||!t.length)},l.a.createElement(z,r))}},"./app/gamma/src/util/dates.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"getDateDeltaString",(function(){return c})),i.d(t,"getStringForCombinedDateBadge",(function(){return d}));var n=i("./packages/i18n/index.ts"),r=i("./app/scripts/views/internal/due-date-helpers.js"),a=i("./packages/dates/index.ts"),s=i("./node_modules/moment/moment.js"),o=i.n(s);const l=Object(n.forNamespace)(),c=(e,t)=>{const i=o()(e),n=o()(t);return i.isSame(n,"day")?Math.abs(n.diff(e,"seconds"))<10?l("just now"):i.from(t):i.calendar(t)},d=(e,t,i)=>{if(i||(i=a.b),e&&t&&e<=t)return"".concat(i(e)," - ").concat(i(t));if(t)return"".concat(i(t));if(e){let t;return t="badge.start.past"===Object(r.relativeInforForStartDate)(e)?["badge","start","past"]:["badge","start","future"],l(t,{date:i(e)})}return""}},"./app/gamma/src/util/sort.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s}));var n=i("./app/gamma/src/types/models.ts");const r=e=>(t,i)=>{if(!t[e]||!i[e])return 0;const n=t[e].toLocaleLowerCase(),r=i[e].toLocaleLowerCase();return n<r?-1:n>r?1:0},a=new Map([[n.d.Green,0],[n.d.Yellow,1],[n.d.Orange,2],[n.d.Red,3],[n.d.Purple,4],[n.d.Blue,5],[n.d.Sky,6],[n.d.Lime,7],[n.d.Pink,8],[n.d.Black,9],[null,999]]),s=({color:e},{color:t})=>{const i=a.get(e)-a.get(t),n=(e||"").toLowerCase().localeCompare(t||"");return a.has(e)&&a.has(t)?i:n}},"./app/scripts/data/copy-board-header-button-teams.js":function(e,t){e.exports=["54b58957112602c9a0be7aa3","54f4ca2e40406f2c50b072a0"]},"./app/scripts/data/directory.js":function(e,t,i){i("./packages/config/index.ts").customFieldsId,i("./app/scripts/data/legacy-power-ups.js");e.exports={categories:["analytics-reporting","automation","board-utilities","communication-collaboration","developer-tools","file-management","hr-operations","it-project-management","marketing-social-media","product-design","sales-support"],atlassianPowerUps:["588a331cc86ffbe08f5d2c67"]}},"./app/scripts/data/dropbox.js":function(e,t){e.exports={DropboxPluginId:"55a5d915446f517774210002",DropboxClaimedHosts:["dropbox.com","www.dropbox.com","paper.dropbox.com"]}},"./app/scripts/init/useSocketSubscription.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i("./app/scripts/init/subscriber.js"),a=i.n(r),s=i("./packages/error-reporting/index.ts");const o=(e,t,i)=>{Object(n.useEffect)((()=>{if(!i){if(t&&((n=t)&&/^[0-9a-fA-F]{24}$/.test(n))){return a()(((e,t)=>{switch(e){case"Member":return{idModel:t,modelType:e,tags:["messages","updates"]};case"Board":return{idModel:t,modelType:e,tags:["clientActions","updates"]};case"Organization":return{idModel:t,modelType:e,tags:["allActions","updates"]};default:throw new Error("Invalid modelType")}})(e,t))}Object(s.sendErrorEvent)(new Error("Cannot setup subscription to model '".concat(e,"' using an empty or invalid id: ").concat(t,".")))}var n;return()=>{}}),[e,t,i])}},"./app/scripts/lib/last-action/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"undoAction",(function(){return T})),i.d(t,"redoAction",(function(){return N})),i.d(t,"repeatAction",(function(){return P}));var n=i("./packages/action-history/index.ts"),r=i("./packages/atlassian-analytics/index.ts"),a=i("./packages/error-reporting/index.ts"),s=i("./app/scripts/db/model-cache.js"),o=i.n(s),l=i("./app/scripts/debug/constants.ts"),c=i("./app/scripts/views/lib/alerts.js"),d=i.n(c),u=i("./packages/dates/index.ts"),p=i("./packages/i18n/index.ts");function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const b=Object(p.forNamespace)("notificationsGrouped",{shouldEscapeStrings:!1});function f({card:e,traceId:t,taskName:i,subTask:n,source:a,field:s}){return Object(r.tracingCallback)({taskName:i,subTask:n,traceId:t,source:a},(()=>{r.Analytics.sendUpdatedCardFieldEvent({field:s,source:a,containers:{card:{id:e.id},board:{id:e.get("idBoard")},list:{id:e.get("idList")}},attributes:{taskId:t}})}))}class v extends Error{constructor(){super("noop"),this.name="NoopError"}}const k=(e,t)=>{const i=o.a.get(e,t);if(!i)throw new v;return i},y={join:(e,t,i)=>{if(e.hasMember(t.idMember))throw new v;const{traceId:n}=i;return e.addMemberWithTracing(t.idMember,n,f(h({card:e},i))),b("notification_joined_card")},leave:(e,t,i)=>{if(!e.hasMember(t.idMember))throw new v;const{traceId:n}=i;return e.removeMemberWithTracing(t.idMember,n,f(h({card:e},i))),b("notification_left_card")},"add-member":(e,t,i)=>{if(e.hasMember(t.idMember))throw new v;const{traceId:n}=i;e.addMemberWithTracing(t.idMember,n,f(h({card:e},i)));const r=k("Member",t.idMember);return b("notification_added_member_to_card",{member:r.get("fullName")})},"remove-member":(e,t,i)=>{if(!e.hasMember(t.idMember))throw new v;const{traceId:n}=i;e.removeMemberWithTracing(t.idMember,n,f(h({card:e},i)));const r=k("Member",t.idMember);return b("notification_removed_member_from_card",{member:r.get("fullName")})},move:(e,t)=>{const i=e.get("idBoard"),n=e.get("idList"),r=k("List",t.idList);let a;var s;return a="top"===t.position?0:"bottom"===t.position?r.openCards().length:t.position+1,e.moveToList(r,a),i!==t.idBoard?b("notification_moved_card_to_board",{list:r.get("name"),board:null===(s=k("Board",t.idBoard))||void 0===s?void 0:s.get("name")}):n===t.idList?b("notification_moved_card_within_list",{list:r.get("name")}):b("notification_moved_card",{list:r.get("name")})},"add-label":(e,t)=>{const i=k("Label",t.idLabel);if(e.hasLabel(i))throw new v;return e.toggleLabel(i,!0),b("notification_added_label_to_card",{label:i.get("name")})},"remove-label":(e,t)=>{const i=k("Label",t.idLabel);if(!e.hasLabel(i))throw new v;return e.toggleLabel(i,!1),b("notification_removed_label_from_card",{label:i.get("name")})},archive:(e,t,i)=>{if(e.get("closed"))throw new v;const{traceId:n}=i;return e.close(n,f(h({card:e},i))),b("notification_archived_card")},unarchive:(e,t,i)=>{if(!e.get("closed"))throw new v;const{traceId:n}=i;return e.reopen(n,f(h({card:e},i))),b("notification_unarchived_card")},"set-due-date":(e,{dueDate:t},i)=>{var n;const r=(null===(n=e.getDueDate())||void 0===n?void 0:n.getTime())||null,a=e.get("dueReminder")||-1;if(r===t.due&&a===t.dueReminder)throw new v;const{traceId:s}=i;if(e.setDueDate(h(h({},t),{},{traceId:s}),f(h({card:e},i))),!t.due)return b("notification_removed_due_date");const o=Object(u.b)(new Date(t.due));return r?t.due===r?b("notification_changed_due_date_reminder"):b("notification_changed_due_date",{date:o}):b("notification_added_a_due_date",{date:o})},rename:(e,t,i)=>{e.recordAction(h(h({},t),{},{previousName:e.get("name")}));const{traceId:n}=i;return e.update({name:t.name,traceId:n},f(h({card:e},i))),b("notification_renamed_card")},"update-description":(e,t,i)=>{e.recordAction(h(h({},t),{},{previousDescription:e.get("desc")}));const{traceId:n}=i;return e.update({desc:t.description,traceId:n},f(h({card:e},i))),b("notification_updated_description_of_card")}},w={join:y.leave,leave:y.join,"add-member":y["remove-member"],"remove-member":y["add-member"],move:(e,t,i,n)=>{const r=k("List",n.idList);return e.moveToList(r,t.fromPosition),t.idBoard!==n.idBoard?b("notification_moved_card_to_board",{list:r.get("name"),board:k("Board",n.idBoard).get("name")}):t.idList===n.idList?b("notification_moved_card_within_list",{list:r.get("name")}):b("notification_moved_card",{list:r.get("name")})},"add-label":y["remove-label"],"remove-label":y["add-label"],archive:y.unarchive,unarchive:y.archive,"set-due-date":(e,t,i,n)=>{var r;const a=h(h({},t),{},{dueDate:t.previousDueDate,previousDueDate:t.dueDate});return null===(r=y["set-due-date"])||void 0===r?void 0:r.call(y,e,a,i,n)},rename:(e,t,i,n)=>{var r;const a=h(h({},t),{},{name:t.previousName,previousName:t.name});return null===(r=y.rename)||void 0===r?void 0:r.call(y,e,a,i,n)},"update-description":(e,t,i,n)=>{var r;const a=h(h({},t),{},{description:t.previousDescription,previousDescription:t.description});return null===(r=y["update-description"])||void 0===r?void 0:r.call(y,e,a,i,n)}},j={join:"joinCardAction",leave:"leaveCardAction","add-member":"addMemberToCardAction","remove-member":"removeMemberFromCardAction",move:"moveCardAction","add-label":"addLabelToCardAction","remove-label":"removeLabelFromCardAction",archive:"archiveCardAction",unarchive:"unarchiveCardAction","set-due-date":"setCardDueDateAction",rename:"renameCardAction","update-description":"updateCardDescriptionAction"};const x=({idBoard:e},{action:t,context:i})=>!e||e===i.idBoard||(e=>"move"===e.type)(t)&&t.idBoard===e,C=({idCard:e},{context:t})=>!e||e===t.idCard,_=["join","leave","add-member","remove-member","move","add-label","remove-label","archive","unarchive","set-due-date","rename"],O=({source:e},{action:t})=>"cardDetailScreen"===e||_.includes(t.type),E={"add-checklist":{taskName:"edit-card",subTask:"checklist",field:"checklist"},"add-label":{taskName:"edit-card",subTask:"idLabels",field:"idLabels"},"add-member":{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},archive:{taskName:"edit-card",subTask:"closed",field:"closed"},delete:{taskName:"delete-card",field:"id"},join:{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},leave:{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},move:{taskName:"edit-card",subTask:"pos",field:"position"},"remove-label":{taskName:"edit-card",subTask:"idLabels",field:"idLabels"},"remove-member":{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},rename:{taskName:"edit-card",subTask:"name",field:"name"},"set-due-date":{taskName:"edit-card",subTask:"due",field:"due"},"update-description":{taskName:"edit-card",subTask:"desc",field:"description"},unarchive:{taskName:"edit-card",subTask:"closed",field:"closed"}};function S({analyticsAction:e,entry:{action:t,context:i},userContext:n,map:s,callback:c}){const u=s[t.type];if(!u)return;let p,m;const h=E[t.type],{taskName:g,subTask:b,field:f}=h,k={traceId:"move"!==t.type?r.Analytics.startTask({taskName:g,subTask:b,source:n.source}):"",taskName:g,subTask:b,field:f,source:n.source};try{if(p=o.a.get("Card","repeated"===e?n.idCard:i.idCard),!p)return;m=u(p,t,k,i),null==c||c()}catch(s){var y,w;if(s instanceof v){const{traceId:e,taskName:t,subTask:i,source:n}=k;return void(e&&r.Analytics.taskAborted({traceId:e,taskName:t,subTask:i,source:n}))}Object(a.sendErrorEvent)(s,{tags:{ownershipArea:"trello-workflowers",feature:l.Feature.UndoAction},extraData:{analyticsAction:e,actionType:t.type,idCard:i.idCard,idBoard:i.idBoard,source:n.source,viewingCard:null!==(y=n.idCard)&&void 0!==y?y:"",viewingBoard:null!==(w=n.idBoard)&&void 0!==w?w:""}});const{traceId:o,taskName:c,subTask:d,source:u}=k;return void(o&&r.Analytics.taskFailed({traceId:o,taskName:c,subTask:d,source:u,error:s}))}m&&d.a.showLiteralText(m,"subtle","lastAction",2e3),function({analyticsAction:e,actionType:t,card:i,source:n}){r.Analytics.sendTrackEvent({action:e,actionSubject:"action",actionSubjectId:j[t],source:n,containers:{board:{id:i.get("idBoard")},card:{id:i.id}}})}({analyticsAction:e,actionType:t.type,card:p,source:n.source})}function T(e){const[t]=n.ActionHistory.get();t&&!Object.prototype.hasOwnProperty.call(t,"count")&&x(e,t)&&C(e,t)&&O(e,t)&&S({analyticsAction:"undone",entry:t,userContext:e,map:w,callback:()=>n.ActionHistory.undo()})}function N(e){const[t]=n.ActionHistory.getUndoStack();t&&x(e,t)&&C(e,t)&&O(e,t)&&S({analyticsAction:"redone",entry:t,userContext:e,map:y,callback:()=>n.ActionHistory.redo()})}function P(e){const[t]=n.ActionHistory.get();t&&!Object.prototype.hasOwnProperty.call(t,"count")&&x(e,t)&&!C(e,t)&&O(e,t)&&S({analyticsAction:"repeated",entry:t,userContext:e,map:y})}},"./app/scripts/lib/limits.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r={maxExceeded:0,disabled:1,warn:2,ok:3};e.exports={filterByKeys:function(e,t){return null==e?[]:t.map((function(t){const[i,r]=Array.from(t.split(".")),a=null!=e[i]?e[i][r]:void 0;if(null!=(null!=a?a.status:void 0))return n.extend({key:t},n.pick(a,"status","count"))})).filter((e=>null!=e))},sort:e=>n.sortBy(e,(e=>r[e.status]))}},"./app/scripts/lib/localize-count.js":function(e,t,i){const n=i("./app/scripts/lib/try-babble.js"),r=i("./node_modules/underscore/underscore.js"),{counting:a}=i("locale");e.exports=function(e,t,i,s){null==i&&(i={}),null==s&&(s={});const o=r.extend({count:String(t)},i);return n(["counts",e,a(t)],o,s)}},"./app/scripts/lib/plugins/plugin-cover-with-defaults.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/lib/plugins/plugin-validators.js");e.exports=function(e){const t={edgeColor:"transparent",height:e.height,size:"contain",padding:"0",position:"center",stickerHeight:e.height,url:e.url};return r.isValidHexColor(e.edgeColor)&&(t.edgeColor=e.edgeColor),"cover"===e.position?t.size="cover":n.isObject(e.position)&&(!0===e.position.padding&&(t.padding="8px",t.stickerHeight+=16),n.contains(["center","left","right"],e.position.align)&&(t.position=e.position.align)),t}},"./app/scripts/lib/recents.js":function(e,t,i){const{TrelloStorage:n}=i("./packages/storage/index.ts"),r=i("./node_modules/underscore/underscore.js");e.exports=new class{_getKey(e){return"recent_".concat(e)}add(e,t){const i=this.get(e),a=r.chain([t,...Array.from(i)]).uniq().first(10).value();return n.set(this._getKey(e),a)}get(e,t){let i;return null==t&&(t=10),r.chain(null!=(i=n.get(this._getKey(e)))?i:[]).compact().first(t).value()}}},"./app/scripts/lib/util/array/count-while.js":function(e,t){e.exports=function(...e){const t=Math.max(e.length,1),i=e.slice(0,t-1),n=e[t-1],[r,...a]=Array.from(i);if(null==r)return 0;if(a.length>0)for(let e=0;e<r.length;e++){const t=r[e];for(const i of Array.from(a))if(i.length<=e||!n(t,i[e]))return e}return r.length}},"./app/scripts/lib/util/decaying-interval.js":function(e,t,i){const n=i("./app/scripts/lib/util/index.js"),r={resetAfterMouseMove:!0,intervals:[{iterations:6,timeout:n.getMs({seconds:10})},{iterations:10,timeout:n.getMs({minutes:1})}]};e.exports=function(e,t){null==t&&(t=r);let i=null,n=null,a=!1;const s=function(){clearTimeout(n),a&&(document.removeEventListener("mousemove",c),a=!1)},o=function(){t.resetAfterMouseMove&&!a&&(document.addEventListener("mousemove",c),a=!0)},l=function(){if(i.length){const r=i.shift();n=setTimeout((function(){return e(),requestAnimationFrame(l)}),r),r>t.intervals[0].timeout&&o()}else o()},c=function(){s(),i=[];for(const{iterations:e,timeout:n}of Array.from(t.intervals))for(let t=0,r=e,a=0<=r;a?t<r:t>r;a?t++:t--)i.push(n);l()};return c(),s}},"./app/scripts/lib/util/event/custom-event.js":function(e,t){e.exports=(()=>{try{return new window.CustomEvent("testEvent"),window.CustomEvent}catch(e){const t=function(e,t){null==t&&(t={bubbles:!1,cancelable:!1,detail:void 0});const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i};return t.prototype=window.Event.prototype,t}})()},"./app/scripts/lib/util/event/trigger-list.js":function(e,t,i){const n=i("./app/scripts/lib/util/event/custom-event.js");e.exports=function(e,t,i){const r=new n(t,{bubbles:!1,cancelable:!1,detail:null!=i.detail?i.detail:void 0});let a=!1;r.stopPropagation=function(){return a=!0,n.prototype.stopPropagation.apply(this,arguments)};for(const t of Array.from(e))a||t.dispatchEvent(r)}},"./app/scripts/lib/util/event/trigger.js":function(e,t,i){const n=i("./app/scripts/lib/util/event/custom-event.js");e.exports=function(e,t,i){null==i&&(i={});const r=new n(t,{bubbles:null==i.bubbles||i.bubbles,cancelable:null!=i.cancelable&&i.cancelable,detail:null!=i.detail?i.detail:void 0});return e.dispatchEvent(r)}},"./app/scripts/lib/util/markdown-tracker.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"markdownTracker",(function(){return c}));var n=i("./app/scripts/lib/markdown/tfm.js"),r=i.n(n),a=i("./packages/atlassian-analytics/index.ts"),s=i("./packages/error-reporting/index.ts"),o=i("./app/scripts/debug/constants.ts");const{featureFlagClient:l}=i("./packages/feature-flag-client/index.ts"),c=(e,t)=>{try{if(l.get("growth.trello-markdown-tracking",!1)){const i={description:r.a.description,checkItems:r.a.checkItems,comments:r.a.comments},n=Date.now();if(Object.hasOwnProperty.call(i,t)){const n=i[t].analyze(null!=e?e:"")||[],r={},s=n.filter((e=>{const{rule:t}=e;return"paragraph"!==t&&"text"!==t}));s.length>0&&(s.forEach((e=>{const{rule:t}=e;Object.hasOwnProperty.call(r,t)||(r[t]=0),r[t]=r[t]+1})),a.Analytics.sendOperationalEvent({action:"updated",actionSubject:"trackMarkdown",source:"lib:markdownTracker",attributes:{markdownTypeCount:r,markdownLocation:t}}))}const s=Date.now();a.Analytics.sendOperationalEvent({action:"completed",actionSubject:"trackMarkdown",source:"lib:markdownTracker",attributes:{totalProcessTimeInMs:s-n}})}}catch(e){Object(s.sendErrorEvent)(e,{tags:{ownershipArea:"trello-workflowers",feature:o.Feature.MarkdownTracker}})}}},"./app/scripts/lib/util/naive-should-component-update.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/lib/util/is-plain-object.js"),a=i("./node_modules/react/index.js");e.exports=function(e,t){return!(s(e,this.props)&&s(t,this.state))};const s=function(e,t){if(r(e)&&r(t)){if(n.keys(e).length!==n.keys(t).length)return!1;for(const i in e)if(!s(e[i],t[i]))return!1}else if(a.isValidElement(e)&&a.isValidElement(t)){if(!s([e.props,e.state],[t.props,t.state]))return!1}else if(n.isArray(e)&&n.isArray(t)){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!s(e[i],t[i]))return!1}else{if(n.isFunction(e)&&n.isFunction(t))return!0;if(e!==t)return!1}return!0}},"./app/scripts/lib/util/removeAllRanges.js":function(e,t){e.exports=function(){if(window.getSelection){if(window.getSelection().empty)return window.getSelection().empty();if(window.getSelection().removeAllRanges)return window.getSelection().removeAllRanges()}else if(document.selection)return document.selection.empty()}},"./app/scripts/lib/util/selection/has-selection.js":function(e,t){e.exports=()=>{return e="function"==typeof window.getSelection?window.getSelection():void 0,t=e=>e.toString(),(null!=e?t(e):void 0)||(null!=document.selection?document.selection.createRange().text:void 0);var e,t}},"./app/scripts/lib/util/text/html-encode.js":function(e,t){e.exports=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;")},"./app/scripts/lib/util/text/links-from-markdown.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js");e.exports=function(e,t){let i=[];for(const n of Array.from(t.blockLex(e,{})))null!=n.children&&(i=[...Array.from(i),...Array.from(t.inlineLex(n.children.text))]);return n.chain(i).filter((e=>"link"===e.type)).map((function(i){return null!=(e=null!=i.children?i.children.text:void 0)?{url:i.url,text:t.textInline(null!=i.children?i.children.text:void 0)}:{url:i.url}})).value()}},"./app/scripts/lib/util/text/search-filter.js":function(e,t){e.exports=e=>{const t=e.toLowerCase().split(/[\s,]+/),i=t.map(((e,i)=>0===e.length?e=>!0:i===t.length-1?t=>0===t.toLowerCase().indexOf(e):t=>t.toLowerCase()===e));return e=>{Array.isArray(e)&&(e=e.join(" "));const t=e.toLowerCase().split(/\s+/);return i.every((e=>t.some((t=>e(t)))))}}},"./app/scripts/lib/util/url/contains-valid-url.js":function(e,t){e.exports=e=>new RegExp("(https?|ftp):\\/\\/(([a-z0-9$_\\.\\+!\\*\\'\\(\\),;\\?&=-]|%[0-9a-f]{2})+(:([a-z0-9$_\\.\\+!\\*\\'\\(\\),;\\?&=-]|%[0-9a-f]{2})+)?@)?((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*[a-z][a-z0-9-]*[a-z0-9]|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5]))(:\\d+)?)(((\\/+([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)*(\\?([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)?)?)?(\\#([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)?").test(null!=e?e.toLowerCase():void 0)},"./app/scripts/views/action/action-list-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{ActionView:r}=i("./app/scripts/views/action/action-view.js"),a=i("./app/scripts/views/action/comment-action-view.js"),s=i("./app/scripts/lib/dates.js"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./node_modules/underscore/underscore.js"),d=i("./node_modules/moment/moment.js"),{featureFlagClient:u}=i("./packages/feature-flag-client/index.ts");e.exports=class extends l{initialize({renderOpts:e,highlight:t}){return this.renderOpts=e,this.highlight=t,this.makeDebouncedMethods("render"),this.listenTo(this.collection,"add reset",this.renderDebounced),this.listenTo(this.collection,"remove",(()=>(this.removeActionViews(),this.renderDebounced()))),this.actionViews=[],this.showDetails=!0}render(){return this.collection._getRelatedBoards().then((()=>{const e=""===this.$el.html()||this.showDetails!==this._lastShowDetails||this.missingViews();this._lastShowDetails=this.showDetails,this.rerender(e,!0)})).then((()=>{this.trigger("render")})).done()}missingViews(){return c.any(this.actionViews,(e=>!n.contains(this.el,e.el)))}sortActions(e){return c.sortBy(e,(e=>s.parse(e.get("date")))).reverse()}rerender(e,t){const[i,n]=Array.from(this.saveEdits());let r=this.collection.models;u.get("nusku.filter-deleted-actions",!1)&&(r=r.filter((e=>void 0!==e.attributes&&(!e.id||void 0!==this.modelCache.get("Action",e.id))))),r=this.sortActions(r),this.showDetails||(r=c.filter(r,(e=>e.isCommentLike())));const a=y(r).slice(0,this.renderOpts.limit);e&&t&&this.removeActionViews(),this.$(".js-board-member-profile-no-activity").toggleClass("hide",a.length>0);for(let t=0;t<a.length;t++){const r=a[t];if(e||this.actionNeedsRerender(r,t)){const s=this.rerenderAction(r,t,a,{rerenderAll:e});this.restoreEdits(i,n,s)}}}setShowDetails(e){return this.showDetails=e}saveEdits(){const e=[];let t=0;return this.$(".editing textarea").each((function(){const i=n(this);e.push(i.val()),i.is(":focus")&&(i.parents(".editing").addClass("focused"),t=o.getCaretPosition(i))})),null!=e&&e.reverse(),[e,t]}restoreEdits(e,t,i){if(i.$el.hasClass("editing")){i.$("textarea").val(e.pop());const n=o.getElem(i.$("textarea"));return i.$el.hasClass("focused")&&o.setCaretPosition(n,t),i.openEditView()}}_viewForAction(e){return/^comment/.test(e.get("type"))?this.subview(a,e,this.renderOpts):this.subview(r,e,this.renderOpts)}rerenderAction(e,t,i,n){const r=this._viewForAction(e),a=this.highlight&&this.highlight===e.id;return r.setHighlighted(a),n.rerenderAll?(this.appendSubview(r),this.actionViews.push(r)):(this.insertActionView(r,t),1===this.actionViews.length&&1===i.length?(this.actionViews[t].remove(),this.actionViews.splice(t,1,r)):null==this.actionViews[t+1]?this.actionViews.splice(t,1,r):i.length<=this.actionViews.length?this.actionViews[t+1].model.id===w(c.first(i[t+1]),(e=>e.id))?(this.actionViews[t].remove(),this.actionViews.splice(t,1,r)):(this.actionViews.splice(t,0,r),w(this.actionViews[this.actionViews.length-1],(e=>e.remove())),this.actionViews=this.actionViews.splice(0,this.actionViews.length-1)):this.actionViews.splice(t,0,r)),r}actionNeedsRerender(e,t){const i=null!=e.id?"id":"cid";w(w(this.actionViews[t+1],(e=>e.model)),(e=>e[i]))===e[i]&&(this.actionViews[t].remove(),this.actionViews.splice(t,1));const n=this.actionViews[t];return!n||e[i]!==n.model[i]}insertActionView(e,t){return this.actionViews[t]?(e.delegateEvents(),e.render().$el.insertBefore(this.actionViews[t].el)):this.appendSubview(e)}removeActionViews(){this.removeSubviews(),this.actionViews=[]}delegateEvents(){super.delegateEvents(...arguments);for(const e of Array.from(this.actionViews))e.delegateEvents()}undelegateEvents(){super.undelegateEvents(...arguments);for(const e of Array.from(this.actionViews))e.undelegateEvents()}remove(){return this.removeActionViews(),super.remove(...arguments)}setHighlight(e){let t,i,n;e!==this.highlight&&(this.highlight&&null!=(i=this.collection.get(this.highlight))&&(n=this._viewForAction(i),n.setHighlighted(!1)),this.highlight=e,this.highlight&&(t=this.collection.get(this.highlight))&&(n=this._viewForAction(t),n.setHighlighted(!0)))}};const p=e=>t=>function(i,n){return e in i&&e in n&&i[e].id===n[e].id?t(i,n):[!1,!1]},m=p("card"),h=p("board"),g=e=>[e,e],b=function(e,t){if(null==t)return!1;if(0===e.length)return!0;const[i,...n]=Array.from(e);return b(n,t[i])},f=(e,...t)=>c.all(t,(t=>b(e,t))),v=[{a:"removeMemberFromCard",b:"addMemberToCard",cancel:m(((e,t)=>g(e.idMember===t.idMember)))},{a:"deleteAttachmentFromCard",b:"addAttachmentToCard",cancel:m(((e,t)=>g(e.attachment.id===t.attachment.id)))},{a:"updateCheckItemStateOnCard",b:"updateCheckItemStateOnCard",cancel:m(((e,t)=>g(e.checkItem.id===t.checkItem.id)))},{a:"updateCard",b:"updateCard",cancel:m(((e,t)=>g("listAfter"in e&&"listBefore"in t&&e.listAfter.id===t.listBefore.id)))},{a:"addChecklistToCard",b:"removeChecklistFromCard",cancel:m(((e,t)=>g(e.checklist.id===t.checklist.id)))},{a:"updateBoard",b:"updateBoard",cancel:h(((e,t)=>[f(["board","prefs","background"],e,t),!1]))}],k=(e,t)=>v.reduce((function(i,n){return e.type!==n.a||t.type!==n.b?i:function(...e){const[t,i]=Array.from(e[0]),[n,r]=Array.from(e[1]);return[t||n,i||r]}(i,n.cancel(e,t))}),[!1,!1]),y=function(e){if(1===e.length)return e;const t={},i=e.slice(0,-1);for(let n=0;n<i.length;n++){const r=i[n].toJSON(),a=e[n+1].toJSON();if(c.extend(r,r.data),c.extend(a,a.data),r.idMemberCreator===a.idMemberCreator&&d(r.date).diff(a.date,"minutes")<5&&!t[r.id]&&!t[a.id]){const[e,i]=Array.from(k(r,a));e&&(t[r.id]=!0),i&&(t[a.id]=!0)}}return c.reject(e,(e=>t[e.id]))};function w(e,t){return null!=e?t(e):void 0}},"./app/scripts/views/action/action-view.js":function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s=i("./packages/jquery/index.js"),o=i("./app/scripts/views/member-menu-profile/activity-member-menu-view.js"),{siteDomain:l}=i("./packages/config/index.ts"),c=i("./app/scripts/views/attachment/helpers.js"),d=i("./app/scripts/views/internal/attachment-viewer.js"),u=i("./app/scripts/db/auth.js"),p=i("./app/scripts/views/internal/board-display-helpers.js"),m=i("./packages/browser/index.ts"),h=i("./app/scripts/controller/index.js"),g=i("./app/scripts/lib/dates.js"),b=i("./app/scripts/lib/entity-display.js"),f=i("./app/scripts/lib/util/selection/has-selection.js"),v=i("./app/scripts/db/known-services.js"),k=i("./app/scripts/db/model-cache.js"),y=i("./app/scripts/views/lib/pop-over.js"),w=i("./node_modules/react/index.js"),j=i("./packages/react-dom-wrapper/index.ts"),x=i("./app/scripts/views/reactions/reaction-piles.js"),C=i("./app/scripts/lib/markdown/tfm.js"),_=i("./app/scripts/lib/util/index.js"),O=i("./app/scripts/views/internal/view.js"),E=i("./node_modules/underscore/underscore.js"),S=i("./app/scripts/views/internal/friendly-links.js"),T=i("./app/scripts/debug/log.js"),N=i("./node_modules/moment/moment.js"),P=i("./app/scripts/views/internal/templates.js"),{Analytics:I}=i("./packages/atlassian-analytics/index.ts"),{track:B,trackUe:D}=i("./packages/analytics/index.ts"),A=i("./app/scripts/lib/localize.js"),L=i("./app/scripts/views/templates/action.js"),F=i("./node_modules/bluebird/js/browser/bluebird.js"),M=i("./app/scripts/views/internal/plugins/plugin-runner.js"),V=i("./app/scripts/views/templates/comment-unfurl-preview.js"),R=i("./app/scripts/lib/plugins/plugin-validators.js"),{featureFlagClient:z}=i("./packages/feature-flag-client/index.ts"),{navigate:U}=i("./app/scripts/controller/navigate.js"),H=i("./node_modules/url-parse/index.js"),W={"click .js-show-mem-menu":"viewMemberActionMenu","click .js-open-attachment-viewer":"openAttachmentViewer","click .js-open-card":"openCard","click .js-reply-to-action":"reply","click .js-reply-to-all-action":"replyAll","click .js-expand-comment":"expandComment","click .js-app-creator-link":"onAppCreatorLinkClicked","click a":"checkAttachment"};class q extends O{static initClass(){this.prototype.className="phenom",this.prototype.events=W}initialize({context:e,highlighted:t,source:i}){let n;this.context=e,this.highlighted=t,this.source=i,this.listenTo(this.model,"takingTooLong change",this.render);const r=this.model.get("data");if(null!=(null!=r.card?r.card.id:void 0)&&r.board){let e;this.listenTo(this.modelCache,"remove:Action:".concat(this.model.get("id")),(()=>this.remove())),null!=(e=this.model.getCard())&&e.id!==this.context.id&&this.listenTo(e,"change:name",this.render)}null!=(n=this.model.getChecklist())&&this.listenTo(n,"change:name",this.render),this.listenTo(this.model.reactionList,"add remove reset",this.renderReactions),this.linkCardFlagEnabled=z.get("wildcard.link-cards",!1)}getData(){const e=new b("action").getEntities(this.model.getDisplay(),this.context.id);return{saved:null!=this.model.id,entities:E.map(e,this._withEntityInfo.bind(this)),date:this.model.get("date"),dateLastEdited:this.model.get("data").dateLastEdited,textData:this.model.get("data").textData,url:null!=this.model.getCard()?h.getActionUrl(this.model):null,appCreator:this.model.getAppCreator()}}getTrackingContext(){const{card:e,list:t,board:i}=this.model.get("data"),n="Card"===this.context.typeName?"card detail":"board sidebar";return E.extend({},{actionId:this.model.id,cardId:null!=e?e.id:void 0,listId:null!=t?t.id:void 0,boardId:null!=i?i.id:void 0},{category:n})}trackWithData(e,t,i,n,r){const{category:a}=this.getTrackingContext(),s=JSON.stringify(E.omit(this.getTrackingContext(),"category"));return D(a,e,t,i,n,r,s)}getContext(){const e={},t=u.me(),i=this.modelCache.get("Board",$($(this.model.get("data"),(e=>e.board)),(e=>e.id)));if(this.options.showBoard&&null!=i&&(e.board=i.toJSON({prefs:!0,url:!0}),e.boardPLevelIconClass=p.getPermLevelIconClassForBoard(i),e.boardPLevelAltText=p.getPermLevelAltTextForBoard(i)),this.options.showOrganization){const t=this.modelCache.get("Organization",$($(this.model.get("data"),(e=>e.organization)),(e=>e.id)));null!=t&&(e.organization=t.toJSON({prefs:!0,url:!0}),e.orgPLevelIconClass=t.getPermLevel(),e.orgPLevelAltText=A(["org perms",t.getPermLevel(),"text"]))}const n=this.modelCache.get("Member",this.model.get("idMemberCreator"));return e.canReply=(null!=i?i.canComment(t):void 0)&&(this.model.isAddAttachment()||this.model.isCommentLike()&&null!=n&&!u.isMe(n)),e.canReplyAll=e.canReply&&new RegExp(/@([a-z0-9_]+)/).test(this.model.get("data").text),e.canDelete=this.model.deletable(),e.canEdit=this.model.editable(),e.member=null!=n?n.toJSON():void 0,null!=e.member&&(e.member.url=h.getMemberProfileUrl(e.member.id)),null!=e.member&&(e.member.isDeactivated=null!=i?i.isDeactivated(e.member):void 0),e.showReactions="Card"===this.context.typeName&&"commentCard"===this.model.get("type"),e.canReact=this.model.canReact(),e.showInlineReactionButton=e.showReactions&&!this.model.reactionList.length,e.canLinkAppCreator="memberActivityScreen"!==this.source,e}getOptions(){let e;return{showCompactAttachmentPreview:this.options.compact,truncateComment:null!=(e="function"==typeof this.options.truncateComments?this.options.truncateComments(this.model):void 0)&&e,showOptions:!this.model.isPlaceholder()&&!this.options.compact&&!this.options.readOnly,useEmbedly:!this.options.compact&&this.model.isCommentLike(),usePreviews:!this.options.compact&&this.model.isAddAttachment(),useCommentUnfurl:null!=this.options.compact&&!this.options.compact&&this.model.isCommentLike(),extremeTruncation:this.options.extremeTruncation}}render(){var e,t,n,a,o,l,c,d,u,p;let m,h;const b=this.getData(),f=this.getOptions(),k=this.getContext(),y=this.source,w=this.model.isCommentLike();T("actions",b),this.$el.addClass(w?"mod-comment-type":"mod-attachment-type"),this.$el.html(L(b,k,f));const j=r(r({},null!==(e=null===(t=this.model)||void 0===t||null===(n=t.getCard)||void 0===n||null===(a=n.call(t))||void 0===a||null===(o=a.getAnalyticsContainers)||void 0===o?void 0:o.call(a))&&void 0!==e?e:{}),null!==(l=null===(c=this.model)||void 0===c||null===(d=c.getBoard)||void 0===d||null===(u=d.call(c))||void 0===u||null===(p=u.getAnalyticsContainers)||void 0===p?void 0:p.call(u))&&void 0!==l?l:{});if(null!=(m=this.model.getBoard())){this.$(".js-friendly-links").each((function(){return S(this,m,{publicLinksVariation:"beta",analyticsContext:{source:y,containers:j,attributes:{fromSection:w?"comment":"attachment"}}})})),this.linkCardFlagEnabled&&this.$(".js-friendly-links-for-link-card").each((function(){return S(this,m,{publicLinksVariation:"beta",analyticsContext:{source:y,containers:j,attributes:{fromSection:w?"comment":"attachment"}}})}));z.get("ecosystem.comment-link-unfurl-preview",!1)&&f.useCommentUnfurl&&this.$(".js-friendly-links").each((()=>this.renderCommentPreviews(this,m)))}if(f.useEmbedly){const e=this.$(".js-embedly");for(const t of Array.from(b.entities))if("comment"===t.type&&null!=t.embedly)try{const n=JSON.parse(t.embedly);for(h in n){const t=n[h];/wistia/i.test(h)||(t["type_".concat(t.type)]=!0,t.requireHttps=!0,e.show().append(P.fill(i("./app/scripts/views/templates/embedly.js"),t)))}}catch(e){}}if(f.usePreviews){const e=E.filter(b.entities,(e=>"attachment"===e.type));if(!E.isEmpty(e)){const t=this.$(".js-previews");v.previewHtml(e[0].url,(function(e,i){if(t.empty(),null!=e){if(null!=e.login)return s("<div>").addClass("attachment-extra-info-login").html(e.login).appendTo(t),t.removeClass("hide")}else if(null!=i)return s("<div>").addClass("attachment-extra-info").html(i).appendTo(t),t.removeClass("hide")}))}}return g.update(this.el),this.$el.toggleClass("unsent",!!this.model.isTakingTooLong),this.renderHighlighted(),this.renderReactions(),this}renderHighlighted(){return this.$el.toggleClass("mod-highlighted",!!this.highlighted),this}renderReactions(){const e=this.getContext();if(this.reactRoot=this.$(".js-reaction-piles")[0])return j.render(w.createElement(x,{actionId:this.model.id,reactionList:this.model.reactionList,canReact:e.canReact,trackingContext:this.getTrackingContext()}),this.reactRoot)}renderCommentPreviews(e,t){const i=E.flatten(this.$(".js-friendly-links").toArray().map((function(e){return null!=e.tagName==="A"?[e]:E.toArray(e.querySelectorAll("a"))}))).map((e=>e.href)).filter((e=>null!=e));return F.map(i,(e=>F.try((()=>M.one({command:"format-url",board:t,options:{url:e}}))).then((function(t){return null!=t?E.extend(t,{url:e}):null})).catch(M.Error.NotHandled,(()=>null)))).then((e=>{if(null!=e&&e.length>0){const t=e.filter(R.isValidUrlUnfurl).map((e=>($(null!=e?e.actions:void 0,(e=>e.length))>2&&(e.actions=e.actions.slice(0,2)),this.subview(V,this.model,{commentUnfurl:e},e.url)))),i=this.$(".comment-preview");return this.ensureSubviews(t,i),i.show()}}))}remove(){return this.reactRoot&&j.unmountComponentAtNode(this.reactRoot),super.remove(...arguments)}_tfmFormatOpts(){return this.model.get("data").card,this.model.get("data").board,{textData:this.model.get("data").textData}}_withEntityInfo(e){let t,i;const n=E.clone(e);if("attachment"===n.type&&(n.url=this.model.get("data").attachment.url,!n.url&&n.isFriendly&&(n.url=n.text)),"attachmentPreview"===n.type){let e,i,r;n.previewUrlForRes=null!=(t=k.get("Card",$(this.model.get("data").card,(e=>e.id))))&&(e=t.attachmentList.get($(this.model.get("data").attachment,(e=>e.id))))?m.isHighDPI()?$(null!=(i=e.smallestPreviewBiggerThan(1e3))?i:e.biggestPreview(),(e=>e.url)):$(null!=(r=e.smallestPreviewBiggerThan(500))?r:e.biggestPreview(),(e=>e.url)):void 0,null==n.previewUrlForRes&&(n.previewUrlForRes=m.isHighDPI()&&null!=n.previewUrl2x?n.previewUrl2x:n.previewUrl)}return"comment"===n.type&&(n.textHtml=C.comments.format(n.text,this._tfmFormatOpts()).output),"checkItem"===n.type&&(n.nameHtml=C.checkItems.format(n.text,this._tfmFormatOpts()).output),"date"===n.type&&(n.text=N(n.date).calendar()),"card"===n.type&&null!=(t=k.get("Card",n.id))&&("link"===t.get("cardRole")&&this.linkCardFlagEnabled?n.nameHtml=C.name.format(t.get("name"),this._tfmFormatOpts()).output:n.text=t.get("name")),"checklist"===n.type&&null!=(i=k.get("Checklist",n.id))&&(n.text=i.get("name")),n}viewMemberActionMenu(e){let t;_.stop(e);const i=this.modelCache.get("Member",null!=(t=s(e.target).closest("[idmember]").attr("idmember"))?t:this.model.get("idMemberCreator"));y.toggle({elem:this.$(e.target).closest(".js-show-mem-menu"),view:o,options:{model:i,modelCache:this.modelCache,board:this.modelCache.get("Board",$($(this.model.get("data"),(e=>e.board)),(e=>e.id)))}})}expandComment(e){return _.stop(e),this.$(".js-comment").removeClass("is-truncated")}openCard(e){let t;"Card"===this.context.typeName||s(e.target).is("a,textarea")||f()||(_.stop(e),null!=(t=h.getActionUrl(this.model))&&U(t,{trigger:!0}))}openAttachmentViewer(e){if(e.metaKey||e.ctrlKey)return;const t=s(e.target);if(t.closest(".window-main-col").length>0&&(_.stop(e),!d.isActive())){const e=t.closest(".js-open-attachment-viewer").attr("data-idattachment");d.show({model:this.model.getCard(),idAttachment:e})}}reply(e){return _.stop(e),this.$el.trigger("replyToAction",this.model),B("Card","Reply to Comment")}replyAll(e){return _.stop(e),this.$el.trigger("replyToAllAction",this.model),B("Card","Reply to all Comment")}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.renderHighlighted())}checkAttachment(e){var t;if(e.metaKey||e.ctrlKey)return;const i=this.model.getCard(),{href:n}=e.currentTarget,r=H(n).pathname,a=null==i||null===(t=i.attachmentList)||void 0===t?void 0:t.find((e=>H(e.get("url")).pathname===r));return a&&c.isViewerable(a.get("url"))?(e.preventDefault(),d.show({model:i,idAttachment:a.id})):void 0}onAppCreatorLinkClicked(e){_.stop(e);const t=this.model.getBoard();if(!t)return;const i=this.model.getAppCreator();if(I.sendClickedLinkEvent({linkName:"appCreatorLink",source:this.source,attributes:{appCreatorId:null==i?void 0:i.id,appCreatorIdPlugin:null==i?void 0:i.idPlugin,actionType:this.model.get("type")},containers:{card:{id:this.model.id},board:{id:t.id}}}),null!=i&&i.idPlugin){const n=u.myId();(t.get("memberships")||[]).some((({idMember:e})=>e===n))?M.one({plugin:i.idPlugin,command:"show-settings",board:t,el:e.currentTarget}):window.open("/power-ups/"+i.idPlugin)}}}function $(e,t){return null!=e?t(e):void 0}q.initClass(),e.exports.events=W,e.exports.ActionView=q},"./app/scripts/views/action/comment-action-view.js":function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s=i("./packages/jquery/index.js"),{ActionView:o,events:l}=i("./app/scripts/views/action/action-view.js"),{Analytics:c,tracingCallback:d}=i("./packages/atlassian-analytics/index.ts"),u=i("./app/scripts/views/internal/autocomplete/auto-insertion-view.js"),p=i("./app/scripts/views/card/attach-links-view.js"),m=i("./app/scripts/views/internal/autocomplete/completer-util.js"),h=i("./app/scripts/views/lib/confirm.js"),{getKey:g,isForceSubmitEvent:b,Key:f}=i("./packages/keybindings/index.ts"),v=i("./app/scripts/views/lib/layout.js"),k=i("./app/scripts/views/lib/pop-over.js"),{TrelloStorage:y}=i("./packages/storage/index.ts"),w=i("./app/scripts/lib/markdown/tfm.js"),j=i("./app/scripts/lib/util/index.js"),x=i("./node_modules/underscore/underscore.js"),C=i("./node_modules/effing/lib/index.js"),_=i("./app/scripts/lib/util/text/links-from-markdown.js"),{track:O}=i("./packages/analytics/index.ts"),E=i("./app/scripts/views/internal/disable-submit-if-length-too-long.js"),{applyMarkdownShortcuts:S}=i("./app/scripts/views/lib/markdown-transform.ts"),{markdownTracker:T}=i("./app/scripts/lib/util/markdown-tracker.ts");class N extends o{static initClass(){this.prototype.events=r(r({},l),{},{"click .js-confirm-delete-action":"confirmDeleteAction","click .js-edit-action":"editAction","click .js-discard-comment-edits":"cancelEdit","click .js-save-edit":"saveEdit","keyup .js-text":"keyAutoMention","keydown .js-text":"keydownJsText","input .js-text":"checkLength","mutated .js-text":"mutatedEvent","click .js-comment-add-attachment":"commentAddAttachment","click .js-comment-mention-member":"commentMentionMember","click .js-comment-add-emoji":"commentAddEmoji","click .js-comment-add-card":"commentAddCard","click .js-attach-link":"attachLink"})}initialize(){return super.initialize(...arguments),s(window).on("beforeunload.CommentActionView-".concat(this.model.cid),C(this,"saveDraft"))}remove(){this.saveDraft(),s(window).off(".CommentActionView-".concat(this.model.cid)),super.remove(...arguments)}mutatedEvent(e){this.checkLength(e),this.getTextInput().trigger("autosize.resize")}potentialAttachments(){const e=this.model.getCard();return x.filter(_(this.model.get("data").text,w.comments),(function({url:t}){return!e.attachmentUrlRestricted(t)&&!e.attachmentList.any((e=>e.get("url")===t))}))}getContext(){const e=super.getContext(...arguments),t=this.model.getCard();return e.canAttachLink=null!=t&&t.editable()&&this.potentialAttachments().length>0,e}confirmDeleteAction(e){j.stop(e),h.toggle("delete comment",{elem:s(e.target).closest(".js-confirm-delete-action")[0],model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:()=>{const e=c.startTask({taskName:"delete-comment",source:"cardDetailScreen"});return O("Card","Delete Comment"),this.model.destroyWithTracing({traceId:e},d({taskName:"delete-comment",traceId:e,source:"cardDetailScreen"},(t=>{t||c.sendTrackEvent({action:"deleted",actionSubject:"comment",source:"cardDetailScreen",attributes:{taskId:e}})})))}})}getTextInput(){return this.$(".js-text")}getMentionTarget(){return this.$(".js-comment-mention-member:visible")[0]}getEmojiTarget(){return this.$(".js-comment-add-emoji:visible")[0]}editAction(e){if(j.stop(e),!this.$el.hasClass("is-editing"))return this.$el.addClass("is-editing"),this.$("textarea").focus().select(),this.openEditView()}openEditView(){this.$(".js-text").attr("placeholder","").autosize({append:!1})}keydownJsText(e){return S(e),b(e)?this.saveEdit(e):g(e)===f.Escape?(j.stop(e),this.cancelEdit()):this.checkInsert(e)}saveEdit(e){if("keypress"===e.type&&!b(e)&&(g(e)!==f.Enter||s(e.target).is("textarea")&&!s(e.currentTarget).hasClass("single-line")))return;const t=c.startTask({taskName:"edit-comment",source:"cardDetailScreen"});j.stop(e);const i=this.$(".js-text").val();this.$(".js-spinner").show(),this.$(".js-hide-on-sending").hide(),this.$(".current-comment").text(i),v.cancelEdit(this.$el),this.discardDraft(),this.model.get("display").entities.comment.text=i;const n={text:i,traceId:t};this.model.update(n,d({taskName:"edit-comment",source:"cardDetailScreen",traceId:t},((e,i)=>{var n,r,a,s,o,l;!e&&i&&c.sendTrackEvent({action:"updated",actionSubject:"comment",source:"cardDetailScreen",containers:{card:{id:null===(n=i.data)||void 0===n||null===(r=n.card)||void 0===r?void 0:r.id},board:{id:null===(a=i.data)||void 0===a||null===(s=a.board)||void 0===s?void 0:s.id},list:{id:null===(o=i.data)||void 0===o||null===(l=o.list)||void 0===l?void 0:l.id}},attributes:{taskId:t}})}))),this.$(".js-text").trigger("autosize.destroy"),k.hide(),T(i,"comments"),O("Card","Edit Comment")}showError(e){}cancelEdit(){const e=this.model.get("data").text;this.$(".js-text").val(e),v.cancelEdit(this.$el),this.discardDraft(),this.$(".js-text").trigger("autosize.destroy")}getCard(){return this.model.getCard()}attachLink(e){j.stop(e),O("Card","Open Attach Links View");const t=this.potentialAttachments();return k.toggle({elem:s(e.currentTarget),view:new p({model:this.getCard(),modelCache:this.modelCache,links:t})})}render(){return super.render(...arguments),this.recallDraft(),this}_draftKey(){return"draft_".concat(this.model.id,"_edit")}recallDraft(){const e=y.get(this._draftKey());if(e)return this.getTextInput().val(e),this.$el.find(".edits-warning").show()}saveDraft(){if(this.$el.hasClass("is-editing")){const e=this.getTextInput().val();e&&e!==this.model.get("data").text?(y.set(this._draftKey(),e),this.$el.find(".edits-warning").show()):this.discardDraft()}}discardDraft(){return y.unset(this._draftKey()),this.$el.find(".edits-warning").hide()}}N.initClass(),x.extend(N.prototype,u,m,E),e.exports=N},"./app/scripts/views/board-create/photo-attribution-component.js":function(e,t,i){const n=i("./node_modules/react/index.js"),r=i("./app/scripts/views/internal/recup-with-helpers.js")(),{unsplashClient:a}=i("./packages/unsplash/index.ts");class s extends n.Component{static initClass(){this.prototype.displayName="PhotoAttributionComponent",this.prototype.render=r.renderable((function(){const{user:e,size:t}=this.props,i=e.name,n=[".photo-attribution-component"];return null!=t&&n.push(".".concat(t)),r.div(n.join(""),(()=>r.a({class:"photo-attribution-component-attribution-link",href:a.appendAttribution(e.links.html),target:"_blank",title:i,onClick:e=>e.stopPropagation()},(()=>r.text(i)))))}))}}s.initClass(),e.exports=s},"./app/scripts/views/board-menu/board-add-to-organization-view.js":function(e,t,i){let n;const r=i("./app/scripts/views/board-menu/board-select-organization-view.js");e.exports=(n=class extends r{static initClass(){this.prototype.viewTitleKey="add to a team"}getTemplateData(){const e=super.getTemplateData();return e.addToTeam=!0,e}},n.initClass(),n=n)},"./app/scripts/views/board-menu/board-add-to-team-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/db/auth.js"),a=i("./app/scripts/controller/index.js"),s=i("./app/scripts/lib/localize-count.js"),{logoDomain:o}=i("./packages/config/index.ts"),l=i("./app/scripts/db/model-loader.js"),c=i("./node_modules/bluebird/js/browser/bluebird.js"),d=i("./app/scripts/lib/util/index.js"),u=i("./app/scripts/views/internal/view.js"),p=i("./app/scripts/lib/localize.js"),m=i("./app/scripts/views/internal/teacup-with-helpers.js")("board_power_ups"),{track:h}=i("./packages/analytics/index.ts"),{navigate:g}=i("./app/scripts/controller/navigate.js");e.exports=class extends u{initialize(){const e=r.me();return this.menuType=this.options.menuType,this.listenTo(e.organizationList,"add remove reset change",this.frameDebounce(this.render)),this.createNewTeam=0===e.organizationList.length}events(){return{"click .js-team":"clickTeam","click .js-create-team":"clickCreateTeam","click .js-create":"clickCreateNewTeam","click .js-cancel":"clickCancelNewTeam"}}render(){return this.$el.html(m.render((()=>{if(this.createNewTeam){const e=this.model.memberList.length;return m.div(".create-team",(function(){return m.p((()=>m.format("first-create-your-business-class-team"))),m.p((function(){if(m.label((function(){m.format("team-name");const t=1===e?{value:m.l("names-projects",{name:r.me().get("fullName")},{raw:!0})}:2===e?{placeholder:m.l("eg-names-projects",{name:r.me().get("fullName")},{raw:!0})}:{};return t.maxLength=100,m.input(".full.js-autofocus.js-name",t)})),e>1)return m.div(".check-div",(function(){return m.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),m.label({for:"addMembers",class:"create-team-add-members"},(()=>m.format("add-the-members-of-this-board-to-the-team")))}))})),m.div((function(){return m.button(".nch-button.nch-button--primary.js-create",(()=>m.format("create"))),m.a(".create-team-cancel.quiet-button.js-cancel",(()=>m.format("cancel")))})),m.hr()})),n.defer((()=>this.$(".js-name").select().focus()))}{const e=r.me().organizationList.sortBy((e=>e.get("displayName").toLowerCase()));return m.div(".assign-to-team",(()=>m.p((function(){return m.format("this-board-is-not-in-a-team-yet"),m.text(" "),m.format("please-select-a-team-or-create-a-new-team-to-upgrade")})))),e.length>0&&m.ul(".assign-to-team-list",(()=>(()=>{const t=[];for(const i of Array.from(e)){const e=i.canAddBoard(this.model)?i.isAtOrOverFreeBoardLimit()?{class:"disabled",title:p(["out of free team boards","this team has reached the maximum number of open boards"])}:{class:"js-team","data-idOrganization":i.id}:{class:"disabled",title:m.l("team-restrictions-prevent-you-from-adding-this-board-to-this-team")};t.push(m.li(".assign-to-team-list-item.js-assign-team-list-item",e,(function(){return m.div(".assign-to-team-list-item-logo.js-team-logo",(function(){const e=i.get("logoHash");return e?m.img({src:"".concat(o,"/").concat(e,"/30.png")}):m.span(".icon.icon-lg.icon-organization")})),m.div(".assign-to-team-list-item-details",(function(){return m.div(".assign-to-team-list-item-name",(function(){if(m.text(i.get("displayName")),i.isFeatureEnabled("plugins"))return m.text(" "),m.icon("business-class",{class:"icon-business-class-color"})})),m.div(".assign-to-team-list-item-member-count",(function(){let e;if(null!=(e=i.get("memberships")))return m.text(s("members",e.length))}))}))})))}return t})())),m.div(".assign-to-team-create.js-create-team",(()=>m.div(".assign-to-team-create-content",(()=>m.format("create-a-new-team")))))}}))),this}clickTeam(e){this.$(".js-team").addClass("disabled");const t=this.$(e.currentTarget).attr("data-idOrganization");return this.$(e.currentTarget).find(".js-team-logo").html(m.render((()=>m.span(".spinner")))),this.model.trigger("added-to-team"),h("".concat(this.options.menuType," Menu"),"Upsell Flow","Add To Existing Team"),c.fromNode((e=>this.model.update("idOrganization",t,{waitForServer:!0},e))).then((()=>{this.$(".js-team").removeClass("disabled");const e=this.model.getOrganization();return"Collections"===this.options.menuType&&null!=e&&e.isFeatureEnabled("tags")?l.loadOrganizationMinimal(t).then((()=>this.model.trigger("team-has-bc"))):g(a.getBoardPowerUpsUpgradeUrl(this.model),{trigger:!0})})).done()}clickCreateTeam(e){return this.createNewTeam=!0,this.render()}clickCancelNewTeam(e){return d.stop(e),this.model.trigger("cancel-add-to-team")}clickCreateNewTeam(e){const t=this.$(".js-name").val();if(!/\S/.test(t))return;const i={displayName:t};return this.$(".js-create,.js-cancel").prop("disabled",!0).addClass("disabled"),r.me().organizationList.create(i,{modelCache:this.modelCache,silent:!0,success:e=>{const t=e.id;return this.model.trigger("added-to-team"),this.model.update("idOrganization",t,{waitForServer:!0}),l.loadOrganizationMembersMinimal(t).then((()=>{if(this.$(".js-add-members").prop("checked")){const t=this.model.getOrganization();return h("New Org","Create","".concat(this.menuType," Sidebar (with members)"),e.id),c.map(this.model.memberList.models,(e=>{if(!t.isMember(e))return t.changeMemberRole(e,{type:"normal"})}),{concurrency:3})}return h("New Org","Create","".concat(this.menuType," Sidebar (without members)"),e.id)})).then((()=>g(a.getBoardPowerUpsUpgradeUrl(this.model),{trigger:!0}))).done()}})}}},"./app/scripts/views/board-menu/board-ent-select-perm-level-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/db/auth.js"),a=i("./app/scripts/controller/index.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./app/scripts/views/internal/templates.js"),d=i("./app/scripts/views/templates/board_menu_vis.js"),{Analytics:u,tracingCallback:p}=i("./packages/atlassian-analytics/index.ts");class m extends l{static initClass(){this.prototype.viewTitleKey="change visibility",this.prototype.tagName="ul",this.prototype.events={"click .js-select":"selectVis"},this.prototype.className="pop-over-list"}render(){const e=this.options.enterprise;if(e.canSetTeamlessBoardVisibility("private")||e.canSetTeamlessBoardVisibility("public")){const t=this.model.getPref("permissionLevel");this.$el.html(d({current:t,canChange:!0,mustChange:!e.canSetTeamlessBoardVisibility(t),hasOrg:!1,hasSuperAdmins:!1,privateRestricted:!e.canSetTeamlessBoardVisibility("private"),orgRestricted:!0,enterpriseRestricted:!0,publicRestricted:!e.canSetTeamlessBoardVisibility("public"),hasEnterprise:!0,enterpriseName:e.get("displayName"),isTemplate:this.model.isTemplate(),isOrgPremium:!1,isTeamlessOwnedBoard:!0}))}else{const t={isEntAdmin:e.isAdmin(r.me()),entSettingsUrl:a.getEnterpriseAdminDashboardUrl(e,"settings"),enterprise:e.toJSON()};this.$el.html(c.fill(i("./app/scripts/views/templates/cant_add_board_to_ent.js"),t))}return this}selectVis(e){o.stop(e);const t=n(e.target).closest(".js-select");if(t.hasClass("disabled")||t.closest(".js-disabled").length)return;const i=u.startTask({taskName:"edit-board",subTask:"idOrganization",source:"boardEntSelectPermLevelInlineDialog"}),r=t.attr("name");var a,l;return this.options.idOrganizationSource&&(a=this.modelCache.get("Organization",this.options.idOrganizationSource),l=e=>e.boardList.remove(this.model),null!=a&&l(a)),this.model.update({traceId:i,idOrganization:null,"prefs/permissionLevel":r},p({taskName:"edit-board",subTask:"idOrganization",source:"boardEntSelectPermLevelInlineDialog",traceId:i})),s.hide()}}m.initClass(),e.exports=m},"./app/scripts/views/board-menu/board-member-add-multiple-view.js":function(e,t,i){const n=i("./app/scripts/views/lib/alerts.js"),r=i("./app/scripts/network/api-promise.js"),a=i("./app/scripts/network/api-error.js"),s=i("./app/scripts/views/board-menu/board-observer-option-component.js"),o=i("./app/scripts/views/member/member-multi-select-autocomplete-component.js"),l=i("./app/scripts/views/board-menu/board-menu-invite-team-component.js"),c=i("./app/scripts/lib/localize-server-error.js"),d=i("./app/scripts/models/member.js"),{maybeDisplayMemberLimitsError:u}=i("./app/scripts/views/board-menu/member-limits-error.js"),p=i("./app/scripts/db/model-loader.js"),m=i("./app/scripts/views/internal/view.js"),h=i("./node_modules/react/index.js"),g=i("./packages/react-dom-wrapper/index.ts"),b=i("./app/scripts/views/invitation-link/display-invitation-link-view.js"),f=i("./app/scripts/views/lib/pop-over.js"),v=i("./node_modules/bluebird/js/browser/bluebird.js"),k=i("./app/scripts/views/internal/recup-with-helpers.js")("board_member_add_multiple"),y=i("./app/scripts/views/internal/teacup-with-helpers.js")("board_member_add_multiple"),w=i("./app/scripts/lib/util/index.js"),j=i("./packages/jquery/index.js"),x=i("./node_modules/underscore/underscore.js"),{featureFlagClient:C}=i("./packages/feature-flag-client/index.ts"),{Analytics:_}=i("./packages/atlassian-analytics/index.ts"),O=/^[^@]+@[a-z0-9-]+(\.[a-z0-9-]+)+$/i;class E extends m{static initClass(){this.prototype.displayType="board-member-add-multiple",this.prototype.initialInviteMessage=k.l("im-working-on-this-project-in-trello-and-wanted-to-share-it-with-you"),this.prototype.events={"click .js-show-invitation-link":"showInvitationLink","click .js-invitation-link":"clickInvitationLink","click .js-deactivate-link":"deactivateInvitationLink","click .js-copy-invitation-link":"copyInvitationLink"}}viewTitleKey(){return this.model.isTemplate()?"invite to template":"invite to board"}initialize(){this.onAutocompleteSubmit=this.onAutocompleteSubmit.bind(this),this.onAutocompleteSearch=this.onAutocompleteSearch.bind(this),this.onObserverChange=this.onObserverChange.bind(this),this.onInviteTeamClick=this.onInviteTeamClick.bind(this),this.onInvitationMessageChange=this.onInvitationMessageChange.bind(this),this.selectInvitationMessage=this.selectInvitationMessage.bind(this),null==this.invitationMessageValue&&(this.invitationMessageValue=this.initialInviteMessage),this.observerValue="normal",this.selectedMemberOptions=[],this.onSelectMemberOption=this.onSelectMemberOption.bind(this),this.onRemoveMemberOption=this.onRemoveMemberOption.bind(this);const e=this.model.getOrganization();if(this.loadingOrg=null!=e,null!=e&&this.listenTo(e.memberList,"add remove reset",this.frameDebounce(this.renderAutocomplete)),this.listenTo(this.model.memberList,"add remove reset",this.frameDebounce(this.renderAutocomplete)),null!=e)return this.listenTo(e,"change:prefs",this.frameDebounce(this.render))}remove(){return g.unmountComponentAtNode(this.$(".js-autocomplete-root")[0]),super.remove(...arguments)}loadOrgData(){const e=this.model.getOrganization();if(null!=e&&this.model.editable()){let t;t=e.paysWithPurchaseOrder()&&(e.isBusinessClass()||e.isStandard())?p.loadOrganizationMembersMinimalWithAvailableLicenseCount(e.id):p.loadOrganizationMembersMinimal(e.id),t.then((()=>{this.loadingOrg=!1,this.renderAutocomplete()})).done()}else this.loadingOrg=!1}render(){var e,t;return this.$el.html(y.renderable((()=>y.div(".invite-board-member-autocomplete.js-autocomplete-root")))),this.renderAutocomplete(),_.sendScreenEvent({name:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(e=this.model)||void 0===e||null===(t=e.getOrganization())||void 0===t?void 0:t.id}}}),this}addMembers(e,t){const i=e.map((({member:e},i)=>()=>{const n=t[i].value,r=t[i].traceId;if(null!=e){let t;if(t=this.model.id,!Array.from(e.get("idBoards")).includes(t))return this.addMember(e,r)}else{if(O.test(n))return this.sendEmailInvite(n,r);_.taskAborted({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:r,error:new Error("invalid email")})}return Promise.resolve()})),n=i.slice(0,i.length-1),r=i[i.length-1];return v.map(n,(e=>e())).then(r)}onAutocompleteSubmit(e){const t=[];let i=0,n=0;return x.forEach(this.selectedMemberOptions,(e=>{const r=e.id?this.modelCache.get("Member",e.id):void 0;if(r){const t=_.startTask({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog"});return this.addMember(r,t),e.wouldBecomeBillableGuest?n++:i++}{const i=e.email?e.email:e.username,n=e.email?"email":"username",r=_.startTask({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog"});return t.push({value:i,type:n,traceId:r})}})),v.map(t,(e=>this.getMemberFromUser(e).catch((e=>({hasError:!0}))))).then((i=>{const r=x.some(i,(({hasError:e})=>e));n=x.filter(i,(({wouldBecomeBillableGuest:e})=>e)).length;return!e&&n>0||r?x.each(i,(({wouldBecomeBillableGuest:e,hasError:i},n)=>(this.selectedMemberOptions[n].blockInvite=e,_.taskAborted({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t[n].traceId}),this.selectedMemberOptions[n].hasError=i))):this.addMembers(i,t).then((()=>{var e,t;if(f.hide(),i.length>0)return _.sendTrackEvent({action:"sent",actionSubject:"boardInvitation",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(e=this.model)||void 0===e||null===(t=e.getOrganization())||void 0===t?void 0:t.id}},attributes:{numInvitesSent:i.length,changedMessage:this.invitationMessageValue!==this.initialInviteMessage}})}))}))}getMemberFromUser({value:e,type:t,traceId:i}){const n=this.model.getOrganization(),s=r({method:"get",url:"/1/members/".concat(e),data:{fields:["idOrganizations","idBoards"]},traceId:i}).then((i=>{const n=new d(i,{modelCache:this.modelCache});return"email"===t&&n.set("email",e),n})).catch(a.NotFound,(e=>null)),o=!(n&&!n.isFeatureEnabled("multiBoardGuests")&&n.getAvailableLicenseCount()>0)&&r({url:"/1/search/members/",type:"get",data:{idBoard:this.model.id,idOrganization:null!=n?n.id:void 0,query:e},dataType:"json",traceId:i}).then((e=>1===e.length&&e[0].wouldBecomeBillableGuest));return v.all([s,o]).then(((...e)=>{const[t,i]=Array.from(e[0]);return{member:t,wouldBecomeBillableGuest:i}}))}addMember(e,t){return u(this.$el,this.model,e)?(_.taskAborted({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t}),Promise.resolve()):this.model.addMember(e,t,this.observerValue,this.invitationMessageValue,(function(e,i){if(e){_.taskFailed({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t,error:e});const i=/organization restricts invites/.test(e.message)?k.l("team-restricts-invites"):c(e.message);return n.showLiteralText(i,"error","alert",5e3)}_.taskSucceeded({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t})}))}sendEmailInvite(e,t){const i={email:e,type:this.observerValue,invitationMessage:this.invitationMessageValue};return u(this.$el,this.model)?(_.taskAborted({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t}),Promise.resolve()):r({url:"/1/board/".concat(this.model.id,"/members"),type:"put",dataType:"json",data:i,traceId:t}).then((e=>{var i,n,r,a;const s=new d(e,{modelCache:this.modelCache}),o=this.observerValue?this.observerValue:"normal";return _.sendTrackEvent({action:"sent",actionSubject:"emailBoardInvitation",actionSubjectId:s.id,source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(i=this.model)||void 0===i||null===(n=i.getOrganization())||void 0===n?void 0:n.id}},attributes:{memberType:o,taskId:t}}),_.sendTrackEvent({action:"added",actionSubject:"member",actionSubjectId:s.id,source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(r=this.model)||void 0===r||null===(a=r.getOrganization())||void 0===a?void 0:a.id}},attributes:{addedTo:"board",confirmed:!!s.get("confirmed"),memberType:o,taskId:t}}),_.taskSucceeded({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t})})).catch((e=>{throw _.taskFailed({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t,error:e})}))}onAutocompleteSearch(e){e=e.toLowerCase().trim();const t=this.model.getOrganization();let i=[];const n=e=>x.extend(e.toJSON(),{active:!0,similarity:0,joined:null!=this.model.getMembershipFor(e),idOrganizations:[t.id]});return null!=t&&(i=e.length>0?t.memberList.chain().filter((t=>x.any(w.getMemNameArray(t),(t=>0===t.indexOf(e))))).map(n).value():t.memberList.map(n)),e.length>2?r({url:"/1/search/members/",type:"get",data:{idBoard:this.model.id,idOrganization:null!=t?t.id:void 0,query:e},dataType:"json"}).then((e=>x.uniq(x.union(e,i),!1,(e=>e.username?e.username:e.email)))):null!=t?i:[]}onInviteTeamClick(e){_.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"inviteTeamToBoardDropdownItem",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:this.model.getOrganization().id}}});const t=this.model.orgMembersAvailable().map((e=>x.extend(e.toJSON(),{active:!0,similarity:0,joined:this.model.hasActiveMembership(e),idOrganizations:[this.model.getOrganization().id]})));return this.selectedMemberOptions=x.uniq(x.union(this.selectedMemberOptions,t),!1,(e=>e.username?e.username:e.email)),this.renderAutocomplete()}onObserverChange(e){return this.observerValue=e,this.renderAutocomplete()}onInvitationMessageChange(e){return this.invitationMessageValue=e.target.value,this.renderAutocomplete()}selectInvitationMessage(){if(this.invitationMessageValue===this.initialInviteMessage)return j(".js-invitation-message").select()}onSelectMemberOption(e){return this.selectedMemberOptions=x.uniq(x.union(this.selectedMemberOptions,x.flatten([e])),!1,(e=>e.username?e.username:e.email)),this.renderAutocomplete()}onRemoveMemberOption(e){return this.selectedMemberOptions=this.selectedMemberOptions.filter(((t,i)=>i!==e)),this.renderAutocomplete()}renderAutocomplete(){var e,t,i,n;const r=this.$(".js-autocomplete-root")[0];if(null==r)return;const a=this.model.getOrganization(),c={onAutocompleteSearch:this.onAutocompleteSearch,displayDetails:!0,displayUsername:!1,shouldFocusOnSelectMemberOption:!0,onSubmit:this.onAutocompleteSubmit,submitText:k.l("send-invitation"),emptySearchText:k.l("looks-like-that-person-isnt-a-trello-member-yet"),placeholder:k.l("email-address-or-name"),onSelectMemberOption:this.onSelectMemberOption,onRemoveMemberOption:this.onRemoveMemberOption,selectedOptions:this.selectedMemberOptions,loadingOrg:this.loadingOrg,showMultiboardGuestWarning:null!=a?a.isFeatureEnabled("multiBoardGuests"):void 0,isTemplate:this.model.isTemplate()};if(a){let e=this.model.orgMembersAvailable();e=x.filter(e,(e=>{let t;return t=e.get("username"),!Array.from(x.pluck(this.selectedMemberOptions,"username")).includes(t)})),e.length>1&&(c.extraSearchOption=h.createElement(l,{onClick:this.onInviteTeamClick,availableToInvite:e})),c.displayOrg=a}const d=[];return null===(e=this.model)||void 0===e||null===(t=e.getOrganization())||void 0===t||!t.isPremium()||null!==(i=this.model)&&void 0!==i&&null!==(n=i.getOrganization())&&void 0!==n&&n.isStandard()||d.push(h.createElement(s,{onChange:this.onObserverChange,value:this.observerValue,key:"observerOption"})),C.get("enable-invite-email-message",!1)&&d.push(h.createElement("textarea",{onChange:this.onInvitationMessageChange,onClick:this.selectInvitationMessage,className:"invitation-message-input js-invitation-message",value:this.invitationMessageValue,key:"invitationMessage",placeholder:k.l("sharing-is-caring-let-your-collaborators-know-what-youre-working-on"),maxLength:500})),g.render(h.createElement(o,c,d),r)}}E.initClass(),x.extend(E.prototype,b),e.exports=E},"./app/scripts/views/board-menu/board-menu-invite-team-component.js":function(e,t,i){const n=i("./node_modules/react/index.js"),r=i("./app/scripts/views/internal/recup-with-helpers.js")("board_menu_invite_team");class a extends n.Component{static initClass(){this.prototype.render=r.renderable((function(){const{onClick:e,availableToInvite:t}=this.props;return r.div(".invite-team",{onMouseDown:e},(function(){return r.span(".icon-lg.icon-organization"),r.div(".invite-team-text",(()=>r.format("add-all-x-team-members",{memberCount:t.length})))}))}))}}a.initClass(),e.exports=a},"./app/scripts/views/board-menu/board-observer-option-component.js":function(e,t,i){const n=i("./node_modules/react/index.js"),r=i("./app/scripts/views/internal/recup-with-helpers.js")("board_member_add_multiple"),a={normal:{label:r.l("add-as-members"),description:r.l("board-members-can-edit-comment-and-invite-people-to-this-board")},observer:{label:r.l("add-as-observers"),description:r.l("observers-can-view-and-comment-on-this-board")}};class s extends n.Component{static initClass(){this.prototype.render=r.renderable((function(){const{onChange:e,value:t}=this.props,{isOpen:i}=this.state,n=a[t];return r.div(".board-observer-dropdown",{onBlur:()=>this.setState({isOpen:!1}),tabIndex:0},(()=>{if(r.div(".board-observer-selected",{onClick:()=>this.setState({isOpen:!i})},(()=>(r.p((()=>r.text(n.label))),r.icon("down")))),i)return r.div(".board-observer-options",(()=>Object.keys(a).map((i=>r.div(".board-observer-option",{onClick:t=>(e(i),this.setState({isOpen:!1}))},(()=>(r.div(".board-observer-option-title",(()=>{if(r.text(a[i].label),i===t)return r.icon("check")})),r.div(".board-observer-option-description",(()=>r.text(a[i].description))))))))))}))}))}constructor(e){super(e),this.state={isOpen:!1}}}s.initClass(),e.exports=s},"./app/scripts/views/board-menu/board-org-select-perm-level-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/controller/index.js"),a=i("./app/scripts/views/lib/pop-over.js"),s=i("./app/scripts/lib/util/index.js"),o=i("./app/scripts/views/internal/view.js"),l=i("./app/scripts/views/internal/templates.js"),c=i("./app/scripts/views/templates/board_menu_vis.js"),{Analytics:d,tracingCallback:u}=i("./packages/atlassian-analytics/index.ts");class p extends o{static initClass(){this.prototype.viewTitleKey="change visibility",this.prototype.tagName="ul",this.prototype.events={"click .js-select":"selectVis"},this.prototype.className="pop-over-list"}render(){const e=this.options.organization;if(e.canSetVisibility("private")||e.canSetVisibility("org")||e.canSetVisibility("enterprise")||e.canSetVisibility("public")){const t=this.model.getPref("permissionLevel"),i=null!=e?e.getEnterprise():void 0;this.$el.html(c({current:t,canChange:!0,mustChange:!e.canSetVisibility(t),hasSuperAdmins:e.hasPremiumFeature("superAdmins"),hasOrg:!0,orgName:e.get("displayName"),privateRestricted:!e.canSetVisibility("private"),orgRestricted:!e.canSetVisibility("org"),enterpriseRestricted:!e.canSetVisibility("enterprise"),publicRestricted:!e.canSetVisibility("public"),hasEnterprise:null!=e?e.belongsToRealEnterprise():void 0,enterpriseName:null!=i?i.get("displayName"):void 0,isTemplate:this.model.isTemplate(),isOrgPremium:null!=e?e.isPremium():void 0}))}else{const t={isOrgAdmin:e.owned(),orgSettingsUrl:r.getOrganizationAccountUrl(e),organization:e.toJSON()};this.$el.html(l.fill(i("./app/scripts/views/templates/cant_add_board_to_org.js"),t))}return this}selectVis(e){s.stop(e);const t=n(e.target).closest(".js-select");if(t.hasClass("disabled")||t.closest(".js-disabled").length)return;const i=d.startTask({taskName:"edit-board",subTask:"idOrganization",source:"boardOrgSelectPermLevelInlineDialog"}),r=t.attr("name");var o,l;return this.options.idOrganizationSource&&(o=this.modelCache.get("Organization",this.options.idOrganizationSource),l=e=>e.boardList.remove(this.model),null!=o&&l(o)),this.model.update({traceId:i,idOrganization:this.options.organization.id,"prefs/permissionLevel":r},u({taskName:"edit-board",subTask:"idOrganization",source:"boardOrgSelectPermLevelInlineDialog",traceId:i})),this.options.organization.boardList.add(this.model),a.hide()}}p.initClass(),e.exports=p},"./app/scripts/views/board-menu/board-select-organization-for-perm-change-view.js":function(e,t,i){const n=i("./app/scripts/views/board-menu/board-org-select-perm-level-view.js"),r=i("./app/scripts/views/board-menu/board-select-organization-view.js"),a=i("./app/scripts/views/lib/pop-over.js");e.exports=class extends r{initialize(e){return this.disableNone=null!=e?e.disableNone:void 0,super.initialize(...arguments)}render(){return super.render(...arguments),this.disableNone&&this.$(".js-submit").addClass("disabled").attr("disabled","disabled"),this}showOrgBoardVisPerms(e,t){return a.pushView({view:new n({model:this.model,organization:e,idOrganizationSource:t,modelCache:this.modelCache})})}submit(e){return super.submit(...arguments)}canAddToOrg(e){return!e.isFeatureEnabled("restrictVis")||e.canSetVisibility("org")}changeOrg(e,t,i={}){return i["prefs/permissionLevel"]="org",super.changeOrg(e,t,i)}orgSelected(){if(super.orgSelected(...arguments),this.disableNone)return""===this.$(".js-org").val()?this.$(".js-submit").addClass("disabled").attr("disabled","disabled"):this.$(".js-submit").removeClass("disabled").removeAttr("disabled")}}},"./app/scripts/views/board-menu/board-select-organization-view.js":function(e,t,i){const n=i("./app/scripts/network/api-promise.js"),r=i("./app/scripts/db/auth.js"),{BillableGuestsAlert:a}=i("./app/src/components/BillableGuestsAlert/index.ts"),s=i("./app/scripts/views/board/billable-guest-list-popover-view.js"),o=i("./app/scripts/views/board-menu/board-org-select-perm-level-view.js"),l=i("./app/scripts/views/board-menu/board-ent-select-perm-level-view.js"),c=i("./app/scripts/views/templates/popover_change_board_org.js"),d=i("./app/scripts/views/lib/confirm.js"),u=i("./app/scripts/views/organization/create-org-view.js"),{BoardInviteRestrictValues:p}=i("./app/scripts/views/organization/constants.js"),m=i("./app/scripts/db/model-loader.js"),h=i("./packages/product-features/index.ts").ProductFeatures,g=i("./app/scripts/views/lib/pop-over.js"),b=i("./node_modules/bluebird/js/browser/bluebird.js"),f=i("./packages/react-dom-wrapper/index.ts"),v=i("./node_modules/react/index.js"),k=i("./app/scripts/network/api-error.js"),y=i("./app/scripts/controller/index.js"),{Analytics:w,tracingCallback:j}=i("./packages/atlassian-analytics/index.ts"),x=i("./app/scripts/lib/util/index.js"),C=i("./app/scripts/views/internal/view.js"),{featureFlagClient:_}=i("./packages/feature-flag-client/index.ts"),O=i("./node_modules/underscore/underscore.js"),E=i("./packages/browser/index.ts").isDesktop();class S extends C{static initClass(){this.prototype.viewTitleKey="change organization",this.prototype.events={"click .js-submit":"submit","change .js-org":"orgSelected","click .js-new-org":"newOrg"}}initialize(){this.makeDebouncedMethods("render"),this.haveAvailableLicenses=!0,this.listenTo(this.model,"change:memberships",this.updateOrgOptions),this.blockTeamlessBoardsEnabled=_.get("btg.block-teamless-boards",!1)}getTemplateData(){let e;const t=this.model.toJSON({org:!0});let i=this.model.owned()?r.me().organizationList.models:[];t.isMemberOfBoardOrg=i.find((e=>e.id===t.idOrganization)),this.model.hasEnterprise()&&(t.hasEnterprise=!0,t.enterpriseName=T(this.model.getEnterprise(),(e=>e.get("displayName"))),i=O.filter(i,(function(e){const i=e.get("idEnterprise");return null!=t.idEnterprise&&i===t.idEnterprise||!(!t.org||i!==t.org.idEnterprise)})),t.showPrivateBoardsOptionForEntBoards=null!=this.model.get("idEnterprise")),t.orgs=(()=>{const t=[];for(e of Array.from(i))t.push(e.toJSON());return t})(),t.hasOrgs=0!==t.orgs.length,t.isDesktop=E;const n=this.selectedOrganization||t.idOrganization;if(n)for(e of Array.from(t.orgs))e.id===n&&(e.select=!0);return t.isPrivate=this.model.isPrivate(),t.isTemplate=this.model.isTemplate(),t.allowsSelfJoin=this.model.allowsSelfJoin(),t.addToTeam=!1,t}render(){const e=this.getTemplateData();return w.sendScreenEvent({name:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id}}}),e.blockTeamlessBoardsEnabled=this.blockTeamlessBoardsEnabled,this.$el.html(c(e)),this.updateOrgOptions(),this}remove(){return this.reactRoot&&f.unmountComponentAtNode(this.reactRoot),super.remove(...arguments)}showOrgBoardVisPerms(e,t){return g.pushView({view:new o({model:this.model,organization:e,idOrganizationSource:t,modelCache:this.modelCache})})}showEntBoardVisPerms(e,t){return g.pushView({view:new l({model:this.model,enterprise:e,idOrganizationSource:t,modelCache:this.modelCache})})}changeOrg(e,t,i={}){const n=w.startTask({taskName:"edit-board",subTask:"idOrganization",source:"changeBoardOrganizationInlineDialog"});let r;const a=e!==t;return a&&t&&T(this.modelCache.get("Organization",t),(e=>e.boardList.remove(this.model))),i.idOrganization=e,e&&(this.$(".js-make-org-visible").is(":checked")&&(i["prefs/permissionLevel"]="org"),this.$(".js-make-org-joinable").is(":checked")&&(i["prefs/selfJoin"]=!0)),a&&e&&(r=this.modelCache.get("Organization",e),i.keepBillableGuests=(null!=r?r.owned():void 0)&&this.haveAvailableLicenses&&!E),this.model.isTemplate()&&a&&!this.model.isPublic()&&!(null!=r?r.isPremium():void 0)&&(i["prefs/isTemplate"]=!1),i.traceId=n,this.model.update(i,j({taskName:"edit-board",subTask:"idOrganization",source:"changeBoardOrganizationInlineDialog",traceId:n},(e=>{e instanceof k.Unauthorized&&y.displayErrorPage({errorType:"notPermissionsToSeeBoard"})}))),null!=r&&r.boardList.add(this.model),g.hide()}newOrg(e){let t;if(w.sendClickedLinkEvent({linkName:"createNewOrgLink",source:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id}}}),x.stop(e),r.me().isPaidManagedEntMember())t={boardToAddToOrg:this.model,isEnterprise:!0};else{const e=this.model.isTemplate()&&!this.model.isPublic();t={boardToAddToOrg:this.model,isPrivateTemplate:e}}return g.pushView({view:new u({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking create team in board change team menu"}})})}canAddToOrg(e){return e.canAddBoard(this.model)}submit(e){if(this.$(".js-submit").hasClass("disabled"))return void x.stop(e);this.$(".js-submit").prop("disabled",!0).toggleClass("disabled",!0),x.stop(e);const t=this.$(".js-org").val(),i=this.model.get("idOrganization"),n=this.modelCache.get("Organization",t);return w.sendUpdatedBoardFieldEvent({field:"organization",source:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:t}},attributes:{previous:i,change:t!==i}}),b.try((()=>{if(!(n&&n.boardMembershipRestricted()))return;const i=n.getPref("boardInviteRestrict");return m.loadOrganizationMembersData(t).then((()=>{const t=this.model.memberList.chain().filter((e=>function(e){switch(i){case p.ORG:return!n.isMember(e);case p.MANAGED:return!e.isManagedEntMemberOf(n.get("idEnterprise"));case p.ORG_OR_MANAGED:return!n.isMember(e)&&!e.isManagedEntMemberOf(n.get("idEnterprise"))}}(e))).map((e=>e.get("fullName"))).value(),r=t.length;if(0===r)return;const a=(()=>{switch(i){case p.ORG:return 1===r?"external member not allowed":"external members not allowed";case p.MANAGED:return 1===r?"non managed member not allowed":"non managed members not allowed";case p.ORG_OR_MANAGED:return 1===r?"external and non managed member not allowed":"external and non managed members not allowed"}})();return b.fromNode((i=>d.toggle(a,{elem:e.currentTarget,model:this.model,confirmBtnClass:"nch-button nch-button--danger",templateData:{count:String(r),members:t.length>20?O.first(t,20).join(", ")+"":t.join(", "),team:n.get("displayName")},fxConfirm:()=>i(),fxCancel:()=>i(new Error("cancelled"))})))}))})).then((()=>{if(n&&(n.isFeatureEnabled("restrictVis")||"enterprise"===this.model.getPref("permissionLevel")))return m.loadOrganizationMembersData(t).then((()=>{this.canAddToOrg(n)?this.changeOrg(t,i):this.showOrgBoardVisPerms(n,i)})).done();if(!this.model.get("idEnterprise"))return this.changeOrg(t,i);{const e=this.model.getEnterprise();if(!e||e.canAddTeamlessBoard(this.model))return this.changeOrg(t,i);this.showEntBoardVisPerms(e,i)}})).error((function(){})).done()}showTemplateAlert(){return this.$(".js-template-alert").addClass("show-template-alert")}hideTemplateAlert(){return this.$(".js-template-alert").removeClass("show-template-alert")}allowBoardCreate(){return this.$(".js-submit").removeClass("disabled"),this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.$(".js-permissions").removeClass("hide")}updateOrgOptions(){this.$(".js-submit").addClass("disabled"),this.$(".js-billable-guests-warning").addClass("hide"),this.selectedOrganization=this.$(".js-org").val();const e=""!==this.selectedOrganization;if(this.$(".js-make-org-visible,.js-make-org-joinable").closest(".js-check-div").toggleClass("hide",!e),this.model.isTemplate()&&!this.model.isPublic()&&this.model.get("idOrganization")!==this.selectedOrganization){const t=this.modelCache.get("Organization",this.selectedOrganization);e&&(null!=t?t.isPremium():void 0)?this.hideTemplateAlert():this.showTemplateAlert()}else this.hideTemplateAlert();return e?(this.showSpinner(),this.model.get("idOrganization")===this.selectedOrganization?(this.hideSpinner(),void this.allowBoardCreate()):b.all([n({type:"GET",url:"/1/organizations/".concat(this.selectedOrganization,"/newBillableGuests/").concat(this.model.id)}),m.loadOrganizationMembersMinimalWithAvailableLicenseCount(this.selectedOrganization)]).spread(((e,t)=>(null!=t?t.isAtOrOverFreeBoardLimit():void 0)?(this.$(".js-board-limits-upgrade-ad").removeClass("hide"),this.$(".js-permissions").addClass("hide"),this.$(".js-target-team").text(t.get("displayName")),this.$(".js-upgrade-link").attr("href",t.getBillingUrl()),this.hideSpinner()):e.length>0?(this.renderBillableGuestAlert({org:t,newBillableGuests:e}),this.haveAvailableLicenses=e.length<=t.getAvailableLicenseCount()):this.allowBoardCreate())).finally((()=>this.hideSpinner()))):(this.hideSpinner(),void this.allowBoardCreate())}renderBillableGuestAlert({org:e,newBillableGuests:t}){const i=e.getProduct(),n={adminNames:e.adminList.map((e=>e.get("fullName")||e.get("username"))),newBillableGuestsCount:t.length,availableLicenseCount:e.getAvailableLicenseCount(),orgName:e.get("displayName")||e.get("name"),pricePerGuest:h.getPrice(i),isMonthly:h.isMonthly(i),isOrgAdmin:e.owned(),orgUrl:e.url,isReopen:!1,isDesktop:E,onCountClick:()=>g.pushView({view:new s({newBillableGuests:t})})},r=v.createElement(a,n);return this.reactRoot=this.$(".js-billable-guests-warning")[0],f.render(r,this.reactRoot),this.$(".js-billable-guests-warning").removeClass("hide"),this.allowBoardCreate()}orgSelected(e){return this.updateOrgOptions()}showSpinner(){return this.$(".js-loading").toggleClass("hide",!1),this.$(".js-loaded").toggleClass("hide",!0)}hideSpinner(){return this.$(".js-loading").toggleClass("hide",!0),this.$(".js-loaded").toggleClass("hide",!1)}}function T(e,t){return null!=e?t(e):void 0}S.initClass(),e.exports=S},"./app/scripts/views/board-menu/card-filter-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{getKey:r,Key:a}=i("./packages/keybindings/index.ts"),{Analytics:s}=i("./packages/atlassian-analytics/index.ts"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./node_modules/underscore/underscore.js"),d=i("./app/scripts/views/internal/templates.js"),u=i("./app/scripts/lib/localize.js"),{navigate:p}=i("./app/scripts/controller/navigate.js"),m=i("./app/scripts/controller/index.js"),{featureFlagClient:h}=i("./packages/feature-flag-client/index.ts"),g=h.getTrackedVariation("board-header-filtering-experiment",!1);class b extends l{static initClass(){this.prototype.viewTitleKey=g?"filter cards":"search cards",this.prototype.viewIcon="search cards",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-toggle-label-filter":"toggleLabelFilter","click .js-select-member":"toggleMemberFilter","click .js-show-all-labels":"showAllLabels","click .js-show-all-members":"showAllMembers","click .js-clear-all":"clearFilter","click .js-due-filter":"toggleDateFilter","click .js-mode-filter":"toggleModeFilter","mouseenter .js-filter-search-results li":"hoverSelect","mouseenter .js-clear-all":"clearAllSelected","mouseenter .js-show-all-members":"clearAllSelected","keydown .js-input":"keyDownEvent","keyup .js-input":"keyUpEvent"}}initialize(){return this.listenTo(this.model.board,"change:labelNames change:memberships",this.renderFilterOptions),this.listenTo(this.model,"change",this.renderFilterOptions)}render(){var e,t;g&&s.sendScreenEvent({name:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(e=this.model.board.getOrganization())||void 0===e?void 0:e.id},enterprise:{id:null===(t=this.model.board.getEnterprise())||void 0===t?void 0:t.id}}});this.isFiltering=!1;const n=this.model.toJSON();return this.$el.html(d.fill(i("./app/scripts/views/templates/filter_cards.js"),n)),this.renderFilterOptions(),this}renderFilterOptions(){const e=this.model.toJSON({board:!0,expanded:!0}),t=!c.isEmpty(e.labels),r=!c.isEmpty(e.members),a=this.model.get("title")&&(t||r),s=this.model.getBoard();if(a)e.limitMembers=!1,e.limitLabels=!1;else{let t,i;const n=6;(null==(t=this.model.get("limitMembers"))||t)&&(e.members.length===n+1?e.limitMembers=!1:(e.remainingMembers=Math.max(0,e.members.length-n),e.members=c.first(e.members,n).map((function(e){return e.isDeactivated=s.isDeactivated(e),e})),e.limitMembers=e.remainingMembers>0)),(null==(i=this.model.get("limitLabels"))||i)&&(e.labels.length===n+1?e.limitLabels=!1:(e.remainingLabels=Math.max(0,e.labels.length-n),e.labels=c.first(e.labels,n),e.limitLabels=e.remainingLabels>0))}return c.extend(e,{filtering:a,showHelper:!a,showLabels:!a||t,showMembers:!a||r,showDueTimes:!a,showMatchMode:!a,isFiltering:this.model.isFiltering(),labels:e.labels.map((function(e){const t=e.color?u(["labels",e.color]):"";return c.extend({defaultColorName:t},e)}))}),this.$(".js-filter-search-results").html(d.fill(i("./app/scripts/views/templates/filter_cards_search_results.js"),e,{},{member:d.member,select_member:d.select_member})),null===this.model.get("title")&&this.$(".js-input").val(""),g&&(e.isFiltering?n(".board-header-filter-clear-btn").removeClass("hide"):n(".board-header-filter-clear-btn").addClass("hide")),this}keyDownEvent(e){const t=r(e);if(![a.Enter,a.ArrowUp,a.ArrowDown].includes(t))return;o.stop(e);const i=".item, .label-list-item",n=this.$(i),s=n.filter(".selected").first();t===a.Enter?s.find("a").click():[a.ArrowUp,a.ArrowDown].includes(t)&&(0===s.length?n.first().addClass("selected"):o.navMenuList(this.$el,i,t))}keyUpEvent(e){const t=r(e);if(![a.Escape,a.Enter,a.ArrowUp,a.ArrowDown].includes(t))return this.model.save({title:this.$(".js-input").val(),limitMembers:!0,limitLabels:!0})}showAllMembers(e){o.stop(e),this.model.save("limitMembers",!1)}showAllLabels(e){o.stop(e),this.model.save("limitLabels",!1)}_clearAndFocusInput(){return this.model.save({title:""}),this.$(".js-input").val("").focus()}toggleLabelFilter(e){o.stop(e);const t=n(e.target).closest("a").attr("data-idlabel");var i,r,a,l;g?s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(i=this.model.board.getOrganization())||void 0===i?void 0:i.id},enterprise:{id:null===(r=this.model.board.getEnterprise())||void 0===r?void 0:r.id}},attributes:{type:"label",id:t}}):s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(a=this.model.board.getOrganization())||void 0===a?void 0:a.id},enterprise:{id:null===(l=this.model.board.getEnterprise())||void 0===l?void 0:l.id}},attributes:{type:"label",id:t}});const d=this.model.toJSON({expanded:!0});return c.isEmpty(d.labels)||this._clearAndFocusInput(),this.navigateToBoard(),this.model.toggleIdLabel(t)}toggleMemberFilter(e){o.stop(e);const t=n(e.target).closest("a").attr("idMember");var i,r,a,l;g?s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(i=this.model.board.getOrganization())||void 0===i?void 0:i.id},enterprise:{id:null===(r=this.model.board.getEnterprise())||void 0===r?void 0:r.id}},attributes:{type:"member",id:t}}):s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(a=this.model.board.getOrganization())||void 0===a?void 0:a.id},enterprise:{id:null===(l=this.model.board.getEnterprise())||void 0===l?void 0:l.id}},attributes:{type:"member",id:t}});const d=this.model.toJSON({expanded:!0});return c.isEmpty(d.members)||this._clearAndFocusInput(),o.stop(e),this.navigateToBoard(),this.model.toggleMember(t)}toggleDateFilter(e){var t,i,r,a;(o.stop(e),g)?s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(t=this.model.board.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(i=this.model.board.getEnterprise())||void 0===i?void 0:i.id}},attributes:{type:"date"}}):s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(r=this.model.board.getOrganization())||void 0===r?void 0:r.id},enterprise:{id:null===(a=this.model.board.getEnterprise())||void 0===a?void 0:a.id}},attributes:{type:"date"}});const l=n(e.target).closest("a").attr("time");return this.navigateToBoard(),this.model.get("due")===l?this.model.save("due",null):this.model.save("due",l)}toggleModeFilter(e){o.stop(e);const t=n(e.target).closest("a").attr("mode");if(this.model.get("mode")!==t)return this.navigateToBoard(),this.model.save("mode",t)}clearFilter(e){var t,i,n,r;g?s.sendClickedButtonEvent({buttonName:"viewsCardFilterClearFilterButton",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(t=this.model.board.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(i=this.model.board.getEnterprise())||void 0===i?void 0:i.id}}}):s.sendClickedButtonEvent({buttonName:"viewsCardFilterClearFilterButton",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(n=this.model.board.getOrganization())||void 0===n?void 0:n.id},enterprise:{id:null===(r=this.model.board.getEnterprise())||void 0===r?void 0:r.id}}});return this.model.clear()}clearAllSelected(){return this.$("li").removeClass("selected")}hoverSelect(e,t){return this.clearAllSelected(),o.selectMenuItem(n(e.currentTarget).closest("ul"),"li",n(e.currentTarget))}navigateToBoard(){if(m.showingDashboard()||m.showingBoardView()){const e=m.getBoardUrl(this.model.board.id);p(e,{trigger:!0})}}}b.initClass(),e.exports=b},"./app/scripts/views/board-menu/change-board-visibility-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{Analytics:r}=i("./packages/atlassian-analytics/index.ts"),a=i("./app/scripts/views/board-menu/board-select-organization-for-perm-change-view.js"),s=i("./app/scripts/views/board/confirmation-public-boards-view.js"),o=i("./app/scripts/views/lib/pop-over.js"),l=i("./app/scripts/lib/util/index.js"),c=i("./app/scripts/views/internal/view.js"),{trackUe:d}=i("./packages/analytics/index.ts"),u=i("./app/scripts/views/templates/board_menu_vis.js");class p extends c{static initClass(){this.prototype.tagName="ul",this.prototype.className="pop-over-list",this.prototype.maxWidth=370,this.prototype.events={"click .js-select":"selectVis"}}viewTitleKey(){return this.model.owned()?"change visibility":"visibility"}initialize(){this.listenTo(this.model,"change",this.render)}render(){const e=this.model.getOrganization(),t=null!=e?e.getEnterprise():void 0;return this.$el.html(u({canChange:this.model.owned(),current:this.model.getPref("permissionLevel"),hasSuperAdmins:(null==e?void 0:e.hasPremiumFeature("superAdmins"))||!1,hasOrg:null!=e,orgName:null!=e?e.get("displayName"):void 0,privateRestricted:!this.model.canSetVisibility("private"),orgRestricted:null!=e&&!(null!=e?e.canSetVisibility("org"):void 0),enterpriseRestricted:null!=e&&!(null!=e?e.canSetVisibility("enterprise"):void 0),publicRestricted:!this.model.canSetVisibility("public"),hasEnterprise:null!=e?e.belongsToRealEnterprise():void 0,enterpriseName:null!=t?t.get("displayName"):void 0,isTemplate:this.model.isTemplate(),isOrgPremium:null!=e?e.isPremium():void 0})),this}selectVis(e){l.stop(e);const t=n(e.target).closest(".js-select");if(t.hasClass("disabled")||t.closest(".js-disabled").length)return;const i=t.attr("name");if("public"===i)return void o.pushView({elem:e.target,view:new s({model:this.model,modelCache:this.modelCache}),maxWidth:370});if("org"===i&&!this.model.getOrganization())return void o.pushView({view:a,options:{model:this.model,modelCache:this.modelCache,disableNone:!0}});const c=r.startTask({taskName:"edit-board",subTask:"prefs/permissionLevel",source:"changeBoardVisibilityInlineDialog"}),u=this.model.getPref("permissionLevel"),p=u!==i?1:0;this.model.setPrefWithTracing("permissionLevel",i,{taskName:"edit-board",subTask:"prefs/permissionLevel",source:"changeBoardVisibilityInlineDialog",traceId:c,next:(e,t)=>{var n;t&&r.sendUpdatedBoardFieldEvent({field:"visibility",value:i,source:"changeBoardVisibilityInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(n=this.model.getOrganization())||void 0===n?void 0:n.id}},attributes:{change:u!==i,previous:u,taskId:c}})}}),this.model.save(),"org"===i?d("board","sets","board visibility","","to team","",{boardid:this.model.id,change:p}):"private"===i?d("board","sets","board visibility","","to private","",{boardid:this.model.id,change:p}):"enterprise"===i&&d("board","sets","board visibility","","to enterprise","",{boardid:this.model.id,change:p}),o.popView()}}p.initClass(),e.exports=p},"./app/scripts/views/board-menu/edit-email-settings-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./node_modules/underscore/underscore.js"),a=i("./app/scripts/views/lib/alerts.js"),{Analytics:s}=i("./packages/atlassian-analytics/index.ts"),o=i("./app/scripts/db/auth.js"),l=i("./app/scripts/views/lib/confirm.js"),{featureFlagClient:c}=i("./packages/feature-flag-client/index.ts"),d=i("./app/scripts/db/model-loader.js"),u=i("./app/scripts/lib/util/index.js"),p=i("./app/scripts/views/internal/view.js"),m=i("./app/scripts/views/templates/board_menu_email.js"),h=i("./app/scripts/lib/localize.js");class g extends p{static initClass(){this.prototype.viewTitleKey="add cards via email",this.prototype.events={"change .js-select-position":"updatePosition","change .js-select-list":"updateList","click .js-generate-address":"generateAddress","click .js-send-address":"sendAddressEmail","click .js-autofocus":"focusInput"}}initialize(...e){const[{fromPowerUpDirectory:t}]=e;if(super.initialize(e),this.listenTo(this.modelCache,"add:List remove:List change:List:closed reset:List",this.frameDebounce(this.render)),this.listenTo(this.model,"change:myPrefs",this.frameDebounce(this.render)),this.allowEmail=!0,null==this.model.getPref("emailKey"))return this.model.generateEmailKey();this.fromPowerUpDirectory=null!=t&&t}render(){let e;if(this.model.canComment(o.me())){let t;const i=this.model.getPref("idEmailList"),n=this.model.listList.models.map((e=>({id:e.id,name:e.get("name")}))),a=(()=>{if(null!=(e=r.findWhere(n,{id:i})))return e.name;if(null!=(e=this.modelCache.get("List",i))&&e.get("closed")){const t=h("archived list",{listName:e.get("name")});return n.unshift({id:e.id,name:t}),t}return null!=i&&d.loadArchivedListsAndCards(this.model.id).then((()=>{if(null!=this.modelCache.get("List",i))return this.render()})),h("unknown list placeholder")})();null==i&&n.unshift({name:h("unknown list placeholder"),selected:!0}),this.$el.html(m({commentsEnabled:!0,email:null!=(t=this.model.getPref("fullEmail"))?t:"",lists:n.map((e=>({id:e.id,name:e.name,selected:e.id===i}))),listName:a,positionName:h(["email position",this.model.getPref("emailPosition")]),position:this.model.getPref("emailPosition")})),this.$el.find("#boardEmail").on("copy",(()=>{s.sendTrackEvent({action:"copied",actionSubject:"email",source:"emailToBoardSettingsInlineDialog",attributes:{fromPowerUpDirectory:this.fromPowerUpDirectory},containers:{board:{id:this.model.id}}})}))}else this.$el.html(m({commentsEnabled:!1}));return c.get("dataeng.gasv3-event-tracking",!1)&&s.sendScreenEvent({name:"emailToBoardSettingsInlineDialog",attributes:{fromPowerUpDirectory:this.fromPowerUpDirectory},containers:{board:{id:this.model.id}}}),this}focusInput(e){n(e.target).focus().select()}updateValue(e,t){const i=this.$el.find(e).val();if(null!=i&&i!==this.model.getPref(t))return this.model.setPref(t,i)}updatePosition(){return this.updateValue(".js-select-position","emailPosition")}updateList(){return this.updateValue(".js-select-list","idEmailList"),this.allowEmail=!0}generateAddress(e){u.stop(e),l.pushView("regenerate email address",{model:this.model,confirmBtnClass:"nch-button nch-button--danger",popOnClick:!0,fxConfirm:e=>(this.model.set({"myPrefs/emailKey":null}),this.allowEmail=!0,s.sendClickedButtonEvent({buttonName:"regenerateE2BAddressButton",source:"emailToBoardSettingsInlineDialog",attributes:{fromPowerUpDirectory:this.fromPowerUpDirectory},containers:{board:{id:this.model.id}}}),this.model.generateEmailKey())})}sendAddressEmail(e){u.stop(e),this.allowEmail&&(s.sendClickedButtonEvent({buttonName:"sendE2BAddressButton",source:"emailToBoardSettingsInlineDialog",attributes:{fromPowerUpDirectory:this.fromPowerUpDirectory},containers:{board:{id:this.model.id}}}),this.allowEmail=!1,this.model.api({method:"emailKey/message",type:"post"},(e=>e?a.show("could not send email","error","email",5e3):a.flash("email sent","confirm"))))}}g.initClass(),e.exports=g},"./app/scripts/views/board-menu/member-limits-error.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/db/auth.js"),a=i("./app/scripts/views/lib/limit-error-popover.js");e.exports={maybeDisplayMemberLimitsError:function(e,t,i){const s=(null!=t?t.isOverLimit("boards","totalMembersPerBoard"):void 0)?{message:"members exceeds total per board limit",params:{boardName:t.get("name"),boardId:t.get("id")}}:(null!=i?i.isOverLimit("boards","totalPerMember"):void 0)?r.isMe(i)?{message:"your boards exceed total per member limit"}:{message:"boards exceeds total per member limit",params:{memberName:i.get("name")}}:void 0;return null!=s&&(a(n.extend({trackingArea:"boardMemberLimit",elem:e},s)),!0)}}},"./app/scripts/views/board/add-list-popover-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/lib/alerts.js"),a=i("./app/scripts/views/lib/pop-over.js"),s=i("./app/scripts/lib/util/index.js"),o=i("./app/scripts/views/internal/view.js"),l=i("./node_modules/underscore/underscore.js"),c=i("./app/scripts/views/templates/popover_add_list.js"),{track:d}=i("./packages/analytics/index.ts"),{Analytics:u}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:p}=i("./packages/feature-flag-client/index.ts");class m extends o{static initClass(){this.prototype.viewTitleKey="add list",this.prototype.events={"change .js-select-list-pos":"renderValue","click .js-add-list":"addList","submit form":"addList"}}initialize({didAddList:e}){return this.didAddList=e,super.initialize(...arguments)}getLists(){return this.lists=this.model.listList,this.listsLength=this.lists.length+1}render(){return this.$el.html(c({tooManyTotalLists:this.model.isOverLimit("lists","totalPerBoard"),tooManyOpenLists:this.model.isOverLimit("lists","openPerBoard")})),this.setTimeout((()=>(this.getClosestListPos(),this.getLists(),this.updateListList())),10),this}getClosestListPos(){const e=n(".js-list"),t=[];this.closestListIdx=0,e.each((i=>{const r=parseInt(Math.abs(n(e[i]).offset().left+n(e[i]).width()/2-this.$el.offset().left),10);return t.push(r)})),this.closestListIdx=l.indexOf(t,l.min(t));const i=n(e[this.closestListIdx]);if(i.length>0&&this.$el.offset().left>i.offset().left+i.width()/2&&this.closestListIdx<e.length)return this.closestListIdx+=1}updateListList(){const e=n(this.el).find(".js-select-list-pos");for(let t=0,i=this.listsLength,r=0<=i;r?t<i:t>i;r?t++:t--)n("<option>").val(t).text(t+1).appendTo(e);let t=e.find("option:last");return t=e.find("option:eq(".concat(this.closestListIdx,")")),t.attr("selected","selected"),this.renderValue()}renderValue(){const e=parseInt(this.$(".js-select-list-pos").val(),10)+1;n(".js-pos-value").text(e.toString())}addList(e){let t,i;s.stop(e);const n=this.$(".js-list-name").val().trim();if(""===n)return void this.$(".js-list-name").focus().select();const o=this.$(".js-select-list-pos"),l=parseInt(o.find("option:selected").val(),10);i=l!==this.listsLength-1,t="List"!==n,a.hide(),this.createList({name:n,pos:this.model.calcPos(l),closed:!1},t,i).catch((()=>r.flash("could not connect","error")))}createList(e,t,i){return new Promise(((n,r)=>{const a=this.model.listList.create(e,{success:e=>(d("Board","Add List",t&&i?"Successfully Add List - Changed Name, Changed Position":t?"Successfully Add List - Changed Name, Default Position":i?"Successfully Add List - Default Name, Changed Position":"Successfully Add List - Default Name, Default Position"),p.get("dataeng.gasv3-core-event-tracking",!1)&&u.sendTrackEvent({action:"created",actionSubject:"list",source:"addListInlineDialog",containers:{board:{id:this.model.id},list:{id:e.id}},attributes:{changedPosition:i}}),this.didAddList(e)),error:()=>(this.model.listList.remove(a),r())})}))}}m.initClass(),e.exports=m},"./app/scripts/views/board/billable-guest-list-popover-view.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")(),r=i("./app/scripts/views/internal/templates.js"),a=i("./app/scripts/views/internal/view.js"),s=n.renderable((function({newBillableGuests:e}){return this.newBillableGuests=e,n.ul(".pop-over-member-list.js-billable-guest-list")}));class o extends a{static initClass(){this.prototype.viewTitleKey="billable guest list"}initialize({newBillableGuests:e}){this.newBillableGuests=e}render(){this.$el.html(s({newBillableGuests:this.newBillableGuests}));const e=this.$(".js-billable-guest-list").first().empty();for(const t of Array.from(this.newBillableGuests)){const n=Object.assign(t,{url:"/".concat(t.username),unconfirmed:!t.confirmed});e.append(r.fill(i("./app/scripts/views/templates/select_member.js"),n,{},{member:r.member}))}return this}}o.initClass(),e.exports=o},"./app/scripts/views/board/board-clean-up-view.js":function(e,t,i){const n=i("./app/scripts/views/lib/confirm.js"),r=i("./app/scripts/lib/dates.js"),a=i("./node_modules/bluebird/js/browser/bluebird.js"),s=i("./app/scripts/views/internal/teacup-with-helpers.js")("board_clean_up"),{track:o}=i("./packages/analytics/index.ts"),l=i("./app/scripts/lib/util/index.js"),c=i("./app/scripts/views/internal/view.js"),d=i("./node_modules/underscore/underscore.js"),u=s.renderable((function({ageCategories:e,lists:t}){const i=!d.isEmpty(t),n=!d.isEmpty(e),a=function(e,t){return t&&s.div(".board-clean-up-cards-options",(function(){return s.span(".board-clean-up-cards-option.js-select-all",(()=>s.format("select-all"))),s.span(".board-clean-up-cards-option.js-select-none",(()=>s.format("select-none")))})),s.div(".board-clean-up-cards",(()=>Array.from(e).map((e=>s.div(".board-clean-up-card",(function(){return t&&s.div((()=>s.span(".board-clean-up-checkbox.js-toggle-checkbox",{"data-checked":"checked","data-card":e.id},(()=>s.icon("check",{class:"board-clean-up-checkbox-check"}))))),s.a(".list-card",{href:e.get("url")},(()=>s.span(".board-clean-up-card-name",(()=>s.text(e.get("name"))))))}))))))};return s.div(".window-header.u-clearfix",(function(){return s.span(".window-header-icon.icon-lg.icon-board"),s.div(".window-title",(()=>s.h2(".window-title-text",(()=>s.format("board-clean-up")))))})),s.div(".window-main-col.window-main-col-full",(function(){if(i&&(s.p(".board-clean-up-explanation",(()=>s.format("it-looks-like-you-have-some-lists-that-havent-been-updated-recently"))),s.table(".board-clean-up-table",(()=>s.tbody((function(){return s.tr((function(){return s.th((()=>s.format("list"))),s.th((()=>s.format("cards"))),s.th((()=>s.format("last-updated"))),s.th((function(){}))})),(()=>{const e=[];for(const{id:i,listName:n,cards:o,cardCount:l,lastModified:c}of Array.from(t))s.tr(".board-clean-up-top",(function(){return s.td((()=>s.text(n))),s.td((()=>s.text(l))),s.td((()=>s.text(r.toDateString(c)))),s.td(".board-clean-up-button-cell",(()=>s.button(".board-clean-up-button.js-archive-list",{"data-list":i},(()=>s.format("archive-list")))))})),e.push(s.tr(".board-clean-up-bottom",(()=>s.td({colspan:4},(()=>a(o,!1))))));return e})()}))))),i&&n&&s.hr(),n&&(s.p(".board-clean-up-explanation",(function(){return i?s.format("you-can-also-clean-things-up-by-archiving-cards-that-havent-been-updated-in-a-while"):s.format("you-can-clean-things-up-by-archiving-cards-that-havent-been-updated-in-a-while")})),s.table(".board-clean-up-table",(()=>s.tbody((function(){return s.tr((function(){return s.th((()=>s.format("cards-updated"))),s.th((()=>s.format("cards"))),s.th((function(){}))})),(()=>{const t=[];for(const i in e){const n=e[i];s.tr(".board-clean-up-top.js-category-heading",{"data-category":i},(function(){return s.td((()=>s.format(["more-than",i]))),s.td(".js-card-count",(()=>s.text(n.length))),s.td(".board-clean-up-button-cell",(()=>s.button(".board-clean-up-button.js-archive-category",{"data-category":i},(()=>s.format("archive-selected-cards")))))})),t.push(s.tr(".board-clean-up-bottom.js-category-cards",{"data-category":i},(()=>s.td({colspan:3},(()=>a(n,!0))))))}return t})()}))))),!i&&!n)return s.p(".board-clean-up-explanation",(()=>s.format("it-doesnt-look-like-there-are-any-old-cards-to-clean-up")))}))})),p=s.renderable((function({count:e,total:t}){return s.div(".window-header.u-clearfix",(function(){return s.span(".window-header-icon.icon-lg.icon-board"),s.div(".window-title",(()=>s.h2(".window-title-text",(()=>s.format("board-clean-up")))))})),s.div(".window-main-col.window-main-col-full",(()=>s.div(".board-clean-up-progress",(()=>s.format("archiving",{count:e,total:t})))))})),m={threeMonths:{age:l.getMs({days:90})},month:{age:l.getMs({days:30})},week:{age:l.getMs({days:7})}},h=(e,t)=>(i,n)=>n.getAttribute(e)===t;class g extends c{static initClass(){this.prototype.events={"click .js-archive-category":"archiveCategory","click .js-archive-list":"archiveList","click .js-toggle-checkbox"(e){const t=this.$(e.currentTarget);return t.is("[data-checked]")?t.removeAttr("data-checked"):t.attr("data-checked","checked"),this._updateCategory(t.closest(".js-category-cards").attr("data-category"))},"click .js-select-all"(e){const t=this.$(e.currentTarget).closest(".js-category-cards");return t.find(".js-toggle-checkbox").attr("data-checked","checked"),this._updateCategory(t.attr("data-category"))},"click .js-select-none"(e){const t=this.$(e.currentTarget).closest(".js-category-cards");return t.find(".js-toggle-checkbox").removeAttr("data-checked"),this._updateCategory(t.attr("data-category"))}}}initialize(){this.progress=null,this.aborted=!1,this.makeDebouncedMethods("render"),this.listenTo(this.model.listList,"add remove reset change:closed change:idBoard",this.renderDebounced),this.listenForCards()}_updateCategory(e){const t=h("data-category",e),i=this.$(".js-category-heading").filter(t),n=this.$(".js-category-cards").filter(t),r=n.find(".js-toggle-checkbox:not([data-checked])"),a=n.find(".js-toggle-checkbox[data-checked]");return n.find(".js-select-all").toggleClass("hide",!r.length),n.find(".js-select-none").toggleClass("hide",!a.length),i.find(".js-card-count").text(a.length),i.find(".js-archive-category").toggleClass("hide",!a.length)}listenForCards(){return this.listenTo(this.modelCache,"add:Card remove:Card change:Card:closed change:Card:idList",this.renderDebounced)}stopListeningForCards(){return this.stopListening(this.modelCache)}_ageCategories(){const e=this.modelCache.find("Card",(e=>e.get("idBoard")===this.model.id&&e.isVisible()));return d.chain(m).pairs().map((function(...t){const[i,{age:n}]=Array.from(t[0]);return[i,e.filter((e=>Date.now()-r.parse(e.get("dateLastActivity"))>n))]})).filter((function(...e){const[,t]=Array.from(e[0]);return t.length>0})).object().value()}render(){if(null!=this.progress)return this.$el.html(p(this.progress)),this;const e=this.model.listList.chain().filter((e=>e.isOpen())).map((function(e){const t=e.openCards().models,i=d.chain(t).sortBy((e=>e.get("dateLastActivity"))).reverse().first().value();return{id:e.id,listName:e.get("name"),cardCount:t.length,cards:t,lastModified:null!=i?i.get("dateLastActivity"):void 0}})).filter((e=>null!=e.lastModified&&r.parse(e.lastModified)<Date.now()-l.getMs({days:30}))).sortBy((e=>-e.cardCount)).first(5).value();return this.$el.html(u({ageCategories:this._ageCategories(),lists:e})),d.keys(m).forEach((e=>this._updateCategory(e))),this}archiveCategory(e){l.stop(e);const t=this.$(e.currentTarget).attr("data-category"),i={};this.$(".js-category-cards").filter(h("data-category",t)).find(".js-toggle-checkbox").each(((e,t)=>{const n=this.$(t),r=n.attr("data-card");i[r]=n.is("[data-checked]")}));const r=this._ageCategories()[t].filter((e=>i[e.id]));if(null!=r)return n.toggle("archive cards",{elem:e.target,model:this.model,fxConfirm:e=>(o("Board Clean-Up","Archive By Age",t,r.length),this.stopListeningForCards(),this.progress={count:0,total:r.length},this.render(),this.aborted=!1,a.map(r,(e=>{if(this.aborted)return;const t=Date.now();return a.fromNode((t=>e.close(t))).then((function(){const e=1e3-(Date.now()-t);if(e>0)return a.delay(e)})).then((()=>(this.progress.count++,this.render())))}),{concurrency:5}).catch((()=>{})).then((()=>(this.progress=null,this.listenForCards(),this.render()))).done())})}archiveList(e){l.stop(e);const t=this.$(e.currentTarget).attr("data-list"),i=this.model.listList.get(t);return o("Board Clean-Up","Archive List",void 0,i.openCards().models.length),i.close()}abort(){if(this.aborted=!0,this.progress)return o("Board Clean-Up","Abort Archive By Age",void 0,this.progress.total-this.progress.count)}}g.initClass(),e.exports=g},"./app/scripts/views/board/board-header-all-members-view.js":function(e,t,i){const{Analytics:n}=i("./packages/atlassian-analytics/index.ts"),r=i("./app/scripts/db/auth.js"),a=i("./app/scripts/views/lib/drag-sort.js"),s=i("./app/scripts/views/member-menu-profile/member-on-board-view.js"),o=i("./app/scripts/views/lib/pop-over.js"),l=i("./app/scripts/lib/util/index.js"),c=i("./app/scripts/lib/util/text/search-filter.js"),d=i("./app/scripts/views/internal/view.js"),u=i("./node_modules/underscore/underscore.js"),p=i("./app/scripts/views/templates/popover_board_header_all_members.js"),m=i("./app/scripts/views/board-menu/board-member-add-multiple-view.js");class h extends d{static initClass(){this.prototype.viewTitleKey="board members",this.prototype.events={"input .js-search-board-member":"onSearchEvent","click .js-invite-to-board-link":"renderInvitationLink"}}renderMembers(e){let t;null==e&&(e=this.model.orderedVisibleMembers());const i=u.pluck(this.options.newInvitees,"id"),n=null!=this.model.get("idOrganization"),o=this.model.getOrganization(),l=r.me(),c=this.model.isMember(l)||this.model.isObserver(l)||(null!=o?o.isMember(l):void 0)?u.groupBy(e,(e=>{const t=this.model.getMembershipFor(e);return Array.from(i).includes(e.id)?"recentlyJoined":this.model.isVirtual(e)?"invited":null==t?"other":t.deactivated?"deactivated":"observer"===t.memberType?"observer":null!=t.orgMemberType||null!=(null!=o?o.getMembershipFor(e):void 0)?"team":n?"other":"member"})):{member:u.filter(e,(e=>{const t=this.model.getMembershipFor(e);return!t.deactivated&&"observer"!==t.memberType}))},d=[{selector:".js-list-members",list:c.member},{selector:".js-list-team-members",list:c.team},{selector:".js-list-recently-joined-members",list:c.recentlyJoined},{selector:".js-list-invited-members",list:c.invited},{selector:".js-list-guests",list:c.other},{selector:".js-list-observers",list:c.observer},{selector:".js-deactivated-members",list:c.deactivated}],p=1===u.keys(c).length&&(null!=c.member||null!=c.team);for(const{selector:e,list:i=[]}of Array.from(d)){const n=this.$(e),r=n.find(".js-list"),a=n.find(".js-heading");n.toggleClass("is-hidden",0===i.length),a.toggleClass("is-hidden",p),n.toggleClass("is-partial-row",i.length<8);const o=(()=>{const e=[];for(t of Array.from(i))e.push(this.subview(s,t,{board:this.model,pushView:!0}));return e})();r.length&&this.ensureSubviews(o,r)}return this.defer((()=>a.refreshDraggableSidebarMembers()))}filterMembersResult(e){const t=c(e);return u.filter(this.model.orderedVisibleMembers(),(e=>t(l.getMemNameArray(e))))}onSearchEvent(e){this.memberSearch=this.$(".js-search-board-member").val().trim();const t=this.memberSearch?this.filterMembersResult(this.memberSearch):this.model.orderedVisibleMembers();return this.$(".js-invite-no-results").toggleClass("hide",0!==t.length),this.renderMembers(t)}renderInvitationLink(e){l.stop(e),n.sendClickedLinkEvent({linkName:"inviteToBoardLink",source:"allBoardMembersInlineDialog",containers:{board:{id:this.model.id},organization:{id:g(this.model.getOrganization(),(e=>e.id))}}});const t=new m({model:this.model,modelCache:this.modelCache});t.loadOrgData(),o.toggle({elem:$(".js-open-manage-board-members"),view:t})}render(){const e={canAssign:this.model.editable(),showInviteLink:this.model.canInviteMembers()};return this.$el.html(p(e)),this.renderMembers(),n.sendScreenEvent({name:"allBoardMembersInlineDialog",containers:{board:{id:this.model.id},organization:{id:g(this.model.getOrganization(),(e=>e.id))}},attributes:{numMembers:this.model.orderedVisibleMembers().length}}),this}}function g(e,t){return null!=e?t(e):void 0}h.initClass(),e.exports=h},"./app/scripts/views/board/board-header-org-menu-view.js":function(e,t,i){const n=i("./app/scripts/db/auth.js"),r=i("./app/scripts/views/board-menu/board-select-organization-view.js"),a=i("./app/scripts/views/lib/pop-over.js"),s=i("./app/scripts/lib/util/index.js"),o=i("./app/scripts/views/internal/view.js"),l=i("./app/scripts/views/templates/popover_board_header_org_menu.js"),{dontUpsell:c}=i("./packages/browser/index.ts"),{featureFlagClient:d}=i("./packages/feature-flag-client/index.ts"),{Analytics:u,tracingCallback:p}=i("./packages/atlassian-analytics/index.ts"),m=i("./node_modules/react/index.js"),{renderComponent:h}=i("./app/src/components/ComponentWrapper/index.ts"),{BoardHeaderOrgMenuPopoverButton:g}=i("./app/src/components/UpgradePathAudit/index.ts");class b extends o{static initClass(){this.prototype.events={"click .js-change-org":"openChangeOrg","click .js-view-org":"viewOrg","click .js-upgrade-to-bc":"trackBcUpgrade"}}initialize(){super.initialize(...arguments),this.makeDebouncedMethods("render");const e=this.model.getOrganization();e&&this.listenTo(e,{"change:products":this.renderDebounced})}getViewTitle(){return this.model.getOrganization().get("displayName")}render(){const e=this.model.getOrganization(),t=e.toJSON(),i=d.get("btg.upgrade-prompt-audit",!1),r=d.get("btg.block-teamless-boards",!1);return r?t.canChangeOrg=this.model.owned():(t.canChangeOrg=(null!=e?e.owned():void 0)||this.model.owned(),t.setOrgNull=(null!=e?e.owned():void 0)&&!this.model.owned()),t.isOrgMember=e.isMember(n.me()),t.upgradePathAuditEnabled=i,t.blockTeamlessBoardsEnabled=r,t.upsellEnabled=!c(),this.$el.html(l(t)),u.sendScreenEvent({name:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:f(this.model.getOrganization(),(e=>e.id))}}}),i&&this.renderUpsellComponent(null==e?void 0:e.get("id")),this}renderUpsellComponent(e){const t=this.$("#upgrade-path-react-component")[0];e&&t&&h(m.createElement(g,{orgId:e}),t)}openChangeOrg(e){if(s.stop(e),this.model.owned())a.pushView({view:r,options:{model:this.model,modelCache:this.modelCache}}),u.sendClickedLinkEvent({linkName:"changeBoardOrganizationLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:f(this.model.getOrganization(),(e=>e.id))}}});else{const e=u.startTask({taskName:"edit-board",subTask:"idOrganization",source:"boardOrganizationInlineDialog"}),t=this.model.get("idOrganization");f(this.modelCache.get("Organization",t),(e=>e.boardList.remove(this.model)));const i={idOrganization:"",traceId:e};this.model.update(i,p({taskName:"edit-board",subTask:"idOrganization",source:"boardOrganizationInlineDialog",traceId:e},(i=>{i||u.sendUpdatedBoardFieldEvent({field:"organization",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:f(this.model.getOrganization(),(e=>e.id))}},attributes:{previous:t,taskId:e}})}))),a.hide()}}viewOrg(){return u.sendClickedLinkEvent({linkName:"viewOrganizationLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:f(this.model.getOrganization(),(e=>e.id))}}})}trackBcUpgrade(){return u.sendClickedLinkEvent({linkName:"upgradeToBCLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:f(this.model.getOrganization(),(e=>e.id))}}})}}function f(e,t){return null!=e?t(e):void 0}b.initClass(),e.exports=b},"./app/scripts/views/board/board-view-background.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{UnsplashTracker:r}=i("./packages/unsplash/index.ts"),a=i("./app/scripts/lib/favicon.js"),s=i("./app/scripts/data/backgrounds.js"),o=i("./app/scripts/lib/util/index.js");function l(e,t){return null!=e?t(e):void 0}e.exports.getAllBackgroundClasses=()=>["body-custom-board-background","body-custom-board-background-tiled","body-light-board-background","body-dark-board-background","body-ambiguous-board-background","body-default-header"].join(" "),e.exports.defaultBoardBackground=function(){this.clearBoardBackground(),n("#trello-root").addClass("body-default-header")},e.exports.clearBoardBackground=function(){const e=this.getAllBackgroundClasses();n("#trello-root").removeClass(e).css({"background-image":"","background-color":""})},e.exports.renderBoardBackground=function(e){null==e&&(e=!1),this.clearBoardBackground();const t=this.model.get("prefs"),i=n("#trello-root");if(t.background.startsWith("gradient-")){const e=t.backgroundImage;return(()=>(i.addClass("body-gradient-board-background"),i.css({"background-color":t.backgroundColor,"background-image":'url("'.concat(e,'")')}),a.setBackground({url:e,tiled:t.backgroundTile})))()}if(null!=t.backgroundColor){const e=this.model.getClientBackgroundColor(t.background);return i.css({"background-color":e}),a.setBackground({color:e})}{let n,c;if(s.hasOwnProperty(t.background)){let e;c=null!=(e=l(o.smallestPreviewBiggerThan(t.backgroundImageScaled,640,480),(e=>e.url)))?e:t.backgroundImage}else{let e;c=null!=(e=l(o.biggestPreview(t.backgroundImageScaled,t.backgroundImage),(e=>e.url)))?e:t.backgroundImage}if(t.backgroundTile)n=c;else{let e;n=null!=(e=l(o.smallestPreviewBiggerThan(t.backgroundImageScaled,64,64),(e=>e.url)))?e:t.backgroundImage}const d=()=>{i.addClass("body-custom-board-background"),t.backgroundTile&&i.addClass("body-custom-board-background-tiled");const e=t.backgroundBrightness;if(t.backgroundTopColor){e!==o.calculateBrightness(t.backgroundTopColor)&&i.addClass("body-ambiguous-board-background")}switch(e){case"light":i.addClass("body-light-board-background");break;case"dark":i.addClass("body-dark-board-background")}return i.css({"background-image":'url("'.concat(c,'")')}),r.trackOncePerInterval(c),a.setBackground({url:n,tiled:t.backgroundTile})};return e?o.waitForImageLoad(c).then(d):d()}},e.exports.renderBoardHeaderSubscribed=function(){const e=this.model.get("subscribed");return this.$(".js-board-header-subscribed").toggleClass("hide",!e),this}},"./app/scripts/views/board/board-view-card.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{Analytics:r}=i("./packages/atlassian-analytics/index.ts"),{idCache:a}=i("./packages/shortlinks/index.ts"),s=i("./app/scripts/models/card.js"),o=i("./app/scripts/network/payloads.ts").default,l=i("./app/scripts/lib/util/index.js"),c=i("./app/scripts/views/lib/pop-over.js"),d=i("./app/scripts/views/board/add-list-popover-view.js"),{canAddCard:u}=i("./app/scripts/views/card/card-limits-error.js");e.exports.openCardComposerInFirstList=function(){const e=this.model.listList.first();this.model.composer.save({list:e,index:e.openCards().length,vis:!0}),r.sendUIEvent({action:"opened",actionSubject:"cardComposer",source:"boardScreen",attributes:{method:"firstList"}})},e.exports.scrollToCard=function(e){const t=e.getList();return this.scrollToList(t),this.viewForList(t).scrollToCard(e)},e.exports.preventScrollSelection=function(){if(this.ignoreMouseCardSelects)return;this.ignoreMouseCardSelects=!0;const e=()=>n(document).one("mousemove",(t=>{!function(e){const{movementX:t,movementY:i}=e.originalEvent;return 0!==t||0!==i}(t)?e():this.ignoreMouseCardSelects=!1}));e()},e.exports.moveCard=function(e){let t,i;this.preventScrollSelection();const n=this.model.viewState.getCard();if(null==n){const e=this.model.listList.find((e=>!e.openCards().isEmpty()));return void(null!=e&&e.selectFirstCardInList())}const r=n.getList(),a=r.openCards(),s=a.indexOf(n),o=(e,t,i,n)=>{let r=e+t;if(this.model.filter.isFiltering)for(;0<=r&&r<i&&!n(r);)r+=t;return r};if(["up","down"].includes(e)){if(i=o(s,"up"===e?-1:1,a.length,(e=>this.model.filter.satisfiesFilter(a.at(e)))),0<=i&&i<a.length)return t=a.at(i),this.scrollToCard(t),this.model.viewState.selectCard(t)}else if(["left","right"].includes(e)){const n=this.model.listList,a=n.indexOf(r),l=o(a,"left"===e?-1:1,n.length,(e=>n.at(e).openCards().any((e=>this.model.filter.satisfiesFilter(e)))));if(0<=l&&l<n.length){const e=n.at(l).openCards(),r=Math.min(s,e.length-1);return(()=>{const n=[];for(const a of[1,-1]){if(i=o(r-a,a,e.length,(t=>this.model.filter.satisfiesFilter(e.at(t)))),0<=i&&i<e.length){t=e.at(i),this.model.viewState.selectCard(t),this.scrollToCard(t);break}n.push(void 0)}return n})()}}},e.exports.dblClickAddListMenu=function(e){if(l.stop(e),!(n(e.target).closest(".js-card-templates-button").length>0)&&this.model.editable()){let t;if(0===n(e.target).closest(".js-list-content").length)this.model.viewState.get("listComposerOpen")||(r.sendScreenEvent({name:"addListInlineDialog",attributes:{method:"doubleClick"}}),c.show({clientx:e.clientX,clienty:e.clientY,view:new d({model:this.model,modelCache:this.modelCache,didAddList:e=>this.scrollToList(e)})}));else if(null!=(t=this.model.viewState.getList())){if(0===this.$(document.elementFromPoint(e.clientX,e.clientY)).closest(".list-header-name,.card-composer,.list-card").length){const i=this.$(document.elementFromPoint(e.clientX,e.clientY-16)).closest(".list-card");r.sendUIEvent({action:"opened",actionSubject:"cardComposer",source:"boardScreen",attributes:{method:"doubleClick"}}),this.model.composer.save({list:t,index:i.length?Math.max(i.closest(".js-list-cards").find(">.list-card").index(i),0)+1:0,vis:!0})}}}},e.exports._insertCardPosition=function(e){const t=this.model.viewState.getCard();return null!=t?{idList:t.get("idList"),index:t.getIndexInList()}:{idList:e,index:this.model.listList.get(e).cardList.length}},e.exports.moveCardRequested=function(e,{shortLink:t,idList:i}){let n,r;({idList:i,index:n}=this._insertCardPosition(i));const l=null!=(r=a.getId("Card",t))?r:t;return s.load(l,o.cardMinimal,this.modelCache).then((e=>{const t=this.model.listList.get(i);if(e.get("idList")===i||u({destinationList:t}))return e.moveToList(t,n)})).done()},e.exports.copyCardRequested=function(e,{shortLink:t,idList:i,traceId:n}){let r,l;({idList:i,index:r}=this._insertCardPosition(i));const c=null!=(l=a.getId("Card",t))?l:t;return s.load(c,o.cardMinimal,this.modelCache).then((e=>{const t=this.model.listList.get(i),a={hasChecklists:e.checklistList.length>0,hasAttachments:e.attachmentList.length>0,destinationBoard:this.model,destinationList:t};if(u(a))return e.copyTo({idList:i,pos:this.model.listList.get(i).calcPos(r,e),traceId:n})})).done()}},"./app/scripts/views/board/board-view-collaboration.js":function(e,t,i){const n=i("./app/scripts/controller/index.js"),r=i("./node_modules/react/index.js"),a=i("./packages/react-dom-wrapper/index.ts"),{Feature:s}=i("./app/scripts/debug/constants.ts"),{sendErrorEvent:o}=i("./packages/error-reporting/index.ts"),{WorkspacesPreambleBoardHeaderButton:l,WorkspacesPreambleBoardInviteButton:c}=i("./app/src/components/WorkspacesPreamble/index.ts"),{WorkspacesAutoNameAlert:d}=i("./app/src/components/WorkspacesAutoNameAlert/index.ts"),{renderComponent:u}=i("./app/src/components/ComponentWrapper/index.ts");e.exports.unmountWorkspacesAutoNameAlert=function(){this.workspacesAutoNameAlertTarget&&(a.unmountComponentAtNode(this.workspacesAutoNameAlertTarget),this.workspacesAutoNameAlertTarget=null)},e.exports.renderWorkspacesAutoNameAlert=function(){if(!this.workspacesAutoNameAlertTarget&&(this.workspacesAutoNameAlertTarget=this.$("#workspaces-auto-name-alert")[0],this.workspacesAutoNameAlertTarget))try{u(r.createElement(d,{boardId:this.model.id,orgId:this.model.get("idOrganization")}),this.workspacesAutoNameAlertTarget)}catch(e){o(e,{tags:{ownershipArea:"trello-bizteam",feature:s.WorkspacesAutoNameAlert},extraData:{component:"board-view-collaboration"}})}},e.exports.unmountWorkspacesPreambleBoardHeaderButton=function(){this.workspacesPreambleBoardHeaderButtonTarget&&(a.unmountComponentAtNode(this.workspacesPreambleBoardHeaderButtonTarget),this.workspacesPreambleBoardHeaderButtonTarget=null)},e.exports.onWorkspacesPreambleCreateTeamSuccess=function(e){if(e)return n.organizationBoardsView(e,{shouldShowTeamfulCollaborationPrompt:!0}).then((()=>this.unmountWorkspacesPreambleBoardHeaderButton()))},e.exports.renderWorkspacesPreambleBoardHeaderButton=function(){this.unmountWorkspacesPreambleBoardHeaderButton(),this.workspacesPreambleBoardHeaderButtonTarget=this.$("#workspaces-preamble-board-header-button")[0],this.workspacesPreambleBoardHeaderButtonTarget&&(u(r.createElement(l,{boardId:this.model.id,canAutoShow:!this.workspacesPreamblePromptHasBeenSeen,onCreateTeamSuccess:e=>this.onWorkspacesPreambleCreateTeamSuccess(e)}),this.workspacesPreambleBoardHeaderButtonTarget),this.workspacesPreamblePromptHasBeenSeen=!0)},e.exports.unmountWorkspacesPreambleInviteButton=function(){if(this.workspacesPreambleInviteButtonTarget)return a.unmountComponentAtNode(this.workspacesPreambleInviteButtonTarget)},e.exports.renderWorkspacesPreambleInviteButton=function(){this.unmountWorkspacesPreambleInviteButton(),this.workspacesPreambleInviteButtonTarget=this.$("#workspaces-preamble-invite-button")[0],this.workspacesPreambleInviteButtonTarget&&(u(r.createElement(c,{boardId:this.model.id,onSuccess:()=>{this.hasAddedBoardToTeamViaInviteButton=!0}}),this.workspacesPreambleInviteButtonTarget),this.hasAddedBoardToTeamViaInviteButton&&(this.hasAddedBoardToTeamViaInviteButton=!1,this.openAddMembers()))}},"./app/scripts/views/board/board-view-copy.js":function(e,t,i){const n=i("./app/scripts/lib/util/index.js"),r=i("./app/scripts/views/lib/pop-over.js"),a=i("./app/scripts/views/board/copy-board-view.js");e.exports.copyBoard=function(e){return n.stop(e),r.toggle({elem:this.$(e.target).closest(".js-copy-board"),view:new a({model:this.model,modelCache:this.modelCache})})}},"./app/scripts/views/board/board-view-getting-started-tip.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"unmountGettingStartedTip",(function(){return d})),i.d(t,"renderGettingStartedTip",(function(){return u}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/react-dom-wrapper/index.ts"),s=i("./app/src/components/ComponentWrapper/index.ts"),o=i("./packages/use-lazy-component/index.ts");const l=e=>{const t=Object(o.useLazyComponent)((()=>i.e(75).then(i.bind(null,"./app/src/components/FreeTeamOnboardingPupPopover/FreeTeamOnboardingPupPopover.tsx"))),{namedImport:"FreeTeamOnboardingPupPopover"});return r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(t,e))},c=e=>{const t=Object(o.useLazyComponent)((()=>i.e(42).then(i.bind(null,"./app/src/components/FreeTeamOnboardingButlerPopover/ButlerPopover.tsx"))),{namedImport:"ButlerPopover"});return r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(t,e))};function d(){const e=document.querySelector("#getting-started-tip-target");if(null!==e)return a.default.unmountComponentAtNode(e)}function u(e){let t=document.querySelector("#getting-started-tip-target");if(!t){var i;const e=document.createElement("div"),n="getting-started-tip-target";e.id=n,null===(i=document.querySelector(".board-main-content"))||void 0===i||i.append(e),t=document.querySelector("#getting-started-tip-target")}const n=this.model.get("id"),a=this.model.getOrganization();if(!a)return;const o=a.get("id"),d=a.get("name");"butler"===e?Object(s.renderComponent)(r.a.createElement(c,{boardId:n}),t):"pups"===e&&Object(s.renderComponent)(r.a.createElement(l,{orgId:o,boardId:n,teamName:d}),t)}},"./app/scripts/views/board/board-view-header.js":function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s=i("./node_modules/underscore/underscore.js"),{track:o}=i("./packages/analytics/index.ts"),{Analytics:l}=i("./packages/atlassian-analytics/index.ts"),c=i("./app/scripts/lib/util/index.js"),d=i("./app/scripts/views/board/board-clean-up-view.js"),u=i("./app/scripts/db/auth.js"),p=i("./app/scripts/lib/localize.js"),m=i("./app/scripts/views/templates/board_header.js"),h=i("./app/scripts/data/copy-board-header-button-teams.js"),{featureFlagClient:g,seesVersionedVariation:b}=i("./packages/feature-flag-client/index.ts"),{logoDomain:f}=i("./packages/config/index.ts"),v=i("./packages/browser/index.ts").isDesktop(),k=i("./app/scripts/views/lib/dialog.js"),y=i("./node_modules/react/index.js"),w=i("./packages/react-dom-wrapper/index.ts"),{renderComponent:j}=i("./app/src/components/ComponentWrapper/index.ts"),{BoardViewsButton:x}=i("./app/src/components/BoardViewsButton/index.ts"),{ErrorBoundary:C}=i("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),{Feature:_}=i("./app/scripts/debug/constants.ts"),{TimelineViewWrapper:O}=i("./app/src/components/TimelineViewWrapper/index.ts"),{AdvancedCalendarView:E}=i("./app/src/components/AdvancedCalendarView/index.ts"),S=i("./app/scripts/controller/index.js"),T=i("./app/scripts/data/legacy-power-ups.js"),{navigate:N}=i("./app/scripts/controller/navigate.js"),{sendPluginTrackEvent:P}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{ButlerBoardButtons:I}=i("./app/src/components/Butler/Buttons/ButlerBoardButtons.tsx"),{PremiumFeature:B}=i("./packages/product-features/index.ts"),{BoardHeaderTestIds:D}=i("./packages/test-ids/index.ts"),{canViewTeamTablePage:A}=i("./app/src/components/ViewsGenerics/index.ts"),L=i("./app/scripts/views/internal/plugins/plugin-runner.js"),{CalendarIcon:F}=i("./packages/nachos/icons/calendar.tsx"),{TimelineIcon:M}=i("./packages/nachos/icons/timeline.tsx"),{LocationIcon:V}=i("./packages/nachos/icons/location.tsx"),{ListIcon:R}=i("./packages/nachos/icons/list.tsx"),{DashboardIcon:z}=i("./packages/nachos/icons/dashboard.tsx"),U=i("./packages/config/index.ts").mapPowerUpId,H=T.calendar;e.exports.renderBoardHeader=function(){var e;const t=this.model.isPremOrgAdmin(u.me()),i={name:this.model.get("name"),canRename:t||this.model.owned(),isLoggedIn:u.isLoggedIn(),isAdmin:this.model.ownedByMember(u.me()),isMember:this.model.isMember(u.me()),isPrivateTeam:this.model.hasOrganization()&&!this.model.getOrganization(),isPrivateTeamForEnterpriseVisibleBoard:this.model.hasOrganization()&&"enterprise"===this.model.getPref("permissionLevel"),isUntitled:this.model.get("name")===p(["untitled board"]),canJoin:this.model.canJoin(),canInviteMembers:this.model.canInviteMembers(),selfJoin:this.model.allowsSelfJoin(),canAssign:this.model.editable(),boardCardCount:null===(e=this.model.openCards())||void 0===e?void 0:e.filter((e=>this.model.filter.satisfiesFilter(e))).length,isTemplate:this.model.isTemplate()};this.calendarView?i.currentBoardView="calendar":this.mapView?i.currentBoardView="map":i.currentBoardView="list",i.starTooltipKey=this.model.isTemplate()?"click-to-star-or-unstar-this-template-starred-templates-show-up-at-the-top-of-your-boards-list":"click-to-star-or-unstar-this-board-starred-boards-show-up-at-the-top-of-your-boards-list";const n=this.model.getOrganization();if(n){var r;i.orgDisplayName=n.get("displayName"),i.orgName=n.get("name"),i.showCopyButton=s.contains(h,n.id);const e=n.get("logoHash"),t=null===(r=n.getEnterprise())||void 0===r?void 0:r.get("logoHash");t?(i.orgLogoUrl="".concat(f,"/").concat(t,"/30.png"),i.orgLogoUrl2x="".concat(f,"/").concat(t,"/170.png")):e&&(i.orgLogoUrl="".concat(f,"/").concat(e,"/30.png"),i.orgLogoUrl2x="".concat(f,"/").concat(e,"/170.png")),i.isStandard=n.isStandard(),i.hasBusinessClass=n.isPremium(),i.isBusinessClass=n.isBusinessClass(),i.isEnterprise=n.get("idEnterprise")}return this.$(".js-board-header").html(m(i)),this.renderWorkspacesPreambleInviteButton(),n?this.unmountWorkspacesPreambleBoardHeaderButton():this.renderWorkspacesPreambleBoardHeaderButton(),this.renderPermissionLevel(),this.renderBoardHeaderCalendar(),this.renderBoardHeaderSubscribed(),this.renderBoardHeaderMap(),this.renderFilteringStatus(),this.renderBoardHeaderStarred(),this.renderPluginButtons(),this.renderButlerBoardButtons(),this.renderBoardHeaderFacepile(),this.renderBoardTemplateBadge(),this.renderWorkspacesAutoNameAlert(),this.renderBoardViewsButton(),this.loadPowerUpViewsButtonOptions(),this},e.exports.renderBoardHeaderStarred=function(){return this.$(".js-star-board").toggleClass("board-header-btn-enabled",this.model.isStarred()),this},e.exports.toggleStarred=function(){const{boardStarList:e}=u.me(),t=e.getBoardStar(this.model.id);return t?(e.unstarBoard(this.model.id),o("Board Header","Unstar Board")):(e.starBoard(this.model.id),o("Board Header","Star Board")),l.sendUpdatedBoardFieldEvent({field:"star",value:!!t,source:"boardScreen",containers:{board:{id:this.model.id}}}),this},e.exports.openFilter=function(e){var t,i;c.stop(e),o("Board Header","Open Filtering via Header"),l.sendClickedButtonEvent({buttonName:"boardFilterButton",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(i=this.model.getEnterprise())||void 0===i?void 0:i.id}}}),this.sidebarView.pushView("filter")},e.exports.clearFilters=function(e){var t,i;c.stop(e),o("Board Header","Clear Filtering via Header"),l.sendClickedButtonEvent({buttonName:"clearBoardFilterButton",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(i=this.model.getEnterprise())||void 0===i?void 0:i.id}}}),this.model.filter.clear()},e.exports.showCleanUp=function(e){c.stop(e),o("Board Header","Show Clean-Up");const t=new d({model:this.model,modelCache:this.modelCache});k.show({view:t,maxWidth:800,hide:()=>t.abort()})},e.exports.renderBoardViewsButton=function(){const e=this.el.querySelector(".js-board-views-btn-container");if(!e)return;const t=async()=>{const t=u.me();let i,n=void 0,r=void 0,a=!1,s=void 0,o=!1,l=!1,c=void 0,d=void 0;if(this.model.hasOrganization()){r=this.model.get("idOrganization");const e=this.model.getOrganization(),u=!this.model.isEnterpriseBoard()&&!this.model.isBcBoard();c=this.model.isGuest(t),d=c&&u,e?(n=e.get("name"),o=Boolean(e.isMember(t)),l=e.isFeatureEnabled(B.Views),a=A(l,e.isBusinessClass()||e.isEnterprise()),i=e.getPaidStatus()):s=!0}j(y.createElement(C,{tags:{ownershipArea:"trello-remarkable",feature:_.BoardViewsButton},errorHandlerComponent:()=>null},y.createElement(x,{isTeamMember:o,orgName:n,idOrg:r,isOrgPrivate:s,paidStatus:i,isStandardOrFreeTeamBoardGuest:d,hasViewsFeature:l,shouldShowTeamTableLink:a,idBoard:this.model.id,oneTimeMessagesDismissed:t.attributes.oneTimeMessagesDismissed,shortLink:this.model.get("shortLink"),preloadPlugins:()=>this.model.getAvailablePlugins(),viewOptions:this.getBoardViewsButtonOptions(),clearFilters:()=>this.model.filter.clear(),backgroundBrightness:this.model.getPref("backgroundBrightness"),isLoadingPowerUpViews:this.isLoadingPowerUpViews,powerUpViewOptions:this.getPowerUpViewOptions(),setIframePopoverOverlayVisibility:e=>{this.$(".js-plugin-iframe-container").toggleClass("plugin-iframe-container-pop-over-shown",e)}})),e)};this.boardViewsButtonPreviouslyRender?t():s.defer((()=>(t(),this.boardViewsButtonPreviouslyRender=!0)))},e.exports.getBoardViewsButtonOptions=function(){const e=this.model.getEnterprise(),t=u.me(),i="none"!==this.model.getViewPermState(t),n=!this.model.canEnableAdditionalPowerUps(),a=this.model.editable(),s=this.model.hasOrganization()&&!this.model.getOrganization(),o=this.model.hasOrganization()&&this.model.getOrganization()&&!this.model.getOrganization().isMember(t),c=s||o,d=this.model.isFeatureEnabled(B.Views),p=({isPowerUpEnabled:e,isPowerUpAllowed:t})=>{if(!e){if(!t)return!1;if(n&&a)return!c&&!v;if(i)return a}return a||i},m=(t,i)=>{const n={pluginName:i,pluginId:t,pluginTags:this.model.get("tags")},a=l.startTask({taskName:"enable-plugin",source:"boardViewsInlineDialog",attributes:n}),s=S.getBoardUrl(this.model.id,i);if(this.model.isPluginEnabled(t))l.taskAborted({taskName:"enable-plugin",source:"boardViewsInlineDialog",traceId:a,error:new Error("plugin already enabled"),attributes:r({},n)}),N(s,{trigger:!0});else if(this.model.editable()){if(!(!e||e.isPluginAllowed(t)))return void l.taskAborted({taskName:"enable-plugin",source:"boardViewsInlineDialog",traceId:a,error:new Error("plugin not allowed"),attributes:r({},n)});this.model.enablePluginWithTracing(t,{traceId:a,attributes:n,taskName:"enable-plugin",source:"boardViewsInlineDialog",next:e=>{e||(P({idPlugin:t,idBoard:this.model.id,event:{action:"added",actionSubject:"powerUp",source:"boardViewsInlineDialog",attributes:{tags:this.model.get("tags"),taskId:a}}}),N(s,{trigger:!0}))}})}},h=e=>{var t,i;l.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:e,source:"boardViewsInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(i=this.model.getEnterprise())||void 0===i?void 0:i.id}}})},f={name:"board",descriptionString:"board-view-description",icon:R,navigateTo:()=>{const e=S.getBoardUrl(this.model.id);N(e,{trigger:!0})},track:()=>h("boardViewDropdownItem"),isVisible:!0,isGA:!0,testId:D.BoardViewOption},k=b("ecosystem.calendar-view","stable")&&d,y=g.get("ecosystem.pups-views-transition",!1),w=!y,j={name:"calendar",descriptionString:"calendar-view-description",icon:F,showUpsell:!this.model.canEnableAdditionalPowerUps()&&!this.model.isPluginEnabled(H)&&!v,navigateTo:()=>m(H,"calendar"),track:()=>h("calendarViewDropdownItem"),isVisible:w&&!k&&p({isPowerUpEnabled:this.model.isPluginEnabled(H),isPowerUpAllowed:!e||e.isPluginAllowed(H)}),isGA:!0},x=!y||d,C={name:"map",descriptionString:"map-view-description",icon:V,showUpsell:!this.model.canEnableAdditionalPowerUps()&&!this.model.isPluginEnabled(U)&&!v,navigateTo:()=>m(U,"map"),track:()=>h("mapViewDropdownItem"),isVisible:x&&p({isPowerUpEnabled:this.model.isPluginEnabled(U),isPowerUpAllowed:!e||e.isPluginAllowed(U)}),isGA:!0,testId:D.MapViewOption},_=g.get("ecosystem.views-beta-phase-transition",!1),O=g.get("ecosystem.timeline-version","none");return[f,j,C,{name:"timeline",descriptionString:"timeline-view-description",icon:M,navigateTo:()=>{const e=S.getBoardUrl(this.model.id,"timeline");N(e,{trigger:!0})},track:()=>h("timelineViewDropdownItem"),isVisible:"none"!==O&&d,isBeta:!_,testId:D.TimelineViewOption},{name:"calendar-view",descriptionString:"calendar-view-description",icon:F,navigateTo:()=>{const e=S.getBoardUrl(this.model.id,"calendar-view");N(e,{trigger:!0})},track:()=>h("advancedCalendarViewDropdownItem"),isVisible:k,isBeta:!_,testId:D.CalendarViewOption},{name:"dashboard",descriptionString:"dashboard-view-description",icon:z,navigateTo:()=>{const e=S.getBoardUrl(this.model.id,"dashboard");N(e,{trigger:!0})},track:()=>h("dashboardViewDropdownItem"),isBeta:!_,isVisible:b("wildcard.board-dashboard-view","stable")&&d,testId:D.DashboardViewOption}]},e.exports.removeBoardViewsButton=function(){if(this.$(".js-board-views-btn-container").length)return w.unmountComponentAtNode(this.$(".js-board-views-btn-container")[0])},e.exports.loadPowerUpViewsButtonOptions=async function(){if(g.get("ecosystem.power-up-views",!1)){try{this.isLoadingPowerUpViews=!0;const e=await L.all({timeout:5e3,command:"board-views",board:this.model});this.powerUpViews=e}catch(e){console.warn("Failed to request Power-Up views.")}this.isLoadingPowerUpViews=!1,this.renderBoardViewsButton()}},e.exports.getPowerUpViewOptions=function(){return this.powerUpViews&&0!==this.powerUpViews.length?this.powerUpViews.map((e=>r(r({},e),{},{navigateTo:()=>{const t=S.getBoardUrl(this.model.id,"power-up",[e.idPlugin,"view",e.key]);N(t,{trigger:!0})}}))):[]},e.exports.showTimeline=function(){const e=g.get("ecosystem.timeline-version","none"),t=this.model.isFeatureEnabled(B.Views);if("none"!==e&&t){this.$("#board").addClass("hide");const e=this.$(".js-board-view-container")[0];j(y.createElement(O,{idBoard:this.model.id,navigateToCard:(e,t)=>{S.showCardDetail(this.modelCache.get("Card",e),t)},closeView:()=>{const e=S.getBoardUrl(this.model.id);N(e,{trigger:!0})}}),e)}else{const e=S.getBoardUrl(this.model.id);N(e,{trigger:!0})}},e.exports.showAdvancedCalendar=function(){const e=b("ecosystem.calendar-view","stable"),t=this.model.isFeatureEnabled(B.Views);if(e&&t){this.$("#board").addClass("hide");const e=this.$(".js-board-view-container")[0];j(y.createElement(E,{idBoard:this.model.id,navigateToCard:e=>{S.showCardDetail(this.modelCache.get("Card",e))},closeView:()=>{const e=S.getBoardUrl(this.model.id);N(e,{trigger:!0,shouldTrack:!1})}}),e)}else{const e=S.getBoardUrl(this.model.id);N(e,{trigger:!0,shouldTrack:!1})}},e.exports.closeSingleBoardView=function(){const e=this.$(".js-board-view-container")[0];w.unmountComponentAtNode(e),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1),this.renderBoardViewsButtonDebounced()},e.exports.renderButlerBoardButtons=function(){g.ready().then((()=>{if(g.get("workflowers.new-butler-board-button",!1)){const e=this.$(".js-butler-header-btns")[0];e&&j(y.createElement(I,{idBoard:this.model.id}),e)}}))}},"./app/scripts/views/board/board-view-invitation.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./node_modules/react/index.js"),a=i("./packages/react-dom-wrapper/index.ts"),s=i("./node_modules/moment/moment.js"),o=i("./app/scripts/views/board/invite-acceptance-notification.js"),l=i("./app/scripts/db/auth.js"),c=i("./app/scripts/lib/util/index.js"),d=i("./node_modules/underscore/underscore.js"),{Analytics:u}=i("./packages/atlassian-analytics/index.ts");e.exports.closeInviteAcceptanceNotification=function(){return this.unmountInviteAcceptanceNotification()},e.exports.buildInviteAcceptanceNotification=function(e){return r.createElement(o,{members:e,onClose:()=>this.closeInviteAcceptanceNotification()})},e.exports.getNewlySignedUpInvitees=function(){const e=l.me().id,t=s(this.model.get("previousDateLastView")),i={};return this.model.memberList.models.forEach((e=>i[e.get("id")]=e)),this.model.get("memberships").reduce(((n,r)=>{const a=i[r.idMember];return a&&s(c.idToDate(a.id)).isAfter(t)&&a.get("idMemberReferrer")===e&&"normal"===a.get("memberType")?n.concat(a):n}),[])},e.exports.renderPopovers=function(){const e=this.model.orderedVisibleMembers(),t=this.getNewlySignedUpInvitees();!l.me().isDismissed("notify-invite-acceptance")&&0!==t.length&&!this.hasSeenInviteAcceptanceNotification?(this.renderInviteAcceptanceNotification(t,d.map(e,(e=>e.id))),t.forEach((function(e){return u.sendOperationalEvent({action:"rendered",actionSubject:"inviteAcceptanceNotification",source:"boardScreen",attributes:{referringMember:l.me().id,newMember:e.id}})}))):t.forEach((function(e){return u.sendOperationalEvent({action:"skipped",actionSubject:"inviteAcceptanceNotification",source:"boardScreen",attributes:{referringMember:l.me().id,newMember:e.id}})}))},e.exports.renderInviteAcceptanceNotification=function(e,t){let i="#member-count-notifications";if(1===e.length&&Array.from(t).includes(e[0].id)){const t="#".concat(e[0].id,"-avatar");i=null!=n(t).offset()?t:"#member-count"}this.unmountInviteAcceptanceNotification(),this.hasSeenInviteAcceptanceNotification=!0,this.inviteAcceptanceNotificationDiv=document.createElement("div"),this.$("#board-header-notification").append(this.inviteAcceptanceNotificationDiv),this.inviteAcceptanceNotificationComponent=a.render(this.buildInviteAcceptanceNotification(e),this.inviteAcceptanceNotificationDiv);const r=n(i);return n(".invite-acceptance-notification").css("left",r.offset().left-16),this},e.exports.unmountInviteAcceptanceNotification=function(){null!=this.inviteAcceptanceNotificationDiv&&(a.unmountComponentAtNode(this.inviteAcceptanceNotificationDiv),this.inviteAcceptanceNotificationDiv=null,this.inviteAcceptanceNotificationComponent=null)}},"./app/scripts/views/board/board-view-limit.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),{TrelloStorage:r}=i("./packages/storage/index.ts"),a=i("./app/scripts/views/templates/board_header_warnings.js"),s=i("./app/scripts/lib/limits.js"),o=i("./app/scripts/lib/util/index.js");e.exports.renderBoardWarnings=function(){const e=this.$(".js-board-warnings"),t=s.sort(s.filterByKeys(this.model.get("limits"),["cards.openPerBoard","cards.totalPerBoard","checklists.perBoard","labels.perBoard","lists.openPerBoard","lists.totalPerBoard","attachments.perBoard"]).filter((e=>"ok"!==e.status))),i={"cards.openPerBoard":"open-cards-per-board-limit","cards.totalPerBoard":"total-cards-per-board-limit","checklists.perBoard":"checklists-per-board-limit","labels.perBoard":"labels-per-board-limit","lists.openPerBoard":"open-lists-per-board-limit","lists.totalPerBoard":"total-lists-per-board-limit","attachments.perBoard":"attachments-per-board-limit"},l=this.model.editable(),c=o.dateBefore({months:6}),d=t.map((function(e){const t=e.key,n="warn"===e.status?"warn":"disabled";return[t,{key:"".concat(i[e.key],"-").concat(n),test:()=>l,minDismiss:c}]})),u=e=>"BoardWarning-".concat(e,"-").concat(this.model.id),p=n.chain(d).filter((function(...e){const[t,{test:i,minDismiss:n}]=Array.from(e[0]);if(i()){const e=r.get(u(t));return!e||e<n}})).map((function(...e){const[t,{key:i}]=Array.from(e[0]);return{name:t,key:i,dismiss:u(t)}})).first().value();return n.chain(d).filter((function(...e){const[t,{test:i}]=Array.from(e[0]);return!i()&&null!=r.get(u(t))})).each((function(...e){const[t]=Array.from(e[0]);return r.unset(u(t))})).value(),p?e.removeClass("hide").html(a({canDismiss:r.isEnabled(),warning:p})):e.addClass("hide"),this}},"./app/scripts/views/board/board-view-list.js":function(e,t,i){const n=i("./app/scripts/lib/util/index.js"),r=i("./app/scripts/views/lib/drag-sort.js"),a=i("./app/scripts/debug/log.js");e.exports.openListComposer=function(){return this.model.viewState.openListComposer()},e.exports.scrollToList=function(e){n.scrollElementIntoView(this.$("#board")[0],this.viewForList(e).el,{horizontal:!0,animated:!0})},e.exports.viewForList=function(e){return this.listListView.viewForModel(e)},e.exports.postListListRender=function(){return a("render","rendering inline composer and calculating list layout"),this.renderFilteringStatus(),this.renderInspirationPopover(),r.refreshListCardSortable()},e.exports.renderLists=function(){return this.listListView.$el.toggleClass("js-list-sortable",this.model.editable()),this.$(".board-canvas").append(this.listListView.el),this.listListView.render(),this.listListView.delegateEvents(),this},e.exports.sortCommit=(e,t)=>t.item.trigger("movelist",t)},"./app/scripts/views/board/board-view-member.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{Analytics:r,tracingCallback:a}=i("./packages/atlassian-analytics/index.ts"),s=i("./app/scripts/db/auth.js"),o=i("./app/scripts/views/member/member-board-profile-view.js"),l=i("./app/scripts/views/lib/dialog.js"),c=i("./app/scripts/controller/index.js"),d=i("./app/scripts/views/lib/pop-over.js"),u=i("./app/scripts/views/member-menu-profile/member-on-board-view.js");let p=i("./app/scripts/views/lib/drag-sort.js");const m=i("./app/scripts/lib/util/index.js");p=i("./app/scripts/views/lib/drag-sort.js");const h=i("./app/scripts/views/board/board-header-all-members-view.js"),{maybeDisplayMemberLimitsError:g}=i("./app/scripts/views/board-menu/member-limits-error.js"),b=i("./app/scripts/views/board-menu/board-member-add-multiple-view.js");e.exports.onMemberAdd=function(){return this.renderBoardHeaderFacepileDebounced()},e.exports.renderBoardHeaderFacepile=function(){const e=this.$(".js-fill-facepile");let t=this.model.orderedVisibleMembers();const i=t.length;t=t.slice(0,5);const n=i-5;n>0?this.$(".js-fill-board-member-count").text("+".concat(n)):this.$(".js-fill-board-member-count").text("");let r=t.length;const a=Array.from(t).map((e=>this.subview(u,e,{board:this.model,zIndex:r--})));return e.length>0&&this.ensureSubviews(a,e),this.defer((()=>(this.model.isTemplate()||p.refreshDraggableSidebarMembers(),this.renderPopovers()))),this},e.exports.openAllMembers=function(e){m.stop(e),r.sendClickedButtonEvent({buttonName:"allBoardMembersButton",source:"boardScreen"});const t=this.getNewlySignedUpInvitees();return d.toggle({elem:this.$(".js-open-show-all-board-members"),view:h,options:{model:this.model,modelCache:this.modelCache,newInvitees:t}})},e.exports.openAddMembers=function(e){e&&m.stop(e);const t=this.$(".js-open-manage-board-members");if(g(t,this.model))return;r.sendClickedButtonEvent({buttonName:"inviteToBoardButton",source:"boardScreen"});const i=new b({model:this.model,modelCache:this.modelCache});i.loadOrgData(),d.toggle({elem:t,view:i})},e.exports.joinBoard=function(e){if(m.stop(e),r.sendClickedButtonEvent({buttonName:"joinBoardButton",source:"boardScreen"}),g(n(e.target),this.model,s.me()))return;const t=r.startTask({taskName:"edit-board",subTask:"members/join",source:"boardScreen"});this.$(".js-join-board").remove(),this.model.joinBoard(t,a({taskName:"edit-board",subTask:"members/join",source:"boardScreen",traceId:t},((e,i)=>{var n;i&&r.sendTrackEvent({action:"joined",actionSubject:"board",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:null===(n=this.model.getOrganization())||void 0===n?void 0:n.id}},attributes:{taskId:t}})})))},e.exports.showMemberProfile=function(e){c.saveMemberBoardProfileLocation(e,this.model.id),l.show({view:new o({model:e,board:this.model,modelCache:this.modelCache}),maxWidth:500,hide:()=>c.setBoardLocation(this.model.id)})}},"./app/scripts/views/board/board-view-name.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),{Analytics:r,tracingCallback:a}=i("./packages/atlassian-analytics/index.ts"),{getKey:s,Key:o}=i("./packages/keybindings/index.ts"),l=i("./app/scripts/lib/util/index.js"),c=i("./app/scripts/lib/util/removeAllRanges.js"),d=i("./app/scripts/controller/index.js");e.exports.saveBoardName=function(e){const t=this.$(".js-board-name-input"),i=t&&t.val().trim();if(""===i)return void t.focus().select();const n=r.startTask({taskName:"edit-board",subTask:"name",source:"boardScreen"});this.model.update({traceId:n,name:i},a({taskName:"edit-board",subTask:"name",traceId:n,source:"boardScreen"},((e,t)=>{t&&r.sendUpdatedBoardFieldEvent({field:"name",source:"boardScreen",containers:{board:{id:this.model.id}},attributes:{taskId:n}})})))},e.exports.keyDownEvent=function(e){if(s(e)===o.Enter)return l.stop(e),void this.stopRenaming();s(e)!==o.Escape||this.stopRenaming()},e.exports.onInputChanged=function(e){const t=this.$el.find(".js-board-name-input")[0];t.style.width="0";let i=t.offsetWidth;t.scrollLeft=1e10,i+=t.scrollLeft;const n=this.$el.find(".js-board-header")[0].offsetWidth-24,r=i<n?i:n;t.style.width=r+"px"},e.exports.startRenaming=function(e){if(l.stop(e),this.isEditingName)return;const t=this.$el.find(".js-rename-board")[0];if(!t)return;const i=t.offsetWidth;n.defer((()=>(this.$(".js-rename-board").addClass("is-editing"),this.$(".js-board-name-input").val(this.model.get("name")).css("width",i).focus().select()))),this.isEditingName=!0,r.sendUIEvent({action:"clicked",actionSubject:"input",actionSubjectId:"boardNameInput",source:"boardScreen",containers:{board:{id:this.model.id}}})},e.exports.stopRenaming=function(e){if(!this.isEditingName)return;const t=this.$(".js-rename-board").removeClass("is-editing");t.is(":focus")&&t.blur(),c(),this.isEditingName=!1,this.saveBoardName()},e.exports.updateControllerTitle=function(){return d.title(this.model.get("name"))}},"./app/scripts/views/board/board-view-notifications.js":function(e,t){function i(e,t){return null!=e?t(e):void 0}e.exports.markRelatedNotificationsRead=function(){const e=e=>e.get("unread")&&null==i(e.get("data"),(e=>e.card))&&i(e.get("data").board,(e=>e.id))===this.model.get("id");for(const t of Array.from(this.modelCache.all("Notification")))e(t)&&t.markRead()}},"./app/scripts/views/board/board-view-onboarding.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./node_modules/react/index.js"),a=i("./packages/react-dom-wrapper/index.ts"),{featureFlagClient:s}=i("./packages/feature-flag-client/index.ts"),o=i("./app/scripts/views/onboarding/inspiration-popover.js"),{isInspirationBoard:l}=i("./app/scripts/views/onboarding/helpers.js"),c=i("./app/scripts/views/board/invitee-orientation-view.js");e.exports.unmountInspirationPopover=function(){if(null!=this.inspirationPopoverDiv)return a.unmountComponentAtNode(this.inspirationPopoverDiv),this.inspirationPopoverDiv=null},e.exports.renderInspirationPopover=function(){if(!s.get("activation.onboarding_v2",!1)||!l(this.model.get("id")))return;let e=0;return this.inspirationPopoverDiv||(e=2e3,n("#surface").append('<div id="js-inspiration-popover-mount"></div>'),this.inspirationPopoverDiv=n("#js-inspiration-popover-mount")[0]),setTimeout((()=>a.render(r.createElement(o,{onClose:this.unmountInspirationPopover,boardId:this.model.get("id"),modelCache:this.modelCache}),this.inspirationPopoverDiv)),e),this},e.exports.renderInviteeOrientation=function(){this.$(".board-canvas").append('<div class="invitee-orientation-mount-point"></div>');const e=this.subview(c,this.model,{modelCache:this.modelCache});return this.ensureSubview(e,this.$(".invitee-orientation-mount-point"))}},"./app/scripts/views/board/board-view-open-close-delete.js":function(e,t,i){const n=i("./app/scripts/lib/util/index.js"),r=i("./app/scripts/views/lib/pop-over.js"),a=i("./app/scripts/views/board/reopen-board-popover-view.js"),s=i("./app/scripts/views/lib/confirm.js"),{Analytics:o,tracingCallback:l}=i("./packages/atlassian-analytics/index.ts");e.exports.reopen=function(e){n.stop(e);const t=this.model.getOrganization();return this.model.getNewBillableGuests().then((({newBillableGuests:e,availableLicenseCount:i})=>{if(e.length>0)return r.show({elem:this.$(".js-reopen"),view:new a({board:this.model,org:t,newBillableGuests:e,availableLicenseCount:i})});{const e=o.startTask({taskName:"edit-board",subTask:"closed",source:"closedBoardScreen"});return this.model.reopen({traceId:e},l({taskName:"edit-board",subTask:"closed",source:"closedBoardScreen",traceId:e},(t=>{var i;t||o.sendTrackEvent({action:"reopened",actionSubject:"board",source:"closedBoardScreen",containers:{board:{id:this.model.id},organization:{id:null===(i=this.model.getOrganization())||void 0===i?void 0:i.id}},attributes:{taskId:e}})})))}}))},e.exports._delete=function(e){return n.stop(e),s.toggle("delete board",{elem:e.target,model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>{const t=o.startTask({taskName:"delete-board",source:"closedBoardScreen"});return this.model.startDelete(t,l({taskName:"delete-board",source:"closedBoardScreen",traceId:t},(e=>{var i;e||o.sendTrackEvent({action:"deleted",actionSubject:"board",source:"closeBoardScreen",containers:{board:{id:this.model.id},organization:{id:null===(i=this.model.getOrganization())||void 0===i?void 0:i.id}},attributes:{taskId:t}})})))}})}},"./app/scripts/views/board/board-view-organization.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{Analytics:r}=i("./packages/atlassian-analytics/index.ts"),a=i("./app/scripts/views/lib/pop-over.js"),s=i("./app/scripts/views/board/board-header-org-menu-view.js"),o=i("./app/scripts/lib/util/index.js");e.exports.renderOrgChanges=function(){return this.model.get("closed")?this.renderClosed():this.renderBoardHeader()},e.exports.refreshOrganization=function(){const e=this.modelCache.get("Organization",this.model.previous("idOrganization")),t=this.model.getOrganization();if(null!=e&&this.stopListening(e),null!=t)for(const e of["name","logoHash","displayName","limits","products"])this.listenTo(t,"change:".concat(e),this.frameDebounce(this.renderOrgChanges));return this.renderOrgChanges()},e.exports.openOrgMenu=function(e){o.stop(e),r.sendClickedButtonEvent({buttonName:"boardOrganizationButton",source:"boardScreen"}),a.toggle({elem:n(e.target).closest("a"),view:new s({model:this.model,modelCache:this.modelCache})})}},"./app/scripts/views/board/board-view-permission.js":function(e,t,i){const n=i("./app/scripts/controller/index.js"),r=i("./app/scripts/views/internal/board-display-helpers.js"),a=i("./app/scripts/views/templates/board_header_permissions.js"),s=i("./app/scripts/lib/localize.js"),o=i("./app/scripts/db/auth.js"),l=i("./app/scripts/lib/util/index.js"),{Analytics:c}=i("./packages/atlassian-analytics/index.ts"),d=i("./app/scripts/views/board-menu/change-board-visibility-view.js"),u=i("./app/scripts/views/lib/pop-over.js"),p=i("./app/scripts/views/board-menu/board-add-to-organization-view.js");e.exports.permChange=function(e){"none"===e?n.memberHomePage():(this.render(),this.model.editable()||this.model.composer.save("vis",!1))},e.exports.renderPermissionLevel=function(){const e=this.$("#permission-level"),t={permIconClass:r.getPermLevelIconClassForBoard(this.model),permText:s(["board perms",this.model.getPermLevel(),"name"])};e.html(a(t)),this.model.isTemplate()?e.attr("title",r.getPermLevelAltTextForTemplate(this.model)):e.attr("title",r.getPermLevelAltTextForBoard(this.model));const i=this.model.canInvite(o.me());return this.$(".js-manage-board-members").toggle(i),this},e.exports.changeVis=function(e){l.stop(e),c.sendClickedButtonEvent({buttonName:"changeBoardVisibilityButton",source:"boardScreen"}),u.toggle({elem:this.$(".js-change-vis"),view:d,options:{model:this.model,modelCache:this.modelCache}})},e.exports.addBoardToTeam=function(e){return l.stop(e),c.sendClickedButtonEvent({buttonName:"changeBoardOrganizationButton",source:"boardScreen"}),u.toggle({elem:this.$(".js-add-board-to-team"),view:p,options:{model:this.model,modelCache:this.modelCache}})}},"./app/scripts/views/board/board-view-plugin.js":function(e,t,i){const{importWithRetry:n}=i("./packages/use-lazy-component/index.ts"),r=i("./node_modules/react/index.js"),a=i("./app/scripts/db/auth.js"),s=i("./app/scripts/views/internal/plugins/plugin-runner.js"),o=i("./app/scripts/db/model-loader.js"),l=i("./app/scripts/views/plugin/plugin-header-buttons-view.js"),c=i("./app/scripts/controller/index.js"),d=i("./app/scripts/views/lib/dialog.js"),{Analytics:u}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:p,seesVersionedVariation:m}=i("./packages/feature-flag-client/index.ts"),{PremiumFeature:h}=i("./packages/product-features/index.ts"),g=i("./app/scripts/lib/window-size.js"),b=i("./app/scripts/views/directory/directory-view.js"),f=i("./app/scripts/views/lib/pop-over.js"),{sendPluginUIEvent:v,sendPluginScreenEvent:k}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),y=i("./app/scripts/data/legacy-power-ups.js"),{Noun:w,Verb:j,track:x,trackUe:C}=i("./packages/analytics/index.ts"),{renderComponent:_}=i("./app/src/components/ComponentWrapper/index.ts"),{CalendarBoardButton:O}=i("./app/scripts/views/board/calendar-board-button.tsx"),E=i("./app/scripts/views/board-menu/card-filter-view.js"),{navigate:S}=i("./app/scripts/controller/navigate.js"),T=i("./app/scripts/views/plugin/plugin-view-view.js"),{BUTLER_POWER_UP_ID:N}=i("./app/scripts/data/butler-id.js"),P=i("./packages/config/index.ts").customFieldsId,I=i("./packages/config/index.ts").mapPowerUpId,B=y.calendar;e.exports.reloadCustomFields=function(){if(this.model.isPluginEnabled(P))return setTimeout((()=>o.loadCustomFields(this.model.id)),1e3)},e.exports.renderPluginButtons=function(){return null!=this.pluginHeaderButtonsView?this.pluginHeaderButtonsView.requestButtonsDebounced():this.pluginHeaderButtonsView=this.subview(l,this.model),this.appendSubview(this.pluginHeaderButtonsView,this.$(".js-plugin-header-btns")),this},e.exports.renderBoardHeaderCalendar=function(e){null==e&&(e={});const t=this.$(".js-calendar-board-btn");if(!t.length)return;const i=this.model.isPowerUpEnabled("calendar");return t.toggleClass("hide",!i),i?_(r.createElement(O,{backgroundBrightness:this.model.get("prefs").backgroundBrightness,onClick:()=>(v({idPlugin:y.calendar,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}}),this.toggleCalendar())}),t[0]):void 0},e.exports.navigateToBoard=function(){const e=c.getBoardUrl(this.model.id);return S(e,{trigger:!0})},e.exports.closeDetailView=function(){d.hide(!0),this.closeCalendar(!1),this.closeDirectory(!1),this.closeMap(!1),this.closeButler(!1),this.closeSingleBoardView(),this.closePowerUpView(!1)},e.exports.clickCloseDirectory=function(){return this.directoryView&&u.sendClickedButtonEvent({buttonName:"boardDirectoryCloseButton",attributes:{boardId:this.model.id,organizationId:this.model.get("idOrganization")},source:this.directoryView.activeEventSource()}),this.toggleDirectory()},e.exports.toggleDirectory=function(){return this.directoryView?this.directoryReturnCard?(this.closeDirectory(!1),c.showCardDetail(this.directoryReturnCard),this.directoryReturnCard=null):this.navigateToBoard():this.navigateToDirectory()},e.exports.navigateToDirectory=function(e){const t=c.getBoardUrl(this.model.id,"power-ups");if(S(t,{trigger:!0}),this.directoryReturnCard=e,!g.fExtraLarge)return this.sidebarView.hideSidebar()},e.exports.showDirectory=function(e,t,i,n){return this.$("#board").addClass("hide"),this.directoryView=new b({model:this.model,modelCache:this.modelCache,section:e,category:t,idPlugin:i,isEnabling:n,boardView:this}),this.$(".board-canvas").append(this.directoryView.render().el)},e.exports.closeDirectory=function(e){null==e&&(e=!0),null!=this.directoryView&&(this.directoryView.remove(),this.directoryView=null,e&&this.navigateToBoard(),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1))},e.exports.toggleCalendar=function(){return this.calendarView?this.calendarReturnCard?(this.closeCalendar(!1),c.showCardDetail(this.calendarReturnCard),this.calendarReturnCard=null):this.navigateToBoardEvent():this.navigateToCalendarEvent()},e.exports.dismissFeedback=function(){a.me().setPluginDataByKey(B,"private","dismissedFeedback",!0),this.$(".calendar-header-toolbar-feedback").addClass("hide")},e.exports.navigateToCalendarEvent=function(){return x("Board Header","Open Calendar View via Header"),C("board view","opens","Power-Up","","","board-button",y.calendar),k({idPlugin:y.calendar,idBoard:this.model.id,screenName:"calendarViewScreen"}),this.navigateToCalendar()},e.exports.navigateToCalendar=function(e){this.calendarReturnCard=e;const t=c.getBoardUrl(this.model.id,"calendar");return S(t,{trigger:!0})},e.exports.navigateToBoardEvent=function(){return this.navigateToBoard()},e.exports.isShowingCalendar=function(){return null!=this.calendarView},e.exports.showCalendar=function(e){if(this.model.isPowerUpEnabled("calendar")&&!this.isShowingCalendar())return this.$(".calendar-btn").addClass("board-header-btn-enabled"),this.$("#board").addClass("hide"),n((()=>i.e(49).then(i.t.bind(null,"./app/scripts/views/calendar/calendar-controller-view.js",7)))).then((e=>e.default)).then((t=>(this.calendarView=new t({model:this.model,modelCache:this.modelCache}),this.$(".board-canvas").append(this.calendarView.render(e).el),this.calendarView.addedToDOM(),this.renderBoardViewsButtonDebounced())))},e.exports.closeCalendar=function(e){null==e&&(e=!0),null!=this.calendarView&&(this.calendarView.remove(),this.calendarView=null,e&&this.navigateToBoard(),this.$(".calendar-btn").removeClass("board-header-btn-enabled"),this.$("#board").removeClass("hide"),this.renderBoardViewsButtonDebounced(),this.$(".js-list-name-input").trigger("autosize.resize",!1))},e.exports.toggleFilter=function(e){var t,i;return u.sendClickedButtonEvent({buttonName:"viewsCardFilterButton",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(i=this.model.getEnterprise())||void 0===i?void 0:i.id}}}),f.isVisible?this.closeFilter():this.showFilter(e)},e.exports.showFilter=function(e){const t=new E({model:this.model.filter,modelCache:this.modelCache});return f.show({elem:this.$(".js-header-filter-btn"),view:t,isFilterPopover:!0,clearFilter:()=>{t.clearFilter()},alignRight:!0}),this.renderBoardViewsButtonDebounced()},e.exports.closeFilter=function(){f.hide(),this.renderBoardViewsButtonDebounced()},e.exports.toggleMap=function(){return v({idPlugin:I,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}}),this.mapView?this.mapReturnCard?(this.closeMap(!1),c.showCardDetail(this.mapReturnCard),this.mapReturnCard=null):this.navigateToBoardEvent():this.navigateToMapEvent()},e.exports.navigateToMapEvent=function(){return C("board view","opens","Power-Up","","","board-button",I),C(w.BOARD,j.OPENS,w.BOARD_MAP,"","","by clicking the map button",{idBoard:this.model.id}),this.navigateToMap()},e.exports.navigateToMap=function(e,t){this.mapCenterTo=e,this.mapReturnCard=t;const i=c.getBoardUrl(this.model.id,"map");return S(i,{trigger:!0})},e.exports.showMap=function({mapCenterTo:e,zoom:t}){if(this.model.isMapPowerUpEnabled()&&null==this.mapView)return this.$(".js-map-btn").addClass("board-header-btn-enabled"),this.$("#board").addClass("hide"),n((()=>i.e(110).then(i.t.bind(null,"./app/scripts/views/map/map-view.js",7)))).then((e=>e.default)).then((i=>(this.mapView=new i({model:this.model,modelCache:this.modelCache,mapCenterTo:this.mapCenterTo||e,zoom:t}),this.$(".board-canvas").append(this.mapView.render().el),this.renderBoardViewsButtonDebounced())))},e.exports.closeMap=function(e){null==e&&(e=!0),null!=this.mapView&&(this.mapView.remove(),this.mapView=null,e&&this.navigateToBoard(),this.$(".js-map-btn").removeClass("board-header-btn-enabled"),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1),this.renderBoardViewsButtonDebounced())},e.exports.renderBoardHeaderMap=function(){if(!this.model.isMapCore())return this.model.isMapPowerUpEnabled()?this.$(".js-map-btn").removeClass("hide"):this.$(".js-map-btn").addClass("hide"),this;this.$(".js-map-btn").addClass("hide")},e.exports.showDashboard=async function(){this.$("#board").addClass("hide");const e=this.model,t=m("wildcard.board-dashboard-view","stable"),a=e.isFeatureEnabled(h.Views);if(t&&a){const{BoardDashboardView:t}=await n((()=>i.e(38).then(i.bind(null,"./app/src/components/BoardDashboardView/index.ts"))));_(r.createElement(t,{idBoard:e.id,navigateToBoardView:this.navigateToBoard.bind(this)}),this.$(".js-board-view-container").get(0))}else this.navigateToBoard()},e.exports.showPowerUpView=async function({idPlugin:e,viewKey:t}){if(!this.model.isPluginEnabled(e))return;const i=(await s.one({plugin:e,command:"board-views",board:this.model})).find((e=>e.key===t));if(!i)return console.warn("Power-Up View not found."),void this.navigateToBoard();this.pluginView=new T({model:this.model,content:i}),this.$("#board").addClass("hide"),this.$(".board-canvas").append(this.pluginView.render().el),this.renderBoardViewsButtonDebounced()},e.exports.closePowerUpView=function(e){null==e&&(e=!0),null!=this.pluginView&&(this.pluginView.remove(),this.pluginView=null,e&&this.navigateToBoard(),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1))},e.exports.toggleButler=function(e){const t=p.get("workflowers.use-butler-routes",!1);return this.butlerView||null==e?this.navigateToBoardEvent():(this.butlerUrl=e,t?void this.showButler():this.navigateToButler(e))},e.exports.navigateToButler=function(){const e=c.getBoardUrl(this.model.id,"butler");return S(e,{trigger:!0})},e.exports.navigateToButlerView=function({tab:e,edit:t,log:i,newCommand:n,newIcon:r,newLabel:a}={}){const s={};n&&(s.c=n,t="new",r&&(s.i=r),a&&(s.l=a));const o=D(this.model.id,{tab:e,edit:t,log:i}),l=n?"?".concat(new URLSearchParams(s).toString()):"";S("".concat(o).concat(l),{trigger:!0})};const D=function(e,{tab:t=null,edit:i=null,log:n=null}={}){const r=[];t&&r.push(t),i&&"new"===i&&t?r.push("new"):i?r.push("edit",i):n&&r.push("log",n);return c.getBoardUrl(e,"butler",r)};e.exports.toggleButlerView=function(){if(this.butlerView)return this.closeButler();const e=D(this.model.id);return S(e,{trigger:!0})},e.exports.setButlerView=function(e){return this.$("#board").addClass("hide"),n((()=>i.e(48).then(i.t.bind(null,"./app/scripts/views/butler/butler-view.js",7)))).then((({default:t})=>{this.butlerView&&this.butlerView.remove(),this.butlerView=new t({butlerUrl:e}),this.$(".board-canvas").append(this.butlerView.render().el)}))},e.exports.showButlerView=function({butlerTab:e,butlerCmdEdit:t,butlerCmdLog:i,newCommand:n,newIcon:r,newLabel:a}={}){null==this.butlerView&&(this.model.editable()?(this.$("#board").addClass("hide"),s.one({plugin:N,command:"show-settings",board:this.model,options:{butlerTab:e,butlerCmdEdit:t,butlerCmdLog:i,newCommand:n,newIcon:r,newLabel:a}}).then((e=>{if(this.model.canShowButlerUI())return this.setButlerView(e);this.closeButler(),this.navigateToBoard()}))):this.navigateToBoardEvent())},e.exports.showButler=function({butlerTab:e,butlerCmdEdit:t,butlerCmdLog:r,newCommand:a,newIcon:o,newLabel:l}={}){if(p.get("workflowers.new-butler-board-button",!1))return this.showButlerView({butlerTab:e,butlerCmdEdit:t,butlerCmdLog:r,newCommand:a,newIcon:o,newLabel:l});if(null==this.butlerView){if(this.model.editable())return null==this.butlerUrl||null!=e||null!=t||null!=r?(this.$("#board").addClass("hide"),void s.one({plugin:N,command:"show-settings",board:this.model,options:{butlerTab:e,butlerCmdEdit:t,butlerCmdLog:r,newCommand:a,newIcon:o,newLabel:l}}).then((()=>{if(this.model.canShowButlerUI())return this.showButler();this.closeButler(),this.navigateToBoard()}))):(this.$("#board").addClass("hide"),n((()=>i.e(48).then(i.t.bind(null,"./app/scripts/views/butler/butler-view.js",7)))).then((e=>e.default)).then((e=>(this.butlerView&&this.butlerView.remove(),this.butlerView=new e({butlerUrl:this.butlerUrl}),this.$(".board-canvas").append(this.butlerView.render().el)))));this.navigateToBoardEvent()}},e.exports.closeButler=function(e){null==e&&(e=!0),null!=this.butlerView&&(this.butlerView.remove(),this.butlerView=null,e&&this.navigateToBoard(),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1))}},"./app/scripts/views/board/board-view-sidebar.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./packages/browser/index.ts"),a=i("./app/scripts/views/lib/drag-sort.js"),s=i("./app/scripts/controller/index.js"),o=i("./app/scripts/db/auth.js"),l=i("./app/scripts/views/internal/templates.js"),c=i("./app/scripts/lib/util/index.js"),{isInspirationBoard:d}=i("./app/scripts/views/onboarding/helpers.js");e.exports._applySettings=function(){if(null==this.options.settings)return;const{menu:e,filter:t}=this.options.settings;switch(e){case"closed":this.model.viewState.setShowSidebar(!1);break;case"filter":case"activity":this.sidebarViewPromise.then((()=>(this.setSidebarShow(),this.sidebarView.pushView(e))))}return t?this.model.filter.fromQueryString(t):void 0},e.exports.renderOpen=function(){this.showSidebarOnOpen();const e={};e.url=s.getBoardUrl(this.model);for(const t of Array.from(this.model.prefNames.concat(this.model.myPrefNames)))e["".concat(t,"_").concat(this.model.getPref(t))]=!0;e.canJoin=this.model.canJoin(),e.canInviteMembers=this.model.canInviteMembers(),e.confirmed=o.me().get("confirmed"),this.listListView.$el.detach(),this.$el.html(l.fillFromModel(i("./app/scripts/views/templates/board.js"),this.model,{isCollapsedWorkspaceNav:this.workspaceNavState.enabled&&!this.workspaceNavState.expanded})),this.renderBoardHeader(),this.renderBoardWarnings(),this.renderBoardBackground(),this.model.viewState.get("showSidebar")&&this.$el.addClass("is-show-menu"),this.sidebarViewPromise.then((()=>(this.appendSubview(this.sidebarView,this.$(".js-fill-board-menu")),this.renderSidebarState()))),this.renderLists(),this.renderInspirationPopover(),this.renderInviteeOrientation(),s.setLocation({title:e.name}),this.defer((()=>(this.$("#board").unbind("mousedown.dragscrollable").dragscrollable({fxIgnore(e){const t=n(e.target).closest("#board"),i=e.offsetY>t.height()-11,r=n(e.target).closest(".js-list-content").length>0,a=n(e.target).closest(".js-add-list").length>0;return i||r||a}}),a.refreshListSortable())))},e.exports._shouldCloseBoardMenu=function(){const e=new Date-c.idToDate(this.model.id)<18e4;return this.shouldCloseBoardMenu||!o.me().isDismissed("close-menu-of-first-board")||e&&this.model.isFirstOwnedBoard()||d(this.model.get("id"))},e.exports._isFirstBoardEverLoaded=function(){return!o.me().isDismissed("close-menu-of-first-board")&&!this.model.isWelcomeBoard()},e.exports._isGhostUsingInviteLink=function(){return c.hasValidInviteTokenFor(this.model)},e.exports.removeSidebarDisplayTypes=function(){this.$el.removeClass("sidebar-display-wide")},e.exports.renderSidebarDisplayType=function(){const e=this.model.viewState.getSidebarDisplayType();this.$el.addClass(e)},e.exports.showSidebarOnOpen=function(){const e=this.model.viewState.getShowSidebarFromPref()||o.me().get("notLoggedIn"),t=!!this.model.get("desc"),i=this.model.isMember(o.me());return this.model.isPublic()&&!i&&t&&e&&!r.isTouch()?this.model.viewState.set("showSidebar",!0):this._shouldCloseBoardMenu()||r.isTouch()?(this.model.viewState.set("showSidebar",!1),this._isFirstBoardEverLoaded()&&!this._isGhostUsingInviteLink()&&(this.shouldCloseBoardMenu=!0,o.isLoggedIn())?o.me().dismiss("close-menu-of-first-board"):void 0):this.model.viewState.setShowSidebarFromPref()},e.exports.renderSidebarState=function(){this.renderSidebarDisplayType(),this.model.viewState.get("showSidebar")?this.showSidebar():this.hideSidebar()},e.exports.toggleSidebar=function(){return this.model.viewState.setShowSidebar(!this.model.viewState.get("showSidebar"))},e.exports.setSidebarShow=function(){this.model.viewState.setShowSidebar(!0),this.shouldCloseboardMenu=!1},e.exports.showSidebar=function(){this.renderSidebarDisplayType(),this.unmountTeamOnboardingPupTooltip(),clearTimeout(this._sidebarHideTimeout),this.$(".js-fill-board-menu").removeClass("hide"),this.defer((()=>this.$el.addClass("is-show-menu"))),this.sidebarViewPromise.then((()=>this.sidebarView.sendDrawerScreenEvent(this.sidebarView.topSidebarViewName(),"showSidebar")))},e.exports.hideSidebar=function(){this.$el.removeClass("is-show-menu"),clearTimeout(this._sidebarHideTimeout),this._sidebarHideTimeout=this.setTimeout((()=>{this.$(".js-fill-board-menu").addClass("hide")}),250)}},"./app/scripts/views/board/board-view-team-onboarding-pups.js":function(e,t,i){const n=i("./node_modules/react/index.js"),r=i("./packages/react-dom-wrapper/index.ts"),{renderComponent:a}=i("./app/src/components/ComponentWrapper/index.ts"),{sendErrorEvent:s}=i("./packages/error-reporting/index.ts"),{Feature:o}=i("./app/scripts/debug/constants.ts"),{LazyTeamOnboardingPupPopover:l,LazyTeamOnboardingPupTooltip:c}=i("./app/src/components/BusinessClassTeamOnboardingPupPopover/index.ts");e.exports.unmountTeamOnboardingPupPopover=function(){if(null!=this.teamOnboardingPupPopoverDiv)return r.unmountComponentAtNode(this.teamOnboardingPupPopoverDiv)},e.exports.unmountTeamOnboardingPupTooltip=function(){if(null!=this.teamOnboardingPupTooltipDiv)return r.unmountComponentAtNode(this.teamOnboardingPupTooltipDiv)},e.exports.renderTeamOnboardingPupTooltip=function(){if(!this.model.viewState.get("showSidebar"))return setTimeout((()=>{const e=n.createElement(c,{onDismiss:()=>this.unmountTeamOnboardingPupTooltip()});return this.teamOnboardingPupTooltipDiv=document.createElement("div"),$(this.teamOnboardingPupTooltipDiv).insertAfter(".js-show-sidebar"),r.render(e,this.teamOnboardingPupTooltipDiv)}),1e3)},e.exports.renderTeamOnboardingPupPopover=function(){try{const e=this.model.getOrganization();if(null==e)return;if(null==this.teamOnboardingPupPopoverDiv){const e=this.$("#team-onboarding-pup-popover-target")[0];null!=e?this.teamOnboardingPupPopoverDiv=e:(this.$(".board-main-content").append("<div id='team-onboarding-pup-popover-target'></div>"),this.teamOnboardingPupPopoverDiv=this.$("#team-onboarding-pup-popover-target")[0])}const t=this.model.get("id");return a(n.createElement(l,{orgId:e.id,boardId:t,onShowPowerUps:()=>this.toggleDirectory(),onDismissed:()=>this.renderTeamOnboardingPupTooltip()}),this.teamOnboardingPupPopoverDiv)}catch(e){s(e,{tags:{ownershipArea:"trello-bizteam",feature:o.TeamOnboarding},extraData:{component:"board-view-team-onboarding-pups"}})}}},"./app/scripts/views/board/board-view-template.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./node_modules/underscore/underscore.js"),a=i("./node_modules/react/index.js"),s=i("./packages/react-dom-wrapper/index.ts"),{BoardTemplateBadge:o}=i("./app/src/components/BoardTemplateBadge/index.ts");e.exports.isTemplate=function(){return this.templateFlagEnabled&&this.model.isTemplate()},e.exports.renderBoardTemplateReactSection=function(){return n(".js-board-template-badge").append(this.boardTemplateBadgeDiv),s.render(this.boardTemplateBadgeComponent,this.boardTemplateBadgeDiv)},e.exports.renderBoardTemplateBadge=function(){if(!this.model.isTemplate())return void(this.boardTemplateBadgeDiv&&(s.unmountComponentAtNode(this.boardTemplateBadgeDiv),this.boardTemplateBadgeDiv=null,this.boardTemplateBadgeComponent=null));return null!=this.boardTemplateBadgeDiv&&null!=this.boardTemplateBadgeComponent?this.renderBoardTemplateReactSection():r.defer((()=>(this.boardTemplateBadgeComponent=a.createElement(o,null),this.boardTemplateBadgeDiv=document.createElement("div"),this.renderBoardTemplateReactSection())))}},"./app/scripts/views/board/board-view-unsubscribe.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{Analytics:r}=i("./packages/atlassian-analytics/index.ts"),a=i("./app/scripts/lib/util/index.js"),s=i("./app/scripts/views/lib/confirm.js");e.exports.openUnsubscribe=function(e){a.stop(e),s.toggle("unwatch",{elem:n(e.target).closest(".js-board-header-subscribed")[0],model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>{if(!1===this.model.get("subscribed"))return;const t=r.startTask({taskName:"edit-board",subTask:"subscribed",source:"boardScreen"});return this.model.subscribeWithTracing(!1,{taskName:"edit-board",subTask:"subscribed",source:"boardScreen",traceId:t,next:e=>{e||r.sendTrackEvent({action:"unsubscribed",actionSubject:"board",source:"boardScreen",containers:{board:{id:this.model.id}},attributes:{taskId:t}})}})}})}},"./app/scripts/views/board/board-view.js":function(e,t,i){const{importWithRetry:n}=i("./packages/use-lazy-component/index.ts"),r=i("./packages/jquery/index.js"),a=i("./node_modules/react/index.js"),{renderComponent:s}=i("./app/src/components/ComponentWrapper/index.ts"),{sendChunkLoadErrorEvent:o}=i("./packages/error-reporting/index.ts"),{Analytics:l}=i("./packages/atlassian-analytics/index.ts"),c=i("./app/scripts/db/auth.js"),d=i("./app/scripts/controller/index.js"),u=i("./app/scripts/views/lib/dialog.js"),p=i("./app/scripts/views/lib/drag-sort.js"),{getKey:m,Key:h,registerShortcutHandler:g,Scope:b,unregisterShortcutHandler:f}=i("./packages/keybindings/index.ts"),v=i("./app/scripts/view-models/label-state.js"),k=i("./app/scripts/views/lib/layout.js"),y=i("./app/scripts/views/list/list-list-view.js"),w=i("./app/scripts/views/lib/pop-over.js"),{TrelloStorage:j}=i("./packages/storage/index.ts"),x=i("./app/scripts/lib/util/index.js"),C=i("./app/scripts/views/internal/view.js"),{BoardClosed:_}=i("./app/scripts/views/templates/BoardClosed.js"),O=i("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),{featureFlagClient:E}=i("./packages/feature-flag-client/index.ts"),{isInspirationBoard:S}=i("./app/scripts/views/onboarding/helpers.js"),{workspaceNavigationState:T,workspaceNavigationHiddenState:N}=i("./app/src/components/WorkspaceNavigation/index.ts"),{BoardSidebarLoadingError:P}=i("./app/src/components/BoardSidebarLoadingError/index.ts"),I=i("./packages/browser/index.ts").isDesktop(),{undoAction:B,redoAction:D}=i("./app/scripts/lib/last-action/index.ts"),{renderTeamOnboardingPupPopover:A,renderTeamOnboardingPupTooltip:L,unmountTeamOnboardingPupPopover:F,unmountTeamOnboardingPupTooltip:M}=i("./app/scripts/views/board/board-view-team-onboarding-pups.js"),{renderGettingStartedTip:V,unmountGettingStartedTip:R}=i("./app/scripts/views/board/board-view-getting-started-tip.tsx"),{onMemberAdd:z,renderBoardHeaderFacepile:U,openAllMembers:H,openAddMembers:W,joinBoard:q,showMemberProfile:$}=i("./app/scripts/views/board/board-view-member.js"),{getAllBackgroundClasses:G,defaultBoardBackground:K,clearBoardBackground:Z,renderBoardBackground:J,renderBoardHeaderSubscribed:Q}=i("./app/scripts/views/board/board-view-background.js"),{isTemplate:Y,renderBoardTemplateReactSection:X,renderBoardTemplateBadge:ee}=i("./app/scripts/views/board/board-view-template.js"),{_applySettings:te,renderOpen:ie,_shouldCloseBoardMenu:ne,_isFirstBoardEverLoaded:re,_isGhostUsingInviteLink:ae,removeSidebarDisplayTypes:se,renderSidebarDisplayType:oe,showSidebarOnOpen:le,renderSidebarState:ce,toggleSidebar:de,setSidebarShow:ue,showSidebar:pe,hideSidebar:me}=i("./app/scripts/views/board/board-view-sidebar.js"),{permChange:he,renderPermissionLevel:ge,changeVis:be,addBoardToTeam:fe}=i("./app/scripts/views/board/board-view-permission.js"),{openListComposer:ve,scrollToList:ke,viewForList:ye,postListListRender:we,renderLists:je,sortCommit:xe}=i("./app/scripts/views/board/board-view-list.js"),{openCardComposerInFirstList:Ce,scrollToCard:_e,preventScrollSelection:Oe,moveCard:Ee,dblClickAddListMenu:Se,_insertCardPosition:Te,moveCardRequested:Ne,copyCardRequested:Pe}=i("./app/scripts/views/board/board-view-card.js"),{markRelatedNotificationsRead:Ie}=i("./app/scripts/views/board/board-view-notifications.js"),{unmountInspirationPopover:Be,renderInspirationPopover:De,renderInviteeOrientation:Ae}=i("./app/scripts/views/board/board-view-onboarding.js"),{renderOrgChanges:Le,refreshOrganization:Fe,openOrgMenu:Me}=i("./app/scripts/views/board/board-view-organization.js"),{renderBoardWarnings:Ve}=i("./app/scripts/views/board/board-view-limit.js"),{openUnsubscribe:Re}=i("./app/scripts/views/board/board-view-unsubscribe.js"),{reopen:ze,_delete:Ue}=i("./app/scripts/views/board/board-view-open-close-delete.js"),{copyBoard:He}=i("./app/scripts/views/board/board-view-copy.js"),{onWorkspacesPreambleCreateTeamSuccess:We,renderWorkspacesPreambleBoardHeaderButton:qe,unmountWorkspacesPreambleBoardHeaderButton:$e,renderWorkspacesPreambleInviteButton:Ge,unmountWorkspacesPreambleInviteButton:Ke,renderWorkspacesAutoNameAlert:Ze,unmountWorkspacesAutoNameAlert:Je}=i("./app/scripts/views/board/board-view-collaboration.js"),{reloadCustomFields:Qe,renderPluginButtons:Ye,renderBoardHeaderCalendar:Xe,navigateToBoard:et,closeDetailView:tt,clickCloseDirectory:it,toggleDirectory:nt,navigateToDirectory:rt,showDirectory:at,closeDirectory:st,toggleCalendar:ot,dismissFeedback:lt,navigateToCalendarEvent:ct,navigateToCalendar:dt,navigateToBoardEvent:ut,isShowingCalendar:pt,showCalendar:mt,closeCalendar:ht,toggleFilter:gt,showFilter:bt,closeFilter:ft,toggleMap:vt,navigateToMapEvent:kt,navigateToMap:yt,showMap:wt,closeMap:jt,renderBoardHeaderMap:xt,showDashboard:Ct,toggleButler:_t,toggleButlerView:Ot,showButlerView:Et,setButlerView:St,navigateToButlerView:Tt,navigateToButler:Nt,showButler:Pt,closeButler:It,showPowerUpView:Bt,closePowerUpView:Dt}=i("./app/scripts/views/board/board-view-plugin.js"),{renderBoardHeader:At,renderBoardHeaderStarred:Lt,toggleStarred:Ft,openFilter:Mt,clearFilters:Vt,showCleanUp:Rt,renderBoardViewsButton:zt,getBoardViewsButtonOptions:Ut,loadPowerUpViewsButtonOptions:Ht,getPowerUpViewOptions:Wt,removeBoardViewsButton:qt,showTimeline:$t,showAdvancedCalendar:Gt,closeSingleBoardView:Kt,renderButlerBoardButtons:Zt}=i("./app/scripts/views/board/board-view-header.js"),{saveBoardName:Jt,keyDownEvent:Qt,onInputChanged:Yt,startRenaming:Xt,stopRenaming:ei,updateControllerTitle:ti}=i("./app/scripts/views/board/board-view-name.js"),{closeInviteAcceptanceNotification:ii,buildInviteAcceptanceNotification:ni,getNewlySignedUpInvitees:ri,renderPopovers:ai,renderInviteAcceptanceNotification:si,unmountInviteAcceptanceNotification:oi}=i("./app/scripts/views/board/board-view-invitation.js"),li=E.getTrackedVariation("board-header-filtering-experiment",!1);class ci extends C{static initClass(){this.prototype.className="board-wrapper",this.prototype.displayName="BoardView",this.prototype.events={sortcommit:"sortCommit","keydown .js-board-name-input":"keyDownEvent","input .js-board-name-input":"onInputChanged","change .js-board-name-input":"onInputChanged","blur .js-board-name-input":"stopRenaming","click .js-board-editing-target":"startRenaming","click .js-open-org-menu":"openOrgMenu","click .js-add-board-to-team:not(.no-edit)":"addBoardToTeam","click .js-change-vis":"changeVis","click .js-close-calendar":"toggleCalendar","click .js-calendar":"toggleCalendar","click .js-disable-feedback":"dismissFeedback","click .js-close-map":"toggleMap","click .js-map-btn":"toggleMap","click .js-header-filter-btn":"toggleFilter","click .js-close-filter":"toggleFilter","click .js-close-dashboard":"navigateToBoard","click .js-filter-cards-indicator":"openFilter","click .js-filter-card-clear":"clearFilters","click .js-board-header-subscribed":"openUnsubscribe","click .js-star-board":"toggleStarred","click .js-show-sidebar"(e){return l.sendClickedLinkEvent({linkName:"boardMenuDrawerToggleLink",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:di(this.model.getOrganization(),(e=>e.id))}}}),this.setSidebarShow()},"click .js-dismiss-warning"(e){return j.set(this.$(e.currentTarget).attr("data-dismiss"),Date.now()),this.renderBoardWarnings()},"dblclick #board":"dblClickAddListMenu","click #board":"blurInputsOnBoardClick","click .js-reopen":"reopen","click .js-delete":"delete","click .js-clean-up":"showCleanUp","prevent-scroll-selection":"preventScrollSelection","click .js-close-directory":"clickCloseDirectory","click .js-copy-board":"copyBoard","click .js-open-show-all-board-members":"openAllMembers","click .js-open-manage-board-members":"openAddMembers","click .js-join-board":"joinBoard"},this.prototype.onMemberAdd=z,this.prototype.isTemplate=Y,this.prototype.renderBoardTemplateReactSection=X,this.prototype.renderBoardTemplateBadge=ee,this.prototype._applySettings=te,this.prototype.permChange=he,this.prototype.openListComposer=ve,this.prototype.openCardComposerInFirstList=Ce,this.prototype.scrollToList=ke,this.prototype.viewForList=ye,this.prototype.scrollToCard=_e,this.prototype.preventScrollSelection=Oe,this.prototype.markRelatedNotificationsRead=Ie,this.prototype.moveCard=Ee,this.prototype.unmountInspirationPopover=Be,this.prototype.renderInspirationPopover=De,this.prototype.renderTeamOnboardingPupPopover=A,this.prototype.renderTeamOnboardingPupTooltip=L,this.prototype.unmountTeamOnboardingPupPopover=F,this.prototype.unmountTeamOnboardingPupTooltip=M,this.prototype.renderGettingStartedTip=V,this.prototype.unmountGettingStartedTip=R,this.prototype._shouldCloseBoardMenu=ne,this.prototype._isFirstBoardEverLoaded=re,this.prototype._isGhostUsingInviteLink=ae,this.prototype.renderOpen=ie,this.prototype.removeSidebarDisplayTypes=se,this.prototype.renderSidebarDisplayType=oe,this.prototype.showSidebarOnOpen=le,this.prototype.renderSidebarState=ce,this.prototype.toggleSidebar=de,this.prototype.setSidebarShow=ue,this.prototype.showSidebar=pe,this.prototype.hideSidebar=me,this.prototype.renderOrgChanges=Le,this.prototype.refreshOrganization=Fe,this.prototype.reloadCustomFields=Qe,this.prototype.renderBoardHeader=At,this.prototype.renderBoardWarnings=Ve,this.prototype.renderPluginButtons=Ye,this.prototype.renderBoardHeaderStarred=Lt,this.prototype.toggleStarred=Ft,this.prototype.renderBoardHeaderCalendar=Xe,this.prototype.getAllBackgroundClasses=G,this.prototype.defaultBoardBackground=K,this.prototype.clearBoardBackground=Z,this.prototype.renderBoardBackground=J,this.prototype.renderBoardHeaderSubscribed=Q,this.prototype.renderBoardViewsButton=zt,this.prototype.getBoardViewsButtonOptions=Ut,this.prototype.loadPowerUpViewsButtonOptions=Ht,this.prototype.getPowerUpViewOptions=Wt,this.prototype.removeBoardViewsButton=qt,this.prototype.saveBoardName=Jt,this.prototype.keyDownEvent=Qt,this.prototype.onInputChanged=Yt,this.prototype.startRenaming=Xt,this.prototype.stopRenaming=ei,this.prototype.openOrgMenu=Me,this.prototype.renderPermissionLevel=ge,this.prototype.postListListRender=we,this.prototype.renderLists=je,this.prototype.sortCommit=xe,this.prototype.closeInviteAcceptanceNotification=ii,this.prototype.buildInviteAcceptanceNotification=ni,this.prototype.getNewlySignedUpInvitees=ri,this.prototype.renderPopovers=ai,this.prototype.renderInviteAcceptanceNotification=si,this.prototype.unmountInviteAcceptanceNotification=oi,this.prototype.renderBoardHeaderFacepile=U,this.prototype.openAllMembers=H,this.prototype.openAddMembers=W,this.prototype.joinBoard=q,this.prototype.changeVis=be,this.prototype.addBoardToTeam=fe,this.prototype.toggleCalendar=ot,this.prototype.dismissFeedback=lt,this.prototype.navigateToCalendarEvent=ct,this.prototype.navigateToCalendar=dt,this.prototype.navigateToBoardEvent=ut,this.prototype.navigateToBoard=et,this.prototype.isShowingCalendar=pt,this.prototype.toggleMap=vt,this.prototype.toggleFilter=gt,this.prototype.showFilter=bt,this.prototype.closeFilter=ft,this.prototype.navigateToMapEvent=kt,this.prototype.navigateToMap=yt,this.prototype.toggleButler=_t,this.prototype.toggleButlerView=Ot,this.prototype.showButlerView=Et,this.prototype.setButlerView=St,this.prototype.navigateToButler=Nt,this.prototype.navigateToButlerView=Tt,this.prototype.showMemberProfile=$,this.prototype.showCalendar=mt,this.prototype.showMap=wt,this.prototype.showPowerUpView=Bt,this.prototype.closePowerUpView=Dt,this.prototype.showDashboard=Ct,this.prototype.showButler=Pt,this.prototype.closeDetailView=tt,this.prototype.closeCalendar=ht,this.prototype.closeMap=jt,this.prototype.closeButler=It,this.prototype.clickCloseDirectory=it,this.prototype.toggleDirectory=nt,this.prototype.navigateToDirectory=rt,this.prototype.showDirectory=at,this.prototype.closeDirectory=st,this.prototype.showTimeline=$t,this.prototype.showAdvancedCalendar=Gt,this.prototype.closeSingleBoardView=Kt,this.prototype.openFilter=Mt,this.prototype.clearFilters=Vt,this.prototype.openUnsubscribe=Re,this.prototype.dblClickAddListMenu=Se,this.prototype.reopen=ze,this.prototype.delete=Ue,this.prototype.updateControllerTitle=ti,this.prototype.copyBoard=He,this.prototype._insertCardPosition=Te,this.prototype.moveCardRequested=Ne,this.prototype.copyCardRequested=Pe,this.prototype.showCleanUp=Rt,this.prototype.renderInviteeOrientation=Ae,this.prototype.renderBoardHeaderMap=xt,this.prototype.unmountWorkspacesPreambleBoardHeaderButton=$e,this.prototype.renderWorkspacesPreambleBoardHeaderButton=qe,this.prototype.onWorkspacesPreambleCreateTeamSuccess=We,this.prototype.renderWorkspacesPreambleInviteButton=Ge,this.prototype.unmountWorkspacesPreambleInviteButton=Ke,this.prototype.renderWorkspacesAutoNameAlert=Ze,this.prototype.unmountWorkspacesAutoNameAlert=Je,this.prototype.renderButlerBoardButtons=Zt}constructor({headerBranding:e}){var t,i,n;super(...arguments),n=e=>{if(d.showingBoardView())return;const t=this.model.editable(),i=c.isLoggedIn(),n=m(e),a=(e,{shortcutKey:t=n,toggleValue:i}={})=>{l.sendPressedShortcutEvent({shortcutName:e,source:"boardScreen",keyValue:t,containers:{board:{id:this.model.id},organization:{id:this.model.get("idOrganization")},enterprise:{id:this.model.get("idEnterprise")}},attributes:{toggleValue:void 0!==i?i.toLowerCase():void 0}})};switch(n){case h.f:return void this.toggleFilter();case h.q:return void(i&&(this.model.filter.toggleQuietMode(),e.preventDefault(),a("myCardsShortcut")));case h.x:return this.model.filter.clear(),e.preventDefault(),void a("clearAllFiltersShortcut");case h.ClosedBracket:case h.w:return this.toggleSidebar(),e.preventDefault(),void a("toggleBoardMenuDrawerShortcut",{toggleValue:this.model.viewState.get("showSidebar")?"show":"hide"});case h.SemiColon:{const t=v.getShowText();return v.toggleText(),e.preventDefault(),void a("toggleLabelTextShortcut",{toggleValue:t?"hide":"show"})}case h.ArrowDown:case h.j:return this.moveCard("down"),e.preventDefault(),void a("moveDownShortcut");case h.ArrowUp:case h.k:return this.moveCard("up"),e.preventDefault(),void a("moveUpShortcut");case h.ArrowRight:return this.moveCard("right"),e.preventDefault(),void a("moveRightShortcut");case h.ArrowLeft:return this.moveCard("left"),e.preventDefault(),void a("moveLeftShortcut");case h.n:if(t){const t=this.model.viewState.getList(),i=this.model.viewState.getCard();if(null!=t){const n=null!=i?t.openCards().indexOf(i)+1:t.openCards().length;this.model.composer.save({list:t,index:n,vis:!0}),e.preventDefault(),a("insertCardShortcut")}}return;case h.z:case h.Z:return void(t&&(e.preventDefault(),e.shiftKey?(D({source:"boardScreen",idBoard:this.model.id}),a("redoActionShortcut",{shortcutKey:"Shift+Z"})):(B({source:"boardScreen",idBoard:this.model.id}),a("undoActionShortcut"))));case h.Escape:return void(t&&(p.sorting?p.abort():k.isEditing()||w.isVisible||u.isVisible||(this.model.composer.get("vis")?this.model.composer.save("vis",!1):this.model.viewState.get("listComposerOpen")?this.model.viewState.set("listComposerOpen",!1):this.sidebarViewPromise.then((()=>this.sidebarView.popView()))),d.showingCalendar(this)&&r(".calendar-day.active").removeClass("active"),e.preventDefault()));default:return}},(i="onShortcut")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.headerBranding=e,this.onShortcut=this.onShortcut.bind(this),this.renderTemplateTips=this.renderTemplateTips.bind(this),this.isLoadingPowerUpViews=!0,this.powerUpViews=[],g(this.onShortcut,{scope:b.Board})}initialize(){super.initialize(...arguments);this.sidebarViewPromise=n((()=>i.e(40).then(i.t.bind(null,"./app/scripts/views/board-menu/board-sidebar-view.js",7)))).then((e=>this.sidebarView=this.subview(e.default,this.model,{boardView:this})).bind(this)).catch((function(e){if("ChunkLoadError"!==e.name)throw e;{o(e);const t=r(".board-menu")[0];if(t)return s(a.createElement(P,null),t)}})),this.workspaceNavState=T.value;const e=()=>{this.workspaceNavState=T.value,!T.value.enabled||N.value.hidden||T.value.expanded?(r("#board").removeClass("collapsed-workspace-nav"),r(".js-board-header").removeClass("collapsed-workspace-nav")):(r("#board").addClass("collapsed-workspace-nav"),r(".js-board-header").addClass("collapsed-workspace-nav"))};this.unsubscribeWorkspaceNavState=T.subscribe(e),this.unsubscribeWorkspaceNavHiddenState=N.subscribe(e),this.inviteAcceptanceNotificationDiv=null,this.inviteAcceptanceNotificationComponent=null,this.hasSeenInviteAcceptanceNotification=!1,this.workspacesPreambleBoardHeaderButtonTarget=null,this.workspacesPreamblePromptHasBeenSeen=!1,this.workspacesPreambleInviteButtonTarget=null,this.teamOnboardingPupPopoverDiv=null,this.teamOnboardingPupTooltipDiv=null,this.workspacesAutoNameAlertTarget=null,this.makeDebouncedMethods("refreshOrganization","reloadCustomFields","render","renderBoardBackground","renderBoardHeader","renderBoardHeaderCalendar","renderBoardHeaderSubscribed","renderBoardHeaderMap","renderBoardWarnings","renderLists","renderPermissionLevel","updateControllerTitle","renderBoardHeaderFacepile","renderPluginButtons","renderBoardViewsButton"),this.listenTo(this.model,{"change:closed deleting":this.renderDebounced,"change:idOrganization":()=>(this.reloadDirectoryPlugins=!0,this.refreshOrganizationDebounced(),this.headerBranding()),"change:memberships":this.renderPermissionLevelDebounced,"change:limits":this.renderBoardWarningsDebounced,"change:name":()=>(this.renderBoardHeaderDebounced(),this.updateControllerTitleDebounced()),"change:powerUps"(){if(this.renderBoardHeaderMapDebounced(),this.model.isMapPowerUpEnabled()||this.closeMap(),this.renderBoardHeaderCalendarDebounced(),!this.model.isPowerUpEnabled("calendar"))return this.closeCalendar()},"change:prefs.cardCovers":this.renderListsDebounced,"change:prefs.permissionLevel":()=>(this.renderListsDebounced(),this.renderPermissionLevelDebounced(),this.renderBoardHeaderDebounced()),"change:prefs.background change:prefs.backgroundTile change:prefs.backgroundBrightness":()=>(this.renderBoardHeaderCalendarDebounced(),this.renderBoardBackgroundDebounced(!0),this.renderBoardHeaderDebounced(),this.renderPluginButtonsDebounced()),"change:prefs.isTemplate":this.renderBoardHeaderDebounced,"change:prefs.selfJoin":this.renderBoardHeaderDebounced,"change:subscribed":this.renderBoardHeaderSubscribedDebounced,permChange:this.permChange,ownedChange:this.renderBoardHeaderDebounced,destroy:()=>d.displayErrorPage({errorType:"boardNotFound"})}),this.listenTo(this.model.memberList,{"change:status":this.renderBoardHeaderDebounced,add:this.onMemberAdd,"remove reset":this.renderBoardHeaderFacepileDebounced}),this.listenTo(this.model.boardPluginList,"add reset",(()=>(this.reloadCustomFieldsDebounced(),this.loadPowerUpViewsButtonOptions(),this.renderBoardViewsButtonDebounced()))),this.subscribe(O(this.model),(()=>(this.renderBoardHeaderMapDebounced(),this.model.isMapPowerUpEnabled()||this.closeMap(),this.renderBoardHeaderCalendarDebounced(),this.model.isPowerUpEnabled("calendar")||this.closeCalendar(),this.loadPowerUpViewsButtonOptions(),this.renderBoardViewsButtonDebounced()))),this.listenTo(this.model.viewState,{"change:showSidebar":this.renderSidebarState,"change:sidebarDisplayType":this.renderSidebarDisplayType}),this.listenTo(c.me().boardStarList,"add remove reset",(()=>this.renderBoardHeaderStarred())),this.memberTypeMe=this.model.getMemberType(c.me()),this.refreshOrganization(),this.listScrollLeft=null,this.savingScroll=!1,this.calcState={},this.listenTo(this.model.filter,"change",(()=>(this.renderFilteringStatus(),this.renderBoardHeader()))),this.listListView=this.collectionSubview(y,this.model.listList,{id:"board",model:this.model,className:"u-fancy-scrollbar js-no-higher-edits ".concat(!T.value.enabled||N.value.hidden||T.value.expanded?"":"collapsed-workspace-nav"),resetCallback:()=>this.postListListRender()}),this.listenTo(this.listListView,{mouseMoveListView(e){return this.model.viewState.selectList(e.model)},mouseLeaveListView(e){return this.model.viewState.selectList(null)},mouseMoveCardView(e,t){if(!(this.ignoreMouseCardSelects||w.isVisible||p.sorting))return this.model.viewState.selectCard(t.model)},mouseLeaveCardView(e,t){if(!(this.ignoreMouseCardSelects||w.isVisible||p.sorting))return this.model.viewState.selectCard(null)},moveCard:this.moveCardRequested,copyCard:this.copyCardRequested}),this._applySettings(),this.markRelatedNotificationsRead(),this.reloadDirectoryPlugins=!1,l.sendScreenEvent({name:"boardScreen",attributes:{isTemplate:this.model.isTemplate(),visibility:this.model.getPermLevel()},containers:{board:{id:this.model.id},organization:{id:di(this.model.getOrganization(),(e=>e.id))||""}}})}renderTemplateTips(){return this.sidebarViewPromise.then((()=>this.sidebarView.renderTemplateTips()))}renderClosed(){this.unmountInspirationPopover();const e=this.model.getOrganization(),t=E.get("btg.upgrade-prompt-audit",!1),i=null!=e?e.isAtOrOverFreeBoardLimit():void 0,n={name:this.model.get("name"),canReopen:this.model.owned(),canDelete:this.model.canDelete(),deleting:this.model.isDeleting(),isAtOrOverLimit:i,isDesktop:I,orgId:e&&e.get("id"),orgName:e&&e.get("displayName"),billingUrl:e&&e.getBillingUrl(),upgradePathAuditEnabled:t};this.unmountBoardClosed=s(a.createElement(_,n),this.$el[0]),this.defaultBoardBackground()}render(){return this.model.get("closed")&&!S(this.model.get("id"))?this.renderClosed():(this.unmountBoardClosed&&this.unmountBoardClosed(),this.renderOpen()),this}renderFilteringStatus(){const e=this.model.filter.isFiltering();this.$(".js-filter-cards-indicator").toggleClass("hide",!e),li&&(this.$(".js-filter-cards-count").toggleClass("hide",!e),this.$(".js-header-filter-btn").toggleClass("board-header-filter-btn-active",e)),this.$(".js-num-cards").toggleClass("hide",!e),this.$("#board").toggleClass("filtering",e);const t=this.model.filter.toQueryString();if(new URLSearchParams(location.search).toString()!==new URLSearchParams(t).toString())return history.replaceState(null,null,location.pathname+t)}remove(){return null!=this.calendarView&&this.calendarView.remove(),f(this.onShortcut),this.unmountWorkspacesPreambleBoardHeaderButton(),this.unmountWorkspacesPreambleInviteButton(),this.unmountTeamOnboardingPupPopover(),this.unmountTeamOnboardingPupTooltip(),this.unmountBoardClosed&&this.unmountBoardClosed(),this.removeBoardViewsButton(),this.unmountWorkspacesAutoNameAlert(),this.unsubscribeWorkspaceNavState(),this.unsubscribeWorkspaceNavHiddenState(),super.remove(...arguments)}blurInputsOnBoardClick(e){const t=r(e.target);return t.is("input")||t.is("textarea")?x.stopPropagation(e):r("input, textarea").blur()}}function di(e,t){return null!=e?t(e):void 0}ci.initClass(),e.exports=ci},"./app/scripts/views/board/calendar-board-button.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"CalendarBoardButton",(function(){return c}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/i18n/index.ts"),s=i("./packages/nachos/icons/calendar.tsx"),o=i("./packages/nachos/button.ts");const l=Object(a.forTemplate)("board_header"),c=({backgroundBrightness:e,onClick:t})=>r.a.createElement("div",null,r.a.createElement(o.Button,{style:{margin:"0 4px 0 0"},appearance:"dark"===e?"transparent":"transparent-dark",iconBefore:r.a.createElement(s.CalendarIcon,null),onClick:t},l("calendar")))},"./app/scripts/views/board/confirmation-public-boards-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{Analytics:r}=i("./packages/atlassian-analytics/index.ts"),a=i("./app/scripts/views/lib/pop-over.js"),s=i("./app/scripts/lib/util/index.js"),o=i("./app/scripts/views/internal/view.js"),l=i("./app/scripts/views/templates/popover_confirmation_public_boards.js"),c=i("./app/scripts/views/board-menu/board-member-add-multiple-view.js"),{trackUe:d}=i("./packages/analytics/index.ts");class u extends o{static initClass(){this.prototype.viewTitleKey="change to public",this.prototype.className="confirmation-popover",this.prototype.events={"click .js-submit":"selectVis","click .js-action-link":"renderInvitationLink","mouseenter .js-action-link":"mouseenter","mouseleave .js-action-link":"mouseleave"}}render(){const e=this.model.toJSON();return e.isTemplate=this.model.isTemplate(),this.$el.html(l(e)),this}selectVis(e){s.stop(e);const t=r.startTask({taskName:"edit-board",subTask:"prefs/permissionLevel",source:"makeBoardPublicInlineDialog"}),i="public"!==this.model.getPref("permissionLevel")?1:0;return this.model.setPrefWithTracing("permissionLevel","public",{taskName:"edit-board",subTask:"prefs/permissionLevel",source:"makeBoardPublicInlineDialog",traceId:t,next:(e,n)=>{var a;n&&r.sendUpdatedBoardFieldEvent({field:"visibility",value:"public",source:"makeBoardPublicInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(a=this.model.getOrganization())||void 0===a?void 0:a.id}},attributes:{change:i,taskId:t}})}}),this.model.save(),d("board","sets","board visibility","","to public","",{boardid:this.model.id,change:i}),a.hide()}renderInvitationLink(e){s.stop(e);const t=new c({model:this.model,modelCache:this.modelCache});t.loadOrgData(),n(".js-open-manage-board-members").removeClass("open-manage-boards-offset"),a.toggle({elem:n(".js-open-manage-board-members"),view:t},d("Invitation Link","opens","Multiple members invite view","","","by clicking invite link in confirmation view",{boardid:this.model.id}))}mouseenter(e){return n(".js-open-manage-board-members").addClass("open-manage-boards-offset")}mouseleave(e){return this.setTimeout((()=>n(".js-open-manage-board-members").removeClass("open-manage-boards-offset")),0)}}u.initClass(),e.exports=u},"./app/scripts/views/board/copy-board-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./node_modules/react/index.js"),a=i("./app/scripts/views/lib/alerts.js"),{Analytics:s}=i("./packages/atlassian-analytics/index.ts"),o=i("./app/scripts/db/auth.js"),l=i("./app/scripts/views/internal/board-display-helpers.js"),c=i("./app/scripts/controller/index.js"),d=i("./app/scripts/views/organization/create-org-view.js"),u=i("./packages/locale/index.ts"),p=i("./app/common/lib/util/last-organization.ts").default,m=i("./app/scripts/db/model-loader.js"),h=i("./app/scripts/views/board/new-board-helper-add-org-view.js"),g=i("./app/scripts/views/lib/pop-over.js"),b=i("./node_modules/bluebird/js/browser/bluebird.js"),{TrelloStorage:f}=i("./packages/storage/index.ts"),v=i("./app/scripts/lib/util/index.js"),k=i("./app/scripts/views/internal/view.js"),y=i("./node_modules/underscore/underscore.js"),w=i("./app/scripts/views/internal/templates.js"),j=i("./app/scripts/lib/localize.js"),{featureFlagClient:x}=i("./packages/feature-flag-client/index.ts"),C=i("./app/scripts/views/templates/board_menu_vis.js"),_=i("./packages/browser/index.ts").isDesktop(),{renderComponent:O}=i("./app/src/components/ComponentWrapper/index.ts"),{CopyBoardFromTemplatePopoverButton:E}=i("./app/src/components/UpgradePathAudit/index.ts"),S=p(f);class T extends k{static initClass(){this.prototype.events={'change select[name="org-id"]':"changeOrg","click .js-helper-add-org":"helperAddOrg","submit form":"submit",'input input[id="boardNewTitle"]':"onBoardNameChange","click .js-submit":"submit","click .js-create-org":"newOrg","click .js-change-vis":"openChangeVis","click .js-select":"selectVis","click .js-confirm-public":"confirmPublic","click .js-cancel-public":"cancelPublic"}}constructor(e){super(e),this.getViewTitle=this.getViewTitle.bind(this)}initialize({boardNameInputValue:e,gasSource:t}){this.boardNameInputValue=e,this.gasSource=t,this.upgradePathAuditEnabled=x.get("btg.upgrade-prompt-audit",!1),this.blockTeamlessBoardsEnabled=x.get("btg.block-teamless-boards",!1)}getData(){return this.loading=!0,m.loadBoardMinimal(this.model.get("id")).finally((()=>(this.loading=!1,s.sendScreenEvent({name:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:N(this.model.getOrganization(),(e=>e.id))}},attributes:{isTemplate:this.model.isTemplate()}}),this.render())))}getViewTitle(){return this.model.isTemplate()?j(["view title","create board from template"]):j(["view title","copy board"])}getOrganization(){switch(this.model.typeName){case"Organization":return this.model;case"Board":return this.model.getOrganization();case"Member":return null}}getDefaultIdOrganization(e){let t,i;if(0===e.length)return null;if(this.options.useLastOrganization){if(1===e.length)return e[0];const n=S.get();if(n===S.NO_ORGANIZATION)return null;if(null!=n&&Array.from(e).includes(n))return n;for(t of(i=null,Array.from(e)))(null==i||t>i)&&(i=t);return i}if(null!=(i=N(this.getOrganization(),(e=>e.id))))return i;{const e=N(o.me().getBestOrganization(),(e=>e.id));return null!=e?e:null}}render(){let e;const t=o.me(),n=this.getDefaultIdOrganization(t.organizationList.pluck("id"));let r=t.organizationList;const a=this.model.get("prefs").isTemplate&&"public"===this.model.get("prefs").permissionLevel,s=this.model.get("enterpriseOwned");t.isPaidManagedEntMember()&&(r=r.filter((e=>e.belongsToRealEnterprise()))),s&&!a&&(e=this.model.getEnterprise(),r=e?r.filter((t=>t.get("idEnterprise")===e.get("id"))):r.filter((e=>e.get("idEnterprise")))),r=r.map((e=>y.extend(e.toJSON(),{selectOrg:e.id===n})));const l=null!=this.model.get("idEnterprise"),c={orgs:r,canAddToOrgs:0!==r.length,willRemovePowerUps:this.model.powerUpsCount()>t.getPowerUpsLimit(this.getOrganization()),isDesktop:_,loading:this.loading,boardHasEnterprise:s,upgradePathAuditEnabled:this.upgradePathAuditEnabled,showPrivateBoardsOptionForEntBoards:l,blockTeamlessBoardsEnabled:this.blockTeamlessBoardsEnabled};e&&(c.enterpriseName=e.get("displayName"));const d=Math.floor(13*Math.random()).toString();return c.placeholder=j(["board name placeholder",d]),c.publicConfirmationText=j(["confirm","public board confirmation","text"]),c.publicConfirmationConfirm=j(["confirm","public board confirmation","confirm"]),c.publicConfirmationCancel=j(["cancel"]),c.isTemplate=this.model.isTemplate(),this.boardNameInputValue&&(c.boardNameInputValue=this.boardNameInputValue),c.pLevel="private",this.model.owned()?c.pLevel=this.model.get("prefs").permissionLevel:null!=n&&(c.pLevel="org"),(null!=this.options?this.options.newOrgBoard:void 0)&&(c.hideOrg=!0),this.$el.html(w.fill(i("./app/scripts/views/templates/board_copy.js"),c)),this.checkBoardPermissions(),this}checkBoardPermissions(){const e=this.$('select[name="org-id"]').val();if(e)return this.loadOrg(e).then((e=>(null!=e?e.isAtOrOverFreeBoardLimit():void 0)?(this.$(".js-board-limits-upgrade-ad").removeClass("hide"),this.$(".js-target-team").text(e.get("displayName")),this.upgradePathAuditEnabled?this.$(".js-upgrade-link").attr("href",this.onDisplayPlanSelection(null==e?void 0:e.get("id"),e.get("displayName"))):(this.$(".js-upgrade-link").attr("href",e.getBillingUrl()),this.disableSubmit())):this.renderBoardVisChooser()));this.renderBoardVisChooser()}isBoardCreationRestricted(e){return"org"!==e.attributes.prefs.boardVisibilityRestrict.org||"org"!==e.attributes.prefs.boardVisibilityRestrict.private||"org"!==e.attributes.prefs.boardVisibilityRestrict.public}loadOrg(e){return b.try((()=>{if(e){const t=this.modelCache.get("Organization",e);return null!=t||!this.isBoardCreationRestricted(t)&&t.memberships?t:m.loadOrganizationMinimal(e)}return null}))}renderBoardVisChooser(e){this.$(".js-permissions").removeClass("hide");const t=this.$('select[name="org-id"]').val(),i={isNewBoard:!0,canChange:!0};this.disableSubmit();return this.$(".js-vis-display").html("<p>".concat(j("checking visibility permissions"),"</p>")),this.loadOrg(t).then((t=>{if(null!=t){const n=null!=t?t.getEnterprise():void 0;this.canChangeOrg(t,e)||(e=null),y.extend(i,{hasOrg:!0,orgName:t.get("displayName"),hasSuperAdmins:t.hasPremiumFeature("superAdmins"),privateRestricted:!this.canChangeOrg(t,"private"),orgRestricted:!this.canChangeOrg(t,"org"),enterpriseRestricted:!this.canChangeOrg(t,"enterprise"),publicRestricted:!this.canChangeOrg(t,"public"),hasEnterprise:null!=t?t.belongsToRealEnterprise():void 0,enterpriseName:null!=n?n.get("displayName"):void 0,isTemplate:this.model.isTemplate(),isOrgPremium:null!=t?t.isPremium():void 0})}else if(o.me().isPaidManagedEntMember()){const t=o.me().getEnterprise();t&&(t.canSetTeamlessBoardVisibility(e)||(e=null),y.extend(i,{hasOrg:!1,hasSuperAdmins:!1,privateRestricted:!t.canSetTeamlessBoardVisibility("private"),orgRestricted:!0,enterpriseRestricted:!0,publicRestricted:!t.canSetTeamlessBoardVisibility("public"),hasEnterprise:!0,enterpriseName:t.get("displayName"),isTemplate:this.model.isTemplate(),isOrgPremium:!1,isTeamlessOwnedBoard:!0}))}const n=null!=t&&this.canChangeOrg(t,"org")?this.model.isPrivate()&&this.canChangeOrg(t,"private")?"private":"org":i.isTeamlessOwnedBoard&&i.privateRestricted&&!i.publicRestricted?"public":"private";return i.current=null!=e?e:n,{org:t,visData:i}})).then((({org:e,visData:t})=>{let i=!1;if(t.privateRestricted&&t.orgRestricted&&t.enterpriseRestricted&&t.publicRestricted){i=!0;const n=this.$(".js-no-valid-org-privs");null!=e&&e.owned()?n.html(j("board create restriction admin",{urlSettings:"/".concat(e.get("name"),"/account")})):t.isTeamlessOwnedBoard?n.html(j("board create restriction enterprise")):n.html(j("board create restriction not admin")),n.removeClass("hide"),this.$(".js-vis-chooser,.js-vis-display").addClass("hide")}this.$(".js-vis-chooser").html(C(t));const n=this.getPermissionLevel(),r=t.current;if(n!==r&&"public"===r)return this.openPublicConfirmation();{this.setPermissionLevel(r),this.renderVisDisplay(r);const e=this.$('input[id="boardNewTitle"]').val().trim(),t=!this.$(".js-submit").hasClass("disabled");i||!e||t||this.enableSubmit()}})).done(),this}enableSubmit(){return this.$(".js-submit").removeClass("disabled")}disableSubmit(){return this.$(".js-submit").addClass("disabled")}renderVisDisplay(e){return this.$(".js-vis-display").html(w.fill(i("./app/scripts/views/templates/board_copy_vis.js"),{visIconClass:l.getPermLevelIconClass(e),visDisplayText:j(["board perms",e,"name"])}))}resetVisChooser(){this.$(".js-no-valid-org-privs").addClass("hide")}openPublicConfirmation(){return this.$(".js-vis-display").addClass("hide"),this.$(".js-confirm-public-message").removeClass("hide")}hidePublicConfirmation(){return this.$(".js-confirm-public-message").addClass("hide"),this.$(".js-vis-display").removeClass("hide")}confirmPublic(){s.sendUpdatedBoardFieldEvent({field:"visibility",value:"public",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:N(this.model.getOrganization(),(e=>e.id))}},attributes:{previous:this.model.getPermLevel(),change:"public"!==this.model.getPermLevel(),isTemplate:this.model.isTemplate()}}),this.setPermissionLevel("public"),this.renderVisDisplay("public"),this.hidePublicConfirmation(),this.enableSubmit()}cancelPublic(){const e=this.getPermissionLevel();return this.renderBoardVisChooser(e),this.hidePublicConfirmation(),s.sendTrackEvent({action:"cancelled",actionSubject:"visibility",source:"copyBoardInlineDialog",attributes:{visibility:"public"}})}openChangeVis(e){v.stop(e),this.$(".js-vis-display").addClass("hide"),this.$(".js-vis-chooser").removeClass("hide"),this.$(".js-confirm-public-message").addClass("hide")}onBoardNameChange(e){const t=this.$('select[name="org-id"]').val(),i=n(e.target).val().trim(),r=!this.$(".js-submit").hasClass("disabled");!i||r?!i&&r&&this.disableSubmit():this.loadOrg(t).then((e=>{e&&e.isAtOrOverFreeBoardLimit()||this.enableSubmit()}))}selectVis(e){v.stop(e);const t=n(e.target).closest(".js-select");if(t.hasClass("disabled"))return;this.$(".js-vis-display").removeClass("hide"),this.$(".js-vis-chooser").addClass("hide");const i=this.getPermissionLevel(),r=t.attr("name");this.renderBoardVisChooser(r),s.sendUpdatedBoardFieldEvent({field:"visibility",value:r,source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:N(this.model.getOrganization(),(e=>e.id))}},attributes:{previous:i,change:i!==r,isTemplate:this.model.isTemplate()}})}setPermissionLevel(e){return this.$('input[name="permissionLevel"]').val(e)}getPermissionLevel(){let e;return null!=(e=this.$('input[name="permissionLevel"]').val())?e:""}canChangeOrg(e,t){return e.canSetVisibility(t)}allowBoardCopy(){return this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.resetVisChooser(),this.$(".js-vis-display").removeClass("hide"),this.$(".js-vis-chooser").addClass("hide"),this.renderBoardVisChooser()}onDisplayPlanSelection(e,t){const i=this.$(".copy-board-upsell-react-component")[0];e&&i&&O(r.createElement(E,{orgId:e,teamName:t}),i)}changeOrg(e){const t=e.target.value;if(s.sendUpdatedBoardFieldEvent({field:"organization",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:t}},attributes:{previous:N(this.model.getOrganization(),(e=>e.id)),change:N(this.model.getOrganization(),(e=>e.id))!==t,isTemplate:this.model.isTemplate()}}),this.hidePublicConfirmation(),!t)return void this.allowBoardCopy();return this.$(".js-vis-display").html("<p>".concat(j("checking visibility permissions"),"</p>")),this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.disableSubmit(),this.loadOrg(t).then((e=>(null!=e?e.isAtOrOverFreeBoardLimit():void 0)?(this.$(".js-permissions").addClass("hide"),this.$(".js-board-limits-upgrade-ad").removeClass("hide"),this.$(".js-target-team").text(e.get("displayName")),this.upgradePathAuditEnabled?this.$(".js-upgrade-link").attr("href",this.onDisplayPlanSelection(null==e?void 0:e.get("id"),e.get("displayName"))):this.$(".js-upgrade-link").attr("href",e.getBillingUrl())):this.allowBoardCopy()))}helperAddOrg(e){v.stop(e),g.pushView({view:new h({model:this.model,modelCache:this.modelCache})}),s.sendUIEvent({action:"clicked",actionSubject:"icon",actionSubjectId:"infoIcon",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:N(this.getOrganization(),(e=>e.id))}},attributes:{isTemplate:this.model.isTemplate()}})}defaultBackgroundColor(){if(u.usesEnglish()){const e=new Date,t=e.getMonth(),i=e.getDate();if(2===t&&17===i)return"green"}return"blue"}submit(e){let t;if(v.stop(e),this.$(".js-submit").hasClass("disabled"))return;const i=this.$('input[name="name"]'),n=i.val().trim();if(""===n)return void i.focus().select();const r=this.gasSource||"copyBoardInlineDialog",l=s.startTask({taskName:"create-board",subTask:this.model.isTemplate()?"template":"copy",source:r});s.sendClickedButtonEvent({buttonName:"createButton",source:this.gasSource||"copyBoardInlineDialog",attributes:{isTemplate:this.model.isTemplate(),taskId:l}});const d=null!=(t=this.$('select[name="org-id"]').val())?t:"";S.set(d);const u={name:n,idOrganization:d},p=this.$('input[name="permissionLevel"]').val();let m=y.extend({prefs_permissionLevel:p},u);return this.model.isTemplate()&&(m=y.extend({prefs_isTemplate:!1},m)),m.idBoardSource=this.model.id,m.keepFromSource=this.$("input:checkbox:checked").map((function(){return this.name})).get().join(),o.me().boardList.createWithTracing(u,{modelCache:this.modelCache,requestData:m,traceId:l,success:e=>{var t;let i,n;a.hide("copying"),a.hide("templates"),s.sendCopiedBoardEvent({source:r,containers:{board:{id:e.id},organization:{id:d}},attributes:{sourceBoardId:this.model.id,fromTemplate:this.model.isTemplate(),templateCategory:null===(t=this.model.get("templateGallery"))||void 0===t?void 0:t.category,visibility:e.getPermLevel(),isBCFeature:!0,requiredBC:!1,taskId:l}}),s.taskSucceeded({taskName:"create-board",subTask:this.model.isTemplate()?"template":"copy",traceId:l,source:r}),n=e.id,Array.from(i=o.me().get("idBoards")).includes(n)||o.me().set("idBoards",i.concat(e.id)),c.displayBoard({idBoard:e.id}).done()},error:(e,t,i)=>{const n=i.responseText;if(/ENTERPRISE_OWNED_ENTITY/.test(n))return s.taskAborted({taskName:"create-board",subTask:this.model.isTemplate()?"template":"copy",traceId:l,source:r,error:t}),a.hide("copying"),a.show(["unlicensed member cannot copy enterprise board",{enterpriseName:N(this.model.getEnterprise(),(e=>e.get("displayName")))}],"error","create error",7e3);if(/SOURCE_TEMPLATE_CONTAINS_FORBIDDEN_ENTERPRISE_POWER_UPS/.test(n)){s.taskAborted({taskName:"create-board",subTask:this.model.isTemplate()?"template":"copy",traceId:l,source:r,error:t});const e=this.parseTemplateContainsForbiddenPowerUpsError(n);return a.hide("templates"),a.show(["source template contains forbidden enterprise power ups",{powerUps:e}],"error","forbiddenPowerUps",7e3)}return s.taskFailed({taskName:"create-board",subTask:"copy",traceId:l,source:r,error:t}),a.flash("could not create board","error","create error")}}),this.model.isTemplate()?a.show("creating-board","info","templates"):a.show("copying","info","copying"),g.hide()}newOrg(e){s.sendClickedLinkEvent({linkName:"createNewOrgLink",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:N(this.getOrganization(),(e=>e.id))}},attributes:{isTemplate:this.model.isTemplate()}});const t={};o.me().isPaidManagedEntMember()&&(t.isEnterprise=!0),v.stop(e),g.pushView({view:new d({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking create team in copy board menu"}})})}parseTemplateContainsForbiddenPowerUpsError(e){const{message:t}=JSON.parse(e);return t.slice(1+t.indexOf(":")).trimLeft()}}function N(e,t){return null!=e?t(e):void 0}T.initClass(),e.exports=T},"./app/scripts/views/board/invite-acceptance-notification.js":function(e,t,i){const n=i("./app/scripts/db/auth.js"),r=i("./node_modules/react/index.js"),a=i("./app/scripts/views/internal/recup-with-helpers.js")("invite_acceptance_notification"),{trackUe:s}=i("./packages/analytics/index.ts"),o=i("./node_modules/underscore/underscore.js");class l extends r.Component{static initClass(){this.prototype.render=a.renderable((function(){return a.div(".invite-acceptance-notification",(()=>(a.div(".invite-acceptance-notification-close",(()=>a.a({onClick:this.props.onClose,href:"#"},(()=>a.span(".icon-lg.icon-close"))))),a.h6((()=>this.getTitle())),a.p((()=>this.getBody())),a.div(".invite-acceptance-notification-dont-show-again",(()=>a.a({onClick:this.clickDontShowAgain,href:"#"},(()=>a.format("Do not show this again"))))))))}))}constructor(e){super(e),this.state={members:e.members},this.clickDontShowAgain=this.clickDontShowAgain.bind(this)}getTitle(){return 1===this.state.members.length?(a.text("".concat(this.state.members[0].get("fullName")," ")),a.format("joined your board")):a.format("new members joined your board")}getBody(){const e=this.state.members.length;let t=[];if(t=1===e?o.map(this.state.members,(function(e){if(null!=e.get("fullName")){const t=e.get("fullName").split(" ");if(t.length>0)return t[0]}})):o.map(this.state.members,(e=>e.get("fullName"))),1===e)a.text(t[0]+" "),a.format("is new to trello");else if(2===e)a.text(t[0]+" "),a.format("and"),a.text(" ".concat(t[1]," ")),a.format("are new to trello");else if(3===e)a.text(t[0]+", "),a.text(t[1]+", "),a.format("and"),a.text(" "),a.text(t[2]+" "),a.format("are new to trello");else{let i="";t.slice(0,3).forEach((e=>i+=e+", ")),a.text(i),a.format("and"),a.text(" "),a.text(e-3+" "),4===e?a.format("other are new to trello"):a.format("others are new to trello")}return a.text(" "),1===e?a.a({href:"https://trello.com/guide/feature-deep-dive",target:"_blank",onClick:this.clickAddCardLink},(()=>a.format("help them get started by adding them to a card"))):a.a({href:"https://trello.com/guide/feature-deep-dive",target:"_blank",onClick:this.clickAddCardLink},(()=>a.format("help your board members get started by adding them to a card"))),a.text(" "),a.a({href:"https://trello.com/guide/collaboration",target:"_blank",onClick:this.clickMentionLink},(function(){return 1===e?a.format("you can mention them sg in a comment too"):a.format("you can mention them pl in a comment too")}))}clickAddCardLink(){return s("invite acceptance notification","click","help adding them to a card","","","",{member:n.me().id})}clickMentionLink(){return s("invite acceptance notification","click","help mentioning them","","","",{member:n.me().id})}clickDontShowAgain(){return n.me().dismiss("notify-invite-acceptance"),s("invite acceptance notification","dismiss","future notifications","","","by clicking dont show again",{member:n.me().id}),this.props.onClose()}}l.initClass(),e.exports=l},"./app/scripts/views/board/invitee-orientation-view.js":function(e,t,i){const n=i("./app/scripts/db/auth.js"),r=i("./app/scripts/views/member-menu-profile/member-on-board-view.js"),a=i("./app/scripts/lib/util/index.js"),s=i("./app/scripts/views/internal/view.js"),o=i("./app/scripts/views/templates/invitee-orientation.js"),{idToDate:l}=i("./app/common/lib/util/date.ts"),{truncate:c}=i("./packages/strings/index.ts"),d=i("./node_modules/underscore/underscore.js");class u extends s{static initClass(){this.prototype.className="invitee-orientation-wrapper",this.prototype.events={"click .js-close-orientation":"onClose"}}initialize(){return this.hasRendered=!1}getInviteToken(){return a.inviteTokenFor(this.model.id)}getMemberForAvatar(){const e=this.getInviteToken().split("-")[1];let t=this.modelCache.get("Member",e);return null==t&&(t=this.model.adminList.models[0]),t}renderableMembers(){const e=this.model.orderedVisibleMembers().slice(0,3);if(n.isLoggedIn()){const t=e.shift();e.push(t)}return e}shouldSeePopover(){return n.isLoggedIn()&&!n.me().isDismissed("invitee-orientation")&&this.getInviteToken()&&l(n.myId())>=new Date("2019-06-15")}renderFacepile(){const e=Array.from(this.renderableMembers()).map((e=>this.subview(r,e,{board:this.model,notClickable:!0,small:!0,hideBadges:!0})));return this.ensureSubviews(e.reverse(),this.$(".js-invitee-orientation-facepile"))}_getDataForMessage(){const e=this.model.orderedVisibleMembers(),t=this.renderableMembers();return{visibleMembersCount:e.length,maxVisible:3,firstMemberFullName:c(t[0].get("fullName"),30),boardName:this.model.get("name")}}_getDataForAvatar(){return{inviterAvatarUrl:this.getMemberForAvatar().get("avatarUrl"),inviterFullName:this.getMemberForAvatar().getMemberViewTitle(),inviterUsername:this.getMemberForAvatar().get("username"),inviterInitials:this.getMemberForAvatar().get("initials")}}render(){if(!this.shouldSeePopover()||this.hasRendered)return this;let e={};e=d.extend(e,this._getDataForAvatar()),e=d.extend(e,this._getDataForMessage()),this.$el.html(o(e)),this.renderFacepile();const t=this.$el.find(".invitee-orientation-message-container"),i=this.$el.find(".invitee-orientation-avatar-container");return setTimeout((()=>i.addClass("active")),1200),setTimeout((()=>t.addClass("active")),1350),this.hasRendered=!0,this}onClose(){return n.me().dismiss("invitee-orientation"),this.remove()}}u.initClass(),e.exports=u},"./app/scripts/views/board/new-board-helper-add-org-view.js":function(e,t,i){const{Analytics:n}=i("./packages/atlassian-analytics/index.ts"),r=i("./app/scripts/db/auth.js"),a=i("./app/scripts/views/organization/create-org-view.js"),{featureFlagClient:s}=i("./packages/feature-flag-client/index.ts"),o=i("./app/scripts/views/lib/pop-over.js"),l=i("./app/scripts/lib/util/index.js"),c=i("./app/scripts/views/internal/view.js"),d=i("./app/scripts/views/internal/templates.js");class u extends c{static initClass(){this.prototype.viewTitleKey="add an organization",this.prototype.events={"click .js-create-org":"newOrg"}}render(){return this.$el.html(d.fill(i("./app/scripts/views/templates/popover_helper_new_board_add_org.js"))),s.get("dataeng.gasv3-event-tracking",!1)&&n.sendScreenEvent({name:"newBoardHelperAddOrganizationInlineDialog"}),this}newOrg(e){const t={};r.me().isPaidManagedEntMember()&&(t.isEnterprise=!0),l.stop(e);return o.pushView({view:new a({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking team info icon in copy board menu"}})})}}u.initClass(),e.exports=u},"./app/scripts/views/board/reopen-board-popover-view.js":function(e,t,i){const n=i("./packages/react-dom-wrapper/index.ts"),r=i("./node_modules/react/index.js"),{BillableGuestsAlert:a}=i("./app/src/components/BillableGuestsAlert/index.ts"),s=i("./app/scripts/views/board/billable-guest-list-popover-view.js"),o=i("./app/scripts/views/lib/pop-over.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./app/scripts/views/templates/popover_reopen_board.js"),d=i("./packages/product-features/index.ts").ProductFeatures,u=i("./packages/browser/index.ts").isDesktop(),{Analytics:p,tracingCallback:m}=i("./packages/atlassian-analytics/index.ts");class h extends l{static initClass(){this.prototype.viewTitleKey="reopen board",this.prototype.events={"click .js-confirm-reopen":"confirmReopen"}}initialize({board:e,org:t,newBillableGuests:i,availableLicenseCount:n,onReopen:r}){return this.board=e,this.org=t,this.newBillableGuests=i,this.availableLicenseCount=n,this.onReopen=r,super.initialize(...arguments)}remove(){return this.reactRoot&&n.unmountComponentAtNode(this.reactRoot),super.remove(...arguments)}renderReactSection(){const e=this.org.getProduct(),t={adminNames:this.org.adminList.map((e=>e.get("fullName")||e.get("username"))),newBillableGuestsCount:this.newBillableGuests.length,availableLicenseCount:this.availableLicenseCount,orgName:this.org.get("displayName")||this.org.get("name"),pricePerGuest:d.getPrice(e),isMonthly:d.isMonthly(e),isOrgAdmin:this.org.owned(),isDesktop:u,orgUrl:this.org.url,isReopen:!0,onCountClick:()=>o.pushView({view:new s({newBillableGuests:this.newBillableGuests})})},i=r.createElement(a,t);if(this.reactRoot=this.$(".js-billable-guests-alert")[0])return n.render(i,this.reactRoot)}render(){return this.$el.html(c()),this.renderReactSection(),this}confirmReopen(e){let t=this.org.owned()&&!u;this.org.owned()&&null!==this.availableLicenseCount&&this.availableLicenseCount<this.newBillableGuests.length&&(t=!1);const i=p.startTask({taskName:"edit-board",subTask:"closed",source:"reopenBoardInlineDialog"});return this.board.reopen({newBillableGuests:this.newBillableGuests,keepBillableGuests:t,traceId:i},m({taskName:"edit-board",subTask:"closed",source:"reopenBoardInlineDialog",traceId:i},(e=>{var t;e||p.sendTrackEvent({action:"reopened",actionSubject:"board",source:"reopenBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id}},attributes:{taskId:i}})}))),"function"==typeof this.onReopen&&this.onReopen(),o.hide()}}h.initClass(),e.exports=h},"./app/scripts/views/card-composer/card-composer-inline-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/lib/alerts.js"),{Analytics:a}=i("./packages/atlassian-analytics/index.ts"),s=i("./packages/browser/index.ts"),o=i("./app/scripts/views/card-composer/composer-label-selector-view.js"),l=i("./app/scripts/views/card-composer/composer-member-selector-view.js"),c=i("./app/scripts/views/card-composer/composer-pos-selector-view.js"),d=i("./app/scripts/views/card-composer/composer-selector-menu-view.js"),{maybeDisplayLimitsErrorOnCardAdd:u}=i("./app/scripts/views/card/card-limits-error.js"),p=i("./app/scripts/views/lib/confirm.js"),m=i("./app/scripts/controller/index.js"),{featureFlagClient:h,seesVersionedVariation:g}=i("./packages/feature-flag-client/index.ts"),b=i("./app/scripts/lib/util/text/html-encode.js"),{Key:f,getKey:v,isArrow:k}=i("./packages/keybindings/index.ts"),y=i("./app/scripts/lib/make-error-enum.js"),w=i("./app/scripts/views/lib/pop-over.js"),j=i("./node_modules/bluebird/js/browser/bluebird.js"),x=i("./node_modules/promise-queue/lib/index.js"),C=i("./app/scripts/lib/util/index.js"),_=i("./app/scripts/views/internal/view.js"),O=i("./node_modules/underscore/underscore.js"),E=i("./app/scripts/views/internal/templates.js"),{track:S}=i("./packages/analytics/index.ts"),T=i("./app/scripts/lib/localize.js"),N=i("./app/scripts/views/templates/member.js"),{trackSeparator:P}=i("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts"),{objectResolverClient:I}=i("./app/scripts/network/object-resolver-client/index.ts"),B=y("CardComposer",["TooManyCards"]);class D extends _{static initClass(){this.prototype.className="card-composer",this.prototype.events={"click .js-add-card":"submitCard","click .js-cancel":"clearAndHide","click .js-cc-menu":"openMenu",keyup:"keyupEvent",paste:"pasteEvent",keydown:"keydownEvent"}}initialize(){return this.sendGASEvent=h.get("dataeng.gasv3-event-tracking",!1),this.sendGASCoreEvent=h.get("dataeng.gasv3-core-event-tracking",!1),this.makeDebouncedMethods("render"),this.listenTo(this.model,"change:idLabels change:idMembers",this.renderSelectedItems),this.listenTo(this.model,"change:vis",this.autosaveCard),this.listenTo(this.model.labelList,"add remove reset change",this.frameDebounce(this.renderSelectedItems)),this._cardCreationApiQueue=new x(5),this.handleClickOutside=this.handleClickOutside.bind(this),n(document).on("click",this.handleClickOutside)}remove(){return n(document).off("click",this.handleClickOutside),super.remove(...arguments)}handleClickOutside(e){if(!this.model.get("vis"))return;const t=n(e.target);return 0===t.closest(".card-composer").length&&0===t.closest(".pop-over").length?this.model.save("vis",!1):void 0}render(e,t){this.sendGASEvent&&a.sendScreenEvent({name:"inlineCardComposerInlineDialog",containers:{board:{id:A(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},list:{id:A(A(null!=this.model?this.model.attributes:void 0,(e=>e.list)),(e=>e.id))},organization:{id:A(A(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}});const n=O.extend({placeholder:this.getPlaceholder()},this.model.toJSON({board:!0}));return this.renderVisibility(),this.$el.html(E.fill(i("./app/scripts/views/templates/card_composer_inline.js"),n)),this.renderSelectedItems(),this.defer((()=>(C.setCaretAtEnd(this.$(".js-card-title")[0]),"function"==typeof t?t():void 0))),this.$(".js-card-title").autosize(),this}autosaveCard(){const e=n.trim(this.$(".js-card-title").val());return""!==e&&e!==this.getPlaceholder()&&e.length<=16384?this.submitCard(null,!0):this.frameDebounce(this.renderVisibility())}renderVisibility(){return this.$el.toggleClass("hide",!this.model.get("vis")),this}clearTextField(){return this.model.save("title",""),this.$(".js-card-title").val("").trigger("autosize.resize")}submitCard(e,t){null==t&&(t=!1),e&&C.stop(e),w.hide();const i=n.trim(this.$(".js-card-title").val());if(""===i)return void this.$el.find(".js-card-title").focus().select();if(i.length>16384)return this.$el.find(".js-card-title").focus().select(),void r.flash("card title too long","error");const a=e?n(e.target):this.$el,s={$elem:a,destinationBoard:this.model.getBoard(),destinationList:this.model.getList()};if(u(s))return;const o=O.compact(i.split(/\r\n|\r|\n/)),l=o.length,c=l.toString();j.try((()=>{if(l>100)throw new B.TooManyCards;return l>1&&new j((function(e){return p.toggle("create many cards",{elem:a,html:T("confirm.create many cards.text",{count:c}),confirmText:T("confirm.create many cards.confirm",{count:c}),fxConfirm:t=>e(!0),fxCancel:t=>e(!1)})}))})).then((n=>{this.clearTextField();const a=!0===(null!=e?e.shiftKey:void 0);return n?this.createMultipleCards(o,a):this.createCard(i,{openCard:a,selectCard:!t,removeNewLines:!0}).catch((()=>r.flash("could not connect","error"))),this.clearItems()})).then((()=>{if(t)return this.hide(),this.renderVisibility()})).catch(B.TooManyCards,(()=>p.toggle("too many cards",{elem:a,html:T("confirm.too many cards.text",{count:c}),fxConfirm:e=>w.hide()}))).done()}queueCreateCard(e,t){return null==t&&(t={}),t.requestData=this._createCardRequestData(e,t.removeNewLines),this._cardCreationApiQueue.add((()=>this.createCard(e,t)))}_createCardRequestData(e,t){e=e.trim(),this.$el.trigger("prevent-scroll-selection"),t&&(e=e.replace(/(\r\n|\n|\r)/gm," "));const i=O.clone(this.model.get("idMembers")),n=O.pluck(this.model.labelList.models,"id");return{newCardData:{name:e,closed:!1,idLabels:n,idMembers:i,dateLastActivity:Date.now()},addsLabels:n.length>0,membersToAdd:i}}createCard(e,t){null==t&&(t={});const{openCard:i,selectCard:n,removeNewLines:r,requestData:s}=t;return new j(((t,o)=>{const{newCardData:l,addsLabels:c,membersToAdd:d}=null!=s?s:this._createCardRequestData(e,r);if(""===e)return t();{const r=a.startTask({taskName:"create-card",subTask:"list",source:"inlineCardComposerInlineDialog"});l.pos=this.model.getList().calcPos(this.model.get("index")),this.model.moveToNext();const s=this.model.getList().cardList.createWithTracing(l,{traceId:r,error:(e,t)=>(this.model.getList().cardList.remove(s),a.taskFailed({taskName:"create-card",subTask:"list",traceId:r,source:"inlineCardComposerInlineDialog",error:t}),o(t)),success:async i=>{if(c&&d.length>0?S("Card Composer","Card Added","With Members and Labels"):d.length>0?S("Card Composer","Card Added","With Members"):S("Card Composer","Card Added",c?"With Labels":"No items included"),this.sendGASCoreEvent){let e=void 0;const t=i.getCardRole();if("link"===t){const t=await I.resolveUrl(i.get("name"),{publicLinksEnabled:g("wildcard.public-links","beta")});t&&t.meta&&(e=t.meta.key||t.meta.definitionId)}a.sendTrackEvent({action:"created",actionSubject:"card",source:"inlineCardComposerInlineDialog",attributes:{numMembersAdded:d.length,labelsAdded:c,taskId:r,cardRole:t,linkCardProvider:e},containers:{card:{id:null!=i?i.id:void 0},list:{id:A(null!=i?i.getList():void 0,(e=>e.id))},board:{id:A(null!=i?i.getBoard():void 0,(e=>e.id))},organization:{id:A(A(null!=i?i.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}})}P(e,{category:"card composer",method:"by creating a card"}),a.taskSucceeded({taskName:"create-card",subTask:"list",traceId:r,source:"inlineCardComposerInlineDialog"}),t()},modelCache:this.modelCache}),u=this.model.getBoard();if(u.filter.addNewCard(s),n&&u.viewState.selectCard(s),i)return m.showCardDetail(s,{runMethod:s.shouldSuggestDescription()?"expandDesc":void 0,method:"via the Shift shortcut from card composer"})}}))}createMultipleCards(e,t){const i=e.length;for(let i=0;i<e.length;i++){const n=e[i];e.length-1===i?this.queueCreateCard(n,{openCard:t,selectCard:!0}):this.queueCreateCard(n)}S("Card Composer","Added Mulitple Cards",i),this.sendGASCoreEvent&&a.sendTrackEvent({action:"created",actionSubject:"multipleCards",source:"createMultipleCardsInlineDialog",attributes:{numCardsLength:i},containers:{board:{id:A(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},list:{id:A(A(null!=this.model?this.model.attributes:void 0,(e=>e.list)),(e=>e.id))},organization:{id:A(A(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}})}pasteEvent(){this.$(".js-card-title").focus().keyup().trigger("autosize.resize")}keydownEvent(e){const t=v(e),i=this.$(".js-card-title"),r=n(e.target).closest(".js-card-title").hasClass("js-card-title"),a=n(e.target).closest(".js-add-card").hasClass("js-add-card");if((r||a)&&!w.isVisible&&t===f.Enter)return C.stop(e),void this.submitCard(e);if(t===f.Escape)return this.saveDraftAndHide();if([f.Tab,f.Enter].includes(t)){i.focus();const r=C.getWordFromCaret(i[0]),a=n(null!=w.view?w.view.el:void 0);let s=!1;return w.view instanceof l?(a.find(".js-members-list .item.selected:first .js-select-member").first().click(),s=!0):w.view instanceof o?(a.find(".js-select-label.selected").first().click(),s=!0):w.view instanceof c?a.find(".js-pos-results").length>0&&(a.find(".js-pos-results li.selected:first a").first().click(),s=!0):t===f.Tab&&""===i.val()&&(C.stop(e),this.hide(),e.shiftKey?n(this.el).closest(".js-list").find(".editable:first .current").click():n(this.el).closest(".js-list").next().find(".editable:first .current").click()),s&&(C.stop(e),C.insertSelection(i,"",r.start,r.end),this.model.set("title",i.val())),this.renderSelectedItems(),void w.hide()}}keyupEvent(e){const t=this.$(".js-card-title"),i=v(e);if(![f.Tab,f.Enter].includes(i)){if(i===f.Escape)return C.stop(e),w.hide(),void t.focus();if(k(i)){C.stop(e);const t=n(null!=w.view?w.view.el:void 0);w.view instanceof l?C.navMenuList(t.find(".js-members-list"),".item",i):w.view instanceof o?C.navMenuList(t,".js-select-label",i):w.view instanceof c&&t.find(".js-pos-results").length>0&&C.navMenuList(t.find(".js-pos-results"),"li",i)}else if(!s.isTouch()&&n(e.target).closest(".js-card-title").hasClass("js-card-title")){const e=C.getWordFromCaret(t[0]),r=new RegExp("^@\\S").test(e.str.substring(0,2)),a=new RegExp("^\\#\\S").test(e.str.substring(0,2)),s=new RegExp("^\\^\\S").test(e.str.substring(0,2)),d=e.str.substring(1).toLowerCase();if(!(r||a||s))return this.model.set("title",this.$(".js-card-title").val()),w.hide();if([f.Shift,f.Alt,f.Control].includes(i))return;{let e,i;if(r){i=new l({model:this.model,modelCache:this.modelCache});const r=O.pluck(this.model.getBoard().memberList.filterDeactivated({force:!0}).models,"id"),a=C.filterMembers(this.modelCache,d,r);return a.length>0?(i.populate(a,!0),w.show({elem:this.$(".js-cc-menu"),view:i}),t.focus(),e=n(i.el).find(".js-members-list .item:first"),C.selectMenuItem(n(i.el).find(".js-members-list"),".item",e)):w.hide()}if(a){i=new o({model:this.model,modelCache:this.modelCache});const r=this.model.getBoard().filterLabels(d);return r.length>0?(i.populate(r),w.show({elem:this.$(".js-cc-menu"),view:i}),t.focus(),e=n(i.el).find(".edit-labels-pop-over .js-select-label:first"),C.selectMenuItem(n(i.el).find(".edit-labels-pop-over"),"li",e)):w.hide()}if(s){i=new c({model:this.model,modelCache:this.modelCache});const r=i.filterPos(d);return r.hasData?(i.populateResults(r),w.show({elem:this.$(".js-cc-menu"),view:i}),t.focus(),e=n(i.el).find(".js-pos-results li:first"),C.selectMenuItem(n(i.el).find(".js-pos-results"),"li",e)):w.hide()}}}}}renderSelectedItems(){const e=this.model.get("idMembers"),t=!O.isEmpty(e),i=this.$(".js-list-card-composer-members").empty();for(const t of Array.from(this.modelCache.get("Member",e)))i.append("<div class='member js-remove-member' idMember='".concat(t,"'>").concat(N(t.toJSON()),"</div>"));const n=this.model.get("labels"),r=!O.isEmpty(n),a=this.$(".js-list-card-composer-labels").empty();for(const e of Array.from(this.model.labelList.models))O.isEmpty(e.get("color"))||a.append("<div class='card-label card-label-".concat(e.get("color")," mod-card-front' title='").concat(b(e.get("name")),"' >").concat(b(e.get("name")),"</div>"));this.$(".js-clear-all-items").toggle(r||t)}openMenu(e){return C.stop(e),S("Card Composer","Open Selector Menu"),this.sendGASEvent&&a.sendClickedButtonEvent({buttonName:"cardComposerMenuButton",source:"inlineCardComposerInlineDialog",containers:{board:{id:A(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},list:{id:A(A(null!=this.model?this.model.attributes:void 0,(e=>e.list)),(e=>e.id))},organization:{id:A(A(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),w.toggle({elem:e.target,view:new d({model:this.model,modelCache:this.modelCache})})}clearItems(e){return this.model.clearItems()}hide(e){this.model.save("vis",!1)}saveDraftAndHide(){return this.model.save("title",this.$(".js-card-title").val()),this.$(".js-card-title").val(""),this.hide()}clearAndHide(e){return this.$(".js-card-title").val(""),this.clearItems(),this.hide()}scrollIntoView(){const{top:e}=this.$el.offset();return this.$el.closest(".list-cards").scrollTop(e+this.$el.height())}getPlaceholder(){return T(["templates","card_composer_inline","enter-a-title-for-this-card-ellipsis"])}}function A(e,t){return null!=e?t(e):void 0}D.initClass(),e.exports=D},"./app/scripts/views/card-composer/composer-label-selector-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/lib/util/index.js"),a=i("./app/scripts/views/internal/view.js"),s=i("./node_modules/underscore/underscore.js"),o=i("./app/scripts/views/internal/templates.js"),{track:l}=i("./packages/analytics/index.ts"),{Analytics:c}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:d}=i("./packages/feature-flag-client/index.ts");class u extends a{static initClass(){this.prototype.viewTitleKey="select labels",this.prototype.tagName="ul",this.prototype.className="edit-labels-pop-over",this.prototype.events={"mouseenter .item":"hoverLabelSelect","click .card-label":"addOrRemoveLabel"}}initialize(){return this.sendGASEvent=d.get("dataeng.gasv3-event-tracking",!1)}populate(e){this.populatedLabelList=e}render(){let e=[];const t=this.model.getLabels(),n=null!=this.populatedLabelList?this.populatedLabelList:this.model.getBoard().getLabels();e=(()=>{const e=[];for(const i of Array.from(n)){const n=s.include(t,i);e.push({id:i.id,color:i.get("color"),name:i.get("name"),isActive:n})}return e})();const a={labels:e};return this.$el.html(o.fill(i("./app/scripts/views/templates/select_labels.js"),a)),r.selectMenuItem(this.$(".edit-labels-pop-over"),".js-select-label",this.$(".js-select-label").first()),this}hoverLabelSelect(e){return r.selectMenuItem(this.$(".edit-labels-pop-over"),".js-select-label",n(e.target).closest(".js-select-label"))}addOrRemoveLabel(e){r.stop(e);const t=n(e.target).closest(".js-select-label");t.toggleClass("active");const i=t.attr("data-idlabel");this.model.toggleLabel(this.modelCache.get("Label",i))?(l("Card Composer","Add Label"),this.sendGASEvent&&c.sendTrackEvent({action:"added",actionSubject:"label",source:"cardComposerLabelSelectorInlineDialog"})):(l("Card Composer","Remove Label"),this.sendGASEvent&&c.sendTrackEvent({action:"removed",actionSubject:"label",source:"cardComposerLabelSelectorInlineDialog"}))}}u.initClass(),e.exports=u},"./app/scripts/views/card-composer/composer-member-selector-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{getKey:r,Key:a}=i("./packages/keybindings/index.ts"),s=i("./app/scripts/views/member/select-member-on-card-view.js"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./node_modules/underscore/underscore.js"),d=i("./app/scripts/views/internal/templates.js"),{track:u}=i("./packages/analytics/index.ts"),p=i("./app/scripts/lib/localize.js"),{Analytics:m}=i("./packages/atlassian-analytics/index.ts");class h extends l{static initClass(){this.prototype.viewTitleKey="select members",this.prototype.events={"mouseenter .item":"hoverMemberSelect","click .item":"addOrRemoveMember",keyup:"keyupEvent"}}populate(e,t){return this.data={idMems:null!=e?e:c.pluck(this.model.getBoard().memberList.filterDeactivated({force:!0}).models,"id")},this.data.showSearch=!(this.data.idMems.length<=5||t)}render(){return this.$el.html(d.fill(i("./app/scripts/views/templates/popover_member_searcher.js"),this.data)),this.fillMems(this.data.idMems),this.$(".js-filter-emoji").length>0&&this.setTimeout((()=>this.$(".js-filter-emoji").focus().select()),20),this.$(".js-filter-members").length>0&&this.setTimeout((()=>this.$(".js-filter-members").focus().select()),20),this}fillMems(e){const t=this.$(".js-members-list");t.empty();for(const i of Array.from(e.slice(0,5))){const e=this.modelCache.get("Member",i);this.appendSubview(this.subview(s,e,{card:this.model}),t)}}filterAndFillMembers(e){const t=c.pluck(this.model.getBoard().memberList.models,"id"),i=o.filterMembers(this.modelCache,e,t);if(i.length>0){this.fillMems(i);const e=this.$(".js-members-list .item:first");o.selectMenuItem(this.$(".js-members-list"),".item",e)}else this.$(".js-members-list").html('<li><p class="empty"></p></li>').find("p").text(p("no matched members"))}hoverMemberSelect(e){const t=n(e.target).closest(".item");return o.selectMenuItem(this.$(".js-members-list"),".item",t)}keyupEvent(e){const t=r(e),i=n(".js-filter-members").val().trim().toLowerCase();return[a.Tab,a.Enter].includes(t)?(o.stop(e),void this.$(".js-members-list .item.selected:first .js-select-member").first().click()):[a.ArrowUp,a.ArrowDown].includes(t)?(o.stop(e),void o.navMenuList(this.$(".js-members-list"),".item",t)):void this.filterAndFillMembers(i)}addOrRemoveMember(e){o.stop(e);const t=n(e.target).closest(".item");t.toggleClass("active");const i=t.find("[idMember]").attr("idMember");this.model.toggle("idMembers",i)?(u("Card Composer","Add Member"),m.sendTrackEvent({action:"added",actionSubject:"member",source:"cardComposerMemberSelectorInlineDialog",attributes:{addedTo:"card"}})):(u("Card Composer","Remove Member"),m.sendTrackEvent({action:"removed",actionSubject:"member",source:"cardComposerMemberSelectorInlineDialog",attributes:{removedFrom:"card"}}))}}h.initClass(),e.exports=h},"./app/scripts/views/card-composer/composer-pos-selector-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/lib/pop-over.js"),a=i("./app/scripts/lib/util/index.js"),s=i("./app/scripts/views/internal/view.js"),o=i("./node_modules/underscore/underscore.js"),l=i("./app/scripts/views/internal/templates.js"),{track:c}=i("./packages/analytics/index.ts"),d=i("./app/scripts/lib/localize.js"),{Analytics:u}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:p}=i("./packages/feature-flag-client/index.ts");class m extends s{static initClass(){this.prototype.viewTitleKey="select position",this.prototype.events={"change .js-select-list":"changeList","change .js-select-position":"changePosition","mouseenter .js-pos-results li":"hoverPosResultsSelect","click .js-select-pos-keyword":"selectPosResult","click .js-select-pos-pos":"selectPosResult","click .js-select-pos-list":"selectPosResult"}}initialize(){if(this.sendGASEvent=p.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return u.sendScreenEvent({name:"cardComposerPositionSelectorInlineDialog",containers:{list:{id:h(null!=this.model?this.model.getList():void 0,(e=>e.id))},board:{id:h(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:h(h(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}})}populateResults(e){return this.data={filtered:!0,keywordList:e.keywordList.map((e=>({value:e,indexString:e,listName:this.model.get("list").get("name")}))),indexList:e.indexList.map((e=>({value:e,indexString:String(e),listName:this.model.get("list").get("name")}))),listList:e.listList.map((e=>({value:e.get("id"),indexString:String(this.model.get("index")+1),listName:e.get("name")})))}}render(){if(this.data)this.$el.html(l.fill(i("./app/scripts/views/templates/popover_filter_pos_results.js"),this.data));else{const e={hideBoard:!0};this.$el.html(l.fill(i("./app/scripts/views/templates/move_card_controls.js"),e)),this.updateListList()}return this}hoverPosResultsSelect(e){const t=n(e.target).closest("li");return a.selectMenuItem(this.$(".js-pos-results"),"li",t)}selectPosResult(e){a.stop(e);const t=n(e.target).closest("a"),i=t.attr("name"),s=this.model.getList().openCards().length,o=s+1;if(t.hasClass("js-select-pos-keyword"))"top"===i?(this.model.set("index",0),c("Card Composer","Select Position in List by Autocomplete",'Top of List - Used "Top"')):"bottom"===i&&(this.model.set("index",o),c("Card Composer","Select Position in List by Autocomplete",'Bottom of List - Used "Bottom"'));else if(t.hasClass("js-select-pos-pos"))this.model.set("index",parseInt(i,10)-1),c("Card Composer","Select Position in List by Autocomplete","Selected Position - Used Number");else if(t.hasClass("js-select-pos-list")){const e=s===this.model.get("pos");this.model.set("list",this.model.getBoard().getList(i)),e?(this.model.set("index",s),c("Card Composer","Select List by Autocomplete","Bottom")):c("Card Composer","Select List by Autocomplete","Not Bottom"),this.sendGASEvent&&u.sendUIEvent({action:"selected",actionSubject:"list",actionSubjectId:"cardComposerList",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtTopofList:"top"===i,isAtBottomOfList:"top"===i},containers:{list:{id:h(null!=this.model?this.model.getList():void 0,(e=>e.id))},board:{id:h(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:h(h(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}})}(t.hasClass("js-select-pos-keyword")||t.hasClass("js-select-pos-pos"))&&this.sendGASEvent&&u.sendUIEvent({action:"selected",actionSubject:"position",actionSubjectId:"cardComposerPosition",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtTopofList:"top"===i,isAtBottomOfList:"top"===i},containers:{list:{id:h(null!=this.model?this.model.getList():void 0,(e=>e.id))},board:{id:h(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:h(h(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),r.hide()}filterPos(e){const t=new RegExp("^".concat(a.escapeForRegex(e))),i=new RegExp("^".concat(a.escapeForRegex(e),"$")),n=this.model.getList().openCards(),r={keywordList:(()=>{const e=[];for(const i of["top","bottom"])t.test(i)&&e.push(i);return e})(),indexList:(()=>{const e=[];for(let t=1,r=n.length+1,a=1<=r;a?t<=r:t>=r;a?t++:t--)i.test(String(t))&&e.push(t);return e})(),listList:[]};for(const e of Array.from(this.model.getBoard().listList.models)){const i=o.compact(e.get("name").toLowerCase().split(/\s+/));o.find(i,(e=>t.test(e)))&&r.listList.push(e)}return r.hasData=!o.isEmpty(r.keywordList)||!o.isEmpty(r.indexList)||!o.isEmpty(r.listList),r}updateListList(){let e=this.model.getList();const t=e.id,i=this.model.getBoard(),r=this.$(".js-select-list");for(e of(r.empty(),Array.from(o.sortBy(i.listList.models,(e=>e.get("pos")))))){const i=e.get("name"),a=e.id===t?d("selected list",{listName:i}):i,s=n("<option>").val(e.id).text(a);r.append(s),e.id===t&&(s.attr("selected","selected"),this.$(".js-list-value").text(i))}return this.updatePositionList()}updatePositionList(){let e;const t=this.$(".js-select-position");t.empty();const i=this.model.getList(),{cardList:r}=i;if(this.model.get("index")>r.length&&this.model.set("index",r.length),0===r.length)return e=n("<option>").val("0").text("1").appendTo(t),void this.$(".js-pos-value").text("1");for(let i=0,a=r.length,s=0<=a;s?i<=a:i>=a;s?i++:i--){const r=String(i+1);e=n("<option>").val(i).text(r).appendTo(t),i===this.model.get("index")&&e.attr("selected","selected")}this.$(".js-pos-value").text(this.model.get("index").toString())}changeList(){const e=this.model.get("index"),t=this.model.getList().openCards().length===e,i=h(null!=this.model?this.model.getList():void 0,(e=>e.id)),n=this.$(".js-select-list").find("option:selected").val(),a=this.model.getBoard().getList(n);this.model.set("list",a);const s=a.openCards().length;t?(this.model.set("index",s),c("Card Composer","Change Position by Click","Change List - Bottom")):(this.model.set("index",Math.min(s,e)),c("Card Composer","Change Position by Click","Change List - Not Bottom")),this.sendGASEvent&&u.sendUIEvent({action:"moved",actionSubject:"cardComposer",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtBottomOfList:t,listSourceId:i},containers:{list:{id:h(null!=this.model?this.model.getList():void 0,(e=>e.id))},board:{id:h(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:h(h(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),r.hide()}changePosition(){const e=this.$(".js-select-position"),t=parseInt(e.find("option:selected").val(),10);this.model.set("index",t),c("Card Composer","Change Position by Click","Change Position in List"),this.sendGASEvent&&u.sendUIEvent({action:"moved",actionSubject:"cardComposer",source:"cardComposerPositionSelectorInlineDialog",attributes:{posSelected:t},containers:{list:{id:h(null!=this.model?this.model.getList():void 0,(e=>e.id))},board:{id:h(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:h(h(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),r.hide()}}function h(e,t){return null!=e?t(e):void 0}m.initClass(),e.exports=m},"./app/scripts/views/card-composer/composer-selector-menu-view.js":function(e,t,i){const{Analytics:n}=i("./packages/atlassian-analytics/index.ts"),r=i("./app/scripts/views/label/card-label-select-view.js"),a=i("./app/scripts/views/card/card-member-select-view.js"),s=i("./app/scripts/views/card-composer/composer-pos-selector-view.js"),o=i("./app/scripts/views/lib/pop-over.js"),l=i("./app/scripts/lib/util/index.js"),c=i("./app/scripts/views/internal/view.js"),d=i("./app/scripts/views/templates/popover_selector_menu.js");class u extends c{static initClass(){this.prototype.viewTitleKey="options",this.prototype.events={"click .js-mem-selector":"openMemSelector","click .js-label-selector":"openLabelSelector","click .js-pos-selector":"openPosSelector"}}initialize(){if(this.sendGASEvent)return n.sendScreenEvent({name:"cardComposerMenuInlineDialog",containers:{board:{id:p(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},list:{id:p(p(null!=this.model?this.model.attributes:void 0,(e=>e.list)),(e=>e.id))},organization:{id:p(p(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}})}render(){return this.$el.html(d({isTemplate:this.model.board.isTemplate()})),this}openMemSelector(e){return l.stop(e),o.pushView({view:a,options:{model:this.model,modelCache:this.modelCache}})}openLabelSelector(e){return l.stop(e),o.pushView({view:r,options:{model:this.model,modelCache:this.modelCache,hideOnSelect:!1}})}openPosSelector(e){return l.stop(e),o.pushView({view:s,options:{model:this.model,modelCache:this.modelCache}})}}function p(e,t){return null!=e?t(e):void 0}u.initClass(),e.exports=u},"./app/scripts/views/card/SeparatorCard/SeparatorCard.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/scripts/views/card/SeparatorCard/SeparatorCard.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"SeparatorType",(function(){return d})),i.d(t,"SeparatorNumCharacters",(function(){return u})),i.d(t,"getSeparator",(function(){return m})),i.d(t,"trackSeparator",(function(){return h})),i.d(t,"getSeparatorClassName",(function(){return g}));var n=i("./node_modules/classnames/index.js"),r=i.n(n),a=i("./app/scripts/views/card/SeparatorCard/SeparatorCard.less"),s=i.n(a),o=i("./packages/atlassian-analytics/index.ts");const l=new Set(["-","_","=","*","#","/","\\","<",">","."]);function c(e){return l.has(e)}let d,u;function p(e,t){const i=e.startsWith(t),n=e.endsWith(t),r=e.startsWith(t.repeat(3)),a=e.endsWith(t.repeat(3)),s=/^(.)\1*$/.test(e);switch(!0){case i&&s:return{character:t,type:d.SeparatorOnly,numCharacters:r?u.ThreeOrMore:u.TwoOrFewer};case i&&n:return{character:t,type:d.SeparatorTitle,numCharacters:r&&a?u.ThreeOrMore:u.TwoOrFewer};case i:return{character:t,type:d.SeparatorStartTitle,numCharacters:r?u.ThreeOrMore:u.TwoOrFewer};case n:return{character:t,type:d.SeparatorEndTitle,numCharacters:a?u.ThreeOrMore:u.TwoOrFewer};default:return null}}function m(e){if(!e)return null;const t=/^[-]+$/.test(e)?e.replace(//g,"--"):e,i=t.charAt(0),n=t.charAt(t.length-1);let r=null,a=null;return c(i)&&(r=p(t,i)),c(n)&&(a=p(t,n)),r||a}function h(e){const t=m(e);if(!t||!c(t.character))return;const{type:i,character:n,numCharacters:r}=t;o.Analytics.sendTrackEvent({action:"updated",actionSubject:"name",source:"inlineCardComposerInlineDialog",attributes:{updatedOn:"card",isSeparator:!0,numCharacters:r,character:n,type:i}})}function g(e){const t=m(e);if(!t)return null;const{type:i,character:n,numCharacters:a}=t;return i!==d.SeparatorOnly||a!==u.ThreeOrMore||"-"!==n&&"_"!==n?null:r()(s.a.separatorCard,s.a.singleHorizontalLine)}!function(e){e.SeparatorOnly="separator only",e.SeparatorTitle="separator with title",e.SeparatorStartTitle="starting separator with title",e.SeparatorEndTitle="ending separator with title"}(d||(d={})),function(e){e.ThreeOrMore="three or more",e.TwoOrFewer="two or fewer"}(u||(u={}))},"./app/scripts/views/card/attach-links-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/lib/alerts.js"),a=i("./app/scripts/views/attachment/attachment-limit-exceeded-error.js"),s=i("./app/scripts/views/templates/popover_limit_exceeded.js"),o=i("./node_modules/url-parse/index.js"),l=i("./node_modules/bluebird/js/browser/bluebird.js"),c=i("./app/scripts/views/internal/view.js"),d=i("./app/scripts/views/templates/card_attach_links.js"),u=i("./node_modules/xtend/immutable.js"),{track:p}=i("./packages/analytics/index.ts");class m extends c{static initClass(){this.prototype.viewTitleKey="attach links",this.prototype.events={"click .js-attach:not([disabled])":"attach"}}initialize({links:e}){return this.links=e,this.listenTo(this.model.attachmentList,"add remove reset",this.render)}render(){if(!this.model.canAttach())return this.model.isOverLimit("attachments","perCard")?this.$el.html(s("perCard")):this.model.getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(s("perBoard")),this;const e=Array.from(this.links).map((e=>u(e,{domain:o(e.url).host,attached:this.model.attachmentList.any((t=>t.get("url")===e.url))})));return this.$el.html(d(e)),this}attach(e){const t=n(e.currentTarget),i=t.attr("data-url"),s=t.attr("data-text");return t.attr("disabled","disabled"),l.fromNode((e=>this.model.uploadUrl({url:i,name:s},e))).then((()=>p("Attachment","Upload link"))).catch(a,(()=>r.show("unable to attach link","error","linkattachment",5e3)))}}m.initClass(),e.exports=m},"./app/scripts/views/card/attachment-type-picker-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/lib/alerts.js"),a=i("./app/scripts/db/auth.js"),s=i("./app/scripts/models/board.js"),{boxClientId:o,dropboxClientAppKey:l,oneDriveClientId:c,siteDomain:d}=i("./packages/config/index.ts"),u=i("./app/scripts/network/api-error.js"),p=i("./app/scripts/models/card.js"),m=i("./app/scripts/lib/google-api.js"),h=i("./app/scripts/views/attachment/attachment-limit-exceeded-error.js"),g=i("./app/scripts/views/attachment/attachment-type-restricted-error.js"),b=i("./app/scripts/views/templates/popover_limit_exceeded.js"),{isSubmitEvent:f}=i("./packages/keybindings/index.ts"),v=i("./app/scripts/views/lib/pop-over.js"),k=i("./node_modules/bluebird/js/browser/bluebird.js"),y=i("./app/scripts/views/internal/autocomplete/trello-completer-view.js"),w=i("./app/scripts/views/card/uploading-link-view.js"),j=i("./app/scripts/lib/util/index.js"),x=i("./app/scripts/views/internal/view.js"),C=i("./node_modules/underscore/underscore.js"),_=i("./app/scripts/views/internal/teacup-with-helpers.js")("attachment_type_picker"),{track:O}=i("./packages/analytics/index.ts"),{Analytics:E}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:S}=i("./packages/feature-flag-client/index.ts"),T=i("./app/scripts/lib/util/ninvoke.js"),N=i("./node_modules/effing/lib/index.js"),P=i("./node_modules/@atlassian/trello-error-ext/lib/create-custom.js"),I=i("./app/scripts/views/internal/pasted-file-name.js"),B=i("./app/scripts/lib/util/url/parse-trello-url.js"),{dontUpsell:D}=i("./packages/browser/index.ts"),A=i("./app/scripts/views/lib/tooltip.js"),L=P("AttachmentTypePickerView::FileTooLarge"),F=_.renderable((function({hasLargeAttachments:e,id:t,googleDriveReady:i,tipKey:n,tipData:r,defaultName:a,restrictedAttachmentTypes:s}){null==n&&(n="tip-you-can-drag-and-drop-files-and-links-onto-cards-to-upload-them"),null==r&&(r={}),_.div(".error.js-file-too-large",{style:"margin: 12px 0 6px; display:none;"},(function(){e?_.format("that-file-size-exceeds-the-250mb-limit"):D()?_.div(".gold-promo",(function(){_.format("that-file-size-exceeds-the-10mb-limit")})):_.div(".gold-promo",(function(){_.format("that-file-size-exceeds-the-10mb-limit-but-if-you-upgrade-to"),_.icon("trello-gold","trello-gold-you-can-upload-files-up-to-250mb")}))})),_.ul(".pop-over-list",(function(){Array.from(s).includes("computer")?_.li((()=>_.a(".disabled.js-attachment-restricted",{href:"#"},(()=>_.format("computer"))))):_.li(".uploader",(function(){return _.a(".fakefile",{href:"#"},(()=>_.format("computer"))),_.form(".realfile",{action:"/1/card/".concat(t,"/attachments"),method:"post",enctype:"multipart/form-data"},(function(){return _.input({type:"hidden",name:"token",value:""}),_.input({type:"hidden",name:"format",value:"http"}),_.input(".js-attach-file",{type:"file",name:"file",tabindex:"-1",multiple:""})}))})),_.li((function(){return _.a(".js-attach-card",{href:"#"},(()=>_.format("trello"))),_.li((()=>_.a(".js-google-drive-attachment",{href:"#",class:_.classify({disabled:!i||Array.from(s).includes("google-drive"),"js-attachment-restricted":Array.from(s).includes("google-drive")})},(()=>_.format("google-drive"))))),_.li((()=>_.a(".js-dropbox-attachment",{href:"#",class:_.classify({"disabled js-attachment-restricted":Array.from(s).includes("dropbox")})},(()=>_.format("dropbox"))))),_.li((()=>_.a(".js-box-attachment",{href:"#",class:_.classify({"disabled js-attachment-restricted":Array.from(s).includes("box")})},(()=>_.format("box"))))),_.li((()=>_.a(".js-one-drive-attachment",{href:"#",class:_.classify({"disabled js-attachment-restricted":Array.from(s).includes("onedrive")})},(()=>_.format("onedrive")))))}))})),_.hr(),Array.from(s).includes("link")?_.ul(".pop-over-list",(()=>_.li((()=>_.a(".disabled.js-attachment-restricted",(()=>_.format("attach-a-link"))))))):(_.label({for:"addLink"},(function(){_.format("attach-a-link")})),_.input(".attachment-add-link-input.js-attachment-url.js-autofocus",{type:"text",id:"addLink",placeholder:_.l("paste-any-link-here-ellipsis")}),_.div(".js-name-link.hide",(function(){return _.label({for:"nameLink"},(function(){_.format("link-name")})),_.input(".attachment-add-link-input.js-attachment-name",{type:"text",id:"nameLink",value:a})})),_.input(".js-add-attachment-url",{style:"margin: 0;",type:"submit",value:_.l("attach")})),_.hr(),_.p(".quiet.u-bottom",(function(){_.format(n,r)}))}));class M extends x{static initClass(){this.prototype.viewTitleKey="attach from",this.prototype.events={"click .js-google-drive-attachment:not(.disabled)":"openGoogleDriveFilePicker","click .js-dropbox-attachment:not(.disabled)":"openDropboxFilePicker","click .js-one-drive-attachment:not(.disabled)":"openOneDriveFilePicker","click .js-box-attachment:not(.disabled)":"openBoxFilePicker","click .js-attach-card":"attachCard","change .js-attach-file":"startUpload","click .js-add-attachment-url":"addUrl","keydown .js-attachment-url":"keydown","keydown .js-attachment-name":"keydown","input .js-attachment-url":"toggleAttachmentNameInput","mouseenter .js-attachment-restricted":"showRestrictedTooltip","mouseleave .js-attachment-restricted":"hideRestrictedTooltip",'click a[href^="/gold"]':()=>O("Attachment","Open Trello Gold Promo - via Attachment Upload Limit"),'click a[href^="/business-class"]':()=>O("Card Detail","Attachments BC Ad")},this.prototype._scripts={dropbox:"https://www.dropbox.com/static/api/1/dropbox.js",box:"https://app.box.com/js/static/select.js",oneDrive:"https://js.live.net/v7.0/OneDrive.js"}}initialize(){return this.listenTo(m,"loaded",this.render)}getCard(){return this.model instanceof p?this.model:this.model.getCard()}getData(){for(const e in this._scripts){const t=this._scripts[e];this._loadOnce(t,(function(){}))}}render(){var e,t,i,n,r;if(!this.getCard().canAttach())return this.getCard().isOverLimit("attachments","perCard")?this.$el.html(b("perCard")):this.getCard().getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(b("perBoard")),this;const s=null===(e=this.getCard())||void 0===e||null===(t=e.getBoard())||void 0===t?void 0:t.getOrganization(),o={id:this.getCard().id,hasLargeAttachments:(null===(i=a.me())||void 0===i?void 0:i.hasPremiumFeature("largeAttachments"))||(null==s?void 0:s.hasPremiumFeature("largeAttachments"))||!1,googleDriveReady:m.loaded,defaultName:this.options.defaultName,restrictedAttachmentTypes:(null===(n=this.getCard())||void 0===n||null===(r=n.getBoard())||void 0===r?void 0:r.getRestrictedAttachmentTypes())||[]};return null!=s&&s.isFeatureEnabled("plugins")||(o.tipKey="tip-you-can-attach-other-things-with-power-ups",o.tipData={url:"/power-ups?utm_source=trello&utm_medium=inapp&utm_content=attachments-menu&utm_campaign=power-ups"}),this.$el.html(F(o)),this}startUpload(e){var t,i;const s=n(e.target),o=this.$(".js-file-too-large").hide(),l=C.toArray(s[0].files),{options:c}=this;c.onStartUpload&&c.onStartUpload();const d=null===(t=this.getCard())||void 0===t||null===(i=t.getBoard())||void 0===i?void 0:i.getOrganization();return(l.length>0?C.any(l,(e=>!a.me().canUploadAttachment(e,d)))?k.reject(L()):k.resolve(l).each((e=>{let t=null;const i="cardAttachmentPickerInlineDialog",n={source:i,taskName:"create-attachment",subTask:"file"};S.get("dataeng.vitalstats-upload-attachment",!1)&&(t=E.startTask(n),n.traceId=t);const r=e.name||I();return T(this.getCard(),"upload",e,r,{traceId:t}).then((e=>(t&&(E.sendTrackEvent({source:i,action:"uploaded",actionSubject:"attachment",actionSubjectId:"fileAttachment",attributes:{taskId:t}}),E.taskSucceeded(n)),this.trigger("attach",{mimeType:e.mimeType,name:this.options.defaultName||r,url:e.url}))),(e=>(t&&(n.error=e,E.taskFailed(n)),k.reject(e))))})):T(j,"uploadFile",a.myToken(),s)).then((function(){if(O("Card Detail","Upload Attachment Complete - Via Picker"),r.show("finished uploading","info","AjaxQueueUpload",2e3),v.hide(),c.onFinishUpload)return c.onFinishUpload()})).catch(L,(function(){return o.show(),O("Card Detail","Attachment","Upload Error - File Too Large")})).catch(h,(()=>(this.render(),O("Card Detail","Attachment","Upload Error - Limit Exceeded")))).catch(g,(()=>(v.hide(),c.onFinishUpload&&c.onFinishUpload(),r.show("attachment upload restricted","error","attachment",5e3),O("Card Detail","Attachment","Upload Error - Upload Restricted by Enterprise")))).catch(u.NoResponse,(()=>{var e;v.hide(),null===(e=c.onFinishUpload)||void 0===e||e.call(c),r.show("unable to upload file","error","upload",5e3)})).done()}_loadOnce(e,t){return null==window._loadedScripts&&(window._loadedScripts={}),window._loadedScripts[e]?t():n.getScript(e,(()=>(window._loadedScripts[e]=!0,t())))}attachLinks(e,t,i){if(t)return this.$(".js-limit-exceeded").toggleClass("hide",!0),this.options.onStartUpload&&this.options.onStartUpload(this.model,e),v.pushView({view:w}),k.resolve(t).call("map",null!=i?i:e=>e).each((t=>{const i=C.pick(t,"url","mimeType","name");return this.trigger("attach",i),k.fromNode((e=>this.getCard().uploadUrl(i,e))).then((t=>O("Card Detail","Upload ".concat(e))))})).then((()=>v.hide())).catch(h,(()=>(v.popView(),this.render(),O("Card Detail","Attachment","Upload Error - Limit Exceeded")))).catch(g,(()=>(r.show("link type restricted","error","attachment",5e3),v.hide()))).finally((()=>this.options.onFinishUpload&&this.options.onFinishUpload(this.model,e))).done()}openGoogleDriveFilePicker(e){return j.stop(e),T(gapi,"load","picker").then((function(){const e=m.validToken();return T(m,"authorize",e)})).then((e=>{const t=new google.picker.DocsView;t.setIncludeFolders(!0);const i=new google.picker.DocsView;i.setIncludeFolders(!0),i.setSelectFolderEnabled(!0),i.setEnableTeamDrives(!0);return(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES).addView(t).addView(i).setOAuthToken(e).setCallback((e=>this.attachLinks("Google drive file",e.docs,N.id))).build().setVisible(!0),n("iframe.picker-frame[src*=authserviceid]").attr("src",(function(){return n(this).attr("src").replace(/authserviceid/g,"fixgoogle")}))})).catch((e=>{switch(e.message){case"popup_closed_by_user":case"access_denied":break;default:throw e}})).done()}openDropboxFilePicker(e){j.stop(e),this._loadOnce(this._scripts.dropbox,(()=>{Dropbox.init({appKey:l}),Dropbox.choose({linkType:"preview",iframe:!0,success:e=>this.attachLinks("Dropbox file",e,(e=>({url:e.link,name:e.name})))}),n('iframe[src^="https://www.dropbox.com/chooser"]').parent().css("overflow","auto")}))}openOneDriveFilePicker(e){j.stop(e),this._loadOnce(this._scripts.oneDrive,(()=>{k.try((()=>new k((function(e,t){const{OneDrive:i}=window;return i.open({clientId:c,action:"share",multiSelect:!0,openInNewWindow:!0,success:t=>e(t.value),cancel:()=>e([]),error:e=>t(e),advanced:{redirectUri:"".concat(d,"/onedrive_callback_7.html")}})})))).then((e=>this.attachLinks("OneDrive file",e,(e=>({url:e.webUrl,name:e.name}))))).done()}))}openBoxFilePicker(e){return j.stop(e),this._loadOnce(this._scripts.box,(()=>{const e=new BoxSelect({clientId:o,linkType:"shared",multiselect:!0}),t=i=>(e.unregister(e.SUCCESS_EVENT_TYPE,t),this.attachLinks("Box file",i,N.id));return e.success(t),e.launchPopup()}))}keydown(e){if(f(e))return this.addUrl()}addUrl(e){let t=this.$(".js-attachment-url").val().split(/\s+/),i=this.$(".js-attachment-name").val();/\S/.test(i)||(i=void 0),t=C.filter(t,(e=>/\S/.test(e))),!C.isEmpty(t)&&t.length<10&&this.attachLinks("link",t,(e=>({url:e,name:i})))}attachCard(e){const t=new y({model:this.model,card:this.model,modelCache:this.modelCache,button:!0,onStartUpload:e=>{let t;return e instanceof p?(t=e.get("url"),this.attachLinks("card",[{url:t}])):e instanceof s?(t=e.get("url"),this.attachLinks("board",[{url:t}])):void 0}});return v.pushView({view:t})}toggleAttachmentNameInput(e){const t=n(e.currentTarget).val(),{type:i}=B(t),r=["board","card"].includes(i),a=!/\S/.test(t);return this.$(".js-name-link").toggleClass("hide",r||a)}showRestrictedTooltip(e){const t=this.$(e.target);return A.show(_.l("attachment-type-restricted"),t,!1,A.STYLE.MENU)}hideRestrictedTooltip(){return A.hide()}}M.initClass(),e.exports=M},"./app/scripts/views/card/card-copy-view.js":function(e,t,i){const n=i("./app/scripts/views/lib/alerts.js"),r=i("./app/scripts/db/auth.js"),{getKey:a,Key:s}=i("./packages/keybindings/index.ts"),o=i("./app/scripts/db/model-loader.js"),l=i("./app/scripts/views/lib/pop-over.js"),{maybeDisplayLimitsErrorOnCardAdd:c}=i("./app/scripts/views/card/card-limits-error.js"),d=i("./app/scripts/lib/localize.js"),u=i("./app/scripts/views/label/label-limits-error-view.js"),p=i("./app/scripts/views/card/select-card-position.js"),m=i("./app/scripts/lib/util/index.js"),h=i("./app/scripts/views/internal/view.js"),g=i("./app/scripts/views/internal/templates.js"),{Analytics:b}=i("./packages/atlassian-analytics/index.ts"),f=i("./node_modules/effing/lib/index.js"),v=i("./node_modules/underscore/underscore.js");class k extends h{static initClass(){this.prototype.viewTitleKey="copy card",this.prototype.showCurrentPosition=!0,this.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData",'keydown textarea[name="name"]':"keydownEvent","click .js-submit":"submit","submit form":"submit"}}initialize(e){return this.onCopy=null!=e.onCopy?e.onCopy:function(){}}render(){const e=this.model.toJSON();e.numChecklists=this.model.checklistList.length,e.numMembers=e.idMembers.length,e.numLabels=null!=(null!=e.idLabels?e.idLabels.length:void 0)?null!=e.idLabels?e.idLabels.length:void 0:0,e.numAttachments=e.badges.attachments,e.numComments=e.badges.comments,e.numStickers=e.stickers.length,e.hasChecklists=e.numChecklists>0,e.hasMembers=e.idMembers.length>0,e.hasLabels=e.numLabels>0,e.hasAttachments=e.badges.attachments>0,e.hasStickers=e.stickers.length>0,e.hasComments=e.badges.comments>0&&!this.model.getBoard().isTemplate(),e.hasStuff=e.hasChecklists||e.hasMembers||e.hasLabels||e.hasAttachments||e.hasComments||e.hasStickers,e.loading=this.loading;let t=this.model.getBoard();const n=this.model.getBoard().getEnterprise();var a,s;t.isGuest(r.me())&&t.get("enterpriseOwned")?(e.isCopy=!0,e.hasEnterprise=!0,e.enterpriseName=null!=n?n.get("displayName"):void 0,e.restrictToCurrentBoard=!0,e.organizations=[{displayName:(a=t.getOrganization(),s=e=>e.get("displayName"),(null!=a?s(a):void 0)||d("member boards.boards")),boards:[v.extend(t.toJSON(),{selected:!0})]}]):null!=n?(e.isCopy=!0,e.hasEnterprise=null!=n,t=null==this.model.getBoard().getMembershipFor(r.me())?t:null,e.organizations=r.me().getOpenBoardsInEnterpriseByOrg(!0,n.get("id"),t),e.enterpriseName=n.get("displayName")):(t=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?t:null,e.organizations=r.me().getOpenBoardsByOrg(!0,t));for(const t of Array.from(e.organizations))for(const e of Array.from(t.boards))e.id===this.model.get("idBoard")&&(e.selected=!0);const o={move_card_controls:g.move_card_controls};return this.$el.html(g.fill(i("./app/scripts/views/templates/card_copy.js"),e,{editable:this.model.editable()},o)),this.updateBoardData(),this}getData(){return this.loading=!0,Promise.all([o.loadCardCopyData(this.model.get("idBoard"),this.model.id),o.loadBoardMinimal(this.model.get("idBoard"))]).finally((()=>(this.loading=!1,this.render())))}keydownEvent(e){if(a(e)===s.Enter)return m.stop(e),void this.submit(e)}submit(e){m.stop(e);const t=this.$('textarea[name="name"]');if(""===t.val().trim())return void t.focus().select();const i=this.$(".js-select-list").find("option:selected").val(),r=this.$(".js-select-board").find("option:selected").val(),a=this.modelCache.get("Board",r),s=null!=a?a.listList.get(i):void 0,o={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:a,destinationList:s};if(c(o))return;const d=this.$("input:checkbox:checked").get().map(f.get("name")),p=["start","due"].concat(d);if(r!==this.model.getBoard().id){if(this.model.getLabels().length>0&&v.contains(p,"labels")&&a.isOverLimit("labels","perBoard"))return void l.pushView(new u)}this.$(".js-submit").attr("disabled","disabled");const h=b.startTask({taskName:"create-card",subTask:"copy",source:"copyCardInlineDialog"});this.model.copyTo({name:t.val().trim(),idList:i,pos:this.$(".js-select-position").find("option:selected").val(),keepFromSource:p,traceId:h}).then((()=>{l.hide(),this.onCopy(),b.sendTrackEvent({action:"copied",actionSubject:"card",source:"copyCardInlineDialog",containers:{card:{id:this.model.id},board:{id:this.model.getBoard().id}},attributes:{isCardTemplate:!!this.model.get("isTemplate"),isBoardTemplate:this.model.getBoard().isTemplate(),taskId:h}}),b.taskSucceeded({taskName:"create-card",subTask:"copy",source:"copyCardInlineDialog",traceId:h})})).catch((e=>{l.hide(),n.flash("could not copy card","error","create error"),b.sendOperationalEvent({action:"failed",actionSubject:"cardCopy",source:"copyCardInlineDialog",containers:{card:{id:this.model.id},board:{id:this.model.getBoard().id}},attributes:{isCardTemplate:!!this.model.get("isTemplate"),isBoardTemplate:this.model.getBoard().isTemplate(),taskId:h}}),b.taskFailed({taskName:"create-card",subTask:"copy",traceId:h,source:"copyCardInlineDialog",error:e})}))}}k.initClass(),v.extend(k.prototype,p),e.exports=k},"./app/scripts/views/card/card-cover-chooser-popover.tsx":function(e,i,n){"use strict";n.r(i),n.d(i,"toggleCardCoverChooserPopover",(function(){return J}));var r=n("./node_modules/react/index.js"),a=n.n(r),s=n("./packages/i18n/index.ts"),o=n("./packages/keybindings/index.ts"),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./app/src/components/CardCoverChooser/SuggestedSearches.less"),u=n.n(d),p=n("./packages/locale/index.ts");const m=Object(s.forTemplate)("card_cover_chooser"),h={productivity:"Productivity",perspective:"Perspective",organization:"Organization",colorful:"Colorful",nature:"Nature",business:"Business",minimal:"Minimal",space:"Space",animals:"Animal"},g=({onSelect:e})=>a.a.createElement("div",null,a.a.createElement("h4",{className:u.a.heading},m("suggested-searches")),Object.entries(h).map((([t,i])=>a.a.createElement("button",{className:c()("button",u.a.suggestedSearchButton),key:t,onClick:t=>{t.stopPropagation(),e(i)}},((e,t)=>"en-US"===p.currentLocale||"en-GB"===p.currentLocale||"en-AU"===p.currentLocale||m(e)===t?m(e):m(e)+" ("+t+")")(t,i)))));var b=n("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),f=n("./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx"),v=n("./node_modules/underscore/underscore.js"),k=n("./packages/nachos/spinner.ts"),y=n("./app/src/components/InfiniteList/index.ts"),w=n("./app/src/components/CardCoverChooser/SearchResultImageButton.tsx"),j=n("./node_modules/react-transition-group/esm/Transition.js"),x=n("./app/src/components/CardCoverChooser/SearchResults.less"),C=n.n(x),_=n("./packages/unsplash/index.ts"),O=n("./packages/atlassian-analytics/index.ts");function E(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function S(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?E(Object(i),!0).forEach((function(t){T(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function T(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const N=Object(s.forTemplate)("card_cover_chooser"),P=({cardId:e,query:t,onSetCover:i})=>{const[n,s]=Object(r.useState)(t),[o,l]=Object(r.useState)(1),[d,u]=Object(r.useState)(!1),[p,m]=Object(r.useState)(!0),[h,g]=Object(r.useState)(!1),{data:x,error:E,loading:T,fetchMore:P}=Object(f.a)({skip:!n.trim().length,variables:{query:n,perPage:24,page:1},notifyOnNetworkStatusChange:!0}),{data:I}=Object(b.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),B=null==I?void 0:I.card,D={organization:{id:null==B?void 0:B.board.idOrganization},board:{id:null==B?void 0:B.board.id},card:{id:null==B?void 0:B.id}},A=Object(r.useCallback)(Object(v.debounce)((e=>{l(1),m(!0),s(e),u(!1)}),500),[s,u]);Object(r.useEffect)((()=>{u(!0),A(t)}),[t,A,u]);const L=x&&x.unsplashPhotos?x.unsplashPhotos:[],F=Object(r.useCallback)((()=>{p&&!T&&(l((e=>e+1)),P({variables:{page:o+1},updateQuery:(e,{fetchMoreResult:t})=>{if(m(!!t&&24===t.unsplashPhotos.length),!t)return e;const i=new Set(e.unsplashPhotos.map((e=>e.id)));return S(S({},e),{},{unsplashPhotos:[...e.unsplashPhotos,...t.unsplashPhotos.filter((e=>!i.has(e.id)))]})}}))}),[P,o,l,p,m,T,24]);if(E||h)return a.a.createElement("div",null,N("something-went-wrong"));if(!T&&n.trim().length&&!L.length)return a.a.createElement("div",{className:"quiet"},N("no-search-results"));const M=d||T,V=!!L.length&&!d&&(!T||o>1);return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",{className:C.a.heading},N("search-results")),V&&a.a.createElement(y.InfiniteList,{axis:"y",threshold:"30%",spinnerClassName:C.a.hideInfiniteListSpinner,itemCount:L.length,pageSize:24,awaitMore:!T&&p,loadMore:F,isLoading:T,itemsRenderer:(e,t)=>a.a.createElement("div",{className:c()(C.a.searchResultTiles,C.a.modFixedHeight),ref:e=>t(e)},e),renderItem:(t,n)=>{const{urls:r,links:s,user:o}=L[t];return a.a.createElement(w.a,{key:n,urls:r,links:s,user:o,index:t,cardId:e,onSetCover:i,onSetCoverFailed:()=>g(!0),buttonClassName:C.a.searchResultTilesItem,onClick:()=>O.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"unplashCoverInlineDialog",attributes:{value:r.raw},containers:D})})}}),a.a.createElement("div",{className:C.a.searchResultsFooter},a.a.createElement(j.a,{in:M,timeout:85},(e=>a.a.createElement("div",{className:c()(C.a.loadingColumn,{[C.a.isExiting]:"exiting"===e})},"exited"!==e&&a.a.createElement(k.a,{inline:!0,modLeft:!0,small:!0,text:N("loading")})))),a.a.createElement("div",{className:C.a.unsplashColumn},N("photos-from-unsplash",{unsplashLink:a.a.createElement("a",{key:"a",className:C.a.unsplashLink,href:_.unsplashClient.attributionUrl,rel:"noreferrer noopener",target:"_blank"},"Unsplash")}))))};var I=n("./app/src/components/CardCoverChooser/UnsplashSearch.less"),B=n.n(I),D=n("./packages/nachos/icons/close.tsx"),A=n("./packages/analytics/index.ts"),L=n("./app/src/components/CardCoverChooser/TopUnsplashPhotos.less"),F=n.n(L);const M=Object(s.forTemplate)("card_cover_chooser"),V=({cardId:e,onSetCover:t})=>{const{data:i}=Object(f.a)({variables:{query:"",perPage:9,page:1},fetchPolicy:"cache-only"}),{data:n}=Object(b.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),r=null==n?void 0:n.card,s={organization:{id:null==r?void 0:r.board.idOrganization},board:{id:null==r?void 0:r.board.id},card:{id:null==r?void 0:r.id}},o=i&&i.unsplashPhotos?i.unsplashPhotos:[];return o.length?a.a.createElement("div",null,a.a.createElement("h4",{className:F.a.heading},M("top-photos")),a.a.createElement("div",{className:F.a.unsplashTiles},o.slice(0,12).map((({urls:i,links:n,user:r,id:o},l)=>a.a.createElement(w.a,{key:o,urls:i,links:n,user:r,index:l,cardId:e,onSetCover:t,onSetCoverFailed:()=>{},buttonClassName:F.a.unsplashTilesItem,onClick:()=>O.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",attributes:{value:i.raw},containers:s})})))),a.a.createElement("div",{className:F.a.searchResultsFooter},a.a.createElement("div",{className:F.a.unsplashColumn},M("photos-from-unsplash",{unsplashLink:a.a.createElement("a",{key:"a",className:F.a.unsplashLink,href:_.unsplashClient.attributionUrl,rel:"noreferrer noopener",target:"_blank"},"Unsplash")})))):null},R=Object(s.forTemplate)("card_cover_chooser"),z=({cardId:e,onSetCover:t})=>{const{data:i}=Object(b.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),n=i&&i.card,s={organization:{id:null==n?void 0:n.board.idOrganization},board:{id:null==n?void 0:n.board.id},card:{id:null==n?void 0:n.id}},l=Object(r.useRef)(null),[d,u]=Object(r.useState)(""),[p,m]=Object(r.useState)(!1),[h,f]=Object(r.useState)(!1),v=Object(r.useCallback)((()=>{u(""),m(!1)}),[]);Object(o.useShortcut)((()=>{v(),Object(A.track)("Card Cover Chooser","Clear Search","Via Escape Key")}),{scope:o.Scope.Popover,key:o.Key.Escape,enabled:p});const k=Object(r.useCallback)((e=>{if(u(e),l.current){const t=e.length;l.current.focus(),l.current.setSelectionRange(t,t),Object(A.track)("Card Cover Chooser","Click Suggestion",e)}}),[]),y=d.trim().length>0,w=!y,j=y,x=!y;return a.a.createElement("div",{className:B.a.unsplashSearch},a.a.createElement("div",{className:B.a.unsplashSearchInputSection},a.a.createElement("input",{type:"text",autoFocus:!0,onFocus:()=>{O.Analytics.sendUIEvent({action:"focused",actionSubject:"input",actionSubjectId:"cardCoverUnsplashSearchInput",source:"unplashCoverInlineDialog",containers:s}),m(!0)},onBlur:()=>{h||m(!1)},onChange:e=>{const t=e.currentTarget.value;u(t)},value:d,placeholder:R("search-unsplash-for-photos"),className:c()(B.a.unsplashSearchInput,"js-autofocus"),ref:l}),p&&d.length>0&&a.a.createElement("button",{className:c()("button",B.a.unsplashSearchClearButton),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:()=>{f(!1),v(),Object(A.track)("Card Cover Chooser","Clear Search","Via Button")}},a.a.createElement(D.a,{size:"small",dangerous_className:B.a.unsplashSearchClearButtonIcon}))),w&&a.a.createElement(g,{onSelect:k}),x&&a.a.createElement(V,{cardId:e,onSetCover:t}),j&&a.a.createElement(P,{cardId:e,query:d,onSetCover:t}))},U=({cardId:e,navigateToSelectCover:t})=>{const{data:i}=Object(b.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[n,s]=Object(r.useState)(!1),o=null==i?void 0:i.card;return Object(r.useEffect)((()=>{o&&!n&&(O.Analytics.sendScreenEvent({name:"unplashCoverInlineDialog",containers:{organization:{id:o.board.idOrganization},board:{id:o.board.id},card:{id:o.id}}}),s(!0))}),[o,n]),a.a.createElement(z,{cardId:e,onSetCover:t})};var H=n("./app/src/components/CardCoverChooser/SelectCover.tsx"),W=n("./app/src/components/ComponentWrapper/index.ts");const q=n("./app/scripts/views/lib/pop-over.js"),$=n("./app/scripts/lib/plugins/plugin-validators.js"),G=n("./app/scripts/views/plugin/plugin-pop-over-iframe-view.js"),K=Object(s.forNamespace)("view title"),Z=Object(s.forTemplate)("card_cover_chooser"),J=({elem:e,cardId:i,boardId:n})=>{const r=a.a.createElement(W.ComponentWrapper,{key:"add-cover"},a.a.createElement(U,{cardId:i,navigateToSelectCover:()=>q.popView()})),s=a.a.createElement(W.ComponentWrapper,{key:"select-cover"},a.a.createElement(H.SelectCover,{cardId:i,boardId:n,navigateToAddCover:()=>{q.pushView({getViewTitle:()=>Z("photo-search"),reactElement:r,displayType:"mod-card-cover-chooser"})},navigateToPluginCoverMenu:({title:e,url:i,height:n,board:r})=>{if(!$.isValidUrlForIframe(i))throw t.NotHandled("Invalid url, must be http or https");if(n&&!$.isValidHeight(n))throw t.NotHandled("Invalid height, must be a positive number");q.pushView({view:new G({title:e,content:{url:i,height:n},model:r})})}}));q.toggle({elem:e,getViewTitle:()=>K("cover"),reactElement:s})}},"./app/scripts/views/card/card-limits-error.js":function(e,t,i){const n=i("./app/scripts/views/lib/limit-error-popover.js"),r="cardLimit";e.exports={canAddCard:function(e){const{destinationBoard:t,destinationList:i}=e;return!((null!=t?t.isOverLimit("cards","openPerBoard"):void 0)||(null!=t?t.isOverLimit("cards","totalPerBoard"):void 0)||(null!=i?i.isOverLimit("cards","openPerList"):void 0)||(null!=i?i.isOverLimit("cards","totalPerList"):void 0)||(null!=t?t.isOverLimit("attachments","perBoard"):void 0)||(null!=t?t.isOverLimit("checklists","perBoard"):void 0))},maybeDisplayLimitsErrorOnCardAdd:function(e){const{$elem:t,hasChecklists:i,hasAttachments:a,destinationBoard:s,destinationList:o}=e,l=(null!=s?s.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=s?s.isOverLimit("cards","totalPerBoard"):void 0)?"card exceeds total per board limit":(null!=o?o.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":(null!=o?o.isOverLimit("cards","totalPerList"):void 0)?"card exceeds total per list limit":a&&(null!=s?s.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":i&&(null!=s?s.isOverLimit("checklists","perBoard"):void 0)?"card exceeds checklists per board limit":void 0;return null!=l&&(n({elem:t,message:l,trackingArea:r,params:{boardName:s?s.get("name"):void 0,boardId:s?s.get("id"):void 0,listName:o?o.get("name"):void 0}}),!0)},maybeDisplayLimitsErrorOnCardOpen:function(e){const{$elem:t,hasAttachments:i,destinationBoard:a,destinationList:s}=e,o=(null!=a?a.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=s?s.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":i&&(null!=a?a.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":void 0;return null!=o&&(n({trackingArea:r,elem:t,message:o,params:{boardName:null!=a?a.get("name"):void 0,boardId:null!=a?a.get("id"):void 0,listName:null!=s?s.get("name"):void 0}}),!0)}}},"./app/scripts/views/card/card-list-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./packages/browser/index.ts"),a=i("./app/scripts/views/card/card-view.js"),s=i("./app/scripts/views/internal/collection-view.js"),o=i("./app/scripts/views/lib/drag-sort.js"),l=i("./app/scripts/views/lib/post-render.js"),c=i("./app/scripts/views/internal/view.js"),d=i("./node_modules/underscore/underscore.js"),{chunkArray:u}=i("./app/scripts/views/card/chunkArray.ts"),p=i("./app/scripts/debug/log.js"),{featureFlagClient:m}=i("./packages/feature-flag-client/index.ts"),h=["chrome","firefox","opera"].includes(r.browserStr)||"windows"!==r.osStr?function(){}:d.debounce((()=>l.enqueue("jostleBoard",(function(){return n("#board").css("bottom",1),d.defer((()=>n("#board").css("bottom",0)))}))));class g extends s{static initClass(){this.prototype.viewType=a}getModels(){return this.collection.models}constructor(){super(...arguments),this.debouncedRefreshIfInitialized=this.debounce(this.refreshIfInitialized,10)}initialize(){super.initialize(...arguments),m.get("fep.check-card-idboards",!1)&&this.listenTo(this.collection,"change:idBoard",((e,t)=>{t!==this.collection.list.get("idBoard")&&this.removeModel(e)}))}removeModel(e,t){if(!m.get("fep.check-card-idboards",!1)||this.existingSubviewOrUndefined(this.viewType,e))return super.removeModel(...arguments)}render(){return p("render","rendering ".concat(this.getModels().length," ").concat(this.collection.model.name,"s into ").concat(this.viewType.name)),this.options.deferCards?this.whenIdle("deferredCardList_".concat(this.cid),(()=>this.progressiveRender())):this.progressiveRender(),this}progressiveRender(){const e=this.getModels(),t=e=>this.appendSubviews(Array.from(e).map((e=>this.subview(this.viewType,e)))),i=Math.max(10,Math.ceil(window.innerHeight/32)),n=d.first(e,i);t(n);return u(d.rest(e,i),i).forEach(((e,i)=>this.whenIdle("deferredHiddenCards_".concat(this.cid,"_chunk").concat(i),(()=>(t(e),h())))))}insertSubview(e,t,i){null==i&&({$el:i}=this),p("render","inserting ".concat(e.$el.find("h2").text()," at position ").concat(t)),"number"==typeof t?t=t<=0?i.children().eq(0):t<i.children().length?i.children().eq(t):void 0:t instanceof c&&(t=t.$el);const n=e.model;return e.$el.is(":empty")?(e.delegateEvents(),e.render()):i.hasClass("hide")||n.getBoard().filter.satisfiesFilter(n)||e.renderFiltered(),(null!=t?t.length:void 0)>0?e.$el.insertBefore(t):i.append(e.$el),this.debouncedRefreshIfInitialized()}refreshIfInitialized(){return o.refreshIfInitialized(this.$el)}scrollToCardView(e){const t=this.viewForModel(e);if(t){const e=t.$el[0];return this.$el.scrollTop(e.offsetTop+e.offsetHeight)}}}g.initClass(),e.exports=g},"./app/scripts/views/card/card-member-select-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{ActionHistory:r}=i("./packages/action-history/index.ts"),a=i("./app/scripts/views/lib/alerts.js");let s=i("./app/scripts/db/auth.js");const o=i("./packages/react-dom-wrapper/index.ts"),l=i("./node_modules/react/index.js"),c=i("./app/scripts/network/api-error.js");s=i("./app/scripts/db/auth.js");const d=i("./app/scripts/models/card.js"),u=i("./app/scripts/lib/util/url/contains-valid-url.js"),p=i("./app/scripts/views/templates/invite_add_name.js"),{getKey:m,Key:h}=i("./packages/keybindings/index.ts"),g=i("./app/scripts/lib/localize.js"),b=i("./app/scripts/lib/localize-server-error.js"),{maybeDisplayMemberLimitsError:f}=i("./app/scripts/views/board-menu/member-limits-error.js"),v=i("./app/scripts/db/model-cache.js"),k=i("./app/scripts/db/model-loader.js"),y=i("./app/scripts/views/lib/pop-over.js"),w=i("./node_modules/bluebird/js/browser/bluebird.js"),j=i("./app/scripts/views/member/select-member-on-card-view.js"),x=i("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js"),C=i("./app/scripts/lib/util/index.js"),_=i("./app/scripts/views/internal/view.js"),O=i("./node_modules/underscore/underscore.js"),E=i("./app/scripts/views/templates/popover_select_members.js"),{Analytics:S,tracingCallback:T}=i("./packages/atlassian-analytics/index.ts"),{track:N,trackUe:P,trackDebounced:I}=i("./packages/analytics/index.ts"),B=i("./app/scripts/lib/util/text/search-filter.js"),D=i("./packages/browser/index.ts").isDesktop();class A extends _{static initClass(){this.prototype.viewTitleKey="members",this.prototype.events={"click .js-board-members .js-select-member":"selectMem","click .js-org-members .js-select-member":"selectMem","click .js-suggestions .js-select-member":"addSuggestedMember","click .js-show-org-members":"showOrgMembers","mouseenter .pop-over-member-list .item":"hoverMemberSelect","input .js-search-mem"(e){return this.updateSearch(),this.renderSuggested()},keydown:"keydownEvent","click .js-send-email-invite":"sendEmailInvite","submit .js-email-data":"sendEmailInvite"}}constructor(e){super(e),this.wouldBecomeBillableGuest=this.wouldBecomeBillableGuest.bind(this)}initialize(){return this.showAllOrgMembers=!1,this.wouldBecomeBillableGuestPromise=null,this.updateSearch=O.debounce(this.updateSearch,100),this.makeDebouncedMethods("renderMems","renderSuggested"),null!=this.model.memberList&&this.listenTo(this.model.memberList,"add remove reset",(()=>(this.updateOrdering(),this.renderMemsDebounced(),this.renderSuggestedDebounced()))),this.updateOrdering()}remove(){return this.reactRoot&&o.unmountComponentAtNode(this.reactRoot),super.remove(...arguments)}updateOrdering(){this._onCardMembers={},this._onListMembers={},this._onBoardMembers={};const e=(e,t)=>t.memberList.forEach((t=>e[t.id]=!0));return this.model instanceof d&&e(this._onCardMembers,this.model),this.model.getList().cardList.forEach(e.bind(null,this._onListMembers)),this.model.getBoard().listList.forEach((t=>t.cardList.forEach(e.bind(null,this._onBoardMembers))))}render(){const e=this.model.getBoard();return this.$el.html(E({canInviteMembers:!e.hasInvitationRestrictions()&&e.canInviteMembers(),includeOrgMembers:null!=e.getOrganization()&&e.canInviteMembers()||this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember(),placeholder:g("add member placeholder")})),this.renderMems(),this.renderSuggested()}getSearch(){return this.$(".js-search-mem").val().trim()}filteredMembers(e,t){const i=B(t);return O.chain(e).filter((e=>i(C.getMemNameArray(e)))).first(8).value()}filteredBoardMembers(e){const t=this.activeBoardMembers().sortBy((e=>(s.isMe(e)?0:this._onCardMembers[e.id]?1:this._onListMembers[e.id]?2:this._onBoardMembers[e.id]?3:4)+e.get("fullName")));return e?this.filteredMembers(t,e):t}filteredOrgMembers(e){if(this.showOrgSection()){const t=this.model.getBoard().getOrganization();return(null!=t?t.paysWithPurchaseOrder():void 0)&&(null!=t?t.isBusinessClass()||t.isStandard():void 0)?null==this.orgMembersPromise&&(this.orgMembersPromise=k.loadOrganizationMembersDataWithAvailableLicenseCount(t.id)):null==this.orgMembersPromise&&(this.orgMembersPromise=k.loadOrganizationMembersData(t.id)),this.orgMembersPromise.then((i=>{const n=t.memberList.filterDeactivated({force:!0}).without(...Array.from(this.model.getBoard().memberList.models||[]));return e?this.filteredMembers(n,e):n}))}return[]}hasSearch(){return""!==this.getSearch()}showOrgSection(){return null!=this.model.getBoard().getOrganization()&&(this.showAllOrgMembers||this.hasSearch())}renderMems(){const e=this.getSearch(),t={".js-board-members":this.filteredBoardMembers(e),".js-org-members":this.filteredOrgMembers(e)},i=this.showOrgSection();return this.$(".js-show-org-members").toggleClass("hide",i),this.$(".js-invite-results").toggleClass("hide",!C.checkEmail(e)),null!=this._renderMemsPromise&&this._renderMemsPromise.cancel(),this._renderMemsPromise=w.each(O.keys(t),(e=>{const n=this.$(e);if(0===n.length)return;const r=n.find(".js-loading"),a=n.find(".js-no-results");return r.removeClass("hide"),a.addClass("hide"),w.resolve(t[e]).then((e=>{r.addClass("hide");const t=n.find(".js-mem-list");t.toggleClass("collapsed",e.length>9),a.toggleClass("hide",e.length>0),e.length>0&&(this.$(".js-board-members").removeClass("hide"),this.$(".js-invite-no-results").addClass("hide"),this.$(".js-org-members").toggleClass("hide",!i));const s=Array.from(e).map((e=>this.subview(j,e,{showUnconfirmed:!0,card:this.model})));return this.ensureSubviews(s,t)}))})).cancellable().then((()=>{if(this.hasSearch()){const t=this.$el.find(".item").first();return t.length>0?C.selectMenuItem(this.$el,".item",t):this.renderEmailInviteToSearchResults({email:e})}})).done(),this}activeBoardMembers(){return this.model.getBoard().memberList.filterDeactivated({force:!0})}renderSuggested(){const e=this.$(".js-suggestions"),t=this.getSuggestedMembers(),i=!this.hasSearch()&&t.length>0&&this.activeBoardMembers().length>9;e.toggleClass("hide",!i);const n=e.find(".js-mem-list");if(i){const e=t.map((e=>this.subview(j,e,{card:this.model},"join-suggestion-".concat(e.id))));this.ensureSubviews(e,n),I.hour("Suggestions","Card Members Menu","Displayed",t.length)}else n.empty();return this}getSuggestedMembers(){const e=r.get(),t=this.model.get("idList"),i=new Set,n={action:{type:"join",idMember:s.myId()}},a=e.filter((({action:e,context:i})=>"add-member"===e.type&&i.idList===t)).filter((function({action:e}){return!i.has(e.idMember)&&(i.add(e.idMember),!0)}));return[n,...Array.from(a)].filter((({action:e})=>this.model.isValidSuggestion(e))).map((({action:e})=>this.modelCache.get("Member",e.idMember))).slice(0,5).sort((function(e,t){if(s.isMe(e))return-1;if(s.isMe(t))return 1;{const i=e.get("fullName").toLowerCase(),n=t.get("fullName").toLowerCase();return i.localeCompare(n)}}))}hoverMemberSelect(e){return C.selectMenuItem(this.$el,".item",e.currentTarget)}keydownEvent(e){const t=m(e);[h.Tab,h.Enter].includes(t)?(C.stop(e),this.$(".js-mem-list .item.selected:first .js-select-member").first().click(),this.$(".js-search-mem").val(""),this.focusSearch(),this.renderMems()):[h.ArrowUp,h.ArrowDown].includes(t)&&(C.stop(e),C.navMenuList(this.$el,".item",t))}updateSearch(e){return this.$(".js-invite-error").addClass("hide"),this.renderMems(),this.focusSearch()}selectMem(e){C.stop(e);const{model:t}=this,i=n(e.currentTarget),r=i.closest(".item"),o=i.attr("idMember"),l="cardMemberSelectInlineDialog";if(!r.hasClass("active")){const e=this.model.getBoard(),i=v.get("Member",o);e.hasActiveMembership(i)||s.isMe(i)&&t.getBoard().isEditableByTeamMemberAndIsNotABoardMember()&&(a.show("woohoo-you-are-now-a-member-of-this-board","info","join-board",4e3),e.optimisticJoinBoard());const n="Card"===t.typeName?S.startTask({taskName:"edit-card",subTask:"idMembers",source:l}):"";t.addMemberWithTracing(o,n,T({taskName:"edit-card",subTask:"idMembers",traceId:n,source:l},((e,i)=>{i&&S.sendUpdatedCardFieldEvent({field:"idMembers",source:l,containers:{card:{id:t.id},board:{id:t.get("idBoard")},list:{id:t.get("idList")}},attributes:{taskId:n}})}))),r.addClass("active"),N("Card","Change Member","Add Member");const c=this.model.getBoard().memberList.models,d=s.me().id;return c.forEach((function(e){if(e.get("id")===o&&e.get("idMemberReferrer")===d)return P("card","adds","invitee","to card","","",{member:d,addedMember:o})}))}{const e="Card"===t.typeName?S.startTask({taskName:"edit-card",subTask:"idMembers",source:l}):"";t.removeMemberWithTracing(o,e,T({taskName:"edit-card",subTask:"idMembers",traceId:e,source:l},((i,n)=>{n&&S.sendUpdatedCardFieldEvent({field:"idMembers",source:l,containers:{card:{id:t.id},board:{id:t.get("idBoard")},list:{id:t.get("idList")}},attributes:{taskId:e}})}))),r.removeClass("active"),N("Card","Change Member","Remove Member")}this.focusSearch()}addSuggestedMember(e){C.stop(e);const t=this.$(e.currentTarget).attr("idMember"),i="cardMemberSelectInlineDialog",n=S.startTask({taskName:"edit-card",subTask:"idMembers",source:i});this.model.addMemberWithTracing(t,n,T({taskName:"edit-card",subTask:"idMembers",traceId:n,source:i},((e,t)=>{t&&S.sendUpdatedCardFieldEvent({field:"idMembers",source:i,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:n}})}))),N("Card","Suggested",s.isMe(t)?"Join":"Add Member"),this.focusSearch()}focusSearch(){this.$(".js-search-mem").focus()}showOrgMembers(e){this.showAllOrgMembers=!0,this.renderMems()}wouldBecomeBillableGuest(e){const t=i("./app/scripts/network/api-promise.js"),n=this.model.getBoard();if(!n.hasOrganization())return w.resolve(!1);const r=n.getOrganization();return r&&!r.isFeatureEnabled("multiBoardGuests")?w.resolve(!1):t({url:"/1/search/members/",type:"get",data:{idBoard:null!=n?n.id:void 0,query:e},dataType:"json"}).then((e=>1===e.length&&e[0].wouldBecomeBillableGuest))}renderEmailInviteToSearchResults(e){this.$(".js-invite-no-results").removeClass("hide");const t=O.compact(C.removeDomainFromEmailAddress(e.email).split(/[\s\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/)).join(" ").replace(/[\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/,""),i=this.model.getBoard(),n=null!=i?i.getOrganization():void 0;O.extend(e,{fullName:C.toTitleCase(t),canAddAsObserver:null!=n?n.isFeatureEnabled("observers"):void 0,modelType:"Board",isLoading:!0,isOrgAdmin:null!=n?n.owned():void 0,isDesktop:D});const r=C.checkEmail(e.email),a=!(null!=i?i.hasInvitationRestrictions():void 0)&&r&&(null!=i?i.canInviteMembers():void 0);if(this.$(".js-board-members").addClass("hide"),this.$(".js-org-members").addClass("hide"),a)return this.$(".js-invite-no-results").addClass("hide"),this.$(".js-invite-results").html(p(e)).removeClass("hide"),null!=this.wouldBecomeBillableGuestPromise&&this.wouldBecomeBillableGuestPromise.cancel(),this.wouldBecomeBillableGuestPromise=this.wouldBecomeBillableGuest(e.email).cancellable().then((t=>{if(O.extend(e,{isLoading:!1,wouldBecomeBillableGuest:t,availableLicenseCount:null!=n?n.getAvailableLicenseCount():1/0}),this.$(".js-invite-results").html(p(e)),t){const e=l.createElement(x,{displayOrg:n,isDesktop:D});if(this.reactRoot=this.$(".js-billable-guests-alert")[0])return o.render(e,this.reactRoot)}})).catch(c,(t=>{const i=b(t);return O.extend(e,{isLoading:!1,error:i}),this.$(".js-invite-results").html(p(e))})).catch(w.CancellationError)}_getNewMemberId(e,t,n,r){const a=i("./app/scripts/network/api-promise.js"),s=O.first(O.difference(e,t));if(null!=s)return N("Invitations","Send Email Board Invite to New Member","Role: ".concat(n)),w.resolve(s);return a({url:"/1/search/members/",type:"get",data:O.extend({query:r},this.model.getBoard().getInviteURLParams()),dataType:"json"}).then((e=>{if(e.length>0)return e[0].id}))}sendEmailInvite(e){const t=i("./app/scripts/network/api-promise.js");C.stop(e);const r=this.$(".js-send-email-invite");if(null!=r.attr("disabled"))return;const a=this.$(".js-email-data .js-full-name"),s=a.val().trim(),o=this.$(".js-email-data .js-email").val().trim();if(!C.validName(s))return C.setCaretAtEnd(a),void n(".js-name-error").show();if(u(s))return C.setCaretAtEnd(a),void n(".js-name-error-url").show();const l={fullName:s,email:o,type:"normal",allowBillableGuest:!0};this.$("#addAsObserver").is(":checked")&&(l.type="observer");const d=this.model.getBoard();if(f(n(e.target),d))return;r.attr("disabled","disabled");const p=O.pluck(d.memberList.models,"id");t({url:"/1/board/".concat(d.id,"/members"),type:"put",data:l}).then((({members:e})=>{const t=O.pluck(e,"id");return this._getNewMemberId(t,p,l.type,o)})).then((e=>{if(null!=e){const t="cardMemberSelectInlineDialog",i=S.startTask({taskName:"edit-card",subTask:"idMembers",source:t});return this.model.addMemberWithTracing(e,i,T({taskName:"edit-card",subTask:"idMembers",traceId:i,source:t},((e,n)=>{if(n)return S.sendUpdatedCardFieldEvent({field:"idMembers",source:t,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:i}}),this.$(".js-send-email-invite").removeAttr("disabled"),y.hide()}))),N("Card","Change Member","Add Member")}})).catch(c,(e=>{const t=b(e);this.$(".js-invite-error").removeClass("hide").find(".error").html(t),this.$(".js-uninvited-search-results").empty().hide(),r.removeAttr("disabled"),n("js-search-mem").focus().select(),N("Invitations","Error",null!=e.message?e.message:e.responseText)}))}}A.initClass(),e.exports=A},"./app/scripts/views/card/card-move-view.js":function(e,t,i){const n=i("./node_modules/react/index.js"),r=i("./node_modules/underscore/underscore.js"),{ActionHistory:a}=i("./packages/action-history/index.ts"),s=i("./app/scripts/views/lib/alerts.js"),o=i("./app/scripts/network/api-ajax.js"),l=i("./app/scripts/db/auth.js"),c=i("./app/scripts/views/lib/dialog.js"),d=i("./app/scripts/lib/localize.js"),u=i("./app/scripts/views/lib/pop-over.js"),{maybeDisplayLimitsErrorOnCardAdd:p}=i("./app/scripts/views/card/card-limits-error.js"),m=i("./app/scripts/views/label/label-limits-error-view.js"),h=i("./app/scripts/views/card/select-card-position.js"),g=i("./app/scripts/views/internal/view.js"),b=i("./app/scripts/views/internal/templates.js"),{track:f,trackDebounced:v}=i("./packages/analytics/index.ts"),{featureFlagClient:k}=i("./packages/feature-flag-client/index.ts"),{renderComponent:y}=i("./app/src/components/ComponentWrapper/index.ts"),{MoveCardPopover:w}=i("./app/src/components/MoveCardPopover/index.ts");class j extends g{static initClass(){this.prototype.viewTitleKey="move card",this.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData","click .js-submit":"commitChange","click .js-suggested-move":"suggestedMove"}}initialize({onCommit:e}){return this.onCommit=null!=e?e:function(){},this.listenTo(l.me().boardList,"add remove reset",this.render)}render(){const e={};let t=this.model.getBoard();const a=this.model.getBoard().getEnterprise();var s,o;t.isGuest(l.me())&&t.get("enterpriseOwned")?(e.isMove=!0,e.hasEnterprise=!0,e.enterpriseName=null!=a?a.get("displayName"):void 0,e.restrictToCurrentBoard=!0,e.organizations=[{displayName:(s=t.getOrganization(),o=e=>e.get("displayName"),(null!=s?o(s):void 0)||d("member boards.boards")),boards:[r.extend(t.toJSON(),{selected:!0})]}]):null!=a?(e.isMove=!0,e.hasEnterprise=!0,t=null==this.model.getBoard().getMembershipFor(l.me())?t:null,e.organizations=l.me().getOpenBoardsInEnterpriseByOrg(!0,a.get("id"),t),e.enterpriseName=a.get("displayName")):(t=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?t:null,e.organizations=l.me().getOpenBoardsByOrg(!0,t));for(const i of Array.from(e.organizations))for(const e of Array.from(i.boards))e.id===this.model.get("idBoard")&&(e.selected=!0,t=e);e.suggestions=this.getSuggestedMoves();let c={move_card_controls:b.move_card_controls};return k.get("fep.nachos_select",!1)?y(n.createElement(w,{organizations:e.organizations,defaultBoardId:t.id,defaultBoardName:t.name,defaultListId:this.model.getList().id,defaultListName:this.model.getList().get("name"),cardList:this.model.getList().cardList,currentIndex:this.model.getList().openCards().indexOf(this.model),onSubmit:this.requestChange.bind(this),hasEnterprise:e.hasEnterprise,enterpriseName:e.enterpriseName,restrictToCurrentBoard:e.restrictToCurrentBoard,isMove:e.isMove,suggestions:this.getSuggestedMoves()}),this.$el.get(0)):(c={move_card_controls:b.move_card_controls},this.$el.html(b.fill(i("./app/scripts/views/templates/popover_move_card.js"),e,{},c))),this.updateBoardData(),e.suggestions.length>0&&v.hour("Suggestions","Card Move Menu","Displayed",e.suggestions.length),this}getSuggestedMoves(){const e=a.get(),t=this.model.getBoard(),i=this.model.getList(),n=this.model.get("idList"),r=this.model.get("idBoard"),s=new Set;return e.filter((({action:e,context:t})=>"move"===e.type&&t.idList===n&&e.idBoard===r)).sort((function(e,t){if(e.action.idList===t.action.idList){const i="string"==typeof e.action.position,n="string"==typeof t.action.position;return i&&!n?-1:n&&!i?1:0}return 0})).filter((function({action:e}){return!s.has(e.idList)&&(s.add(e.idList),!0)})).filter((({action:e})=>this.model.isValidSuggestion(e))).slice(0,5).map((function({action:e}){const n=t.listList.get(e.idList),r=n.toJSON();return r.direction=n.get("pos")>i.get("pos")?"right":"left",r.position=e.position,r}))}suggestedMove(e){const t=this.$(e.currentTarget),i=t.attr("data-id"),n=this.model.getBoard().listList.get(i),r=(()=>{switch(t.attr("data-position")){case"top":return 0;case"1":return 1;default:return n.cardList.length}})();p({$elem:t,destinationList:n})||(this.model.moveToList(n,r),f("Card","Suggested","Move on Same Board"),this.onCommit(),u.hide())}commitChange(e){const t=this.$(".js-select-board"),i=this.$(".js-select-list"),n=this.$(".js-select-position"),r=t.find("option:selected").val(),a=i.find("option:selected").val(),s=n.find("option:selected").val(),o=parseInt(n.find("option:selected").prop("index"),10);return this.requestChange(e,r,a,s,o)}requestChange(e,t,i,n,r){let a,l;if(t===this.model.getBoard().id){if(a=this.model.getBoard().listList.get(i),l={$elem:this.$(e.target),destinationList:a},p(l))return;this.model.moveToList(a,r),f("Card","Move Menu","Same Board")}else if(null!=t&&null!=i&&null!=n){const d=this.modelCache.get("Board",t);if(a=null!=d?d.listList.get(i):void 0,l={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:d,destinationList:a},p(l))return;if(this.model.getLabels().length>0&&d.isOverLimit("labels","perBoard"))return void u.pushView(new m);f("Card","Move Menu","Changed Board");const h=null!=a?a.openCards().length:void 0;this.model.recordAction({type:"move",idBoard:t,idList:i,position:(()=>{switch(n){case"top":return h>0?"top":r;case"bottom":return h>1?"bottom":r;default:return r}})(),fromPosition:this.model.getList().openCards().indexOf(this.model)}),this.model.getList().cardList.remove(this.model),c.hide(),o({url:"/1/cards/".concat(this.model.id),type:"put",data:{idList:i,idBoard:t,pos:n},success:e=>(this.model.board=null,this.model.set("idBoard",e.idBoard),this.model.set("idList",e.idList),this.model.set("pos",e.pos)),error:e=>{this.model.getList().cardList.add(this.model);const t=null!=e.responseJSON?e.responseJSON.error:void 0;return"BOARD_TOO_MANY_CUSTOM_FIELDS"===t?s.show("too many custom fields card","error","moveerror",8e3):"CUSTOM_FIELD_TOO_MANY_OPTIONS"===t?s.show("too many custom options card","error","moveerror",8e3):s.show("could not move card","error","moveerror",5e3)}})}this.onCommit(),u.hide()}}j.initClass(),r.extend(j.prototype,h),e.exports=j},"./app/scripts/views/card/card-view-attachment.js":function(e,t,i){const{Analytics:n}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:r}=i("./packages/feature-flag-client/index.ts"),a=i("./app/scripts/lib/util/index.js"),s=i("./app/scripts/views/internal/warn-if-file-too-large.js"),o=i("./app/scripts/views/internal/pasted-file-name.js"),l=i("./app/scripts/lib/util/ninvoke.js"),c=i("./app/scripts/views/lib/alerts.js"),d=i("./node_modules/bluebird/js/browser/bluebird.js");e.exports.dragenter=function(e){if(!this.model.editable())return;const t=this.$el.outerHeight(),i=!this.model.canAttach(),n=!this.model.canDropAttachment(e.type),r=n?".list-card-dropzone-restricted":i?".list-card-dropzone-limited":".list-card-dropzone";return this.$(r).css({height:"".concat(t,"px"),"line-height":"".concat(t,"px")}),this.$el.addClass("is-drophover").toggleClass("is-restricted",n).toggleClass("is-limited",i)},e.exports.dragleave=function(e){return this.$el.removeClass("is-drophover")},e.exports.dropFiles=function(e){if(!this.model.canAttach()||this.model.attachmentTypeRestricted("computer"))return void a.stop(e);const t=e.detail;return s(this.model.getBoard(),t)?void 0:(d.resolve(t).each((e=>{const t=e.name||o();let i=null;const a="cardViewAttachment",s={source:a,taskName:"create-attachment",subTask:"file"};return r.get("dataeng.vitalstats-upload-attachment",!1)&&(i=n.startTask(s),s.traceId=i),l(this.model,"upload",e,t,{traceId:i}).then((e=>(i&&(n.sendTrackEvent({source:a,action:"uploaded",actionSubject:"attachment",actionSubjectId:"fileAttachment",attributes:{taskId:i}}),n.taskSucceeded(s)),e)),(e=>(i&&(s.error=e,n.taskFailed(s)),d.reject(e))))})).catch((()=>c.show("unable to upload file","error","upload",5e3))).done(),e.stopPropagation())},e.exports.dropUrl=function(e){if(!this.model.canAttach()||this.model.attachmentTypeRestricted("link"))return void a.stop(e);const t=e.detail;return this.model.getBoard().attachmentUrlRestricted(t)?void 0:(this.model.uploadUrl(t),e.stopPropagation())}},"./app/scripts/views/card/card-view-cover.js":function(e,t){e.exports.showCover=function(){return this.model.getBoard().getPref("cardCovers")&&this.model.hasCover()&&!this.onCalendar}},"./app/scripts/views/card/card-view-helpers.js":function(e,t,i){const n=i("./app/scripts/views/member-menu-profile/card-member-menu-view.js"),r=i("./app/scripts/views/lib/pop-over.js"),a=i("./app/scripts/lib/util/index.js"),s=i("./app/scripts/views/templates/member_on_card.js"),o={openMemberOnCardMenu(e){a.stop(e);const t=this.$(e.target).closest(".member"),i=t.attr("data-idmem"),s=this.modelCache.get("Member",i),o=this.model,l=this.model.getBoard();r.toggle({elem:t,view:n,options:{model:s,modelCache:this.modelCache,card:o,board:l}})},getMemberOnCardHtml(e){const t=e.toJSON(),i=this.model.getBoard();var n,r;return t.isVirtual=(n=i.getOrganization(),r=t=>t.isVirtual(e),(null!=n?r(n):void 0)||i.isVirtual(e)),t.isDeactivated=i.isDeactivated(e),s(t)}};e.exports=o},"./app/scripts/views/card/card-view-label.js":function(e,t,i){const n=i("./app/scripts/view-models/label-state.js"),{track:r}=i("./packages/analytics/index.ts");e.exports.labelClick=function(e){if(e&&(e.ctrlKey||e.metaKey||e.shiftKey))return;const t=n.getShowText();var i,a;return r("Toggle Labels Text on Card Front",t?"Hide":"Show",(i=this.model.getBoard(),a=e=>e.id,null!=i?a(i):void 0),"click-label"),e.preventDefault(),e.stopPropagation(),n.toggleText()},e.exports.labelMouseEnter=function(e){return this.$el.addClass("card-labels-hover")},e.exports.labelMouseLeave=function(e){return this.$el.removeClass("card-labels-hover")}},"./app/scripts/views/card/card-view-lists.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),{shouldFireConfetti:r}=i("./app/scripts/views/card/should-fire-confetti.ts"),a=i("./node_modules/canvas-confetti/dist/confetti.module.mjs").default;e.exports.moveTo=function(e,t,i,s){if(0===t.item.parents(".js-list").length)return;const o=t.item.parents(".js-list").find(".list-card:not(.placeholder,.js-composer)").index(t.item);if(!s){if(r(i.model.get("name"))){const e=t.item.offset(),i=t.item.height(),r=t.item.width();a({angle:n.random(55,125),spread:n.random(50,70),particleCount:n.random(40,75),origin:{x:(e.left+r/2)/window.innerWidth,y:(e.top+i/2)/window.innerHeight}})}t.item.remove()}this.model.moveToList(i.model,o)},e.exports.moveIn=function(e,t,i){i.model.id===this.model.get("idList")&&this.moveTo(e,t,i,!0)}},"./app/scripts/views/card/card-view-mixins.js":function(e,t,i){const{Analytics:n,tracingCallback:r}=i("./packages/atlassian-analytics/index.ts"),a=i("./packages/browser/index.ts"),s=i("./app/scripts/lib/dates.js"),o=i("./app/scripts/views/internal/due-date-helpers.js"),{makePreviewCachable:l}=i("./app/common/lib/util/preview.ts"),c=i("./app/scripts/models/label.js"),d=i("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),u=i("./app/scripts/views/internal/plugins/plugin-runner.js"),p=i("./node_modules/underscore/underscore.js"),m=i("./app/scripts/views/templates/label.js"),h=i("./app/scripts/lib/plugins/plugin-cover-with-defaults.js"),g=i("./app/scripts/lib/plugins/plugin-validators.js"),b=i("./app/scripts/views/internal/teacup-with-helpers.js")("badge"),f=i("./app/scripts/lib/localize.js"),{featureFlagClient:v,seesVersionedVariation:k}=i("./packages/feature-flag-client/index.ts"),y=i("./app/scripts/lib/util/index.js"),{UnsplashTracker:w}=i("./packages/unsplash/index.ts"),{shouldFireConfetti:j}=i("./app/scripts/views/card/should-fire-confetti.ts"),x=i("./node_modules/canvas-confetti/dist/confetti.module.mjs").default,C=b.renderable((function({archived:e,attachments:t,attachmentsByType:i,checkItems:n,checkItemsChecked:r,checkItemsEarliestDue:a,comments:l,description:c,due:d,dueComplete:u,location:p,notifications:m,start:h,subscribed:g,viewingMemberVoted:y,votes:w,isOnBoardTemplate:j,hideVotes:x,isCardTemplate:C,showDueCompleteCheckbox:_}){C&&b.div(".badge.is-template",{title:f("badge.template")},(function(){return b.span(".badge-icon.icon-sm.icon-template-card"),b.span(".badge-text",(()=>b.format("template")))})),m&&b.div(".badge.is-unread-notification",{title:f("badge.notifications")},(function(){return b.span(".badge-icon.icon-sm.icon-notification"),b.span(".badge-text",(()=>b.text(m)))})),g&&b.div(".badge.is-icon-only",{title:f("badge.watch")},(()=>b.span(".badge-icon.icon-sm.icon-subscribe"))),w>0&&!C&&(x?x&&y&&b.div(".badge",{title:f("badge.votes"),class:b.classify({"is-voted":y})},(()=>b.span(".badge-icon.icon-sm.icon-vote"))):b.div(".badge",{title:f("badge.votes"),class:b.classify({"is-voted":y})},(function(){return b.span(".badge-icon.icon-sm.icon-vote"),b.span(".badge-text",(()=>b.text(w)))})));const O=v.get("ecosystem.timeline-version","none"),E=e=>{b.div(".badge.js-due-date-badge",{title:o.titleForDueDate(d,u),class:b.classify({"mod-due-date":_,[o.classForDueDate(d,u)]:!0})},(function(){return b.span(".badge-icon.icon-sm.icon-clock.badge-due-icon"),_&&(b.span(".badge-icon.icon-sm.icon-checkbox-checked.badge-due-checked"),b.span(".badge-icon.icon-sm.icon-checkbox-unchecked.badge-due-unchecked")),b.span(".badge-text.js-due-date-text",(()=>b.text(e)))}))};k("ecosystem.timeline-version","stable")&&!C?h&&d&&h<=d?E("".concat(s.toDateString(h)," - ").concat(s.toDateString(d))):d?E("".concat(s.toDateString(d))):h&&b.div(".badge.js-start-date-badge",(function(){b.span(".badge-icon.icon-sm.icon-clock"),b.span(".badge-text.js-start-date-text",(function(){b.text(f(o.relativeInforForStartDate(h),{date:s.toDateString(h)}))}))})):(h&&!C&&"none"!==O&&b.div(".badge.js-start-date-badge",(function(){b.span(".badge-icon.icon-sm.icon-clock"),b.span(".badge-text.js-start-date-text",(function(){b.text(s.toDateString(h))}))})),d&&!C&&E(s.toDateString(d))),c&&b.div(".badge.is-icon-only",{title:f("badge.description")},(()=>b.span(".badge-icon.icon-sm.icon-description"))),l>0&&!j&&b.div(".badge",{title:f("badge.comments")},(function(){return b.span(".badge-icon.icon-sm.icon-comment"),b.span(".badge-text",(()=>b.text(l)))}));const S=i?i.trello.board+i.trello.card:0;if((t-=S)>0&&b.div(".badge",{title:f("badge.attachments")},(function(){return b.span(".badge-icon.icon-sm.icon-attachment"),b.span(".badge-text",(()=>b.text(t)))})),S>0&&b.div(".badge",{title:f("badge.trello attachments")},(function(){return b.span(".badge-icon.icon-sm.icon-board"),b.span(".badge-text",(()=>b.text(S)))})),n>0&&b.div(".badge.js-checkitems-badge",{title:f("badge.checkitems"),class:b.classify({"is-complete":r===n,[o.classForDueDate(a,!1)]:null!=a})},(function(){return b.span(".badge-icon.icon-sm.icon-checklist"),b.span(".badge-text.js-checkitems-badge-text",(function(){if(b.text(r),b.text("/"),b.text(n),a)return b.text("  "),b.text(s.toDateString(a))}))})),e&&b.div(".badge",{title:f("badge.archived.title")},(function(){return b.span(".badge-icon.icon-sm.icon-archive"),b.span(".badge-text",(()=>b.text(f("badge.archived.text"))))})),p)return b.div(".badge",{title:f("badge.location")},(()=>b.span(".badge-icon.icon-sm.icon-location")))}));function _(e,t){return null!=e?t(e):void 0}e.exports={clearCover(){return this.$el.removeClass("is-covered"),this.$(".js-card-stickers").css("height",""),this.$(".js-card-cover").css({"background-origin":"","background-image":"","background-color":"",height:"",padding:""}).removeClass("is-no-preview-size color-card-cover"),this.clearColorCover()},clearColorCover(){return this.$(".js-card-cover").removeClass(((e,t)=>(t.match(/\bcolor-card-cover-\S+/g)||[]).join(" ")))},renderCover(){let e;const t=this.model.getBoard();if(!t.getPref("cardCovers")||this.onCalendar)return this.clearCover(),this.clearFullCover(),this;if(!this.model.hasCover())return this.renderPluginCover(),this;const{idAttachment:i,idUploadedBackground:n,color:r,scaled:s,edgeColor:o,sharedSourceUrl:c,size:d,idPlugin:u}=this.model.get("cover"),p=this.$(".js-card-cover"),m=this.$(".js-card-stickers");if(this.clearColorCover(),"full"===d&&this.shouldRenderFullCover())return this.renderFullCover();this.clearFullCover();const h=u&&t.isPluginEnabled(u);if(r)e=this.model.hasStickers()?64:32,p.css({"background-color":"","background-image":"","background-size":"",height:e}).toggleClass("is-no-preview-size",!1),p.addClass("color-card-cover color-card-cover-".concat(r)),m.css("height",e);else if(i||n||h){let t;const r=a.isHighDPI()?600:300;let d=null!=(t=y.smallestPreviewBiggerThan(s,r))?t:y.biggestPreview(s);if(null==d&&i&&null!=this.model.attachmentList){const e=this.model.attachmentList.get(this.model.get("idAttachmentCover"));if(null==e)return null;d={url:e.get("url")}}if(p.css({"background-color":null!=o?o:"transparent","background-image":'url("'.concat(l(d.url),'")')}).toggleClass("is-no-preview-size",null==d),null!=d){const t=Math.min(d.height,260);e=245*d.height/d.width,e<=t?(p.css({height:e,"background-size":"cover"}),m.css("height",e)):(p.css({height:t,"background-size":"contain"}),m.css("height",t)),n&&w.trackOncePerInterval(c)}}return this.$el.addClass("is-covered"),this},clearFullCover(){return this.$(".js-card-stickers").css("height",""),this.$el.removeClass((function(e,t){const i=t.match(/\bcolor-card-cover-\S+/g)||[];return i.push("full-cover-list-card"),i.push("full-cover-list-card-dark"),i.join(" ")})),this.$el.css({"background-size":"","background-image":"","background-position":"","background-repeat":"","background-color":"","min-height":""})},renderFullCover(){this.clearCover(),this.clearFullCover();const{color:e,scaled:t,edgeColor:i,brightness:n,idPlugin:r}=this.model.get("cover");if(r&&!this.model.getBoard().isPluginEnabled(r))return this;if(this.$el.addClass("full-cover-list-card"),"dark"===n&&this.$el.addClass("full-cover-list-card-dark"),e)this.$el.addClass("color-card-cover color-card-cover-".concat(e));else{let e,n;const r=a.isHighDPI()?600:300,s=null!=(n=y.smallestPreviewBiggerThan(t,r))?n:y.biggestPreview(t),o={"background-image":'url("'.concat(s.url,'")'),"background-size":"cover"},l=Math.min(s.height,260);if(this.$el.height()>l)e="auto",o["background-size"]="contain",o["background-position"]="center",o["background-repeat"]="no-repeat",o["background-color"]=i;else{const t=245*s.height/s.width;e=t<=l?t:l}o["min-height"]=e,this.$el.css(o),this.$(".js-card-stickers").css("height",this.$el.height())}return this.$el.addClass("is-covered"),this},getFullCoverStylesForInitialRender(){let e;const{idAttachment:t,scaled:i}=this.model.get("cover"),n=a.isHighDPI()?600:300;let r=null!=(e=y.smallestPreviewBiggerThan(i,n))?e:y.biggestPreview(i);if(null==r&&t&&null!=this.model.attachmentList){const e=this.model.attachmentList.get(this.model.get("idAttachmentCover"));if(null==e)return null;r={url:e.get("url")}}if(null==r)return null;const s={"background-image":'url("'.concat(r.url,'")'),"background-size":"cover"},o=Math.min(r.height,260),l=245*r.height/r.width;return s["min-height"]="".concat(l<=o?l:o,"px"),b.stylify(s)},renderPluginCover(){return this.waitForId(this.model,(()=>u.one({command:"card-cover",board:this.model.getBoard(),card:this.model,list:this.model.getList(),timeout:1e4,options:{attachments:d.attachments(this.model.attachmentList.models,["id","url"]),cardDetail:!1},fxPluginFilter:e=>!(e.get("tags")||[]).includes("plugin-cover-beta")}).then((e=>{if(this.model.hasCover())return;if(!g.isValidCover(e))throw new Error("Invalid cover supplied");const t=h(e);return this.$(".js-card-cover").css({"background-origin":"content-box","background-color":t.edgeColor,"background-image":'url("'.concat(t.url,'")'),"background-position":t.position,"background-repeat":"no-repeat","background-size":t.size,height:"".concat(t.height,"px"),padding:t.padding}).removeClass("is-no-preview-size"),this.$(".js-card-stickers").css("height",t.stickerHeight),this.$el.addClass("is-covered")})).catch((()=>{if(!this.model.hasCover())return this.clearCover(),this.clearFullCover()}))))},getBadgesHtml(){let e;const t=null!=(e=this.model.get("badges"))?e:{},i=v.get("remarkable.card-front-due-complete-checkbox",!1);return C({subscribed:t.subscribed,description:t.description,comments:t.comments,attachments:t.attachments,attachmentsByType:t.attachmentsByType,checkItems:t.checkItems,checkItemsChecked:t.checkItemsChecked,checkItemsEarliestDue:t.checkItemsEarliestDue,hideVotes:!!_(_(this.model.getBoard(),(e=>e.get("prefs"))),(e=>e.hideVotes)),votes:t.votes,viewingMemberVoted:t.viewingMemberVoted,due:this.model.get("due"),dueComplete:this.model.get("dueComplete"),notifications:p.filter(this.modelCache.all("Notification"),(e=>e.get("unread")&&null!=this.model.id&&_(_(e.get("data"),(e=>e.card)),(e=>e.id))===this.model.id)).length,archived:this.model.get("closed"),location:t.location&&_(this.model.getBoard(),(e=>e.isMapPowerUpEnabled())),isOnBoardTemplate:this.model.isOnBoardTemplate(),isCardTemplate:!!this.model.get("isTemplate"),showDueCompleteCheckbox:this.model.editable()&&i,start:this.model.get("start")})},renderBadges(){return this.$(".js-badges").html(this.getBadgesHtml()),this},updateDateBadges(){return this.updateDueDate(),this.updateCheckItemsEarliestDue()},updateDueDate(){const e=this.model.get("due"),t=this.model.get("start"),i=this.model.get("dueComplete"),n=this.el.querySelector(".js-due-date-badge"),r=this.el.querySelector(".js-due-date-text"),a=k("ecosystem.timeline-version","stable");if(n&&r){const l=n.getAttribute("title"),c=o.titleForDueDate(e,i);if(l===c)return this;n.setAttribute("title",c);const d=n.classList.value.split(" ").pop();n.classList.replace(d,o.classForDueDate(e,i)),r.innerText=a&&t&&t<e?"".concat(s.toDateString(t)," - ").concat(s.toDateString(e)):s.toDateString(e)}return this},updateCheckItemsEarliestDue(){const e=this.model.get("badges");if(!e)return this;const{checkItemsEarliestDue:t}=e,i=this.$(".js-checkitems-badge");return i&&(i.removeClass(((e,t)=>(t.match(/\bis-due-\S+/g)||[]).join(" "))),t&&i.addClass(o.classForDueDate(t,!1))),this},toggleDueDateComplete(e){if(!v.get("remarkable.card-front-due-complete-checkbox",!1))return;if(!this.model.editable())return;y.stop(e);const t=!this.model.get("dueComplete"),i=n.startTask({taskName:"edit-card",subTask:"dueComplete",source:"cardView"});return t&&(j(this.model.get("name"))||j(this.model.getList().get("name")))&&x({angle:p.random(55,125),spread:p.random(50,70),particleCount:p.random(40,75),origin:{x:e.pageX/window.innerWidth,y:e.pageY/window.innerHeight}}),this.model.update({dueComplete:t,traceId:i},r({taskName:"edit-card",subTask:"dueComplete",traceId:i,source:"cardView"},((e,t)=>{t&&n.sendUpdatedCardFieldEvent({field:"dueComplete",source:"cardView",attributes:{taskId:i},containers:{card:{id:t.id},list:{id:t.idList},board:{id:t.idBoard}}})})))},updateBadges(){if(v.get("remarkable.card-front-due-complete-checkbox",!1)){const e=this.model.previous("badges"),t=this.model.get("badges");if(e&&t){const i=Object.keys(e).filter((i=>!p.isEqual(t[i],e[i])));if(1===i.length&&i.includes("dueComplete"))return this.renderDueComplete()}}return this.renderBadges()},renderMembers(e){const t=(()=>{const e=[];for(let t=this.model.memberList.models.length-1;t>=0;t--){const i=this.model.memberList.models[t];e.push(this.getMemberOnCardHtml(i))}return e})();return this.$(".js-list-card-members").empty().append(t.join("")),this},labelsData(){return p.chain(this.model.getLabels()).sort(c.compare).map((e=>this.model.dataForLabel(e))).filter((e=>!p.isEmpty(e.color))).value()},renderLabels(){const e=(()=>{const e=[];for(const t of Array.from(this.labelsData())){const i=t;i.extraClasses=["mod-card-front"],e.push(m(i))}return e})();return this.$(".js-card-labels").empty().append(e),this}}},"./app/scripts/views/card/card-view-name-edit.js":function(e,t,i){const{getSeparatorClassName:n}=i("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts"),r=i("./app/scripts/views/templates/card_title_on_card_front.js"),a=i("./app/scripts/lib/util/index.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./app/scripts/views/card/quick-card-editor-view.js"),{track:l}=i("./packages/analytics/index.ts"),{featureFlagClient:c}=i("./packages/feature-flag-client/index.ts");e.exports.renderName=function(){const e=this.model.toJSON();c.get("wildcard.card-types-separator",!1)||(e.separatorClassName=n(e.name));const t=r(e);return this.$(".js-card-name").html(t),this},e.exports.openQuickCardEditor=function(e){if(!this.options.quickEditHidden&&this.model.editable())return a.stop(e),s.hide(),o.open(this),l("Card Front","Open Quick Card Editor",void 0,this.model.trackProperty()),this}},"./app/scripts/views/card/card-view-plugins.js":function(e,t,i){const{Analytics:n,tracingCallback:r}=i("./packages/atlassian-analytics/index.ts"),a=i("./app/scripts/view-models/member-state.js"),{track:s,trackUe:o,Noun:l,Verb:c}=i("./packages/analytics/index.ts"),d=i("./app/scripts/lib/util/sticker-clip.js"),u=i("./app/scripts/views/stickers/sticker-view.js"),p=i("./app/scripts/views/custom-field/custom-field-badges-view.js"),m=i("./app/scripts/views/plugin/plugin-badges-view.js"),h=i("./app/scripts/data/legacy-power-ups.js").cardAging;e.exports.addNewStickerToList=function(e,t,i,u){const p=n.startTask({taskName:"edit-card",subTask:"stickers",source:"cardView",attributes:{action:"added"}});let m=null!=e.id?e.id:e.get("image"),h=e.get("url"),g=e.get("scaled");const b=e.get("isGiphySticker");if(b){const t=a.getUseAnimatedStickers();t||(m=e.get("stillUrl"),h=e.get("stillUrl"),g=e.get("stillScaled")),o({category:l.CARD,verb:c.ADDS,directObj:l.GIPHY_STICKER,context:{useAnimatedStickers:t}})}s("Card","Sticker",m,this.model.trackProperty()),this.model.stickerList.createWithTracing({image:m,left:d(t),top:d(i),rotate:u,zIndex:this.model.stickerList.nextZIndex(),imageUrl:h,imageScaled:g,isGiphySticker:b},{modelCache:this.modelCache,traceId:p},r({taskName:"edit-card",subTask:"stickers",traceId:p,source:"cardView",attributes:{action:"added"}},((e,t)=>{if(t){const e=this.model;n.sendUpdatedCardFieldEvent({field:"stickers",source:"cardView",containers:{card:{id:e.id},board:{id:e.get("idBoard")},list:{id:e.get("idList")},organization:{id:e.get("idOrg")}},attributes:{taskId:p,image:m,imageUrl:h,isGiphySticker:b,useAnimatedStickers:a.getUseAnimatedStickers()}})}})))},e.exports.showStickers=function(){return!this.onCalendar},e.exports.renderStickers=function(e){if(!this.showStickers())return void this.$el.removeClass("is-stickered");const t=this.$(".js-stickers-area"),i=this.$(".js-card-stickers"),n=this.model.hasStickers(),r=this.model.editable();if(n){this.$el.addClass("is-stickered"),t.removeClass("hide");const e=this.model.stickerList.map((e=>this.subview(u,e,{canRemove:r&&e.id&&!this.options.quickEditHidden,fixedHeight:()=>this.$(".js-card-details").get(0).getBoundingClientRect().top-t.get(0).getBoundingClientRect().top,fixedWidth:()=>{const e=t.get(0).getBoundingClientRect(),i=this.$(".js-card-menu").get(0);if(i){return i.getBoundingClientRect().left-e.left}return this.$el.get(0).getBoundingClientRect().right-e.left},card:this.model},e.id||e.cid)));this.ensureSubviews(e,i),this.renderCover()}else this.$el.removeClass("is-stickered"),t.addClass("hide");return this},e.exports.renderCustomFieldItems=function(){const e=this.subview(p,this.model);return this.appendSubview(e,this.$(".js-custom-field-badges")),this},e.exports.renderPluginBadges=function(){const e=this.$(".js-plugin-badges");return this.ensureSubviews([this.subview(m,this.model)],e),this},e.exports.renderPowerUpEffects=function(){const e=this.model.getBoard();this.$el.removeClass(this.model.getAllAgingClasses());const t=this.model.getPluginDataByKey(h,"shared","evergreen",!1);if(e.isPowerUpEnabled("cardAging")&&!this.model.get("closed")&&!t&&!this.model.get("isTemplate")){const e=this.model.getAgingData();return this.$el.addClass(e.agingClassesToAdd)}},e.exports.moveToCalendarDay=function(e,t,i){i.getCardView(this.model).delegateEvents();const r=new Date(i.data.day),a=n.startTask({taskName:"edit-card",subTask:"due",source:"calendarViewScreen"});return this.model.changeDueDateMaintainTime(r,a,((e,t)=>{if(e)throw n.taskFailed({taskName:"edit-card",subTask:"due",traceId:a,source:"calendarViewScreen",error:e});n.sendUpdatedCardFieldEvent({field:"due",source:"calendarViewScreen",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:a}}),n.taskSucceeded({taskName:"edit-card",subTask:"due",traceId:a,source:"calendarViewScreen"})})),i.updateHeader(),i.renderCardsAndListHeaders()},e.exports.moveInCalendarDay=function(e,t,i){return i.getCardView(this.model).delegateEvents(),i.renderCardsAndListHeaders()},e.exports.renderDueComplete=function(){return this.$el.toggleClass("is-due-complete",this.model.get("dueComplete")),this.updateDueDate()}},"./app/scripts/views/card/card-view-templates.js":function(e,t){e.exports.isOnBoardTemplate=function(){return this.model.isOnBoardTemplate()}},"./app/scripts/views/card/card-view.js":function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s=i("./packages/jquery/index.js"),o=i("./app/scripts/db/auth.js"),l=i("./packages/browser/index.ts"),c=i("./app/scripts/views/label/card-label-select-view.js"),d=i("./app/scripts/views/card/card-member-select-view.js"),u=i("./app/scripts/views/card/card-view-helpers.js"),p=i("./app/scripts/views/card/card-view-mixins.js"),m=i("./app/scripts/controller/index.js"),h=i("./app/scripts/views/card/date-picker-view.js"),g=i("./app/scripts/lib/dates.js");i("./app/scripts/views/internal/data-transfer/drag-drop-events.js");const b=i("./app/scripts/views/lib/drag-sort.js"),{getKey:f,Key:v,registerShortcutHandler:k,Scope:y,unregisterShortcutHandler:w}=i("./packages/keybindings/index.ts"),{forTemplate:j}=i("./packages/i18n/index.ts"),{seesVersionedVariation:x}=i("./packages/feature-flag-client/index.ts"),C=i("./app/scripts/views/label/label-key-helper.js"),{LazyDateRangePicker:_}=i("./app/src/components/DateRangePicker/LazyDateRangePicker.tsx"),O=i("./app/scripts/views/internal/paste-input.js"),E=i("./app/scripts/views/lib/pop-over.js"),S=i("./node_modules/bluebird/js/browser/bluebird.js"),{repeatAction:T}=i("./app/scripts/lib/last-action/index.ts"),N=i("./node_modules/promise-queue/lib/index.js"),{TrelloStorage:P}=i("./packages/storage/index.ts"),I=i("./app/scripts/lib/util/index.js"),B=i("./app/scripts/views/internal/view.js"),D=i("./node_modules/underscore/underscore.js"),{Analytics:A,Apdex:L,tracingCallback:F}=i("./packages/atlassian-analytics/index.ts"),M=i("./app/scripts/debug/log.js"),V=i("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),R=i("./app/scripts/views/templates/card_in_list.js"),{currentModelManager:z}=i("./app/scripts/controller/currentModelManager.ts"),{renderName:U,openQuickCardEditor:H}=i("./app/scripts/views/card/card-view-name-edit.js"),{showCover:W}=i("./app/scripts/views/card/card-view-cover.js"),{labelClick:q,labelMouseEnter:$,labelMouseLeave:G}=i("./app/scripts/views/card/card-view-label.js"),{dragenter:K,dragleave:Z,dropFiles:J,dropUrl:Q}=i("./app/scripts/views/card/card-view-attachment.js"),{moveTo:Y,moveIn:X}=i("./app/scripts/views/card/card-view-lists.js");let{isOnBoardTemplate:ee}=i("./app/scripts/views/card/card-view-templates.js");const{addNewStickerToList:te,showStickers:ie,renderStickers:ne,renderCustomFieldItems:re,renderPluginBadges:ae,renderPowerUpEffects:se,moveToCalendarDay:oe,moveInCalendarDay:le,renderDueComplete:ce}=i("./app/scripts/views/card/card-view-plugins.js"),{featureFlagClient:de}=i("./packages/feature-flag-client/index.ts"),ue=i("./node_modules/react/index.js"),{renderComponent:pe}=i("./app/src/components/ComponentWrapper/index.ts"),{BoardCard:me}=i("./app/src/components/CardFronts/BoardCard.tsx"),{SeparatorCard:he}=i("./app/src/components/CardFronts/SeparatorCard.tsx"),{LinkCard:ge}=i("./app/src/components/CardFronts/LinkCard.tsx"),be=new N(1),fe=function(e){be.add((()=>new S((function(t){e.hookDroppable(),D.defer(t)}))))},ve=j("due_date_picker"),ke=["l","-","d","a","m","v","s"," ","0","1","2","3","4","5","6","7","8","9"];class ye extends B{static initClass(){D.extend(this.prototype,u,p),this.prototype.tagName=function(){const e=this.model.getCardRole();return e&&"mirror"!==e?"div":"a"},this.prototype.filterDeactivated=!0,this.prototype.applyBoardCardFilter=!0,this.prototype.trackApdex=!0,this.prototype.events={moveto:"moveTo",movein:"moveIn",moveToCalendarDay:"moveToCalendarDay",moveInCalendarDay:"moveInCalendarDay","click .js-open-quick-card-editor":"openQuickCardEditor","click .js-member-on-card-menu":"openMemberOnCardMenu","click .card-label.mod-card-front":"labelClick","click .js-due-date-badge":"toggleDueDateComplete",click:"handleClick",contextmenu(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||P.get("nocontext")))return this.openQuickCardEditor(e)},mouseenter(){return this.trigger("mouseEnterCardView")},mousemove(){return this.trigger("mouseMoveCardView")},mouseleave(){return this.trigger("mouseLeaveCardView")},"mouseenter .card-label.mod-card-front":"labelMouseEnter","mouseleave .card-label.mod-card-front":"labelMouseLeave","dd-enter:files":"dragenter","dd-leave:files":"dragleave","dd-drop:files":"dropFiles","dd-enter:url":"dragenter","dd-leave:url":"dragleave","dd-drop:url":"dropUrl","pasteinput:files":"dropFiles","pasteinput:url":"dropUrl"},this.prototype.isOnBoardTemplate=ee,this.prototype.addNewStickerToList=te,this.prototype.showStickers=ie,this.prototype.renderStickers=ne,this.prototype.renderName=U,this.prototype.renderCustomFieldItems=re,this.prototype.renderPluginBadges=ae,this.prototype.showCover=W,this.prototype.renderDueComplete=ce,this.prototype.renderPowerUpEffects=se,this.prototype.openQuickCardEditor=H,this.prototype.labelClick=q,this.prototype.labelMouseEnter=$,this.prototype.labelMouseLeave=G,this.prototype.moveToCalendarDay=oe,this.prototype.moveInCalendarDay=le,this.prototype.moveTo=Y,this.prototype.moveIn=X,this.prototype.dragenter=K,this.prototype.dragleave=Z,this.prototype.dropFiles=J,this.prototype.dropUrl=Q}constructor(e){super(e),a(this,"showDateRangePicker",(function(){const e=this.$(".js-card-menu");var t,i;if(e)return E.toggle({elem:e,getViewTitle:()=>ve("change-due-date"),keepEdits:!0,reactElement:ue.createElement(_,{due:this.model.get("due"),start:this.model.get("start"),dueReminder:this.model.get("dueReminder"),hidePopover:()=>E.hide(),idCard:this.model.id,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,idOrg:null===(i=this.model.getBoard())||void 0===i?void 0:i.get("idOrganization")})})})),this.onShortcut=this.onShortcut.bind(this);const t=500;this.throttledJoin=this.throttle(this.onJoin,t),this.throttledClose=this.throttle(this.onClose,t),this.throttledMoveToNextList=this.throttle(this.onMoveToNextList,t),this.throttledMoveToPrevList=this.throttle(this.onMoveToPrevList,t),this.throttledSubscribe=this.throttle(this.onSubscribe,t)}className(){const e="list-card js-member-droppable";if(we(this.model.getBoard(),(e=>e.getPref("cardCovers")))&&null!=this.model.get("cover")){const{size:t,brightness:i,color:n,idAttachment:r,idUploadedBackground:a,idPlugin:s}=this.model.get("cover");if((r||a||n||s)&&"full"===t&&this.shouldRenderFullCover()){const t="dark"===i?"full-cover-list-card-dark":"",r=n?"color-card-cover color-card-cover-".concat(n):"";return"".concat(e," full-cover-list-card ").concat(t," ").concat(r)}}return e}attributes(){if(we(this.model.getBoard(),(e=>e.getPref("cardCovers")))&&null!=this.model.get("cover")){const{size:e,idAttachment:t,idUploadedBackground:i,color:n,idPlugin:r}=this.model.get("cover");if((t||i||n||r)&&"full"===e&&this.shouldRenderFullCover()){const e=this.getFullCoverStylesForInitialRender();if(null!=e)return{style:e}}}return{}}initialize(){for(const e of["filterDeactivated","applyBoardCardFilter","trackApdex"])null!=this.options[e]&&(this[e]=this.options[e]);this.whenIdle("initialize_cardview_".concat(this.cid),(()=>{this.render(),this.makeDebouncedMethods("render","renderName","renderLabels","renderCover","renderFiltered","renderPowerUpEffects","renderStickers","renderBadges","renderDueComplete","renderCustomFieldItems","updateDateBadges","updateBadges"),this.listenTo(this.model,{"change:cardRole":this.render,"change:name":()=>{this.model.get("cardRole")?this.render():this.renderNameDebounced()},"change:labels":this.renderLabelsDebounced,"change:idAttachmentCover change:cover":this.renderCoverDebounced,"change:name change:labels change:idLabels change:due change:start change:dueComplete":this.renderFilteredDebounced,"change:due change:start change:badges":this.updateRenderIntervalSubscription,"change:dueComplete":this.renderDueComplete,"change:dateLastActivity":()=>(this.renderCoverDebounced(),this.renderPowerUpEffectsDebounced()),"change:due change:start change:subscribed change:isTemplate":this.renderBadgesDebounced,"change:badges":this.updateBadgesDebounced,keyboardMove:this.scrollIntoView}),this.listenTo(this.model.customFieldItemList,"add remove reset change",this.frameDebounce((function(){return this.renderCustomFieldItems(),this.renderFiltered()}))),this.listenTo(this.modelCache,"add:Notification remove:Notification change:Notification",this.renderBadgesDebounced),this.listenTo(this.model.memberList,"change:initials change:avatarUrl change:avatarSource change:fullName change:username",this.renderMembers),this.listenTo(this.model.memberList,"add remove reset",this.frameDebounce((function(){return this.renderMembers(),this.renderFiltered()}))),this.listenTo(this.model.labelList,"add remove reset change",this.renderLabelsDebounced),this.listenTo(this.model.stickerList,{"add remove reset change sort":this.renderStickersDebounced});const e=this.model.getBoard();return this.listenTo(e,"change:powerUps change:prefs.cardAging",this.renderPowerUpEffectsDebounced),this.subscribe(V(e,this.model),(()=>(this.renderCoverDebounced(),this.renderPowerUpEffectsDebounced()))),this.listenTo(e.filter,"change",this.renderFilteredDebounced),this.listenTo(e,"change:labels",this.renderLabelsDebounced),this.listenTo(e,"change:memberships",this.renderMembers),this.listenTo(e,"change:prefs.hideVotes",this.renderBadgesDebounced),this.listenTo(e,"change:prefs.cardCovers",(()=>{this.renderCoverDebounced(),"link"===this.model.get("cardRole")&&de.get("wildcard.link-cards",!1)&&this.render()})),this.listenTo(e.customFieldList,"add remove reset change",this.renderCustomFieldItemsDebounced),this.listenTo(e.boardPluginList,"add remove reset change",(()=>(this.renderCustomFieldItemsDebounced(),this.renderBadgesDebounced()))),this.listenTo(e.viewState,"active-card-changed",this.renderActiveState),this.listenTo(e,"permChange",this.render),this.listenTo(this,"mouseEnterCardView",(function(){return fe(this)})),this.updateRenderIntervalSubscription()}))}shouldRenderFullCover(){return!0}renderActiveState(){if(null==this.$el)return;const e=we(this.model.getBoard(),(e=>e.viewState.isCardSelected(this.model)));this.$el.toggleClass("active-card",e),e?(O.addHandler(this,{scope:"card"}),k(this.onShortcut,{scope:y.Card})):(O.removeHandler(this),w(this.onShortcut,{scope:y.Card}))}remove(){return w(this.onShortcut),super.remove(...arguments)}onClose(e,t,i){if(i){const i=A.startTask({taskName:"edit-card",subTask:"closed",source:"cardView"});this.model.close(i,((e,t)=>{if(e)throw A.taskFailed({taskName:"edit-card",subTask:"closed",traceId:i,source:"cardView",error:e});A.sendUpdatedCardFieldEvent({field:"closed",source:"cardView",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:i}}),A.taskSucceeded({taskName:"edit-card",subTask:"closed",traceId:i,source:"cardView"})})),e.preventDefault(),t("archiveCardShortcut")}}onMoveToNextList(e,t,i,n,r){n&&!r&&(this.model.moveToNextList(t===v.AngleRight?"top":"bottom"),e.preventDefault(),i("moveToNextListShortcut"))}onMoveToPrevList(e,t,i,n,r){n&&!r&&(this.model.moveToPrevList(t===v.AngleLeft?"top":"bottom"),e.preventDefault(),i("moveToPreviousListShortcut"))}handleClick(e){this.model.getCardRole()||this.showDetail(e)}onSubscribe(e,t,i){if(i&&!this.isOnBoardTemplate()){const i=A.startTask({taskName:"edit-card",subTask:"subscribed",source:"cardView"}),n=this.model.get("subscribed");this.model.subscribeWithTracing(!n,i,F({taskName:"edit-card",subTask:"subscribed",source:"cardView",traceId:i},((e,t)=>{t&&A.sendUpdatedCardFieldEvent({field:"subscribed",source:"cardView",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:i}})}))),e.preventDefault(),t("subscribeShortcut",{toggleValue:n?"unsubscribe":"subscribe"})}}onJoin(e,t,i){const n=this.model.getBoard();if(ee=this.isOnBoardTemplate(),i&&!ee&&(n.hasActiveMembership(o.me())||n.isEditableByTeamMemberAndIsNotABoardMember())){n.isEditableByTeamMemberAndIsNotABoardMember()&&n.optimisticJoinBoard();const e="cardView",t=A.startTask({taskName:"edit-card",subTask:"idMembers",source:e});this.model.toggleMemberWithTracing(o.myId(),{traceId:t},F({taskName:"edit-card",subTask:"idMembers",traceId:t,source:e},((i,n)=>{n&&A.sendUpdatedCardFieldEvent({field:"idMembers",source:e,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:t}})})))}e.preventDefault(),t("assignSelfShortcut",{shortcutKey:"Space",toggleValue:this.model.hasMember(o.myId())?"add":"remove"})}onShortcut(e){if(m.showingBoardOverlay())return;const t=o.isLoggedIn(),i=this.model.editable(),n=!!this.model.get("isTemplate"),{onCalendar:r}=this,a=f(e);if(this.model.getCardRole()&&ke.includes(a))return;const s=(e,{shortcutKey:t=a,toggleValue:i}={})=>{A.sendPressedShortcutEvent({shortcutName:e,source:"cardView",keyValue:t,containers:this.model.getAnalyticsContainers(),attributes:{toggleValue:void 0!==i?i.toLowerCase():void 0}})};switch(a){case v.Enter:return this.showDetail(),e.preventDefault(),void s("openCardShortcut");case v.e:return this.openQuickCardEditor(),e.preventDefault(),void s("quickCardEditorShortcut");case v.t:return m.showCardDetail(this.model,{runMethod:"editTitle",method:"via the T shortcut from card front"}),e.preventDefault(),void s("openCardAndEditTitleShortcut");case v.Dash:return m.showCardDetail(this.model,{runMethod:"onChecklistShortcut",method:"via the dash shortcut from card front"}),e.preventDefault(),void s("addChecklistShortcut");case v.d:if(i&&!n){x("ecosystem.timeline-version","stable")?this.showDateRangePicker():this.showPopOver(h,{trackingCategory:"keyboard shortcut"}),e.preventDefault(),s("dueDatesShortcut")}return;case v.l:return void(i&&(this.showPopOver(c,{hideOnSelect:!1}),e.preventDefault(),s("editLabelsShortcut")));case v.Zero:case v.One:case v.Two:case v.Three:case v.Four:case v.Five:case v.Six:case v.Seven:case v.Eight:case v.Nine:if(i){let t=!0;const i=e=>(t=!1,this.showPopOver(c,{searchInit:e,hideOnSelect:!0}));C.setLabelFromKey(a,this.model,i),e.preventDefault();let n="showLabelsPopover";if(t){const e=C.colorForKey(a);n=this.model.hasLabel(e)?"add":"remove"}s("toggleLabelShortcut",{toggleValue:n})}return;case v.a:case v.m:return void(i&&!this.isOnBoardTemplate()&&(this.showPopOver(d),e.preventDefault(),s("assignMembersShortcut")));case v.Space:return void this.throttledJoin(e,s,i);case v.c:return void this.throttledClose(e,s,i);case v.AngleRight:case v.Period:return void this.throttledMoveToNextList(e,a,s,i,r);case v.AngleLeft:case v.Comma:return void this.throttledMoveToPrevList(e,a,s,i,r);case v.v:return void(t&&!n&&this.model.getBoard().canVote(o.me())&&(this.model.toggleVote(),e.preventDefault(),s("voteShortcut",{toggleValue:this.model.voted()?"vote":"unvote"})));case v.s:return void this.throttledSubscribe(e,s,t);case v.r:return i?(e.preventDefault(),this.waitForId(this.model,(()=>{T({source:"cardView",idBoard:this.model.getBoard().id,idCard:this.model.id}),s("repeatActionShortcut")}))):void 0;default:return}}showPopOver(e,t){return null==t&&(t={}),E.toggle({elem:this.$(".js-card-menu"),view:e,options:D.extend({model:this.model,modelCache:this.modelCache,hideOnSelect:!0},t)})}render(){M("render","rendering card ".concat(this.model.get("name")));const e=this.model.toJSON(),t=this.model.getCardRole();if("separator"===t)this.unmountReactCard=pe(ue.createElement(he,{openEditor:e=>{e.preventDefault(),this.openQuickCardEditor()},isEditable:this.model.editable(),analyticsContainers:this.model.getAnalyticsContainers()}),this.el);else if("board"===t)this.unmountReactCard=pe(ue.createElement(me,{openEditor:e=>{e.preventDefault(),this.openQuickCardEditor()},boardUrl:e.name,isEditable:this.model.editable(),analyticsContainers:this.model.getAnalyticsContainers()}),this.el);else if("link"===t&&/^https?:\/\/\S+$/.test(this.model.get("name"))){var i;const t=null===(i=this.model.getBoard())||void 0===i?void 0:i.getPref("cardCovers");this.unmountReactCard=pe(ue.createElement(ge,{openEditor:e=>{e.preventDefault(),this.openQuickCardEditor()},url:e.name,hideCover:!t,isEditable:this.model.editable()&&!this.options.quickEditHidden,analyticsContainers:this.model.getAnalyticsContainers()}),this.el)}else{this.unmountReactCard&&this.unmountReactCard(),e.showCover=this.showCover(),e.showEditor=this.model.editable()&&!this.options.hideMenu,this.model.hasStickers()&&(e.hasStickers=!0),e.labels=this.labelsData();const t=this.model.getBoard();e.members=[];for(let i=this.model.memberList.models.length-1;i>=0;i--){const n=this.model.memberList.models[i],r=n.toJSON();r.isVirtual=we(t.getOrganization(),(e=>e.isVirtual(n)))||t.isVirtual(n),r.isDeactivated=t.isDeactivated(n),e.members.push(r)}e.cover=this.model.get("cover"),this.model.get("idAttachmentCover")&&(e.attachmentCoverUrl=we(this.model.attachmentList.get(this.model.get("idAttachmentCover")),(e=>e.get("url")))),e.hideCover=!this.model.getBoard().getPref("cardCovers")||this.onCalendar,e.hasCover=this.model.hasCover(),this.$el.toggleClass("js-archive-card",this.model.get("closed")),this.showCover()&&this.model.hasCover()&&this.$el.addClass("is-covered"),this.model.hasStickers()&&this.$el.addClass("is-stickered"),this.$el.html(R(e)),this.renderName(),this.renderBadges(),this.renderCustomFieldItems(),this.renderDueComplete(),this.whenIdle("render_".concat(this.cid),(()=>(this.renderPluginBadges(),this.renderActiveState(),this.renderCover(),this.renderStickers(),this.renderPowerUpEffects(),this.waitForId(this.model,(()=>this.renderLink())),this._droppableHookedSinceRender=!1,fe(this))))}return this.renderFiltered(),this}hookDroppable(){if(!l.isTouch()&&null!=this.$el&&!this._droppableHookedSinceRender&&(this._droppableHookedSinceRender=!0,!l.isTouch())){const e=this.throttle((()=>s(".board-canvas")[0].getBoundingClientRect()),100,{trailing:!1});this.$el.droppable({refreshPositions:!0,inBounds(t){const i=e();return i.left<=t.pageX&&t.pageX<i.right&&i.top<=t.pageY&&t.pageY<i.bottom},accept:e=>{return!!e.is(".js-list-draggable-board-members .member")||!(!e.is(".js-draggable-sticker")||this.model.getCardRole())&&(t=this.model,i="isOverLimit",n=e=>e.isOverLimit("stickers","perCard"),!(null!=t&&"function"==typeof t[i]?n(t,i):void 0));var t,i,n},hoverClass:"active-card",drop:(e,t)=>{if(t.draggable.hasClass("member")){const e=t.draggable.data("id");if(!this.model.memberList.detect((t=>t.id===e))){const t="cardView",i=A.startTask({taskName:"edit-card",subTask:"idMembers",source:t});this.model.addMemberWithTracing(e,i,F({taskName:"edit-card",subTask:"idMembers",traceId:i,source:t},((e,n)=>{n&&A.sendUpdatedCardFieldEvent({field:"idMembers",source:t,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:i}})})))}}else if(t.draggable.hasClass("js-draggable-sticker")){let e,i,n,r;const a=t.draggable.data("sticker"),s=e=i=1,o=t.helper.offset(),l={top:this.$el.offset().top+s,left:this.$el.offset().left+e},c=this.$el.outerWidth()-e-i,d=o.left-l.left,u=o.top-l.top,p=d/c*100,m=this.$(".js-card-stickers").height();r=this.$el.hasClass("is-stickered")||this.$el.hasClass("is-covered")?u/m*100:0,r>m&&(r=m);const h=I.getElemTransformMatrix(t.helper.find(".sticker-select-fixed"));n=null!=h?I.getMatrixDegrees(h)%360:0,this.addNewStickerToList(a,p,r,n)}}})}}renderLink(){const e=this.model.getCardRole();if(e&&"mirror"!==e)return;const t=m.getCardUrl(this.model);return this.$el.attr("href",t),this}renderFiltered(e){if(null!=this.options.dontFilter)return;null==this._visible&&(this._visible=!0);const t=this.model.getBoard(),i=null==t||!z.onBoardView(t.id)||!this.applyBoardCardFilter||t.filter.satisfiesFilter(this.model);return this._visible!==i&&(this.$el.toggleClass("hide",!i).height(i?"":0),this._visible=i),this}showDetail(e){if(e&&(e.ctrlKey||e.metaKey||e.shiftKey))return;if(I.stop(e),b.sorting)return;const t={taskName:"view-card",source:"boardScreen"},i=A.startTask(t);return this.options.trackEvent&&this.options.trackEvent(),this.trackApdex&&L.start({task:"cardFromBoard",taskId:this.model.id}),m.showCardDetail(this.model,{runMethod:this.model.shouldSuggestDescription()?"expandDesc":void 0,method:"from card front",onSuccess:()=>{A.taskSucceeded(r(r({},t),{},{traceId:i}))},onFail:e=>{A.taskFailed(r(r({},t),{},{traceId:i,error:e}))},onAbort:e=>{A.taskAborted(r(r({},t),{},{traceId:i,error:e}))}}),this.trackApdex?L.stop({task:"cardFromBoard",taskId:this.model.id}):void 0}scrollIntoView(){const e=this.$el.closest("#board"),t=this.$el.closest(".js-list"),i=t[0].getBoundingClientRect(),n=i.left+i.width-window.innerWidth;return this.$el.closest(".js-list-cards").scrollTop(this.$el.position().top),i.left<0?e.animate({scrollLeft:t.position().left},150):n>0?e.animate({scrollLeft:e.scrollLeft()+n},150):void 0}updateRenderIntervalSubscription(){if(!(this.model.get("due")||this.advancedChecklistsV2Enabled&&we(this.model.get("badges"),(e=>e.checkItemsEarliestDue))))return this.stopListening(g,"renderInterval",this.updateDateBadgesDebounced);this.listenTo(g,"renderInterval",this.updateDateBadgesDebounced)}}function we(e,t){return null!=e?t(e):void 0}ye.initClass(),e.exports=ye},"./app/scripts/views/card/chunkArray.ts":function(e,t,i){"use strict";function n(e,t){if(!e.length||t<1)return[];const i=new Array(Math.ceil(e.length/t));for(let n=0;n<i.length;n++)i[n]=e.slice(n*t,n*t+t);return i}i.r(t),i.d(t,"chunkArray",(function(){return n}))},"./app/scripts/views/card/date-picker-view.js":function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const{importWithRetry:s}=i("./packages/use-lazy-component/index.ts"),{Analytics:o}=i("./packages/atlassian-analytics/index.ts"),l=i("./app/scripts/db/auth.js"),c=i("./app/scripts/views/lib/alerts.js"),d=i("./app/scripts/views/lib/pop-over.js"),u=i("./app/scripts/views/internal/view.js"),p=i("./app/scripts/views/templates/date_picker.js"),{track:m,trackUe:h}=i("./packages/analytics/index.ts"),{sendPluginTrackEvent:g}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),b=i("./node_modules/moment/moment.js"),{TrelloStorage:f}=i("./packages/storage/index.ts"),v=i("./app/scripts/lib/localize.js"),{dontUpsell:k}=i("./packages/browser/index.ts"),y=i("./app/scripts/data/legacy-power-ups.js").calendar,w="LT",j=[w,"h:mm A"],x=()=>[{name:"no",text:v("due-date-custom-reminder.none"),value:-1},{name:"at time of due date",text:v("due-date-custom-reminder.at-time-of-due-date"),value:0},{name:"5 minutes before",text:v("due-date-custom-reminder.5-minutes-before"),value:5},{name:"10 minutes before",text:v("due-date-custom-reminder.10-minutes-before"),value:10},{name:"15 minutes before",text:v("due-date-custom-reminder.15-minutes-before"),value:15},{name:"1 hour before",text:v("due-date-custom-reminder.1-hour-before"),value:60},{name:"2 hours before",text:v("due-date-custom-reminder.2-hours-before"),value:120},{name:"1 day before",text:v("due-date-custom-reminder.1-day-before"),default:!0,value:1440},{name:"2 days before",text:v("due-date-custom-reminder.2-days-before"),value:2880}],C=()=>x().find((e=>e.default)).value;class _ extends u{static initClass(){this.prototype.viewTitleKey="change due date",this.prototype.tagName="form",this.prototype.className="dpicker-widget u-clearfix",this.prototype.events={"click .js-remove-date":"removeDueDate","input .js-dpicker-time-input":"validateTimeInput","change .js-dpicker-time-input":"normalizeTimeInput",'click a[href="/business-class"]':()=>m("Card Detail","Click Business Class Link","Date Picker PopOver"),submit:"onSaveClickHandler","click .js-enable-calendar-powerup"(e){return e.preventDefault(),this.enableCalendarPowerUp()}},this.prototype.vigor=this.VIGOR.NONE}constructor(e){super(e),this.setDueDate=this.setDueDate.bind(this),this.onSaveClickHandler=this.onSaveClickHandler.bind(this)}initialize(){return this.listenTo(this.model.getBoard(),"change:powerUps",this.renderCalendarPowerUp),this.trackViewed(),this.loadPikadayLibrary()}loadPikadayLibrary(){return null!=this.pikadayLoadPromise?this.pikadayLoadPromise:this.pikadayLoadPromise=s((()=>i.e(152).then(i.t.bind(null,"./node_modules/pikaday/pikaday.js",7)))).then((e=>e.default)).then((e=>this.Pikaday=e))}getSelectedDueDateMoment(){const e=this.picker.getMoment();if(!e.isValid())return null;e.year()<1e3&&e.add(2e3,"years");const t=this.selectedTimeMoment();return e.hour(t.hour()).minute(t.minute())}submitDueDate(e,t){return null!=e?this.setDueDate(e.toDate(),t):this.removeDueDate()}setDueDate(e,t){this.trackSetDueDate(e,t),_.lastDueDate=e,f.set("lastDueDateReminder_".concat(l.myId()),t);const i={due:O(this.model.getDueDate(),(e=>e.getTime()))||null,dueReminder:this.model.get("dueReminder")||-1},n={due:e.getTime(),dueReminder:t};if(!((null==i?void 0:i.due)===n.due&&(null==i?void 0:i.dueReminder)===n.dueReminder)){const e=o.startTask({taskName:"edit-card",subTask:"due",source:"datePickerInlineDialog"}),t=r(r({},n),{},{traceId:e});this.model.setDueDate(t,((t,i)=>{if(t)throw o.taskFailed({taskName:"edit-card",subTask:"due",traceId:e,source:"datePickerInlineDialog",error:t});o.sendUpdatedCardFieldEvent({field:"due",source:"datePickerInlineDialog",containers:{card:{id:i.id},board:{id:i.idBoard},list:{id:i.idList}},attributes:{taskId:e}}),o.taskSucceeded({taskName:"edit-card",subTask:"due",traceId:e,source:"datePickerInlineDialog"})}))}d.hide()}removeDueDate(){if(this.trackRemoveDueDate(),this.model.get("due")){const e=o.startTask({taskName:"edit-card",subTask:"due",source:"datePickerInlineDialog"});this.model.setDueDate({due:null,dueReminder:-1,traceId:e},((t,i)=>{if(t)throw o.taskFailed({taskName:"edit-card",subTask:"due",traceId:e,source:"datePickerInlineDialog",error:t});o.sendUpdatedCardFieldEvent({field:"due",source:"datePickerInlineDialog",containers:{card:{id:i.id},board:{id:i.idBoard},list:{id:i.idList}},attributes:{taskId:e}}),o.taskSucceeded({taskName:"edit-card",subTask:"due",traceId:e,source:"datePickerInlineDialog"})}))}return d.hide()}trackSetDueDate(e,t){null==t&&(t=C());const i=this.options.trackingCategory,n=this.trackingContext();let r="on card";const a=x().find((e=>e.value===t)).name;r="with ".concat(a," custom notification");const s=null==this.model.getDueDate()?"that did not have a due date":O(this.model.getDueDate(),(e=>e.getTime()))===e.getTime()?"that had the same due date":"that had a different due date";h(i,"saves","due date",r,s,"by clicking save button in the due date popover",n);const l=this.model.getBoard();return o.sendTrackEvent({action:"set",actionSubject:"dueDate",containers:{card:{id:this.model.id},board:{id:l.id},organization:{id:l.get("idOrganization")}},source:"datePickerInlineDialog",attributes:{trackingCategory:this.options.trackingCategory}})}trackRemoveDueDate(){const e=this.options.trackingCategory,t=this.trackingContext();h(e,"removes","due date","from card","","by clicking remove button in the due date popover",t);const i=this.model.getBoard();return o.sendTrackEvent({action:"removed",actionSubject:"dueDate",containers:{card:{id:this.model.id},board:{id:i.id},organization:{id:i.get("idOrganization")}},source:"datePickerInlineDialog",attributes:{trackingCategory:this.options.trackingCategory}})}trackViewed(){const e=this.model.getBoard();return o.sendScreenEvent({name:"datePickerInlineDialog",containers:{card:{id:this.model.id},board:{id:e.id},organization:{id:e.get("idOrganization")}},attributes:{trackingCategory:this.options.trackingCategory}})}trackingContext(){return{cardId:this.model.id,boardId:O(this.model.getBoard(),(e=>e.id)),teamId:O(O(this.model.getBoard(),(e=>e.getOrganization())),(e=>e.id))}}renderCalendarPowerUp(){const e=this.$(".js-cal-enabled").addClass("hide"),t=this.$(".js-enable-cal").addClass("hide"),i=this.model.getBoard(),n=i.isPowerUpEnabled("calendar"),r=i.owned()&&!n;n?e.removeClass("hide"):r&&t.removeClass("hide")}getSelectReminderSetting(){const e=this.model.get("dueReminder"),t=null!=e?e:f.get("lastDueDateReminder_".concat(l.myId()));return null!=t?t:C()}renderOnce(){let e,t;const i=this.model.getBoard(),n=b().add(1,"days").toDate(),r=null!=(e=null!=(t=this.model.getDueDate())?t:_.lastDueDate)?e:n;return this.$el.html(p({canChangePowerUps:i.owned(),canEnableAdditionalPowerUps:i.canEnableAdditionalPowerUps(),upsellEnabled:!k(),customReminderSettings:x(),selectedReminderSetting:this.getSelectReminderSetting()})),this.loadPikadayLibrary().then((()=>(this.picker=new this.Pikaday({field:this.$(".js-dpicker-date-input")[0],container:this.$(".js-dpicker-cal")[0],bound:!1,format:"l",firstDay:b.localeData().firstDayOfWeek(),i18n:{previousMonth:v("prev month button text"),nextMonth:v("next month button text"),months:b.months(),weekdays:b.weekdays(),weekdaysShort:b.weekdaysMin()},keyboardInput:!1}),this.picker.setDate(r),this.$timeInput().val(b(r).format(w)),this.renderCalendarPowerUp()))),this}validateTimeInput(){return this.$timeInput().toggleClass("input-error",!this.isTimeInputValid())}normalizeTimeInput(){return this.$timeInput().val(this.selectedTimeMoment().format(w)),this.validateTimeInput()}selectedTimeMoment(){return this.isTimeInputValid()?b(this.$timeInput().val(),j):b().hours(12).minutes(0)}$timeInput(){return this.$(".js-dpicker-time-input")}isTimeInputValid(){return e=this.$timeInput().val(),b(e,j).isValid();var e}enableCalendarPowerUp(){const e={pluginId:y,pluginName:"calendar",installSource:"datePickerInlineDialog"},t=o.startTask({taskName:"enable-plugin",source:"datePickerInlineDialog"});this.model.getBoard().enablePluginWithTracing(y,{traceId:t,taskName:"enable-plugin",attributes:e,source:"datePickerInlineDialog",next:i=>{if(i){const n=i.serverMessage;o.taskAborted({traceId:t,taskName:"enable-plugin",source:"datePickerInlineDialog",error:new Error(n)});const r=o.startTask({taskName:"disable-plugin",source:"datePickerInlineDialog",attributes:e});this.model.getBoard().disablePluginWithTracing(y,{traceId:r,taskName:"disable-plugin",source:"datePickerInlineDialog",attributes:e,next:e=>{var t;e||g({idPlugin:y,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,event:{action:"disabled",actionSubject:"powerUp",source:"datePickerInlineDialog"},attributes:{taskId:r}})}}),"PLUGIN_NOT_ALLOWED"===n?c.show("plugin not allowed","error","addpluginerror",4e3):c.show("could not add plugin","error","addpluginerror",2e3)}else{var n;g({idPlugin:y,idBoard:null===(n=this.model.getBoard())||void 0===n?void 0:n.id,event:{action:"added",actionSubject:"powerUp",source:"datePickerInlineDialog"},attributes:{taskId:t}}),m("Card Detail","Enable Calendar via Due Date Menu"),h("card detail","enables","Power-Up","","","due date",y)}}})}onSaveClickHandler(e){e.preventDefault();const t=this.getSelectedDueDateMoment(),i=parseInt(this.$(".js-custom-reminder").val(),10),n=isNaN(i)?C():i;return this.submitDueDate(t,n)}}function O(e,t){return null!=e?t(e):void 0}_.initClass(),e.exports=_},"./app/scripts/views/card/quick-card-editor-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{Analytics:r,getScreenFromUrl:a}=i("./packages/atlassian-analytics/index.ts"),s=i("./app/scripts/views/card/card-copy-view.js"),o=i("./app/scripts/views/label/card-label-select-view.js"),l=i("./app/scripts/views/card/card-member-select-view.js"),c=i("./app/scripts/views/card/card-move-view.js"),d=i("./app/scripts/views/card/card-view-helpers.js"),u=i("./app/scripts/views/card/card-view-mixins.js"),p=i("./app/scripts/views/card/date-picker-view.js"),{getKey:m,Key:h,registerShortcutHandler:g,Scope:b,unregisterShortcutHandler:f}=i("./packages/keybindings/index.ts"),{forTemplate:v}=i("./packages/i18n/index.ts"),{LazyDateRangePicker:k}=i("./app/src/components/DateRangePicker/LazyDateRangePicker.tsx"),{defaultRouter:y}=i("./app/src/router/index.ts"),w=i("./app/scripts/views/lib/pop-over.js"),j=i("./app/scripts/views/stickers/sticker-edit-view.js"),x=i("./app/scripts/lib/util/index.js"),C=i("./app/scripts/views/internal/view.js"),_=i("./node_modules/underscore/underscore.js"),O=i("./app/scripts/views/internal/templates.js"),{track:E}=i("./packages/analytics/index.ts"),{seesVersionedVariation:S}=i("./packages/feature-flag-client/index.ts"),{trackSeparator:T}=i("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts"),N=i("./node_modules/react/index.js"),{renderComponent:P}=i("./app/src/components/ComponentWrapper/index.ts"),{ConvertCardRoleButton:I}=i("./app/src/components/QuickCardEditor/index.ts"),{renderDueComplete:B}=i("./app/scripts/views/card/card-view-plugins.js"),{getCardUrl:D}=i("./app/scripts/controller/urls.js"),{toggleCardCoverChooserPopover:A}=i("./app/scripts/views/card/card-cover-chooser-popover.tsx"),L=v("due_date_picker");function F(e){const{traceId:t,subTask:i,field:n}=e;return(e,a)=>{if(e)throw r.taskFailed({taskName:"edit-card",subTask:i,traceId:t,source:"quickCardEditorInlineDialog",error:e});r.sendUpdatedCardFieldEvent({field:n,source:"quickCardEditorInlineDialog",containers:{card:{id:a.id},board:{id:a.idBoard},list:{id:a.idList}},attributes:{taskId:t}}),r.taskSucceeded({taskName:"edit-card",subTask:i,traceId:t,source:"quickCardEditorInlineDialog"})}}class M extends C{static initClass(){this.prototype.className="quick-card-editor",this.prototype.isMouseDownOnOverlay=!1,this.prototype.renderDueComplete=B,this.prototype.events={"keydown .js-edit-card-title":"quickCardEditKeydown","click .js-save-edits":"saveEdits","click .js-stop":"stopCard","click .js-edit-labels":"editLabels","click .js-edit-members":"editMembers","click .js-edit-cover":"editCover","click .js-move-card":"moveCard","click .js-copy-card":"copyCard","click .js-edit-due-date":"editDueDate","click .js-archive":"archive","click .js-due-date-badge":"toggleDueDateComplete",click:"checkCloseEditor","click .js-close-editor":"closeEditor",mousedown:"mousedownOnOverlay"}}constructor(e){super(e),this.onShortcut=this.onShortcut.bind(this),g(this.onShortcut,{scope:b.Overlay})}static open(e){this.close();const{$el:t}=e,i=t.offset(),n={width:t.width(),left:i.left,top:i.top,onMap:e.onMap};return r.sendScreenEvent({name:"quickCardEditorInlineDialog",attributes:{view:a()}}),this.current=new M({model:e.model,modelCache:e.modelCache,onRemove:()=>{this.current=null}}).render(n)}static close(){return null!=this.current&&this.current.closeEditor(),this.current=null}initialize(){return this.makeDebouncedMethods("render","renderStickers","renderLabels","renderCover","renderBadges","updateBadges","rerender"),this.unsubscribeFromRouter=y.subscribe(this.onRouteChanged.bind(this)),this.routeWhenOpened=y.getRoute().routePath,this.listenTo(this.model,{"change:labels":this.renderLabelsDebounced,"change:idLabels":this.renderLabelsDebounced,"change:idAttachmentCover":this.renderCoverDebounced,"change:cover":this.renderCoverDebounced,"change:dueComplete":this.renderDueComplete,"change:due change:subscribed change:isTemplate":this.renderBadgesDebounced,"change:badges":this.updateBadgesDebounced,"change:cardRole":this.rerenderDebounced}),this.listenTo(this.model.labelList,"add remove reset change",(()=>this.renderLabelsDebounced())),this.listenTo(this.model.memberList,"add remove reset",this.frameDebounce(this.renderMembers)),this.listenTo(this.model.stickerList,"add remove reset change sort",(function(){return this.renderStickersDebounced()}))}shouldRenderFullCover(){return!1}onRouteChanged(e){if(e.routePath!==this.routeWhenOpened)return this.closeEditor()}remove(){var e,t;return this.unsubscribeFromRouter(),f(this.onShortcut),null===(e=(t=this.options).onRemove)||void 0===e||e.call(t),super.remove(...arguments)}showCover(){return this.model.getBoard().getPref("cardCovers")&&this.model.hasCover()}showStickers(){return!0}onShortcut(e){switch(m(e)){case h.Escape:return this.closeEditor(),E("Keyboard Shortcuts","Esc - Close Quick Card Editor","Quick Card Editor"),e.preventDefault();case h.Enter:return this.saveEdits(),E("Keyboard Shortcuts","Enter - Save Quick Card Edits","Quick Card Editor"),e.preventDefault()}}render(e){this.opts=e;const t=this.model.toJSON();t.labels=this.model.getLabels(),t.showCover=this.showCover(),t.hasStickers=this.model.hasStickers(),t.cardUrl=D(this.model),t.quickEdit=!0,t.members=[],t.isTemplate=this.model.isOnBoardTemplate(),t.isCardTemplate=!!this.model.get("isTemplate"),t.cardRole=this.model.getCardRole(),t.left=this.cLeft=e.left,t.top=this.cTop=e.top,t.width=this.cWidth=e.width;const r=this.cWidth+this.cLeft+160,a=n(window).width();return e.onMap&&(t.top=t.top-20),r>a&&(t.leftButtons=!0,this._usingLeftButtons=!0),this.$el.html(O.fill(i("./app/scripts/views/templates/quick_card_editor.js"),t,{})),this.renderStickers().renderCover().renderLabels().renderBadges().renderMembers().checkShowCover(),this.renderDueComplete(),n("#chrome-container").append(this.$el),this.calcHeight(),this.focusInput(),this.defer((()=>this.$(".quick-card-editor-buttons").addClass("fade-in"))),this.$(".js-edit-card-title").autosize(),P(N.createElement(I,{idCard:this.model.get("id"),onLoad:()=>this.calcHeight(),analyticsContainers:this.model.getAnalyticsContainers()}),this.$("#convert-card-role-button-react-root")[0]),this}rerender(){this.render(this.opts)}calcHeight(){let e;const t=n(window).height(),i=this.$(".quick-card-editor-card").outerHeight();this.cTop+i>t&&(e=t-i-8,this.$(".quick-card-editor-card").css({top:e}));const r=this.$(".quick-card-editor-buttons"),a=r.outerHeight();a+r.offset().top>t&&r.css({top:i-a})}renderStickers(){if(this.$(".sticker.moving, .sticker.rotating").length>0)return this;const e=this.$(".js-card-stickers").empty(),t=Array.from(this.model.stickerList.models).map((e=>this.subview(j,e,{card:this.model})));return this.appendSubviews(t,e),this.$(".list-card").toggleClass("is-stickered",this.model.hasStickers()),this}checkShowCover(){return this.$(".list-card").toggleClass("is-covered",this.showCover()).toggleClass("is-stickered",this.model.hasStickers()),this}focusInput(){return this.$(".js-edit-card-title").focus().select()}showPopOver(e,t,i,r){null==r&&(r={}),x.stop(e),w.toggle({elem:n(e.target).closest("a"),view:new t(_.extend({model:this.model,modelCache:this.modelCache},r)),alignRight:this._usingLeftButtons}),E("Quick Card Editor",i,void 0,this.model.trackProperty())}showDateRangePicker(e){var t,i;if(this.$(".js-card-menu"))return w.toggle({elem:n(e.target).closest("a"),getViewTitle:()=>L("change-due-date"),keepEdits:!0,reactElement:N.createElement(k,{due:this.model.get("due"),start:this.model.get("start"),dueReminder:this.model.get("dueReminder"),hidePopover:()=>w.hide(),idCard:this.model.id,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,idOrg:null===(i=this.model.getBoard())||void 0===i?void 0:i.get("idOrganization")})})}editLabels(e){return this.showPopOver(e,o,"Open Label Edit")}editMembers(e){return this.showPopOver(e,l,"Open Member Edit")}editCover(e){A({elem:this.$(e.currentTarget),cardId:this.model.id})}copyCard(e){return this.showPopOver(e,s,"Open Copy Card",{onCopy:this.closeEditor.bind(this)})}editDueDate(e){S("ecosystem.timeline-version","stable")?this.showDateRangePicker(e):this.showPopOver(e,p,"Open Due Date Edit",{trackingCategory:"quick card editor"})}moveCard(e){const t=this.closeEditor.bind(this);return this.showPopOver(e,c,"Open Move Card",{onCommit:t})}archive(e){x.stop(e);const t=r.startTask({taskName:"edit-card",subTask:"closed",source:"quickCardEditorInlineDialog"});this.model.close(t,F({traceId:t,subTask:"closed",field:"closed"})),this.closeEditor(),E("Quick Card Editor","Archive",void 0,this.model.trackProperty())}quickCardEditKeydown(e){if(m(e)===h.Enter)return this.saveEdits(e)}saveEdits(e){x.stop(e);const t=this.$(".js-edit-card-title").val().trim(),i=this.model.get("name");if(t===i)this.closeEditor();else if(""!==t){const e=r.startTask({taskName:"edit-card",subTask:"name",source:"quickCardEditorInlineDialog"});this.model.recordAction({type:"rename",name:t,previousName:i}),this.model.update({name:t,traceId:e},F({traceId:e,subTask:"name",field:"name"})),this.closeEditor(),E("Quick Card Editor","Save Name",void 0,this.model.trackProperty()),T(t,{category:"quick card editor",method:"by editing name"})}else this.$(".js-edit-card-title").focus().select()}mousedownOnOverlay(e){this.isMouseDownOnOverlay=e.target===this.$el[0]}checkCloseEditor(e){this.isMouseDownOnOverlay&&(this.isMouseDownOnOverlay=!1,w.isVisible?w.hide():this.$(".sticker.editing").length>0?this.stopEditingStickers():this.closeEditor(e))}closeEditor(e){this.remove(),w.hide(),E("Quick Card Editor","Close",void 0,this.model.trackProperty())}stopEditingStickers(){for(const e of Array.from(_.clone(this.model.stickerList.models)))e.trigger("stopEditing")}stopCard(e){x.stopPropagation(e),w.hide()}}M.initClass(),_.extend(M.prototype,u,d),e.exports=M},"./app/scripts/views/card/select-card-position.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/db/model-loader.js"),a=i("./app/scripts/network/payloads.ts").default,s=i("./node_modules/underscore/underscore.js"),o=i("./app/scripts/lib/localize.js"),l={renderValues(){const e=this.$(".js-select-board option:selected").val(),t=this.$(".js-select-list option:selected").val();let i=parseInt(this.$(".js-select-position option:selected").prop("index"),10)+1;const r=this.modelCache.get("Board",e),a=r.get("name"),l=s.find(r.listList.models,(({id:e})=>e===t));if(this.$(".js-board-value").text(a),null!=l){const e=l.get("name");i=i.toString(),this.$(".js-list-value").text(e),this.$(".js-pos-value").text(i),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").removeAttr("disabled")}else this.$(".js-list-value").empty().append(n("<i></i>").text(o("no lists"))),this.$(".js-pos-value").empty().append(n("<i></i>").text(o("n/a"))),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").attr("disabled","disabled")},updateBoardData(){const e=this.$(".js-select-board").find("option:selected").val();if(e===this.model.getBoard().id){this._boardData=this.model.getBoard();for(const e of Array.from(this._boardData.listList.models))e.cardCount=this._boardData.listList.get(e.id).openCards().length;this.updateListList()}else null!=e&&(this.$(".js-submit").attr("disabled","disabled"),r.loadBoardData(e,a.cardsAndListsMinimal).then((()=>(this._boardData=this.modelCache.get("Board",e),this.updateListList()))).done())},updateListList(){let e;const t=this.$(".js-select-board"),i=this.$(".js-select-list").empty(),r=t.find("option:selected").val(),a=this.model.getList().id;var s,o;r===this.model.getBoard().id?e=a:(s=this._boardData.listList.at(0),o=e=>e.id,e=null!=s?o(s):void 0);for(const t of Array.from(this._boardData.listList.models)){const r=n("<option>").val(t.id).appendTo(i);t.id===a?r.format("current list",{listName:t.get("name")}):r.text(t.get("name")),t.id===e&&r.attr("selected","selected")}return this.updatePositionList()},updatePositionList(){let e,t,i;const r=this.$(".js-select-list"),a=this.$(".js-select-position").empty(),s=r.find("option:selected").val();if(null==s)return void this.renderValues();const l=null!=(t=this._boardData.listList.get(s))?t:this._boardData.listList.at(0),c=(null!=l?l.id:void 0)===this.model.getList().id;let d=this._boardData.listList.get(s).cardList.length;c?(e=this.model.getList().openCards().indexOf(this.model),i=e,this.showCurrentPosition||(d-=1)):(e=-1,i=d);for(let t=0,r=d,s=0<=r;s?t<=r:t>=r;s?t++:t--){const r=String(t+1),s=t===e?o("current position",{index:r}):r,c=0===t?"top":t===d?"bottom":l.calcPos(t),u=n("<option>").val(c).text(s).appendTo(a);t===i&&u.attr("selected","selected")}this.$(".js-pos-value").text(String(i)),this.renderValues()}};e.exports=l},"./app/scripts/views/card/should-fire-confetti.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"shouldFireConfetti",(function(){return r}));const n=["","","","","",""];function r(e){return n.some((t=>e.includes(t)))}},"./app/scripts/views/card/uploading-link-view.js":function(e,t,i){const n=i("./app/scripts/views/internal/view.js");class r extends n{static initClass(){this.prototype.viewTitleKey="sending links"}render(){return this.$el.html('<div class="spinner loading"></div>'),this}}r.initClass(),e.exports=r},"./app/scripts/views/custom-field/constants.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"MAX_FIELDS",(function(){return n}));const n=50},"./app/scripts/views/custom-field/custom-field-badge-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/views/internal/teacup-with-helpers.js")(),a=i("./app/scripts/views/internal/view.js"),s=i("./node_modules/xtend/immutable.js"),{Analytics:o}=i("./packages/atlassian-analytics/index.ts"),l=r.renderable((function({icon:e,name:t,text:i,type:n}){return null!=e&&r.icon(e,{class:"mod-quiet"}),r.span(".badge-text",(function(){return t&&"checkbox"!==n?r.text("".concat(t,": ").concat(i)):r.text(i)}))})),c={black:"field-color-black",blue:"field-color-blue",green:"field-color-green",orange:"field-color-orange",red:"field-color-red",yellow:"field-color-yellow",purple:"field-color-purple",pink:"field-color-pink",sky:"field-color-sky",lime:"field-color-lime","light-gray":"field-color-light-gray"};class d extends a{static initClass(){this.prototype.tagName="div"}className(){const e=this.getColorClass();return e?"badge field-color ".concat(e):"badge"}initialize({customFieldItem:e,customField:t}){this.customFieldItem=e,this.customField=t}getColorClass(){return c[null!=this.options.customFieldItem?this.options.customFieldItem.getColor():void 0]}trackCustomFieldValueUpdate(){o.sendTrackEvent({action:"updated",actionSubject:"customFieldValue",source:"cardDetailBadge",attributes:{type:this.customField.get("type")},containers:this.customField.getBoard().getAnalyticsContainers()})}renderBadge(e){return this.$el.html(l(e)),this.$el}render(){const e=this.customField.toJSON(),t=this.customFieldItem.toJSON(),i="checkbox"===this.customField.get("type")?this.customField.icon():void 0,r=this.customFieldItem.getFrontBadgeText();return this.renderBadge(s(t,n.pick(e,"name","type"),{icon:i,text:r})),this}}d.initClass(),e.exports=d},"./app/scripts/views/custom-field/custom-field-badges-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/views/custom-field/custom-field-badge-view.js"),a=i("./app/scripts/views/internal/plugins/plugin-runner.js"),{sendPluginViewedComponentEvent:s}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{trackUe:o}=i("./packages/analytics/index.ts"),l=i("./app/scripts/views/internal/view.js"),c=i("./packages/config/index.ts").customFieldsId;let d=null,u=!1;class p extends l{static initClass(){this.prototype.tagName="span",this.prototype.badgeView=r}idForBadge(e,t){let i=[e.id,e.name,JSON.stringify(e.options)];return t&&(i.push(t.id),t.idValue?i.push(t.idValue):i=i.concat([t.color,JSON.stringify(t.value)])),i.join(":")}render(){const e=this.model.getBoard();e.id!==d&&(d=e.id,u=!1);const t=e.customFieldList.map((e=>{const t=this.model.getCustomFieldItem(e.id);if(!(null!=t?t.showFrontBadge():void 0))return null;const i=this.idForBadge(e.toJSON(),t.toJSON());return this.subview(this.badgeView,this.model,{customFieldItem:t,customField:e},i)})),i=n.compact(t);return this.ensureSubviews(i),i.length>0&&this.trackBadges(),this}trackBadges(){if(!u)return u=!0,o("board view","views","Power-Up","","","card-badges",c),a.getOrLoadPlugin(this.model.getBoard(),c).then((()=>s({idPlugin:c,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})))}}p.initClass(),e.exports=p},"./app/scripts/views/custom-field/custom-field-create-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/models/custom-field.js"),a=i("./app/scripts/views/custom-field/option-editor-view.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./node_modules/bluebird/js/browser/bluebird.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./app/scripts/lib/util/index.js"),d=i("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:u}=i("./packages/atlassian-analytics/index.ts"),p=d.renderable((({selectedType:e,name:t,isDuplicate:i,cardFront:n})=>d.form((function(){return d.label({for:"field-create-type"},(()=>d.format("type"))),d.select(".js-field-type-select",{id:"field-create-type",name:"type"},(()=>r.types.forEach((t=>d.option({value:t,selected:e===t},(()=>d.format(t))))))),d.label({for:"field-create-name"},(()=>d.format("name"))),d.input(".js-field-name-input",{autoselect:!0,class:d.classify({"is-invalid":i}),id:"field-create-name",maxlength:1e3,name:"name",required:!0,spellcheck:!0,type:"text",value:t}),d.p(".custom-field-error-message.js-duplicate-error",{class:d.classify({hide:!i})},(()=>d.format("duplicate field"))),d.div({class:d.classify({"js-options-container":!0,"options-container":!0})}),d.hr(),d.a(".js-toggle-field-display.custom-fields-settings-toggle",{href:"#"},(function(){if(d.format("show on front of card"),n)return d.icon("check")})),d.hr(),d.input(".nch-button.nch-button--primary.js-save-field",{disabled:0===t.length||i,type:"submit",value:d.l("create")})}))));class m extends l{static initClass(){this.prototype.viewTitleKey="new field",this.prototype.events={"click .js-save-field":"createField","click .js-toggle-field-display":"toggleDisplay","input .js-field-name-input":"validateFieldName","change .js-field-type-select":"changeType"}}initialize(){return this.cardFront=!0,this.board=this.options.board}isDuplicate(){const e=null!=this.name?this.name:"",t=null!=this.selectedType?this.selectedType:"checkbox";return this.board.hasCustomField(t,e)}render(){const e=this.isDuplicate();return this.$el.html(p({name:null!=this.name?this.name:"",isDuplicate:e,selectedType:this.selectedType,cardFront:this.cardFront})),"list"===this.selectedType&&(this.optionEditor=this.subview(a,this.model,{},"new-field-options-editor"),this.appendSubview(this.optionEditor,this.$(".js-options-container"))),this}changeType(e){return this.selectedType=this.$(e.target).val(),this.render()}validateFieldName(e){const t=this.$(e.target).val().trim();this.name=t;const i=this.isDuplicate();return this.$(".js-save-field").prop("disabled",0===this.name.length||i),this.$(".js-field-name-input").toggleClass("is-invalid",i),this.$(".js-duplicate-error").toggleClass("hide",!i)}toggleDisplay(e){return c.stop(e),this.cardFront=!this.cardFront,this.render()}createField(e){c.stop(e);const t=this.$(e.target),i=t.closest("form"),r=i.find(".js-field-type-select").val(),a=i.find(".js-field-name-input").val().trim();if(""===a)return;const l=u.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldCreateInlineDialog"});t.prop("disabled",!0);const d={idModel:this.board.id,modelType:"board",name:a,pos:"bottom",type:r};"list"===r&&(d.options=this.optionEditor.getOptions());const p=n.extend({},d,{display_cardFront:this.cardFront});return new o(((e,t)=>this.board.customFieldList.createWithTracing(d,{requestData:p,traceId:l,success:()=>{u.sendTrackEvent({action:"added",actionSubject:"customField",source:"customFieldCreateInlineDialog",attributes:{taskId:l,type:r},containers:this.board.getAnalyticsContainers()}),u.taskSucceeded({taskName:"edit-plugin",subTask:"customFields",source:"customFieldCreateInlineDialog",traceId:l}),e()},error:(e,i)=>(u.taskFailed({taskName:"edit-plugin",subTask:"customFields",traceId:l,source:"customFieldCreateInlineDialog",error:i}),t(i))}))).then((()=>s.popView())).done()}}m.initClass(),e.exports=m},"./app/scripts/views/custom-field/custom-field-delete-view.js":function(e,t,i){const n=i("./app/scripts/views/lib/pop-over.js"),r=i("./app/scripts/views/internal/view.js"),a=i("./app/scripts/lib/util/index.js"),s=i("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:o,tracingCallback:l}=i("./packages/atlassian-analytics/index.ts"),c=s.renderable((({name:e})=>s.div((function(){return s.p((()=>s.format("delete warning"))),s.p((()=>s.format("delete prompt",{fieldName:e}))),s.input(".js-field-name",{name:"name",type:"text",autofocus:!0,spellcheck:!0,placeholder:s.l("field name")}),s.div((()=>s.button(".nch-button--fullwidth.nch-button.nch-button--danger.js-delete-field.disabled",{disabled:!0},(()=>s.format("delete field")))))}))));class d extends r{static initClass(){this.prototype.viewTitleKey="delete field",this.prototype.events={"click .js-delete-field":"removeField","input .js-field-name":"validateName"}}initialize(){return this.customField=this.options.customField}render(){return this.$el.html(c({name:this.customField.get("name")})),this}validateName(e){const t=this.$(e.target).val()===this.customField.get("name");return this.$(".js-delete-field").toggleClass("disabled",!t).prop("disabled",!t)}removeField(e){a.stop(e);const t=o.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldDeleteInlineDialog"});return this.customField.destroyWithTracing({traceId:t},l({taskName:"edit-plugin",subTask:"customFields",source:"customFieldDeleteInlineDialog",traceId:t},(e=>{e||o.sendTrackEvent({action:"deleted",actionSubject:"customField",source:"customFieldDeleteInlineDialog",attributes:{taskId:t,type:this.customField.get("type")},containers:this.customField.getBoard().getAnalyticsContainers()})}))),n.hide()}}d.initClass(),e.exports=d},"./app/scripts/views/custom-field/custom-field-edit-view.js":function(e,t,i){const n=i("./app/scripts/views/custom-field/custom-field-delete-view.js"),{isSubmitEvent:r}=i("./packages/keybindings/index.ts"),a=i("./app/scripts/views/custom-field/option-editor-view.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./app/scripts/views/internal/view.js"),l=i("./app/scripts/lib/util/index.js"),c=i("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:d,tracingCallback:u}=i("./packages/atlassian-analytics/index.ts"),p=c.renderable((({name:e,cardFront:t,isList:i})=>c.div((function(){return c.label({for:"name"},(()=>c.format("name"))),c.input(".js-field-name",{name:"name",type:"text",autofocus:!0,spellcheck:!0,value:e}),c.p(".custom-field-error-message.hide.js-duplicate-error",(()=>c.format("duplicate field"))),c.div({class:c.classify({"js-options-container":!0,"options-container":!0})}),i&&c.p(".quiet",(()=>c.format("delete option warning"))),c.hr(),c.a(".js-toggle-field-display.custom-fields-settings-toggle",{href:"#"},(function(){if(c.format("show on front of card"),t)return c.icon("check")})),c.div((function(){return c.hr(),c.a(".quiet.js-delete-field",{href:"#"},(()=>c.format("delete field")))}))}))));class m extends o{static initClass(){this.prototype.events={"click .js-delete-field":"removeField","click .js-toggle-field-display":"toggleDisplay","keydown .js-field-name":"handleEnter","input .js-field-name":"validateName","focusout .js-field-name":"saveOnBlur"}}viewTitleKey(){return this.customField.isList()?"edit field":"rename field"}initialize(){return this.board=this.options.board,this.customField=this.options.customField,this.options=this.customField.get("options")}render(){var e,t;return this.$el.html(p({name:this.customField.get("name"),cardFront:(e=this.customField.get("display"),t=e=>e.cardFront,null!=e?t(e):void 0),isList:this.customField.isList()})),this.customField.isList()&&(this.optionEditor=this.subview(a,this.model,{customField:this.customField},"".concat(this.customField.id,"-options-editor")),this.appendSubview(this.optionEditor,this.$(".js-options-container"))),this}handleEnter(e){if(r(e))return l.stop(e),this.$(e.target).blur()}validateName(e){const t=this.$(e.target),i=t.val().trim();if(0===i.length)return void t.addClass("is-invalid");const n=i!==this.customField.get("name")&&this.board.hasCustomField(this.customField.get("type"),i);return t.toggleClass("is-invalid",n),this.$(".js-duplicate-error").toggleClass("hide",!n)}saveOnBlur(e){const t=e.target.value.trim();if(t===this.customField.get("name"))return;const i=this.customField.get("type");if(0===t.length||this.board.hasCustomField(i,t))return void this.render();const n=d.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});this.customField.update({traceId:n,name:t},u({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:n},(e=>{e||d.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:n,type:this.customField.get("type"),updatedField:"name"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}toggleDisplay(e){l.stop(e);const t=d.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});return this.customField.toggleDisplay(t,u({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:t},(e=>{e||d.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:t,type:this.customField.get("type"),updatedField:"display/cardFront"},containers:this.customField.getBoard().getAnalyticsContainers()})}))),this.render()}removeField(e){return l.stop(e),s.pushView({elem:this.$(e.target),view:n,options:{model:this.model,modelCache:this.modelCache,customField:this.customField}})}}m.initClass(),e.exports=m},"./app/scripts/views/custom-field/custom-fields-button-view.js":function(e,t,i){const n=i("./app/scripts/views/custom-field/custom-field-create-view.js"),r=i("./app/scripts/views/custom-field/custom-field-edit-view.js"),a=i("./app/scripts/views/lib/pop-over.js"),s=i("./app/scripts/views/internal/view.js"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),c=i("./packages/config/index.ts").customFieldsId,{MAX_FIELDS:d}=i("./app/scripts/views/custom-field/constants.ts"),u=l.renderable((function(e){null==e&&(e={});const{canCreate:t,fields:i}=e;return l.div((function(){return 0===i.length&&t?(l.p((()=>l.format("no custom fields"))),l.hr(),l.a(".custom-field.js-add-field",{href:"#"},(function(){return l.icon("add"),l.span(".custom-field-name",(()=>l.format("new field")))}))):l.ul((function(){if(i.map((e=>l.li(".custom-field.js-field",{href:"#",idCustomField:e.id},(function(){return l.icon(e.icon(),{class:"js-drag-handle draggable"}),l.a(".custom-field-name.js-edit-field",{href:"#"},(()=>l.text(e.get("name"))))})))),t)return l.hr(),l.a(".custom-field.js-add-field",{href:"#"},(function(){return l.icon("add"),l.span(".custom-field-name",(()=>l.format("new field")))}))}))}))}));class p extends s{static initClass(){this.prototype.viewTitleKey="custom fields",this.prototype.events={"click .js-add-field":"createCustomField","click .js-edit-field":"editCustomField"}}initialize(){return this.board=this.options.board}render(){const e=this.board.customFieldList.models,t=this.board.editable()&&this.board.isPluginEnabled(c)&&this.board.customFieldList.length<d;if(this.$el.html(u({canCreate:t,fields:e})),e.length>1){const e=this.$(".js-field").first().closest("ul");e.sortable({axis:"y",cursor:"move",delay:"75",distance:"5",handle:".js-drag-handle",tolerance:"pointer",placeholder:"field-list-option placeholder",items:".js-field",sort:(t,i)=>{const n=e.parent().parent().offset().top,r=t.clientY-n;return i.helper.css({top:"".concat(r,"px")})},update:(e,t)=>{const i=t.item.attr("idCustomField"),n=t.item.parent().children().index(t.item);return this.board.customFieldList.get(i).move(n)}})}return this}createCustomField(e){return o.stop(e),a.pushView({elem:this.$(e.target),view:n,options:{model:this.model,modelCache:this.modelCache,board:this.board}})}editCustomField(e){const t=this.$(e.target).closest(".js-field"),i=t.attr("idCustomField"),n=this.board.customFieldList.get(i);return a.pushView({elem:t,view:r,options:{model:this.model,modelCache:this.modelCache,board:this.board,customField:n}})}}p.initClass(),e.exports=p},"./app/scripts/views/custom-field/option-editor-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/models/custom-field-item.js"),{isSubmitEvent:a}=i("./packages/keybindings/index.ts"),s=i("./app/scripts/views/internal/view.js"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:c,tracingCallback:d}=i("./packages/atlassian-analytics/index.ts"),u=l.renderable((({options:e,colors:t})=>l.div((function(){if(l.label(".js-option-list-label",(()=>l.format("options"))),l.div(".js-option-list",(()=>e.map((e=>l.div(".field-list-option.js-list-option",{idOption:e.cid||e.id},(function(){return l.a(".field-list-option-color-swatch.is-clickable.js-option-pick-color.field-color-".concat(e.color||"none"),{href:"#"}),l.a(".option-value.js-option",{href:"#",title:e.value.text},(()=>l.text(e.value.text))),l.input(".option-value.js-option",{type:"text",value:e.value.text}),l.a(".icon-sm.icon-trash.js-remove-option",{href:"#"})})))))),l.div(".hide.js-option-color-picker",(function(){return l.label(".field-color-picker-label",(()=>l.format("select a color"))),l.div({style:"margin-left: 4px"},(()=>t.map((e=>l.a(".field-list-option-color-swatch.field-color.is-clickable.field-color-".concat(e.color,".js-palette-color"),{"data-color":e.color})))))})),e.length<50)return l.input(".js-add-option.add-option",{type:"text",placeholder:l.l("add item")})}))));class p extends s{static initClass(){this.prototype.events={"click .js-option-pick-color":"toggleColorPicker","click .js-palette-color":"pickColor","click a.js-option":"startEditOption","click .js-remove-option":"removeOption","keydown .js-add-option":"addOption","keydown input[type=text].js-option":"blurOnEnter","focusout input[type=text].js-option":"updateOption"}}initialize(){let e;return this.customField=this.options.customField,this.options=null!=(e=null!=this.customField?this.customField.get("options"):void 0)?e:[]}render(){const e=Array.from(r.colors).map((e=>({color:e})));let{options:t}=this;this.customField&&(t=this.customField.optionList.models.map((e=>n.extend({cid:e.cid},e.toJSON())))),this.$el.html(u({colors:e,options:t}));const i=this.$(".js-option-list");return t.length>1&&i.sortable({axis:"y",cursor:"move",delay:"75",distance:"5",tolerance:"pointer",placeholder:"field-list-option placeholder",items:".js-list-option",sort:(e,t)=>{const i=this.$el.closest(".js-options-container").parent().offset().top,n=this.$el.find(".js-option-list-label").first().outerHeight(),r=e.clientY-i-n;return t.helper.css({top:"".concat(r,"px")})},update:(e,t)=>{const i=t.item.attr("idOption"),r=t.item.parent().children().index(t.item);if(this.customField)return this.customField.getOptionByCId(i).move(r);{const e=n.findIndex(this.options,(e=>e.id===i));return this.options.splice(r,0,this.options.splice(e,1)[0])}}}),this}getOption(e){return n.find(this.options,(t=>t.id===e))}getOptions(){return this.options.map((function(e,t){return e.new?{color:e.color,value:e.value,pos:1024*(t+1)}:n.omit(e,"pos","idCustomField")}))}toggleColorPicker(e){const t=this.$(".js-option-color-picker");if(!t.hasClass("hide"))return void this.render();const i=this.$(e.target).closest(".js-list-option");if(i.hasClass("editing"))return void i.children("input.js-option").blur();const n=i.attr("idOption");return this.targetOption=n,t.insertAfter('.js-list-option[idOption="'.concat(n,'"]')).removeClass("hide")}pickColor(e){const{color:t}=e.target.dataset,i=this.targetOption;if(this.customField){const e=c.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});this.customField.getOptionByCId(i).update({traceId:e,color:t},d({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:e},(t=>{t||c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:e,type:this.customField.get("type"),updatedField:"options/color"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}else{this.getOption(i).color=t}return this.render()}startEditOption(e){const t=this.$(e.target).closest(".js-list-option");if(!t.hasClass("editing"))return t.addClass("editing"),t.children('input[type="text"].js-option').first().select()}updateOption(e){const t=e.target.value.trim(),i=this.$(e.target).closest(".js-list-option").attr("idOption");if(this.customField){if(this.customField.getOptionByCId(i).get("value").text!==t){const e=c.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});this.customField.getOptionByCId(i).update({traceId:e,value:{text:t}},d({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:e},(t=>{t||c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:e,type:this.customField.get("type"),updatedField:"options/value/text"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}}else{this.getOption(i).value.text=t}return this.render()}blurOnEnter(e){if(a(e))return this.$(e.target).blur()}removeOption(e){const t=this.$(e.target).closest(".js-list-option").attr("idOption");if(this.customField){const e=this.customField.getOptionByCId(t);if(null!=e){const t=c.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});e.destroyWithTracing({traceId:t},d({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:t},(e=>{e||c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:t,type:this.customField.get("type"),removedField:"options"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}}else this.options=n.filter(this.options,(e=>e.id!==t));return this.render()}addOption(e){if(a(e)){o.stop(e);const r=e.target.value.trim();if(!r)return;if(this.customField){const e=c.startTask({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog"});this.customField.optionList.createWithTracing({value:{text:r},pos:"bottom"},{traceId:e,error:(t,i)=>{c.taskFailed({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:e,error:i})},success:()=>{c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:e,type:this.customField.get("type"),addedField:"options"},containers:this.customField.getBoard().getAnalyticsContainers()}),c.taskSucceeded({taskName:"edit-plugin",subTask:"customFields",source:"customFieldEditInlineDialog",traceId:e})}})}else this.options.push(this._createOption(e.target.value.trim(),(t=n.last(this.options),i=e=>e.pos,(null!=t?i(t):void 0)||0)));return e.target.value="",this.render(),this.$(".js-add-option").focus()}var t,i}_createOption(e,t,i="none"){return{id:n.uniqueId("field-option_"),color:i,new:!0,pos:t+5,value:{text:e}}}}p.initClass(),e.exports=p},"./app/scripts/views/directory/base-directory-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./node_modules/react/index.js"),a=i("./packages/react-dom-wrapper/index.ts"),{ReactRootComponent:s}=i("./app/scripts/views/internal/react-root-component.tsx"),o=i("./app/scripts/views/internal/view.js");e.exports=class extends o{initialize(){return null!=this.$reactRoot?this.$reactRoot:this.$reactRoot=n("<div></div>")}renderContent(){throw new Error("BaseDirectoryView renderContent method is not defined.")}getReactRoot(){return r.createElement(s,null,this.renderContent())}render(){return this.$el.append(this.$reactRoot),a.render(this.getReactRoot(),this.$reactRoot[0]),this}}},"./app/scripts/views/directory/business-class-upsell-view.js":function(e,t,i){const{Analytics:n,getScreenFromUrl:r}=i("./packages/atlassian-analytics/index.ts"),{PlanSelectionOverlay:a}=i("./app/src/components/FreeTrial/index.ts"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./node_modules/react/index.js"),l=i("./packages/react-dom-wrapper/index.ts"),{renderComponent:c}=i("./app/src/components/ComponentWrapper/index.ts"),d=i("./app/scripts/views/internal/teacup-with-helpers.js")("business_class_upsell"),{trackUe:u}=i("./packages/analytics/index.ts"),p=i("./app/scripts/lib/util/index.js"),m=i("./app/scripts/views/internal/view.js"),{featureFlagClient:h}=i("./packages/feature-flag-client/index.ts");class g extends m{static initClass(){this.prototype.events={"click .js-business-class-upsell-upgrade":"upgradePrompt","click .js-business-class-upsell-close":"onClose"}}upgradePrompt(e){p.stop(e);const t=document.createElement("span"),i=this.model.getOrganization();return n.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"pupLimitBCUpsellInlineDialog",containers:{organization:{id:i.id}}}),c(o.createElement(a,{orgId:i.id,onContinue:()=>window.location.assign("/business-class"),onClose:()=>(l.unmountComponentAtNode(t),t.remove())}),t)}onClose(e){return p.stop(e),u("Power-Up BC upgrade popover ad","close","Power-Up BC upgrade popover ad"),s.hide()}render(){if(h.get("btg.upgrade-prompt-audit",!1)){const{UpgradeSmartComponentConnected:e}=i("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx");this.$el.html(d.render((()=>d.div(".js-content"))));const t=this.$(".js-content")[0];return c(o.createElement(e,{orgId:this.model.getOrganization().id,promptId:"pupLimitPopUpPromptFull",additionalProps:{onClose:e=>(p.stop(e),l.unmountComponentAtNode(t),s.hide(),t.remove())}}),t),this}return n.sendScreenEvent({name:"pupLimitBCUpsellInlineDialog",containers:{board:{id:this.model.id},organization:{id:this.model.get("idOrganization")}},attributes:{location:r()}}),this.$el.html(d.render((()=>d.div(".content",(function(){return d.a(".icon-close.icon-lg.js-business-class-upsell-close",{href:"#"}),d.h5((()=>d.format("get-unlimited-power-ups"))),d.p((()=>d.format("need-more-than-one-power-up-per-board-go-unlimited-with-business-class"))),d.span(".small-link.js-business-class-upsell-upgrade",(()=>d.format("try-for-14-days")))}))))),this}}g.initClass(),e.exports=g},"./app/scripts/views/directory/directory-bonus-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),{PowerUpItemType:r}=i("./app/src/components/PowerUp/index.ts"),a=i("./app/scripts/views/directory/base-directory-view.js"),s=i("./app/scripts/views/directory/directory-plugin-item-view.js"),o=i("./node_modules/react/index.js"),l=i("./app/scripts/views/internal/recup-with-helpers.js")("directory");class c extends o.Component{static initClass(){this.prototype.displayName="Directory Bonus Power-Ups",this.prototype.render=l.renderable((()=>l.div(".directory-content-body",(function(){return l.div(".directory-bonus-banner",(function(){return l.h1((()=>l.formatText("bonus-powerups"))),l.p((()=>l.formatText("what-is-a-bonus-powerup")))})),l.div(".directory-listing")}))))}}c.initClass();e.exports=class extends a{eventSource(){return"boardDirectoryBonusScreen"}initialize({plugins:e,currentPage:t,directoryView:i}){return this.plugins=e,this.currentPage=t,this.directoryView=i,super.initialize(...arguments),this.listenTo(this.model,"change:idOrganization change:powerUps",this.frameDebounce(this.render)),this.listenTo(this.model.boardPluginList,"add remove reset",this.frameDebounce(this.render))}renderContent(){return this.bonusPlugins=this.directoryView.getBonusPlugins(),o.createElement(c,null)}render(){super.render(...arguments);const e=this.$el.find(".directory-listing");e.empty();const t=n.map(this.bonusPlugins,(e=>this.subview(s,this.model,{atomType:r.Description,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id)));this.appendSubviews(t,e);const i=this.directoryView.getEnabledPlugins(),a=n.intersection(n.map(this.bonusPlugins,"id"),n.map(i,"id"));return this.directoryView.trackScreenEvent(this.eventSource(),{totalListed:this.bonusPlugins.length,totalListedEnabled:a.length,totalEnabled:i.length,allPowerUpsEnabled:n.map(i,"id")},a),this}}},"./app/scripts/views/directory/directory-enabled-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),{PowerUpItemType:r}=i("./app/src/components/PowerUp/index.ts"),a=i("./app/scripts/views/directory/base-directory-view.js"),s=i("./app/scripts/views/directory/directory-plugin-item-view.js"),o=i("./node_modules/react/index.js"),l=i("./app/scripts/views/internal/recup-with-helpers.js")("directory_enabled");class c extends o.Component{static initClass(){this.prototype.displayName="Directory Enabled Power-Ups",this.prototype.render=l.renderable((()=>l.div(".directory-content-body",(()=>l.div(".directory-listing")))))}}c.initClass();class d extends o.Component{static initClass(){this.prototype.displayName="Directory Enabled Power-Ups Empty State",this.prototype.render=l.renderable((()=>l.div(".directory-content-body.directory-enabled-empty",(function(){return l.div(".directory-enabled-empty-text",(function(){return l.p((()=>l.formatText("there-are-no-power-ups-enabled-for-this-board"))),l.p((()=>l.formatText("get-started-with-these-great-power-ups")))})),l.div(".directory-listing")}))))}}d.initClass(),e.exports=class extends a{eventSource(){return"boardDirectoryEnabledScreen"}initialize({plugins:e,currentPage:t,directoryView:i}){return this.plugins=e,this.currentPage=t,this.directoryView=i,super.initialize(...arguments),this.listenTo(this.model,"change:idOrganization change:powerUps",this.frameDebounce(this.render)),this.listenTo(this.model.boardPluginList,"add remove reset",this.frameDebounce(this.render))}getPluginSuggestions(){const e=this.directoryView.filterOutHiddenPlugins(this.plugins);return n.sample(e,3)}renderContent(){return this.enabledPlugins=this.directoryView.getEnabledPlugins(),this.enabledPlugins.length?o.createElement(c,null):o.createElement(d,null)}render(){let e;super.render(...arguments);const t=this.$el.find(".directory-listing");if(t.empty(),this.enabledPlugins.length>0){e=this.enabledPlugins;const i=n.map(this.enabledPlugins,(e=>this.subview(s,this.model,{atomType:r.Description,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id)));this.appendSubviews(i,t)}else{const i=this.getPluginSuggestions();e=i;const a=n.map(i,(e=>this.subview(s,this.model,{atomType:r.Description,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id)));this.appendSubviews(a,t)}const i=n.intersection(n.map(e,"id"),n.map(this.enabledPlugins,"id"));return this.directoryView.trackScreenEvent(this.eventSource(),{totalListed:e.length,totalListedEnabled:i.length,totalEnabled:this.enabledPlugins.length,allPowerUpsEnabled:n.map(this.enabledPlugins,"id")},i),this}}},"./app/scripts/views/directory/directory-header-view.js":function(e,t,i){const n=i("./app/scripts/db/auth.js"),r=i("./app/scripts/views/directory/base-directory-view.js"),a=i("./app/scripts/views/board-menu/board-add-to-team-view.js"),s=i("./app/scripts/controller/index.js"),{dontUpsell:o}=i("./packages/browser/index.ts"),{featureFlagClient:l}=i("./packages/feature-flag-client/index.ts"),c=i("./app/scripts/db/model-loader.js"),d=i("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),u=i("./app/scripts/views/lib/pop-over.js"),p=i("./node_modules/react/index.js"),m=i("./app/scripts/views/internal/recup-with-helpers.js")("directory"),{trackUe:h}=i("./packages/analytics/index.ts"),{UpgradeSmartComponentConnected:g}=i("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx"),b=i("./app/scripts/lib/util/index.js");let f=void 0;class v extends p.Component{static initClass(){this.prototype.displayName="Directory Business Class Banner",f=l.get("btg.upgrade-prompt-audit",!1),this.prototype.render=m.renderable((function(){const{onDismissClick:e,onUpgradeClick:t,orgId:i}=this.props;return m.div(".directory-business-class-banner",(function(){return m.div(".banner-content",(function(){return m.icon("business-class",{class:"icon-lg light"}),m.format("this-board-has-reached-its-power-up-limit-upgrade-to-business-class-to-enable-additional-power-ups")})),m.div(".buttons-container",(function(){return m.a(".dismiss-link",{href:"#",onClick:e},(()=>m.format("dismiss"))),f?m.addElement(p.createElement(g,{orgId:i,promptId:"pupUpgradeBannerButton"})):m.a(".button-link.mod-upgrade",{href:"#",onClick:t},(()=>m.format("upgrade")))}))}))}))}}v.initClass();class k extends p.Component{static initClass(){this.prototype.displayName="Directory Header",this.prototype.render=m.renderable((function(){const{title:e,showBackButton:t,navigateBack:i,toggleNavigationMenu:n}=this.props;return m.div(".directory-header",(()=>m.div(".directory-header-toolbar",(function(){return m.h2(".directory-header-toolbar-title",(()=>m.format(e))),m.div(".directory-header-toolbar-left",(function(){return m.a(".icon-lg.icon-back.dark-hover.directory-back-btn",{href:"#",onClick:i,class:m.classify({hide:!t})}),m.a(".directory-hamburger",{href:"#",onClick:n},(()=>m.text("")))})),m.div(".directory-header-toolbar-right",(()=>m.a(".icon-lg.icon-close.dark-hover.js-close-directory",{href:"#"})))}))))}))}}k.initClass();class y extends p.Component{static initClass(){this.prototype.render=m.renderable((function(){const{title:e,showBackButton:t,navigateBack:i,toggleNavigationMenu:n,upsellEnabled:r,onUpgradeClick:a,onDismissClick:s,orgId:o}=this.props;return m.div((function(){if(m.tag(k,{title:e,showBackButton:t,navigateBack:i,toggleNavigationMenu:n}),r)return m.tag(v,{onUpgradeClick:a,onDismissClick:s,orgId:o})}))}))}}function w(e,t){return null!=e?t(e):void 0}y.initClass(),e.exports=class extends r{initialize({directoryView:e}){return this.directoryView=e,super.initialize(...arguments),this.listenTo(this.model,{"change:powerUps":this.render}),this.listenTo(this.model.boardPluginList,{"add remove reset":this.render}),this.subscribe(d(this.model),(()=>this.render()))}onUpgradeClick(e){if(b.stop(e),h("Power-Up BC upgrade banner","clicks","upgrade button"),this.model.owned()){if(!this.model.hasOrganization())return c.loadMyOrganizations(),u.toggle({autoPosition:!0,elem:e.target,getViewTitle:()=>"Upgrade to Business Class",view:new a({model:this.model})});window.location=s.getBoardPowerUpsUpgradeUrl(this.model)}else window.location="/business-class"}onDismissClick(e){return b.stop(e),h("Power-Up BC upgrade","closes","Power-Up BC upgrade banner"),n.me().dismissAd("DirectoryBusinessClassBanner"),this.manuallyDismissed=!0,this.render(),this.directoryView.setBodyHeight(this.manuallyDismissed)}renderContent(){const{category:e,section:t,idPlugin:i,history:r,search:a}=this.directoryView;let s="power-ups";null!=a&&a.length?s="power-ups":null!=e?s=e:null!=t&&(s=t);const l=w(this.model.getOrganization(),(e=>e.isPremium()));return p.createElement(y,{title:s,upsellEnabled:!(this.model.canEnableAdditionalPowerUps()||l||this.manuallyDismissed||n.me().isAdDismissed("DirectoryBusinessClassBanner")||o()),showBackButton:null!=t||null!=i||r.length,navigateBack:()=>this.directoryView.navigateBack(),onUpgradeClick:e=>this.onUpgradeClick(e),onDismissClick:e=>this.onDismissClick(e),toggleNavigationMenu:()=>this.directoryView.toggleNavigationMenu(),orgId:w(this.model.getOrganization(),(e=>e.id))})}}},"./app/scripts/views/directory/directory-home-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),{PowerUpItemType:r}=i("./app/src/components/PowerUp/index.ts"),a=i("./app/scripts/views/directory/base-directory-view.js"),s=i("./app/scripts/views/directory/directory-plugin-item-view.js"),o=i("./node_modules/react/index.js"),l=i("./app/scripts/views/internal/recup-with-helpers.js")("directory_home"),{sortFeaturedPowerUps:c}=i("./app/src/components/PowerUpDirectory/HomePage.tsx"),{featureFlagClient:d}=i("./packages/feature-flag-client/index.ts");class u extends o.Component{static initClass(){this.prototype.displayName="Directory Home",this.prototype.render=l.renderable((function(){return l.div((()=>l.div(".directory-content-body",(function(){return l.div(".directory-heading-wrapper",(()=>l.h2((()=>l.formatText("featured-power-ups"))))),l.div(".directory-featured-powerups.js-featured-power-ups-container"),d.get("workflowers.show-integrations-in-pup-dir",!1)&&(l.div(".directory-heading-wrapper",(()=>l.h2((()=>l.formatText("integrations"))))),l.div(".directory-featured-powerups.js-integrations-container")),l.div(".directory-heading-wrapper",(()=>l.h2((()=>l.formatText("essential-power-ups"))))),l.div(".directory-featured-powerups.js-essential-power-ups-container"),l.div(".directory-heading-wrapper",(()=>l.h2((()=>l.formatText("other-great-power-ups"))))),l.div(".directory-featured-powerups.js-other-power-ups-container")}))))}))}}u.initClass(),e.exports=class extends a{initialize({directoryView:e,currentPage:t}){return this.directoryView=e,this.currentPage=t,super.initialize(...arguments)}eventSource(){return"boardDirectoryFeaturedScreen"}renderContent(){return o.createElement(u,{boardId:this.model.id})}getPluginsByTags(e){return n.filter(this.directoryView.plugins,(t=>n.every(e,(e=>n.contains(t.get("tags"),e)))))}getFeaturedPlugins(){const e=this.getPluginsByTags(["featured"]),t=c(n.map(e,(e=>e.toJSON()))),i=n.map(t,(t=>n.find(e,(e=>e.id===t.id))));return this.featuredPlugins=i}getEssentialPlugins(){return null!=this.essentialPlugins?this.essentialPlugins:this.essentialPlugins=this.getPluginsByTags(["essential"])}getIntegrations(){if(null!=this.integrations)return this.integrations;const e=d.get("workflowers.show-integrations-in-pup-dir",!1)?this.getPluginsByTags(["integration"]):[];return this.integrations=e}getOtherPowerUps(){const e=n.filter(this.directoryView.plugins,(function(e){let t;return!(n.contains(e.get("tags"),"featured")||n.contains(e.get("tags"),"essential")||n.contains(e.get("tags"),"integration")||(t=e.get("moderatedState"),["hidden","moderated"].includes(t)))}));return n.sample(e,12)}render(){super.render(...arguments);const e=this.directoryView.filterOutHiddenPlugins(this.getFeaturedPlugins()),t=this.directoryView.filterOutHiddenPlugins(this.getEssentialPlugins()),i=this.directoryView.filterOutHiddenPlugins(this.getIntegrations()),a=this.getOtherPowerUps(),o=this.directoryView.getEnabledPlugins(),l=n.flatten([e,i,t,a]),c=d.get("workflowers.show-integrations-in-pup-dir",!1),u=n.map(e,(e=>this.subview(s,this.model,{atomType:r.Featured,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id))),p=n.map(t,(e=>this.subview(s,this.model,{atomType:r.Featured,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id))),m=n.map(i,(e=>this.subview(s,this.model,{atomType:r.Featured,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id))),h=n.map(a,(e=>this.subview(s,this.model,{atomType:r.Description,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id)));this.appendSubviews(u,this.$el.find(".js-featured-power-ups-container")),this.appendSubviews(p,this.$el.find(".js-essential-power-ups-container")),c&&this.appendSubviews(m,this.$el.find(".js-integrations-container")),this.appendSubviews(h,this.$el.find(".js-other-power-ups-container"));const g=n.intersection(n.map(l,"id"),n.map(o,"id"));return this.directoryView.trackScreenEvent(this.eventSource(),{totalListed:l.length,totalListedEnabled:g.length,totalEnabled:o.length,allPowerUpsEnabled:n.map(o,"id")},g),this}}},"./app/scripts/views/directory/directory-legacy-power-ups.js":function(e,t,i){const n=i("./app/scripts/views/power-ups/calendar-settings-view.js"),r=i("./app/scripts/views/power-ups/card-aging-settings-view.js"),a=i("./app/scripts/data/legacy-power-ups.js"),s=i("./app/scripts/views/power-ups/voting-settings-view.js");e.exports=[{name:"voting",settingsView:e=>new s({model:e}),id:a.voting},{name:"cardAging",settingsView:e=>new r({model:e}),id:a.cardAging},{name:"calendar",settingsView:e=>new n({model:e}),id:a.calendar}]},"./app/scripts/views/directory/directory-listing-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/views/directory/base-directory-view.js"),a=i("./app/scripts/views/directory/directory-legacy-power-ups.js"),s=i("./app/scripts/views/directory/directory-plugin-item-view.js"),o=i("./app/scripts/lib/markdown/format.js"),l=i("./app/scripts/views/internal/plugins/plugin-io-cache.js"),{PowerUpItemType:c}=i("./app/src/components/PowerUp/index.ts"),d=i("./app/scripts/views/internal/recup-with-helpers.js"),u=d("directory"),p=d("power_up_item_details"),m=d("directory_data_consent"),h=i("./resources/images/directory/icons/notCompliant.svg"),g=i("./resources/images/directory/icons/compliant.svg"),b=i("./node_modules/react/index.js"),f=i("./app/scripts/lib/plugins/plugin-validators.js"),{featureFlagClient:v}=i("./packages/feature-flag-client/index.ts"),{forTemplate:k}=i("./packages/i18n/index.ts"),y=k("directory");class w extends b.Component{static initClass(){this.prototype.displayName="Directory Listing",this.prototype.render=u.renderable((function(){const{supportEmail:e,description:t,displayName:i,isGrandfathered:r,isCompliant:a,privacyPolicy:s,categories:l,onCategoryClick:c,isIntegration:d}=this.props;return u.div(".directory-individual-listing",(function(){if(u.div(".js-directory-listing"),e){let t=e;/^[^@]+@[a-z0-9-]+(\.[a-z0-9-]+)+$/i.test(t)&&(t="mailto:".concat(e,"?subject=").concat(encodeURIComponent(i))),u.div(".directory-listing-support",(()=>u.div(".support-list",(function(){if(u.icon("email",{class:"icon-lg"}),u.a(".support-link",{href:t},(()=>u.format("contact-support"))),f.isValidHttp(s))return u.icon("information",{class:"icon-lg"}),u.a(".support-link",{href:s},(()=>u.format("privacy-policy")))}))))}else u.div(".directory-listing-categories",(function(){return u.icon("information",{class:"icon-lg"}),u.div(".categories-list",(()=>n.map(l,(e=>u.a(".category-link",{href:"#",onClick:()=>c(e)},(()=>u.format(e)))))))}));return r&&u.p(".power-up-grandfathered",(function(){return p.format("power-up-was-enabled-on-this-board-before-some-recent-changes-we-made",{name:i}),u.text(" ")})),d&&u.div(".directory-listing-integration",(()=>(u.div(".directory-listing-integration-header",{"data-beta-string":y("beta")},(()=>u.format("trello-integrations"))),u.format("integration-description",{powerUpName:i}),u.text(" "),u.a(".integration-info-link",{href:"/integrations"},(()=>u.format("integrations-learn-more")))))),u.div(".directory-listing-content.markeddown",(()=>u.raw(o.markdownAsHtml(t)))),u.div(".directory-listing-compliance",(function(){const e=!1===a?h:g;return m.img(".directory-listing-compliance-icon",{src:e,alt:"",role:"presentation"}),!1===a?m.format("power-up-does-not-comply-with-our-data-privacy-standards",{pluginName:i}):!0===a?m.format("power-up-stores-data-complies-with-our-data-privacy-standards",{pluginName:i}):m.format("power-up-complies-with-our-data-privacy-standards",{pluginName:i})}))}))}))}}w.initClass();class j extends r{static initClass(){this.prototype.className="directory-listing-wrapper"}eventSource(){return"boardDirectoryPowerUpDetailsScreen"}initialize({directoryView:e,plugin:t,currentPage:i}){this.directoryView=e,this.plugin=t,this.currentPage=i,super.initialize(...arguments);const r=n.findWhere(a,{id:this.plugin.id});if(r){let e;const{name:t}=r;return this.isGrandfathered=(e=t,Array.from(this.model.get("powerUps")).includes(e))}}navigateToCategory(e){return this.directoryView.navigate({section:"category",category:e})}renderContent(){const e=l.get(this.plugin),t=v.get("workflowers.show-integrations-in-pup-dir",!1);return b.createElement(w,{displayName:e.getName(),description:e.getDescription(),supportEmail:this.plugin.get("supportEmail"),privacyPolicy:this.plugin.get("privacyUrl"),categories:this.plugin.get("categories"),isGrandfathered:this.isGrandfathered,onCategoryClick:e=>this.navigateToCategory(e),isCompliant:this.plugin.get("isCompliantWithPrivacyStandards"),isIntegration:t&&(this.plugin.get("tags")||[]).includes("integration")})}render(){super.render(...arguments),this.appendSubview(this.subview(s,this.model,{atomType:c.Listing,plugin:this.plugin,currentPage:this.currentPage,directoryView:this.directoryView},this.plugin.id),this.$(".js-directory-listing"));const e=this.directoryView.getEnabledPlugins();return this.directoryView.trackScreenEvent(this.eventSource(),{powerUpId:this.plugin.id,isEnabled:!!n.some(e,{id:this.plugin.id}),tags:this.plugin.get("tags")}),this}}j.initClass(),e.exports=j},"./app/scripts/views/directory/directory-page-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),{PowerUpItemType:r}=i("./app/src/components/PowerUp/index.ts"),a=i("./app/scripts/views/directory/base-directory-view.js"),s=i("./app/scripts/views/directory/directory-plugin-item-view.js"),o=i("./node_modules/react/index.js"),l=i("./app/scripts/views/internal/recup-with-helpers.js")("directory");class c extends o.Component{static initClass(){this.prototype.displayName="Directory Page",this.prototype.render=l.renderable((()=>l.div(".directory-content-body",(()=>l.div(".directory-listing")))))}}c.initClass(),e.exports=class extends a{eventSource(){const{title:e}=this.options;return"custom"===e?"boardDirectoryCustomScreen":"made-by-trello"===e?"boardDirectoryMadeByTrelloScreen":"boardDirectoryCategoryScreen"}renderContent(){return o.createElement(c,{title:this.options.title})}render(){super.render(...arguments);const e=this.$el.find(".directory-listing");e.empty();const{plugins:t,currentPage:i,directoryView:a,title:o}=this.options,l=n.map(t,(e=>this.subview(s,this.model,{atomType:r.Description,currentPage:i,plugin:e,directoryView:a},e.id)));this.appendSubviews(l,e);const c=a.getEnabledPlugins(),d=n.intersection(n.map(t,"id"),n.map(c,"id")),u={totalListed:t.length,totalListedEnabled:d.length,totalEnabled:c.length,allPowerUpsEnabled:n.map(c,"id"),listedPowerUpsEnabled:d},p=this.eventSource();return"custom"!==o&&(u.categoryid=o),a.trackScreenEvent(p,u),this}}},"./app/scripts/views/directory/directory-plugin-enable-view.js":function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let s;const o=i("./node_modules/underscore/underscore.js"),{PowerUp:l,PowerUpItemType:c}=i("./app/src/components/PowerUp/index.ts"),{atlassianPowerUps:d}=i("./app/scripts/data/directory.js"),u=i("./app/scripts/views/lib/alerts.js"),p=i("./app/scripts/views/directory/base-directory-view.js"),m=i("./app/scripts/views/internal/recup-with-helpers.js"),h=m("directory_data_consent"),g=i("./resources/images/directory/icons/notCompliant.svg"),b=i("./resources/images/directory/icons/compliant.svg"),f=i("./app/scripts/views/directory/directory-legacy-power-ups.js"),v=i("./app/scripts/views/internal/plugins/plugin-io-cache.js"),k=i("./app/scripts/views/internal/plugins/plugin-runner.js"),{sendPluginTrackEvent:y}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),w=m("directory_power_up_item"),{Analytics:j}=i("./packages/atlassian-analytics/index.ts"),{trackUe:x}=i("./packages/analytics/index.ts"),C=i("./app/scripts/lib/util/index.js"),_=i("./node_modules/xtend/immutable.js"),O=h.renderable((({pluginName:e})=>h.div((function(){return h.p((()=>h.format("by-you-clicking-add",{pluginName:e}))),h.ul((function(){return h.li((()=>h.format("access-this-board"))),h.li((()=>h.format("add-content-to-this-board-such-as-attachments-to-cards"))),h.li((()=>h.format("take-actions-on-this-board-such-as-moving-sorting-filtering-cards-or-lists"))),h.li((()=>h.format("access-user-information-such-as-username-avatar-initials-and-full-name-for-users-on-this-board")))}))})))),E=h.renderable((function({pluginName:e,privacyPolicyUrl:t}){return t?h.format("for-more-information-please-see-power-ups-privacy-policy",{pluginName:e,privacyPolicyUrl:t}):h.format("for-more-information-please-see-power-ups-privacy-practices",{pluginName:e})})),S=h.renderable((({pluginName:e,privacyPolicyUrl:t})=>h.div(".directory-data-consent",(function(){return h.p((()=>h.format("power-up-is-developed-and-maintained-by-another-company-within-the-atlassian-corporate-family",{pluginName:e}))),h.tag(O,{pluginName:e}),h.tag(E,{pluginName:e,privacyPolicyUrl:t})})))),T=h.renderable((({pluginName:e,isCompliant:t})=>h.div(".directory-compliance",(()=>h.p((function(){const i=!1===t?g:b;return h.img(".directory-compliance-icon",{src:i,alt:"",role:"presentation"}),!1===t?h.format("power-up-does-not-comply-with-our-data-privacy-standards",{pluginName:e}):!0===t?h.format("power-up-stores-data-complies-with-our-data-privacy-standards",{pluginName:e}):h.format("power-up-complies-with-our-data-privacy-standards",{pluginName:e})})))))),N=h.renderable((({pluginName:e,privacyPolicyUrl:t,isPublic:i,isCompliant:n})=>h.div(".directory-data-consent",(function(){return h.p((()=>h.format("power-up-is-not-developed-or-maintained-by-trello",{pluginName:e}))),i&&h.tag(T,{pluginName:e,isCompliant:n}),h.tag(O,{pluginName:e}),h.tag(E,{pluginName:e,privacyPolicyUrl:t})}))));e.exports=(s=class extends p{static initClass(){this.prototype.className="directory-listing-wrapper",this.prototype.renderContent=w.renderable((function(){const e=this.io.getName(),t=this.io.getIconUrl(),i=this.plugin.get("author"),n=this.plugin.get("privacyUrl"),r=Array.from(d).includes(this.plugin.id),a=this.plugin.get("public"),s=this.plugin.get("isCompliantWithPrivacyStandards");return w.div(".directory-individual-listing",(()=>(w.div(".directory-listing-powerup",(()=>w.tag(l,{type:c.Listing,atomProps:{subtitle:i,icon:{url:t},name:e}}))),r?w.tag(S,{pluginName:e,privacyPolicyUrl:n}):w.tag(N,{pluginName:e,privacyPolicyUrl:n,isPublic:a,isCompliant:s}),w.div(".directory-enable-page-buttons",(()=>(w.button(".button.link",{onClick:this.cancel.bind(this)},(()=>w.formatText("cancel"))),w.button(".nch-button.nch-button--primary.mt-4.mr-4",{onClick:this.enable.bind(this)},(()=>w.formatText("add")))))))))}))}eventSource(){return"powerUpAddDetailsScreen"}initialize({directoryView:e,plugin:t,currentPage:i}){let n;if(this.directoryView=e,this.plugin=t,this.tags=this.plugin.get("tags"),this.currentPage=i,super.initialize(...arguments),this.io=v.get(this.plugin),this.pluginDetails={isLegacy:(n=this.plugin.id,Array.from(o.pluck(f,"id")).includes(n))},this.pluginDetails.isLegacy){const e=o.findWhere(f,{id:this.plugin.id});return this.pluginDetails=_(this.pluginDetails,e)}}isGrandfathered(){let e;return this.pluginDetails.isLegacy&&(e=this.pluginDetails.name,Array.from(this.model.get("powerUps")).includes(e))}enable(e){C.stop(e);const t={pluginId:this.plugin.id,pluginName:this.plugin.name,pluginTags:this.tags,installSource:"boardDirectory"},i=j.startTask({taskName:"enable-plugin",source:"addPowerUpButton"}),n=e.target;return this.model.enablePluginWithTracing(this.plugin.id,{traceId:i,attributes:t,taskName:"enable-plugin",source:"addPowerUpButton",next:e=>{if(e){const n=e.serverMessage;if(j.taskAborted({taskName:"enable-plugin",source:"addPowerUpButton",error:new Error(n),attributes:r({},t),traceId:i}),this.isGrandfathered())this.model.pull("powerUps",this.pluginDetails.name);else{const e=j.startTask({taskName:"disable-plugin",source:"addPowerUpButton",attributes:t});this.model.disablePluginWithTracing(this.plugin.id,{traceId:e,attributes:t,taskName:"disable-plugin",source:"addPowerUpButton"})}"PLUGIN_NOT_ALLOWED"===n?u.show("plugin not allowed","error","addpluginerror",4e3):u.show("could not add plugin","error","addpluginerror",2e3)}}}),this.io.supports("on-enable")?k.one({plugin:this.plugin,command:"on-enable",board:this.model,el:n}).catch((e=>"undefined"!=typeof console&&null!==console?console.warn("Failed to handle on-enable command.",{error:e.message,id:this.plugin.id}):void 0)).finally((()=>this.pluginEnabled(i))):this.pluginEnabled(i)}pluginEnabled(e){return x(this.currentPage,"enables","Power-Up","","","enable button",this.plugin.id),y({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"added",actionSubject:"powerUp",attributes:{installSource:"boardDirectory",tags:this.tags,taskId:e},source:"addPowerUpButton"}}),this.directoryView.navigate({idPlugin:this.plugin.id})}cancel(){return this.directoryView.navigateBack()}render(){return super.render(...arguments),this.directoryView.trackScreenEvent(this.eventSource(),{powerUpId:this.plugin.id,tags:this.tags}),this}},s.initClass(),s=s)},"./app/scripts/views/directory/directory-plugin-item-view.js":function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s=i("./node_modules/underscore/underscore.js"),{PowerUp:o,PowerUpItemType:l}=i("./app/src/components/PowerUp/index.ts"),c=i("./app/scripts/db/auth.js"),d=i("./app/scripts/views/lib/alerts.js"),u=i("./app/scripts/views/directory/base-directory-view.js"),p=i("./app/scripts/views/directory/business-class-upsell-view.js"),{dontUpsell:m}=i("./packages/browser/index.ts"),h=i("./app/scripts/views/lib/confirm.js"),g=i("./app/scripts/views/custom-field/custom-fields-button-view.js"),b=i("./resources/images/directory/icons/customIcon.png"),f=i("./app/scripts/views/directory/directory-legacy-power-ups.js"),{firstPartyPluginsOrg:v}=i("./packages/config/index.ts"),k=i("./app/scripts/lib/markdown/format.js"),y=i("./app/scripts/views/internal/plugins/plugin-io-cache.js"),w=i("./app/scripts/views/internal/plugins/plugin-runner.js"),j=i("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),x=i("./app/scripts/views/lib/pop-over.js"),C=i("./app/scripts/views/board-menu/edit-email-settings-view.js"),_=i("./node_modules/bluebird/js/browser/bluebird.js"),O=i("./node_modules/react/index.js"),{sendPluginScreenEvent:E,sendPluginUIEvent:S,sendPluginTrackEvent:T}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),N=i("./app/scripts/views/internal/recup-with-helpers.js")("directory_power_up_item"),{Analytics:P}=i("./packages/atlassian-analytics/index.ts"),{trackUe:I}=i("./packages/analytics/index.ts"),B=i("./app/scripts/lib/util/index.js"),D=i("./node_modules/xtend/immutable.js"),{featureFlagClient:A}=i("./packages/feature-flag-client/index.ts"),{customFieldsId:L,mapPowerUpId:F,microsoftTeamsId:M,microsoftTeamsUrl:V,e2bId:R,gmailId:z,gmailUrl:U}=i("./packages/config/index.ts"),{PowerUpTestIds:H}=i("./packages/test-ids/index.ts"),W=N.renderable((({authorize:e,disable:t,supportsSettings:i,showSettings:n,supportsAuth:r,hasPersonalSettings:a,removeData:s,authStatus:o,showListingOption:l,navigateToListing:c})=>N.ul(".pop-over-list",(function(){return l&&N.li({onClick:c},(()=>N.a((()=>N.format("view-power-up"))))),r&&o&&!o.authorized?N.li({onClick:e},(()=>N.a((()=>N.format("authorize-account"))))):(i&&N.li({onClick:n},(()=>N.a((()=>N.format("edit-power-up-settings"))))),a&&N.li({onClick:s},(()=>N.a((()=>N.format("remove-personal-settings")))))),N.li({"data-test-id":H.DisablePowerUpLink,onClick:t},(()=>N.a((()=>N.format("disable")))))})))),q=N.renderable((({cancel:e,disable:t,powerupName:i})=>N.div(".disable-warning-container",(function(){return N.p(".disable-warning-message",(()=>N.format("disable-warning-message",{powerupName:i}))),N.button(".nch-button.nch-button--danger.directory-warning-disable-button",{onClick:t},(()=>N.format("disable-warning-button",{powerupName:i}))),N.button(".nch-button.nch-button--transparentDark.directory-cancel-button",{onClick:e},(()=>N.a((()=>N.format("cancel")))))})))),$=N.renderable((({onClick:e})=>N.button(".nch-button.nch-button--primary.directory-enable-button",{onClick:e},(()=>N.formatText("add"))))),G=N.renderable((function({enterpriseDisplayName:e}){const t=N.l("this-power-up-was-disabled-by-the-enterprise",{enterpriseDisplayName:e});return N.button(".nch-button.nch-button--disabled.directory-disabled-button",{title:t},(()=>N.formatText("add")))})),K=N.renderable((({onClick:e})=>N.a(".button.directory-settings-button",{onClick:e},(function(){return N.icon("gear"),N.formatText("settings")})))),Z=N.renderable((({onClick:e,href:t})=>N.a(".nch-button.nch-button--primary.directory-enable-button",{onClick:e,href:t,target:"_blank"},(function(){return N.formatText("configure")}))));class J extends u{constructor(...e){super(...e),a(this,"disablePopover",(e=>(x.hide(),this.disable(e))))}static initClass(){this.prototype.className="directory-listing-powerup",this.prototype.events={click(e){if(this.options.atomType!==l.Listing)return this.$(e.target).is("a, button")||S({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"card",actionSubjectId:"powerUpCard",source:"boardDirectory",attributes:{tags:this.tags}}}),this.navigateToListing(e)}}}initialize({plugin:e,currentPage:t,directoryView:i}){let n;if(this.plugin=e,this.tags=this.plugin.get("tags"),this.currentPage=t,this.directoryView=i,super.initialize(...arguments),this.canEnable=this.model.editable(),this.initialData={canEnable:this.model.editable(),isLegacy:(n=this.plugin.id,Array.from(s.pluck(f,"id")).includes(n))},this.io=y.get(this.plugin),this.pluginDetails={displayName:this.io.getName(),description:this.io.getDescription(),iconUrl:this.io.getIconUrl(),overview:this.io.getOverview(),author:this.plugin.get("author"),moderatedState:this.plugin.get("moderatedState")},this.initialData.isLegacy){const e=s.findWhere(f,{id:this.plugin.id});this.pluginDetails=D(this.pluginDetails,e)}return this.listenTo(this.model,"change:idOrganization change:powerUps",this.frameDebounce(this.render)),this.listenTo(this.model.boardPluginList,"add remove reset",this.frameDebounce(this.render)),this.listenTo(this.model,"cancel-add-to-team",(()=>x.hide())),this.subscribe(this.model.boardPluginList.snoop(),this.frameDebounce(this.render)),this.subscribe(j(this.model),this.frameDebounce(this.render))}showListingOption(){return!1}navigateToListing(e){if(!this.$(e.target).is("a, button"))return x.isVisible&&x.hide(),null!=this.directoryView?this.directoryView.navigate({idPlugin:this.plugin.id}):void 0}enable(e){B.stop(e);const t=e.target,i=(this.tags||[]).includes("promotional");if(this.model.canEnableAdditionalPowerUps()||i)if(this.plugin.get("idOrganizationOwner")===v){const e={pluginName:this.plugin.get("name"),pluginId:this.plugin.id,pluginTags:this.tags,installSource:"boardDirectory"},i=P.startTask({taskName:"enable-plugin",source:"addPowerUpButton",attributes:e});this.model.enablePluginWithTracing(this.plugin.id,{traceId:i,taskName:"enable-plugin",attributes:e,source:"addPowerUpButton",next:t=>{if(t){const n=t.serverMessage;if(P.taskAborted({taskName:"enable-plugin",source:"addPowerUpButton",error:new Error(n),attributes:r({},e),traceId:i}),this.isGrandfathered())this.model.pull("powerUps",this.pluginDetails.name);else{const t=P.startTask({taskName:"disable-plugin",source:"addPowerUpButton",attributes:e});this.model.disablePluginWithTracing(this.plugin.id,{traceId:t,taskName:"disable-plugin",attributes:e,source:"addPowerUpButton"})}"PLUGIN_NOT_ALLOWED"===n?d.show("plugin not allowed","error","addpluginerror",4e3):d.show("could not add plugin","error","addpluginerror",2e3)}else T({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"added",actionSubject:"powerUp",source:"pupConfigurationInlineDialog",taskId:i}}),I(this.currentPage,"enables","Power-Up","","","enable button",this.plugin.id)}}),this.io.supports("on-enable")&&w.one({plugin:this.plugin,command:"on-enable",board:this.model,el:t}).catch((e=>"undefined"!=typeof console&&null!==console?console.warn("Failed to handle on-enable command.",{error:e.message,id:this.plugin.id}):void 0))}else this.directoryView.navigate({idPlugin:this.plugin.id,isEnabling:!0});else x.toggle({autoPosition:!0,hideHeader:!0,elem:t,view:new p({model:this.model}),displayType:A.get("btg.upgrade-prompt-audit",!1)?"directory-upgrade-prompt-popover":"directory-business-class-popover"})}isGrandfathered(){let e;return this.initialData.isLegacy&&(e=this.pluginDetails.name,Array.from(this.model.get("powerUps")).includes(e))}disable(e){if(this.isGrandfathered()){const t=()=>this.model.pull("powerUps",this.pluginDetails.name);Q(this.model.getOrganization(),(e=>e.isFeatureEnabled("plugins")))?t():h.pushView("disable power up",{elem:e,model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:t})}else{const e=P.startTask({taskName:"disable-plugin",source:"pupConfigurationInlineDialog",attributes:{pluginName:this.plugin.get("name"),pluginId:this.plugin.id,pluginTags:this.tags}}),t=()=>this.model.disablePluginWithTracing(this.plugin.id,{traceId:e,taskName:"disable-plugin",source:"pupConfigurationInlineDialog",attributes:{pluginName:this.plugin.get("name"),pluginId:this.plugin.id,pluginTags:this.tags},next:t=>{t||(T({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"disabled",actionSubject:"powerUp",source:"pupConfigurationInlineDialog"},attributes:{taskId:e}}),I(this.currentPage,"disables","Power-Up","","","disable button",this.plugin.id))}});if(!this.io.supports("on-disable"))return t();w.one({plugin:this.plugin,command:"on-disable",board:this.model,timeout:500}).finally((()=>t()))}}getEnabledState(){return this.initialData.isLegacy?this.model.isPowerUpEnabled(this.pluginDetails.name):this.model.isPluginEnabled(this.plugin.id)}hasPersonalSettings(){const e=s.extend(c.me().getPluginData(this.plugin.id),this.model.getPluginData(this.plugin.id));return s.any(e,(({private:e})=>null!=e))}showDisableWarning(e){const t=this.io.getName();x.pushView({elem:e,autoPosition:!0,getViewTitle:()=>N.l("disable-warning-header",{powerupName:t}),reactElement:O.createElement(q,{key:this.plugin.id,cancel:()=>{x.popView()},disable:this.disablePopover,powerupName:t})})}showPowerUpSettings(e){I(this.currentPage,"opens","Power-Up","","","edit-settings",this.plugin.id),S({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"editSettingsOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),this.directoryView&&this.directoryView.trackScreenEvent("powerUpEditInlineDialog",{powerUpId:this.plugin.id}),this.initialData.isLegacy?x.pushView({elem:e,view:this.pluginDetails.settingsView(this.model),autoPosition:!0}):this.plugin.id===L?x.pushView({elem:e,view:g,autoPosition:!0,options:{board:this.model}}):w.one({plugin:this.plugin,command:"show-settings",board:this.model,el:e}).catch((e=>"undefined"!=typeof console&&null!==console?console.warn("Failed to handle show-settings.",{error:e.message,id:this.plugin.id}):void 0)).done()}showAuthorization(e){I(this.currentPage,"opens","Power-Up","","","show-authorization",this.plugin.id),S({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"authorizeAccountOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),w.one({plugin:this.plugin,command:"show-authorization",board:this.model,el:e}).then((()=>E({idPlugin:this.plugin.id,idBoard:this.model.id,screenName:"pupAuthorizationInlineDialog"}))).catch((e=>"undefined"!=typeof console&&null!==console?console.warn("Failed to handle show-authorization.",{error:e.message,id:this.plugin.id}):void 0)).done()}clearData(e){S({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"removeDataOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),h.pushView("clear plugin data",{elem:e,model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>(I(this.currentPage,"clicks","Power-Up","","","remove-data",this.plugin.id),this.io.supports("remove-data")?w.one({board:this.model,plugin:this.plugin,command:"remove-data",timeout:1e3}).finally((()=>(this.model.clearPluginData(this.plugin.id),c.me().clearPluginData(this.plugin.id)))):(this.model.clearPluginData(this.plugin.id),c.me().clearPluginData(this.plugin.id)))})}toggleOptions(e){B.stop(e);const t=e.target,i=e=>s.bind(e,this,t);return I(this.currentPage,"opens","Power-Up","","","show-settings",this.plugin.id),this.directoryView&&this.directoryView.trackScreenEvent("pupConfigurationInlineDialog",{powerUpId:this.plugin.id}),_.props({supportsAuth:this.io.supports("show-authorization"),supportsSettings:this.pluginDetails.settingsView||this.io.supports("show-settings"),hasPersonalSettings:this.hasPersonalSettings()}).then((e=>e.supportsAuth?w.one({timeout:1e3,plugin:this.plugin,command:"authorization-status",board:this.model}).then((t=>D(e,{authStatus:t}))).catch((t=>("undefined"!=typeof console&&null!==console&&console.warn("Failed to get authorization-status.",{error:t.message,id:this.plugin.id}),e))):e)).then((e=>{const n=A.get("ecosystem.pups-views-transition",!1)&&this.plugin.id===F?i(this.showDisableWarning):this.disablePopover;return x.toggle({autoPosition:!0,getViewTitle:()=>this.io.getName(),elem:t,reactElement:O.createElement(W,{key:this.plugin.id,disable:n,authorize:i(this.showAuthorization),showSettings:i(this.showPowerUpSettings),removeData:i(this.clearData),supportsSettings:e.supportsSettings,supportsAuth:e.supportsAuth,hasPersonalSettings:e.hasPersonalSettings,authStatus:e.authStatus,showListingOption:this.showListingOption(),navigateToListing:i(this.navigateToListing)})}),E({idPlugin:this.plugin.id,idBoard:this.model.id,screenName:"pupConfigurationInlineDialog"})}))}getIntegrationButton(e){const t=e===l.Listing?"boardDirectoryPowerUpDetailsScreen":"powerUpCard";if(this.plugin.id===R)return O.createElement(Z,{onClick:e=>{S({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpEditButton",source:t}}),B.stop(e),x.toggle({elem:e.target,view:new C({model:this.model,modelCache:this.modelCache,fromPowerUpDirectory:!0})})}});let i;if(this.plugin.id===M)i=V;else{if(this.plugin.id!==z)return"";i=U}return O.createElement(Z,{onClick:e=>{S({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpEditButton",source:t}})},href:i})}getButton(e){var t;const i=Q(this.model.getOrganization(),(e=>e.isPremium()));if(A.get("workflowers.show-integrations-in-pup-dir",!1)&&null!==(t=this.tags)&&void 0!==t&&t.includes("integration"))return this.getIntegrationButton(e);if((m()||i)&&!this.model.canEnableAdditionalPowerUps()&&!this.isEnabled&&!(this.tags||[]).includes("promotional"))return;if(this.model.isEnterpriseBoard()&&null!=this.model.getEnterprise()&&!this.model.getEnterprise().isPluginAllowed(this.plugin.id))return O.createElement(G,{enterpriseDisplayName:Q(this.model.getEnterprise(),(e=>e.get("displayName")))});let n="powerUpCard";return e===l.Listing&&(n="boardDirectoryPowerUpDetailsScreen"),this.isEnabled?O.createElement(K,{onClick:e=>(S({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpEditButton",source:n}}),this.toggleOptions(e))}):O.createElement($,{onClick:e=>(S({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpAddButton",source:n,attributes:{tags:this.tags}}}),this.enable(e))})}renderContent(){const{author:e,iconUrl:t,displayName:i,description:n,overview:r}=this.pluginDetails;this.isEnabled=this.getEnabledState({id:this.plugin.id});const a=this.options.atomType||l.Basic;return O.createElement(o,{type:a,atomProps:{subtitle:a===l.Listing?e:void 0,overview:k.markdownAsText(r||n),icon:{url:t||b},heroImageUrl:this.plugin.get("heroImageUrl"),name:i,button:this.getButton(a),usage:Q(this.plugin.get("usageBrackets"),(e=>e.boards))||0,promotional:(this.tags||[]).includes("promotional"),staffPick:(this.tags||[]).includes("staff-pick"),integration:(this.tags||[]).includes("integration")}})}render(){return super.render(...arguments),this.$el.data("idPlugin",this.plugin.id),this}}function Q(e,t){return null!=e?t(e):void 0}J.initClass(),e.exports=J},"./app/scripts/views/directory/directory-search-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),{PowerUpItemType:r}=i("./app/src/components/PowerUp/index.ts"),a=i("./app/scripts/views/directory/base-directory-view.js"),s=i("./app/scripts/views/directory/directory-plugin-item-view.js"),o=i("./node_modules/react/index.js"),l=i("./app/scripts/views/internal/recup-with-helpers.js")("directory");class c extends o.Component{static initClass(){this.prototype.displayName="Directory Search",this.prototype.render=l.renderable((function(){return l.div(".directory-content-body",(()=>this.props.isEmpty?l.div(".directory-search-empty",(()=>l.p((()=>(l.formatText("bummer-no-search-results-for"),l.span((()=>l.text('"'.concat(this.props.searchTerm,'"'))))))))):l.div(".directory-listing")))}))}}c.initClass(),e.exports=class extends a{eventSource(){return"boardDirectorySearch"}renderContent(){return o.createElement(c,{searchTerm:this.options.searchTerm,isEmpty:n.isEmpty(this.options.plugins)})}render(){super.render(...arguments);const e=this.$el.find(".directory-listing");e.empty();const{plugins:t,currentPage:i,directoryView:a}=this.options,o=n.map(t,(e=>this.subview(s,this.model,{atomType:r.Description,currentPage:i,plugin:e,directoryView:a},e.id)));this.appendSubviews(o,e);const l=a.getEnabledPlugins(),c=n.intersection(n.map(t,"id"),n.map(l,"id"));return a.trackScreenEvent(this.eventSource(),{totalListed:t.length,totalListedEnabled:c.length,totalEnabled:l.length,allPowerUpsEnabled:n.map(l,"id")},c),this}}},"./app/scripts/views/directory/directory-sidebar-view.js":function(e,t,i){let n;const r=i("./node_modules/underscore/underscore.js"),a=i("./app/scripts/views/directory/base-directory-view.js"),{asNumber:s}=i("./packages/i18n/formatters.ts"),{getKey:o,Key:l}=i("./packages/keybindings/index.ts"),c=i("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),d=i("./node_modules/react/index.js"),u=i("./app/scripts/views/internal/recup-with-helpers.js")("directory"),{PowerUpTestIds:p}=i("./packages/test-ids/index.ts"),{featureFlagClient:m}=i("./packages/feature-flag-client/index.ts"),{categories:h}=i("./app/scripts/data/directory.js");class g extends d.Component{static initClass(){this.prototype.displayName="Directory Sidebar Placeholder",this.prototype.render=u.renderable((()=>u.div((function(){return u.div(".directory-search",(()=>u.div(".directory-navigation-option.placeholder"))),u.ul((function(){return u.li((()=>u.div(".directory-navigation-option.placeholder"))),u.li((()=>u.div(".directory-navigation-option.placeholder"))),u.li((()=>u.div(".directory-navigation-option.placeholder"))),u.li(".directory-categories",(function(){return u.div(".directory-categories-heading.placeholder",(function(){})),u.ul(".directory-navigation-categories-list",(()=>r.forEach(h,(e=>u.li((()=>u.div(".directory-navigation-option.placeholder")))))))}))}))}))))}}g.initClass();class b extends d.Component{static initClass(){this.prototype.displayName="Directory Sidebar",this.prototype.render=u.renderable((function(){const e=e=>this.directorySearchInput=e,{enabledCount:t,showCustomCategory:i,clearSearch:n,section:a,category:s,idPlugin:o,onCategoryClick:l,onHomeClick:c,onEnabledClick:d,onCustomClick:g,onSearchKeyUp:b,onMadeByTrelloClick:f,onBonusClick:v}=this.props;return u.div((function(){return u.div(".directory-search",(function(){return u.input(".js-directory-search",{type:"text",placeholder:u.l("search"),onKeyUp:b,ref:e}),u.a(".icon-sm.icon-close.dark-hover.hide.js-directory-search-clear",{href:"#",onClick:n})})),u.div(".directory-navigation-section",(()=>u.ul((function(){if(u.li({onClick:c},(()=>u.a(".directory-navigation-option",{href:"#",class:u.classify({active:!a&&!s&&!o})},(()=>{u.span(".icon-md.icon-star"),u.formatText("featured")})))),u.li({onClick:d},(()=>u.a(".directory-navigation-option.enable-option",{href:"#",class:u.classify({active:"enabled"===a}),"data-test-id":p.EnabledPowerUpsLink},(function(){return u.span(".icon-md.icon-power-up"),u.formatText("enabled"),u.span(".directory-navigation-power-up-count",(()=>u.text(t)))})))),i&&u.li({onClick:g},(()=>u.a(".directory-navigation-option",{href:"#",class:u.classify({active:"custom"===a})},(()=>(u.span(".icon-md.icon-gear"),u.formatText("custom")))))),u.li({onClick:f},(()=>u.a(".directory-navigation-option.trello-option",{href:"#",class:u.classify({active:"made-by-trello"===a}),"data-test-id":p.TrelloPowerUpsLink},(function(){return u.span(".icon-md.icon-board"),u.formatText("made-by-trello")})))),m.get("ecosystem.bonus-powerups",!1))return u.li({onClick:v},(()=>u.a(".directory-navigation-option",{href:"#",class:u.classify({active:"bonus"===a}),"data-test-id":p.TrelloPowerUpsLink},(function(){return u.span(".icon-md.icon-sparkle"),u.div(".directory-navigation-bonus",(()=>(u.p((()=>{u.formatText("bonus")})),u.p(".directory-navigation-bonus-sub",(()=>{u.formatText("bonus-sub")})))))}))))})))),u.div(".directory-navigation-section",(()=>u.ul((()=>r.forEach(h,(e=>u.li({onClick:()=>l(e)},(()=>u.a(".directory-navigation-option.category-link",{class:u.classify({active:s===e}),href:"#"},(()=>u.format(e)))))))))))}))}))}constructor(e){super(e),this.directorySearchInput=null,this.focusDirectorySearchInput=this.focusDirectorySearchInput.bind(this)}componentDidMount(){return this.focusDirectorySearchInput()}focusDirectorySearchInput(){return null!=this.directorySearchInput?this.directorySearchInput.focus():void 0}}b.initClass(),e.exports=(n=class extends a{static initClass(){this.prototype.className="directory-sidebar js-directory-sidebar"}initialize({directoryView:e}){return this.directoryView=e,super.initialize(...arguments),this.onSearchKeyUp=r.debounce(this.onSearchKeyUp,100),this.listenTo(this.model,{"change:powerUps":this.render}),this.listenTo(this.model.boardPluginList,{"add remove reset":this.render}),this.subscribe(c(this.model),(()=>this.render()))}updateSearch(e){this.directoryView.updateSearch(e);const t=this.$(".js-directory-search-clear");return(null!=e?e.length:void 0)?t.removeClass("hide"):t.addClass("hide"),this.directoryView.headerView.render()}onSearchKeyUp(e){let t=e.target.value;const i=o(e);if(i===l.Escape&&(t=null,this.emptySearchField()),i===l.Enter&&this.$el.hasClass("active")&&this.directoryView.toggleNavigationMenu(),t!==this.directoryView.search)return this.updateSearch(t)}emptySearchField(){return this.$(".js-directory-search").val("")}clearSearch(){return this.emptySearchField(),this.updateSearch(null)}navigateTo(e,t){if(this.directoryView.navigate({section:e,category:t}),this.$el.hasClass("active"))return this.directoryView.toggleNavigationMenu()}renderContent(){const{section:e,category:t,idPlugin:i,history:n,isLoading:a}=this.directoryView;if(a)return d.createElement(g,null);let o="";const l=this.model.get("powerUps").length+this.model.powerUpsCount();return l>0&&(o=s(l)),d.createElement(b,{enabledCount:o,section:e,idPlugin:i,category:t||null!=i&&(c=r.last(n),u=e=>e.category,null!=c?u(c):void 0),showCustomCategory:!r.isEmpty(this.directoryView.getCustomPlugins()),clearSearch:()=>this.clearSearch(),onSearchKeyUp:e=>(e.persist(),this.onSearchKeyUp(e)),onCategoryClick:e=>this.navigateTo("category",e),onHomeClick:()=>this.navigateTo(),onEnabledClick:()=>this.navigateTo("enabled"),onCustomClick:()=>this.navigateTo("custom"),onMadeByTrelloClick:()=>this.navigateTo("made-by-trello"),onBonusClick:()=>this.navigateTo("bonus")});var c,u}},n.initClass(),n=n)},"./app/scripts/views/directory/directory-spinner-view.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),{PowerUpItemType:r}=i("./app/src/components/PowerUp/index.ts"),{LoadingSkeleton:a}=i("./app/src/components/PowerUp/LoadingSkeleton.tsx"),s=i("./app/scripts/views/directory/base-directory-view.js"),o=i("./node_modules/react/index.js"),l=i("./node_modules/recup/lib/recup.js");class c extends o.Component{static initClass(){this.prototype.displayName="Directory Spinner",this.prototype.render=l.renderable((function(){return l.div(".directory-content-body",(()=>l.div(".directory-listing",(()=>n.times(this.props.numOfAtoms,(()=>l.div(".directory-listing-powerup",(()=>l.tag(a,{type:this.props.atomType})))))))))}))}}c.initClass();class d extends o.Component{static initClass(){this.prototype.displayName="Directory Spinner",this.prototype.render=l.renderable((()=>l.div(".directory-listing",(()=>l.div(".directory-spinner",(()=>l.div(".spinner.loading.centered")))))))}}d.initClass(),e.exports=class extends s{eventSource(){return"boardDirectorySpinnerScreen"}renderContent(){const{section:e,idPlugin:t,isEnabling:i}=this.options;return n.contains(["category","custom","enabled"],e)?o.createElement(c,{numOfAtoms:24,atomType:r.Description}):t||i?o.createElement(d,null):o.createElement(c,{numOfAtoms:6,atomType:r.Featured})}}},"./app/scripts/views/directory/directory-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./node_modules/underscore/underscore.js"),{Analytics:a}=i("./packages/atlassian-analytics/index.ts"),s=i("./app/scripts/db/auth.js"),o=i("./app/scripts/controller/index.js"),l=i("./app/scripts/views/directory/directory-legacy-power-ups.js"),c=i("./app/scripts/views/directory/directory-bonus-view.js"),d=i("./app/scripts/views/directory/directory-enabled-view.js"),u=i("./app/scripts/views/directory/directory-listing-view.js"),p=i("./app/scripts/views/directory/directory-header-view.js"),m=i("./app/scripts/views/directory/directory-home-view.js"),h=i("./app/scripts/views/directory/directory-search-view.js"),g=i("./app/scripts/views/directory/directory-spinner-view.js"),b=i("./app/scripts/views/directory/directory-page-view.js"),f=i("./app/scripts/views/directory/directory-plugin-enable-view.js"),v=i("./app/scripts/views/directory/directory-sidebar-view.js"),{firstPartyPluginsOrg:k}=i("./packages/config/index.ts"),{BUTLER_POWER_UP_ID:y}=i("./app/scripts/data/butler-id.js"),{mapPowerUpId:w,e2bId:j}=i("./packages/config/index.ts"),x=i("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),C=i("./app/scripts/views/internal/plugins/plugin-io-cache.js"),{track:_,trackUe:O}=i("./packages/analytics/index.ts"),{Key:E,registerShortcut:S,Scope:T,unregisterShortcut:N}=i("./packages/keybindings/index.ts"),P=i("./app/scripts/views/internal/view.js"),{createSearchIndex:I}=i("./app/src/components/PowerUpDirectory/SearchHelper.ts"),{categories:B}=i("./app/scripts/data/directory.js"),{workspaceNavigationState:D,workspaceNavigationHiddenState:A}=i("./app/src/components/WorkspaceNavigation/index.ts"),L=function(e,t,i,n){let r="home page";return n?r="search":i?r="list page":["enabled","custom","made-by-trello","bonus"].includes(e)?r=e+" page":"category"===e&&(r="category ".concat(t," page")),"Power-Up directory ".concat(r)};class F extends P{static initClass(){this.prototype.className="directory-wrapper",this.prototype.events={"click .js-directory-responsive-overlay":"toggleNavigationMenu"}}constructor(e){super(e),this.onShortcut=this.onShortcut.bind(this),S(this.onShortcut,{scope:T.PowerUpsDirectory,key:E.Escape})}initialize({boardView:e}){this.boardView=e,super.initialize(...arguments),this.featuredPlugins=[],this.history=[],this.isLoading=!0,this.plugins=[],this.search=null,this.headerView=this.subview(p,this.model,{directoryView:this}),this.sidebarView=this.subview(v,this.model,{directoryView:this}),this.category=this.options.category,this.section=this.options.section,this.idPlugin=this.options.idPlugin,this.isEnabling=this.options.isEnabling,null==this.section||r.contains(["enabled","category","custom","made-by-trello","bonus"],this.section)||this.navigate(),null==this.category||r.contains(B,this.category)||this.navigate(),this.preparePlugins(),this.makeDebouncedMethods("onOrganizationChange"),this.listenTo(this.model.boardPluginList,{"add remove reset":this.onPluginChange}),this.listenTo(this.model,{"change:powerUps":this.onPluginChange,"change:idOrganization":this.onOrganizationChangeDebounced}),this.subscribe(x(this.model),(()=>this.onPluginChange())),this.workspaceNavExpanded=D.value.expanded,this.workspaceNavEnabled=D.value.enabled,this.workspaceNavHidden=A.value.hidden;const t=()=>{const e=n(".directory-wrapper");this.workspaceNavExpanded=D.value.expanded,this.workspaceNavEnabled=D.value.enabled,this.workspaceNavHidden=A.value.hidden,!D.value.enabled||A.value.hidden?(e.removeClass("directory-wrapper--workspace-nav-expanded"),e.removeClass("directory-wrapper--workspace-nav-collapsed")):D.value.expanded?(e.addClass("directory-wrapper--workspace-nav-expanded"),e.removeClass("directory-wrapper--workspace-nav-collapsed")):(e.addClass("directory-wrapper--workspace-nav-collapsed"),e.removeClass("directory-wrapper--workspace-nav-expanded"))};return this.unsubscribeFromWorkspaceNavigationState=D.subscribe(t),this.unsubscribeFromWorkspaceNavigationHiddenState=A.subscribe(t),this.trackSearch=r.debounce(this.trackSearch,5e3,!0)}remove(){return N(this.onShortcut),this.unsubscribeFromWorkspaceNavigationState(),this.unsubscribeFromWorkspaceNavigationHiddenState(),super.remove(...arguments)}onShortcut(){if(!this.$(".js-directory-search").is(":focus"))return this.boardView.closeDirectory(),_("Keyboard Shortcuts","Esc - Close Power-Ups Directory","Power-Ups Directory")}onOrganizationChange(){return this.isLoading=!0,this.sidebarView.render(),this.renderSubview(),this.model.loadPlugins().then((()=>this.preparePlugins()))}onPluginChange(e){return this.setBodyHeight()}toggleNavigationMenu(){const e=n(".js-directory-sidebar"),t=n(".js-directory-responsive-overlay");return e.hasClass("active")?(e.removeClass("active"),t.removeClass("active")):(e.addClass("active"),t.addClass("active"))}preparePlugins(){let e;return this.boardView.reloadDirectoryPlugins?(e=this.model.loadPlugins(),this.boardView.reloadDirectoryPlugins=!1):e=this.model.getAvailablePlugins(),e.then((e=>{if(this.plugins=e,this.model.isTemplate()&&(this.plugins=e.filter((e=>e.id!==j))),this.index=I(this.plugins.map((e=>e.toJSON()))),this.isLoading=!1,"custom"===this.section&&!this.getCustomPlugins().length||this.idPlugin&&!this.getPlugin())return this.navigate();if(this.idPlugin){let e;const t=this.getPlugin();if(e=t.get("moderatedState"),["hidden","moderated"].includes(e))return this.navigate();if(t.get("idOrganizationOwner")===k)return this.isEnabling=!1,this.navigate({section:this.section,idPlugin:this.idPlugin})}return this.sidebarView.render(),this.renderSubview()}))}getCommonTrackingAttributes(){var e;return{boardId:this.model.id,organizationId:this.model.get("idOrganization"),boardPaidStatus:(()=>{var e,t,i,n;switch(!1){case!this.model.isEnterpriseBoard():return"enterprise";case!(null!==(e=this.model)&&void 0!==e&&null!==(t=e.getOrganization())&&void 0!==t&&t.isBusinessClass()):return"bc";case!(null!==(i=this.model)&&void 0!==i&&null!==(n=i.getOrganization())&&void 0!==n&&n.isStandard()):return"standard";default:return"free"}})(),maxUserPaidStatus:s.isLoggedIn()?null==s||null===(e=s.me())||void 0===e?void 0:e.getMaxPaidStatus():"notLoggedIn"}}getPlugin(){return r.find(this.plugins,(e=>e.id===this.idPlugin))}getPluginsForCategory(){let e;return r.chain(this.plugins).filter((t=>(e=this.category,Array.from(t.get("categories")).includes(e)))).shuffle().value()}getCustomPlugins(){return r.chain(this.plugins).filter((e=>!e.get("public"))).sortBy((e=>C.get(e).getName().toLowerCase())).value()}getPluginsForSearch(){return this.index.search(this.search).map((e=>this.plugins.find((t=>t.id===e.id))))}getTrelloPlugins(){let e;return r.chain(this.plugins).filter((t=>(e="made-by-trello",Array.from(t.get("tags")).includes("made-by-trello")))).sortBy((e=>C.get(e).getName().toLowerCase())).value()}getBonusPlugins(){let e;return r.chain(this.plugins).filter((t=>(e="promotional",Array.from(t.get("tags")).includes("promotional")))).sortBy((e=>C.get(e).getName().toLowerCase())).value()}getEnabledPlugins(){const e=r.flatten([this.model.idPluginsEnabled(),this.model.get("powerUps")]);return r.chain(e).filter((e=>!(this.model.isButlerCore()&&e===y||this.model.isMapCore()&&e===w))).map((e=>r.find(this.plugins,(t=>t.id===e||r.findWhere(l,{id:t.id,name:e}))))).compact().sortBy((e=>C.get(e).getName().toLowerCase())).value()}filterOutHiddenPlugins(e){return r.filter(e,(function(e){let t;return t=e.get("moderatedState"),!["hidden","moderated"].includes(t)}))}updateSearch(e){if(e!==this.search)return this.search=e,this.renderSubview()}trackSearch(){return O(L(this.section,this.category,this.idPlugin),"opens",this.getCurrentPage())}trackScreenEvent(e,t){return a.sendScreenEvent({name:e,attributes:r.extend(t,this.getCommonTrackingAttributes())})}getCurrentPage(){return L(this.section,this.category,this.idPlugin,this.search)}navigate(e){null==e&&(e={});const{section:t,category:i,idPlugin:n,isNavigatingBack:a,isEnabling:s}=e;a||r.isEqual({section:this.section,category:this.category,idPlugin:this.idPlugin,isEnabling:this.isEnabling},{section:t,category:i,idPlugin:n,isEnabling:s})||this.history.push({section:this.section,category:this.category,idPlugin:this.idPlugin,isEnabling:this.isEnabling});let l="power-ups";n?(l="power-up",O(this.getCurrentPage(),"opens",L(t,i,n),"","","",n)):O(this.getCurrentPage(),"opens",L(t,i)),this.section=t,this.category=i,this.idPlugin=n,this.isEnabling=!!s;const c=[];return null!=this.section&&c.push(this.section),null!=this.category&&c.push(this.category),null!=this.idPlugin&&(c.push(this.idPlugin),this.isEnabling&&c.push("enable")),o.setBoardLocation(this.model.id,l,c,{replace:!1}),this.search=null,this.sidebarView.clearSearch(),this.sidebarView.render(),this.headerView.render(),this.renderSubview()}navigateBack(){if(r.isEmpty(this.history))return this.navigate({isNavigatingBack:!0});const{section:e,category:t,idPlugin:i}=this.history.pop();return this.navigate({section:e,category:t,idPlugin:i,isNavigatingBack:!0})}activeEventSource(){return this.activeSubview?this.activeSubview.eventSource():"boardDirectoryScreen"}setBodyHeight(e){return e||this.model.canEnableAdditionalPowerUps()?this.$(".js-directory-body").removeClass("has-upsell"):s.me().isAdDismissed("DirectoryBusinessClassBanner")?void 0:this.$(".js-directory-body").addClass("has-upsell")}homeSubview(){return this.subview(m,this.model,{currentPage:this.getCurrentPage(),directoryView:this})}bonusSubview(){return this.subview(c,this.model,{plugins:this.plugins,currentPage:this.getCurrentPage(),directoryView:this})}enabledSubview(){return this.subview(d,this.model,{plugins:this.plugins,currentPage:this.getCurrentPage(),directoryView:this})}pluginListingSubview(){return this.subview(u,this.model,{plugin:this.getPlugin(),currentPage:this.getCurrentPage(),directoryView:this})}pluginEnableView(){return this.subview(f,this.model,{plugin:this.getPlugin(),currentPage:this.getCurrentPage(),directoryView:this})}searchSubview(){return this.trackSearch(),this.subview(h,this.model,{plugins:this.filterOutHiddenPlugins(this.getPluginsForSearch()),searchTerm:this.search,currentPage:this.getCurrentPage(),directoryView:this})}pageSubView(e,t){return this.subview(b,this.model,{title:e,plugins:this.filterOutHiddenPlugins(t),currentPage:this.getCurrentPage(),directoryView:this})}renderSubview(){return this.$contentContainer=this.$("#directory-content"),this.$contentContainer.empty(),null!=this.activeSubview&&this.deleteSubview(this.activeSubview),this.activeSubview=(()=>{switch(!1){case!this.isLoading:return this.subview(g,this.model,{section:this.section,idPlugin:this.idPlugin,isEnabling:this.isEnabling});case!this.search:return this.searchSubview();case"category"!==this.section||!this.category:return this.pageSubView(this.category,this.getPluginsForCategory());case"made-by-trello"!==this.section:return this.pageSubView(this.section,this.getTrelloPlugins());case"bonus"!==this.section:return this.bonusSubview();case"custom"!==this.section:return this.pageSubView(this.section,this.getCustomPlugins());case"enabled"!==this.section:return this.enabledSubview();case!this.idPlugin||!this.isEnabling:return this.pluginEnableView();case!this.idPlugin:return this.pluginListingSubview();default:return this.homeSubview()}})(),this.appendSubview(this.activeSubview,this.$contentContainer)}renderOnce(){return this.trackScreenEvent("boardDirectoryScreen",{totalEnabled:this.model.powerUpsCount(),allPowerUpsEnabled:this.model.idPluginsEnabled()}),this.appendSubview(this.headerView),this.$el.append('<div class="directory-body js-directory-body"></div>'),this.$directoryBody=this.$(".js-directory-body"),this.setBodyHeight(),this.$directoryBody.append('<div class="directory-responsive-overlay js-directory-responsive-overlay"></div>'),this.appendSubview(this.sidebarView,this.$directoryBody),this.$directoryBody.append('<div id="directory-content"></div>'),this.workspaceNavEnabled&&!this.workspaceNavHidden&&(this.workspaceNavExpanded?this.$el.addClass("directory-wrapper--workspace-nav-expanded"):this.$el.addClass("directory-wrapper--workspace-nav-collapsed")),this.renderSubview(),this}}F.initClass(),e.exports=F},"./app/scripts/views/emoji/trello-emoji-picker.js":function(e,t,i){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const{EmojiProviderComponent:r}=i("./app/src/components/Emoji/EmojiProviderComponent.tsx"),a=i("./node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js").default,s=i("./node_modules/react/index.js"),o=i("./app/scripts/views/internal/recup-with-helpers.js")("reactions"),l=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_emoji_uploader"),c=i("./node_modules/underscore/underscore.js"),{Button:d}=i("./packages/nachos/button.ts");class u extends s.Component{static initClass(){this.defaultProps={title:"",emoji:"",color:"#0079BF",set:"twitter",i18n:{search:o.l("search"),notfound:o.l("no-emoji-found"),skintext:o.l("skintext"),categories:{search:o.l("categories-search-results"),recent:o.l("categories-frequently-used"),people:o.l("categories-smileys-and-people").replace(/&amp;/g,"&"),nature:o.l("categories-animals-and-nature").replace(/&amp;/g,"&"),foods:o.l("categories-food-and-drink").replace(/&amp;/g,"&"),activity:o.l("categories-activity"),places:o.l("categories-travel-and-places").replace(/&amp;/g,"&"),objects:o.l("categories-objects"),symbols:o.l("categories-symbols"),flags:o.l("categories-flags"),custom:o.l("categories-custom")}},style:{width:"408px"},emojiSize:"28px",skinEmoji:"v",autoFocus:!0,showCustomEmojiButton:!1}}componentDidMount(){return document.querySelector("#chrome-container").scrollTop=0}render(){const e=()=>s.createElement("div",{className:"emoji-mart-no-results"},s.createElement("div",{className:"emoji-mart-no-results-illo"},s.createElement("div",{className:"emoji-mart-no-results-label"},o.l("no-emoji-found")),s.createElement("img",{className:"emoji-mart-no-results-img",src:i("./resources/images/illos.png")})),this.props.showCustomEmojiButton&&s.createElement("div",{className:"emoji-mart-no-results-btn"},s.createElement(d,{onClick:this.props.onCustomEmojiButtonClick},l.l("create-custom-emoji"))));return s.createElement("div",{onClick:function(e){return e.preventDefault()}},s.createElement(r,null,((t,i)=>s.createElement(a,n({ref:e=>{this.pickerRef=e}},c.extend({},this.props,{data:t,backgroundImageFn:i,notFound:e}))))))}}u.initClass(),e.exports=u},"./app/scripts/views/internal/autocomplete/auto-insertion-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./packages/browser/index.ts"),{getKey:a,isArrow:s,Key:o}=i("./packages/keybindings/index.ts"),l=i("./app/scripts/views/lib/pop-over.js"),c=i("./app/scripts/lib/util/index.js"),d={checkInsert(e){const t=a(e);if(l.isVisible&&!r.isTouch()){if(e.shiftKey&&[o.ArrowUp,o.ArrowDown].includes(t)||e.altKey&&[o.ArrowUp,o.ArrowDown].includes(t))return;if(t===o.Escape)return c.stop(e),void l.hide();{const i=[{listClass:".js-available-members",itemClass:".js-select-member"},{listClass:".js-available-emoji",itemClass:".js-select-emoji"},{listClass:".js-card-list",itemClass:".js-select-card"}];for(const{listClass:r,itemClass:a}of Array.from(i)){let i=n(".pop-over").find(r);if(i.length>0){if([o.Enter,o.Tab].includes(t))return c.stop(e),i.find(".item:first").hasClass("selected")&&(this.keyAutoMention(e),i=n(".pop-over").find(r)),i.find(".item.selected:first ".concat(a)).first().click(),l.hide(),!1;if([o.ArrowUp,o.ArrowDown].includes(t))return c.stop(e),c.navMenuList(i,".item",t),!1}}}}},keyAutoMention(e){if(!r.isTouch()){if(s(a(e))||a(e)===o.Enter)return;if(a(e)===o.Escape)return void(l.isVisible&&c.stop(e));const t=c.getWordFromCaret(this.getTextInput());if(new RegExp("^@\\S").test(t.str.substring(0,2)))return this.getAutoMentionerView("input").then((e=>{0!==e.filterMentionablesForMatches(t.str.substring(1).toLowerCase()).length?(l.show({elem:this.getMentionTarget(),view:e,keepEdits:!0}),this.getTextInput().is(":focus")||this.getTextInput().focus()):l.hide()}));if(/^:[a-z0-9_]+$/.test(t.str)){const e=this.getEmojiCompleterView("input");return l.show({elem:this.getEmojiTarget(),view:e,keepEdits:!0}),void(this.getTextInput().is(":focus")||this.getTextInput().focus())}return this.setTimeout((()=>l.hide()),5)}}};e.exports=d},"./app/scripts/views/internal/autocomplete/auto-mentioner-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/db/auth.js"),{getKey:a,Key:s}=i("./packages/keybindings/index.ts"),o=i("./app/scripts/lib/localize.js"),l=i("./app/scripts/views/lib/pop-over.js"),c=i("./app/scripts/views/member/select-member-view.js"),d=i("./app/scripts/views/member/select-filterable-view.js"),{TrelloStorage:u}=i("./packages/storage/index.ts"),p=i("./app/scripts/lib/util/index.js"),m=i("./app/scripts/views/internal/view.js"),h=i("./node_modules/underscore/underscore.js"),g=i("./app/scripts/views/internal/templates.js"),{Analytics:b,getScreenFromUrl:f}=i("./packages/atlassian-analytics/index.ts"),v=i("./app/scripts/lib/util/text/search-filter.js"),k="recentMentions";let y=u.get(k)||[];class w extends m{static initClass(){this.prototype.viewTitleKey="mention",this.prototype.events={"mouseenter .js-select-member":"hoverItem","click .js-select-member:not(.disabled)":"insertMember","mouseenter .js-select-all-card-members":"deselectMember","mouseenter .js-select-all-board-members":"deselectMember",keydown:"keydownEvent","keyup .js-filter-mentionables":"keyupEvent"}}initialize({board:e,card:t}){let i;if(this.board=e,this.card=t,i=null!=this.board?this.board.getOrganization():void 0)return this.listenTo(i.memberList,"add remove reset",this.frameDebounce(this.render))}render(){const e={};return this.options.input&&(e.input=!0),this.options.button&&(e.button=!0),this.$el.html(g.fill(i("./app/scripts/views/templates/popover_auto_mentioner.js"),e)),b.sendScreenEvent({name:"mentionMembersInlineDialog",containers:{card:{id:null!=this.card?this.card.id:void 0},board:{id:null!=this.board?this.board.id:void 0}}}),this.$mentionablesList=this.$(".js-available-members"),this.options.button?this.fillMentionables(this.getMentionables()):this.options.input&&this.filterMentionables(),this}getTextInput(){return n(this.options.target)}getExtraMentionables(e,t){const i={type:"extra",text:"card",names:["all","card"],extraText:o(["automentioner","all-members-on-card"]),mentionCount:e.length},n={type:"extra",text:"board",names:["all","board"],extraText:o(["automentioner","all-members-on-board"]),mentionCount:t.length};return null!=this.card?[i,n]:[n]}getMentionables(){const e=r.myId(),t=(e,t)=>(null==t&&(t={}),h.chain(e).reject((e=>this.board.isDeactivated(this.modelCache.get("Member",e)))).map((e=>h.extend({},t,{id:e,names:p.getMemNameArrayFromId(this.modelCache,e),type:"member"}))).value()),i=t(null!=this.card?this.card.getIdCardMems():void 0),n=t(this.board.getIdBoardMems()),a=(()=>{let e;if(null!=(e=this.board.getOrganization())){let i=[],n=[];const r=e.memberList.filter((t=>!e.isDeactivated(t)));if(this.board.isPrivate())if(e.hasPremiumFeature("superAdmins")){const t=h.groupBy(r,(t=>e.ownedByMember(t)?"admin":"not-admin"));i=h.pluck(t.admin,"id"),n=h.pluck(t["non-admin"],"id")}else n=h.pluck(r,"id");else i=h.pluck(r,"id");return[...Array.from(t(i)),...Array.from(t(n,{disabled:!0,extraText:o(["mention member","board not team visible"])}))]}return[]})();return h.chain([...Array.from(i),...Array.from(n),...Array.from(a)]).uniq((e=>e.id)).sortBy((function(t,i,n){const r=y.indexOf(t.id);return t.id===e?n.length:-1===r?y.length:r})).concat(this.getExtraMentionables(i,n)).value()}clearMentionables(){return this.$mentionablesList.empty()}keydownEvent(e){let t;if(t=a(e),[s.Enter,s.Tab].includes(t))return p.stop(e),void this.$mentionablesList.find(".item.selected:first .js-select-member").click()}keyupEvent(e){const t=a(e);return[s.Enter,s.Tab,s.ArrowLeft,s.ArrowRight].includes(t)?void 0:[s.ArrowUp,s.ArrowDown].includes(t)?(p.stop(e),void p.navMenuList(this.$mentionablesList,".item",t)):this.filterMentionables()}filterMentionables(e){let t;if(this.clearMentionables(),this.options.button)t=n(".js-filter-mentionables").val().trim().toLowerCase();else if(this.options.input){const e=this.getTextInput();t=p.getWordFromCaret(e).str.substring(1).toLowerCase()}const i=this.filterMentionablesForMatches(t);if(!this.options.input||0!==i.length)return this.fillMentionables(i),p.selectMenuItem(this.$mentionablesList,".item",this.$mentionablesList.find(".item").first());this.setTimeout((()=>l.hide()),5)}filterMentionablesForMatches(e){const t=v(e);return h.filter(this.getMentionables(),(e=>t(e.names)))}hoverItem(e){const t=n(e.target).closest(".item");return p.selectMenuItem(this.$mentionablesList,".item",t)}deselectMember(e){return this.$mentionablesList.find(".item").removeClass("selected")}fillMentionables(e){const t=((e=h.groupBy(e,"type")).member||[]).slice(0,50).map((({id:e,disabled:t,extraText:i})=>({member:this.modelCache.get("Member",e),disabled:t,extraText:i})));this.$mentionablesList.empty();const i=[];for(const{member:e,disabled:n,extraText:r}of Array.from(t))i.push(this.subview(c,e,{disabled:n,extraText:r}));if(this.appendSubviews(i,this.$mentionablesList),null!=e.extra)for(const t of Array.from(e.extra))this.$mentionablesList.append(new d(t).render().el);this.$(".js-empty-list").toggleClass("hide",h.keys(e).length>0)}insertMember(e){let t;p.stop(e);const i=n(e.currentTarget).attr("autocompleteText");this.saveRecent(n(e.currentTarget).attr("idMember"));let r="member",a=n(e.currentTarget).attr("idMember"),s=f();"board"===i&&(r="board",a=null!=this.board?this.board.id:void 0,"boardScreen"===s&&(s="boardMenuDrawerAboutScreen")),"card"===i&&(r="card",a=null!=this.card?this.card.id:void 0),b.sendTrackEvent({action:"mentioned",actionSubject:r,actionSubjectId:a,source:s,containers:{card:{id:null!=this.card?this.card.id:void 0},board:{id:null!=this.board?this.board.id:void 0}}});const o=this.getTextInput();if(this.options.input)t=p.getWordFromCaret(o),p.insertSelection(o,"@".concat(i," "),t.start,t.end);else{const e=p.getCaretPosition(o);null!=e&&(t={start:e,end:e}),p.insertSelection(o,"@".concat(i," "),null!=t?t.start:void 0,null!=t?t.end:void 0)}l.hide()}saveRecent(e){let t=u.get(k)||[];return t=h.chain([e,...Array.from(t)]).uniq().first(16).value(),u.set(k,t),y=t}}w.initClass(),e.exports=w},"./app/scripts/views/internal/autocomplete/completer-util.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/card/attachment-type-picker-view.js"),a=i("./app/scripts/views/internal/autocomplete/auto-mentioner-view.js"),s=i("./app/scripts/views/internal/autocomplete/emoji-completer-view.js"),o=i("./app/scripts/db/model-loader.js"),l=i("./app/scripts/views/lib/pop-over.js"),c=i("./app/scripts/views/internal/autocomplete/trello-completer-view.js"),d=i("./app/scripts/lib/util/index.js"),{Analytics:u}=i("./packages/atlassian-analytics/index.ts"),p=i("./node_modules/bluebird/js/browser/bluebird.js"),m=i("./node_modules/underscore/underscore.js"),h={},g={openEmojiCompleter(e){return d.stop(e),l.pushView({view:this.getEmojiCompleterView("button")})},autoMentionerView(e,t,i){return new a({model:null!=t?t:i,button:"button"===e,input:"input"===e,target:this.getTextInput(),card:t,board:i,modelCache:this.modelCache})},getAutoMentionerView(e){let t;const i=null!=this.getCard?this.getCard():this.card,n=i?i.getBoard():this.board;null!=(t=null!=n?n.getOrganization():void 0)&&(!h[t.id]||Date.now()-h[t.id]>3e5)&&(h[t.id]=Date.now(),o.loadOrganizationMembersData(t.id));const r=this.modelCache.get("Board",n.id).get("memberships"),a=m.indexBy(n.getIdBoardMems());if(a.length!==r.length){if(r.some((e=>!e.deactivated&&!a.hasOwnProperty(e.idMember))))return o.loadBoardMembers(n.id).then((()=>this.autoMentionerView(e,i,n)))}return p.resolve(this.autoMentionerView(e,i,n))},getEmojiCompleterView(e){const t=null!=this.getCard?this.getCard():this.card,i=t?t.getBoard():this.board;return new s({model:null!=t?t:i,button:"button"===e,input:"input"===e,target:this.getTextInput(),card:t,modelCache:this.modelCache})},getTrelloCompleterView(){const e=this.getCard();return new c({model:e,button:!0,target:this.getTextInput(),card:e,modelCache:this.modelCache})},commentAddAttachment(e){d.stop(e);const t=n(e.target).closest(".comment-box").find("textarea"),i=t.prop("selectionStart"),a=t.prop("selectionEnd"),s=t.val().substring(i,a),o=this.getCard(),c=new r({model:this.model,modelCache:this.modelCache,defaultName:s});c.on("attach",(function({url:e,name:n}){const r=(n=n||s)?"[".concat(n,"](").concat(e,")"):e;return d.insertSelection(t,"".concat(r," "),i,a),t.trigger("autosize.resize")})),l.toggle({elem:n(e.currentTarget),keepEdits:!0,view:c,options:{model:o,modelCache:this.modelCache}}),u.sendScreenEvent({name:"cardAttachmentPickerInlineDialog",containers:{card:{id:o.id}}})},commentMentionMember(e){d.stop(e),this.getAutoMentionerView("button").then((t=>l.toggle({elem:n(e.currentTarget),keepEdits:!0,view:t}))),u.sendScreenEvent({name:"mentionMembersInlineDialog",containers:{card:{id:b(this.getCard(),(e=>e.id))}}})},commentAddEmoji(e){d.stop(e),l.toggle({elem:n(e.currentTarget),keepEdits:!0,view:this.getEmojiCompleterView("button")}),u.sendScreenEvent({name:"cardEmojiPickerInlineDialog",containers:{card:{id:b(this.getCard(),(e=>e.id))}}})},commentAddCard(e){d.stop(e),l.toggle({elem:n(e.currentTarget),keepEdits:!0,view:this.getTrelloCompleterView()}),u.sendScreenEvent({name:"cardTrelloCompleterInlineDialog",containers:{card:{id:b(this.getCard(),(e=>e.id))}}})}};function b(e,t){return null!=e?t(e):void 0}e.exports=g},"./app/scripts/views/internal/autocomplete/emoji-completer-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/db/auth.js"),a=i("./app/scripts/views/internal/autocomplete/emoji-uploader-view.js"),{getKey:s,Key:o}=i("./packages/keybindings/index.ts"),l=i("./app/scripts/views/lib/pop-over.js"),c=i("./app/scripts/lib/util/index.js"),d=i("./app/scripts/views/internal/view.js"),u=i("./node_modules/underscore/underscore.js"),p=i("./app/scripts/views/internal/templates.js"),{Analytics:m}=i("./packages/atlassian-analytics/index.ts"),h=i("./app/src/emoji.ts").default,g=i("./app/scripts/lib/localize.js"),b=i("./app/scripts/views/templates/popover_emoji_completer.js"),{dontUpsell:f}=i("./packages/browser/index.ts"),v=i("./app/scripts/views/internal/autocomplete/emoji-mart-completer-view.js"),{featureFlagClient:k}=i("./packages/feature-flag-client/index.ts");class y extends d{static initClass(){this.prototype.viewTitleKey="emoji",this.prototype.events={"mouseenter .js-select-emoji":"hoverItem","click .js-select-emoji":"selectEmoji",keydown:"keydownEvent","keyup .js-filter-emoji":"keyupEvent","click .js-upload-emoji":"openEmojiUploader"}}initialize(){var e,t,i;this._customEmoji={},(r.me().hasPremiumFeature("customEmoji")||null!==(e=this.options.card)&&void 0!==e&&null!==(t=e.getBoard())&&void 0!==t&&null!==(i=t.getOrganization())&&void 0!==i&&i.hasPremiumFeature("customEmoji"))&&(r.me().loadCustomEmojis(),this.listenTo(r.me().customEmojiList,"change add remove reset",this.updateCustomEmoji),this.updateCustomEmoji())}render(){var e,t,i;const n={};return this.options.input&&(n.input=!0),this.options.button&&(n.button=!0),n.upsellEnabled=!f()||r.me().hasPremiumFeature("customEmoji")||(null===(e=this.options.card)||void 0===e||null===(t=e.getBoard())||void 0===t||null===(i=t.getOrganization())||void 0===i?void 0:i.hasPremiumFeature("customEmoji")),this.$el.html(b(n)),this.$emojiList=this.$(".js-available-emoji"),this.options.input&&this.filterEmoji(this.getInput()),this.options.button&&this.fillDefaultEmojiList(),this}keyupEvent(e){const t=s(e);if([o.ArrowUp,o.ArrowDown].includes(t))return c.stop(e),void c.navMenuList(this.$emojiList,".item",t);if([o.Enter,o.Tab].includes(t))return;const i=this.getInput();return this.filterEmoji(i)}keydownEvent(e){let t;if(t=s(e),[o.Enter,o.Tab].includes(t)){c.stop(e);const t=this.$emojiList.find(".item.selected:first .js-select-emoji");if(t.length>0)return t.click()}}updateCustomEmoji(){return this._customEmoji=u.object(r.me().customEmojiList.map((e=>[e.get("name"),e.get("url")]))),this.render()}getTextInput(){return n(this.options.target)}getInput(){if(this.options.button)return this.$(".js-filter-emoji").val();{const e=this.getTextInput();return c.getWordFromCaret(e).str.substring(1)}}filterEmoji(e){if(this.clearEmojiList(),this.fillEmojiList(e))return c.selectMenuItem(this.$emojiList,".item",this.$emojiList.find(".item").first())}renderEmojiList(e){for(const t of Array.from(e)){const e={name:t,image:null!=this._customEmoji[t]?this._customEmoji[t]:h[t]};this.$emojiList.append(p.fill(i("./app/scripts/views/templates/select_emoji.js"),e))}return this}fillDefaultEmojiList(e){this.renderEmojiList(["thumbsup","smile","warning","sunglasses","ballot_box_with_check","facepalm"])}fillEmojiList(e){let t=e.replace(/\W+/g,"");if(""===e)return this.fillDefaultEmojiList(),!1;if(/[A-Z]/.test(t)&&this.options.input)return l.hide(),!1;t=t.toLowerCase(),this.$(".js-upload-emoji").text(g("upload emoji named",{emojiName:t})).attr("data-emojiname",t),this.$(".js-no-matching-emoji-helper").text(g("no matching emoji helper",{emojiName:t}));const i=this.getEmojiSuggestions(t).slice(0,6);return i.length>0?(this.$(".js-results").removeClass("hide"),this.$(".js-no-results").addClass("hide"),this.renderEmojiList(i)):(this.$(".js-results").addClass("hide"),this.$(".js-no-results").removeClass("hide")),0!==i.length}clearEmojiList(){return this.$emojiList.empty()}getEmojiSuggestions(e){let t;const i=new RegExp("^".concat(c.escapeForRegex(e))),n=(()=>{const e=[];for(t in this._customEmoji)i.test(t)&&e.push(t);return e})(),r=(()=>{const e=[];for(t in h)i.test(t)&&e.push(t);return e})();if(null==this._sortOverride){const e=["thumbsup","smile","warning","sunglasses","facepalm","question","thumbsdown","wink","smiley","smile_cat","bowtie","heart","laughing","bug","cry","dancer","dancers","clap","shipit","white_check_mark","star","arrow_down","point_down","point_up","point_left","metal"];this._sortOverride={};for(let t=0;t<e.length;t++){const i=e[t];this._sortOverride[i]=t+1}}return u.uniq([...Array.from(n),...Array.from(r)]).sort(((e,t)=>{const i=this._sortOverride[e],n=this._sortOverride[t];return i&&!n?-1:n&&!i?1:(i&&n&&(e=i,t=n),e<t?-1:e>t?1:0)}))}hoverItem(e){const t=n(e.target).closest(".item");return c.selectMenuItem(this.$emojiList,".item",t)}selectEmoji(e){c.stop(e);const t=n(e.target).closest(".js-select-emoji").find(".emoji-name").text();this.insertEmoji(t),l.hide()}insertEmoji(e){let t;const i=this.getTextInput();if(this.options.input)t=c.getWordFromCaret(i);else{const e=c.getCaretPosition(i);null!=e&&(t={start:e,end:e})}return c.insertSelection(i,":".concat("".concat(e).trim(),": "),null!=t?t.start:void 0,null!=t?t.end:void 0),m.sendUIEvent({action:"selected",actionSubject:"emoji",source:"emojiCompleterInlineDialog",attributes:{emojiName:e}})}openEmojiUploader(e){c.stop(e);const t=this.$(e.target).attr("data-emojiname");l.pushView({keepEdits:!0,view:a,options:{model:r.me(),emojiName:t,completerView:this,card:this.options.card}}),m.sendUIEvent({action:"opened",actionSubject:"inlineDialog",actionSubjectId:"customEmojiUploaderInlineDialog",source:"cardDetailScreen"})}}y.initClass();let w=y;k.get("fep.emoji-mart-completer",!1)&&(w=v),e.exports=w},"./app/scripts/views/internal/autocomplete/emoji-mart-completer-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/db/auth.js"),a=i("./app/scripts/views/internal/autocomplete/emoji-uploader-view.js"),{getKey:s,Key:o}=i("./packages/keybindings/index.ts"),l=i("./app/scripts/views/lib/pop-over.js"),c=i("./app/scripts/lib/util/index.js"),d=i("./app/scripts/views/internal/view.js"),u=i("./node_modules/underscore/underscore.js"),p=i("./app/scripts/views/internal/templates.js"),{Analytics:m}=i("./packages/atlassian-analytics/index.ts"),h=i("./app/scripts/lib/localize.js"),g=i("./app/scripts/views/templates/popover_emoji_completer.js"),{dontUpsell:b}=i("./packages/browser/index.ts"),f=i("./node_modules/react/index.js"),v=i("./packages/react-dom-wrapper/index.ts"),k=i("./app/scripts/views/emoji/trello-emoji-picker.js"),{emojiProvider:y}=i("./app/src/components/Emoji/EmojiProvider.ts"),w=i("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js").default;class j extends d{static initClass(){this.prototype.viewTitleKey="emoji",this.prototype.displayType="mod-reaction-selector",this.prototype.events={"mouseenter .js-select-emoji":"hoverItem","click .js-select-emoji":"selectEmoji",keydown:"keydownEvent","keyup .js-filter-emoji":"keyupEvent","click .js-upload-emoji":"openEmojiUploader"}}initialize(){var e,t,i;this._customEmoji={},(r.me().hasPremiumFeature("customEmoji")||null!==(e=this.options.card)&&void 0!==e&&null!==(t=e.getBoard())&&void 0!==t&&null!==(i=t.getOrganization())&&void 0!==i&&i.hasPremiumFeature("customEmoji"))&&(r.me().loadCustomEmojis(),this.listenTo(r.me().customEmojiList,"change add remove reset",this.updateCustomEmoji),this.updateCustomEmoji())}render(){var e,t,i;const n={};return this.options.input&&(n.input=!0),n.upsellEnabled=!b()||r.me().hasPremiumFeature("customEmoji")||(null===(e=this.options.card)||void 0===e||null===(t=e.getBoard())||void 0===t||null===(i=t.getOrganization())||void 0===i?void 0:i.hasPremiumFeature("customEmoji")),this.options.button?v.render(this.getEmojiPicker(),this.$el[0]):(this.$el.html(g(n)),this.$emojiList=this.$(".js-available-emoji"),this.filterEmoji(this.getInput())),this}keyupEvent(e){const t=s(e);if([o.ArrowUp,o.ArrowDown].includes(t))return c.stop(e),void c.navMenuList(this.$emojiList,".item",t);if([o.Enter,o.Tab].includes(t))return;const i=this.getInput();return this.filterEmoji(i)}keydownEvent(e){let t;if(t=s(e),[o.Enter,o.Tab].includes(t)){c.stop(e);const t=this.$emojiList.find(".item.selected:first .js-select-emoji");if(t.length>0)return t.click()}}updateCustomEmoji(){return this._customEmoji=u.object(r.me().customEmojiList.map((e=>[e.get("name"),e.get("url")]))),this.render()}getTextInput(){return n(this.options.target)}getInput(){const e=this.getTextInput();return c.getWordFromCaret(e).str.substring(1)}filterEmoji(e){if(this.clearEmojiList(),this.fillEmojiList(e))return c.selectMenuItem(this.$emojiList,".item",this.$emojiList.find(".item").first())}renderEmojiList(e){for(const t of Array.from(e)){const e={html:w({data:y.getDataSync(),backgroundImageFn:y.getSpritesheetsUrl,html:!0,emoji:t,set:y.getDefaultEmojiSet(),size:18}),isEmojiMart:!0,name:t,image:null!=this._customEmoji[t]?this._customEmoji[t]:null};this.$emojiList.append(p.fill(i("./app/scripts/views/templates/select_emoji.js"),e))}return this}fillEmojiList(e){let t=e.replace(/\W+/g,"");if(/[A-Z]/.test(t)&&this.options.input)return l.hide(),!1;t=t.toLowerCase(),this.$(".js-upload-emoji").text(h("upload emoji named",{emojiName:t})).attr("data-emojiname",t),this.$(".js-no-matching-emoji-helper").text(h("no matching emoji helper",{emojiName:t}));const i=this.getEmojiSuggestions(t).slice(0,6);return i.length>0?(this.$(".js-results").removeClass("hide"),this.$(".js-no-results").addClass("hide"),this.renderEmojiList(i)):(this.$(".js-results").addClass("hide"),this.$(".js-no-results").removeClass("hide")),0!==i.length}clearEmojiList(){return this.$emojiList.empty()}getEmojiSuggestions(e){const t=new RegExp("^".concat(c.escapeForRegex(e))),i=Object.keys(this._customEmoji).filter((e=>t.test(e))),n=y.emojiIndex.search(e).map((e=>e.id));return u.uniq([...Array.from(i),...Array.from(n)])}hoverItem(e){const t=n(e.target).closest(".item");return c.selectMenuItem(this.$emojiList,".item",t)}selectEmoji(e,t){if(c.stop(e),"string"==typeof t)this.insertEmoji(t);else{const t=n(e.target).closest(".js-select-emoji").find(".emoji-name").text(),i=y.emojiIndex.search(t).map((e=>e.id));this.insertEmoji(t||i&&i[0])}l.hide()}insertEmoji(e){let t;const i=this.getTextInput();if(this.options.input)t=c.getWordFromCaret(i);else{const e=c.getCaretPosition(i);null!=e&&(t={start:e,end:e})}return c.insertSelection(i,":".concat("".concat(e).trim(),": "),null!=t?t.start:void 0,null!=t?t.end:void 0),m.sendUIEvent({action:"selected",actionSubject:"emoji",source:"emojiCompleterInlineDialog",attributes:{emojiName:e}})}openEmojiUploader(e){c.stop(e);const t=this.$(e.target).attr("data-emojiname");l.pushView({keepEdits:!0,view:a,options:{model:r.me(),emojiName:t,completerView:this,card:this.options.card}}),m.sendUIEvent({action:"opened",actionSubject:"inlineDialog",actionSubjectId:"customEmojiUploaderInlineDialog",source:"cardDetailScreen"})}remove(){return v.unmountComponentAtNode(this.$el[0]),super.remove(...arguments)}getEmojiPicker(){var e,t,i;const n=!b()||r.me().hasPremiumFeature("customEmoji")||(null===(e=this.options.card)||void 0===e||null===(t=e.getBoard())||void 0===t||null===(i=t.getOrganization())||void 0===i?void 0:i.hasPremiumFeature("customEmoji")),a=r.me().customEmojiList.map((e=>({name:e.get("name"),short_names:[e.get("name")],imageUrl:e.get("url")})));return f.createElement(k,{custom:a,onClick:(e,t)=>this.selectEmoji(t,e.id),showCustomEmojiButton:n,onCustomEmojiButtonClick:this.openEmojiUploader.bind(this)})}willBePopped(){return n(document).off("click",".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin"),n(document).off("input",".emoji-mart-search input")}}j.initClass(),e.exports=j},"./app/scripts/views/internal/autocomplete/emoji-uploader-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/lib/alerts.js"),a=i("./app/scripts/db/auth.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./app/scripts/views/internal/templates.js");class d extends l{static initClass(){this.prototype.viewTitleKey="upload emoji"}events(){return{"click .js-upload-emoji":"uploadEmoji","change .js-upload-emoji-file":"fileChange","input .js-emoji-name":"nameChange"}}initialize({completerView:e}){var t,i,n;return this.completerView=e,this.hasGold=this.model.hasPremiumFeature("customEmoji"),this.hasBCGold=!1,this.teamEnabledFeature=null===(t=this.options.card)||void 0===t||null===(i=t.getBoard())||void 0===i||null===(n=i.getOrganization())||void 0===n?void 0:n.hasPremiumFeature("customEmoji"),this.canUpload=this.hasGold||this.hasBCGold||this.teamEnabledFeature,(()=>{const e=[];for(const t of Array.from(this.model.organizationList.models)){if(this.hasBCGold=t.isFeatureEnabled("goldMembers"),this.hasBCGold)break;e.push(void 0)}return e})()}render(){const e=this.model.toJSON();return e.emojiName=this.options.emojiName,e.hasGold=this.hasGold,e.hasBCGold=this.hasBCGold,e.showTeamUpsell=!this.teamEnabledFeature&&!this.hasBCGold,e.canUpload=this.canUpload,this.$el.html(c.fill(i("./app/scripts/views/templates/popover_emoji_uploader.js"),e)),this._validate(),this.renderEmoji(),this}getName(){return this.$(".js-emoji-name").val().trim().toLowerCase().replace(/\s+/g,"_")}renderEmoji(){this.$(".js-emoji-preview-name").text(":".concat(this.getName()||"???",":"));const e=u(this.$(".js-upload-emoji-file").prop("files"),(e=>e[0]));if(new RegExp("^image/.*").test(null!=e?e.type:void 0)){const t=new FileReader;t.onload=e=>(this.$(".js-emoji-conversion").removeClass("hide"),this.$(".js-emoji-preview").attr("src",e.target.result)),t.readAsDataURL(e)}else this.$(".js-emoji-conversion").addClass("hide");return this}fileChange(e){const t=this.$(".js-emoji-name"),i=this.$(".js-upload-emoji-file");if(""===t.val()){let e;const n=u(i.prop("files"),(e=>e[0]));null!=n?({name:e}=n):i.val()&&(e=u(new RegExp("[^\\/]+$").exec(i.val()),(e=>e[0]))),null==e&&(e=""),e=e.split(".")[0],e=e.toLowerCase().replace(/[^a-z0-9_]/g,""),t.val(e),this.$(".js-emoji-name").focus().select()}return this.renderEmoji(),this._validate()}nameChange(e){return this.renderEmoji(),this._validate()}_validate(e){const t=this.getName(),i=this.$(".js-upload-emoji-file"),n=/^[a-z0-9_\s]+$/.test(t),r=u(i.prop("files"),(e=>e.length))>0||i.val(),a=n&&r&&this.canUpload;return this.$(".js-invalid-name").toggleClass("hide",n||""===t),this.$(".js-upload-emoji").toggleClass("disabled",!a)}uploadEmoji(e){var t,i,l;if(o.stop(e),n(".js-upload-emoji").hasClass("disabled"))return;this.$(".error").addClass("hide");const c=this.$(".js-upload-emoji-file"),d=u(c.prop("files"),(e=>e[0])),p=this.getName(),m=()=>(this.completerView.insertEmoji(p),s.hide());if(!d&&c.val())return void o.uploadFile(a.myToken(),c,m);if(null!=d&&!o.validFileSize(d))return void r.flash("file too large","error");if(null==d||!p)return;const h=new FileReader,g=new FormData;g.append("token",a.myToken()),g.append("file",d),g.append("name",p);const b=null===(t=this.options.card)||void 0===t||null===(i=t.getBoard())||void 0===i||null===(l=i.getOrganization())||void 0===l?void 0:l.id;return b&&g.append("idOrganization",b),h.onload=e=>this.model.customEmojiList.create({url:e.target.result,name:p},{data:g,processData:!1,contentType:!1,success:m,error(){return this.$(".error").removeClass("hide")}}),h.readAsDataURL(d)}}function u(e,t){return null!=e?t(e):void 0}d.initClass(),e.exports=d},"./app/scripts/views/internal/autocomplete/trello-completer-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/models/board.js"),a=i("./app/scripts/models/card.js"),{getKey:s,Key:o}=i("./packages/keybindings/index.ts"),l=i("./app/scripts/views/templates/popover_limit_exceeded.js"),c=i("./app/scripts/db/model-loader.js"),d=i("./app/scripts/lib/util/url/parse-trello-url.js"),u=i("./app/scripts/network/payloads.ts").default,p=i("./node_modules/bluebird/js/browser/bluebird.js"),m=i("./app/scripts/lib/recents.js"),h=i("./app/scripts/lib/util/index.js"),g=i("./app/scripts/views/internal/view.js"),b=i("./node_modules/underscore/underscore.js"),f=i("./app/scripts/views/templates/select_board.js"),v=i("./app/scripts/views/templates/select_card.js"),k=i("./app/scripts/view-models/sidebar-state.js"),y=i("./app/scripts/views/templates/popover_trello_completer.js"),{Analytics:w}=i("./packages/atlassian-analytics/index.ts"),j=i("./app/scripts/network/api-error.js"),{isShortId:x}=i("./packages/shortlinks/index.ts");class C extends g{static initClass(){this.prototype.viewTitleKey="add card or board",this.prototype.events={"mouseenter .js-select-card,.js-select-board":"hoverItem","click .js-select-card":"selectCard","click .js-select-board":"selectBoard",keydown:"keydownEvent","keyup .js-search":"keyupEvent","input .js-search":"updateSearch"}}initialize(){return this.items=[],this.debouncedSearch=this.debounce(this.search,350).bind(this),this.search("")}render(){return this.model.canAttach()?(this.$el.html(y({})),p.resolve(this._lastRenderPromise).then((()=>this.renderItems())).done(),this):(this.model.isOverLimit("attachments","perCard")?this.$el.html(l("perCard")):this.model.getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(l("perBoard")),this)}renderItems(){let e,t;this.$(".js-loading").addClass("hide");const i=new Set([this.model.get("shortLink")]),n=new Set;this.model.attachmentList.forEach((function(e){const t=e.get("url"),{type:r,shortLink:a}=d(t);switch(r){case"card":return i.add(a);case"board":return n.add(a)}}));const s=this.items.filter((e=>e instanceof a&&!i.has(e.get("shortLink")))),o=this.items.filter((e=>e instanceof r&&!n.has(e.get("shortLink")))),l=this.$(".js-card-list").empty(),c=this.$(".js-board-list").empty();if(s.length>0){const i=(()=>{const i=[];for(const n of Array.from(s))e=n.toJSON(),t=n.getBoard(),null!=t&&(e.boardName=t.get("name")),i.push(v(e));return i})();l.append(i)}if(o.length>0){const i=(()=>{const i=[];for(t of Array.from(o)){const n=t.getOrganization();e=t.toJSON(),null!=n&&(e.orgName=n.get("displayName")),i.push(f(e))}return i})();c.append(i)}this.items.length>0&&h.selectMenuItem(this.$el,".item",this.$el.find(".item").first());const u=!this._lastQuery&&0===s.length,p=!this._lastQuery&&0===o.length;return this.$(".js-card-results").toggleClass("hide",u),this.$(".js-board-results").toggleClass("hide",p),this.$(".js-no-card-results").toggleClass("hide",s.length>0),this.$(".js-no-board-results").toggleClass("hide",o.length>0),this}keyupEvent(e){const t=s(e);[o.ArrowUp,o.ArrowDown].includes(t)&&(h.stop(e),h.navMenuList(this.$el,".item",t))}updateSearch(e){const t=this.$(".js-search").val();return this.debouncedSearch(t)}keydownEvent(e){let t;if(t=s(e),[o.Enter,o.Tab].includes(t)){h.stop(e);const t=this.$el.find(".item.selected:first").find(".js-select-card,.js-select-board");if(t.length>0)return t.click()}}getTextInput(){return n(this.options.target)}_renderSettledItems(e,t){if(e===this._lastQuery)return this._lastRenderPromise=p.resolve(t).then((function(e){return b.isArray(e)?e:[e]})).catch(j,(()=>[])).tap((e=>(this.items=e,this.renderItems()))).finally((()=>this._lastRenderPromise=null))}search(e){if(e===this._lastQuery)return;if(this._lastQuery=e,this.$(".js-card-results").addClass("hide"),this.$(".js-board-results").addClass("hide"),this.$(".js-loading").removeClass("hide"),""===e){const t=5,i=b.chain(m.get("card",t+1)).without(this.model.id).first(t).value(),n=b.chain(k.getRecentBoards()).without(this.model.get("idBoard")).first(t).value(),r=p.props({recentCards:p.map(i,(e=>this.modelCache.getOrLoad({type:"Card",id:e,payload:u.cardCompleter,loader:e=>c.loadCardCompleterData(e)}))),recentBoards:p.map(n,(e=>this.modelCache.getOrLoad({type:"Board",id:e,payload:u.boardCompleter,loader:e=>c.loadBoardCompleterData(e)})))}).then((({recentCards:e,recentBoards:t})=>b.compact([...Array.from(e),...Array.from(t)])));return void this._renderSettledItems(e,r)}const t=d(e.trim());if("card"===t.type)return void this._renderSettledItems(e,c.loadCardCompleterData(t.shortLink));if("board"===t.type)return void this._renderSettledItems(e,c.loadBoardCompleterData(t.shortLink));if(x(e)){const{card:t}=this.options,i=null!=t?t.getBoard():void 0;if(null!=i){let t;return void(null!=(t=i.getCard(e))?this._renderSettledItems(e,t):this._renderSettledItems(e,c.loadCardData(i.id,e)))}}const i={query:e,board_fields:"name,idOrganization,url",modelTypes:"cards,boards",partial:!0,card_board:!0};c.loadSearchData(i).nodeify(((t,i)=>{if(null==t){const t=b.chain(i.cards).map((e=>this.modelCache.get("Card",e.id))).sortBy((e=>e.get("idBoard")===this.model.get("idBoard")?0:1)).value(),n=b.chain(i.boards).map((e=>this.modelCache.get("Board",e.id))).sortBy((e=>e.get("id")===this.model.get("idBoard")?1:0)).value();return this._renderSettledItems(e,[...Array.from(t),...Array.from(n)])}return this.items=[],this.renderItems()}))}hoverItem(e){const t=n(e.target).closest(".item");return h.selectMenuItem(this.$el,".item",t)}selectCard(e){h.stop(e);const t=this.$(e.target).closest(".js-select-card").attr("data-id"),i=this.modelCache.get("Card",t);null!=i&&this.insertItem(i)}selectBoard(e){h.stop(e);const t=this.$(e.target).closest(".js-select-board").attr("data-id"),i=this.modelCache.get("Board",t);null!=i&&this.insertItem(i)}insertItem(e){let t;if(this.options.onStartUpload)return void this.options.onStartUpload(e);const i=e.get("url"),n=this.getTextInput(),r=h.getCaretPosition(n);null!=r&&(t={start:r,end:r}),h.insertSelection(n,"".concat(i," "),null!=t?t.start:void 0,null!=t?t.end:void 0);let s="board";const o={};return e instanceof a?(s="card",o.card={id:e.id}):o.board={id:e.id},w.sendTrackEvent({action:"added",actionSubject:s,source:"trelloAddCardInlineDialog",containers:o})}}C.initClass(),e.exports=C},"./app/scripts/views/internal/board-display-helpers.js":function(e,t,i){const n=i("./app/scripts/lib/localize.js"),r={getPermLevelAltTextForBoard(e){const t=e.getPermLevel();return n(["board perms",t,"short summary"])},getPermLevelAltTextForTemplate(e){const t=e.getPermLevel();return n(["template perms",t,"short summary"])},getPermLevelIconClass:e=>"org"===e?"organization-visible":"enterprise"===e?"enterprise":e,getPermLevelIconClassForBoard:e=>r.getPermLevelIconClass(e.getPermLevel())};e.exports=r},"./app/scripts/views/internal/collection-view.js":function(e,t,i){const n=i("./app/scripts/views/internal/view.js"),r=i("./node_modules/underscore/underscore.js"),a=i("./app/scripts/debug/log.js");e.exports=class extends n{constructor(e){super(e),this.sort=this.sort.bind(this)}initialize(){return this.listenPropagators={},this.makeDebouncedMethods("sort"),this.listenTo(this.collection,{sort:this.sortDebounced,add:this.addModel,remove:this.removeModel,reset:this.reset}),super.initialize(...arguments)}getModels(){return this.collection.models}subview(){const e=super.subview(...arguments);return null==this.listenPropagators[e.cid]&&(this.listenPropagators[e.cid]=this.listenTo(e,"all",((t,...i)=>this.trigger(t,e,...Array.from(i))))),e}addModel(e,t){a("render","adding ".concat(this.collection.model.name," to ").concat(this.viewType.name));const i=this.subview(this.viewType,e);this.el&&this.insertSubview(i,r.indexOf(this.getModels(),e))}removeModel(e,t){return a("render","removing ".concat(this.collection.model.name," from ").concat(this.viewType.name)),this.removeSubview(this.viewForModel(e))}reset(e,{previousModels:t}){let i;const n={};for(i of Array.from(e.models))n[i.cid]=!0;for(i of Array.from(t))n[i.cid]||this.removeModel(i);return this.sort()}sort(){const e=Array.from(this.el.children).map((function(e,t){return e.matches(".placeholder,.card-composer")?t:null})).filter((e=>null!==e)),t=this.getModels();for(let i=0;i<t.length;i++){const n=t[i],r=i+e.filter((e=>e<=i)).length;this.moveSubviewToPosition(this.subview(this.viewType,n),r)}}render(){let e;return a("render","rendering ".concat(this.getModels().length," ").concat(this.collection.model.name,"s into ").concat(this.viewType.name)),this.appendSubviews((()=>{const t=[];for(e of Array.from(this.getModels()))t.push(this.subview(this.viewType,e));return t})()),this}viewForModel(e){return this.existingSubview(this.viewType,e)}removeSubview(e){return this.deleteSubview(e)}insertSubview(e,t,i){null==i&&({$el:i}=this),a("render","inserting ".concat(e.$el.find("h2").text()," at position ").concat(t)),"number"==typeof t?t=t<=0?i.children().eq(0):t<i.children().length?i.children().eq(t):void 0:t instanceof n&&(t=t.$el),e.$el.is(":empty")&&(e.delegateEvents(),e.render()),(null!=t?t.length:void 0)>0?e.$el.insertBefore(t):i.append(e.$el)}moveSubviewToPosition(e,t){if(e.$el.is(":empty"))return void this.insertSubview(e,t,this.$el);const{children:i}=this.el;e.$el.index()!==t&&(0===t?this.$el.prepend(e.$el):t>=i.length?this.$el.append(e.$el):e.$el.insertAfter(i[t-1]))}}},"./app/scripts/views/internal/data-transfer/drag-drop-events.js":function(e,t,i){const n=i("./app/scripts/lib/util/array/count-while.js"),r=i("./app/scripts/lib/util/event/trigger.js"),{getTypes:a,getDropped:s}=i("./app/scripts/views/internal/data-transfer/normalize.js"),o=function(e,t){document.addEventListener(e,t)},l=function(e,t,i,n){for(const a of Array.from(i))r(e,"".concat(t,":").concat(a),n)},c=function(e){if(e){const t=c(e.parentElement);return t.push(e),t}return[]};let d=[],u=null;const p=function(e,t){let i;if(clearTimeout(u),d.length>0&&d[d.length-1]===e)return;const r=c(e),a=n(r,d,((e,t)=>e===t));for(i of Array.from(d.slice(a)))l(i,"dd-leave",t,{bubbles:!1});for(i of Array.from(r.slice(a)))l(i,"dd-enter",t,{bubbles:!1});return d=r};o("dragenter",(function(e){return p(e.target,a(e.dataTransfer)),e.preventDefault()})),o("dragover",(function(e){const t=a(e.dataTransfer);return t.length>0&&(e.dataTransfer.dropEffect="copy"),p(e.target,t),e.preventDefault()})),o("dragleave",(function(e){const t=a(e.dataTransfer);return u=setTimeout((()=>p(null,t)),200)})),o("dragend",(e=>p(null,[]))),o("drop",(function(e){const t=a(e.dataTransfer);s(e).then((function(i){for(const t in i){const n=i[t];r(e.target,"dd-drop:".concat(t),{detail:n})}return p(null,t)})),e.preventDefault()}))},"./app/scripts/views/internal/disable-submit-if-length-too-long.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r={checkLength(e){const t=n(e.target).val(),i=this.maxLength||16384,r=0===t.length||/^\s*$/.test(t),a=!r&&t.length>i;null!=this.preventSubmit?this.preventSubmit(a,r):this._preventSubmit(a,r)},_preventSubmit(e,t){return this.$(".js-too-long-warning").toggleClass("hide",!e),this.$(".js-is-empty-warning").toggleClass("hide",!t),this.$('input[type="submit"]').prop("disabled",t||e)}};e.exports=r},"./app/scripts/views/internal/friendly-links-v2.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"handleFriendlyLinkClick",(function(){return N})),i.d(t,"fireFriendlyLinkAnalyticsEvent",(function(){return P})),i.d(t,"shouldRenderV2FriendlyLink",(function(){return I})),i.d(t,"isApplicationJiraOrConfluence",(function(){return B})),i.d(t,"renderV2FriendlyLink",(function(){return D})),i.d(t,"FriendlyLinksV2",(function(){return A}));var n=i("./packages/atlassian-analytics/index.ts"),r=i("./packages/i18n/index.ts"),a=i("./app/src/components/ComponentWrapper/index.ts"),s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};var o=function(){return(o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.create;Object.create;var l=i("./node_modules/react/index.js"),c=i.n(l),d=i("./node_modules/@atlaskit/theme/dist/esm/colors.js"),u=i("./node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js"),p={default:{light:d.N40,dark:d.N40},inprogress:{light:d.B50,dark:d.B50},moved:{light:d.Y75,dark:d.Y75},new:{light:d.P50,dark:d.P50},removed:{light:d.R50,dark:d.R50},success:{light:d.G50,dark:d.G50}},m={default:{light:d.N500,dark:d.N500},inprogress:{light:d.B500,dark:d.B500},moved:{light:d.N800,dark:d.N800},new:{light:d.P500,dark:d.P500},removed:{light:d.R500,dark:d.R500},success:{light:d.G500,dark:d.G500}},h={default:{light:d.N500,dark:d.N500},inprogress:{light:d.B400,dark:d.B400},moved:{light:d.Y500,dark:d.Y500},new:{light:d.P400,dark:d.P400},removed:{light:d.R400,dark:d.R400},success:{light:d.G400,dark:d.G400}},g={default:{light:d.N0,dark:d.N0},inprogress:{light:d.N0,dark:d.N0},moved:{light:d.N800,dark:d.N800},new:{light:d.N0,dark:d.N0},removed:{light:d.N0,dark:d.N0},success:{light:d.N0,dark:d.N0}},b=Object(u.a)((function(e){var t=e.appearance,i=e.isBold,n=e.maxWidth;return o(o({},"object"==typeof t?o({backgroundColor:(i?h:p).default.light,textColor:(i?g:m).default.light},t):{backgroundColor:(i?h[t]:p[t]).light,textColor:(i?g[t]:m[t]).light}),{maxWidth:n})})),f=i("./node_modules/@emotion/core/dist/core.browser.esm.js"),v=i("./node_modules/@atlaskit/theme/dist/esm/constants.js"),k=Object(v.c)()+"px",y=function(e){var t=e.backgroundColor,i=e.textColor,n=e.children,r=e.testId;return Object(f.d)("span",{css:{backgroundColor:t,borderRadius:k,boxSizing:"border-box",color:i,display:"inline-block",fontSize:"11px",fontWeight:700,lineHeight:1,maxWidth:"100%",padding:"2px 0 3px 0",textTransform:"uppercase",verticalAlign:"baseline"},"data-testid":r},n)},w=Object(v.f)()/2+"px",j=function(e){var t=e.maxWidth,i=e.children;return Object(f.d)("span",{css:{display:"inline-block",verticalAlign:"top",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",boxSizing:"border-box",padding:"0 "+w,maxWidth:"number"==typeof t?t+"px":t,width:"100%"}},i)},x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,i=e.children,n=e.testId;return c.a.createElement(b.Provider,{value:t},c.a.createElement(b.Consumer,o({},this.props),(function(e){return c.a.createElement(y,o({testId:n},e),c.a.createElement(j,o({},e),i))})))},t.defaultProps={isBold:!1,appearance:"default",maxWidth:200},t}(l.PureComponent),C=i("./packages/feature-flag-client/src/feature-flag-client.ts");function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const O=i("./app/scripts/views/internal/teacup-with-helpers.js")(),E=Object(r.forTemplate)("smartlink_connect"),S="trello",T="trello-smartlink",N=e=>t=>{P(e),t.preventDefault();const i=new URL(t.currentTarget.href);var n,r;i.searchParams.get("utm_source")===S&&i.searchParams.get("utm_content")===T||(i.searchParams.append("utm_source",S),i.searchParams.append("utm_content",T),i.searchParams.append("utm_campaign",I(null==e||null===(n=e.meta)||void 0===n||null===(r=n.requestAccess)||void 0===r?void 0:r.smartLinksAccessMetadataExperimentCohort)?"".concat(T,"-v2"):"".concat(T,"-v1")));window.open(i.toString())},P=({application:e,meta:t})=>{var i,r,a;const s=null==t||null===(i=t.requestAccess)||void 0===i?void 0:i.cloudId;n.Analytics.sendClickedLinkEvent({linkName:"smartLink",source:Object(n.getScreenFromUrl)(),attributes:{application:e,cloudId:s,urlAccess:null==t?void 0:t.access,accessType:null==t||null===(r=t.requestAccess)||void 0===r?void 0:r.accessType,resourceType:null==t?void 0:t.resourceType,visibility:null==t?void 0:t.visibility,smartLinkCohort:null==t||null===(a=t.requestAccess)||void 0===a?void 0:a.smartLinksAccessMetadataExperimentCohort}})},I=(e,t=!1)=>("control"===e||"experiment"===e)&&(t&&C.a.triggerExposureEvent("smart-links-access-metadata-experiment-rollout",e,"SmartLinksV2",void 0,{}),"experiment"===e),B=(e="")=>"Jira"===e||"Confluence"===e,D=(e,t)=>{new A({el:e,known:t}).renderSmartLink()};class A{constructor({el:e,known:t}){_(this,"smartLinkElement",void 0),_(this,"smartLinkMetadata",void 0),_(this,"lozengeElement",void 0),_(this,"formatKey",void 0),_(this,"cta",void 0),_(this,"position",void 0),_(this,"AccessRequestToSmartLinkLayoutMetadata",{ACCESS_EXISTS:{},APPROVED_REQUEST_EXISTS:{formatKey:"join",position:"postfix"},DIRECT_ACCESS:{formatKey:"join",position:"postfix"},REQUEST_ACCESS:{formatKey:"request-access",position:"postfix"},PENDING_REQUEST_EXISTS:{formatKey:"pending-request",position:"prefix",icon:i("./resources/images/services/people.svg")},DENIED_REQUEST_EXISTS:{formatKey:"denied-request",position:"prefix",icon:i("./resources/images/services/lock.svg")},FORBIDDEN:{formatKey:"forbidden-request",position:"prefix",icon:i("./resources/images/services/lock.svg")}}),this.smartLinkElement=e,this.smartLinkMetadata=t}createLozengeElement(){this.lozengeElement=document.createElement("span"),this.lozengeElement.classList.add("lozenge-wrapper")}renderSmartLinkTemplate(){return O.renderable((()=>{const{meta:{access:e}}=this.smartLinkMetadata;"forbidden"===e?(this.generateUnconnectedCTAMetadata(),this.cta&&this.position?this.handleApplicationSmartLink():this.renderDefaultSmartLink()):this.renderDefaultSmartLink()}))()}handleApplicationSmartLink(){this.handleIconRender(),this.handleApplicationSmartLinkRenderOrder()}handleIconRender(){const{idPlugin:e,monochrome:t,icon:i}=this.smartLinkMetadata;O.img({class:O.classify({"smart-link-icon":!0,"plugin-icon":null!==e,"mod-reset":!t}),src:i})}handleApplicationSmartLinkRenderOrder(e=this.smartLinkMetadata.text){const{position:t,cta:i}=this;"prefix"===t?(i&&O.span(".connect",i),O.span(".link",e)):(O.span(".link",e),i&&O.span(".connect",i))}renderDefaultSmartLink(){this.handleIconRender(),O.span(".link",this.smartLinkMetadata.name)}generateUnconnectedCTAMetadata(){const{meta:{requestAccess:e}}=this.smartLinkMetadata;if(null!=e&&e.accessType){const{formatKey:t,position:i,icon:n}=this.AccessRequestToSmartLinkLayoutMetadata[null==e?void 0:e.accessType];this.formatKey=t,this.position=i,n&&(this.smartLinkMetadata.icon=n),this.formatKey&&("join"===this.formatKey||"request-access"===this.formatKey?this.getCTAForApplication():this.cta=E(this.formatKey))}}getCTAForApplication(){const{application:e}=this.smartLinkMetadata;"Confluence"===e||"Jira"===e?(this.cta=E("".concat(this.formatKey,"-").concat(e.toLocaleLowerCase())),"Confluence"!==e||"request-access"!==this.formatKey&&"join"!==this.formatKey||(this.cta=" "+this.cta)):this.cta=E("connect-to-preview")}renderReactLozenge(){var e,t;Object(a.renderComponent)(c.a.createElement(x,{children:null===(e=this.smartLinkMetadata.tag)||void 0===e?void 0:e.name,appearance:null===(t=this.smartLinkMetadata.tag)||void 0===t?void 0:t.appearance}),this.lozengeElement)}renderSmartLink(){this.smartLinkElement.addEventListener("click",N(this.smartLinkMetadata)),"forbidden"===this.smartLinkMetadata.meta.access?this.smartLinkElement.classList.add("unconnected-link"):this.smartLinkElement.classList.add("smart-link"),this.smartLinkElement.innerHTML=this.renderSmartLinkTemplate(),this.shouldCreateLozengeComponent()&&(this.createLozengeElement(),this.smartLinkElement.appendChild(this.lozengeElement),this.renderReactLozenge())}shouldCreateLozengeComponent(){return!!this.smartLinkMetadata.tag}}},"./app/scripts/views/internal/friendly-links.js":function(e,t,i){const n=i("./app/scripts/db/known-services.js"),r=i("./app/scripts/views/internal/plugins/plugin-runner.js"),a=i("./node_modules/bluebird/js/browser/bluebird.js"),s=i("./node_modules/underscore/underscore.js"),o=i("./app/scripts/views/internal/teacup-with-helpers.js")(),l=i("./app/scripts/db/model-cache.js"),c=i("./node_modules/url-parse/index.js"),{sendPluginTrackEvent:d}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{featureFlagClient:u}=i("./packages/feature-flag-client/index.ts"),{renderComponent:p}=i("./app/src/components/ComponentWrapper/index.ts"),{SmartLinksBridge:m}=i("./app/scripts/views/internal/smart-links-bridge.tsx"),h=i("./node_modules/react/index.js"),{handleFriendlyLinkClick:g,renderV2FriendlyLink:b,isApplicationJiraOrConfluence:f,shouldRenderV2FriendlyLink:v}=i("./app/scripts/views/internal/friendly-links-v2.ts"),k=new window.Map,y=new window.Map,w=o.renderable((function({icon:e,text:t,idPlugin:i,monochrome:n}){return o.img({class:o.classify({"known-service-icon":!0,"plugin-icon":null!=i,"mod-reset":!1===n}),src:e}),o.text(t)}));e.exports=function(e,t,i={}){let o=null!=e.tagName==="A"?[e]:s.toArray(e.querySelectorAll("a"));return u.get("growth.trello-smart-links-attachment-activities",!1)&&(o="A"===(null==e?void 0:e.tagName)?[e]:s.toArray(e.querySelectorAll("a"))),a.map(o,(function(e){const s=c(e.href),o=e.textContent===s.origin?s.origin:s.href;if(o!==e.textContent)try{if(decodeURIComponent(o)!==e.textContent)return}catch(e){return}const j="".concat(null!=t?t.id:void 0,":").concat(o);return a.try((function(){if(!t)throw new r.Error.NotHandled("no board specified");if(k.get(j))return k.get(j);if(y.get(j))return y.get(j);const e=r.one({command:"format-url",board:t,options:{url:o}});return y.set(j,e),e})).catch(r.Error.NotHandled,(()=>null)).then((function(r){return y.delete(j),null!=(null!=r?r.text:void 0)?(r.idPlugin&&d({idPlugin:r.idPlugin,idBoard:t.id,event:{action:"formatted",actionSubject:"url",source:"powerUpFormatUrl"}}),r):n.interpret(e.href,l,{sourceComponent:"friendly-links",publicLinksVariation:i.publicLinksVariation})})).then((function(t){if(null!=t){var n,r;k.set(j,t);return u.get("growth.trello-friendly-link-to-smart-link",!1)?(e.classList.add("atlaskit-smart-link"),p(h.createElement(m,{url:t.url,analyticsContext:i.analyticsContext}),e)):(e.classList.add("known-service-link"),v(null==t||null===(n=t.meta)||void 0===n||null===(r=n.requestAccess)||void 0===r?void 0:r.smartLinksAccessMetadataExperimentCohort,!0)&&f(t.application)?b(e,t):(f(t.application)&&e.addEventListener("click",g(t)),e.innerHTML=w(t)))}}))}))}},"./app/scripts/views/internal/model-cache-listener.js":function(e,t,i){const n=i("./app/scripts/db/model-cache.js"),r=i("./node_modules/react/index.js"),a=i("./node_modules/xtend/immutable.js");e.exports=function(e){return class extends r.Component{constructor(e){super(...arguments),this.listeners=[],this.modelListeners=[]}listenTo(e,t){return n.on(e,t),this.listeners.push({events:e,callback:t})}modelListener(e,t,i){return e.on(t,i),this.modelListeners.push({model:e,events:t,callback:i})}clearModelListeners(){return this.modelListeners.forEach((({model:e,events:t,callback:i})=>e.off(t,i)))}componentWillUnmount(){return this.listeners.forEach((({events:e,callback:t})=>n.off(e,t))),this.clearModelListeners()}render(){const t=a(this.props,{listenTo:this.listenTo.bind(this),modelListener:this.modelListener.bind(this),clearModelListeners:this.clearModelListeners.bind(this)});return r.createElement(e,t)}}}},"./app/scripts/views/internal/paste-input.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/lib/trello-clipboard.js"),a=i("./node_modules/underscore/underscore.js"),s=i("./app/scripts/debug/log.js"),{getPasted:o}=i("./app/scripts/views/internal/data-transfer/normalize.js"),l=i("./app/scripts/lib/util/event/trigger-list.js");e.exports=new(function(){const e=class{static initClass(){this.prototype.precedence={list:4,card:5,dialog:10}}constructor(){this.paste=this.paste.bind(this),this._handlers={},n(document).on("paste",this.paste),r.on("pasteImage",(e=>this.triggerPasted("files",[e])))}addHandler(e,{scope:t,precedence:i}){return null==i&&(i=this.precedence[t]),null==i&&(s("pasteinput","Missing precedence for ".concat(t)),i=this.precedence.default),null==this._handlers[t]&&(this._handlers[t]={}),this._handlers[t]={target:e,scope:t,precedence:i},s("pasteinput","Adding handler for ".concat(t))}removeHandler(e){return(()=>{const t=[];for(const i in this._handlers){const{target:n}=this._handlers[i];e===n&&(s("pasteinput","Removing handler for ".concat(i)),t.push(delete this._handlers[i]))}return t})()}_sortedHandlers(){return a.sortBy(a.values(this._handlers),(e=>-e.precedence))}paste(e){o(e.originalEvent).then((t=>{if(!a.isEmpty(t)&&(!t.text&&!t.url||!["INPUT","TEXTAREA"].includes(e.target.tagName)||r.isClipboard(e.target)))for(const e of["url","text","files"])if(t[e]){this.triggerPasted(e,t[e]);break}}))}triggerPasted(e,t){const i=a.compact(this._sortedHandlers().map((e=>null!=e.target?e.target.el:void 0)));return l(i,"pasteinput:".concat(e),{detail:t})}};return e.initClass(),e}())},"./app/scripts/views/internal/pasted-file-name.js":function(e,t,i){const n=i("./node_modules/moment/moment.js"),r=i("./app/scripts/lib/localize.js");e.exports=function(){const e=n(),t=r("pasted file name",{date:e.format("l"),time:e.format("LTS")});return"".concat(t,".png")}},"./app/scripts/views/internal/react-root-component.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"ReactRootComponent",(function(){return L}));var n={};function r(e){var t=null;return function(){return null==t&&(t=e()),t}}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.r(n),i.d(n,"FILE",(function(){return g})),i.d(n,"URL",(function(){return b})),i.d(n,"TEXT",(function(){return f}));var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,i,n;return t=e,(i=[{key:"enter",value:function(e){var t=this,i=this.entered.length;return this.entered=function(e,t){var i=new Set,n=function(e){return i.add(e)};e.forEach(n),t.forEach(n);var r=[];return i.forEach((function(e){return r.push(e)})),r}(this.entered.filter((function(i){return t.isNodeInDocument(i)&&(!i.contains||i.contains(e))})),[e]),0===i&&this.entered.length>0}},{key:"leave",value:function(e){var t,i,n=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),i=e,t.filter((function(e){return e!==i}))),n>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&a(t.prototype,i),n&&a(t,n),e}(),o=r((function(){return/firefox/i.test(navigator.userAgent)})),l=r((function(){return Boolean(window.safari)}));function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=t.length,r=[],a=0;a<n;a++)r.push(a);r.sort((function(e,i){return t[e]<t[i]?-1:1}));for(var s,o,l=[],c=[],d=[],u=0;u<n-1;u++)s=t[u+1]-t[u],o=i[u+1]-i[u],c.push(s),l.push(o),d.push(o/s);for(var p=[d[0]],m=0;m<c.length-1;m++){var h=d[m],g=d[m+1];if(h*g<=0)p.push(0);else{s=c[m];var b=c[m+1],f=s+b;p.push(3*f/((f+b)/h+(f+s)/g))}}p.push(d[d.length-1]);for(var v,k=[],y=[],w=0;w<p.length-1;w++){v=d[w];var j=p[w],x=1/c[w],C=j+p[w+1]-v-v;k.push((v-j-C)*x),y.push(C*x*x)}this.xs=t,this.ys=i,this.c1s=p,this.c2s=k,this.c3s=y}var t,i,n;return t=e,(i=[{key:"interpolate",value:function(e){var t=this.xs,i=this.ys,n=this.c1s,r=this.c2s,a=this.c3s,s=t.length-1;if(e===t[s])return i[s];for(var o,l=0,c=a.length-1;l<=c;){var d=t[o=Math.floor(.5*(l+c))];if(d<e)l=o+1;else{if(!(d>e))return i[o];c=o-1}}var u=e-t[s=Math.max(0,c)],p=u*u;return i[s]+n[s]*u+r[s]*p+a[s]*u*p}}])&&c(t.prototype,i),n&&c(t,n),e}();function u(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var i=t.getBoundingClientRect(),n=i.top;return{x:i.left,y:n}}function p(e){return{x:e.clientX,y:e.clientY}}function m(e,t,i,n,r){var a,s,c="IMG"===(a=t).nodeName&&(o()||!document.documentElement.contains(a)),p=u(c?e:t),m={x:i.x-p.x,y:i.y-p.y},h=e.offsetWidth,g=e.offsetHeight,b=n.anchorX,f=n.anchorY,v=function(e,t,i,n){var r=e?t.width:i,a=e?t.height:n;return l()&&e&&(a/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:a}}(c,t,h,g),k=v.dragPreviewWidth,y=v.dragPreviewHeight,w=r.offsetX,j=r.offsetY,x=0===j||j;return{x:0===w||w?w:new d([0,.5,1],[m.x,m.x/h*k,m.x+k-h]).interpolate(b),y:x?j:(s=new d([0,.5,1],[m.y,m.y/g*y,m.y+y-g]).interpolate(f),l()&&c&&(s+=(window.devicePixelRatio-1)*y),s)}}var h,g="__NATIVE_FILE__",b="__NATIVE_URL__",f="__NATIVE_TEXT__";function v(e,t,i){var n=t.reduce((function(t,i){return t||e.getData(i)}),"");return null!=n?n:i}function k(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y=(k(h={},g,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),k(h,b,{exposeProperties:{urls:function(e,t){return v(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),k(h,f,{exposeProperties:{text:function(e,t){return v(e,t,"")}},matchesTypes:["Text","text/plain"]}),h);function w(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var j=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(i.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(e,'" until the drop event.')),null}})}))}var t,i,n;return t=e,(i=[{key:"mutateItemByReadingDataTransfer",value:function(e){var t=this,i={};e&&Object.keys(this.config.exposeProperties).forEach((function(n){i[n]={value:t.config.exposeProperties[n](e,t.config.matchesTypes)}})),Object.defineProperties(this.item,i)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&w(t.prototype,i),n&&w(t,n),e}();function x(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(y).filter((function(e){return y[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function C(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,i,n;return t=e,(i=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&C(t.prototype,i),n&&C(t,n),e}();function O(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?O(i,!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):O(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function T(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var N=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return u(n.sourceNodes.get(e))},this.endDragNativeItem=function(){n.isDraggingNativeItem()&&(n.actions.endDrag(),n.registry.removeSource(n.currentNativeHandle),n.currentNativeHandle=null,n.currentNativeSource=null)},this.isNodeInDocument=function(e){return n.document&&n.document.body&&document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=n.currentDragSourceNode;n.isNodeInDocument(e)||n.clearCurrentDragSourceNode()&&n.actions.endDrag()},this.handleTopDragStartCapture=function(){n.clearCurrentDragSourceNode(),n.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=n.dragStartSourceIds;n.dragStartSourceIds=null;var i=p(e);n.monitor.isDragging()&&n.actions.endDrag(),n.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:n.getSourceClientOffset,clientOffset:i});var r=e.dataTransfer,a=x(r);if(n.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var s=n.monitor.getSourceId(),o=n.sourceNodes.get(s),l=n.sourcePreviewNodes.get(s)||o;if(l){var c=n.getCurrentSourcePreviewNodeOptions(),d=m(o,l,i,{anchorX:c.anchorX,anchorY:c.anchorY},{offsetX:c.offsetX,offsetY:c.offsetY});r.setDragImage(l,d.x,d.y)}}try{r.setData("application/json",{})}catch(e){}n.setCurrentDragSourceNode(e.target),n.getCurrentSourcePreviewNodeOptions().captureDraggingState?n.actions.publishDragSource():setTimeout((function(){return n.actions.publishDragSource()}),0)}else if(a)n.beginDragNativeItem(a);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){n.clearCurrentDragSourceNode()&&n.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(n.dragEnterTargetIds=[],n.enterLeaveCounter.enter(e.target)&&!n.monitor.isDragging()){var t=x(e.dataTransfer);t&&n.beginDragNativeItem(t)}},this.handleTopDragEnter=function(e){var t=n.dragEnterTargetIds;(n.dragEnterTargetIds=[],n.monitor.isDragging())&&(n.altKeyPressed=e.altKey,o()||n.actions.hover(t,{clientOffset:p(e)}),t.some((function(e){return n.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=n.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){n.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=n.dragOverTargetIds;if(n.dragOverTargetIds=[],!n.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));n.altKeyPressed=e.altKey,n.actions.hover(t||[],{clientOffset:p(e)}),(t||[]).some((function(e){return n.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=n.getCurrentDropEffect())):n.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){n.isDraggingNativeItem()&&e.preventDefault(),n.enterLeaveCounter.leave(e.target)&&n.isDraggingNativeItem()&&n.endDragNativeItem()},this.handleTopDropCapture=function(e){n.dropTargetIds=[],e.preventDefault(),n.isDraggingNativeItem()&&n.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),n.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=n.dropTargetIds;n.dropTargetIds=[],n.actions.hover(t,{clientOffset:p(e)}),n.actions.drop({dropEffect:n.getCurrentDropEffect()}),n.isDraggingNativeItem()?n.endDragNativeItem():n.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new _(i),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new s(this.isNodeInDocument)}var t,i,r;return t=e,(i=[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,i){var n=this;return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,t),function(){n.sourcePreviewNodes.delete(e),n.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,i){var n=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,i);var r=function(t){return n.handleDragStart(t,e)},a=function(e){return n.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",a),function(){n.sourceNodes.delete(e),n.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var i=this,n=function(t){return i.handleDragEnter(t,e)},r=function(t){return i.handleDragOver(t,e)},a=function(t){return i.handleDrop(t,e)};return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",a),function(){t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",a)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return E({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return E({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(n).some((function(t){return n[t]===e}))}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e){return new j(y[e])}(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&T(t.prototype,i),r&&T(t,r),e}();var P=function(e,t){return new N(e,t)},I=i("./node_modules/react/index.js"),B=i.n(I),D=i("./node_modules/react-dnd/dist/esm/index.js");const A=i("./app/scripts/views/internal/global-click-handler.js"),L=({children:e})=>B.a.createElement(D.DndProvider,{backend:P},B.a.createElement("div",{className:"js-react-root",onClick:e=>{e.isDefaultPrevented()||A(e)}},e))},"./app/scripts/views/internal/smart-links-bridge.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"SmartLinksBridge",(function(){return s}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./app/src/components/SmartMedia/index.ts");const s=({url:e,analyticsContext:t})=>r.a.createElement(a.a,{url:e,plainLink:()=>r.a.createElement("a",{href:e},e),analyticsContext:t})},"./app/scripts/views/internal/view-with-actions.js":function(e,t,i){const n=i("./app/scripts/db/model-loader.js"),r={limit:50,nextPage:1,shortLoad:!1,loading:!1,idModels:null,loadMoreActions(){if(!this.loading)return this.loading=!0,this.waitForId(this.model,(()=>{let e;return n.loadMoreActionData(this.model.typeName.toLowerCase(),this.model.id,this.nextPage,this.limit,this.idModels,null!=(e="function"==typeof this.getActionsFilter?this.getActionsFilter():void 0)?e:"all").finally((()=>this.loading=!1)).then((e=>(this.shortLoad=e.length<this.limit,this.renderActions(),++this.nextPage))).done()}))},hasMoreActions(){return!this.loading&&!this.shortLoad&&this.getActions().length>=this.limit},getActions(){let e;const t=null!=(e="function"==typeof this.getFilteringModels?this.getFilteringModels():void 0)?e:[];return this.model.getActions(...Array.from(t||[]))}};e.exports=r},"./app/scripts/views/internal/warn-if-file-too-large.js":function(e,t,i){const n=i("./app/scripts/views/lib/alerts.js"),r=i("./app/scripts/db/auth.js"),a=i("./node_modules/underscore/underscore.js"),s=function(e){const t=r.me().hasPremiumFeature("largeAttachments"),i=e.getOrganization(),a=(null==i?void 0:i.hasPremiumFeature("largeAttachments"))||!1,s=t||a?"file size exceeds 250mb":"file size exceeds 10mb";return n.show(s,"error","upload",5e3)};e.exports=function(e,t){a.isArray(t)||(t=[t]);const i=e.getOrganization();for(const n of Array.from(t))if(!r.me().canUploadAttachment(n,i))return s(e),!0;return!1}},"./app/scripts/views/invitation-link/display-invitation-link-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/network/api-promise.js"),{trackUe:a}=i("./packages/analytics/index.ts"),{Analytics:s}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:o}=i("./packages/feature-flag-client/index.ts"),l=i("./node_modules/react/index.js"),c=i("./packages/react-dom-wrapper/index.ts"),{renderComponent:d}=i("./app/src/components/ComponentWrapper/index.ts"),{QrCodeWrapper:u,QrCodeType:p,QrCodeStyle:m}=i("./app/src/components/QrCode/index.ts"),h={_secretUrl(){return"".concat(this.model.url(),"/invitationSecret")},showInvitationLink(e){return this.$(".js-show-invitation-link").addClass("hide"),this.$(".js-invitation-link-container").removeClass("hide"),r({method:"post",url:this._secretUrl()}).get("secret").then((e=>{const t=this.model.get("url").replace(new RegExp("(/b/[^/]+|/[^/]+$)(.*)$"),"/invite$1/".concat(e,"$2"));return o.get("aaaa.qr-codes",!1)&&this.mountQrCode(t),this.$(".js-invitation-link").val(t).focus().select()})).then((()=>(a("board menu","opens","board invitation link","","","by clicking add members",{boardId:this.model.id}),s.sendClickedLinkEvent({linkName:"inviteToBoardCreateLink",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}})))).done()},clickInvitationLink(e){return a("board menu","click","board invitation link","","","by clicking invitation link",{boardId:this.model.id}),s.sendClickedLinkEvent({linkName:"inviteToBoardLink",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),n(".js-invitation-link").select()},deactivateInvitationLink(e){return this.$(".js-show-invitation-link").removeClass("hide"),this.$(".js-invitation-link-container").addClass("hide"),this.$(".js-invitation-link").val(""),a("board menu","disables","board invitation link","","","by clicking add members",{boardId:this.model.id}),s.sendClickedLinkEvent({linkName:"inviteToBoardDisableLink",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),this.unmountQrCode(),r({method:"delete",url:this._secretUrl()}).done()},copyInvitationLink(e){return n(".js-invitation-link").select(),a("board menu","copy","board invitation link","","","by clicking add members",{boardId:this.model.id}),s.sendClickedButtonEvent({buttonName:"inviteToBoardLinkCopyButton",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),document.execCommand("copy"),clearTimeout(this.hideTimeout),n(".js-hide-on-copy").hide(),n(".js-show-on-copy").show(),this.hideTimeout=setTimeout((()=>(n(".js-hide-on-copy").show(),n(".js-show-on-copy").hide())),2e3)},mountQrCode(e){const t=this.$el.find(".js-qr-code")[0];t&&d(l.createElement(u,{url:e,type:p.boardInvite,style:m.inline}),t)},unmountQrCode(){const e=this.$el.find(".js-qr-code")[0];e&&c.unmountComponentAtNode(e)}};e.exports=h},"./app/scripts/views/label/card-label-select-view.js":function(e,t,i){const n=i("./app/scripts/views/label/labels-view.js"),r=i("./app/scripts/views/lib/pop-over.js"),a=i("./app/scripts/views/internal/view.js");class s extends a{static initClass(){this.prototype.viewTitleKey="labels"}el(){return this.labelsView=this.subview(n,this.model,{board:this.model.getBoard(),selectLabel:this.toggleLabel.bind(this),renderOn:[{source:this.model.labelList,events:"add remove reset change"},{source:this.model,events:"change:labels, change:idLabels"}],popOverMethod:"pushView",searchInit:this.options.searchInit}),this.labelsView.render().el}toggleLabel(e,t){this.model.toggleLabel(this.modelCache.get("Label",e)),this.options.hideOnSelect&&r.popView()}}s.initClass(),e.exports=s},"./app/scripts/views/label/label-create-view.js":function(e,t,i){const n=i("./app/scripts/models/label.js"),r=i("./app/scripts/views/label/label-edit-component.js"),a=i("./app/scripts/views/label/label-limits-error-view.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./app/scripts/views/internal/view.js"),{Analytics:l}=i("./packages/atlassian-analytics/index.ts");class c extends o{static initClass(){this.prototype.viewTitleKey="create label"}el(){if(this.options.board.isOverLimit("labels","perBoard"))return(new a).render().el;let{color:e}=this.options,{name:t}=this.options;return Array.from(n.colors).includes(t)&&(e=t,t=""),new r({model:{name:t},submitTextKey:"create",color:e,onSubmit:(e,t)=>{if(!this.options.board.isOverLimit("labels","perBoard")){if("function"==typeof this.options.onSubmit){const i=l.startTask({taskName:"create-label",source:"labelCreateScreen"}),n=e=>{l.taskAborted({taskName:"create-label",source:"labelCreateScreen",traceId:i,error:e})},r=e=>{throw l.taskFailed({taskName:"create-label",source:"labelCreateScreen",traceId:i,error:e})},a=()=>{l.sendTrackEvent({action:"created",actionSubject:"label",source:"labelCreateScreen",containers:{board:{id:this.options.board.id}},attributes:{taskId:i}}),l.taskSucceeded({taskName:"create-label",source:"labelCreateScreen",traceId:i})};this.options.onSubmit(e,t,i,r,n,a)}return s.popView()}s.pushView(new a)}}).render().el}}c.initClass(),e.exports=c},"./app/scripts/views/label/label-edit-component.js":function(e,t,i){const n=i("./app/scripts/models/label.js"),r=i("./app/scripts/lib/util/index.js"),a=i("./app/scripts/views/internal/view.js"),s=i("./node_modules/underscore/underscore.js"),o=i("./app/scripts/views/internal/templates.js"),l=i("./app/scripts/lib/localize.js");class c extends a{static initClass(){this.prototype.tagName="form",this.prototype.className="edit-label",this.prototype.events={"click .js-palette-color":"pickColor","click .js-submit":"submit",submit:"submit"}}initialize({accessoryView:e,color:t,onSubmit:i,submitTextKey:n}){return this.accessoryView=e,this.color=t,this.onSubmit=i,this.submitTextKey=n,super.initialize(...arguments)}renderOnce(){let e;const t=(()=>{const t=[];for(e of Array.from(n.colors))t.push({color:e,selected:e===this.color});return t})(),r={label:{name:this.model.name},colors:t};return r.submitText=l(this.submitTextKey),r.noColor=null===this.color,this.$el.html(o.fill(i("./app/scripts/views/templates/label_edit_component.js"),r)),null!=this.accessoryView&&this.$(".js-accessory-view-holder").append(this.accessoryView.render().el),this}pickColor(e){r.stop(e),this.$(".js-palette-select").hide();const t=this.$(e.target).closest(".js-palette-color");return this.color=t.attr("data-color"),t.find(".js-palette-select").show()}submit(e){r.stop(e);const t=this.$(".js-label-name").val().trim();return s.isEmpty(t)&&s.isEmpty(this.color)?void 0:this.onSubmit(t,s.isEmpty(this.color)?null:this.color)}}c.initClass(),e.exports=c},"./app/scripts/views/label/label-edit-view.js":function(e,t,i){let n;const r=i("./app/scripts/views/lib/confirm.js"),a=i("./app/scripts/views/label/label-edit-component.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./app/scripts/lib/localize.js"),{Analytics:d,tracingCallback:u}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:p}=i("./packages/feature-flag-client/index.ts");e.exports=n=function(){let e=void 0;return n=class extends l{static initClass(){e=class extends l{static initClass(){this.prototype.tagName="input",this.prototype.className="nch-button nch-button--danger",this.prototype.events={click(e){return o.stop(e),this.options.onClick()}}}attributes(){return{type:"submit",value:c("delete")}}},e.initClass(),this.prototype.viewTitleKey="change label"}initialize(){return this.sendGASEvent=p.get("dataeng.gasv3-event-tracking",!1)}el(){return new a({model:this.model.toJSON(),submitTextKey:"save",onSubmit:(e,t)=>{const i=d.startTask({taskName:"edit-label",source:"labelEditScreen"});return this.model.update({color:t,name:e,traceId:i},u({taskName:"edit-label",source:"labelEditScreen",traceId:i},(e=>{e||d.sendTrackEvent({action:"updated",actionSubject:"label",source:"labelEditScreen",containers:{board:{id:this.model.getBoard().id}},attributes:{taskId:i}})}))),"function"==typeof this.options.onSubmit&&this.options.onSubmit(),s.popView()},color:this.model.get("color"),accessoryView:new e({onClick:this.confirmDeleteLabel.bind(this)})}).render().el}confirmDeleteLabel(){return r.pushView("delete label",{model:this.model,confirmBtnClass:"nch-button nch-button--danger",popOnClick:!0,popDepth:2,fxConfirm:e=>{const t=d.startTask({taskName:"delete-label",source:"labelEditScreen"});return this.model.destroyWithTracing({traceId:t},u({taskName:"delete-label",source:"labelEditScreen",traceId:t})),"function"==typeof this.options.onSubmit&&this.options.onSubmit(),d.sendTrackEvent({action:"deleted",actionSubject:"label",source:"labelEditScreen",containers:{board:{id:this.model.getBoard().id}},attributes:{taskId:t}})}})}},n.initClass(),n}()},"./app/scripts/views/label/label-key-helper.js":function(e,t,i){const{Key:n}=i("./packages/keybindings/index.ts"),r=i("./app/scripts/models/label.js"),a=i("./node_modules/underscore/underscore.js");e.exports=function(){class e{static initClass(){this.keyboardIndex=[a.last(r.colors)].concat(a.initial(r.colors))}static keyNumberForColor(e){const t=this.keyboardIndex.indexOf(e);return t>=0?"".concat(t):null}static colorForKey(e){const t=e-n.Zero;return this.keyboardIndex[t]}static setLabelFromKey(e,t,i){const n=this.colorForKey(e),r=t.getBoard().labelsForColors()[n];1===(null!=r?r.length:void 0)?t.toggleLabelColor(n):"function"==typeof i&&i(n)}}return e.initClass(),e}()},"./app/scripts/views/label/label-limits-error-view.js":function(e,t,i){const n=i("./app/scripts/views/internal/templates.js"),r=i("./app/scripts/views/internal/view.js");class a extends r{static initClass(){this.prototype.tagName="span",this.prototype.className="error"}renderOnce(){return this.$el.html(n.fill(i("./app/scripts/views/templates/label_limit_exceeded.js")))}}a.initClass(),e.exports=a},"./app/scripts/views/label/labels-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{ActionHistory:r}=i("./packages/action-history/index.ts"),a=i("./app/scripts/db/auth.js"),s=i("./app/scripts/models/card.js"),{getKey:o,Key:l}=i("./packages/keybindings/index.ts"),c=i("./app/scripts/models/label.js"),d=i("./app/scripts/views/label/label-create-view.js"),u=i("./app/scripts/views/label/label-edit-view.js"),p=i("./app/scripts/views/label/label-key-helper.js"),m=i("./app/scripts/views/lib/pop-over.js"),h=i("./app/scripts/lib/util/index.js"),g=i("./app/scripts/views/internal/view.js"),b=i("./node_modules/underscore/underscore.js"),f=i("./app/scripts/views/internal/templates.js"),v=i("./app/scripts/lib/localize.js"),{Analytics:k}=i("./packages/atlassian-analytics/index.ts");let y=void 0;class w extends g{static initClass(){y=12,this.prototype.labelsToShow=y,this.prototype.events={"click .js-select-label":"clickLabel","click .js-toggle-color-blind-mode":"toggleColorBlindMode","click .js-edit-label":"clickEditLabel","click .js-add-label":"clickAddLabel","click .js-show-more":"showMore","input .js-label-search":"renderLabels","keyup .js-label-search":"keyUp","mouseover .card-label":"hoverLabel"}}initialize({selectLabel:e,board:t,modelCache:i,renderOn:n,popOverMethod:r,searchInit:s,onEditSubmit:o}){this.selectLabel=e,this.board=t,this.modelCache=i,this.renderOn=n,this.popOverMethod=r,this.searchInit=s,this.onEditSubmit=o,this.makeDebouncedMethods("render","renderLabels"),this.listenTo(a.me(),{"change:prefs":this.renderDebounced}),this.listenTo(this.board.labelList,{"add remove reset change":this.renderLabelsDebounced});for(const e of Array.from(null!=this.renderOn?this.renderOn:[]))this.listenTo(e.source,e.events,this.renderLabelsDebounced);return this._keepVisible={},super.initialize(...arguments)}render(){const e=this.board.labelColors(),t={editable:this.board.editable()},n={colors:e,isColorBlindEnabled:a.isLoggedIn()&&a.me().get("prefs").colorBlind,searchInit:null!=this.searchInit?this.searchInit:""};return this.searchInit=null,this.$el.html(f.fill(i("./app/scripts/views/templates/popover_change_labels.js"),n,t)),this.renderLabels()}renderLabels(){const e=this._filteredLabels(),t=b.map(e,(e=>this.model.dataForLabel(e))),n=e=>e.isActive||this._keepVisible[e.id],r=(()=>{if(t.length>this.labelsToShow){const e=t.filter(n);let i=this.labelsToShow-e.length;return b.chain(t).filter((e=>n(e)||i-- >0)).first(this.labelsToShow).value()}return t})();this.$(".js-show-more").toggleClass("hide",r.length===t.length);const a={labels:r},o={editable:this.board.editable()};this.$(".js-labels-list").empty().append(f.fill(i("./app/scripts/views/templates/select_labels.js"),a,o));const l=this._searchVal(),c=b.isEmpty(l)||e.length>0?v("create new label.unnamed"):v("create new label.named",{name:l},{raw:!0});this.$(".js-add-label").text(c),!b.isEmpty(l)&&e.length>0&&this.selectFirstLabelInList();const d=!this._searchVal()&&this.model instanceof s&&r.length<t.length?this.getSuggestedLabels():[];return this.$(".js-suggestions").toggleClass("hide",0===d.length),this.$(".js-suggested-labels-list").empty().append(f.fill(i("./app/scripts/views/templates/select_labels.js"),{labels:d},o)),this}getSuggestedLabels(){const e=r.get(),t=this.model.getBoard(),i=this.model.get("idList"),n=new Set;return e.filter((({action:e,context:t})=>"add-label"===e.type&&t.idList===i)).filter((function({action:e}){return!n.has(e.idLabel)&&(n.add(e.idLabel),!0)})).filter((({action:e})=>this.model.isValidSuggestion(e))).map((({action:e})=>{const i=t.labelList.get(e.idLabel);return this.model.dataForLabel(i)})).slice(0,5)}highlightElement(e){return h.selectMenuItem(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",e)}getHighlightedElement(){return this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label.selected").first()}selectFirstLabelInList(e){this.highlightElement(this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label").first())}toggleColorBlindMode(e){const t=a.me();t.toggleColorBlindMode(),k.sendTrackEvent({action:"toggled",actionSubject:"colorBlindFriendlyMode",source:"cardLabelsScreen",containers:{card:{id:this.model.id}},attributes:{value:t.get("prefs").colorBlind}})}clickEditLabel(e){h.stop(e);const t=n(e.target).closest(".js-edit-label").attr("data-idLabel");return this.editLabel(t)}selectLabelViaElem(e){const t=e.attr("data-idLabel"),i=e.closest(".js-suggestions").length>0;return this._keepVisible[t]=!0,this.selectLabel(t,i)}clickLabel(e){h.stop(e);const t=n(e.target).closest(".js-select-label");return this.selectLabelViaElem(t)}findElementForLabel(e){return this.$(".js-edit-label").filter(((t,i)=>n(i).attr("data-idLabel")===e))}editLabel(e){const t=this.findElementForLabel(e),i=this.modelCache.get("Label",e);return m[this.popOverMethod]({elem:t,view:u,options:{model:i,board:this.board,modelCache:this.modelCache,onSubmit:this.onEditSubmit}})}clickAddLabel(e){h.stop(e);const t=this._searchVal();m[this.popOverMethod]({elem:this.$(".js-add-label"),view:d,options:{board:this.board,name:t,color:this._nextColor(),onSubmit:(e,t,i,n,r,a)=>(this.model.createLabel(e,t,i,n,r,a),this.clearSearch())}})}showMore(){return this.labelsToShow+=y,this.renderLabels()}hoverLabel(e){this.highlightElement(n(e.target).closest(".card-label"))}keyUp(e){const t=o(e);if([l.ArrowUp,l.ArrowDown].includes(t))return h.stop(e),void h.navMenuList(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",t);if(t!==l.Enter)return;if(!(this._filteredLabels().length>0))return this.clickAddLabel();{const e=this.getHighlightedElement();if(e.length>0&&(this.selectLabelViaElem(e),this.clearSearch()),this.sendGASEevent)return k.sendTrackEvent({action:"added",actionSubject:"label",source:"cardLabelFilter",containers:{card:{id:this.model.id}}})}}clearSearch(){return this.$(".js-label-search").val(""),this.renderLabels()}_nextColor(){let e;const t=b.chain(this.board.getLabels()).map((e=>e.get("color"))).uniq().value();return null!=(e=b.difference(c.colors,t)[0])?e:""}_searchVal(){const e=this.$(".js-label-search").val();return e?e.trim():""}_filteredLabels(){const e=this._searchVal().toLowerCase(),t=b.chain(this.board.getLabels()).filter((t=>!!b.isEmpty(e)||(t.has("name")&&t.get("name").toLowerCase().indexOf(e)>-1||t.has("color")&&0===t.get("color").toLowerCase().indexOf(e)))).value(),i=this.board.getLabels().filter((i=>i.has("color")&&i.get("color")===p.keyboardIndex[parseInt(e,10)]&&0===t.filter((e=>0===c.compare(i,e))).length));return t.concat(i)}}w.initClass(),e.exports=w},"./app/scripts/views/lib/confirm.js":function(e,t,i){const n=i("./app/scripts/views/lib/pop-over.js"),r=i("./app/scripts/lib/util/index.js"),a=i("./app/scripts/views/internal/view.js"),s=i("./node_modules/underscore/underscore.js"),o=i("./app/scripts/views/internal/templates.js"),l=i("./app/scripts/lib/localize.js");let c=void 0,d=void 0;class u extends a{static initClass(){c=function(e,t){const i=s.clone(e);for(const e of Object.keys(t||{})){const n=t[e];e in i||(i[e]=n())}return i},d=function(e,t){const i=c(t,{title:()=>l(["confirm",e,"title"],t.templateData),html:()=>l(["confirm",e,"text"],t.templateData),confirmText:()=>l(["confirm",e,"confirm"],t.templateData)});return"fxCancel"in i&&!("cancelText"in i)&&(i.cancelText=l(["confirm",e,"cancel"],t.templateData)),i},this.prototype._events={"click .js-confirm":"confirm","click .js-cancel":"cancel"}}constructor({model:e,text:t,html:n,elem:r,top:a,confirmText:o,confirmBtnClass:l,confirmBtnTestId:c,cancelText:d,title:u,template:p,templateData:m,data:h,fxConfirm:g,fxCancel:b,popOnClick:f,popDepth:v,maxWidth:k}){super(...arguments),this.model=e,this.elem=r,this.top=a,this.title=u,this.template=p,this.templateData=m,this.popOnClick=f,this.popDepth=v,null==this.template&&(this.template=i("./app/scripts/views/templates/confirm.js")),null==c&&(c=""),this.confirm=this._handleClick(g),this.cancel=b?this._handleClick(b):function(){},this.data=s.extend({text:t,html:n,confirmText:o,confirmBtnClass:l,confirmBtnTestId:c,cancelText:d},null!=h?h:{}),null==this.templateData&&(this.templateData={}),this.maxWidth=k,this.delegateEvents(this._events)}static toggle(e,t){return t=1===arguments.length?e:d(e,t),n.toggle({elem:t.elem,top:t.top,alignRight:t.alignRight,view:this,options:t})}static pushView(e,t){return t=1===arguments.length?e:d(e,t),n.pushView({view:this,options:t})}getViewTitle(){return this.title}render(){return this.$el.html(o.fill(this.template,this.data,{},{member:o.member})),setTimeout((e=>(this.$el.find(".js-confirm").focus(),0))),this}_handleClick(e){return t=>(r.stop(t),this.popOnClick?n.popView(this.popDepth):n.hide(),"function"==typeof e&&e(t),this.remove(),!1)}}u.initClass(),e.exports=u},"./app/scripts/views/lib/drag-sort.js":function(e,t,i){let n;const r=i("./packages/jquery/index.js"),a=i("./packages/browser/index.ts"),s=i("./app/scripts/controller/index.js"),o=i("./app/scripts/views/lib/pop-over.js"),l=i("./app/scripts/views/lib/post-render.js"),c=i("./app/scripts/view-models/sidebar-state.js"),d=i("./app/scripts/lib/util/index.js"),u=i("./node_modules/underscore/underscore.js"),{Analytics:p}=i("./packages/atlassian-analytics/index.ts"),m=({x:e},{left:t,right:i})=>t<=e&&e<i,h=({top:e,left:t,bottom:i,right:n},r,a)=>({top:e+a,bottom:i-a,left:t+r,right:n-r}),g=e=>({x:e.pageX,y:e.pageY}),b=(...e)=>function(){for(const t of Array.from(e))null!=t&&t.apply(this,arguments)},f=(e,t)=>b(t,e);class v{static initClass(){this.prototype.hasMousedLeft=!1,this.prototype.hasMousedRight=!1,this.prototype.stopped=!1,this.prototype.aborted=!1}constructor({scrollBoard:e,scrollLists:t,scrollCard:i,commitEvent:n,cancelMethod:r}){this.scrollBoard=e,this.scrollLists=t,this.scrollCard=i,this.commitEvent=n,this.cancelMethod=r,this._queue=[]}start(e,t){this.$helper=t.helper,this.$target=r(e.target),this.initialMousePosition=g(e),this.lockModelCache(),c.hideSidebar(),this.startTrackingMouse(),this.hidePopoversForSomeReason(),this.boardElement=r("#board")[0],this.boardCanvasElement=r(".board-canvas")[0],this.windowOverlayElement=r(".window-overlay")[0],this.cachedHoveredList=this.getHoveredListForPoint(this.initialMousePosition),(this.scrollLists||this.scrollBoard||this.scrollCard)&&this.startAutoscrolling(),n.sorting=!0,this.onStop((()=>u.defer((()=>n.sorting=!1))))}lockModelCache(){const e=s.getCurrentModelCache();if(null==e)throw new Error("Attempt to use DragInfo on a page with no modelCache!");const t=e.lock("DragSort.startSort");return this.onStop((()=>e.unlock(t)))}hidePopoversForSomeReason(){0===this.$target.closest(".pop-over").length&&o.hide()}startAutoscrolling(){const e=Math.floor(1e3/60),t=setInterval(this.autoscroll.bind(this),e);return this.onStop((()=>clearInterval(t)))}getHoveredListForPoint(e){for(const t of Array.from(r(".js-list")))if(m(e,t.getBoundingClientRect()))return r(t).find(".list-cards")[0];return null}startTrackingMouse(){const e=u.throttle((e=>{if(!this.stopped)return this.cachedHoveredList=this.getHoveredListForPoint(e)}),100);return r(document).on("mousemove.dragsort",(t=>{const i=g(t);i.x<this.initialMousePosition.x-20&&(this.hasMousedLeft=!0),i.x>this.initialMousePosition.x+20&&(this.hasMousedRight=!0),e(i)})),this.onStop((()=>r(document).off("mousemove.dragsort")))}onStop(e){return this._queue.push(e)}stop(e,t){this.stopped=!0;for(const e of Array.from(this._queue))e.call(this);delete this._queue,this.aborted||this.$target.trigger(this.commitEvent,t)}scrollDeltaForOverhang(e){return.1*e}autoscrollBoard(){const{left:e,right:t}=this.$helper[0].getBoundingClientRect(),i=h(this.boardCanvasElement.getBoundingClientRect(),100,0),n=i.left-e;n>0&&this.hasMousedLeft&&(this.boardElement.scrollLeft-=this.scrollDeltaForOverhang(n));const r=t-i.right;r>0&&this.hasMousedRight&&(this.boardElement.scrollLeft+=this.scrollDeltaForOverhang(r))}autoscrollLists(){const{top:e,bottom:t}=this.$helper[0].getBoundingClientRect(),i=h(this.cachedHoveredList.getBoundingClientRect(),0,50),n=i.top-e;n>0&&(this.cachedHoveredList.scrollTop-=this.scrollDeltaForOverhang(n));const r=t-i.bottom;r>0&&(this.cachedHoveredList.scrollTop+=this.scrollDeltaForOverhang(r))}autoscrollCard(){let{bottom:e}=this.$helper[0].getBoundingClientRect();const{top:t}=this.$helper[0].getBoundingClientRect();e-t>64&&(e=t+64);const i=h(this.windowOverlayElement.getBoundingClientRect(),0,100),n=i.top-t;n>0&&(this.windowOverlayElement.scrollTop-=this.scrollDeltaForOverhang(n));const r=e-i.bottom;r>0&&(this.windowOverlayElement.scrollTop+=this.scrollDeltaForOverhang(r))}autoscroll(){this.scrollBoard&&this.autoscrollBoard(),this.scrollLists&&null!=this.cachedHoveredList&&this.autoscrollLists(),this.scrollCard&&this.autoscrollCard()}abort(){let e;return this.aborted=!0,null!=(e=r.ui.ddmanager.current)&&(e.currentContainer=e),this.$target[this.cancelMethod]("cancel")}}v.initClass();let k=null;const y=function(e,t){return t=u.defaults({},t,{distance:7,scroll:!1}),e.scrollLists&&(t.custom={refreshContainers(){this.containers=(()=>{const e=[];for(const t of Array.from(this.containers))if(r.contains(document,t.element[0])){const i=t.element.closest(".js-list")[0].getBoundingClientRect();for(const e of["left","top","width","height"])t.containerCache[e]=i[e];e.push(t)}return e})()}}),t.start=f(t.start,(function(t,i){if(null!=k)throw new Error("Attempt to start a drag event while another is in progress!");k=new v(e),k.start(t,i)})),t.stop=f(t.stop,(function(e,t){d.stopPropagation(e),k.stop(e,t),k=null})),t},w=e=>({width:e.outerWidth(),height:e.outerHeight()}),j=function(e,t,i){if(a.isTouch())return;let n=null;const s=!("helper"in i)||"original"===i.helper;i.start=f(i.start,(function(e,r){s&&"appendTo"in i&&(r.helper.appendTo(i.appendTo),n.sortable("refreshPositions",!0));const{width:a,height:o}=(null!=t.calcSize?t.calcSize:w)(r.item);r.placeholder.width(a),r.placeholder.height(o)})),t=u.extend({commitEvent:"sortcommit",cancelMethod:"sortable"},t),i=y(t,i),l.enqueue((()=>{return t=()=>{n=r(e),n.sortable(i)},void(k?k.onStop(t):t());var t}))},x=function(e,t,i){a.isTouch()||(t=u.extend({commitEvent:"dragcommit",cancelMethod:"draggable"},t),i=y(t,i),l.enqueue((()=>r(e).draggable(i))))};e.exports=n={refreshListSortable:()=>j(".js-list-sortable",{scrollBoard:!0,scrollLists:!1,calcSize(e){const t=e.children(".list");return{width:t.outerWidth(),height:t.outerHeight()}}},{handle:".list-header",tolerance:"pointer",placeholder:"list-wrapper placeholder",items:".js-list",appendTo:"#trello-root"}),refreshCalendarCardSortable:()=>j(".js-calendar-sortable",{scrollBoard:!1,scrollLists:!1},{connectWith:".js-calendar-sortable",placeholder:"list-card placeholder-none",items:".list-card:not(.placeholder-none, .hide, .js-composer), .js-draggable-calendar-check-item",helper:"clone",appendTo:"#trello-root",over:(e,t)=>r(e.target).closest(".calendar-day").addClass("drop"),out:(e,t)=>r(e.target).closest(".calendar-day").removeClass("drop")}),refreshListCardSortable:()=>j(".js-sortable",{scrollBoard:!0,scrollLists:!0},{connectWith:".js-sortable:not(.card-limits-full)",placeholder:"list-card placeholder",items:".list-card:not(.placeholder, .hide, .js-composer)",appendTo:"#trello-root"}),refreshDraggableSidebarMembers:()=>x(".js-list-draggable-board-members .member:not(.js-member-deactivated)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start(e,t){p.sendUIEvent({action:"dragged",actionSubject:"member",source:"boardScreen",containers:{board:{id:s.getCurrentBoardView().model.id}}}),r(".list-card.active-card").removeClass("active-card")}}),refreshDraggableStickers:()=>x(".js-draggable-sticker:not(.disabled)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start(e,t){p.sendUIEvent({action:"dragged",actionSubject:"sticker",source:"boardScreen",containers:{board:{id:s.getCurrentBoardView().model.id}}});const i=20*Math.random()-10;t.helper.find(".sticker-select-fixed").css({transform:"rotate(".concat(i,"deg)"),"-webkit-transform":"rotate(".concat(i,"deg)")})}}),refreshCardSortable:(e,t)=>j(e,{scrollCard:!0},t),abort(){if(null==k)throw new Error("Abort called while not dragging!");return k.abort()},refreshIfInitialized(e){if(null!=e?e.hasClass("ui-sortable"):void 0)return e.sortable("refresh")}}},"./app/scripts/views/lib/limit-error-popover.js":function(e,t,i){const n=i("./app/scripts/views/lib/confirm.js"),r=i("./app/scripts/views/lib/pop-over.js"),a=i("./app/scripts/lib/localize.js"),{Analytics:s,getScreenFromUrl:o}=i("./packages/atlassian-analytics/index.ts");e.exports=function({trackingArea:e,elem:t,message:i,params:l}){const{boardId:c,orgId:d}=l;return s.sendTrackEvent({action:"exceeded",actionSubject:e,source:o(),attributes:{message:i},containers:{board:{id:c},organization:{id:d}}}),n.toggle(i,{elem:t,html:a("confirm.".concat(i,".text"),l),fxConfirm:()=>r.hide()})}},"./app/scripts/views/lib/markdown-transform.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"applyMarkdownShortcuts",(function(){return p}));var n=i("./packages/feature-flag-client/index.ts");const r=(e,t)=>{""===e?document.execCommand("delete",!1)||t.setRangeText(e):document.execCommand("insertText",!1,e)||t.setRangeText(e)},a=(e,t,i)=>Math.min(Math.max(e,t),i),s=(e,t,i,n)=>{var s,o;i||(i=t);const l=u(e);if(""===l.selection){const n=new RegExp("("+t.test.source+")$"),r=new RegExp("^("+i.test.source+")"),a=l.text.substring(0,l.selectionStart).match(n),s=l.text.substring(l.selectionEnd).match(r);if(!a&&s){const t=l.selectionEnd+s[0].length;return void e.setSelectionRange(t,t)}}const c=new RegExp("^("+t.test.source+")"),p=new RegExp("("+i.test.source+")$");d(e,l,n);const m=u(e),h=m.selection.match(c),g=m.selection.match(p),b=(null===(s=m.selection.match(c))||void 0===s?void 0:s[0].length)||0,f=(null===(o=m.selection.match(p))||void 0===o?void 0:o[0].length)||0;if(h&&g&&m.selectionEnd-f!==m.selectionStart&&m.selectionStart+b!==m.selectionEnd){e.setSelectionRange(m.selectionStart,m.selectionEnd),r(m.selection.substring(b,m.selection.length-f),e);const t=m.selection.length-f-b,i=m.selectionStart,n=m.selectionStart+t;""===l.selection?e.setSelectionRange(a(l.selectionStart-b,i,n),a(l.selectionEnd-b,i,n)):e.setSelectionRange(m.selectionStart,m.selectionEnd-b-f)}else e.setSelectionRange(m.selectionStart,m.selectionEnd),r("".concat(t.insert).concat(m.selection).concat(i.insert),e),""===m.selection?e.setSelectionRange(m.selectionStart+t.insert.length,m.selectionStart+t.insert.length):""===l.selection?e.setSelectionRange(l.selectionStart+t.insert.length,l.selectionStart+t.insert.length):e.setSelectionRange(m.selectionStart,m.selectionEnd+t.insert.length+i.insert.length)},o=(e,t)=>{const i=u(t);i.selection.endsWith("\n")&&t.setSelectionRange(i.selectionStart,i.selectionEnd-1);const{selection:n,selectionStart:a,selectionEnd:s,text:o}=u(t),l=t=>{var i;return null===(i=t.match(e.test))||void 0===i?void 0:i[0]},c=o.lastIndexOf("\n",a-1),d=o.indexOf("\n",s),p=-1!==c?c+1:0,m=-1!==d?d:o.length,h=o.substring(p,m),g=h.split("\n");if(""!==n||0!==a&&"\n"!==o.charAt(a-1))if(g.every((e=>""===e.trim()||void 0!==l(e)))){const e=g.map((e=>{const t=l(e);return t?e.substring(t.length):e})).join("\n"),i=e.length-h.length;t.setSelectionRange(p,m),r(e,t),t.setSelectionRange(p,m+i)}else{let i=0;const n=g.map((t=>{var n;if(""===t.trim())return t;const r=null===(n=t.match(e.test))||void 0===n?void 0:n[0];r&&(t=t.substring(r.length));const a=e.insert(i);return i++,"".concat(a).concat(t)})).join("\n"),a=n.length-h.length;t.setSelectionRange(p,m),r(n,t),t.setSelectionRange(p,m+a)}else{const i=e.insert(0);r(i,t),t.setSelectionRange(a+i.length,a+i.length)}},l=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,c={"ctrl KeyB":e=>{s(e,{test:/\*\*/,insert:"**"})},"ctrl KeyI":e=>{s(e,{test:/_/,insert:"_"})},"ctrl KeyK":e=>{let t=u(e);d(e,t,!0),t=u(e),l.test(t.selection)?s(e,{test:/\[\]\(/,insert:"[]("},{test:/\)/,insert:")"},!0):s(e,{test:/\[/,insert:"["},{test:/\]\(\S*\)/,insert:"]()"},!0)},"ctrl KeyL":e=>{let t=u(e);d(e,t,!0),t=u(e),l.test(t.selection)?s(e,{test:/!\[\]\(/,insert:"![]("},{test:/\)/,insert:")"},!0):s(e,{test:/!\[/,insert:"!["},{test:/\]\(\S*\)/,insert:"]()"},!0)},"ctrl shift KeyS":e=>{s(e,{test:/~~/,insert:"~~"})},"ctrl shift KeyM":(e,t=!1)=>{const i=u(e);!t&&i.selection.trim().includes("\n")&&(("`"!==i.selection.charAt(0)||i.selection.startsWith("```"))&&"`"!==i.selection.charAt(i.selection.length-1)||i.selection.endsWith("```")||"``"===i.selection)?s(e,{test:/```\n/,insert:"```\n"},{test:/\n```/,insert:"\n```"}):s(e,{test:/`/,insert:"`"})},"ctrl alt Digit1":(e,t=!1)=>{!t&&o({test:/^#/,insert:()=>"#"},e)},"ctrl alt Digit2":(e,t=!1)=>{!t&&o({test:/^##/,insert:()=>"##"},e)},"ctrl alt Digit3":(e,t=!1)=>{!t&&o({test:/^###/,insert:()=>"###"},e)},"ctrl shift Digit8":(e,t=!1)=>{!t&&o({test:/^[-*+] /,insert:()=>"- "},e)},"ctrl shift Digit7":(e,t=!1)=>{!t&&o({test:/^[0-9]+. /,insert:e=>"".concat(e+1,". ")},e)}},d=(e,t,i)=>{const n=i?/[^\s]+/:/[^\s\\/!?.,;|<>{}\-+=&'"]+/;if(n.test(t.selection))return;let r=t.selectionStart,a=t.selectionEnd;for(;r>0&&n.test(t.text.charAt(r-1));)r--;for(;a<t.text.length&&n.test(t.text.charAt(a));)a++;e.setSelectionRange(r,a)},u=e=>{const t=e.selectionStart||0,i=e.selectionEnd||0,n=e.value,r="string"==typeof n?n:"";return{text:r,selection:r.substring(t,i),selectionStart:t,selectionEnd:i}},p=(e,t=!1)=>{if(!n.featureFlagClient.get("remarkable.markdown-hotkeys",!1))return;const i=e.ctrlKey||e.metaKey?"ctrl ":"",r=e.shiftKey?"shift ":"",a=e.altKey?"alt ":"",s=e.originalEvent.code,o="".concat(i).concat(a).concat(r).concat(s),l=Object.entries(c).find((([e])=>e===o));if(l){const[,i]=l;if(e.preventDefault(),null===e.target)return;i(e.target,t)}}},"./app/scripts/views/lib/tooltip.js":function(e,t,i){let n;const r=i("./packages/jquery/index.js"),a=i("./app/scripts/views/internal/templates.js");e.exports=n=new(function(){const e=class{static initClass(){this.prototype.STYLE={DEFAULT:"default",MENU:"menu",BILLING:"billing"},this.prototype.TOOLTIP_CONTAINER="tooltip-container",this.prototype.DEFAULT_OPTIONS={addVerticalOffset:0}}constructor(){this.tooltip=null}show(e,t,n,s,o){if(null==n&&(n=!0),null==s&&(s=this.STYLE.DEFAULT),null==o&&(o=this.DEFAULT_OPTIONS),r(window).on("click",t[0],this.windowClick),clearTimeout(this.emptyTimer),"function"==typeof e.renderOnce&&(e=e.renderOnce().$el.html()),(null!=this.tooltip?this.tooltip.tooltipHtml:void 0)===e&&(null!=this.tooltip?this.tooltip.$anchor[0]:void 0)===t[0])return;const l=r(a.fill(i("./app/scripts/views/templates/tooltip_content.js"),{tooltipHtml:e,closeable:n,style:s})),c=r(".".concat(this.TOOLTIP_CONTAINER)).attr("class",this.TOOLTIP_CONTAINER);s!==this.STYLE.DEFAULT&&c.addClass("tooltip-".concat(s)),c.html(l),this.tooltip={tooltipHtml:e,$anchor:t,$elem:l};const{left:d,top:u}=t.offset(),p=t.outerHeight(),m=window.innerWidth-c.outerWidth();return c.css({left:Math.min(Math.max(d-5,5),m),top:Math.max(u+p+o.addVerticalOffset,5)}),l.addClass("active")}windowClick(e){const t=r(e.target);if(e.target!==e.data&&0===t.closest(".js-tooltip-content").length||0!==t.closest(".js-tooltip-close-button").length)return n.hide()}hide(){this.tooltip=null;const e=r(".".concat(this.TOOLTIP_CONTAINER));return e.find(".tooltip-content").removeClass("active"),this.emptyTimer=setTimeout((()=>e.empty()),300),r(window).off("click",this.windowClick)}};return e.initClass(),e}())},"./app/scripts/views/list/inline-list-composer-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/lib/alerts.js"),a=i("./app/scripts/views/lib/pop-over.js"),s=i("./app/scripts/lib/util/index.js"),o=i("./app/scripts/views/internal/view.js"),l=i("./app/scripts/views/templates/list_add.js"),{track:c}=i("./packages/analytics/index.ts"),{Analytics:d}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:u}=i("./packages/feature-flag-client/index.ts");e.exports=class extends o{className(){return"js-add-list list-wrapper mod-add is-idle"}events(){return{"click .js-open-add-list":"setOpen","click .js-cancel-edit":"setClose",submit:"addList"}}initialize(){this.sendGASEvent=u.get("dataeng.gasv3-event-tracking",!1),this.listenTo(this.model.viewState,"change:listComposerOpen",this.frameDebounce(this.renderListComposer)),this.listenTo(this.model,"change:limits",this.render),this.listenTo(this.model.listList,"add remove",this.render),this.handleClickOutside=this.handleClickOutside.bind(this),n(document).on("click",this.handleClickOutside)}remove(){return n(document).off("click",this.handleClickOutside),super.remove(...arguments)}handleClickOutside(e){if(!this.model.viewState.get("listComposerOpen"))return;return 0===n(e.target).closest(".js-add-list").length?this.setClose(e):void 0}render(){const e=0===this.model.listList.length;return this.$el.html(l({tooManyTotalLists:this.model.isOverLimit("lists","totalPerBoard"),tooManyOpenLists:this.model.isOverLimit("lists","openPerBoard"),isFirstList:e})),this.renderListComposer(),this.model.editable()&&this.$el.removeClass("fade hide"),this}setOpen(e){var t,i,n;this.sendGASEvent&&d.sendClickedButtonEvent({buttonName:"addAnotherListButton",source:"boardScreen",containers:{board:{id:null===(t=this.model)||void 0===t?void 0:t.id},organization:{id:null===(i=this.model)||void 0===i||null===(n=i.getOrganization())||void 0===n?void 0:n.id}}});this.$(".js-open-add-list").attr("tabindex","-1"),s.stop(e),this.model.viewState.set("listComposerOpen",!0)}setClose(e){this.$(".js-open-add-list").removeAttr("tabindex"),s.stop(e),this.model.viewState.set("listComposerOpen",!1)}renderListComposer(){return!this.model.viewState.get("listComposerOpen")||this.model.isOverLimit("lists","totalPerBoard")||this.model.isOverLimit("lists","openPerBoard")?this.renderClose():(this.sendGASEvent&&d.sendScreenEvent({name:"inlineListComposerInlineDialog",containers:{board:{id:null===(e=this.model)||void 0===e?void 0:e.id},organization:{id:null===(t=this.model)||void 0===t||null===(i=t.getOrganization())||void 0===i?void 0:i.id}}}),this.renderOpen());var e,t,i}renderOpen(e){s.stop(e),this.$el.removeClass("is-idle"),this.defer((()=>this.$(".list-name-input").blur().focus().select())),a.hide()}renderClose(e){s.stop(e),this.$el.addClass("is-idle")}createList(e){return new Promise(((t,i)=>{const n=this.model.listList.create(e,{success:e=>{var i,n,r;if(c("Board View","Add List - via Inline List Composer"),this.sendGASEvent)return d.sendTrackEvent({action:"created",actionSubject:"list",source:"inlineListComposerInlineDialog",containers:{board:{id:null===(i=this.model)||void 0===i?void 0:i.id},organization:{id:null===(n=this.model)||void 0===n||null===(r=n.getOrganization())||void 0===r?void 0:r.id}}});t()},error:()=>(this.model.listList.remove(n),i())})}))}addList(e){s.stop(e);const t=this.$(".list-name-input"),i=this.model.listList.length+1,n=t.val().trim();""!==n?this.createList({name:n,pos:this.model.calcPos(i),closed:!1}).then((()=>(t.val(""),this.renderOpen(),this))).catch((()=>r.flash("could not connect","error"))):t.focus().select()}}},"./app/scripts/views/list/list-bulk-move-cards-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{maybeDisplayLimitsErrorOnCardAdd:r}=i("./app/scripts/views/card/card-limits-error.js"),a=i("./app/scripts/views/lib/pop-over.js"),s=i("./app/scripts/views/internal/view.js"),o=i("./node_modules/underscore/underscore.js"),l=i("./app/scripts/views/internal/templates.js"),{track:c}=i("./packages/analytics/index.ts"),{Analytics:d}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:u}=i("./packages/feature-flag-client/index.ts");class p extends s{static initClass(){this.prototype.viewTitleKey="move all cards in list",this.prototype.events={"click .js-select-list":"selectList"}}initialize(){if(this.sendGASEvent=u.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return d.sendScreenEvent({name:"moveAllCardsInListInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:m(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:m(m(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}})}render(){const e=this.model.toJSON();e.lists=[];const t=this.model.getBoard().listList.models;for(const i of Array.from(t)){const t=o.clone(i.toJSON());t.id===this.model.id&&(t.current=!0),e.lists.push(t)}return this.$el.html(l.fill(i("./app/scripts/views/templates/list_bulk_card_move.js"),e)),this}selectList(e){const t=n(e.target).closest(".js-select-list"),i=t.attr("name");if(t.hasClass("disabled"))return;const s=this.modelCache.get("List",i),l=o.clone(this.model.openCards().models);if(l.length>0){const t={$elem:n(e.target),destinationList:s};if(r(t))return;c("Card","Moved in Bulk via List Menu"),this.sendGASEvent&&d.sendTrackEvent({action:"moved",actionSubject:"card",source:"moveAllCardsInListInlineDialog",attributes:{listSourceId:(null!=this.model?this.model.id:void 0)||""},containers:{list:{id:i||""},board:{id:m(null!=this.model?this.model.getBoard():void 0,(e=>e.id))||""},organization:{id:m(m(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))||""}}});for(const e of Array.from(l))e.moveToList(s,1e3)}a.hide()}}function m(e,t){return null!=e?t(e):void 0}p.initClass(),e.exports=p},"./app/scripts/views/list/list-copy-view.js":function(e,t,i){const{getKey:n,Key:r}=i("./packages/keybindings/index.ts"),{maybeDisplayLimitsErrorOnCardAdd:a}=i("./app/scripts/views/card/card-limits-error.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./app/scripts/views/templates/list_copy.js"),{track:d}=i("./packages/analytics/index.ts"),{Analytics:u}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:p}=i("./packages/feature-flag-client/index.ts");class m extends l{static initClass(){this.prototype.viewTitleKey="copy list",this.prototype.tagName="form",this.prototype.events={"click .js-submit":"submit",submit:"submit",'keydown textarea[name="name"]':"keydownEvent"}}initialize(){return this.sendGASEvent=p.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent&&u.sendScreenEvent({name:"copyListInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:h(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:h(h(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),this.listenTo(this.model.getBoard(),"change:limits",this.render)}render(){const e=this.model.getBoard();return this.$el.html(c({canCopyTotal:!e.isOverLimit("lists","totalPerBoard"),canCopyOpen:!e.isOverLimit("lists","openPerBoard"),name:this.model.get("name")})),this}keydownEvent(e){if(n(e)===r.Enter)return o.stop(e),void this.submit(e)}submit(e){o.stop(e);const t=this.$('textarea[name="name"]');if(""===t.val().trim())return void t.focus().select();const i=this.model.getBoard(),n=i.isOverLimit("lists","totalPerBoard")||i.isOverLimit("lists","openPerBoard");if(this.$(".js-limit-exceeded").toggleClass("hide",!n),n)return;if(this.model.cardList.length>0){let t,n=t=!1;this.model.cardList.forEach((function(e){return n=n||e.attachmentList.length>0,t=t||e.checklistList.length>0}));const r={$elem:this.$(e.target),hasChecklists:t,hasAttachments:n,destinationBoard:i};if(a(r))return}const r=i.listList.calcPos(this.model.getIndexInList()+1,this.model,!0),l={idListSource:this.model.id,idBoard:this.model.get("idBoard"),pos:r,name:t.val().trim(),closed:!1},c=i.listList.create(l,{error:()=>i.listList.remove(c)});s.hide(),d("List","Copy List"),this.sendGASEvent&&u.sendTrackEvent({action:"copied",actionSubject:"list",source:"copyListInlineDialog",attributes:{listSourceId:(null!=this.model?this.model.id:void 0)||""},containers:{list:{id:(null!=c?c.id:void 0)||""},board:{id:h(null!=this.model?this.model.getBoard():void 0,(e=>e.id))||""},organization:{id:h(h(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))||""}}})}}function h(e,t){return null!=e?t(e):void 0}m.initClass(),e.exports=m},"./app/scripts/views/list/list-list-view.js":function(e,t,i){let n;const r=i("./app/scripts/views/internal/collection-view.js"),a=i("./app/scripts/views/lib/drag-sort.js"),s=i("./app/scripts/views/list/inline-list-composer-view.js"),o=i("./app/scripts/views/list/list-view.js"),l=i("./app/scripts/lib/assert/index.js");e.exports=(n=class extends r{static initClass(){this.prototype.viewType=o}initialize({resetCallback:e}){return this.resetCallback=e,super.initialize(...arguments),l(null!=this.resetCallback),this.listenTo(this.collection,{reset:this.resetCallback,"change:idBoard":this.boardChange})}render(){const e=Math.max(3,Math.ceil(window.innerWidth/270)),t=this.getModels().map(((t,i)=>this.subview(this.viewType,t,{deferCards:i>=e})));return this.model.editable()&&t.push(this.subview(s,this.model)),this.ensureSubviews(t),this.resetCallback()}boardChange(e,t){if(t!==this.collection.board.get("id"))return this.collection.remove(e),a.refreshIfInitialized(this.$el)}addModel(){return super.addModel(...arguments),this.resetCallback()}removeSubview(){super.removeSubview(...arguments),a.refreshListCardSortable()}insertSubview(e){super.insertSubview(...arguments),e.$el.find(".ui-sortable").length>0?a.refreshIfInitialized(this.$el):a.refreshListCardSortable()}},n.initClass(),n=n)},"./app/scripts/views/list/list-menu-view.js":function(e,t,i){let n;const r=i("./node_modules/react/index.js"),a=i("./app/scripts/views/lib/confirm.js"),s=i("./app/scripts/views/list/list-bulk-move-cards-view.js"),o=i("./app/scripts/views/list/list-copy-view.js"),l=i("./app/scripts/views/list/list-move-view.js"),c=i("./app/scripts/views/list/list-set-limit-view.js"),d=i("./app/scripts/views/list/list-sort-view.js"),u=i("./app/scripts/views/internal/plugins/plugin-io-cache.js"),p=i("./app/scripts/views/internal/plugins/plugin-runner.js"),m=i("./app/scripts/views/plugin/plugin-view.js"),h=i("./app/scripts/views/lib/pop-over.js"),g=i("./node_modules/bluebird/js/browser/bluebird.js"),{ButlerListMenuSection:b}=i("./app/src/components/Butler/index.ts"),{renderComponent:f}=i("./app/src/components/ComponentWrapper/index.ts"),v=i("./app/scripts/lib/util/index.js"),k=i("./app/scripts/views/templates/list_menu.js"),{Noun:y,Verb:w,track:j,trackUe:x}=i("./packages/analytics/index.ts"),{featureFlagClient:C}=i("./packages/feature-flag-client/index.ts"),_=i("./packages/react-dom-wrapper/index.ts"),O=i("./node_modules/underscore/underscore.js"),{sendPluginUIEvent:E}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{Analytics:S}=i("./packages/atlassian-analytics/index.ts"),T=i("./packages/config/index.ts").listLimitsPowerUpId;function N(e,t){return null!=e?t(e):void 0}e.exports=(n=class extends m{static initClass(){this.prototype.viewTitleKey="list actions",this.prototype.events={"click .js-add-card":"addCard","click .js-move-list":"moveList","click .js-copy-list":"copyList","click .js-list-subscribe":"toggleSubscribe","click .js-move-cards":"moveCards","click .js-archive-cards":"archiveCards","mouseenter .js-sort-cards":"preloadSortBy","click .js-sort-cards":"sortBy","click .js-close-list":"closeList","click .js-plugin-list-action":"runPluginAction","click .js-set-list-limit":"setListLimit"}}initialize(){return this.makeDebouncedMethods("render"),this.sendGASEvent=C.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent&&S.sendScreenEvent({name:"listMenuInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:N(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),this.listenTo(this.model,"change:subscribed",this.renderDebounced),this.retain(this.options.pluginActions)}remove(){this.removeButlerSection(),super.remove(...arguments)}render(){return this.pluginActions=O.chain(this.options.pluginActions).filter((e=>O.isString(e.text)&&e.text.length&&O.isFunction(e.callback))).map((e=>O.extend(e,{icon:u.fromId(e.idPlugin).getIconUrl(),name:u.fromId(e.idPlugin).getName()}))).sortBy("text").value(),this.$el.html(k({editable:this.model.editable(),hasSortableCards:this.model.cardList.length>1,subscribed:this.model.get("subscribed"),canCopyList:!this.model.isOverLimit("lists","totalPerBoard")&&!this.model.isOverLimit("lists","openPerBoard"),pluginActions:this.pluginActions,listLimitsEnabled:this.model.getBoard().isListLimitsPowerUpEnabled(),isTemplate:this.model.getBoard().isTemplate()})),this.renderButlerSection(),this}addCard(e){v.stop(e),h.hide(),this.model.getBoard().composer.save({list:this.model,index:0,vis:!0}),j("List Menu","Add Card"),this.sendGASEvent&&S.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"addCardMenuItem",source:"listMenuInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:N(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),j("Card Composer","Open","Via List Menu")}moveList(e){v.stop(e),j("List Menu","Open Move List Popover"),this.sendGASEvent&&S.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"moveListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:N(null!=this.model?this.model.getBoard():void 0,(e=>e.id))||""},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))||""}}}),h.pushView({view:new l({model:this.model,modelCache:this.modelCache})})}copyList(e){v.stop(e),j("List Menu","Open Copy List Popover"),this.sendGASEvent&&S.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"copyListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:N(null!=this.model?this.model.getBoard():void 0,(e=>e.id))||""},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))||""}}}),h.pushView({view:new o({model:this.model,modelCache:this.modelCache})})}toggleSubscribe(e){v.preventDefault(e),this.model.get("subscribed")?(this.model.subscribe(!1),this.sendGASEvent&&S.sendTrackEvent({action:"unsubscribed",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:N(null!=this.model?this.model.getBoard():void 0,(e=>e.id))||""},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))||""}}}),j("List Menu","Subscribe","Unsubscribe")):(this.model.subscribe(!0),this.sendGASEvent&&S.sendTrackEvent({action:"subscribed",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:N(null!=this.model?this.model.getBoard():void 0,(e=>e.id))||""},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))||""}}}),j("List Menu","Subscribe","Subscribe"))}moveCards(e){v.stop(e),this.sendGASEvent&&S.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"moveAllCardsMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:N(null!=this.model?this.model.getBoard():void 0,(e=>e.id))||""},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))||""}}}),j("List Menu","Open Move All Cards in List"),h.pushView({view:new s({model:this.model,modelCache:this.modelCache})})}archiveCards(e){v.stop(e),this.sendGASEvent&&S.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"archiveAllCardsMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:N(null!=this.model?this.model.getBoard():void 0,(e=>e.id))||""},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))||""}}}),j("List Menu","Open Archive All Cards in List"),a.pushView("archive all cards",{model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>{h.hide();const t=O.clone(this.model.cardList.models);for(const e of Array.from(t))e.set({closed:!0});return this.model.run("archiveAllCards",{},this.listViewListen)}})}loadPluginSorters(e){return p.all({command:"list-sorters",board:this.model.getBoard(),list:this.model,timeout:e}).catch((()=>[])).then((e=>O.chain(e).groupBy("idPlugin").map(((e,t)=>e.slice(0,5))).flatten().value()))}preloadSortBy(e){if(null==this.pluginSortersPromise)return this.pluginSortersPromise=this.loadPluginSorters(500).then((e=>(this.pluginSortersPromise=null,this.pluginListSorters=e,this.pluginListSortersExpiry=Date.now()+5e3,e)))}sortBy(e){v.stop(e),j("List Menu","Open Sort Cards in List"),this.sendGASEvent&&S.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"sortListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:N(null!=this.model?this.model.getBoard():void 0,(e=>e.id))||""},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))||""}}});let t=[];return null!=this.pluginListSorters&&this.pluginListSortersExpiry>Date.now()?({pluginListSorters:t}=this):t=null!=this.pluginSortersPromise?this.pluginSortersPromise:this.loadPluginSorters(150),g.resolve(t).then((e=>(h.pushView({view:new d({model:this.model,modelCache:this.modelCache,pluginListSorters:e})}),this.pluginListSorters=null)))}renderButlerSection(){const e=this.$(".js-list-menu-butler-section")[0];var t,i,n;e&&f(r.createElement(b,{listName:this.model.get("name"),idList:this.model.id,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,idOrganization:null===(i=this.model.getBoard())||void 0===i||null===(n=i.getOrganization())||void 0===n?void 0:n.id}),e)}removeButlerSection(){const e=this.$(".js-list-menu-butler-section")[0];e&&_.unmountComponentAtNode(e)}setListLimit(e){return v.stop(e),x(y.LIST_MENU,w.OPENS,y.POWER_UP,"","","list-action",T),E({idPlugin:T,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListAction",source:"listMenuInlineDialog"}}),h.pushView({view:new c({model:this.model,modelCache:this.modelCache})})}runPluginAction(e){v.stop(e);const t=this.pluginActions[this.$(e.target).closest(".js-plugin-list-action").data("index")],{idPlugin:i}=t;return x(y.LIST_MENU,w.OPENS,y.POWER_UP,"","","list-action",i),E({idPlugin:i,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListAction",source:"listMenuInlineDialog"}}),"function"==typeof t.callback?t.callback({el:this.el,list:this.model}):void 0}closeList(e){v.stop(e);const{model:t}=this;return this.sendGASEvent&&S.sendTrackEvent({action:"archived",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:N(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),j("List Menu","Archive List"),h.hide(),t.close(),!1}},n.initClass(),n=n)},"./app/scripts/views/list/list-move-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/lib/alerts.js"),{Analytics:a}=i("./packages/atlassian-analytics/index.ts"),s=i("./app/scripts/db/auth.js"),o=i("./app/scripts/db/model-loader.js"),l=i("./app/scripts/network/payloads.ts").default,{maybeDisplayLimitsErrorOnCardAdd:c}=i("./app/scripts/views/card/card-limits-error.js"),d=i("./app/scripts/views/label/label-limits-error-view.js"),u=i("./app/scripts/views/lib/pop-over.js"),p=i("./app/scripts/lib/util/index.js"),m=i("./app/scripts/views/internal/view.js"),h=i("./node_modules/underscore/underscore.js"),g=i("./app/scripts/views/templates/popover_move_list.js"),{track:b}=i("./packages/analytics/index.ts"),f=i("./app/scripts/lib/localize.js"),{featureFlagClient:v}=i("./packages/feature-flag-client/index.ts");class k extends m{static initClass(){this.prototype.viewTitleKey="move list",this.prototype.tagName="form",this.prototype.events={"change .js-select-list-pos":"renderValues","change .js-select-board":"updateBoardData","click .js-commit-position":"commitChange",submit:"commitChange"}}initialize(){if(this.sendGASEvent=v.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return a.sendScreenEvent({name:"moveListInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:y(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:y(y(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}})}render(){const{model:e}=this,t={};let i=this.model.getBoard();const n=this.model.getBoard().getEnterprise();i.isGuest(s.me())&&i.get("enterpriseOwned")?(t.hasEnterprise=!0,t.enterpriseName=null!=n?n.get("displayName"):void 0,t.restrictToCurrentBoard=!0,t.organizations=[{displayName:y(i.getOrganization(),(e=>e.get("displayName")))||f("member boards.boards"),boards:[h.extend(i.toJSON(),{selected:!0})]}]):null!=n?(t.hasEnterprise=!0,i=null==this.model.getBoard().getMembershipFor(s.me())?i:null,t.organizations=s.me().getOpenBoardsInEnterpriseByOrg(!0,n.get("id"),i),t.enterpriseName=n.get("displayName")):(i=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?i:null,t.organizations=s.me().getOpenBoardsByOrg(!0,i));for(const i of Array.from(t.organizations))for(const t of Array.from(i.boards))t.id===e.get("idBoard")&&(t.selected=!0);return this.$el.html(g(t)),this.updateBoardData(),this}renderValues(){const e=n(this.el),t=e.find(".js-select-board option:selected").val(),i=parseInt(e.find(".js-select-list-pos option:selected").text(),10),r=this.modelCache.get("Board",t).get("name");e.find(".js-board-value").text(r),e.find(".js-pos-value").text(String(i))}updateBoardData(){const e=n(this.el),t=e.find(".js-select-board").find("option:selected").val();if(t===this.model.getBoard().id){this._boardData=this.model.getBoard();for(const e of Array.from(this._boardData.listList.models))e.cardCount=this._boardData.listList.get(e.id).openCards().length;this.updateListList()}else{const i=e.find(".select-list,.select-position");i.attr("disabled","disabled"),o.loadBoardData(t,l.listsMinimal).then((()=>(this._boardData=this.modelCache.get("Board",t),this.updateListList(),i.removeAttr("disabled")))).done()}}updateListList(){let e,t;const{model:i}=this,r=this.$(".js-select-list-pos");r.empty();const a=this._boardData.listList.models,s=this._boardData.id===this.model.getBoard().id;s?(t=h.indexOf(a,this.model),e=a.length):(t=-1,e=a.length+1);for(let a=0,s=e,o=0<=s;o?a<s:a>s;o?a++:a--){const e=String(a+1),s=a===t?f("current position",{index:e}):e,o=this._boardData.listList.calcPos(a,i),l=n("<option>").val(o).text(s).appendTo(r);a===t&&l.attr("selected","selected")}const o=this.$(".js-commit-position"),l=this.$(".js-list-limit-exceeded");if(s)o.toggleClass("disabled",!1).prop("disabled",!1),l.toggleClass("hide",!0);else{const e=this._boardData.isOverLimit("lists","totalPerBoard")||this._boardData.isOverLimit("lists","openPerBoard");o.toggleClass("disabled",e).prop("disabled",e),l.toggleClass("hide",!e)}return this.renderValues()}commitChange(e){p.stop(e);const t=this.$(".js-select-list-pos"),i=parseInt(t.find("option:selected").val(),10),s=this.$(".js-select-board option:selected").val();this.model.getBoard().composer.save("vis",!1);const o=this.model.getBoard().id,l=this.model.get("pos");if(s===o)this.model.update({pos:i}),b("List Menu","Move Menu","Successfully Moved"),this.sendGASEvent&&a.sendTrackEvent({action:"moved",actionSubject:"list",source:"moveListInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:y(null!=this.model?this.model.getBoard():void 0,(e=>e.id))||""},organization:{id:y(y(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))||""}}});else if(null!=s&&null!=i){if(this.model.cardList.length>0){let t,i=t=!1;this.model.cardList.forEach((function(e){return i=i||e.attachmentList.length>0,t=t||e.checklistList.length>0}));const r={$elem:n(e.target),hasChecklists:t,hasAttachments:i,destinationBoard:this._boardData};if(c(r))return}if(this.model.cardList.filter((e=>e.getLabels().length>0))&&this._boardData.isOverLimit("labels","perBoard"))return void u.pushView(new d);const t=e=>{if(null!=(null!=e?e.message:void 0)){const i=y(JSON.parse(e.message),(e=>e.error));return"BOARD_TOO_MANY_CUSTOM_FIELDS"===i?r.show("too many custom fields","error","movelist",8e3):"CUSTOM_FIELD_TOO_MANY_OPTIONS"===i&&r.show("too many custom options","error","movelist",8e3),this.model.set({idBoard:o,pos:l},t)}};this.model.update({idBoard:s,pos:i},t),b("List Menu","Move Menu","Changed Board"),this.sendGASEvent&&a.sendTrackEvent({action:"moved",actionSubject:"list",source:"moveListInlineDialog",attributes:{boardSourceId:o},containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:s||""},organization:{id:y(y(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))||""}}})}u.hide()}}function y(e,t){return null!=e?t(e):void 0}k.initClass(),e.exports=k},"./app/scripts/views/list/list-set-limit-view.js":function(e,t,i){const n=i("./app/scripts/views/lib/pop-over.js"),r=i("./app/scripts/views/templates/popover_set_list_limit.js"),a=i("./app/scripts/lib/util/index.js"),s=i("./app/scripts/views/internal/view.js"),{Noun:o,Verb:l,trackUe:c}=i("./packages/analytics/index.ts"),{Analytics:d}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:u}=i("./packages/feature-flag-client/index.ts"),p=e=>null===e||!isNaN(e)&&e>=0&&e<=5e3;class m extends s{static initClass(){this.prototype.viewTitleKey="set list limit",this.prototype.tagName="form",this.prototype.events={"click .js-submit":"submit",submit:"submit","click .js-remove-limit":"removeLimit","keyup .js-list-limit-input":"limitChanged"}}initialize(){if(this.sendGASEvent=u.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return d.sendScreenEvent({name:"listLimitInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:h(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:h(h(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}})}getValue(){const e=this.$(".js-list-limit-input").val();return e.length?parseInt(e,10):null}limitChanged(e){const t=this.getValue(),i=p(t);return this.$(".js-list-limit-input").toggleClass("is-invalid",!i),this.$(".js-submit").attr("disabled",!i)}submit(e){a.stop(e);const t=this.getValue();if(p(t))return this.sendGASEvent&&d.sendTrackEvent({action:"updated",actionSubject:"listLimit",source:"listLimitInlineDialog",attributes:{value:t},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:h(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:h(h(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),c(o.LIST_LIMIT_MENU,l.SETS,o.LIST_LIMIT,"","","by clicking the save button",{change:t}),this.model.setSoftLimit(t),n.hide()}removeLimit(e){return a.stop(e),this.sendGASEvent&&d.sendTrackEvent({action:"removed",actionSubject:"listLimit",source:"listLimitInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:h(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:h(h(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),c(o.LIST_LIMIT_MENU,l.REMOVES,o.LIST_LIMIT,"","","by clicking the remove button"),this.model.setSoftLimit(null),n.hide()}render(){const{model:e}=this,t={limit:e.get("softLimit")};return this.$el.html(r(t)),this}}function h(e,t){return null!=e?t(e):void 0}m.initClass(),e.exports=m},"./app/scripts/views/list/list-sort-view.js":function(e,t,i){let n;const r=i("./node_modules/underscore/underscore.js"),a=i("./app/scripts/views/lib/alerts.js"),{Analytics:s}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:o}=i("./packages/feature-flag-client/index.ts"),l=i("./app/scripts/views/internal/plugins/plugin-io-cache.js"),c=i("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),d=i("./app/scripts/views/plugin/plugin-view.js"),u=i("./app/scripts/views/lib/pop-over.js"),p=i("./node_modules/bluebird/js/browser/bluebird.js"),m=i("./app/scripts/data/legacy-power-ups.js"),h=i("./app/scripts/views/templates/list_sort.js"),{track:g,trackUe:b}=i("./packages/analytics/index.ts"),f=i("./app/scripts/lib/util/index.js"),v=i("./app/scripts/lib/localize.js"),{sendPluginUIEvent:k}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),y=i("./packages/config/index.ts").customFieldsId,w=({list:e,posBefore:t,posAfter:i,count:n})=>Array.from(e).map(((n,r)=>({card:n,pos:t+(r+1)*(i-t)/(e.length+1)}))),j=function(e,t){let i=e.length-1;return r.flatten((()=>{const n=[];for(;i>=0;){const r=i;for(i--;i>=0&&t[e[i].id]>t[e[r].id];)i--;n.push(w({list:e.slice(i+1,r),posBefore:i>=0?t[e[i].id]:0,posAfter:t[e[r].id]}))}return n})())},x=function(e,t){let i=0;return r.flatten((()=>{const n=[];for(;i<e.length;){const r=i;for(i++;i<e.length&&t[e[i].id]<t[e[r].id];)i++;n.push(w({list:e.slice(r+1,i),posBefore:t[e[r].id],posAfter:i<e.length?t[e[i].id]:t[e[r].id]+f.spacing*(i-r)}))}return n})())};function C(e,t){return null!=e?t(e):void 0}e.exports=(n=class extends d{static initClass(){this.prototype.viewTitleKey="sort list",this.prototype.events={"click .js-sort-by-due-date":"sortByDueDate","click .js-sort-newest-first":"sortNewestFirst","click .js-sort-oldest-first":"sortOldestFirst","click .js-sort-by-card-name":"sortByCardName","click .js-plugin-list-sort-action":"sortByPluginSort"}}initialize(){return this.sendGASEvent=o.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent&&s.sendScreenEvent({name:"sortListInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:C(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:C(C(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),this.retain(this.options.pluginListSorters)}render(){let e=r.chain(this.options.pluginListSorters).filter((e=>r.isString(e.text)&&e.text.length&&r.isFunction(e.callback))).map((e=>r.extend(e,{image:l.fromId(e.idPlugin).getIconUrl(),name:l.fromId(e.idPlugin).getName()}))).value();return e=e.concat(this.getCustomFieldSorts()),this.model.getBoard().isPowerUpEnabled("voting")&&e.push({callback:this.sortByVotes(),text:v("templates.list_sort.most-votes"),image:i("./resources/images/powerups/voting-icon.svg"),name:v("power ups.voting.name")}),this.pluginListSorters=r.sortBy(e,"text"),this.$el.html(h({canSortByDueDate:this.model.cardList.any((e=>e.get("due"))),pluginListSorters:this.pluginListSorters})),this}getCustomFieldSorts(){return this.model.getBoard().isCustomFieldsEnabled()?r.chain(this.model.getBoard().customFieldList.models).filter((e=>e.isSortable()&&e.visible())).map((e=>"number"===e.get("type")?[{callback:this.sortByCustomField(e.id),text:v("templates.list_sort.field-ascending",{field:e.get("name")}),image:l.fromId(y).getIconUrl(),name:v("view title.custom fields")},{callback:this.sortByCustomField(e.id,!0),text:v("templates.list_sort.field-descending",{field:e.get("name")}),image:l.fromId(y).getIconUrl(),name:v("view title.custom fields")}]:{callback:this.sortByCustomField(e.id),text:e.get("name"),image:l.fromId(y).getIconUrl(),name:v("view title.custom fields")})).flatten().value():[]}sortByDueDate(e){return f.stop(e),u.hide(),g("List Menu","Sort Cards By Date"),this.sendGASEvent&&s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by due date"},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:C(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:C(C(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),this.applySort((()=>this.model.cardList.sortBy((function(e){const t=e.get("due"),i=e.get("dueComplete");return[t?i?"1":"0":"2",null!=t?t:""].join(":")}))))}sortNewestFirst(e){return f.stop(e),u.hide(),this.sendGASEvent&&s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by newest first"},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:C(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:C(C(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),g("List Menu","Sort Newest First"),this.applySort((()=>this.model.cardList.sortBy((e=>e.id))),{reverse:!0})}sortOldestFirst(e){return f.stop(e),u.hide(),this.sendGASEvent&&s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by oldest first"},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:C(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:C(C(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),g("List Menu","Sort Oldest First"),this.applySort((()=>this.model.cardList.sortBy((e=>e.id))))}sortByCardName(e){return f.stop(e),u.hide(),this.sendGASEvent&&s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by card name"},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:C(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:C(C(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),g("List Menu","Sort By Card Name"),this.applySort((()=>{const e=this.model.cardList.comparator;return this.model.cardList.comparator=(e,t)=>e.get("name").localeCompare(t.get("name")),this.model.cardList.sort(),this.model.cardList.comparator=e,this.model.cardList.models}))}sortByCustomField(e,t){return()=>{this.sendGASEvent&&s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by custom fields"},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:C(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:C(C(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),b("list menu","opens","Power-Up","","","list-sorters",y);const i=[],n=[];r.forEach(this.model.cardList.models,(function(t){const r=t.customFieldItemList.find((t=>t.get("idCustomField")===e));return null==r||r.isEmpty()?n.push(t.id):i.push({id:t.id,value:r.getParsedValue()})}));let a=r.chain(i).sortBy((e=>e.value)).map((e=>e.id)).value();return t&&(a=a.reverse()),a=a.concat(n),a=r.chain(a).map(((e,t)=>[e,t])).object().value(),this.applySort((()=>this.model.cardList.sortBy((e=>a[e.id]))))}}sortByVotes(){return()=>(this.sendGASEvent&&s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by votes"},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:C(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},organization:{id:C(C(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),b("list menu","opens","Power-Up","","","list-sorters",m.voting),this.applySort((()=>this.model.cardList.sortBy((e=>-1*e.get("badges").votes)))))}sortByPluginSort(e){f.stop(e),g("List Menu","Sort Cards By Plugin");const t=this.$(e.target).closest(".js-plugin-list-sort-action").data("index"),i=this.pluginListSorters[t];return i.idPlugin?(b("list menu","opens","Power-Up","","","list-sorters",i.idPlugin),k({idPlugin:i.idPlugin,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListSorter",source:"listMenuInlineDialog"}}),a.show("sorting list","warning","listsort"),i.callback({options:{cards:c.cards(this.model.cardList.models,["all"])}}).catch((()=>({}))).then((e=>{const t=null!=e?e.sortedIds:void 0,i=this.model.cardList.models;if(null==t||!r.all(t,(e=>r.isString(e)&&/^[a-f0-9]{24}$/.test(e)))||!r.all(i,(e=>Array.from(t).includes(e.id))))return a.hide("listsort"),a.show("invalid sort order returned","warning","listsort",5e3),void u.hide();const n=r.chain(t).map(((e,t)=>[e,t])).object().value();return this.applySort((()=>this.model.cardList.sortBy((e=>n[e.id]))))})),u.hide()):(i.callback(),u.hide())}applySort(e,t){if(null==t&&(t={}),this.model.cardList.length<=1)return;a.show("sorting list","warning","listsort");const i=e();t.reverse&&i.reverse();const n=r.chain(i).map((e=>[e.id,e.get("pos")])).object().value(),s=r.chain(function(e,t,i){const n=[],r=e<t,a=i?r?t+1:t-1:t;for(let t=e;r?t<a:t>a;r?t++:t--)n.push(t);return n}(0,10,!0)).map((e=>Math.round((i.length-1)*e/10))).uniq().map((e=>[...Array.from(j(i.slice(0,+e+1||void 0),n)),...Array.from(x(i.slice(e),n))])).sortBy((e=>e.length)).first().value();for(const{card:e,pos:t}of Array.from(s))e.set("pos",t);return p.using(this.modelCache.getLock(),(()=>function(e,{fx:t,updatesPerMinute:i,concurrency:n}){const r=n*(6e4/i);return p.map(e,(function(e){const i=Date.now();return p.resolve(t(e)).then((function(){const e=r-(Date.now()-i);if(e>0)return p.delay(e)}))}),{concurrency:n})}(s,{fx:({card:e,pos:t})=>p.fromNode((t=>e.update("pos",e.get("pos"),t))),updatesPerMinute:300,concurrency:5}))).then((function(){return a.hide("listsort"),a.show("list sorted","info","listsort",3e3)}))}},n.initClass(),n=n)},"./app/scripts/views/list/list-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/lib/alerts.js"),a=i("./app/scripts/db/auth.js"),s=i("./packages/browser/index.ts"),o=i("./app/scripts/views/card-composer/card-composer-inline-view.js"),{maybeDisplayLimitsErrorOnCardAdd:l,canAddCard:c}=i("./app/scripts/views/card/card-limits-error.js"),d=i("./app/scripts/views/card/card-list-view.js"),u=i("./app/scripts/controller/index.js");i("./app/scripts/views/internal/data-transfer/drag-drop-events.js");const p=i("./app/scripts/views/lib/drag-sort.js"),m=i("./app/scripts/views/internal/view.js"),h=i("./app/scripts/views/list/list-menu-view.js"),g=i("./app/scripts/views/lib/pop-over.js"),b=i("./app/scripts/lib/trello-clipboard.js"),f=i("./app/scripts/lib/util/url/parse-trello-url.js"),v=i("./node_modules/url-parse/index.js"),k=i("./app/scripts/views/internal/plugins/plugin-runner.js"),y=i("./node_modules/bluebird/js/browser/bluebird.js"),w=i("./app/scripts/views/internal/paste-input.js"),j=i("./app/scripts/lib/util/index.js"),x=i("./node_modules/underscore/underscore.js"),C=i("./app/scripts/debug/log.js"),_=i("./app/scripts/views/templates/list.js"),{track:O,trackUe:E,Noun:S,Verb:T}=i("./packages/analytics/index.ts"),N=i("./app/scripts/lib/localize-count.js"),P=i("./app/scripts/views/internal/warn-if-file-too-large.js"),I=i("./app/scripts/views/internal/pasted-file-name.js"),{getKey:B,Key:D}=i("./packages/keybindings/index.ts"),A=i("./app/scripts/lib/localize.js"),L=i("./node_modules/effing/lib/index.js"),F=i("./app/scripts/lib/util/ninvoke.js"),M=i("./app/scripts/lib/util/removeAllRanges.js"),{sendPluginTrackEvent:V}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{idCache:R}=i("./packages/shortlinks/index.ts"),z=i("./app/scripts/db/model-loader.js"),U=i("./node_modules/react/index.js"),H=i("./packages/react-dom-wrapper/index.ts"),{renderComponent:W}=i("./app/src/components/ComponentWrapper/index.ts"),{CardTemplatesButton:q}=i("./app/src/components/CardTemplatesPopover/index.ts"),{getSeparatorClassName:$}=i("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts"),{Analytics:G}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:K,seesVersionedVariation:Z}=i("./packages/feature-flag-client/index.ts"),{objectResolverClient:J}=i("./app/scripts/network/object-resolver-client/index.ts");class Q extends m{static initClass(){this.prototype.className="js-list list-wrapper",this.prototype.events={"mouseenter .js-open-list-menu":"preloadMenu","click .js-open-list-menu":"openMenu","mousedown .list-cards":"eventStopPropagation","click .js-open-card-composer":"openCardComposer","keydown  .js-list-name-input":"keyDownEvent","blur     .js-list-name-input":"stopEditing","click    .js-editing-target":"startEditing","focus    .js-list-name-input":"startEditing",movelist:"moveList",sortreceive:"sortReceive",sortcommit:"sortCommit","dd-drop:files":"dropFiles","dd-drop:text":"dropText","dd-drop:url":"dropUrl",mouseenter:"mouseenter",mouseleave:"mouseleave",mousemove:"mousemove","pasteinput:text":"dropText","pasteinput:files":"dropFiles","pasteinput:url":"dropUrl"}}initialize(){super.initialize(...arguments),this.fEditingName=!1,this.makeDebouncedMethods("render","toggleComposerLink","renderComposer","renderCardCount","renderName","renderAddButton","renderListLimit"),this.listenTo(this.model,{"change:limits":this.renderLimits,"change:name":this.renderNameDebounced,"change:subscribed":this.renderSubscribed,"change:softLimit":this.renderListLimit,"change:id":this.renderCardTemplateButton}),this.listenTo(this.model.cardList,{"add remove change:idList change:closed reset"(){return this.renderCardCountDebounced(),this.renderAddButtonDebounced(),this.renderListLimitDebounced()}}),this.listenTo(this.model.getBoard().boardPluginList,"add remove",(()=>this.renderListLimitDebounced())),this.listenTo(this.model.getBoard(),"permChange",this.renderEditable),this.listenTo(this.model.getBoard().composer,{"change:list change:index change:vis":this.renderComposerDebounced,"change:list change:vis"(){return this.toggleComposerLinkDebounced()}}),this.listenTo(this.model.getBoard(),{"change:prefs.isTemplate":this.renderDebounced}),this.cardListView=this.collectionSubview(d,this.model.cardList,{className:"list-cards u-fancy-scrollbar u-clearfix js-list-cards",deferCards:this.options.deferCards}),n(window).on("resize.".concat(this.uniqueId()),L(this,"hackFlexboxForSadBrowsers"));for(const e of["mouseEnterCardView","mouseLeaveCardView","mouseMoveCardView"])(e=>{this.listenTo(this.cardListView,e,(function(t){return this.trigger(e,t)}))})(e)}renderLimits(){const e=!c({destinationList:this.model});return this.cardListView.$el.toggleClass("card-limits-full",e),this}render(){return C("render","rendering list ".concat(this.model.get("name"))),this.cardListView.$el.detach(),this.$el.html(_({name:this.model.get("name"),subscribed:this.model.get("subscribed"),loggedIn:a.isLoggedIn(),editable:this.model.editable(),isTemplate:this.model.isTemplate()})),this.cardListView.$el.insertAfter(this.$(".js-list-header")),this.cardListView.render(),this.cardListView.$el.toggleClass("js-sortable",this.model.editable()),this.renderLimits(),this.renderListLimit(),this.toggleComposerLinkDebounced(),this.renderComposerDebounced(),this.renderCardCount(),this.renderEditable(),this.renderAddButton(),this.renderCardTemplateButton(),this.hackFlexboxForSadBrowsers(),x.defer((()=>this.$(".js-list-name-input").autosize({append:!1}))),this}remove(){return n(window).off(".".concat(this.uniqueId())),this.removeCardTemplateButton(),super.remove(...arguments)}renderName(){return this.$(".js-list-name-assist").text(this.model.get("name")),this.fEditingName||this.$(".js-list-name-input").val(this.model.get("name")).trigger("autosize.resize",!1),this}renderSubscribed(){var e,t;return this.$(".js-list-subscribed").toggleClass("hide",!(null!==(e=this.model.get("subscribed"))&&void 0!==e&&e)),this.$(".js-list-header").toggleClass("is-subscribe-shown",null!==(t=this.model.get("subscribed"))&&void 0!==t&&t),this.$(".js-list-name-input").trigger("autosize.resize",!1),this}renderEditable(){const e=this.model.editable();return this.$(".js-list-cards").toggleClass("js-sortable",e),e?this.$(".js-list-name-input").removeAttr("disabled"):this.$(".js-list-name-input").attr("disabled","disabled"),this.$(".js-open-card-composer").toggleClass("hide",!e),p.refreshListCardSortable(),this}hackFlexboxForSadBrowsers(){["explorer-10","explorer-11"].includes(s.browserVersionStr)&&this.defer((()=>{const e=this.$(".list-header").outerHeight(),t=this.$(".open-card-composer").outerHeight(),i=n("#board").height()-e-t-20;return this.$(".list-cards").css({"max-height":i})}))}saveListName(e){const t=this.$(".js-list-name-input"),i=this.model.get("name");let n=t.val();n=n.replace(/\s+/g," ").trim(),n!==i&&(n.length>16384||0!==n.trim().length&&this.model.update("name",n))}keyDownEvent(e){if(B(e)===D.Enter)return j.stop(e),void this.stopEditing();B(e)!==D.Escape||this.stopEditing()}startEditing(e){j.stop(e),this.fEditingName||!this.model.editable()||p.sorting||(this.fEditingName=!0,this.$(".js-editing-target").addClass("is-hidden"),x.defer((()=>this.$(".js-list-name-input").focus().select().addClass("is-editing"))))}stopEditing(e){if(this.fEditingName){this.$(".js-editing-target").removeClass("is-hidden");const e=this.$(".js-list-name-input").removeClass("is-editing");e.is(":focus")&&e.blur(),M(),this.fEditingName=!1,this.saveListName(),this.renderNameDebounced()}}toggleComposerLink(){return this.$(".js-open-card-composer").toggleClass("hide",this.composerOpen()||!this.model.editable()),this.$(".js-card-composer-container").toggleClass("hide",this.composerOpen()||!this.model.editable())}composerOpen(){const e=Y(this.model.getBoard(),(e=>e.composer));return null!=e&&e.get("vis")&&e.get("list")===this.model}renderComposer(){if(this.composerOpen()){const{composer:e}=this.model.getBoard(),t=u.getCurrentBoardView().subview(o,e);this.insertComposerAtIndex(e.get("index"),t),t.scrollIntoView(),x.debounce(t.delegateEvents(),150)}return this}insertComposerAtIndex(e,t){if(0===e)this.$(".list-cards").prepend(t.render().el);else{let i=e-1;const n=this.$(".list-card").not(".js-composer");i>=n.length&&(i=n.length-1),n.eq(i).after(t.render().el)}}renderCardCount(){return this.$(".js-num-cards").text(N("cards",this.model.openCards().length))}openCardComposer(e){j.stop(e),g.hide();const t=this.model.getBoard(),i={$elem:n(e.target),destinationBoard:t,destinationList:this.model};l(i)||(t.composer.save({list:this.model,index:this.model.openCards().length,vis:!0}),O("Card Composer","Open","Via Bottom of List"),G.sendClickedButtonEvent({buttonName:"addAnotherCardButton",source:"listFooter",containers:{board:{id:null!=t?t.id:void 0},list:{id:null!=this.model?this.model.id:void 0},organization:{id:Y(null!=t?t.getOrganization():void 0,(e=>e.id))}}}))}triggerOnItem(e,t,i){j.stopPropagation(e),this.defer((()=>t.item.trigger(i,[t,this])))}sortReceive(e,t){this.triggerOnItem(e,t,"moveto")}sortCommit(e,t){this.triggerOnItem(e,t,"movein")}loadPluginActions(e,t){return k.all({timeout:t,command:"list-actions",el:e,board:this.model.getBoard(),list:this.model}).catch((()=>[])).then((e=>x.chain(e).groupBy("idPlugin").map(((e,t)=>e.slice(0,3))).flatten().value()))}preloadMenu(e){if(!p.sorting&&null==this.pluginActionsPromise)return this.pluginActionsPromise=this.loadPluginActions(e.currentTarget,500).then((e=>(this.pluginActionsPromise=null,this.pluginActions=e,this.pluginActionsExpiry=Date.now()+5e3,e)))}openMenu(e){if(!p.sorting){j.preventDefault(e),O("List Menu","Open List Menu"),this.sendGASEvent&&G.sendClickedButtonEvent({buttonName:"listMenuButton",source:"listHeader",containers:{board:{id:Y(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},list:{id:null!=this.model?this.model.id:void 0},organization:{id:Y(Y(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}});let t=[];return null!=this.pluginActions&&this.pluginActionsExpiry>Date.now()?({pluginActions:t}=this):t=null!=this.pluginActionsPromise?this.pluginActionsPromise:this.loadPluginActions(e.currentTarget,150),y.resolve(t).then((t=>(g.toggle({elem:e.currentTarget,view:new h({model:this.model,modelCache:this.modelCache,pluginActions:t})}),this.pluginActions=null))),!1}}moveList(e,t){j.stop(e);const i=t.item.parent().children().index(t.item);this.model.move(i)}eventStopPropagation(e){j.stopPropagation(e)}scrollToCard(e){const t=this.cardListView.viewForModel(e);j.scrollElementIntoView(this.$(".js-list-cards")[0],t.el,{vertical:!0,animated:!0})}mouseenter(e){return this.trigger("mouseEnterListView"),w.addHandler(this,{scope:"list"})}mouseleave(e){return this.trigger("mouseLeaveListView"),w.removeHandler(this,{scope:"list"})}mousemove(e){return this.trigger("mouseMoveListView")}dropText(e){if(!this.model.editable())return;const t=this.model.getBoard(),i={$elem:n(e.target),destinationBoard:t,destinationList:this.model,hasAttachments:!0};if(l(i))return;const r=e.detail,a=G.startTask({taskName:"create-card",subTask:"paste-text",source:"cardFromClipboard"});return F(this.model,"uploadText",r,a).then((e=>{G.sendTrackEvent({action:"created",actionSubject:"card",source:"cardFromClipboard",containers:{board:{id:this.model.getBoard().id},list:{id:this.model.id},card:{id:e.id}},attributes:{taskId:a}}),G.taskSucceeded({taskName:"create-card",subTask:"paste-text",traceId:a,source:"cardFromClipboard"})})).catch((e=>{throw G.taskFailed({taskName:"create-card",subTask:"paste-text",traceId:a,source:"cardFromClipboard",error:e})}))}dropUrl(e){if(!this.model.editable())return;const t=this.model.getBoard(),i={$elem:n(e.target),destinationBoard:t,destinationList:this.model,hasAttachments:!0};if(l(i))return;e.stopPropagation();const r=e.detail;if(t.attachmentUrlRestricted(r))return;const a=f(r);"card"===a.type?this.handlePastedCardUrl(a.shortLink,r):this.createCardFromUrl(r)}handlePastedCardUrl(e,t){let i="";return y.try((()=>{let t;const i=null!=(t=R.getId("Card",e))?t:e,n=this.modelCache.get("Card",i);return null!=n?n:z.loadCardData(i)})).then((n=>y.try((()=>{const e=n.getBoard();return Y(null!=e?e.get("memberships"):void 0,(e=>e.length))?e:z.loadBoardMinimal(this.get("idBoard"))})).then((n=>{let s;const o=b.isCut(t)&&n.editable(),l=!o,c=o?"moveCard":"copyCard";if(l&&(i=G.startTask({taskName:"create-card",subTask:"paste-url",source:"powerUpCardFromTrelloUrl"})),n.get("enterpriseOwned")){if(n.isGuest(a.me())&&n.get("id")!==this.model.getBoard().get("id"))return r.show(["can only copy within board",{boardName:n.get("name")}],"error","trello-clipboard",5e3),void(l&&G.taskAborted({taskName:"create-card",subTask:"paste-url",traceId:i,error:new Error("can only copy within board"),source:"powerUpCardFromTrelloUrl"}));if(Y(n.getOrganization(),(e=>e.get("idEnterprise")))!==Y(this.model.getBoard().getOrganization(),(e=>e.get("idEnterprise"))))return r.show(["can only copy within enterprise",{enterpriseName:n.getEnterprise().get("displayName")}],"error","trello-clipboard",5e3),void(l&&G.taskAborted({taskName:"create-card",subTask:"paste-url",traceId:i,error:new Error("can only copy within enterprise"),source:"powerUpCardFromTrelloUrl"}))}if(this.trigger(c,{shortLink:e,idList:this.model.id,traceId:i}),l&&(G.sendTrackEvent({action:"created",actionSubject:"card",source:"powerUpCardFromTrelloUrl",containers:{board:{id:this.model.getBoard().id},list:{id:this.model.id}},attributes:{taskId:i}}),G.taskSucceeded({taskName:"create-card",subTask:"paste-url",traceId:i,source:"powerUpCardFromTrelloUrl"})),s=a.me()){const e="pasteAlert-".concat(c);if(!s.isDismissed(e))return s.dismiss(e)}})))).catch((e=>(i&&G.taskFailed({taskName:"create-card",subTask:"paste-url",traceId:i,source:"powerUpCardFromTrelloUrl",error:e}),this.createCardFromUrl(t))))}createCardFromUrl(e){const t=G.startTask({taskName:"create-card",subTask:"paste-url",source:"powerUpCardFromUrl"});let i;const n=v(e);if(null!=(i=n.host))return k.one({timeout:2e3,command:"card-from-url",list:this.model,board:this.model.getBoard(),options:{url:e}}).catch(k.Error.NotHandled,(()=>({}))).then((async n=>{const r=A("loading from domain",{domain:i}),a=x.pick(n,"name","desc");let s;if((null!=n?n.idPlugin:void 0)&&E("board view","creates","Power-Up","","","card-from-url",n.idPlugin),K.get("wildcard.link-cards",!1)){if(!(a&&Object.keys(a).length>0)){await J.resolveUrl(e,{publicLinksEnabled:Z("wildcard.public-links","beta")})&&(s=F(this.model.cardList,"create",{name:e,pos:this.model.bottomCardPos()},{traceId:t}))}}s||(s=F(this.model,"uploadUrl",e,a,r,t));try{const e=await s;if(null!=n?n.idPlugin:void 0)return V({idPlugin:n.idPlugin,idBoard:this.model.getBoard().id,idCard:e.id,event:{action:"created",actionSubject:"card",source:"powerUpCardFromUrl",attributes:{taskId:t}}});G.sendTrackEvent({action:"created",actionSubject:"card",source:"powerUpCardFromUrl",containers:{board:{id:this.model.getBoard().id},list:{id:this.model.id},card:{id:e.id}},attributes:{taskId:t}}),G.taskSucceeded({taskName:"create-card",subTask:"paste-url",traceId:t,source:"powerUpCardFromUrl"})}catch(e){throw G.taskFailed({taskName:"create-card",subTask:"paste-url",traceId:t,source:"powerUpCardFromUrl",error:e})}})).done()}dropFiles(e){if(!this.model.editable())return;const t=this.model.getBoard();if(t.attachmentTypeRestricted("computer"))return;const i={$elem:n(e.target),destinationBoard:t,destinationList:this.model,hasAttachments:!0};if(l(i))return;const r=e.detail;return P(this.model.getBoard(),r)?void 0:y.resolve(r).each((e=>{const t=e.name||I(),i=G.startTask({taskName:"create-card",subTask:"paste-file",source:"cardFromClipboard"});return F(this.model,"upload",e,t,i).then((e=>{e?(G.sendTrackEvent({action:"created",actionSubject:"card",source:"cardFromClipboard",containers:{board:{id:this.model.getBoard().id},list:{id:this.model.id},card:{id:e.id}},attributes:{taskId:i}}),G.taskSucceeded({taskName:"create-card",subTask:"paste-file",traceId:i,source:"cardFromClipboard"})):G.taskAborted({taskName:"create-card",subTask:"paste-file",traceId:i,source:"cardFromClipboard"})}),(e=>{throw G.taskFailed({taskName:"create-card",subTask:"paste-file",traceId:i,source:"cardFromClipboard",error:e})}))})).catch((function(){})).done()}renderAddButton(){const e=0===this.model.cardList.length;return this.$(".js-add-a-card").toggleClass("hide",!e),this.$(".js-add-another-card").toggleClass("hide",e)}renderListLimit(){const e=this.$(".js-list-content"),t=this.$(".js-list-limit-badge"),i=this.$(".js-list-header");if(this.model.getBoard().isListLimitsPowerUpEnabled()){const n=this.model.get("softLimit");if(null!=n){const r=this.model.cardList.filter((e=>!$(e.get("name")))).length,a=r>n;return t.text("".concat(r," / ").concat(n)),i.addClass("is-list-limit-shown"),t.removeClass("hide"),e.toggleClass("exceeds-list-limit",a),t.toggleClass("mod-warning",a)}return e.removeClass("exceeds-list-limit"),t.addClass("hide"),i.removeClass("is-list-limit-shown")}return e.removeClass("exceeds-list-limit"),t.addClass("hide"),i.removeClass("is-list-limit-shown")}createCardFromTemplate(e,t,i){null==i&&(i=[]);const n=G.startTask({taskName:"create-card",subTask:"template",source:"createCardFromTemplateInlineDialog"});return new y(((r,a)=>{const s=this.model.cardList.createWithTracing({name:e,idCardSource:t,keepFromSource:i.join(",")},{traceId:n,error:(e,t)=>(this.model.cardList.remove(s),G.taskFailed({taskName:"create-card",subTask:"template",traceId:n,source:"createCardFromTemplateInlineDialog",error:t}),a()),success:e=>(G.sendTrackEvent({action:"created",actionSubject:"card",source:"createCardFromTemplateInlineDialog",attributes:{cardSourceId:t,taskId:n},containers:{card:{id:e.id},board:{id:Y(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},list:{id:null!=this.model?this.model.id:void 0},organization:{id:Y(Y(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}}),E({category:S.CARD_TEMPLATES,verb:T.COMPLETES,directObj:S.CREATE_CARD_FROM_TEMPLATE_MENU,context:{entry:S.LIST}}),G.taskSucceeded({taskName:"create-card",subTask:"template",traceId:n,source:"createCardFromTemplateInlineDialog"}),r((()=>this.cardListView.scrollToCardView(e))))});return this.model.getBoard().filter.addNewCard(s)}))}renderCardTemplateButton(){return null!=this.model.id&&W(U.createElement(q,{idList:this.model.id,idBoard:this.model.getBoard().id,createCard:(e,t,i)=>this.createCardFromTemplate(e,t,i)}),this.$(".js-card-templates-button")[0]),this}removeCardTemplateButton(){if(this.$(".js-card-templates-button").length)return H.unmountComponentAtNode(this.$(".js-card-templates-button")[0])}}function Y(e,t){return null!=e?t(e):void 0}Q.initClass(),e.exports=Q},"./app/scripts/views/member-menu-profile/activity-member-menu-view.js":function(e,t,i){const n=i("./app/scripts/views/member-menu-profile/member-mini-profile-view.js");e.exports=class extends n{renderMenu(){}}},"./app/scripts/views/member-menu-profile/board-member-menu-view.js":function(e,t,i){let n;const r=i("./node_modules/react/index.js"),{renderComponent:a}=i("./app/src/components/ComponentWrapper/index.ts"),s=i("./app/scripts/views/member/add-to-team-popover-view.js"),{Analytics:o,tracingCallback:l}=i("./packages/atlassian-analytics/index.ts"),c=i("./app/scripts/views/lib/alerts.js"),d=i("./app/scripts/db/auth.js"),u=i("./app/scripts/views/member/change-role-popover-view.js"),p=i("./app/scripts/views/lib/confirm.js"),m=i("./app/scripts/controller/index.js"),{featureFlagClient:h}=i("./packages/feature-flag-client/index.ts"),g=i("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),b=i("./app/scripts/views/lib/pop-over.js"),f=i("./app/scripts/lib/util/index.js"),v=i("./packages/jquery/index.js"),k=i("./node_modules/underscore/underscore.js"),y=i("./app/scripts/lib/localize.js"),{sendErrorEvent:w}=i("./packages/error-reporting/index.ts"),j=i("./app/scripts/views/internal/templates.js"),{maybeDisplayOrgMemberLimitsError:x}=i("./app/scripts/views/organization/member-limits-error.js"),{dontUpsell:C}=i("./packages/browser/index.ts"),{navigate:_}=i("./app/scripts/controller/navigate.js"),{FacePileLinkButton:O}=i("./app/src/components/UpgradePathAudit/FacePileLinkButton.tsx");e.exports=(n=class extends g{static initClass(){this.prototype.className="board-member-menu",this.prototype.events={"click .js-remove-member":"removeMember","click .js-add-to-team":"addMemberToTeam","click .js-add-to-team a":"addMemberToTeamUpgrade","click .js-change-role":"changeRole","click .js-view-member-activity":"viewMemberActivity"}}initialize(){return this.board=this.options.board,this.org=this.board.getOrganization(),this.listenTo(this.board,"change:prefs",this.render),this.org&&this.listenTo(this.org,"change:products",this.render),super.initialize(...arguments)}addMemberToTeamUpgrade(e){if(e.stopPropagation(),!C())return e.preventDefault(),_(e.target.pathname,{trigger:!0})}renderMenu(){const e=k.extend(this.model.toJSON(),"function"==typeof this.board.premiumFeatures?this.board.premiumFeatures():void 0,this.model.getMembershipData(this.board)),t=this.board.getOrganization();e.boardProfileUrl=m.getMemberBoardProfileUrl(this.model.get("username"),this.board.id);const n=this.board.getMemberType(this.model,{ignoreEntAdminStatus:!0});return e.canInviteMemberToTeam=t&&this.canInviteMemberToTeam(t),e.isGhost="virtual"===n,e.type=y(["member types",n]),e.isTemplate=this.board.isTemplate(),e.isFreeTeam=t&&!t.isPremium(),e.orgBillingUrl=(null!=t?t.get("name"):void 0)&&(null!=t?t.getBillingUrl():void 0),e.orgId=null!=t?t.get("id"):void 0,["superadmin","deactivated"].includes(n)&&(e.canChangeRole=!1),this.$el.append(j.fillMenu(i("./app/scripts/views/templates/member_on_board_menu.js"),e,{editable:this.board.editable(),owned:this.board.owned()})),this.renderUpsellLinkButton(null!=t?t.get("id"):void 0),this}renderUpsellLinkButton(e){const t=this.$(".for-more-roles-react-component")[0];if(e&&t&&h.get("btg.upgrade-prompt-audit",!1))return a(r.createElement(O,{orgId:e}),t)}viewMemberActivity(){return b.hide()}canInviteMemberToTeam(e){if(e.hasActiveMembership(this.model))return!1;const t=d.me(),i=e.ownedByMember(t),n=e.belongsToRealEnterprise(),r=e.get("idEnterprise"),a=(s=t.get("idEnterprisesAdmin"),o=e=>e.indexOf(r),(null!=s?o(s):void 0)>=0);var s,o;return i||n&&a}changeRole(e){f.stop(e),b.pushView({view:new u({model:this.model,parent:this.board,modelCache:this.modelCache})})}removeMember(e,t){f.stop(e);const i=d.me();return p.pushView(this.model.removeMembershipConfirmationKey(this.board),{confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>{const t=o.startTask({taskName:"edit-board",subTask:"members/remove",source:"boardMemberInlineDialog"});return this.board.removeMemberWithTracing(this.model,t,l({taskName:"edit-board",subTask:"members/remove",source:"boardMemberInlineDialog",traceId:t},((e,n)=>{n&&o.sendTrackEvent({action:this.model===i?"left":"removed",actionSubject:this.model===i?"board":"member",source:"boardMemberInlineDialog",containers:{board:{id:this.board.id}},attributes:{taskId:t}})}))),b.hide()}})}showError(e){w(new Error("Unknown server error message '".concat(e,"'")));const t=y(["server error","unknown"]);return c.showLiteralText(t,"error","alert",5e3)}addMemberToTeam(e,t){f.stop(e);const i=this.board.getOrganization(),n=i.belongsToRealEnterprise(),r=i.isBusinessClass(),a=i.isStandard();if(n||r||a)b.pushView({view:new s({isBC:r,isStandard:a,isEnterprise:n,model:this.model,org:i})});else{if(x(v(e.target),i,this.model))return;i.addMember(this.model).then((()=>b.hide())).catch((e=>(this.showError(e.message),b.hide())))}}},n.initClass(),n=n)},"./app/scripts/views/member-menu-profile/card-member-menu-view.js":function(e,t,i){const{Analytics:n,tracingCallback:r}=i("./packages/atlassian-analytics/index.ts");let a;const s=i("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),o=i("./app/scripts/views/lib/pop-over.js"),l=i("./app/scripts/views/internal/templates.js");e.exports=(a=class extends s{static initClass(){this.prototype.events={"click .js-remove-member":"removeMember"}}initialize(){super.initialize(...arguments),this.card=this.options.card}renderMenu(){return this.$el.append(l.fillMenu(i("./app/scripts/views/templates/member_on_card_menu.js"),this.model.toJSON(),{editable:this.card.editable()})),this}removeMember(e){o.hide();const t=this.model.id,i="cardMemberMenuInlineDialog",a=n.startTask({taskName:"edit-card",subTask:"idMembers",source:i});this.card.removeMemberWithTracing(t,a,r({taskName:"edit-card",subTask:"idMembers",traceId:a,source:i},((e,t)=>{t&&n.sendUpdatedCardFieldEvent({field:"idMembers",source:i,containers:{card:{id:this.card.id},board:{id:this.card.get("idBoard")},list:{id:this.card.get("idList")}},attributes:{taskId:a}})})))}},a.initClass(),a=a)},"./app/scripts/views/member-menu-profile/large-avatar-view.js":function(e,t,i){const n=i("./app/scripts/views/internal/view.js"),r=i("./app/scripts/views/templates/member_large_avatar.js");class a extends n{static initClass(){this.prototype.displayType="mod-avdetail"}getViewTitle(){return this.model.get("fullName")}render(){const e=this.model.toJSON();return this.$el.html(r(e)),this}}a.initClass(),e.exports=a},"./app/scripts/views/member-menu-profile/member-mini-profile-view.js":function(e,t,i){const n=i("./app/scripts/db/auth.js"),r=i("./app/scripts/views/member-menu-profile/large-avatar-view.js"),a=i("./app/scripts/db/model-loader.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./node_modules/underscore/underscore.js"),d=i("./app/scripts/views/templates/mini_profile.js"),{track:u}=i("./packages/analytics/index.ts"),{Analytics:p}=i("./packages/atlassian-analytics/index.ts"),{featureFlagClient:m}=i("./packages/feature-flag-client/index.ts");class h extends l{static initClass(){this.prototype.viewTitleKey="member",this.prototype.displayType="mod-mini-profile"}initialize(){return super.initialize(...arguments),this.listenTo(this.model,"change change:avatarUrl change:avatarSource",this.frameDebounce(this.render)),this.sendGASEvent=m.get("dataeng.gasv3-event-tracking",!1)}delegateEvents(e){return super.delegateEvents(c.extend({"click .js-profile":"showProfile","click .js-view-large":"viewLarge"},e||this.events))}render(){const e=this.model.toJSON();var t,i;return e.isMe=n.isMe(this.model),e.showEmail=null!=e.email&&!e.isMe,e.isDeactivated=(t=null!=this.options?this.options.board:void 0,i=e=>e.isDeactivated(this.model),null!=t?i(t):void 0),null!=e.email||"ghost"!==this.model.get("memberType")||this.loaded||this.loadEmail(),this.$el.html(d(e)),this.renderMenu(),this}renderMenu(){}loadEmail(){return a.loadMemberEmail(this.model.id).then((()=>this.loaded=!0)).done()}showProfile(){u("Mini Profile","Click Profile"),this.sendGASEvent&&p.sendClickedLinkEvent({linkName:"fullNameProfileLink",source:"miniProfileInlineDialog"})}viewLarge(e){o.stop(e),u("Mini Profile","View Large Avatar"),this.sendGASEvent&&p.sendUIEvent({action:"clicked",actionSubject:"avatar",actionSubjectId:"miniProfileAvatar",source:"miniProfileInlineDialog"}),s.pushView({elem:this.$(e.target),view:new r({model:this.model,modelCache:this.modelCache})})}}h.initClass(),e.exports=h},"./app/scripts/views/member-menu-profile/member-on-board-view.js":function(e,t,i){const n=i("./app/scripts/db/auth.js"),r=i("./app/scripts/views/member-menu-profile/board-member-menu-view.js"),a=i("./app/scripts/views/lib/drag-sort.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./app/scripts/lib/assert/index.js"),d=i("./app/scripts/debug/log.js"),u=i("./app/scripts/views/templates/member.js");class p extends l{static initClass(){this.prototype.tagName="a",this.prototype.className="member js-member",this.prototype.viewTitleKey="change permissions",this.prototype.attributes={tabindex:0},this.prototype.zIndex=0,this.prototype.events={click:"showMenu",keydown:"showMenu"}}initialize({board:e,notClickable:t,small:i,hideBadges:n,zIndex:r}){this.board=e,this.notClickable=t,this.small=i,this.hideBadges=n,this.zIndex=r,c(null!=this.model,"You cannot have a deleted member as a board member!"),this.listenTo(this.model,"change",this.render),this.listenTo(this.board,"change:memberships",this.render)}render(){d("render","rendering ".concat(this.constructor.name," ").concat(this.model.get("fullName")));const e=this.model.toJSON();var t,i;return e.isBoardAdmin=(e=>{const t=e.getMembershipFor(this.model);return"admin"===(null!=t?t.memberType:void 0)})(this.board)||(t=this.board.getOrganization(),i=e=>e.isPremOrgAdmin(this.model),null!=t?i(t):void 0),e.isGhost="ghost"===this.model.get("memberType"),e.isDeactivated=this.board.isDeactivated(this.model),e.hideBadges=this.hideBadges,this.$el.html(u(e)).css("z-index",this.zIndex),this.model.isFeatureEnabled("crown")&&this.$el.addClass("has-crown"),this.small&&this.$el.addClass("m-member-mod-24"),this.notClickable&&this.$el.addClass("m-member-mod-no-click"),this.$el.toggleClass("member-deactivated js-member-deactivated",e.isDeactivated),this.$el.toggleClass("member-virtual-invitee","ghost"===e.memberType&&(null==e.idMemberReferrer||e.idMemberReferrer===n.me().id)),this.$el.toggleClass("long-initials",(null!=e.initials?e.initials.length:void 0)>2),e.isGhost&&this.$el.addClass("member-virtual"),this.$el.data("id",this.model.id),this}showMenu(e){if(a.sorting||this.notClickable)return;if("keydown"===e.type){if(o.stopPropagation(e)," "!==e.key&&"Enter"!==e.key)return}else o.stop(e);const t=this.options.pushView?"pushView":"toggle";s[t]({elem:e.currentTarget,view:new r({board:this.board,model:this.model,modelCache:this.modelCache})})}}p.initClass(),e.exports=p},"./app/scripts/views/member/add-to-team-popover-view.js":function(e,t,i){const n=i("./app/scripts/views/lib/alerts.js"),r=i("./app/scripts/views/lib/pop-over.js"),a=i("./app/scripts/lib/util/index.js"),s=i("./app/scripts/views/internal/view.js"),o=i("./packages/jquery/index.js"),l=i("./app/scripts/views/templates/popover_add_to_team.js"),c=i("./app/scripts/lib/localize.js"),d=i("./app/scripts/lib/localize-server-error.js"),{maybeDisplayOrgMemberLimitsError:u}=i("./app/scripts/views/organization/member-limits-error.js");class p extends s{static initClass(){this.prototype.viewTitleKey="add to team",this.prototype.events={"click .js-add-to-team":"addToTeam"}}render(){const e=c(["products",this.options.isStandard?"standard":this.options.isBC?"bc":"enterprise"]);return this.$el.html(l({teamType:e})),this}showError(e){const t=d(e);return n.showLiteralText(t,"error","alert",5e3)}addToTeam(e){if(a.preventDefault(e),this.$(".js-add-to-team").attr("disabled",!0).addClass("disabled"),!u(o(e.target),this.options.org,this.model))return this.options.isOrgView?this.options.org.addMembers(this.model).then((e=>(e[e._categories.ADDED]&&(null!=this.options.showAlert?this.options.showAlert:this.options.showAlert=!1)&&n.show("added to team","confirm","info",3e3),r.hide()))):this.options.org.addMember(this.model).then((()=>{if(null!=this.options.showAlert?this.options.showAlert:this.options.showAlert=!1)return n.show("added to team","confirm","info",3e3)})).catch((e=>this.showError(e.message))).finally((()=>r.hide()))}}p.initClass(),e.exports=p},"./app/scripts/views/member/change-role-popover-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/db/auth.js"),a=i("./app/scripts/views/lib/confirm.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./app/scripts/views/internal/templates.js"),d=i("./app/scripts/lib/localize.js"),{Analytics:u}=i("./packages/atlassian-analytics/index.ts");class p extends l{static initClass(){this.prototype.viewTitleKey="change permissions",this.prototype.events={"click .js-make-admin":"makeAdmin","click .js-make-member":"makeMember","click .js-make-observer":"makeObserver"}}initialize(){this.parent=this.options.parent,this.listenTo(this.parent,"change:memberships",this.render)}render(){const e=this.model.getMembershipData(this.parent);e.showObserver=this.parent.hasObservers(),e.canMakeAdmin=this.model.get("confirmed");const t=(()=>{if("Organization"===this.parent.typeName)return"org roles";if("Board"===this.parent.typeName)return"board roles";throw new Error("A fragile abstraction has broken")})();for(const i of Array.from(this.parent.getAvailableRoles()))e["roleText_".concat(i)]=d([t,i,"text"]);return null==e.roleText_admin&&(e.roleText_admin=e.roleText_superadmin),this.$el.html(c.fill(i("./app/scripts/views/templates/popover_change_roles.js"),e)),this}apiChangeRole(e,t){this.$el.find("ul a").addClass("disabled"),this.parent.changeMemberRole(this.model,{type:e},t).then((()=>{u.taskSucceeded({taskName:"edit-board",subTask:"members/role",source:"changeBoardMemberRoleInlineDialog",traceId:t})})).catch((e=>{u.taskFailed({taskName:"edit-board",subTask:"members/role",source:"changeBoardMemberRoleInlineDialog",traceId:t,error:e})})).done(),s.hide()}getMemberType(){return this.parent.getExplicitMemberType(this.model)}isAdminAndMe(){return"admin"===this.getMemberType()&&r.isMe(this.model)}isEnterpriseAdmin(){return e="function"==typeof this.parent.getEnterprise?this.parent.getEnterprise():void 0,t=e=>e.isAdmin(this.model),null!=e?t(e):void 0;var e,t}makeAdmin(e){if(o.stop(e),n(e.target).closest("a").hasClass("disabled"))return;if("admin"===this.getMemberType())return;const t=u.startTask({taskName:"edit-board",subTask:"members/role",source:"changeBoardMemberRoleInlineDialog"});this.apiChangeRole("admin",t)}makeMember(e){if(o.stop(e),n(e.target).closest("a").hasClass("disabled"))return;if("normal"===this.getMemberType())return;const t=u.startTask({taskName:"edit-board",subTask:"members/role",source:"changeBoardMemberRoleInlineDialog"});this.isAdminAndMe()&&!this.isEnterpriseAdmin()?a.pushView("demote admin to normal member",{fxConfirm:e=>this.apiChangeRole("normal",t)}):this.apiChangeRole("normal",t)}makeObserver(e){if(o.stop(e),n(e.target).closest("a").hasClass("disabled"))return;if("observer"===this.getMemberType())return;const t=u.startTask({taskName:"edit-board",subTask:"members/role",source:"changeBoardMemberRoleInlineDialog"});this.isAdminAndMe()?a.pushView("demote admin to observer",{fxConfirm:e=>this.apiChangeRole("observer",t)}):this.apiChangeRole("observer",t)}}p.initClass(),e.exports=p},"./app/scripts/views/member/member-avatar-react.js":function(e,t,i){const n=i("./app/scripts/lib/util/naive-should-component-update.js"),r=i("./node_modules/react/index.js"),a=i("./app/scripts/views/internal/recup-with-helpers.js")("member");class s extends r.Component{static initClass(){this.prototype.displayName="MemberAvatar",this.prototype.shouldComponentUpdate=n,this.prototype.render=a.renderable((function(){const{avatarUrl:e,email:t,username:i,initials:n,isDeactivated:r,isBoardAdmin:s,isOrganizationAdmin:o,viewTitle:l}=this.props;return a.div(".autocomplete-member-avatar",(function(){const c=l;if(e){const t=[e,"30.png"].join("/"),i=[e,"50.png"].join("/");a.img({class:"member-avatar",height:"30",width:"30",src:t,srcSet:"".concat(t," 1x, ").concat(i," 2x"),alt:c,title:c})}else null!=n&&""!==n?a.span(".member-initials",{title:c},(()=>a.text(n))):null!=i?a.div(".member-icon-container",(()=>a.icon("member"))):null!=t&&a.span(".member-initials",{title:c},(()=>a.text(t[0].toUpperCase())));return r||(s&&a.span(".member-type.admin",{title:a.l("this-member-is-an-admin-of-this-board")}),o&&a.span(".member-type.admin",{title:a.l("this-member-is-an-admin-of-this-organization")})),a.span(".member-gold-badge",{title:a.l("this-member-has-trello-gold")})}))}))}constructor(e){super(e)}}s.initClass(),e.exports=s},"./app/scripts/views/member/member-board-profile-view.js":function(e,t,i){const n=i("./app/scripts/models/collections/action-list.js"),r=i("./app/scripts/views/action/action-list-view.js"),a=i("./app/scripts/network/payloads.ts").default,s=i("./app/scripts/views/internal/view-with-actions.js"),o=i("./app/scripts/views/internal/view.js"),l=i("./app/scripts/views/internal/templates.js"),c=i("./node_modules/underscore/underscore.js");class d extends o{static initClass(){this.prototype.events={"click .js-more-actions":"loadMoreActions"}}initialize(){return this.board=this.options.board,this.listenTo(this.board.memberList,"add remove reset",this.frameDebounce(this.render)),this.actionListView=this.collectionSubview(r,new n(this.model.getActions(this.board),{modelCache:this.modelCache}),{renderOpts:{context:this.model,readOnly:!0,source:"boardScreen"}}),this.listenTo(this.modelCache,"add:Action:".concat(this.model.id," remove:Action:").concat(this.model.id),(()=>(this.actionListView.collection.reset(this.model.getActions(this.board),{silent:!0}),this.renderActions()))),this.idModels=[this.board.id],this.nextPage=0,this.loadMoreActions()}render(){return this.$el.html(l.fill(i("./app/scripts/views/templates/board_member_profile.js"),this.model.toJSON())),this.actionListView.setElement(this.$(".list-actions")[0]),this.renderActions()}renderActions(){return this.actionListView.render(),this.$(".js-more-actions").toggle(this.hasMoreActions()),this}getActionsFilter(){return a.memberActions}}d.initClass(),c.extend(d.prototype,s),e.exports=d},"./app/scripts/views/member/member-multi-select-autocomplete-component.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./packages/jquery/index.js"),a=i("./app/scripts/views/organization/invite-member-autocomplete-avatar.js"),s=i("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js"),o=i("./node_modules/bluebird/js/browser/bluebird.js"),l=i("./node_modules/react/index.js"),c=i("./app/scripts/views/internal/recup-with-helpers.js")("org_members"),d=i("./app/scripts/lib/localize.js"),u=i("./packages/browser/index.ts").isDesktop(),{InfiniteList:p}=i("./app/src/components/InfiniteList/index.ts"),{useNonPublicIfAvailable:m}=i("./app/common/lib/util/non-public-fields-filter.ts"),{TeamTestIds:h}=i("./packages/test-ids/index.ts"),g=/([^"@\s\[\]\(\),:;<>\\]+@[-a-z0-9\.]+\.[a-z]+)/gi,b=/^@[a-z0-9_]{3,}$/;class f extends l.Component{shouldComponentUpdate(e){return e.isActive}render(){const{displayDetails:e,displayOrg:t,selectedOptions:i,activeIndex:n,searchResults:r,selectMemberOption:s}=this.props;if(!r.length)return null;const o=i.map((e=>e.id));return l.createElement(p,{itemCount:r.length,pageSize:20,awaitMore:!1,renderItem:(i,c)=>{const d=r[i],p=o.includes(d.id),m=n===i;return l.createElement(a,{onMouseDown:e=>s(e,d),displayDetails:e,displayOrg:t,activeMember:m,member:d,selected:p,isDesktop:u,key:c})}})}}let v=void 0,k=void 0;class y extends l.Component{static initClass(){v=e=>r.trim(e).toLowerCase().match(g),k=e=>r.trim(e).toLowerCase().replace(/@/g,""),this.prototype.render=c.renderable((function(){const{activeIndex:e,isActive:t,isFetching:r,isOpen:o,processingMembers:l,searchResults:p,searchText:m,error:b,showMultiBoardGuestAlert:v}=this.state,{placeholder:k,displayDetails:y,displayOrg:w,emptySearchText:j,submitText:x,children:C,extraSearchOption:_,selectedOptions:O,onRemoveMemberOption:E,fullWidthButton:S,submitAlwaysEnabled:T,hideDefaultButton:N,hideInviteLink:P,showMultiboardGuestWarning:I,isTemplate:B}=this.props,D=m.match(g),A=O.length>0,L=n.some(O,(e=>e.blockInvite)),F=L&&w&&w.owned(),M=L&&w&&!w.owned(),V=(!A&&D||A)&&!l&&(!L||F)||T;return c.div(".multi-select-autocomplete-container",(()=>{if(c.div(".autocomplete-input-container",{class:c.classify({active:t,processing:l,"is-empty":!O.length}),onKeyDown:this.onAutocompleteKeyDown},(()=>{if(c.div(".autocomplete-selected",(()=>(O.length&&O.map(((e,t)=>c.createElement(a,{displayDetails:!1,onRemoveClick:e=>(e.preventDefault(),E(t)),onShowMultiBoardGuestAlert:e=>this.setState({showMultiBoardGuestAlert:e}),member:e}))),c.input(".autocomplete-input",{type:"text",onBlur:this.onInputBlur,onChange:this.onInputChange,onKeyUp:this.onInputKeyUp,onKeyDown:this.onInputKeyDown,onFocus:this.onInputFocus,onPaste:this.onInputPaste,disabled:l,placeholder:O.length?"":k,value:m,style:{minWidth:"".concat(Math.min(8*(null!=m?m.length:void 0)+2,264),"px")},ref:this.searchInput,"data-test-id":h.AddMemberInput})))),o){if(r)return c.div(".autocomplete-search-results",(()=>c.div(".spinner.loading")));if(p.length>0)return c.div(".autocomplete-search-results",{className:null!=_?"has-extra-option":""},(()=>{if(c.div(".autocomplete-search-scroll",(()=>c.tag(f,{isActive:t,displayDetails:y,displayOrg:w,selectedOptions:O,activeIndex:e,searchResults:p,selectMemberOption:this.selectMemberOption}))),_)return c.addElement(_)}));if(null!=j)return c.div(".autocomplete-search-results.is-empty",(function(){if(c.div(".is-empty-text",{class:c.classify({"is-empty-text-mod-padding":null!=_})},(()=>c.text(j))),_)return c.addElement(_)}))}else{if(null!=b)return c.div(".autocomplete-search-results.is-empty",(()=>c.text(b.message)));if(v)return c.div(".autocomplete-search-results.is-empty",(()=>c.createElement(s,{displayOrg:w,isDesktop:u})))}})),c.addElement(C),P||(c.div(".invite-link-actions",(function(){return c.span(".invite-with-link",(function(){return c.img(".invite-with-link-icon",{src:i("./resources/images/icon-link.svg")}),c.text(d(["templates","board_member_add_multiple","invite-with-link"]))})),c.a(".action-link.js-show-invitation-link",{href:"#"},(()=>c.text(d(["templates","board_member_add_multiple","create-link"])))),c.a(".action-link.js-deactivate-link.hide.js-invitation-link-container",{href:"#"},(()=>c.text(d(["templates","board_member_add_multiple","disable-link"]))))})),c.p(".quiet.invite-with-link-description",(function(){if(!I)return B?c.text(d(["templates","board_member_add_multiple","anyone-with-link-can-join-as-template-member"])):c.text(d(["templates","board_member_add_multiple","anyone-with-link-can-join-as-board-member"]));if(c.text(d(["templates","board_member_add_multiple","guests-that-are-already-on-another-team"])),!u){c.text(" ");const e="https://help.trello.com/article/1123-multi-board-guests";return c.a({href:e,target:"_blank"},(()=>d(["templates","select_member","learn-more"])))}})),c.div(".manage-member-invitation-link.hide.js-invitation-link-container",(function(){return c.input(".js-invitation-link",{type:"text",readOnly:"readonly",placeholder:d(["templates","board_member_add_multiple","loading"])}),c.button(".nch-button.nch-button--primary.js-copy-invitation-link.js-hide-on-copy",(()=>c.text(d(["templates","board_member_add_multiple","copy"])))),c.button(".nch-button.nch-button--primary.js-copy-invitation-link.js-show-on-copy.hide",(()=>c.text(d(["templates","board_member_add_multiple","copied"])))),c.div(".js-qr-code.qr-code-inline")}))),(F||M)&&c.div(".multi-board-guest-message",(()=>c.format("invite-multi-board-guests-confirmation-message"))),!N)return c.button(".autocomplete-btn.nch-button.nch-button--primary",{class:c.classify({disabled:!V,fullWidthButton:S}),disabled:!V,onClick:this.onAutocompleteSubmit(F),"data-test-id":h.TeamInviteSubmitButton},(function(){return l?c.div(".spinner.loading"):F?c.format("invite-multi-board-guests-confirmation-button"):c.text(x)}))}))}))}constructor(e){super(e),this.isUnmounted=!1,this.updateSearchResultList=n.debounce(this.updateSearchResultList,250),this.searchForMembersPromise=null,this.searchForMembers=this.searchForMembers.bind(this),this.selectMemberOption=this.selectMemberOption.bind(this),this.onInputChange=this.onInputChange.bind(this),this.onInputFocus=this.onInputFocus.bind(this),this.onInputBlur=this.onInputBlur.bind(this),this.onInputKeyUp=this.onInputKeyUp.bind(this),this.onInputKeyDown=this.onInputKeyDown.bind(this),this.onInputPaste=this.onInputPaste.bind(this),this.onAutocompleteKeyDown=this.onAutocompleteKeyDown.bind(this),this.onAutocompleteSubmit=this.onAutocompleteSubmit.bind(this),this.searchCache={},this.searchInput=l.createRef(),this.onDocumentClick=this.onDocumentClick.bind(this),this.searchInputFocusPending=null,this.state={activeIndex:-1,isOpen:!1,isFetching:e.loadingOrg,processingMembers:!1,isActive:!0,isTyping:!1,searchResults:[],searchText:"",shouldFocusOnUpdate:!1,showMultiBoardGuestAlert:!1}}componentDidMount(){return this.searchInputFocusPending=setTimeout((()=>null!=this.searchInput.current?this.searchInput.current.focus():void 0),100),document.addEventListener("click",this.onDocumentClick)}componentDidUpdate(e){if(!e.loadingOrg||this.props.loadingOrg||this.state.searchText||this.setState({shouldFocusOnUpdate:!0},(()=>this.searchForMembers(this.state.searchText))),this.state.shouldFocusOnUpdate&&(this.searchInput.current.focus(),this.setState({shouldFocusOnUpdate:!1})),this.state.isActive&&document.activeElement!==this.searchInput.current)return this.setState({isOpen:!1,isActive:!1})}componentWillUnmount(){return null!=this.searchInputFocusPending&&(clearTimeout(this.searchInputFocusPending),this.searchInputFocusPending=null),this.isUnmounted=!0,null!=this.searchForMembersPromise&&this.searchForMembersPromise.cancel(),document.removeEventListener("click",this.onDocumentClick)}updateSearchResultList(e){if(!e)return;const t=this.searchCache[e];return t?this.receiveSearchResults(t):this.searchForMembers(e)}searchForMembers(e,t){const{onAutocompleteSearch:i}=this.props;return null!=this.searchForMembersPromise&&this.searchForMembersPromise.cancel(),this.searchForMembersPromise=o.try((()=>(b.test(e)?e=k(e):g.test(e)&&(e=v(e)[0]),this.setState({isFetching:!0,isOpen:!0}),i(e)))).cancellable().then((t=>(null==t&&(t=[]),t.forEach((function(e){if(e.id){const t={avatarUrl:m(e,"avatarUrl"),fullName:m(e,"fullName"),initials:m(e,"initials")};return n.extend(e,t)}})),this.searchCache[e]=t,this.receiveSearchResults(t,e)))).catch(o.CancellationError,(()=>this.setState({isFetching:!1}))).catch((e=>this.setState({isFetching:!1,error:e})))}receiveSearchResults(e,t){return e=n.filter(e,(e=>e.email||e.username)),this.setState({isOpen:this.state.isTyping,isFetching:!1,searchResults:e})}selectMemberOption(e,t){e.preventDefault();const{onSelectMemberOption:i,shouldFocusOnSelectMemberOption:n}=this.props;return null!=this.searchForMembersPromise&&this.searchForMembersPromise.cancel(),this.setState({searchText:"",isOpen:!1,shouldFocusOnUpdate:n||!1}),i(t)}onDocumentClick(e){if(0===r(e.target).closest(".autocomplete-search-results.is-empty, .autocomplete-option").length&&this.state.showMultiBoardGuestAlert)return this.setState({showMultiBoardGuestAlert:!1})}onInputBlur(e){if(document.activeElement!==this.searchInput.current)return g.test(e.target.value)&&this.selectMemberOption(e,n.map(v(e.target.value),(e=>({email:e})))),this.setState({isOpen:!1,isActive:!1})}onInputChange(e){e.persist();const t=e.target.value;return this.setState({searchText:t,isOpen:!1,error:void 0,showMultiBoardGuestAlert:!1}),this.updateSearchResultList(t)}onInputFocus(e){return this.setState({isActive:!0})}onInputKeyUp(e){const{selectedOptions:t}=this.props;return["Enter",","," "].includes(e.key)&&g.test(e.target.value)?(e.preventDefault(),this.setState({isOpen:!1,isTyping:!1}),null!=this.searchForMembersPromise&&this.searchForMembersPromise.cancel(),this.selectMemberOption(e,n.map(v(e.target.value),(e=>({email:e}))))):!1===e.key||e.target.value||!t.length?this.setState({isTyping:!0}):void 0}onInputKeyDown(e){const{onRemoveMemberOption:t,selectedOptions:i}=this.props;if("Backspace"===e.key&&!e.target.value&&i.length)return t(i.length-1),this.setState({shouldFocusOnUpdate:!0})}onInputPaste(e){const t=e.clipboardData.getData("Text");if(g.test(t))return this.selectMemberOption(e,n.map(v(t),(e=>({email:e}))))}onAutocompleteKeyDown(e){let t,i;const{activeIndex:n,searchResults:r}=this.state;switch(e.key){case"Enter":if(r[n]&&!r[n].joined)return this.setState({activeIndex:-1}),this.selectMemberOption(e,r[n]);break;case"ArrowRight":case"ArrowDown":return t=n===r.length-1?-1:n+1,this.setState({activeIndex:t});case"ArrowLeft":case"ArrowUp":return i=-1===n?r.length-1:n-1,this.setState({activeIndex:i});default:return null}}onAutocompleteSubmit(e){return t=>{const{searchText:i}=this.state,{onSubmit:r,submitDisabled:a}=this.props;return g.test(i)&&this.selectMemberOption(t,n.map(v(i),(e=>({email:e})))),this.setState({processingMembers:!0}),r(e).then((()=>{if(!this.isUnmounted&&!a)return this.setState({processingMembers:!1})})).catch((e=>{if(!this.isUnmounted)return this.setState({processingMembers:!1,error:e})}))}}}y.initClass(),e.exports=y},"./app/scripts/views/member/select-filterable-view.js":function(e,t,i){const n=i("./app/scripts/views/internal/view.js"),r=i("./app/scripts/views/internal/teacup-with-helpers.js")("select_member"),a=r.renderable((({text:e,extraText:t,mentionCount:i})=>r.li({class:"item js-member-item"},(()=>r.a({href:"#",class:"js-select-member ",title:e,autocompleteText:e},(()=>r.span(".text",{title:"card"},(()=>r.text("".concat(t," (").concat(i,")"))))))))));e.exports=class extends n{render(){return this.$el.html(a(this.options)),this}}},"./app/scripts/views/member/select-member-on-card-view.js":function(e,t,i){const n=i("./app/scripts/views/member/select-member-view.js");e.exports=class extends n{initialize(){return this.listenTo(this.options.card,"change:idMembers",this.renderActive)}renderActive(){let e;return this.$el.toggleClass("active",(e=this.model.id,Array.from(this.options.card.get("idMembers")).includes(e)))}render(){return super.render(...arguments),this.renderActive(),this}}},"./app/scripts/views/member/select-member-view.js":function(e,t,i){const n=i("./app/scripts/views/internal/view.js"),r=i("./app/scripts/views/internal/teacup-with-helpers.js")("select_member"),a=i("./app/scripts/views/templates/member.js"),s=r.renderable((function(e){const{url:t,extraText:i,id:n,viewTitle:s,username:o,isVirtual:l,fullName:c,inactive:d,unconfirmed:u}=e;return r.a(".name.js-select-member",{href:t||"#",class:r.classify({"multi-line":i}),idMember:n,title:s,autocompleteText:o},(function(){if(r.span(".member.js-member",{class:r.classify({virtual:l})},(()=>a(e))),r.span(".full-name",{name:"".concat(c).concat(o?" (".concat(o):""),"aria-hidden":!0},(function(){if(r.text(c),r.text(" "),o)return r.span(".username",(()=>r.text("(".concat(o,")"))))})),i&&r.div(".extra-text.quiet",(()=>r.format("extratext",{extraText:i}))),r.icon("check",{class:"checked-icon","aria-label":r.l("added-to-card")}),r.icon("forward",{class:"light option js-open-option"}),d&&r.span(".quiet.sub-name",(()=>r.format("inactive-account"))),u)return r.span(".quiet.sub-name",(()=>r.format("unconfirmed-user")))}))}));class o extends n{static initClass(){this.prototype.tagName="li",this.prototype.className="item js-member-item"}initialize(){}render(){const e=this.model.toJSON();return"ghost"===this.model.get("memberType")&&(e.isVirtual=!0),e.unconfirmed=this.options.showUnconfirmed&&!e.isVirtual&&!e.confirmed,e.inactive=this.options.showInactive&&!e.active,e.isKnownMember=this.options.isKnownMember,e.extraText=this.options.extraText,e.disabled=this.options.disabled,this.options.linkName?e.url="/".concat(this.model.get("username")):delete e.url,this.el.innerHTML=s(e),this.$el.toggleClass("active",Boolean(e.isActive)).toggleClass("unconfirmed",Boolean(e.unconfirmed)).toggleClass("inactive",Boolean(e.inactive)).toggleClass("js-autoselect",Boolean(e.isKnownMember)).toggleClass("disabled",Boolean(e.disabled)),this.$(".js-member").data("id",this.model.id),this}}o.initClass(),e.exports=o},"./app/scripts/views/onboarding/inspiration-popover.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./node_modules/react/index.js"),a=i("./app/scripts/db/auth.js"),s=i("./app/scripts/controller/index.js"),{sendErrorEvent:o}=i("./packages/error-reporting/index.ts"),l=i("./app/scripts/views/internal/recup-with-helpers.js")("onboarding"),{trackUe:c}=i("./packages/analytics/index.ts"),{verticals:d}=i("./app/scripts/views/onboarding/constants.js"),{copyBoardFromVertical:u,getVertical:p,removeBoard:m,getLocale:h}=i("./app/scripts/views/onboarding/helpers.js"),{DownIcon:g}=i("./packages/nachos/icons/down.tsx");class b extends r.Component{static initClass(){this.prototype.displayName="InspirationPopover",this.prototype.render=l.renderable((function(){const{copyingBoard:e,selectedVertical:t}=this.state;return l.div(".inspiration-popover",(()=>(l.div(".inspiration-popover--taco",(()=>l.div(".inspiration-popover--taco-inner",(()=>l.img({src:i("./resources/images/taco.png")}))))),l.div(".inspiration-popover--content",(()=>(l.h2((()=>l.format("welcome-to-trello-wave",{name:a.me().get("fullName")}))),l.div(".inspiration-popover--select",(()=>(e&&l.div(".spinner"),l.addElement(r.createElement(g,{block:!0})),l.select({onChange:e=>this.handleChangeSelect(e),defaultValue:t},(()=>(()=>{const e=[];for(const{key:i}of Array.from(this.verticals)){const n=i===t?l.l(["exploring-trello-for"],{vertical:l.l(i)},{raw:!0}):l.l(i);e.push(l.option(".inspiration-popover--select-option",{value:i},(()=>l.text(n))))}return e})()))))),l.p((()=>l.format("heres-an-example-of-how-to-use",{vertical:l.l(t)}))),l.p((()=>l.format("this-is-just-an-example"))),l.button(".nch-button.nch-button--primary",{onClick:()=>this.handleKeepBoard(),disabled:e,class:l.classify({disabled:e})},(()=>l.format("keep-this-board"))),l.button(".button",{onClick:()=>this.handleGetStarted(),disabled:e,class:l.classify({disabled:e})},(()=>l.format("help-me-get-started")))))))))}))}constructor(){super(...arguments);const e=h(),t=Object.keys(d).map((e=>Object.assign(d[e],{key:e}))),[i,r]=Array.from(n.partition(t,(e=>!isNaN(e.sortId))));this.verticals=i.sort(((e,t)=>e.sortId-t.sortId)).concat(n.shuffle(r)).filter((t=>t.inspirationBoards[e])),this.state={copyingBoard:!1,selectedVertical:p(this.props.boardId)}}static getDerivedStateFromProps(e){return e.boardId!==this.props.boardId?{selectedVertical:p(e.boardId)}:null}handleChangeSelect(e){const t=e.target.value;return c("Inspiration Board Popover","changes","vertical","","","",{boardId:this.props.boardId,lastVertical:this.state.selectedVertical,nextVertical:t}),this.setState({copyingBoard:!0,selectedVertical:t},(()=>u(this.props.modelCache,t).then((()=>this.setState({copyingBoard:!1}))).catch((e=>(o(e,{extraData:{vertical:t,message:"Error copying board",source:"Inspiration Popover"},tags:{feature:"Personalized Onboarding"}}),this.setState({copyingBoard:!1}))))))}handleKeepBoard(){return c("Inspiration Board Popover","clicks","keep board","","","",{boardId:this.props.boardId,vertical:this.state.selectedVertical}),m(this.props.boardId),this.props.onClose()}handleGetStarted(){c("Inspiration Board Popover","clicks","get started","","","",{boardId:this.props.boardId,vertical:this.state.selectedVertical});const e="other"===this.state.selectedVertical?"default":this.state.selectedVertical;return s.navigate("/create-first-board?selectedVertical=".concat(e),{trigger:!0})}}b.initClass(),e.exports=b},"./app/scripts/views/organization/create-org-view.js":function(e,t,i){const n=i("./app/scripts/db/auth.js"),r=i("./app/scripts/models/board.js"),a=i("./app/scripts/controller/index.js"),s=i("./app/scripts/db/model-loader.js"),o=i("./app/scripts/views/lib/pop-over.js"),l=i("./node_modules/bluebird/js/browser/bluebird.js"),{maybeDisplayOrgMemberLimitsError:c}=i("./app/scripts/views/organization/member-limits-error.js"),d=i("./app/scripts/lib/util/index.js"),u=i("./app/scripts/views/internal/view.js"),p=i("./app/scripts/views/internal/templates.js"),{isDesktop:m}=i("./packages/browser/index.ts"),{track:h,trackUe:g,Noun:b,Verb:f}=i("./packages/analytics/index.ts"),{featureFlagClient:v}=i("./packages/feature-flag-client/index.ts"),{TeamTypeSelect:k}=i("./app/src/components/TeamTypeSelect/index.ts"),{renderComponent:y}=i("./app/src/components/ComponentWrapper/index.ts"),w=i("./node_modules/react/index.js"),j=i("./packages/jquery/index.js");class x extends u{static initClass(){this.prototype.viewTitleKey="create organization",this.prototype.events={"click .js-save":"submit","submit form":"submit","click .js-business-class":"clickBusinessClassMore","click .js-enterprise-learn-more":"clickEnterpriseLearnMore","input .js-display-name"(){return this.updateSubmitButton()}}}constructor(e){super(e),this.onChangeTeamType=this.onChangeTeamType.bind(this),this.renderTeamTypeSelect=this.renderTeamTypeSelect.bind(this)}initialize({createOpts:e,trackingOpts:t}){this.createOpts=e,this.trackingOpts=t,null==this.trackingOpts&&(this.trackingOpts={category:null,method:null,context:{}}),null==this.createOpts&&(this.createOpts={isBusinessClass:!1,boardToAddToOrg:!1,isEnterprise:!1});const[,i]=Array.from((n.me().get("email")||"").split("@"));return this.emailDomain=i||"",this.teamTypeValue="",this}getValue(e){return t=this.$("[name=".concat(e,"]")).val(),i=e=>e.trim(),null!=t?i(t):void 0;var t,i}render(){let e,t;const r=v.get("fv.domain-level-free-team-restricted",!1);var a;return this.createOpts.isEnterprise?(e=i("./app/scripts/views/templates/org_create_enterprise.js"),t={enterprises:n.me().enterpriseList,dontUpsell:m()}):(e=i("./app/scripts/views/templates/org_create.js"),t={freeTeamLimitExceeded:r,dontUpsell:m(),emailDomain:(a=this.emailDomain,a?"(".concat(a,")"):""),boardToAddToOrg:this.createOpts.boardToAddToOrg,memberCount:null!=this.model.memberList?this.model.memberList.length:void 0,isPrivateTemplate:this.createOpts.isPrivateTemplate}),this.$el.html(p.fill(e,t)),this.updateSubmitButton(),this.renderTeamTypeSelect(),r&&g({category:b.BOARD_HEADER,verb:f.SHOWS,directObj:b.FREE_TEAM_LIMIT_BLOCKED_POPOVER,context:{domainName:this.emailDomain,context:m()?"desktop":"web"}}),this}updateSubmitButton(){const e=0===this.getValue("displayName").length||""===this.teamTypeValue;return this.$(".js-save").prop("disabled",e)}submit(e){if(d.stop(e),c(j(e.target),null,n.me()))return;const t={};this.$(".js-save").prop("disabled",!0).addClass("disabled");for(const e of["displayName","desc","enterprise"])t[e]=this.getValue(e);""!==this.teamTypeValue&&(t.teamType=this.teamTypeValue),n.me().organizationList.create(t,{modelCache:this.modelCache,silent:!0,success:e=>(this.createOpts.boardToAddToOrg&&(this.createOpts.boardToAddToOrg.update({idOrganization:e.id}),this.createOpts.isPrivateTemplate&&this.model.setPref("isTemplate",!1).save()),s.loadOrganizationMembersMinimal(e.id).then((()=>{if(this.$(".js-add-members").prop("checked")){const e=this.model.getOrganization();return l.map(this.model.memberList.models,(function(t){if(!e.isMember(t))return e.changeMemberRole(t,{type:"normal"})}),{concurrency:3})}})).then((()=>{const t=this.createOpts.context?this.createOpts.context:{},i=Object.assign(t,{teamId:e.id});this.model instanceof r&&(i.boardId=this.model.get("id")),this.createOpts.isBusinessClass?(a.organizationBillingView(e.get("name")),h("New Team","Create Business Class Team",void 0,e.id),g(this.trackingOpts.category,"adds","business class team","","",this.trackingOpts.method,i)):this.createOpts.isEnterprise?(a.organizationAccountView(e.get("name")),h("New Team","Create Enterprise Team",void 0,e.id),g(this.trackingOpts.category,"adds","enterprise team","","",this.trackingOpts.method,i)):(a.organizationBoardsView(e.get("name")),h("New Team","Create Team",void 0,e.id),g(this.trackingOpts.category,"adds","team","","",this.trackingOpts.method,i)),o.hide()})).done())})}clickBusinessClassMore(){return h("New Org","Click Business Class Link")}clickEnterpriseLearnMore(){return g({category:b.BOARD_HEADER,verb:f.CLICKS,directObj:b.FREE_TEAM_LIMIT_BLOCKED_POPOVER_ENTERPRISE_LINK,context:{domainName:this.emailDomain,context:m()?"desktop":"web"}})}onChangeTeamType(e){return this.teamTypeValue=e,this.updateSubmitButton()}renderTeamTypeSelect(){return this.whenIdle("org_view_select_".concat(this.cid),(()=>{const e=w.createElement(k,{onChange:this.onChangeTeamType}),t=this.$(".js-team-type-select")[0];return y(e,t)}))}}x.initClass(),e.exports=x},"./app/scripts/views/organization/invite-member-autocomplete-avatar.js":function(e,t,i){const n=i("./node_modules/react/index.js"),r=i("./app/scripts/views/member/member-avatar-react.js"),a=i("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js"),s=i("./app/scripts/views/internal/recup-with-helpers.js")("select_member"),{trackUe:o}=i("./packages/analytics/index.ts"),{debounce:l}=i("./node_modules/underscore/underscore.js"),{TeamTestIds:c}=i("./packages/test-ids/index.ts"),{BoardInviteRestrictValues:d}=i("./app/scripts/views/organization/constants.js"),u="joined",p="invited",m="blocked",h="org-restrict-org",g="org-restrict-managed",b="org-restrict-managed-or-org";class f extends n.Component{static initClass(){this.prototype.displayName="AutocompleteMemberAvatar",this.prototype.render=s.renderable((function(){let e;const{member:t,onRemoveClick:i,displayDetails:n,displayOrg:o,displayUsername:l,activeMember:d,isDesktop:u}=this.props,{active:p,username:m,email:h,confirmed:g,fullName:b,idOrganizations:f,wouldBecomeBillableGuest:v,hasError:k,blockInvite:y}=t,w=this.getDisabledReason(),j=this.isClickable();return l?e="".concat(b," (").concat(m,")"):(e=b||h,e===m&&(e="@".concat(e))),s.div(".autocomplete-option",{onMouseDown:this.onMouseDown,onMouseOver:this.onMouseOver,class:s.classify({disabled:!j,active:d&&j,"has-links":v&&!w,"has-error":k||y}),"data-test-id":c.TeamInviteeOption},(()=>{if(s.div(".member-container",(()=>{if(n&&s.div(".member",{class:s.classify({"member-deactivated":t.activityBlocked})},(()=>s.createElement(r,this.props.member))),s.div(".member-info",(function(){if(s.div(".full-name",(()=>s.text(e))),null!=o&&n&&f&&Array.from(f).includes(o.id)&&s.span(".quiet.sub-name",{style:{marginRight:4}},(()=>s.text(o.get("displayName")))),n&&w&&s.span(".quiet.sub-name",(()=>s.format(w))),n&&!w){if(!1===g)return s.span(".quiet.sub-name",(()=>s.format("unconfirmed-user")));if(!1===p)return s.span(".quiet.sub-name",(()=>s.format("inactive-account")))}})),i)return s.a(".icon-sm .icon-close",{onClick:this.onRemoveClick,href:"#"})})),this.showMultiBoardGuestAlert())return s.div(".multi-board-guest-autocomplete-alert",(()=>s.createElement(a,{displayOrg:o,isDesktop:u})))}))}))}constructor(e){super(e),this.onRemoveClick=this.onRemoveClick.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseOver=l(this.onMouseOver.bind(this)),this.state={mgbAlertSeen:!1}}getDisabledReason(){let e;const{displayOrg:t,member:i}=this.props;if(i.joined)return null!=i.memberType==="ghost"?p:u;if(i.activityBlocked||i.isDeactivated)return m;if(t&&(e=t.getPref("boardInviteRestrict"))){const n=null!=i.idOrganizations?i.idOrganizations.some((e=>e===t.get("id"))):void 0,r=null!=i.idEnterprise&&i.idEnterprise===t.get("idEnterprise");if(e===d.ORG)return!n&&h;if(e===d.MANAGED)return!r&&g;if(e===d.ORG_OR_MANAGED)return!(n||r)&&b}}showMultiBoardGuestAlert(){const{onRemoveClick:e,member:t}=this.props;return!e&&t.wouldBecomeBillableGuest&&null==this.getDisabledReason()}isClickable(){const e=null!=this.props.displayOrg?this.props.displayOrg.getAvailableLicenseCount():void 0;return!this.getDisabledReason()&&!this.props.selected&&!(v(null!=this.props?this.props.member:void 0,(e=>e.wouldBecomeBillableGuest))&&(!(null!=this.props.displayOrg?this.props.displayOrg.owned():void 0)||(null!=this.props?this.props.isDesktop:void 0)))&&(v(null!=this.props?this.props.member:void 0,(e=>e.wouldBecomeBillableGuest))&&e>0||!v(null!=this.props?this.props.member:void 0,(e=>e.wouldBecomeBillableGuest)))}onMouseDown(e){const{onShowMultiBoardGuestAlert:t,member:i}=this.props,n=-1!==e.target.className.indexOf("icon-close");return null!=t&&i.blockInvite&&!n&&t(!0),this.isClickable()?(null!=this.props?this.props.onMouseDown:void 0)?this.props.onMouseDown(e):void 0:e.preventDefault()}onMouseOver(e){if(!this.state.mgbAlertSeen&&this.showMultiBoardGuestAlert())return this.setState({mgbAlertSeen:!0}),o("invite to board","shows","mbg alert","","","by hovering over the guest in the dropdown",{organizationid:null!=this.props.displayOrg?this.props.displayOrg.id:void 0,memberid:this.props.member.id})}onRemoveClick(e){const{onRemoveClick:t,onShowMultiBoardGuestAlert:i,member:n}=this.props;return n.blockInvite&&null!=i&&i(!1),t(e)}}function v(e,t){return null!=e?t(e):void 0}f.initClass(),e.exports=f},"./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js":function(e,t,i){const n=i("./app/scripts/lib/util/naive-should-component-update.js"),r=i("./node_modules/react/index.js"),a=i("./app/scripts/views/internal/recup-with-helpers.js")("select_member"),s=i("./app/scripts/lib/localize-count.js"),{trackUe:o}=i("./packages/analytics/index.ts");class l extends r.Component{static initClass(){this.prototype.displayName="AutoCompleteMultiBoardGuestAlert",this.prototype.shouldComponentUpdate=n,this.prototype.render=a.renderable((function(){const{displayOrg:e,isDesktop:t}=this.props,i=null!=e?e.owned():void 0,n=null!=e?e.get("url"):void 0;return a.div({onMouseDown:this.onMouseDown.bind(this)},(()=>{if(i&&e&&!t)e.getAvailableLicenseCount()>0?a.format("multi-board-guest-alert-as-admin"):a.format("multi-board-guest-alert-as-admin-no-seats");else if(t)a.format("multi-board-guest-alert-desktop");else if(null!=e){const t=e.adminList.map((e=>e.get("fullName")||e.get("username")));if(1===t.length)a.format("multi-board-guest-alert-as-member-with-1-admin",{admin1:t[0]});else if(2===t.length)a.format("multi-board-guest-alert-as-member-with-2-admins",{admin1:t[0],admin2:t[1]});else if(3===t.length)a.format("multi-board-guest-alert-as-member-with-3-admins",{admin1:t[0],admin2:t[1],admin3:t[2]});else{const e=s("others",t.length-3);a.format("multi-board-guest-alert-as-member-with-more-admins",{admin1:t[0],admin2:t[1],admin3:t[2],others:e,othersUrl:"".concat(n,"/members")})}}else a.format("multi-board-guest-alert-as-guest");if(!t){a.text(" ");const t="https://help.trello.com/article/1123-multi-board-guests";return a.a({href:t,target:"_blank",onMouseDown:i=>(window.open(t,"_blank"),o("invite to board","clicks","mbg learn more link","","","by clicking on learn more link",{organizationid:e.id}),i.preventDefault(),i.stopPropagation())},(()=>a.format("learn-more")))}}))}))}constructor(e){super(e)}onMouseDown(e){if(e.target.classList.contains("stop-propagation")&&(e.preventDefault(),e.target.href))return window.open(e.target.href,"_blank")}}l.initClass(),e.exports=l},"./app/scripts/views/organization/member-limits-error.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/db/auth.js"),a=i("./app/scripts/views/lib/limit-error-popover.js");e.exports={maybeDisplayOrgMemberLimitsError:function(e,t,i){const s=(null!=t?t.isOverLimit("orgs","totalMembersPerOrg"):void 0)?{message:"members exceeds total per org limit",params:{orgName:t.get("name"),orgId:t.get("id")}}:(null!=i?i.isOverLimit("orgs","totalPerMember"):void 0)?r.isMe(i)?{message:"your orgs exceed total per member limit"}:{message:"orgs exceeds total per member limit",params:{memberName:i.get("name")}}:void 0;return null!=s&&(a(n.extend({trackingArea:"orgMemberLimit",elem:e},s)),!0)}}},"./app/scripts/views/plugin/plugin-badge-view.js":function(e,t,i){const n=i("./app/scripts/views/plugin/plugin-view.js"),r=i("./node_modules/underscore/underscore.js"),a=i("./app/scripts/views/internal/teacup-with-helpers.js")(),s=i("./node_modules/xtend/immutable.js"),{IconQuietColor:o}=i("./packages/nachos/tokens.ts"),l=a.renderable((function({icon:e,text:t,iconColor:i,iconColorClass:n}){if(null!=e&&a.span(".badge-icon.icon-sm.plugin-icon".concat(n),{style:a.stylify({"background-image":a.urlify(a.addRecolorParam(e,"?color=".concat(i)))})}),t)return a.span(".badge-text",(()=>a.text(t)))})),c={blue:"plugin-color-blue",green:"plugin-color-green",orange:"plugin-color-orange",red:"plugin-color-red",yellow:"plugin-color-yellow",purple:"plugin-color-purple",pink:"plugin-color-pink",sky:"plugin-color-sky",lime:"plugin-color-lime","light-gray":"plugin-color-light-gray"},d=r.values(c).join(" ");class u extends n{static initClass(){this.prototype.tagName="div",this.prototype.className="badge"}initialize({pluginBadge:e}){this.pluginBadge=e}renderBadge(e){return this.$el.html(l(e)),this.$el}render(){const e=this.pluginBadge,t=(i=e.color,c[i]);var i;const n=null!=t&&"light-gray"!==e.color,r=n?"fff":o.substr(1).toLowerCase();let a=n?".mod-invert":".mod-quiet";!1===e.monochrome&&(a=".mod-reset");const l=this.renderBadge(s(e,{iconColor:r,iconColorClass:a}));return l.removeClass(d),null!=t&&l.addClass(t),this}updateBadge(e){if(!r.isEqual(this.pluginBadge,e))return this.pluginBadge=e,this.render(e)}}u.initClass(),e.exports=u},"./app/scripts/views/plugin/plugin-badges-view.js":function(e,t,i){let n;const r=i("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),a=i("./app/scripts/lib/plugins/plugin-validators.js"),s=i("./app/scripts/views/plugin/plugin-badge-view.js"),o=i("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),l=i("./app/scripts/views/internal/plugins/plugin-runner.js"),c=i("./app/scripts/views/plugin/plugin-view.js"),d=i("./node_modules/bluebird/js/browser/bluebird.js"),{DropboxPluginId:u,DropboxClaimedHosts:p}=i("./app/scripts/data/dropbox.js"),{sendPluginViewedComponentEvent:m}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{trackUe:h}=i("./packages/analytics/index.ts"),g=i("./node_modules/underscore/underscore.js");let b=i("./resources/images/dropbox-mark.svg");b.startsWith("https://")||(b=window.location.origin+b);const f={};let v=null,k={};function y(e,t){return null!=e?t(e):void 0}e.exports=(n=class extends c{static initClass(){this.prototype.tagName="span",this.prototype.badgeView=s,this.prototype.vigor=this.VIGOR.NONE}isDetailView(){return!1}runnerOptions(){return{command:"card-badges",board:this.model.getBoard(),card:this.model,timeout:1e4,options:{attachments:o.attachments(this.model.attachmentList.models,["id","name","url"])}}}_cacheKey(){const{command:e,board:t,card:i}=this.runnerOptions();return[e,null!=t?t.id:void 0,null!=i?i.id:void 0].join(":")}requestBadges(){const e=this.callback((e=>{const t=g.filter(e,a.isValidBadge);if(!this.isDetailView()&&!y(this.model.getBoard(),(e=>e.isPluginEnabled(u)))){const e=this.model.attachmentList.filter((e=>p.includes(function(e){try{return new URL(e).host}catch(t){return e}}(e.get("url"))))).length;e>0&&t.push({icon:b,text:e,idPlugin:u})}const i=(this.latestRun||0)+1;this.latestRun=i;const n=[],r=()=>this.latestRun===i,s=()=>{if(r())return this.renderResolvedBadges(n),f[this._cacheKey()]=n.map((e=>g.omit(e,"callback")))};return this.cancelOnRemove(d.map(t,((e,t)=>{if(this.retain(e),null!=e.dynamic){const i=()=>{const o=e.dynamic().cancellable().then((e=>{if(!a.isValidBadge(e))return n[t]=void 0,void s();if(n[t]=e,s(),e.refresh&&r()){let t=Math.max(10,e.refresh);return t+=2*Math.random()-1,this.setTimeout(i,1e3*t)}})).catch(l.Error.NotHandled,(()=>null));return this.cancelOnRemove(o),o};return i()}return n[t]=e}))).cancellable().then((()=>s())).catch(d.CancellationError,(function(){}))}));return l.all(this.runnerOptions()).then(e)}renderOnce(){let e;null!=(e=f[this._cacheKey()])&&this.renderResolvedBadges(e);const t=y(this.model.getBoard(),(e=>e.id));return t&&t!==v&&(v=t,k={}),this.whenIdle("plugin_badges_render_".concat(this.cid),(()=>{const e=this.runnerOptions();this.latestRun=0;const t=this.debounce((()=>this.requestBadges()),500);this.listenTo(this.model,"change:dateLastActivity",t),this.listenTo(this.model.attachmentList,"add remove reset change",t);const i=r(e.board,e.card);return this.subscribe(i,g.after(2,(e=>t()))),this.waitForId(this.model,(()=>this.requestBadges()))})),this}trackBadges(e){if(!k[e])return k[e]=!0,h("board view","views","Power-Up","","","card-badges",e),m({idPlugin:e,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})}renderResolvedBadges(e){const t=this.isDetailView(),i=g.filter(e,(e=>a.isRenderableBadge(e,t))).map(((e,t)=>{this.trackBadges(e.idPlugin);const i=this.subview(this.badgeView,this.model,{pluginBadge:e},t);return i.updateBadge(e),i}));return this.ensureSubviews(i)}},n.initClass(),n=n)},"./app/scripts/views/plugin/plugin-button-view.js":function(e,t,i){let n;const r=i("./app/scripts/lib/plugins/plugin-validators.js"),a=i("./app/scripts/views/plugin/plugin-view.js"),s=i("./app/scripts/views/lib/pop-over.js"),o=i("./app/scripts/lib/util/index.js");e.exports=(n=class extends a{static initClass(){this.prototype.events={click(e){if(o.stopPropagation(e),"function"==typeof this.trackClick&&this.trackClick(this.pluginButton),null!=this.pluginButton.callback){const t=e.target.closest(".button-link")||e.target.closest(".board-header-btn")||e.target.closest("a")||e.target;return this.isPopOverShowing(t)?s.hide():this.pluginButton.callback({el:t}).done()}}}}tagName(){return null!=this.options.pluginButton.url?"a":"span"}attributes(){const{url:e,target:t}=this.options.pluginButton;if(e&&r.isValidUrlForIframe(e))return{href:e,target:null!=t?t:e,rel:"noreferrer nofollow noopener"}}initialize({pluginButton:e}){return this.pluginButton=e,this.retain(this.pluginButton)}template(){throw Error("no template specified")}isPopOverShowing(e){return s.contains(e)||s.toggledBy(e)}renderOnce(){return this.$el.html(this.template(this.pluginButton)),this}},n.initClass(),n=n)},"./app/scripts/views/plugin/plugin-buttons-view.js":function(e,t,i){let n;const r=i("./node_modules/underscore/underscore.js"),a=i("./app/scripts/db/auth.js"),s=i("./app/scripts/views/internal/plugins/plugin-runner.js"),o=i("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),l=i("./app/scripts/views/plugin/plugin-view.js");e.exports=(n=class extends l{static initClass(){this.prototype.buttonsSelector=".js-button-list",this.prototype.buttonView=null,this.prototype.vigor=this.VIGOR.NONE}initialize(){return this.requestButtonsDebounced=r.debounce((()=>this.requestButtons()),500)}hideContainer(e){return null==e||0===e.length}renderContainer(){return this.$el}runnerOptions(){throw Error("runnerOptions not specified")}renderButtons(e){const t=this.renderContainer(e);this.$el.toggleClass("hide",this.hideContainer(e)),this.removeSubviews();const i=r.sortBy(e,"text").map(((e,t)=>null!=e.view?this.subview(e.view,this.model,{},t):this.subview(this.buttonView,this.model,{pluginButton:e},t)));return this.appendSubviews(i,t)}requestButtons(){return s.all(this.runnerOptions()).then((e=>(e=r.filter(e,(e=>{if(r.isArray(e)||!r.isObject(e)||!(null!=e?e.text:void 0))return!1;if(null==e.condition)return this.model.editable();switch(e.condition){case"admin":return"Card"===this.model.typeName?this.model.getBoard().owned():"Board"===this.model.typeName&&this.model.owned();case"edit":return this.model.editable();case"readOnly":return!this.model.editable();case"signedIn":return a.isLoggedIn();case"signedOut":return!a.isLoggedIn();case"always":return!0;default:return!1}})),this.renderButtons(e)))).catch((()=>"undefined"!=typeof console&&null!==console?console.warn("Failed to request Power-Up buttons."):void 0))}renderOnce(){const e=this.runnerOptions();return this.subscribe(o(e.board,e.card),this.requestButtonsDebounced),this}},n.initClass(),n=n)},"./app/scripts/views/plugin/plugin-header-button-view.js":function(e,t,i){let n;const r=i("./node_modules/underscore/underscore.js"),a=i("./app/scripts/views/plugin/plugin-button-view.js"),s=i("./app/scripts/views/internal/teacup-with-helpers.js")(),{track:o,trackUe:l}=i("./packages/analytics/index.ts"),{sendPluginUIEvent:c}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),d=s.renderable((function({icon:e,text:t,monochrome:i}){const n="light"===this.model.get("prefs").backgroundBrightness,a=(()=>{if(r.isString(e)){const t=n?"000":"fff";return s.addRecolorParam(e,"?color=".concat(t))}return n&&r.isString(null!=e?e.light:void 0)?e.light:!n&&r.isString(null!=e?e.dark:void 0)?e.dark:void 0})(),o=r.isString(e)||!1!==i;null!=a&&s.span(".board-header-btn-icon.icon-sm.plugin-icon",{class:s.classify({recolorable:o,"mod-reset":!1===i,"mod-invert":o&&!n}),style:s.stylify({"background-image":s.urlify(a)})}),s.span(".board-header-btn-text",(()=>s.text(t)))}));e.exports=(n=class extends a{static initClass(){this.prototype.template=d}className(){return null!=(null!=this.options.pluginButton?this.options.pluginButton.icon:void 0)?"board-header-btn":"board-header-btn board-header-btn-without-icon"}trackClick(e){return o("Board Header","Board Plugin Button",e.text),l("board view","opens","Power-Up","","","board-button",e.idPlugin),c({idPlugin:e.idPlugin,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}})}},n.initClass(),n=n)},"./app/scripts/views/plugin/plugin-header-buttons-view.js":function(e,t,i){let n;const r=i("./app/scripts/views/plugin/plugin-buttons-view.js"),a=i("./app/scripts/views/plugin/plugin-header-button-view.js");e.exports=(n=class extends r{static initClass(){this.prototype.tagName="span",this.prototype.className="board-header-plugin-btns",this.prototype.buttonView=a}runnerOptions(){return{command:"board-buttons",timeout:1e4,board:this.model}}},n.initClass(),n=n)},"./app/scripts/views/plugin/plugin-view-view.js":function(e,t,i){let n;const r=i("./node_modules/hearsay/lib/index.js"),a=(i("./node_modules/bluebird/js/browser/bluebird.js"),i("./app/scripts/views/plugin/plugin-view.js")),s=i("./app/scripts/data/plugin-iframe-sandbox.js"),o=i("./app/scripts/views/internal/teacup-with-helpers.js")(),l=o.renderable((function({content:e}){o.iframe(".plugin-iframe",{allow:"microphone; camera",sandbox:s,src:e.url}),o.div(".plugin-iframe-popover-overlay")}));e.exports=(n=class extends a{static initClass(){this.prototype.className="plugin-view js-plugin-iframe-container"}initialize({content:e}){return this.content=e,this.filterSlot=new r.Slot(null),this.listenTo(this.model.filter,"change",(()=>{this.filterSlot.set(new Date)})),this.retain(this.content)}renderOnce(){return this.$el.html(l({content:this.content})),this.initIFrames(this.model,void 0,this.filterSlot),this}},n.initClass(),n=n)},"./app/scripts/views/power-ups/calendar-settings-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{Analytics:r}=i("./packages/atlassian-analytics/index.ts"),a=i("./app/scripts/db/auth.js"),s=i("./app/scripts/lib/util/index.js"),o=i("./app/scripts/views/internal/view.js"),l=i("./app/scripts/views/templates/power_ups_calendar_prefs.js");class c extends o{static initClass(){this.prototype.viewTitleKey="calendar settings",this.prototype.events={"click .js-calendar-pref-feed:not(.disabled)":"selectFeedEnabled","click .js-calendar-feed-url:not(:disabled)":"focusInput","click .js-regen-calendar-url:not(.disabled)":"generateNewFeedURL"}}initialize(){return this.generating=!1,this.listenTo(this.model,{"change:prefs":this.render,"change:myPrefs.calendarKey":this.generationComplete})}generationComplete(){return this.generating=!1,this.render()}generateNewFeedURL(e){return s.stop(e),this.generating=!0,this.model.generateCalendarKey(),this.render()}render(){const{prefs:e}=this.model.toJSON({prefs:!0}),t=this.model.getPref("calendarKey"),i="https://".concat(location.host,"/calendar/")+"".concat(a.me().id,"/").concat(this.model.id,"/").concat(t,".ics");return t||(this.generating=!0,this.model.generateCalendarKey()),this.$el.html(l({isEnabled:e.calendarFeedEnabled,isGenerated:null!=t&&!this.generating,url:i,canChange:this.model.editable()})),this}focusInput(e){return this.$(".js-calendar-feed-url").focus().select()}selectFeedEnabled(e){s.stop(e);const t="enabled"===n(e.target).closest("a").attr("name"),i=r.startTask({taskName:"edit-plugin",subTask:"calendar",source:"calendarSettingsInlineDialog"}),a=this.model.getPref("calendarFeedEnabled");return this.model.setPrefWithTracing("calendarFeedEnabled",t,{taskName:"edit-plugin",subTask:"calendar",source:"calendarSettingsInlineDialog",traceId:i,next:e=>{var n,s;e||r.sendUpdatedBoardFieldEvent({field:"calendarFeedEnabledPref",source:"calendarSettingsInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(n=this.model)||void 0===n||null===(s=n.getOrganization())||void 0===s?void 0:s.id}},attributes:{taskId:i,change:a!==t,previous:a}})}})}}c.initClass(),e.exports=c},"./app/scripts/views/power-ups/card-aging-settings-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{Analytics:r}=i("./packages/atlassian-analytics/index.ts"),a=i("./app/scripts/lib/util/index.js"),s=i("./app/scripts/views/internal/view.js"),o=i("./app/scripts/views/templates/power_ups_card_aging_prefs.js");class l extends s{static initClass(){this.prototype.viewTitleKey="card aging settings",this.prototype.events={"click .js-select:not(.disabled)":"selectMode"}}initialize(){return this.listenTo(this.model,{"change:prefs":this.render})}render(){return this.$el.html(o({agingMode:this.model.getPref("cardAging"),canChange:this.model.editable()})),this}selectMode(e){a.stop(e);const t=r.startTask({taskName:"edit-plugin",subTask:"cardAging",source:"cardAgingSettingsInlineDialog"}),i=n(e.target).closest(".js-select").attr("name"),s=this.model.getPref("cardAging");return this.model.setPrefWithTracing("cardAging",i,{taskName:"edit-plugin",subTask:"cardAging",source:"cardAgingSettingsInlineDialog",traceId:t,next:(e,n)=>{n&&r.sendUpdatedBoardFieldEvent({field:"cardAgingPref",value:i,source:"cardAgingSettingsInlineDialog",containers:{board:{id:this.model.id},organization:{id:this.model.get("idOrganization")},enterprise:{id:this.model.get("idEnterprise")}},attributes:{taskId:t,previous:s}})}})}}l.initClass(),e.exports=l},"./app/scripts/views/power-ups/voting-settings-view.js":function(e,t,i){const n=i("./packages/jquery/index.js"),{Analytics:r}=i("./packages/atlassian-analytics/index.ts"),a=i("./app/scripts/lib/util/index.js"),s=i("./app/scripts/views/internal/view.js"),o=i("./app/scripts/views/templates/power_ups_voting_prefs.js");class l extends s{static initClass(){this.prototype.viewTitleKey="voting settings",this.prototype.events={"click .js-voting-select:not(.disabled)":"selectPerm","click .js-vote-count-select:not(.disabled)":"hideVotes"}}initialize(){return this.listenTo(this.model,{"change:prefs":this.render})}render(){var e;return this.$el.html(o({canChange:this.model.editable(),canSetObservers:null===(e=this.model.getOrganization())||void 0===e?void 0:e.isFeatureEnabled("observers"),canSetOrganization:this.model.hasOrganization(),canSetPublic:this.model.isPublic(),votingMode:this.model.getPref("voting"),hideVotes:this.model.getPref("hideVotes")})),this}selectPerm(e){a.stop(e);const t=r.startTask({taskName:"edit-plugin",subTask:"voting",source:"votingSettingsInlineDialog"}),i=n(e.target).closest(".js-voting-select").attr("name");this.model.setPrefWithTracing("voting",i,{taskName:"edit-plugin",subTask:"voting",source:"votingSettingsInlineDialog",traceId:t,next:(e,n)=>{var a;n&&r.sendUpdatedBoardFieldEvent({field:"votingPref",value:i,source:"votingSettingsInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(a=this.model.getOrganization())||void 0===a?void 0:a.id}},attributes:{previous:this.model.getPref("voting"),taskId:t}})}})}hideVotes(e){a.stop(e);const t=r.startTask({taskName:"edit-plugin",subTask:"voting",source:"votingSettingsInlineDialog"});this.model.setPrefWithTracing("hideVotes",!this.model.getPref("hideVotes"),{taskName:"edit-board",subTask:"voting",source:"votingSettingsInlineDialog",traceId:t,next:(e,i)=>{var n;i&&r.sendUpdatedBoardFieldEvent({field:"hideVotesPref",value:this.model.getPref("hideVotes"),source:"votingSettingsInlineDialog",attributes:{taskId:t},containers:{board:{id:this.model.id},organization:{id:null===(n=this.model.getOrganization())||void 0===n?void 0:n.id}}})}})}}l.initClass(),e.exports=l},"./app/scripts/views/reactions/reaction-icon.js":function(e,t,i){const n=i("./node_modules/react/index.js"),r=i("./app/scripts/views/internal/recup-with-helpers.js")("reactions");class a extends n.Component{static initClass(){this.prototype.displayName="ReactionIcon",this.prototype.render=r.renderable((function(){const{disabled:e,withBorder:t,active:i,onClick:n}=this.props;return r.span({class:r.classify({"reactions-add":!0,"is-disabled":e,"mod-with-border":t,"is-active":i}),onClick:n},(()=>r.icon("add-reaction",{class:r.classify({"reactions-add-icon":!0}),title:r.l("add-reaction")})))}))}}a.initClass(),e.exports=a},"./app/scripts/views/reactions/reaction-piles.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/lib/alerts.js"),a=i("./app/scripts/db/auth.js"),s=i("./app/scripts/lib/localize.js"),o=i("./app/scripts/db/model-cache.js"),l=i("./app/scripts/views/internal/model-cache-listener.js"),c=i("./app/scripts/views/lib/pop-over.js"),d=i("./app/scripts/views/internal/recup-with-helpers.js")("reactions"),{trackUe:u}=i("./packages/analytics/index.ts"),p=i("./app/scripts/views/lib/tooltip.js"),{Emoji:m}=i("./app/src/components/Emoji/Emoji.tsx"),h=i("./node_modules/react/index.js"),g=i("./app/scripts/views/reactions/reaction-icon.js"),b=i("./app/scripts/views/reactions/reaction-selector.js"),f=i("./app/scripts/views/reactions/reaction-tooltip.js"),v=i("./app/scripts/lib/util/index.js"),k=i("./node_modules/underscore/underscore.js"),{Analytics:y}=i("./packages/atlassian-analytics/index.ts"),{shouldFireConfetti:w}=i("./app/scripts/views/card/should-fire-confetti.ts"),j=i("./node_modules/canvas-confetti/dist/confetti.module.mjs").default;class x extends h.Component{static initClass(){this.prototype.displayName="ReactionPiles",this.prototype.render=d.renderable((function(){const{canReact:e,renderReactIconWithBorder:t}=this.props,i=this.mapReactionListToPiles();return d.div(".reaction-piles",{class:d.classify({"reaction-piles-empty":!i.length,disabled:!e})},(()=>{for(const{reaction:e,count:t,mine:n}of Array.from(i))d.div(".reaction-pile-item",{class:d.classify({"my-reaction":n}),"data-reaction":e},(()=>(d.addElement(h.createElement(m,{emoji:e,onClick:this.handleEmojiClick,onOver:this.handleEmojiOver,onLeave:this.hideReactionTooltip})),d.span(".reaction-pile-count",(function(){return d.text(t>99?"99+":t)})))));return i.length||t?this.renderReactIcon():this.renderInlineReactIcon()}))}))}constructor(e){super(e),this.state={reactionSelectorOpen:!1,reactionList:this.props.reactionList},this.toggleReaction=this.toggleReaction.bind(this),this.showReactionTooltip=this.showReactionTooltip.bind(this),this.handleEmojiClick=this.handleEmojiClick.bind(this),this.handleEmojiOver=this.handleEmojiOver.bind(this),this.openReactionSelector=this.openReactionSelector.bind(this),this.renderInlineReactIcon=this.renderInlineReactIcon.bind(this),this._listen()}_listen(){return this._alertEvent("uniqueReactionLimit","unique-reaction-limit-exceeded"),this._alertEvent("totalReactionLimit","total-reaction-limit-exceeded"),this._alertEvent("addReactionError","add-reaction-error"),this._alertEvent("removeReactionError","remove-reaction-error"),this.props.modelListener(this.props.reactionList,"add remove reset",(()=>(this.props.onReactionChanged&&this.props.onReactionChanged(),this.setState({reactionList:this.props.reactionList})))),this.props.modelListener(this.props.reactionList,"add remove reset",(()=>this.setState({reactionList:this.props.reactionList})))}_alertEvent(e,t){return this.props.modelListener(this.props.reactionList,e,(e=>{const i=e?d.l(t,{number:e.disableAt,heart:""}):d.l(t);r.showLiteralText(i,"error","reaction-piles",3e3)}))}trackWithData(e,t,i,n,r){const{category:a}=this.props.trackingContext,s=JSON.stringify(k.omit(this.props.trackingContext,"category"));return u(a,e,t,i,n,r,s)}toggleReaction(e,t){if(v.stop(t),!this.props.canReact)return;if(w(e.native)){const i=e.unified.toUpperCase();this.props.reactionList.findMyReaction(i)||j({angle:k.random(55,125),spread:k.random(50,70),particleCount:k.random(40,75),origin:{x:t.pageX/window.innerWidth,y:t.pageY/window.innerHeight}})}return this.props.reactionList.toggleReaction(this.props.actionId,e,(t=>{t?y.sendTrackEvent({action:"added",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.cardId))},list:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.listId))},board:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.boardId))}},attributes:{addedTo:"comment",fromPile:!0}}):y.sendTrackEvent({action:"removed",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.cardId))},list:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.listId))},board:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.boardId))}},attributes:{removedFrom:"comment",fromPile:!0}});return this.trackWithData(t?"adds":"removes","reaction",e.id,t?"to a comment":"from a comment","by clicking the pile")}))}showReactionTooltip(e,t){const i=n(t.currentTarget),r=e.colons;let l=!1,c=this.props.reactionList.chain().filter((e=>e.toEmojiMart().colons===r)).omit((function(e){const t=e.get("idMember")===a.myId();return t&&(l=!0),t})).map((e=>C(o.get("Member",e.get("idMember")),(e=>e.get("fullName"))))).compact().value();l&&(c=[s("You"),...Array.from(c)]);const d=new f({names:c,reaction:r});return p.show(d,i,!1,p.STYLE.MENU)}hideReactionTooltip(){return p.hide()}mapReactionListToPiles(){return this.props.reactionList.chain().groupBy((e=>e.toEmojiMart().colons)).pairs().map((function(...e){const[t,i]=Array.from(e[0]);return{reaction:t,count:i.length,mine:k.any(i,(e=>e.get("idMember")===a.myId()))}})).value()}handleEmojiClick(e,t){return this.hideReactionTooltip(),this.toggleReaction(e,t),this.props.onEmojiClick&&this.props.onEmojiClick(e,t)}handleEmojiOver(e,t){return this.showReactionTooltip(e,t),this.props.onEmojiOver&&this.props.onEmojiOver(e,t)}openReactionSelector(e){this.shouldSuppressTracking=!1;const t=n(e.currentTarget);v.stop(e),this.setState({reactionSelectorOpen:!0});const i="by clicking the picker button ".concat(t.parents(".inline-add-reaction").length>0?"inline":"next to reactions");if(this.state.reactionSelectorOpen)return this.shouldSuppressTracking=!0,c.popView(),this.setState({reactionSelectorOpen:!1}),this.sendGASEvent&&y.sendClosedComponentEvent({componentType:"inlineDialog",componentName:"reactionSelectorInlineDialog",source:"cardDetailScreen",attributes:{method:"clicked picker button"},containers:{card:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.cardId))},list:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.listId))},board:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.boardId))}}}),void this.trackWithData("closes","reaction selector","","",i);this.sendGASEvent&&y.sendScreenEvent({name:"reactionSelectorInlineDialog",containers:{card:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.cardId))},list:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.listId))},board:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.boardId))}}}),this.trackWithData("opens","reaction selector","","",i);const r={actionId:this.props.actionId,reactionList:this.props.reactionList,trackingContext:this.props.trackingContext,onReactionClick:(e,t)=>(v.stop(e),this.shouldSuppressTracking=!0,this.setState({reactionSelectorOpen:!1}),c.popView())};return c.show({elem:n(e.currentTarget),hideHeader:!0,displayType:"mod-reaction-selector",view:new b(r),showImmediately:!0,hidden:()=>k.defer((()=>{if(this.setState({reactionSelectorOpen:!1}),!this.shouldSuppressTracking)return this.sendGASEvent&&y.sendClosedComponentEvent({componentType:"inlineDialog",componentName:"reactionSelectorInlineDialog",source:"cardDetailScreen",attributes:{method:"clicked outside the inline dialog"},containers:{card:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.cardId))},list:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.listId))},board:{id:C(null!=this.props?this.props.trackingContext:void 0,(e=>e.boardId))}}}),this.trackWithData("closes","reaction selector","","","by clicking outside")}))})}renderReactIcon(){return d.div(".reaction-pile-selector",(()=>d.createElement(g,{disabled:!this.props.canReact,withBorder:!0,onClick:this.openReactionSelector,active:this.state.reactionSelectorOpen})))}renderInlineReactIcon(){return d.span(".inline-add-reaction.meta-add-reaction.quiet",(()=>d.createElement(g,{disabled:!this.props.canReact,withBorder:!1,onClick:this.openReactionSelector,active:this.state.reactionSelectorOpen})))}}function C(e,t){return null!=e?t(e):void 0}x.initClass(),e.exports=l(x)},"./app/scripts/views/reactions/reaction-selector.js":function(e,t,i){const n=i("./packages/jquery/index.js"),r=i("./app/scripts/views/internal/view.js"),{trackUe:a}=i("./packages/analytics/index.ts"),s=i("./node_modules/underscore/underscore.js"),o=i("./node_modules/react/index.js"),l=i("./packages/react-dom-wrapper/index.ts"),c=i("./app/scripts/views/emoji/trello-emoji-picker.js"),{Analytics:d}=i("./packages/atlassian-analytics/index.ts"),{shouldFireConfetti:u}=i("./app/scripts/views/card/should-fire-confetti.ts"),p=i("./node_modules/canvas-confetti/dist/confetti.module.mjs").default;function m(e,t){return null!=e?t(e):void 0}e.exports=class extends r{constructor(e){super(e),this.trackWithData=this.trackWithData.bind(this)}render(){return l.render(this.getEmojiPicker(),this.$el[0]),this.trackReactionClickEvents(),this}remove(){return l.unmountComponentAtNode(this.$el[0]),super.remove(...arguments)}trackWithData(e,t,i,n,r){const{category:o}=this.options.trackingContext,l=JSON.stringify(s.omit(this.options.trackingContext,"category"));return a(o,e,t,i,n,r,l)}trackReactionClickEvents(){const e=".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin";return n(document).off("click",e).on("click",e,(e=>{e.stopPropagation();const t=n(e.currentTarget),i=t.is(".emoji-mart-anchor"),r=i?"reaction selector category button":t.is(".emoji-mart-skin-swatch")?"reaction selector skin tone button":t.is(".emoji-mart-skin")?"reaction selector skin tone menu":void 0;if(!r)return;const a="by clicking the ".concat(r),s=i?"reaction selector category":"reaction selector skin tone menu",o=i?t.attr("title"):t.is(".emoji-mart-skin")?"skin-tone-".concat(t.data("skin")):"";return d.sendUIEvent({action:"clicked",actionSubject:"icon",actionSubjectId:"reactionMenuIcon",source:"reactionSelectorInlineDialog",attributes:{target:r},containers:{card:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.cardId))},board:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.boardId))},list:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.listId))}}}),this.trackWithData("opens",s,o,"",a)})),n(document).on("input",".emoji-mart-search input",s.debounce((e=>(e.stopPropagation(),d.sendTrackEvent({action:"searched",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.cardId))},board:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.boardId))},list:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.listId))}}}),this.trackWithData("searches","reaction selector","","for emoji","by typing in the reaction selector search box"))),1e3))}handleReactionClick(e,t){if(u(t.native)){const i=t.unified.toUpperCase();this.options.reactionList.findMyReaction(i)||p({angle:s.random(55,125),spread:s.random(50,70),particleCount:s.random(40,75),origin:{x:e.pageX/window.innerWidth,y:e.pageY/window.innerHeight}})}return this.options.reactionList.toggleReaction(this.options.actionId,t,(e=>{e?d.sendTrackEvent({action:"added",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.cardId))},list:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.listId))},board:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.boardId))}},attributes:{addedTo:"comment",emoji:t.id,fromPile:!1}}):d.sendTrackEvent({action:"removed",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.cardId))},list:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.listId))},board:{id:m(null!=this.options?this.options.trackingContext:void 0,(e=>e.boardId))}},attributes:{removedFrom:"comment",emoji:t.id,fromPile:!1}});return this.trackWithData(e?"adds":"removes","reaction",t.id,e?"to a comment":"from a comment","by picking a reaction")})),this.options.onReactionClick&&this.options.onReactionClick(e,t)}getEmojiPicker(){return o.createElement(c,{onClick:(e,t)=>this.handleReactionClick(t,e)})}willBePopped(){return n(".js-open-reactions").removeClass("active"),n(document).off("click",".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin"),n(document).off("input",".emoji-mart-search input")}}},"./app/scripts/views/reactions/reaction-tooltip.js":function(e,t,i){const n=i("./app/scripts/lib/localize.js"),r=i("./app/scripts/views/internal/teacup-with-helpers.js")("reactions"),a=i("./app/scripts/views/internal/view.js"),s=i("./node_modules/joinn/lib/joinn.js"),o=e=>r.render((()=>r.span(".reaction-fullname",(()=>r.text(e))))),l=e=>r.render((()=>r.strong((()=>r.text(e))))),c=r.renderable((function({names:e,reaction:t}){const i=(null!=e?e[0]:void 0)===n("You")&&1===e.length;return e=e.map(o),r.div(".reaction-tooltip",(function(){return""!==e&&null==t?r.raw(s(e,", "," ".concat(r.l("and")," "))):i?r.raw(r.l("reaction-tooltip-you",{reaction:l(t)},{raw:!0})):1===e.length?r.raw(r.l("reaction-tooltip",{name:e[0],reaction:l(t)},{raw:!0})):e.length>1?r.raw(r.l("reaction-tooltip-plural",{names:s(e,", "," ".concat(r.l("and")," ")),reaction:l(t)},{raw:!0})):r.raw(l(t))}))}));e.exports=class extends a{renderOnce(){let{names:e}=this.options;const{reaction:t}=this.options;return null==e&&(e=[]),this.$el.append(c({names:e,reaction:t})),this}}},"./app/scripts/views/stickers/sticker-edit-view.js":function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s=i("./packages/jquery/index.js"),o=i("./app/scripts/views/lib/pop-over.js"),l=i("./app/scripts/views/stickers/sticker-view.js"),c=i("./app/scripts/lib/util/index.js"),d=i("./node_modules/underscore/underscore.js"),{Analytics:u,tracingCallback:p}=i("./packages/atlassian-analytics/index.ts");e.exports=function(){class e extends l{static initClass(){this.prototype.events={mouseenter:"mouseenter",mouseleave:"mouseleave",mousedown:"editSticker","mousedown .js-remove-sticker":"removeSticker","mousedown .js-rotate-sticker":"startRotate","mousedown .js-move-sticker":"startMove"},this.editTraceId=null}initialize(){return this.listenTo(this.model,"stopEditing",this.stopEditing),this.listenTo(this.model,"startEditing",this.editSticker),this.listenTo(this.model,"disableEditing",this.disableEditing),this.listenTo(this.model,"enableEditing",this.enableEditing)}showEditControls(){return!0}disableEditing(){return this.$el.addClass("editing-disabled")}enableEditing(){return this.$el.removeClass("editing-disabled")}endCurrentEdit(){return s(document).off(".stickerrotate .stickermove .stickerautomove"),this.$el.removeClass("moving rotating"),s(".quick-card-editor").removeClass("invalid dragging")}stopEditing(e){if(c.stop(e),this.isEditing())return this.endCurrentEdit(),this.$el.removeClass("editing"),s(".quick-card-editor").removeClass("quick-card-editor-editing-stickers"),Array.from(this.model.collection.models).map((e=>e.trigger("enableEditing")))}isEditing(){return this.$el.is(".moving, .rotating, .editing")}isEditingDisabled(){return this.$el.is(".editing-disabled")}isMovingOrRotating(){return this.$el.is(".moving, .rotating")}saveStickerAttrs({position:e,rotation:t}){const i=e=>Math.round(100*e)/100,n={zIndex:this.model.collection.nextZIndex(this.model)};if(e){const e=this.$el.closest(".list-card").find(".js-card-stickers"),t=e.width(),r=e.height();n.left=i(parseFloat(this.$el.css("left"))/t*100),n.top=i(parseFloat(this.$el.css("top"))/r*100)}if(t){const e=c.getElemTransformMatrix(this.$el.find(".sticker-image"));n.rotate=i(c.getMatrixDegrees(e)%360)}this.model.update(r(r({},n),{},{traceId:this.editTraceId}),p({taskName:"edit-card",subTask:"stickers",traceId:this.editTraceId,source:"stickerEditView",attributes:{action:t?"rotated":e?"moved":"edited"}},((i,n)=>{if(n){var r;const i=null===(r=this.options)||void 0===r?void 0:r.card;u.sendUpdatedCardFieldEvent({field:"stickers",source:"stickerEditView",attributes:{taskId:this.editTraceId,action:t?"rotated":e?"moved":"edited"},containers:{card:{id:null==i?void 0:i.id},board:{id:null==i?void 0:i.get("idBoard")},list:{id:null==i?void 0:i.get("idList")}}})}})))}mouseenter(e){this.isEditingDisabled()||this.isEditing()||this.isMovingOrRotating()||this.$el.addClass("hover")}mouseleave(e){this.$el.removeClass("hover")}editSticker(e){let t;if(null!=e&&1!==e.which)return;if(c.stop(e),null!=e&&"mousedown"===e.type){const{pageX:i,pageY:n}=e,r=()=>(s(document).off(".stickerautomove"),clearTimeout(t));s(document).on("mousemove.stickerautomove",(e=>{if(Math.pow(e.pageX-i,2)+Math.pow(e.pageY-n,2)>25)return r(),this.startMove(e)})),s(document).on("mouseup.stickerautomove",r),t=this.setTimeout(r,1e3)}const i=d.clone(this.model.collection.models);for(const e of Array.from(i))e!==this.model&&(e.trigger("stopEditing"),e.trigger("disableEditing"));this.defer((()=>(o.hide(),this.$el.addClass("editing"),s(".quick-card-editor").addClass("quick-card-editor-editing-stickers"))))}startRotate(e){if(!this.isEditing())return;c.preventDefault(e),this.editTraceId=u.startTask({taskName:"edit-card",subTask:"stickers",source:"stickerEditView",attributes:{action:"rotated"}});const t=this.$el.offset().left+this.$el.width()/2,i=this.$el.offset().top+this.$el.height()/2,n=e.pageX,r=e.pageY;let a=0;const o=c.getElemTransformMatrix(this.$el.find(".sticker-image"));null!=o&&(a=c.getMatrixDegrees(o));let l=!1;return s(document).on("mousemove.stickerrotate",(e=>{l||(this.$el.removeClass("hover").addClass("rotating"),s(".quick-card-editor").addClass("dragging"),l=!0);const o=e.pageX,d=e.pageY,u=o-t,p=d-i,m=c.getDegrees(r-i,n-t),h=c.getDegrees(p,u),g=a+(h-m);this.$el.find(".sticker-image").css({transform:"rotate(".concat(g,"deg)"),"-webkit-transform":"rotate(".concat(g,"deg)")})})),s(document).on("mouseup.stickerrotate",(()=>l?(this.saveStickerAttrs({rotation:!0}),this.endCurrentEdit()):s(document).off(".stickerrotate"))),!1}startMove(e){let t,i;if(!this.isEditing())return;c.stop(e),this.editTraceId=u.startTask({taskName:"edit-card",subTask:"stickers",source:"stickerEditView",attributes:{action:"moved"}});const n=this.$el.closest(".list-card").find(".js-card-stickers"),{left:r,top:a}=n.offset(),o=this.$el.width(),l=this.$el.height(),d={left:-40,right:n.width()-10,top:-40,bottom:n.height()-10};null!=e?(t=this.$el.offset().left+this.$el.width()/2-e.pageX,i=this.$el.offset().top+this.$el.height()/2-e.pageY):(t=0,i=0);let p=!1;return s(document).on("mousemove.stickermove",(e=>{p||(this.$el.removeClass("hover").addClass("moving"),s(".quick-card-editor").addClass("dragging"),p=!0);let n=e.pageX-r-o/2+t,c=e.pageY-a-l/2+i,u=!0;return n>d.right&&(n=d.right,u=!1),n<d.left&&(n=d.left,u=!1),c>d.bottom&&(c=d.bottom,u=!1),c<d.top&&(c=d.top,u=!1),s(".quick-card-editor").toggleClass("invalid",!u),this.$el.css({left:n,top:c})})),s(document).on("mouseup.stickermove",(()=>p?(this.saveStickerAttrs({position:!0}),this.endCurrentEdit()):s(document).off(".stickermove"))),!1}removeSticker(e){if(this.isEditing()){const e=d.once((()=>{this.stopEditing(),this.model.destroyWithTracing({traceId:this.editTraceId},p({taskName:"edit-card",subTask:"stickers",traceId:this.editTraceId,source:"stickerEditView",attributes:{action:"removed"}},((e,t)=>{if(t){var i;const e=null===(i=this.options)||void 0===i?void 0:i.card;u.sendUpdatedCardFieldEvent({field:"stickers",source:"stickerEditView",attributes:{taskId:this.editTraceId,action:"removed"},containers:{card:{id:null==e?void 0:e.id},board:{id:null==e?void 0:e.get("idBoard")},list:{id:null==e?void 0:e.get("idList")}}})}}))),this.$el.remove()}));this.$el.one("transitionEnd webkitTransitionEnd",e),this.setTimeout(e,100),this.$el.addClass("fade-out")}}}return e.initClass(),e}()},"./app/scripts/views/stickers/sticker-view.js":function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s=i("./packages/browser/index.ts"),o=i("./app/scripts/lib/util/index.js"),l=i("./app/scripts/views/internal/view.js"),c=i("./app/scripts/data/sticker-size.js"),d=i("./app/scripts/lib/util/sticker-clip.js"),u=i("./app/scripts/views/internal/teacup-with-helpers.js")("sticker_on_card"),p=i("./node_modules/bluebird/js/browser/bluebird.js"),{track:m}=i("./packages/analytics/index.ts"),{Analytics:h,tracingCallback:g}=i("./packages/atlassian-analytics/index.ts"),b=s.supportsFancyPeel(),f=u.renderable((function({url:e,rotate:t,image:n,showEditControls:r,showRemoveUI:a,isGiphySticker:s}){return a?(u.div({class:u.classify({"sticker-removing":!0,"giphy-sticker":s})},(function(){return u.div(".sticker-removing-highlight",{style:"transform: rotate(".concat(t,"deg)")}),b?(u.img(".sticker-remove-image.sticker-removing-residue",{src:i("./resources/images/stickers/residue.png"),style:"--sticker-rotation: ".concat(t,"deg; mask-image: ").concat(u.urlify(e),"; -webkit-mask-image: ").concat(u.urlify(e),";")}),u.img(".sticker-remove-image.sticker-removing-shadow",{src:e,style:"--sticker-rotation: ".concat(t,"deg")}),u.img(".sticker-remove-image.sticker-removing-fixed",{src:e,style:"--sticker-rotation: ".concat(t,"deg;")}),u.img(".sticker-remove-image.sticker-removing-peel",{src:e,style:"--sticker-rotation: ".concat(t,"deg")})):u.img(".sticker-remove-image.sticker-removing-fixed",{src:e,style:"transform: rotate(".concat(t,"deg)")})})),u.span(".sticker-control-btn.remove-btn.js-remove-sticker",{style:"display: none"},(()=>u.format("remove")))):(u.img({class:u.classify({"sticker-image":!0,"giphy-sticker":s}),src:e,style:"-webkit-transform: rotate(".concat(t,"deg);transform: rotate(").concat(t,"deg);"),alt:n}),r?u.div(".sticker-controls",(function(){return u.span(".sticker-control-btn.rotate-btn.js-rotate-sticker",(()=>u.format("rotate"))),u.span(".sticker-control-btn.move-btn.js-move-sticker",(()=>u.format("move"))),u.span(".sticker-control-btn.remove-btn.js-remove-sticker",(()=>u.format("remove")))})):void 0)})),v=function(e,t){null==t&&(t={});const i=e.getBoundingClientRect(),{left:n}=i,{top:r}=i,a=t.fixedWidth?n+t.fixedWidth():i.right,s=t.fixedHeight?r+t.fixedHeight():i.bottom;return{left:n,top:r,bottom:s,right:a,width:a-n,height:s-r,x:n+(a-n)/2,y:r+(s-r)/2}};let k=null;class y extends l{static initClass(){this.prototype.className="sticker"}initialize(){return super.initialize(...arguments),this.listenTo(this.model,"change",this.render)}showEditControls(){return!1}events(){return this.options.canRemove?{mouseenter(e){if(!this.showRemoveUI)return this.showRemoveUI=!0,this.render()},mouseleave:"mouseLeave",mousemove:"mouseMove",mousedown(e){if(!this.$(e.target).closest(".js-remove-sticker").length)return this.removeRemove()},"left-sticker":"removeRemove","mousemove .js-remove-sticker":e=>o.stop(e),"mouseenter .js-remove-sticker"(e){return this.$el.addClass("peeling")},"mouseleave .js-remove-sticker"(e){return this.$el.removeClass("peeling")},"click .js-remove-sticker"(e){return o.stop(e),this.removeSticker()}}:{}}render(){let e;const t=this.model.toJSON();var i,n;return t.url=null!=(i=o.smallestPreviewBiggerThan(t.imageScaled,c),n=e=>e.url,e=null!=i?n(i):void 0)?e:t.imageUrl,t.showEditControls=this.showEditControls(),t.showRemoveUI=this.showRemoveUI,this.$el.html(f(t)).css({left:"".concat(d(t.left),"%"),top:"".concat(d(t.top),"%")}),this}mouseMove(e){return e.buttons?this.removeRemove():this.showingRemove?this.clearTimeouts():this.hoverTimeout?(this.currentX=e.offsetX,this.currentY=e.offsetY):(this.$el.siblings().trigger("left-sticker"),this.currentX=this.startX=e.offsetX,this.currentY=this.startY=e.offsetY,this.hoverTimeout=this.setTimeout((()=>this.showRemove()),350))}showRemove(){if(this.showingRemove)return;this.showingRemove=!0;const e=this.currentX-this.startX,t=this.currentY-this.startY;this.$el.addClass("hover");const i=this.$(".js-remove-sticker");return p.try((()=>k||(i.css({display:"inline-block"}),new p((e=>this.requestAnimationFrame((()=>(k=v(i.get(0)),i.css({display:"none"}),e(k))))))))).then((n=>{const{left:a,top:s}=function({rect:e,containerRect:t,controlRect:i,currentX:n,currentY:a,deltaX:s,deltaY:l,interval:c}){const d=o.getPositiveDegrees(-l,s),u=e=>e-45<d&&d<e+45,p=8-i.height,m=(e.height-i.height)/2,h=e.height-8,g=8-i.width,b=(e.width-i.width)/2,f=e.width-8,v=[{left:b,top:h,avoid:u(270)},{left:b,top:p,avoid:u(90)},{left:f,top:m,avoid:u(0)||u(360)},{left:g,top:m,avoid:u(180)},{left:g,top:h,avoid:u(225)},{left:f,top:h,avoid:u(315)},{left:g,top:p,avoid:u(135)},{left:f,top:p,avoid:u(45)}].map((n=>{const a=n.left+(e.left-t.left),s=n.top+(e.top-t.top),o=a+i.width,l=s+i.height,c=(Math.min(o,t.width)-Math.max(0,a))*(Math.min(l,t.height)-Math.max(0,s));return r(r({},n),{},{visibleArea:c})})).sort(((e,t)=>t.visibleArea-e.visibleArea));return v.filter((e=>!e.avoid))[0]||v.filter((e=>e.avoid))[0]||v[0]}({rect:v(this.el),containerRect:v(this.$el.closest(".js-stickers-area").get(0),{fixedWidth:this.options.fixedWidth,fixedHeight:this.options.fixedHeight}),controlRect:n,currentX:this.currentX,currentY:this.currentY,deltaX:e,deltaY:t,interval:350});return i.css({display:"inline-block",top:s,left:a})})).done()}removeRemove(e){if(this.showingRemove)return this.showingRemove=!1,this.clearTimeouts(),this.$(".js-remove-sticker").css({display:"none"}),this.$el.removeClass("hover peeling")}mouseLeave(e){return this.clearTimeouts(),this.removeTimeout=this.setTimeout((()=>this.removeRemove()),200)}clearTimeouts(){return clearTimeout(this.hoverTimeout),this.hoverTimeout=null,clearTimeout(this.removeTimeout),this.removeTimeout=null}removeSticker(){const e=h.startTask({taskName:"edit-card",subTask:"stickers",source:"stickerHoverView",attributes:{action:"removed"}});return m("Card","Sticker","Remove via Hover"),this.clearTimeouts(),this.$el.remove(),this.model.destroyWithTracing({traceId:e},g({taskName:"edit-card",subTask:"stickers",traceId:e,source:"stickerHoverView",attributes:{action:"removed"}},((t,i)=>{if(i){var n;const t=null===(n=this.options)||void 0===n?void 0:n.card;h.sendUpdatedCardFieldEvent({field:"stickers",source:"stickerHoverView",attributes:{taskId:e,action:"removed"},containers:{card:{id:null==t?void 0:t.id},list:{id:null==t?void 0:t.get("idList")},board:{id:null==t?void 0:t.get("idBoard")}}})}})))}}y.initClass(),e.exports=y},"./app/scripts/views/templates/BoardClosed.js":function(e,t,i){"use strict";i.r(t),i.d(t,"BoardClosed",(function(){return l}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/i18n/index.ts"),s=i("./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.tsx");const o=Object(a.forTemplate)("board_closed"),l=({name:e,deleting:t,canReopen:i,canDelete:n,isDesktop:a,isAtOrOverLimit:l,orgName:c,orgId:d,billingUrl:u,upgradePathAuditEnabled:p})=>r.a.createElement("div",{className:"big-message quiet closed-board"},r.a.createElement("h1",null,o("name-is-closed",{name:e})),t?o("deleting"):[l?r.a.createElement("p",{className:"messaging",key:"messaging"},!a&&c&&u?p?r.a.createElement(s.a,{orgId:d,teamName:c}):r.a.createElement("span",{dangerouslySetInnerHTML:{__html:o("cannot-reopen-board-limit-reached",{orgName:c,billingUrl:u})}}):o("cannot-reopen-board-limit-reached-desktop")):i||n?null:r.a.createElement("p",{className:"messaging",key:"messaging"},o("you-re-a-member-of-this-board-but-only-board-admins-are-able-to-re-open-it")),i&&!l?r.a.createElement("p",{key:"reopen"},r.a.createElement("a",{className:"js-reopen",href:"#"},o("reopen"))):null,n?r.a.createElement("p",{className:"delete-container",key:"delete"},r.a.createElement("a",{className:"quiet js-delete",href:"#"},o("permanently-delete-board"))):null])},"./app/scripts/views/templates/action.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/views/internal/teacup-with-helpers.js")("action"),a=i("./app/scripts/views/templates/entity.js"),s=i("./app/scripts/views/templates/member_avatar.js"),o=i("./app/scripts/views/templates/action_footer.js"),l=i("./app/scripts/views/templates/action_appCreator.ts"),c=["attachmentPreview","comment","checkList"];e.exports=r.renderable((function(e,t,i){const{entities:d,saved:u,dateLastEdited:p,date:m,url:h,appCreator:g}=e,{member:b,showReactions:f,showInlineReactionButton:v,canLinkAppCreator:k}=t,{useEmbedly:y,useCommentUnfurl:w,usePreviews:j}=i;let x=!0;return r.div(".phenom-creator",(function(){return b?r.div(".member.js-show-mem-menu",{class:r.classify({"member-deactivated":b.isDeactivated||b.activityBlocked}),idmember:b.id},(()=>s(b))):r.span(".icon-lg.icon-member")})),r.div(".phenom-desc",(function(){for(const e of Array.from(d))Array.from(c).includes(e.type)&&(x=!1,r.span(".inline-spacer",(()=>r.text(" "))),r.span(".phenom-date.quiet",(function(){if(u&&(h?r.a(".date.js-hide-on-sending.js-highlight-link.past",{dt:m,href:h}):r.span(".date.js-hide-on-sending.past",{dt:m,href:h})),p)return r.span(".js-date-title.js-hide-on-sending.past",{dt:p},(function(){return r.text(" "),r.format("edited")}));g&&l({appCreator:g,canLinkAppCreator:k})}))),a(e,t,i);if(y&&r.div(".hide.embedly.js-embedly"),w&&r.div(".hide.unfurled-comment.comment-preview"),j)return r.div(".hide.previews.js-previews")})),f?r.div(".phenom-reactions",(function(){return r.div(".js-reaction-piles.reaction-piles-container",{class:r.classify({last:v,"reaction-piles-container-full":!v})}),o(e,t,n.extend(i,{needsDate:x}))})):o(e,t,n.extend(i,{needsDate:x}))}))},"./app/scripts/views/templates/action_appCreator.ts":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("action");e.exports=function(e){const{appCreator:t,canLinkAppCreator:i}=e,r=()=>{let e="";const n=()=>{let e="";return t.iconClass&&(e='<span class="app-creator-icon icon-sm '.concat(t.iconClass,'"></span>')),e+="<span>".concat(t.name,"</span>"),e};return e=t.idPlugin&&i?'<a class="quiet js-app-creator-link" href="#">'.concat(n(),"</a>"):n(),e};n.span((()=>{n.text(" "),n.raw("<span>".concat(n.l("via",{integrationName:r()},{raw:!0}),"</span>"))}))}},"./app/scripts/views/templates/action_footer.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("action"),r=i("./app/scripts/views/templates/action_appCreator.ts");e.exports=n.renderable((function(e,t,i){const{saved:a,dateLastEdited:s,date:o,url:l,appCreator:c}=e,{board:d,organization:u,canReply:p,canReplyAll:m,canDelete:h,canEdit:g,canAttachLink:b,canLinkAppCreator:f}=t,{showOptions:v,needsDate:k}=i;return n.div(".phenom-meta.quiet",(function(){if(k&&(a&&(l?n.a(".date.js-hide-on-sending.js-highlight-link.past",{dt:o,href:l}):n.span(".date.js-hide-on-sending.past",{dt:o,href:l})),s&&n.span(".js-date-title.js-hide-on-sending.past",{dt:s},(function(){return n.text(" "),n.format("edited")})),c&&r({appCreator:c,canLinkAppCreator:f})),n.span({class:n.classify({"js-spinner":!0,hide:a})},(function(){return n.format("sending-ellipsis"),n.raw("&nbsp;")})),d){const{boardPLevelAltText:e,boardPLevelIconClass:i}=t;n.text(" - "),n.format("on-board-name",{url:d.url,name:d.name,boardPLevelAltText:e,boardPLevelIconClass:i})}if(u){const{orgPLevelAltText:e,orgPLevelIconClass:i}=t;n.text(" - "),n.format("on-organization-name",{url:u.url,name:u.name,orgPLevelAltText:e,orgPLevelIconClass:i})}if(v)return n.span(".js-hide-on-sending.middle",(function(){let e=!1;const t=function(){return e?n.text(" - "):e=!0};return p&&(t(),n.a({href:"#",class:m?"js-reply-to-all-action":"js-reply-to-action"},(()=>n.format("reply")))),g&&(t(),n.a(".js-edit-action",{href:"#"},(()=>n.format("edit")))),b&&(t(),n.a(".js-attach-link",{href:"#"},(()=>n.format("attach link")))),h&&(t(),n.a(".js-confirm-delete-action",{href:"#"},(()=>n.format("delete")))),n.span(".edits-warning.quiet",(function(){return t(),n.format("you-have-unsaved-edits-on-this-field")}))}))}))}))},"./app/scripts/views/templates/board.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("board");e.exports=function(){return n.div(".board-main-content",(function(){n.div(".board-header.u-clearfix.js-board-header".concat(n.mustacheVar("isCollapsedWorkspaceNav")?".collapsed-workspace-nav":"")),n.div(".board-warnings.u-clearfix.js-board-warnings"),n.div(".board-canvas",(function(){n.div(".js-board-view-container")}))})),n.div(".board-menu.js-fill-board-menu")}},"./app/scripts/views/templates/board_copy.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("board_copy");e.exports=function(){return n.mustacheBlock("loading",(()=>n.div(".spinner.loading"))),n.mustacheBlockInverted("loading",(()=>n.form((function(){return n.label({for:"boardNewTitle"},(()=>n.format("title"))),n.input(".non-empty.js-autofocus",{id:"boardNewTitle",type:"text",name:"name",placeholder:n.mustacheVar("placeholder"),value:n.mustacheVar("boardNameInputValue"),dir:"auto"}),n.div({class:n.mustacheBlock("hideOrg",(()=>"hide"))},(function(){return n.div(".u-clearfix",(function(){return n.label(".u-float-left",{style:"margin-right: 8px;"},(()=>n.format("organization"))),n.mustacheBlock("canAddToOrgs",(()=>n.a(".icon-sm.icon-information.dark-hover.js-helper-add-org",{href:"#"})))})),n.mustacheBlock("hasEnterprise",(()=>n.mustacheBlock("enterpriseName",(function(){if(!n.mustacheVar("showPrivateBoardsOptionForEntBoards"))return n.p(".quiet",(()=>n.format("board-can-only-be-copied-to-teams-within-org",{enterpriseName:n.mustacheVar("enterpriseName")})))})))),n.mustacheBlockInverted("canAddToOrgs",(()=>n.p(".quiet",{style:"margin-bottom: 16px;"},(function(){return n.format("organization-whisk-n-tsk"),n.text(" "),n.a(".js-create-org",{href:"#"},(()=>n.format("create-an-organization")))})))),n.select({name:"org-id",class:n.mustacheBlockInverted("canAddToOrgs",(()=>"hide"))},(function(){return n.mustacheBlockInverted("blockTeamlessBoardsEnabled",(()=>{if(!n.mustacheVar("hasEnterprise")||n.mustacheVar("showPrivateBoardsOptionForEntBoards"))return n.option({value:""},(()=>n.format("none")))})),n.mustacheBlock("orgs",(()=>n.optionSelected(n.mustacheVar("selectOrg"),{value:n.mustacheVar("id")},(()=>n.text(n.mustacheVar("displayName"))))))}))})),n.div(".board-limits-upgrade-ad.js-board-limits-upgrade-ad.hide",(()=>n.p((function(){return n.mustacheVar("isDesktop")?n.format("board-cant-be-copied-because-of-board-limits-desktop"):n.mustacheVar("upgradePathAuditEnabled")?n.div(".copy-board-upsell-react-component"):n.format("board-cant-be-copied-because-of-board-limits")})))),n.div(".js-permissions.hide",(function(){return n.input({type:"hidden",name:"permissionLevel",value:n.mustacheVar("pLevel")}),n.p(".quiet.js-vis-display"),n.ul(".pop-over-list.js-vis-chooser.hide"),n.p(".error.u-bottom.js-no-valid-org-privs.u-clearfix.hide"),n.div(".js-confirm-public-message.hide",(function(){return n.p(n.mustacheVar("publicConfirmationText")),n.input(".pop-over-confirmation-button.nch-button.nch-button--primary.js-confirm-public",{type:"button",value:n.mustacheVar("publicConfirmationConfirm")}),n.input(".pop-over-confirmation-button.js-cancel-public",{type:"button",value:n.mustacheVar("publicConfirmationCancel")})})),n.div(".check-div.u-clearfix",{style:"margin-top: 10px;"},(function(){return n.input({type:"checkbox",id:"idKeepCards",name:"cards",checked:!0}),n.label({for:"idKeepCards"},(()=>n.format("keep-cards")))})),n.div(".check-div.u-clearfix",{style:"margin-top: 10px;"},(function(){return n.input({type:"checkbox",id:"idKeepTemplateCards",name:"templates",checked:!0}),n.label({for:"idKeepTemplateCards"},(()=>n.format("keep-template-cards")))})),n.p(".quiet",(()=>n.format("activity-and-members-will-not-be-copied"))),n.mustacheBlock("willRemovePowerUps",(()=>n.p(".quiet",(()=>n.format("power-ups-will-not-be-copied")))))})),n.input(".nch-button.nch-button--primary.wide.js-submit.disabled",{type:"submit",value:n.l("create")})}))))}},"./app/scripts/views/templates/board_copy_vis.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("board_copy_vis");e.exports=function(){return n.format("this-board-will-be-visdisplaytext",{visIconClass:n.mustacheVar("visIconClass"),visDisplayText:n.mustacheVar("visDisplayText")}),n.text(" "),n.a(".js-change-vis",{href:"#"},(()=>n.format("change")))}},"./app/scripts/views/templates/board_header.js":function(e,t,i){const n=i("./app/scripts/lib/localize-count.js"),{asNumber:r}=i("./packages/i18n/formatters.ts"),a=i("./app/scripts/views/internal/teacup-with-helpers.js")("board_header"),{featureFlagClient:s}=i("./packages/feature-flag-client/index.ts"),o=s.getTrackedVariation("board-header-filtering-experiment",!1);e.exports=a.renderable((function({canRename:e,orgLogoUrl:t,orgLogoUrl2x:i,isStandard:s,hasBusinessClass:l,isBusinessClass:c,isEnterprise:d,orgDisplayName:u,name:p,orgName:m,isLoggedIn:h,isAdmin:g,isMember:b,isPrivateTeam:f,isUntitled:v,canJoin:k,canInviteMembers:y,selfJoin:w,canAssign:j,showCopyButton:x,boardCardCount:C,isPrivateTeamForEnterpriseVisibleBoard:_,isTemplate:O,starTooltipKey:E,currentBoardView:S}){const T=s?"STA":c?"BC":d?"ENT":"Free",N={"board-header-btn":!0,"mod-board-name":!0,"inline-rename-board":!0,"js-rename-board":e,"no-edit":!e,"should-rename":v&&e},P={"board-header-btn":!0,"board-header-btn-org-name":!0,"js-open-org-menu":!0,"board-header-btn-without-icon":!t},I=a.classify({"icon-sm":!0,"board-header-btn-icon":!0,"icon-calendar":"calendar"===S,"icon-map":"map"===S,"icon-list":"list"===S});return a.div(".js-board-views-btn-container",(()=>a.a(".board-header-btn",{href:"#"},a.span({class:"board-views-btn-new-pill"}),(()=>a.span({class:I})),a.span({class:"board-views-btn-text-label"}),a.span({class:"board-views-btn-dropdown-icon"})))),a.div({href:"#",class:a.classify(N)},(function(){return a.h1(".js-board-editing-target.board-header-btn-text",{dir:"auto"},(()=>a.text(p))),a.input(".board-name-input.js-board-name-input",{"aria-label":p,spellcheck:"false",dir:"auto",maxLength:512,value:p})})),O&&a.div(".board-header-btn-template-badge.js-board-template-badge"),h&&a.a(".board-header-btn.js-star-board",{href:"#",title:a.l(E),"aria-label":a.l("star-or-unstar-board")},(()=>a.icon("star",{class:"board-header-btn-icon"}))),a.div(".js-board-header-btn-org-wrapper.board-header-btn-org-wrapper",(function(){return u&&m&&(a.span(".board-header-btn-divider"),a.a({href:"/".concat(m),class:a.classify(P),data:{boardtype:T}},(function(){return t&&a.div(".board-header-btn-name-org-logo-container",(()=>a.img({class:"board-header-btn-name-org-logo",src:t,srcSet:"".concat(t," 1x, ").concat(i," 2x")}))),a.span(".board-header-btn-text",(function(){return a.text(u),a.span(".org-label",(()=>a.text(T)))}))})),a.span(".board-header-btn-divider")),a.div(".board-header-btns.mod-left",(function(){if(!u&&!O){if(a.span(".board-header-btn-divider"),b&&f||_)return a.span(".board-header-btn.board-header-btn-without-icon.board-header-btn-text.no-edit",(()=>a.format("private-team"))),a.span(".board-header-btn-divider");if(!f&&!O)return a.span("#workspaces-preamble-board-header-button"),a.span(".board-header-btn-divider")}})),a.a(".board-header-btn.perms-btn.js-change-vis",{href:"#",id:"permission-level"})})),a.span(".board-header-btn-divider"),a.div(".board-header-btns.mod-left",(function(){if(a.div(".board-header-facepile.js-fill-facepile",{class:a.classify({"js-list-draggable-board-members":j})}),a.a("#member-count.board-header-btn.board-header-btn-member-count.js-open-show-all-board-members.js-fill-board-member-count",{href:"#"},(function(){})),a.span("#member-count-notifications"),y&&a.span("#workspaces-preamble-invite-button"),k&&!O)return a.a(".board-header-btn.board-header-btn-without-icon.board-header-btn-join-board.js-join-board",{href:"#",title:a.l("org-members-can-join-this-board")},(()=>a.span(".board-header-btn-text",(()=>a.format("join-board")))))})),a.div(".board-header-btns.mod-right",(function(){return o||a.a(".board-header-btn.mod-filter-indicator.hide.js-filter-cards-indicator.board-header-btn-without-icon",{href:"#"},(function(){return a.span(".board-header-btn-text",(()=>a.text(n("search-results",C)))),a.icon("close",{class:"board-header-btn-icon-close js-filter-card-clear"})})),a.a(".board-header-btn.sub-btn.hide.js-board-header-subscribed",{href:"#"},(function(){return a.icon("subscribe",{class:"board-header-btn-icon"}),a.span(".board-header-btn-text",(()=>a.format("watch")))})),a.span(".js-calendar-board-btn board-header-btn-react-container"),a.a(".board-header-btn.hide.js-map-btn",{href:"#"},(function(){return a.span(".icon-sm.icon-location.board-header-btn-icon"),a.span(".board-header-btn-text",(()=>a.format("map")))})),a.span(".js-butler-header-btns board-header-btn-react-container"),a.span(".js-plugin-header-btns"),h&&x&&!O&&a.a(".board-header-btn.js-copy-board",{href:"#"},(function(){return a.icon("board",{class:"board-header-btn-icon"}),a.span(".board-header-btn-text",(()=>a.format("copy-board")))})),o&&(a.span(".board-header-btn-divider"),a.a(".board-header-btn.js-header-filter-btn",{href:"#"},(function(){return a.icon("filter",{class:"board-header-btn-icon"}),a.span(".board-header-filter-btn-text",(()=>a.format("filter"))),a.span(".board-header-filter-count.js-filter-cards-count",(()=>a.text(r(C))))}))),a.a(".board-header-btn.mod-show-menu.js-show-sidebar",{href:"#"},(function(){return a.icon("overflow-menu-horizontal",{class:"board-header-btn-icon"}),a.span(".board-header-btn-text",(()=>a.format("show-menu")))}))})),a.div("#workspaces-auto-name-alert"),a.span("#board-header-notification")}))},"./app/scripts/views/templates/board_header_permissions.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("board_header_permissions");e.exports=n.renderable((function({permIconClass:e,permText:t}){return n.span({class:n.classify({"board-header-btn-icon":!0,"icon-sm":!0,["icon-".concat(e)]:!0})}),n.span(".board-header-btn-text",(()=>n.text(t)))}))},"./app/scripts/views/templates/board_header_warnings.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("board_header_warnings");e.exports=n.renderable((function({canDismiss:e,warning:t}){const{key:i,dismiss:r}=t;return n.div(".board-warning",(function(){if(n.format(i),e)return n.span(".js-dismiss-warning.board-warning-close.icon-sm.icon-close",{"data-dismiss":r})}))}))},"./app/scripts/views/templates/board_member_profile.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("board_member_profile");e.exports=function(){return n.div(".window-header.u-clearfix",(function(){return n.span(".window-header-icon.icon-lg.icon-activity"),n.h2(".window-title",(function(){return n.text(n.mustacheVar("fullName")),n.span(".quiet",{style:"margin-left: 3px"},(()=>n.text("(".concat(n.mustacheVar("username"),")"))))}))})),n.div(".window-main-col.window-main-col-full",(function(){return n.div(".list-actions",(()=>n.p(".js-board-member-profile-no-activity",(()=>n.format("this-member-has-no-board-activity"))))),n.a(".show-more.js-more-actions",{href:"#"},(()=>n.format("load-more-activity")))}))}},"./app/scripts/views/templates/board_menu_email.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_email");e.exports=n.renderable((function({commentsEnabled:e,email:t,listName:i,lists:r,position:a,positionName:s}){return e?(n.label({for:"boardEmail"},(()=>n.format("your-email-address-for-this-board"))),n.input(".non-empty.js-autofocus",{id:"boardEmail",type:"text",name:"boardEmail",readonly:"readonly",placeholder:n.l("loading-ellipsis"),value:t,style:"margin: 4px 0 8px;"}),n.a(".quiet-button.js-generate-address",{href:"#"},(()=>n.format("generate-a-new-email-address"))),n.a(".quiet-button.js-send-address",{href:"#"},(()=>n.format("email-me-this-address"))),n.hr(),n.label((()=>n.format("your-emailed-cards-appear-in-ellipsis"))),n.div(".form-grid",(function(){return n.div(".button-link.setting.form-grid-child.form-grid-child-twothirds",(function(){return n.span(".label",(()=>n.format("list"))),n.span(".value.js-list-value",(()=>n.text(i))),n.label((()=>n.format("list"))),n.select(".js-select-list",(()=>(()=>{const e=[];for(const{id:t,name:i,selected:a}of Array.from(r))e.push(n.optionSelected(a,{value:t},(()=>n.text(i))));return e})()))})),n.div(".button-link.setting.form-grid-child",(function(){return n.span(".label",(()=>n.format("position"))),n.span(".value.js-pos-value",(()=>n.text(s))),n.label((()=>n.format("position"))),n.select(".js-select-position",(function(){return n.optionSelected("top"===a,{value:"top"},(()=>n.format("top"))),n.optionSelected("bottom"===a,{value:"bottom"},(()=>n.format("bottom")))}))}))})),n.hr(),n.p(".u-bottom.quiet",(()=>n.format("tip-dont-share-this-email-address-anyone-who-has-it-can-add-cards-as-you-when-composing-emails-the-card-title-goes-in-the-subject-and-the-card-description-in-the-body-more-email-formatting-tips")))):(n.p((()=>n.format("requires-comments-enabled"))),void n.p((()=>n.format("enabled-by-enabling-comments"))))}))},"./app/scripts/views/templates/board_menu_vis.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_vis");e.exports=n.renderable((function({current:e,isNewBoard:t,canChange:i,mustChange:r,hasSuperAdmins:a,hasOrg:s,orgName:o,privateRestricted:l,orgRestricted:c,enterpriseRestricted:d,publicRestricted:u,hasEnterprise:p,enterpriseName:m,isTemplate:h,isOrgPremium:g,isTeamlessOwnedBoard:b}){r&&(o?n.p(".quiet",(()=>n.format("illegal org visibility",{orgName:o}))):b&&m&&n.p(".quiet",(()=>n.format("illegal teamless visibility",{enterpriseName:m}))));const f=p&&m&&!b?"with enterprise":a?"with super admins":s?"with organization":"without organization",v={private:{iconClass:"icon-private",restricted:l,invalid:!g&&h},org:{iconClass:"icon-organization",restricted:c,invalid:t&&!s},enterprise:{iconClass:"icon-enterprise",restricted:p&&d,noEnterprise:!p,invalid:t&&!s},public:{iconClass:"icon-public",restricted:u}};return b&&(delete v.org,delete v.enterprise),(()=>{const r=[];for(const a in v){const{restricted:l,invalid:c,iconClass:d,noEnterprise:u}=v[a];r.push(n.li((function(){const r=l||c||!i||u;return n.a(".js-select",{class:n.classify({disabled:r}),href:"#",name:a},(function(){return n.span(".icon-sm.vis-icon",{class:d},(function(){})),n.check(e===a,a),n.span(".sub-name",(function(){const e=m&&!b?{enterpriseName:m,orgName:o}:o?{orgName:o}:{},r=h?"is template ":"";if(n.format(["permission subtext","".concat(r).concat(f),a],e),i&&l)return n.raw(" "),n.span(".error",(function(){return t?n.format(["illegal visibility",s?"create":"create teamless"]):n.format(["illegal visibility",s?"change":"change teamless"])}))}))}))})))}return r})()}))},"./app/scripts/views/templates/cant_add_board_to_ent.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("cant_add_board_to_ent");e.exports=()=>n.p(".quiet",(function(){return n.mustacheBlock("isEntAdmin",(()=>n.format("enterprise-displayname-does-not-allow-new-boards-you-can-change-this-on-the-enterprise-settings-page-by-clicking-on-board-creation-restrictions",{"enterprise.displayName":n.mustacheVar("enterprise.displayName"),entSettingsUrl:n.mustacheVar("entSettingsUrl")}))),n.mustacheBlockInverted("isEntAdmin",(()=>n.format("enterprise-displayname-does-not-allow-new-boards-only-an-admin-of-the-enterprise-can-change-this-setting",{"enterprise.displayName":n.mustacheVar("enterprise.displayName")})))}))},"./app/scripts/views/templates/cant_add_board_to_org.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("cant_add_board_to_org");e.exports=()=>n.p(".quiet",(function(){return n.mustacheBlock("isOrgAdmin",(()=>n.format("organization-displayname-does-not-allow-new-boards-you-can-change-this-on-the-organization-settings-page-by-clicking-on-board-creation-restrictions",{"organization.displayName":n.mustacheVar("organization.displayName"),orgSettingsUrl:n.mustacheVar("orgSettingsUrl")}))),n.mustacheBlockInverted("isOrgAdmin",(()=>n.format("organization-displayname-does-not-allow-new-boards-only-an-admin-of-the-organization-can-change-this-setting",{"organization.displayName":n.mustacheVar("organization.displayName")})))}))},"./app/scripts/views/templates/card_attach_links.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("card_attach_links");e.exports=n.renderable((e=>n.div(".card-attach-link-list",(()=>(()=>{const t=[];for(const{url:i,text:r,domain:a,attached:s}of Array.from(e))t.push(n.div(".card-attach-link-list-item",{class:n.classify({attached:s})},(function(){return n.div(".card-attach-link-list-item-title",(function(){return r?n.text(r):n.format("link to domain",{domain:a})})),n.div(".card-attach-link-list-item-url.quiet",(()=>n.text(i))),s?n.div(".card-attach-link-list-item-attached.quiet",(()=>n.span(".icon-lg.icon-check"))):n.button(".card-attach-link-list-item-attach.js-attach",{"data-url":i,"data-text":r},(()=>n.format("attach")))})));return t})()))))},"./app/scripts/views/templates/card_composer_inline.js":function(e,t,i){const n=i("./packages/browser/index.ts"),r=i("./app/scripts/views/internal/teacup-with-helpers.js")("card_composer_inline");e.exports=function(){const e=r.mustacheVar("placeholder");return r.div(".list-card.js-composer",(()=>r.div(".list-card-details.u-clearfix",(function(){return r.div(".list-card-labels.u-clearfix.js-list-card-composer-labels"),r.textarea(".list-card-composer-textarea.js-card-title",{dir:"auto",placeholder:e},(()=>r.text(["explorer-10","explorer-11"].includes(n.browserVersionStr)?e:r.mustacheVar("title")))),r.div(".list-card-members.js-list-card-composer-members")})))),r.div(".cc-controls.u-clearfix",(function(){return r.div(".cc-controls-section",(function(){return r.input(".nch-button.nch-button--primary.confirm.mod-compact.js-add-card",{type:"submit",value:r.l("add-card")}),r.a(".icon-lg.icon-close.dark-hover.js-cancel",{href:"#"})})),r.div(".cc-controls-section.mod-right",(()=>r.a(".icon-lg.icon-overflow-menu-horizontal.dark-background-hover.js-cc-menu",{href:"#"})))}))}},"./app/scripts/views/templates/card_copy.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("card_copy");e.exports=function(){return n.mustacheBlock("loading",(()=>n.div(".spinner.loading.js-loading-card-actions"))),n.mustacheBlockInverted("loading",(()=>n.form((function(){return n.label((()=>n.format("title"))),n.textarea(".js-autofocus",{name:"name"},(()=>n.text(n.mustacheVar("name")))),n.mustacheBlock("hasStuff",(function(){return n.label((()=>n.format("keep-ellipsis"))),n.mustacheBlock("hasChecklists",(()=>n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepChecklists",type:"checkbox",name:"checklists",checked:!0}),n.label({for:"idKeepChecklists"},(()=>n.format("checklists-numchecklists",{numChecklists:n.mustacheVar("numChecklists")})))})))),n.mustacheBlock("hasLabels",(()=>n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepLabels",type:"checkbox",name:"labels",checked:!0}),n.label({for:"idKeepLabels"},(()=>n.format("labels-numlabels",{numLabels:n.mustacheVar("numLabels")})))})))),n.mustacheBlock("hasMembers",(()=>n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepMembers",type:"checkbox",name:"members",checked:!0}),n.label({for:"idKeepMembers"},(()=>n.format("members-nummembers",{numMembers:n.mustacheVar("numMembers")})))})))),n.mustacheBlock("hasAttachments",(()=>n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepAttachments",type:"checkbox",name:"attachments",checked:!0}),n.label({for:"idKeepAttachments"},(()=>n.format("attachments-numattachments",{numAttachments:n.mustacheVar("numAttachments")})))})))),n.mustacheBlock("hasComments",(()=>n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepComments",type:"checkbox",name:"comments",checked:!0}),n.label({for:"idKeepComments"},(()=>n.format("comments-numcomments",{numComments:n.mustacheVar("numComments")})))})))),n.mustacheBlock("hasStickers",(()=>n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepStickers",type:"checkbox",name:"stickers",checked:!0}),n.label({for:"idKeepStickers"},(()=>n.format("stickers-numstickers",{numStickers:n.mustacheVar("numStickers")})))}))))})),n.label((()=>n.format("copy-to-ellipsis"))),n.mustachePartial(i("./app/scripts/views/templates/move_card_controls.js")),n.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:n.l("create-card")})}))))}},"./app/scripts/views/templates/card_in_list.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("card_in_list"),r=i("./app/scripts/views/templates/label.js"),a=i("./app/scripts/views/templates/member_on_card.js"),s=i("./app/scripts/views/templates/card_in_list_cover.js");e.exports=n.renderable((function({hasStickers:e,labels:t,quickEdit:i,name:o,members:l,showEditor:c,badgesHTML:d,hasCover:u,cover:p,hideCover:m,attachmentCoverUrl:h}){return s({cover:p,hasCover:u,hideCover:m,hasStickers:e,attachmentCoverUrl:h}),c&&n.icon("edit",{class:"list-card-operation dark-hover js-open-quick-card-editor js-card-menu"}),n.div(".list-card-stickers-area.js-stickers-area",{class:n.classify({hide:!e})},(()=>n.div(".stickers.js-card-stickers"))),n.div(".list-card-details.js-card-details",(function(){return n.div(".list-card-labels.js-card-labels",(()=>Array.from(t).map((e=>r({name:e.name,color:e.color,extraClasses:["mod-card-front"]}))))),i?n.textarea(".list-card-edit-title.js-edit-card-title",{dir:"auto"},(()=>n.text(o))):n.span(".list-card-title.js-card-name",{dir:"auto"}),n.div(".badges",(function(){return n.span(".js-badges",(()=>n.raw(d))),n.span(".custom-field-front-badges.js-custom-field-badges"),n.span(".js-plugin-badges")})),n.div(".list-card-members.js-list-card-members",(()=>Array.from(l).map((e=>a(e)))))})),n.p(".list-card-dropzone",(()=>n.format("drop-files-to-upload"))),n.p(".list-card-dropzone-limited",(()=>n.format("too-many-attachments"))),n.p(".list-card-dropzone-restricted",(()=>n.format("attachments-restricted")))}))},"./app/scripts/views/templates/card_in_list_cover.js":function(e,t,i){const n=i("./packages/browser/index.ts"),r=i("./app/scripts/views/internal/teacup-with-helpers.js")("card_in_list"),a=i("./app/scripts/lib/util/index.js"),{makePreviewCachable:s}=i("./app/common/lib/util/preview.ts");e.exports=r.renderable((function({cover:e,hasCover:t,hideCover:i,hasStickers:o,attachmentCoverUrl:l}){let c;if(null==e||i||!t)return r.div(".list-card-cover.js-card-cover");const{idAttachment:d,idUploadedBackground:u,color:p,scaled:m,edgeColor:h,size:g,idPlugin:b}=e;if("full"===g)return r.div(".list-card-cover.js-card-cover");if(p)return c=o?64:32,r.div(".list-card-cover.js-card-cover.color-card-cover.color-card-cover-".concat(p,".is-covered"),{style:r.stylify({height:"".concat(c,"px")})});if(d||u||b){let e;const t=n.isHighDPI()?600:300;let i=null!=(e=a.smallestPreviewBiggerThan(m,t))?e:a.biggestPreview(m);null==i&&d&&(i={url:l});const o=Math.min(i.height,260);return c=245*i.height/i.width,r.div(".list-card-cover.js-card-cover.is-covered",{style:r.stylify({height:"".concat(c<o?c:o,"px"),"background-color":null!=h?h:"transparent","background-image":'url("'.concat(s(i.url),'")'),"background-size":c<=o?"cover":"contain"})})}}))},"./app/scripts/views/templates/card_title_on_card_front.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("card_title_on_card_front");e.exports=n.renderable((function({idShort:e,name:t,separatorClassName:i}){return e&&n.span(".card-short-id.hide",(()=>n.format("idshort",{idShort:e}))),i?n.div(".".concat(i)):n.text(t)}))},"./app/scripts/views/templates/comment-unfurl-preview.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/lib/plugins/plugin-validators.js"),a=i("./app/scripts/views/plugin/plugin-view.js"),s=i("./app/scripts/views/internal/plugins/plugin-io-cache.js"),o=i("./app/scripts/views/internal/teacup-with-helpers.js")("plugin_section"),{sendPluginUIEvent:l}=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),c=o.renderable((function({icon:e,text:t,image:i,url:n,subtext:a,thumbnail:l,idPlugin:c,actions:u}){const p=s.fromId(c);o.div(".comment-unfurl.js-comment-unfurl",(function(){return o.div(".comment-unfurl-thumb",{style:o.stylify({"background-image":l?o.urlify(l):(null!=i?i.url:void 0)?o.urlify(i.url):e?o.urlify(e):r.isValidUrlForCSSImage(d(null!=p?p.icon:void 0,(e=>e.url)))?o.urlify(p.icon.url):void 0,"background-position-y":"top"===(null!=i?i.y:void 0)?"0px":void 0,"background-position-x":"left"===(null!=i?i.x:void 0)?"0px":void 0,"background-size":(()=>{if(!l&&!(null!=i?i.url:void 0))return"auto 40px";switch(null!=i?i.size:void 0){case"contain":return"contain";case"original":return"inherit";default:return"cover"}})()})}),o.div(".comment-unfurl-meta",(function(){return o.span(".comment-unfurl-title",(()=>o.text(t))),o.span(".comment-unfurl-subtext",{title:a},(()=>o.text(a))),o.div(".comment-unfurl-media",(function(){return o.div(".comment-unfurl-plugin-icon",(function(){return r.isValidUrlForImage(d(null!=p?p.icon:void 0,(e=>e.url)))&&o.img({src:p.icon.url}),o.span(".comment-unfurl-plugin-name",(()=>o.text(s.fromId(c).name)))})),o.div(".comment-unfurl-button-block",(()=>null!=u?u.map((function(e,i){return e.url?o.a({href:e.url,title:t,rel:"noopener noreferrer",target:"_blank"},(()=>e.text)):o.button(".js-comment-preview-button",{"data-index":i,title:e.text},e.text)})):void 0))}))}))}))}));function d(e,t){return null!=e?t(e):void 0}e.exports=function(){class e extends a{static initClass(){this.prototype.events={"click .js-comment-unfurl":"clickCommentUnfurl","click .js-comment-preview-button":"executeActionCallback"}}constructor(e){super(e),this.render=this.render.bind(this)}initialize({commentUnfurl:e}){return this.commentUnfurl=e,this.retain(this.commentUnfurl)}render(){return this.$el.html(c(this.commentUnfurl)),this}clickCommentUnfurl(e){return n.isFunction(this.commentUnfurl.callback)?(e.preventDefault(),this.commentUnfurl.callback({el:e.currentTarget})):"A"!==e.target.tagName?window.open(this.commentUnfurl.url):void 0}executeActionCallback(e){e.stopPropagation();const t=parseInt(this.$(e.currentTarget).attr("data-index"),10),i=this.commentUnfurl.actions[t];if(l(this.commentUnfurl.idPlugin,{action:"clicked",actionSubject:"button",source:"cardDetailScreen",actionSubjectId:"unfurlActionButton",objectType:"powerUp",objectId:this.commentUnfurl.idPlugin}),null!=i.callback)return e.preventDefault(),i.callback({el:e.currentTarget})}}return e.initClass(),e}()},"./app/scripts/views/templates/comment_edit_controls.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("comment_edit_controls");e.exports=function(){return n.div(".comment-controls.u-clearfix",(function(){return n.input(".nch-button.nch-button--primary.confirm.mod-no-top-bottom-margin.js-save-edit",{type:"submit",value:n.l("save"),tabindex:"2"}),n.a(".js-discard-comment-edits.icon-lg.icon-close.dark-hover.cancel",{href:"#"})})),n.div(".comment-controls-errors.u-clearfix",(function(){return n.div(".js-too-long-warning.hide",(()=>n.p((()=>n.format("your-comment-is-too-long"))))),n.div(".js-is-empty-warning.hide",(()=>n.p((()=>n.format("must-have-at-least-one-character")))))}))}},"./app/scripts/views/templates/comment_options.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("comment_options");e.exports=n.renderable((e=>n.div(".comment-box-options",(function(){return e&&n.a(".comment-box-options-item.js-comment-add-attachment",{href:"#",title:n.l("add-an-attachment-ellipsis")},(()=>n.icon("attachment"))),n.a(".comment-box-options-item.js-comment-mention-member",{href:"#",title:n.l("mention-a-member-ellipsis")},(()=>n.icon("mention"))),n.a(".comment-box-options-item.js-comment-add-emoji",{href:"#",title:n.l("add-emoji-ellipsis")},(()=>n.icon("emoji"))),n.a(".comment-box-options-item.js-comment-add-card",{href:"#",title:n.l("add-card-ellipsis")},(()=>n.icon("card")))}))))},"./app/scripts/views/templates/confirm.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("confirm");e.exports=function(){return n.p((function(){return n.mustacheVar("html")?n.raw(n.mustacheVar("html")):n.text(n.mustacheVar("text"))})),n.input(".js-confirm.full",{type:"submit",class:n.mustacheVar("confirmBtnClass"),value:n.mustacheVar("confirmText"),"data-test-id":n.mustacheVar("confirmBtnTestId")}),n.mustacheBlock("cancelText",(()=>n.input(".js-cancel.full",{type:"submit",value:n.mustacheVar("cancelText")})))}},"./app/scripts/views/templates/date_picker.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("date_picker");e.exports=n.renderable((function({upsellEnabled:e,canChangePowerUps:t,canEnableAdditionalPowerUps:i,customReminderSettings:r,selectedReminderSetting:a}){return n.div(".datepicker-select.u-clearfix",(function(){return n.div(".datepicker-select-date",(()=>n.label(".datepicker-select-label",(function(){return n.format("date"),n.input(".datepicker-select-input.js-dpicker-date-input.js-autofocus",{type:"text",placeholder:n.l("enter-date"),tabindex:101})})))),n.div(".datepicker-select-time",(()=>n.label(".datepicker-select-label",(function(){return n.format("time"),n.input(".datepicker-select-input.js-dpicker-time-input",{type:"text",placeholder:n.l("enter-time"),tabindex:102})}))))})),n.div(".pickers.js-dpicker-cal"),r&&(n.label((()=>n.format("set-reminder"))),n.select(".js-custom-reminder",(()=>(()=>{const e=[];for(const t of Array.from(r)){const i=t.value===a;e.push(n.optionSelected(i,{value:t.value},(()=>n.text(t.text))))}return e})())),n.div(".reminder-clarification",(()=>n.format("reminder-clarification")))),n.div(".datepicker-confirm-btns",(function(){return n.input(".nch-button.nch-button--primary.wide.confirm",{type:"submit",value:n.l("save"),tabindex:103}),n.button(".nch-button.nch-button--danger.remove-date.js-remove-date",{type:"button",tabindex:104},(()=>n.format("remove")))})),n.div(".js-enable-cal.hide",(function(){return n.hr(),i?(n.p((()=>n.a(".quiet-button.mod-with-image.js-enable-calendar-powerup",{href:"#"},(()=>n.icon("power-up","enable-the-calendar-power-up",{class:"quiet-button-icon"}))))),n.p(".u-bottom.quiet",(()=>n.format("you-ll-get-a-calendar-view-of-your-cards-and-an-ical-feed-woo")))):e?n.p(".u-bottom.quiet",(function(){return n.format("upgrade-to-business-class-to-enable-the-calendar-power-up"),n.text(" "),n.format("you-ll-get-a-calendar-view-of-your-cards-and-an-ical-feed-woo")})):void 0})),n.div(".js-cal-enabled.hide",(function(){return n.hr(),n.p(".helper",(function(){return t?n.format("click-the-calendar-button-in-the-board-header-to-open-the-calendar-to-change-calendar-settings-click-power-ups-in-the-board-menu"):n.format("click-the-calendar-button-in-the-board-header-to-open-the-calendar")}))}))}))},"./app/scripts/views/templates/embedly.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("embedly");e.exports=()=>n.div({class:"embed embed-".concat(n.mustacheVar("type")," embed-provider-").concat(n.mustacheVar("provider_name"))},(function(){return n.mustacheBlockInverted("type_photo",(function(){return n.mustacheBlock("requireHttps",(()=>n.raw(n.mustacheVar("htmlHttps")))),n.mustacheBlockInverted("requireHttps",(()=>n.raw(n.mustacheVar("html"))))})),n.mustacheBlock("type_photo",(()=>n.a({href:n.mustacheVar("originalUrl"),target:"_blank"},(()=>n.img({src:n.mustacheVar("url")})))))}))},"./app/scripts/views/templates/entity.js":function(e,t,i){const{makePreviewCachable:n}=i("./app/common/lib/util/preview.ts"),r=i("./app/scripts/views/internal/teacup-with-helpers.js")("entity"),a=i("./app/scripts/views/templates/comment_edit_controls.js"),s=i("./app/scripts/views/templates/comment_options.js"),o=i("./app/scripts/views/attachment/helpers.js");e.exports=r.renderable((function(e,t,i){let l,c,d,u,p,m,h,g,b,f,v,k,y,w,j,x,C,_,O,E;const{type:S,text:T}=e;switch(S){case"text":case"list":case"checklist":case"plugin":case"date":return r.text(T);case"card":return({url:b,nameHtml:f}=e),f?r.span(".js-friendly-links-for-link-card",(()=>r.raw(f))):r.a(".action-card",{href:b},(()=>r.text(T)));case"board":return({url:b}=e),r.a({href:b},(()=>r.text(T)));case"organization":return({url:b}=e),r.a({href:b},T||r.l("an-organization"));case"checkItem":return({nameHtml:f}=e),f?r.span(".js-friendly-links",(()=>r.raw(f))):r.text(T);case"comment":return({textHtml:v}=e),({canEdit:k}=t),({truncateComment:y,extremeTruncation:w}=i),r.div(".comment-container",(function(){const e={"action-comment":!0,"can-edit":k,markeddown:!0,"js-comment":!0,"is-truncated":y,"extreme-truncation":w};return r.div({class:r.classify(e),dir:"auto"},(function(){if(y&&r.div(".action-comment-fade-button.js-expand-comment"),r.div(".current-comment.js-friendly-links.js-open-card",(()=>r.raw(v))),k)return r.div(".comment-box.mod-editing-comment",(function(){return r.textarea(".comment-box-input.js-text",{tabindex:"1"},(()=>r.text(T))),a(),s(!0)}))}))}));case"customField":case"customFieldItem":return r.text(T);case"label":return({color:j}=e),x={"card-label":!0},x[j+"-label"]=!0,C=T||"".concat(j," label (default)"),r.span({class:r.classify(x),title:C},(function(){return T?r.text(T):r.raw("&nbsp;")}));case"attachment":return({link:p,url:b,isTrello:u,id:c,isFriendly:d}=e),p||d?o.isViewerable(b)?r.a(".js-open-attachment-viewer",{href:b,"data-idattachment":c},(()=>r.text(T))):u?r.a(".js-friendly-links",{href:b},(()=>r.text(T))):r.a(".js-friendly-links",{href:b,target:"_blank",rel:"noopener noreferrer"},(()=>r.text(T))):r.span(".attachment-deleted",(()=>r.text(T)));case"attachmentPreview":if(({previewUrlForRes:h,originalUrl:m,id:c}=e),({showCompactAttachmentPreview:_}=i),h){x={"js-open-attachment-viewer":!_,"js-open-card":_,"js-friendly-links":!0};const e={"attachment-image-preview":!0,"mod-compact-image-preview":_};return r.a({class:r.classify(x),href:m,target:"_blank","data-idattachment":c},(()=>r.img({class:r.classify(e),src:n(h)})))}return r.raw("&nbsp;");case"member":return({id:c,avatarUrl:l,username:g}=e),r.span(".inline-member.js-show-mem-menu",{idMember:c},(function(){return l&&(C="".concat(T," (").concat(g,")"),r.img(".inline-member-av",{src:[l,"30.png"].join("/"),alt:C,title:C})),r.span(".u-font-weight-bold",(()=>r.text(T)))}));case"relDate":return({date:O,current:E}=e),r.span(".rel-date",{dt:O,text:T},(()=>r.text(E)))}}))},"./app/scripts/views/templates/filter_cards.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("filter_cards");e.exports=function(){return n.input(".js-input.js-autofocus",{type:"text",attr:"title",value:n.mustacheVar("title"),style:"margin-bottom: 0;"}),n.div(".js-filter-search-results")}},"./app/scripts/views/templates/filter_cards_search_results.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("filter_cards_search_results"),{featureFlagClient:r}=i("./packages/feature-flag-client/index.ts"),a=r.getTrackedVariation("board-header-filtering-experiment",!1);e.exports=function(){if(n.mustacheBlock("showHelper",(()=>n.p(".quiet",{style:"padding: 10px 8px 2px; margin-bottom: 0;"},(()=>n.format("type-to-search-by-term-label-member-or-due-time"))))),n.mustacheBlock("showLabels",(function(){return n.hr(),n.ul({class:"label-list".concat(n.mustacheBlock("limitLabels",(()=>" limited")))},(function(){return n.mustacheBlock("labels",(()=>n.li({class:"label-list-item".concat(n.mustacheBlock("isActive",(()=>" is-active")))},(()=>n.a(".label-list-item-link.js-toggle-label-filter",{href:"#","data-name":n.mustacheVar("color"),"data-idlabel":n.mustacheVar("id")},(function(){return n.div(".label-list-item-link-label",(()=>n.span({class:"card-label mod-square card-label-".concat(n.mustacheVar("color"))}))),n.mustacheBlock("name",(()=>n.span(".label-list-item-link-name",(()=>n.text(n.mustacheVar("name")))))),n.mustacheBlockInverted("name",(()=>n.span(".label-list-item-link-name.mod-quiet",(()=>n.format("color-label-default",{color:n.mustacheVar("defaultColorName")}))))),n.icon("check",{class:"label-list-item-link-icon"})})))))),n.mustacheBlock("limitLabels",(()=>n.li(".label-list-item.js-show-all-labels-elem",(()=>n.a(".label-list-item-link.js-show-all-labels",{href:"#"},(()=>n.span(".label-list-item-link-name.mod-quiet",(()=>n.format("show-all-labels-remaininglabels-hidden",{remainingLabels:n.mustacheVar("remainingLabels")})))))))))}))})),n.mustacheBlock("showMembers",(function(){return n.hr(),n.ul({class:"pop-over-member-list checkable js-mem-list".concat(n.mustacheBlock("limitMembers",(()=>" limited")))},(()=>n.mustacheBlock("members",(()=>n.mustachePartial(i("./app/scripts/views/templates/select_member.js")))))),n.mustacheBlock("limitMembers",(()=>n.ul(".pop-over-member-list",(()=>n.li(".item",(()=>n.a(".name.quiet.js-show-all-members",{href:"#",style:"padding-left: 42px; font-weight: normal; margin-top: 4px;"},(()=>n.format("show-all-members-remainingmembers-hidden",{remainingMembers:n.mustacheVar("remainingMembers")})))))))))})),n.mustacheBlock("showDueTimes",(function(){return n.hr(),n.ul(".pop-over-list.checkable.navigable.inset.normal-weight",(()=>n.mustacheBlock("dueOptions",(()=>n.li({class:"item ".concat(n.mustacheBlock("isActive",(()=>" active")))},(()=>n.a(".js-due-filter",{href:"#",time:n.mustacheVar("time"),style:"padding-left: 40px;"},(function(){return n.text(n.mustacheVar("desc")),n.icon("check")}))))))))})),n.mustacheBlock("showMatchMode",(function(){return n.hr(),n.ul(".pop-over-list.checkable.navigable.inset.normal-weight",(()=>n.mustacheBlock("modes",(()=>n.li({class:"item ".concat(n.mustacheBlock("isActive",(()=>" active")))},(()=>n.a(".js-mode-filter",{href:"#",mode:n.mustacheVar("mode"),style:"padding-left: 40px;"},(function(){return n.text(n.mustacheVar("desc")),n.icon("check")}))))))))})),!a)return n.hr(),n.ul(".pop-over-list.inset.normal-weight",(()=>n.li((()=>n.a({href:"#",class:"js-clear-all".concat(n.mustacheBlockInverted("isFiltering",(()=>" disabled"))),style:"padding-left: 40px;"},(()=>n.format("clear-search")))))))}},"./app/scripts/views/templates/invite_add_name.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("invite_add_name");e.exports=n.renderable((function({email:e,fullName:t,canAddAsObserver:i,modelType:r,isLoading:a,isOrgAdmin:s,wouldBecomeBillableGuest:o,availableLicenseCount:l,error:c,isDesktop:d}){a&&n.div(".spinner.loading"),c&&n.div(".error",(()=>n.text(c)));const u=s&&!d;if(o&&n.div(".card-back-billable-guests-alert.js-billable-guests-alert",{class:n.classify({"as-admin":u,"as-non-admin":!u})}),!a&&!c&&(!o||u)&&!(o&&l<1))return n.p(".quiet",(function(){if("Board"===r)return n.format("click-send-below");if("Organization"===r)return n.format("we dont know that personteam",{email:e});throw new Error("Expected either Board or Organization as modelType; got ".concat(r))})),n.p(".error.hide.js-name-error",(()=>n.format("full name too short"))),n.p(".error.hide.js-name-error-url",(()=>n.format("full name must not contain a url"))),n.form(".js-email-data",(function(){return n.label((()=>n.format("full-name"))),n.input(".js-autofocus.js-full-name",{type:"text",value:t}),n.input(".js-email",{type:"hidden",value:e}),i&&n.span(".check-div.quiet.u-clearfix",(function(){return n.input({type:"checkbox",id:"addAsObserver"}),n.label({for:"addAsObserver"},(()=>n.format("include-this-member-as-a-view-only-observer")))})),n.input(".wide.nch-button.nch-button--primary.js-send-email-invite",{type:"submit",value:n.l("send")})}))}))},"./app/scripts/views/templates/invitee-orientation.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("invitee_orientation");e.exports=n.renderable((function({visibleMembersCount:e,maxVisible:t,firstMemberFullName:i,boardName:r,inviterAvatarUrl:a,inviterFullName:s,inviterUsername:o,inviterInitials:l}){return n.div(".invitee-orientation-message-container.arrow",(function(){return n.a(".js-close-orientation.pop-over-header-close-btn.close-invitee-orientation.icon-sm.icon-close",{href:"#"}),n.h1((()=>n.format("welcome-to-trello-wave"))),n.div((function(){return n.div(".orientation-header",(function(){return n.div(".board-header-facepile.invitee-orientation-facepile.js-invitee-orientation-facepile"),n.div(".orientation-facepile-text",(function(){if(e>0)return n.b((function(){return n.text(i),n.raw("&nbsp;")})),1===e?n.format("is-also-here"):2===e?n.format("one-other-is-here"):n.format("count-others-are-here",{count:e-1})}))})),n.div(".invitee-orientation-text.u-clearfix",(function(){return n.p((()=>n.format("main-message",{boardName:r}))),n.p((()=>n.format("that-s-all")))}))}))})),n.div(".invitee-orientation-avatar-container",(function(){return a?n.img(".invitee-orientation-avatar",{src:[a,"50.png"].join("/"),alt:s,title:"".concat(s," (").concat(o,")")}):n.div(".invitee-orientation-initials-wrapper",(()=>n.span(".invitee-orientation-initials",(()=>n.text(l)))))}))}))},"./app/scripts/views/templates/label.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("label");e.exports=n.renderable((function({color:e,name:t,extraClasses:i}){const r={"card-label":!0};if(e&&(r["card-label-".concat(e)]=!0),i)for(const e of Array.from(i))r[e]=!0;return n.span({class:n.classify(r),title:null!=t?t:"".concat(e," label (default)")},(()=>n.span({class:"label-text"},(function(){return t?n.text(t):n.raw("&nbsp;")}))))}))},"./app/scripts/views/templates/label_edit_component.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("label_edit_component");e.exports=function(){return n.label({for:"labelName"},(()=>n.format("name"))),n.input(".js-autofocus.js-label-name",{id:"labelName",type:"text",name:"name",value:n.mustacheVar("label.name")}),n.label((()=>n.format("select-a-color"))),n.div(".u-clearfix",(()=>n.mustacheBlock("colors",(()=>n.span({class:"card-label mod-edit-label mod-clickable card-label-".concat(n.mustacheVar("color")," palette-color js-palette-color"),"data-color":n.mustacheVar("color")},(()=>n.span({class:"card-label-color-select-icon icon-sm icon-check light ".concat(n.mustacheBlockInverted("selected",(()=>"hide"))," js-palette-select")}))))))),n.div(".edit-labels-no-color-section.u-clearfix",(function(){return n.div(".edit-labels-no-color-section-color",(()=>n.span({class:"card-label mod-edit-label mod-clickable card-label-null palette-color js-palette-color","data-color":null},(()=>n.span({class:"card-label-color-select-icon icon-sm icon-check light ".concat(n.mustacheBlockInverted("noColor",(()=>"hide"))," js-palette-select")}))))),n.div(".edit-labels-no-color-section-text",(function(){return n.p(".u-bottom",(()=>n.format("no-color"))),n.p(".u-bottom.quiet",(()=>n.format("this-wont-show-up-on-the-front-of-cards")))}))})),n.div(".u-clearfix",(function(){return n.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:n.mustacheVar("submitText")}),n.div(".u-float-right.js-accessory-view-holder")}))}},"./app/scripts/views/templates/label_limit_exceeded.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("label_limit_exceeded");e.exports=()=>n.span({class:"error"},(()=>n.format("board-label-limit-exceeded")))},"./app/scripts/views/templates/list.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("list");e.exports=n.renderable((({name:e,subscribed:t,loggedIn:i,editable:r,isTemplate:a})=>n.div(".list.js-list-content",(function(){const s={"list-header":!0,"js-list-header":!0,"u-clearfix":!0,"is-menu-shown":i,"is-subscribe-shown":t};return n.div({class:n.classify(s)},(function(){return n.div(".list-header-target.js-editing-target"),n.h2(".list-header-name-assist.js-list-name-assist",{dir:"auto"},e),n.textarea({class:n.classify({"list-header-name":!0,"mod-list-name":!0,"js-list-name-input":!0}),"aria-label":e,spellcheck:"false",dir:"auto",maxLength:512},e),n.div(".list-header-extras",(function(){const e={"list-header-extras-subscribe":!0,"js-list-subscribed":!0};if(t||(e.hide=!0),n.span({class:n.classify(e)},(()=>n.span(".icon-sm.icon-subscribe.mod-quiet"))),n.span(".list-header-extras-limit-badge.js-list-limit-badge.hide"),i&&!a||i&&a&&r)return n.a(".list-header-extras-menu.dark-hover.js-open-list-menu.icon-sm.icon-overflow-menu-horizontal",{href:"#","aria-label":n.l("list-actions-ellipsis")},(()=>n.div()))})),n.p(".list-header-num-cards.hide.js-num-cards")})),n.div(".card-composer-container.js-card-composer-container",(function(){return n.a(".open-card-composer.js-open-card-composer",{href:"#"},(function(){return n.icon("add"),n.span(".js-add-a-card",(()=>n.format("add-a-card"))),n.span(".js-add-another-card.hide",(()=>n.format("add-another-card")))})),n.div(".js-card-templates-button.card-templates-button-container.dark-background-hover")}))}))))},"./app/scripts/views/templates/list_add.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("list_add");e.exports=n.renderable((function({tooManyTotalLists:e,tooManyOpenLists:t,isFirstList:i}){const r=e||t;return n.form((function(){if(n.a({href:"#",class:n.classify({"open-add-list js-open-add-list":!r,"too-many-lists":r})},(()=>n.span(".placeholder",(function(){return e?n.format("you-have-too-many-lists"):t?n.format("you-have-too-many-open-lists"):(n.icon("add"),i?n.format("add-a-list"):n.format("add-another-list"))})))),!r){const e=n.l("enter-list-title-ellipsis"),t=n.l("add-list");return n.input(".list-name-input",{type:"text",name:"name",placeholder:e,autocomplete:"off",dir:"auto",maxLength:512}),n.div(".list-add-controls.u-clearfix",(function(){return n.input(".nch-button.nch-button--primary.mod-list-add-button.js-save-edit",{type:"submit",value:t}),n.a(".icon-lg.icon-close.dark-hover.js-cancel-edit",{href:"#","aria-label":n.l("cancel-edit-list")})}))}}))}))},"./app/scripts/views/templates/list_bulk_card_move.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("list_bulk_card_move");e.exports=()=>n.form((()=>n.ul(".pop-over-list",(()=>n.mustacheBlock("lists",(()=>n.li((()=>n.a({href:"#",class:"js-select-list highlight-icon ".concat(n.mustacheBlock("current",(()=>" disabled"))),name:n.mustacheVar("id")},(function(){return n.text(n.mustacheVar("name")),n.mustacheBlock("current",(function(){return n.text(" "),n.format("current")}))}))))))))))},"./app/scripts/views/templates/list_copy.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("list_copy");e.exports=n.renderable((({canCopyOpen:e,canCopyTotal:t,name:i})=>n.div((function(){const r=e&&t;return n.label((()=>n.format("name"))),n.textarea(".js-autofocus",{name:"name"},(()=>n.text(i))),n.span(".js-limit-exceeded.error",{class:n.classify({hide:r})},(()=>n.format(e?"total-limit-exceeded":"open-limit-exceeded"))),n.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:n.l("create-list"),disabled:!r})}))))},"./app/scripts/views/templates/list_menu.js":function(e,t,i){const n=i("./node_modules/underscore/underscore.js"),r=i("./app/scripts/views/internal/teacup-with-helpers.js")("list_menu");e.exports=r.renderable((function({editable:e,subscribed:t,canCopyList:i,hasSortableCards:a,pluginActions:s,listLimitsEnabled:o,isTemplate:l}){if(r.ul(".pop-over-list",(function(){if(e&&(r.li((()=>r.a(".js-add-card",{href:"#"},(()=>r.format("add-card-ellipsis"))))),i&&r.li((()=>r.a(".js-copy-list",{href:"#"},(()=>r.format("copy-list-ellipsis"))))),r.li((()=>r.a(".js-move-list",{href:"#"},(()=>r.format("move-list-ellipsis")))))),!l)return r.li((()=>r.a(".highlight-icon.js-list-subscribe",{href:"#"},(()=>r.check(t,"watch")))))})),e)return a&&(r.hr(),r.ul(".pop-over-list",(()=>r.li((()=>r.a(".js-sort-cards",{href:"#"},(()=>r.format("sort-by")))))))),r.div(".js-list-menu-butler-section"),(null!=s?s.length:void 0)>0&&(r.hr(),r.ul(".pop-over-list",(()=>s.map(((e,t)=>r.li((function(){if(n.isFunction(e.callback))return r.a(".plugin-list-action.js-plugin-list-action",{href:"#","data-index":t,title:e.text},(function(){return r.span((()=>r.text(e.text))),r.img({src:e.icon,title:e.name,height:"18px",width:"18px"})}))}))))))),o&&(r.hr(),r.ul(".pop-over-list",(()=>r.li((()=>r.a(".js-set-list-limit",{href:"#"},(()=>r.format("set-list-limit")))))))),r.hr(),r.ul(".pop-over-list",(function(){return r.li((()=>r.a(".js-move-cards",{href:"#"},(()=>r.format("move-all-cards-in-this-list-ellipsis"))))),r.li((()=>r.a(".js-archive-cards",{href:"#"},(()=>r.format("archive-all-cards-in-this-list-ellipsis")))))})),r.hr(),r.ul(".pop-over-list",(()=>r.li((()=>r.a(".js-close-list",{href:"#"},(()=>r.format("archive-this-list")))))))}))},"./app/scripts/views/templates/list_sort.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("list_sort");e.exports=n.renderable((({canSortByDueDate:e,pluginListSorters:t})=>n.ul(".pop-over-list",(function(){if(n.li((()=>n.a(".js-sort-newest-first",{href:"#"},(()=>n.format("sort-newest-first"))))),n.li((()=>n.a(".js-sort-oldest-first",{href:"#"},(()=>n.format("sort-oldest-first"))))),n.li((()=>n.a(".js-sort-by-card-name",{href:"#"},(()=>n.format("sort-by-card-name"))))),e&&n.li((()=>n.a(".js-sort-by-due-date",{href:"#"},(()=>n.format("due-date"))))),(null!=t?t.length:void 0)>0)return n.hr(),t.map(((e,t)=>n.li((()=>n.a(".plugin-list-action.js-plugin-list-sort-action",{"data-index":t,href:"#",title:e.text},(function(){return n.span((()=>n.text(e.text))),null!=e.icon?n.icon(e.icon):null!=e.image?n.img({src:e.image,title:e.name,height:"18px",width:"18px"}):void 0}))))))}))))},"./app/scripts/views/templates/member.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("member");e.exports=n.renderable((function({id:e,avatarUrl:t,viewTitle:i,initials:r,isDeactivated:a,isBoardAdmin:s,isOrganizationAdmin:o,hideBadges:l}){if(t?n.img(".member-avatar",{height:"30",width:"30",src:[t,"30.png"].join("/"),srcset:[[t,"30.png 1x"].join("/"),[t,"50.png 2x"].join("/")].join(", "),alt:i,title:i}):r?n.span(".member-initials",{title:i,"aria-label":i},(()=>n.text(r))):n.div(".member-icon-container",(()=>n.icon("member"))),e&&n.span("#".concat(e,"-avatar")),a||l||(s&&n.span(".member-type.admin",{title:n.l("this-member-is-an-admin-of-this-board"),"aria-label":n.l("this-member-is-an-admin-of-this-board")}),o&&n.span(".member-type.admin",{title:n.l("this-member-is-an-admin-of-this-organization"),"aria-label":n.l("this-member-is-an-admin-of-this-organization")})),!l)return n.span(".member-gold-badge",{title:n.l("this-member-has-trello-gold"),"aria-label":n.l("this-member-has-trello-gold")})}))},"./app/scripts/views/templates/member_avatar.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("member");e.exports=n.renderable((function({avatarUrl:e,viewTitle:t,initials:i,isDeactivated:r,isBoardAdmin:a,isOrganizationAdmin:s}){const o=t;if(e){const t=[e,"30.png"].join("/"),i=[e,"50.png"].join("/");n.img({class:"member-avatar",height:"30",width:"30",src:t,srcset:"".concat(t," 1x, ").concat(i," 2x"),alt:o,title:o})}else i?n.span(".member-initials",{title:o,"aria-label":o},(()=>n.text(i))):n.div(".member-icon-container",(()=>n.icon("member")));return r||(a&&n.span(".member-type.admin",{title:n.l("this-member-is-an-admin-of-this-board")}),s&&n.span(".member-type.admin",{title:n.l("this-member-is-an-admin-of-this-organization")})),n.span(".member-gold-badge",{title:n.l("this-member-has-trello-gold")})}))},"./app/scripts/views/templates/member_large_avatar.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("member_large_avatar");e.exports=n.renderable((function({avatarUrl:e,viewTitle:t,avatarSource:i}){const r=t;let a="";return"atlassianAccount"===i&&(a="pop-over-atlassian-account-avatar"),n.img({src:[e,"original.png"].join("/"),class:a,alt:r,title:r})}))},"./app/scripts/views/templates/member_on_board_menu.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_board_menu"),{featureFlagClient:r}=i("./packages/feature-flag-client/index.ts"),{dontUpsell:a}=i("./packages/browser/index.ts");e.exports=function(){return n.li((function(){if(n.mustacheVar("canInviteMemberToTeam")){const e=n.mustacheVar("isFreeTeam"),t=a()?"/business-class":n.mustacheVar("orgBillingUrl");e?n.div({class:"js-add-to-team pop-over-list-item",role:"button",tabIndex:"0"},(function(){return n.format("add-to-team-as-admin"),r.get("btg.upgrade-prompt-audit",!1)&&!a()?n.div({class:"for-more-roles-react-component"}):n.small(".add-to-team-upgrade-bc",(function(){return a()?n.format("for-more-roles-non-cta",{link:t}):n.format("for-more-roles",{link:t})}))})):n.a({class:"js-add-to-team",href:"#"},(()=>n.format("add-to-team")))}return n.mustacheBlock("type",(()=>n.a({class:n.mustacheBlock("canChangeRole",(()=>"js-change-role"))+n.mustacheBlockInverted("canChangeRole",(()=>"disabled")),href:"#"},(()=>n.format("change-permissions-ellipsis-type",{type:n.mustacheVar("type")}))))),n.mustacheBlockInverted("type",(()=>n.a({class:n.mustacheBlock("canChangeRole",(()=>"js-change-role"))+n.mustacheBlockInverted("canChangeRole",(()=>"disabled")),href:"#"},(()=>n.format("change-permissions-ellipsis")))))})),n.mustacheVar("isTemplate")||n.li((()=>n.a({class:"js-view-member-activity",href:n.mustacheVar("boardProfileUrl")},(()=>n.format("view-member-s-board-activity"))))),n.mustacheBlock("canRemove",(()=>n.li((()=>n.a(".js-remove-member",(function(){return n.mustacheBlock("isMe",(()=>n.format("leave-board-ellipsis"))),n.mustacheBlockInverted("isMe",(()=>n.format("remove-from-board-ellipsis")))})))))),n.mustacheBlockInverted("canRemove",(()=>n.mustacheBlock("isMe",(()=>n.mustacheBlock("isMoreThanOneMember",(()=>n.mustacheBlock("memberIsAdmin",(()=>n.li((function(){return n.hr(),n.p(".quiet.u-bottom",(()=>n.format("you-can-t-leave-because-you-are-the-only-admin-to-make-another-user-an-admin-click-their-avatar-select-change-permissions-ellipsis-and-select-admin")))})))))))))),n.mustacheBlock("isGhost",(()=>n.li((function(){return n.hr(),n.p(".quiet.u-bottom",(()=>n.format("this-user-will-be-able-to-access-this-board-once-they-sign-up-with-trello-and-confirm-their-email-address")))}))))}},"./app/scripts/views/templates/member_on_card.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_card"),r=i("./app/scripts/views/templates/member.js");e.exports=n.renderable((({avatarUrl:e,fullName:t,id:i,initials:a,isDeactivated:s,isBoardAdmin:o,isOrganizationAdmin:l,isVirtual:c,username:d,viewTitle:u,activityBlocked:p})=>n.div(".member.js-member-on-card-menu",{class:n.classify({"member-deactivated":s||p,"member-virtual":c,"long-initials":(null!=a?a.length:void 0)>2}),"data-idmem":i},(()=>r({avatarUrl:e,fullName:t,initials:a,isDeactivated:s,isBoardAdmin:o,isOrganizationAdmin:l,username:d,viewTitle:u})))))},"./app/scripts/views/templates/member_on_card_menu.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_card_menu");e.exports=()=>n.mustacheBlock("__ed",(()=>n.li((()=>n.a(".js-remove-member",(()=>n.format("remove-from-card")))))))},"./app/scripts/views/templates/mini_profile.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("mini_profile");e.exports=n.renderable((({avatarUrl:e,viewTitle:t,fullName:i,username:r,initials:a,bio:s,email:o,showEmail:l,isMe:c,isDeactivated:d,activityBlocked:u})=>n.div(".mini-profile",(function(){return n.div(".mini-profile-member.member-large",{class:n.classify({"member-deactivated":d||u})},(function(){e&&n.a(".av-btn.js-view-large",{href:"#"});const i=t;return e?n.img(".member-avatar",{height:"50",width:"50",src:[e,"50.png"].join("/"),alt:i,title:i}):a?n.span(".member-initials",{title:i},(()=>n.text(a))):n.div(".member-icon-container",(()=>n.icon("member")))})),n.div(".mini-profile-info",(function(){if(n.h3(".mini-profile-info-title",(()=>n.a(".mini-profile-info-title-link.js-profile",{href:"/".concat(r)},(()=>n.text(i))))),n.p(".quiet.u-bottom",(()=>n.format("at-username",{username:r}))),s&&n.p(".mini-profile-info-bio.quiet",(()=>n.text(s))),l&&n.p(".u-bottom.quiet",(()=>n.text(o))),c)return n.p(".u-bottom",(function(){const e="/".concat(r,"/profile");return n.a(".quiet",{href:e},(()=>n.format("edit-profile-info")))}))}))}))))},"./app/scripts/views/templates/move_card_controls.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("move_card_controls"),{SelectTestIds:r}=i("./packages/test-ids/index.ts");e.exports=function(){return n.mustacheBlockInverted("hideBoard",(function(){return n.div(".form-grid",(function(){return n.div(".form-grid-child.form-grid-child-full",{class:n.classify({hide:!n.mustacheVar("restrictToCurrentBoard")})},(function(){return n.label((()=>n.format("board"))),n.p((()=>n.mustacheBlock("organizations",(()=>n.mustacheBlock("boards",(()=>n.text(n.mustacheVar("name"))))))))})),n.div(".button-link.setting.form-grid-child.form-grid-child-full",{class:n.classify({hide:n.mustacheVar("restrictToCurrentBoard")})},(function(){return n.span(".label",(()=>n.format("board"))),n.span(".value.js-board-value"),n.label((()=>n.format("board"))),n.select(".js-select-board",{"data-test-id":r.MoveBoardSelect},(()=>n.mustacheBlock("organizations",(()=>n.optgroup({label:n.mustacheVar("displayName")},(()=>n.mustacheBlock("boards",(()=>n.optionSelected(n.mustacheVar("selected"),{value:n.mustacheVar("id")},(function(){return n.text(n.mustacheVar("name")),n.mustacheBlock("selected",(function(){return n.text(" "),n.format("current")}))}))))))))))}))})),n.mustacheBlock("hasEnterprise",(()=>n.mustacheBlock("enterpriseName",(function(){return n.mustacheBlock("isMove",(()=>n.p(".quiet",(()=>n.format("card-can-only-be-moved-to-teams-within-org",{enterpriseName:n.mustacheVar("enterpriseName")}))))),n.mustacheBlock("isCopy",(()=>n.p(".quiet",(()=>n.format("card-can-only-be-copied-to-teams-within-org",{enterpriseName:n.mustacheVar("enterpriseName")})))))}))))})),n.div(".form-grid",(function(){return n.div(".button-link.setting.form-grid-child.form-grid-child-threequarters",(function(){return n.span(".label",(()=>n.format("list"))),n.span(".value.js-list-value"),n.label((()=>n.format("list"))),n.select(".js-select-list")})),n.div(".button-link.setting.form-grid-child",(function(){return n.span(".label",(()=>n.format("position"))),n.span(".value.js-pos-value"),n.label((()=>n.format("position"))),n.select(".js-select-position")}))}))}},"./app/scripts/views/templates/org_create.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("org_create");e.exports=function(){return n.mustacheBlock("freeTeamLimitExceeded",(function(){return n.mustacheVar("dontUpsell")?n.p((()=>n.format("your-org-is-out-of-teams-desktop",{domainName:n.mustacheVar("emailDomain")}))):(n.p((()=>n.format("your-org-is-out-of-teams",{domainName:n.mustacheVar("emailDomain")}))),n.a({class:"button full js-enterprise-learn-more",href:"/enterprise?utm_source=trello-product&utm_medium=inapp&utm_campaign=P:trello|O:trello|F:awareness|C:ptour|I:trello-enterprise-in-product|E:cloud|&app_source=exceeded_message_popover",target:"_blank"},(()=>n.format("enterprise-learn-more"))))})),n.form({class:n.classify({hide:n.mustacheVar("freeTeamLimitExceeded")})},(function(){return n.p(".error",{style:"display:none"}),n.label({for:"org-display-name"},(()=>n.format("name"))),n.input(".js-autofocus.js-display-name",{type:"text",name:"displayName",id:"org-display-name",value:n.mustacheVar("displayName"),dir:"auto",maxLength:100}),n.div(".js-team-type-select.create-org-team-type-select"),n.mustacheVar("teamVerticalSelectionEnabled")||(n.label({for:"org-desc"},(()=>n.format("description-optional"))),n.textarea({id:"org-desc",name:"desc",dir:"auto"},(()=>n.text(n.mustacheVar("desc"))))),n.mustacheVar("boardToAddToOrg")&&n.mustacheVar("memberCount")>1&&n.div(".check-div",(function(){return n.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),n.label({for:"addMembers",class:"create-team-add-members"},(()=>n.format("add-the-members-of-this-board-to-the-team")))})),n.input(".nch-button.nch-button--primary.wide.js-save",{type:"submit",value:n.l("create")})})),n.mustacheBlockInverted("freeTeamLimitExceeded",(function(){if(n.hr(),n.mustacheVar("isPrivateTemplate")&&n.p(".create-org-template-alert-notice",(()=>n.format("moving-a-template"))),n.p(".quiet",(()=>n.format("a-team-is-a-group-of-boards-and-people"))),!n.mustacheVar("dontUpsell"))return n.p(".quiet.u-bottom",(function(){return n.format("business-class-gives-your-organization-more"),n.text(" "),n.a(".js-business-class",{href:"/business-class",target:"_blank"},(()=>n.format("learn-more")))}))}))}},"./app/scripts/views/templates/org_create_enterprise.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("org_create");e.exports=function(){return n.form((function(){return n.p(".error",{style:"display:none"}),n.label({for:"org-display-name"},(()=>n.format("name"))),n.input(".js-autofocus.js-display-name",{type:"text",name:"displayName",id:"org-display-name",value:n.mustacheVar("displayName"),dir:"auto",maxLength:100}),n.div(".js-team-type-select"),n.div((function(){return 1===n.mustacheVar("enterprises").length?(n.input({type:"hidden",name:"enterprise",value:n.mustacheVar("enterprises").first().id}),n.label((()=>n.text("Enterprise"))),n.p((()=>n.text(n.mustacheVar("enterprises").first().get("displayName"))))):(n.label({for:"ent-select"},(()=>n.text("Enterprise"))),n.select({id:"ent-select",name:"enterprise"},(()=>n.mustacheVar("enterprises").forEach((e=>n.option({value:e.id},(()=>n.text(e.get("displayName")))))))))})),n.mustacheVar("boardToAddToOrg")&&n.mustacheVar("memberCount")>1&&n.div(".check-div",(function(){return n.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),n.label({for:"addMembers",class:"create-team-add-members"},(()=>n.format("add-the-members-of-this-board-to-the-team")))})),n.input(".nch-button.nch-button--primary.wide.js-save",{type:"submit",value:n.l("create")})})),n.hr(),n.p(".quiet.u-bottom",(()=>n.format("a-team-is-a-group-of-boards-and-people-owned")))}},"./app/scripts/views/templates/popover_add_list.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_add_list");e.exports=n.renderable((function({tooManyTotalLists:e,tooManyOpenLists:t}){if(e)n.p((()=>n.format("you-have-too-many-lists-on-this-board")));else{if(!t)return n.form((function(){return n.div(".form-grid",(function(){return n.div(".form-grid-child.form-grid-child-threequarters",(function(){return n.label({for:"list-name"},(()=>n.format("name"))),n.input(".js-list-name.js-autofocus",{type:"text",id:"list-name",value:n.l("default-list-name"),style:"margin-bottom: 0;"})})),n.div(".form-grid-child",(()=>n.div(".button-link.setting",{style:"margin-top: 4px;"},(function(){return n.span(".label",(()=>n.format("position"))),n.span(".value.js-pos-value"),n.label((()=>n.format("position"))),n.select(".js-select-list-pos")}))))})),n.input(".nch-button.nch-button--primary.wide.js-add-list",{type:"submit",value:n.l("add")})}));n.p((()=>n.format("you-have-too-many-open-lists-on-this-board")))}}))},"./app/scripts/views/templates/popover_add_to_team.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_add_to_team");e.exports=n.renderable((function({teamType:e}){return n.p(".u-text-align-center",{style:"padding: 3px 0"},(()=>n.format("add to team-disclaimer",{teamType:e}))),n.button(".button-link.primary.u-width-100.js-add-to-team",(()=>n.format("add to team-confirm")))}))},"./app/scripts/views/templates/popover_auto_mentioner.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_auto_mentioner");e.exports=function(){return n.mustacheBlock("button",(()=>n.input(".js-filter-mentionables.js-autofocus",{type:"text",placeholder:n.l("search-members-ellipsis")}))),n.p(".quiet.js-empty-list.hide",{style:"padding: 8px 8px 0;"},(()=>n.format("no-matching-members"))),n.ul(".pop-over-member-list.js-available-members")}},"./app/scripts/views/templates/popover_board_header_all_members.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_board_header_all_members");e.exports=n.renderable((function(e,t){const i=[{key:"members",jsClass:"js-list-members"},{key:"team-members",jsClass:"js-list-team-members"},{key:"recently-joined",jsClass:"js-list-recently-joined-members"},{key:"invited",jsClass:"js-list-invited-members"},{key:"guests",jsClass:"js-list-guests"},{key:"observers",jsClass:"js-list-observers"},{key:"deactivated",jsClass:"js-deactivated-members"}];return n.div(".board-header-popover.js-all-members",(function(){return n.div(".org-members-actions-search"),n.div(".board-members-search-container",(()=>n.input(".board-members-search.js-search-board-member.js-autofocus.js-heading",{type:"text",placeholder:n.l("search-board-members")})))})),n.div(".board-header-popover.js-all-members",(()=>(()=>{const t=[];for(const{key:r,jsClass:a}of Array.from(i))t.push(n.div(".board-menu-member-section.".concat(a),(function(){return n.div(".board-menu-member-section-header.js-heading",(()=>n.format(r))),n.div(".u-clearfix.js-list",{class:n.classify({"js-list-draggable-board-members":e.canAssign})})})));return t})())),n.div(".js-invite-no-results.hide",(()=>n.p(".board-member-no-results.empty",(function(){return t?n.format("no-results"):(n.format("not-a-member"),e.showInviteLink?n.a(".invite-to-board-link.js-invite-to-board-link",{href:"#",target:"_blank"},(()=>n.format("invite-to-board"))):void 0)}))))}))},"./app/scripts/views/templates/popover_board_header_org_menu.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_board_header_org_menu");e.exports=n.renderable((({blockTeamlessBoardsEnabled:e,canChangeOrg:t,setOrgNull:i,name:r,products:a,isOrgMember:s,upsellEnabled:o,upgradePathAuditEnabled:l})=>n.ul(".pop-over-list",(function(){if(t&&(e?n.li((()=>n.a(".js-change-org",{href:"#"},(function(){n.format("change-organization-ellipsis")})))):n.li((()=>n.a(".js-change-org",{href:"#"},(function(){if(i&&n.format("remove-from-organization"),!i)return n.format("change-organization-ellipsis")}))))),n.li((()=>n.a(".js-view-org",{href:"/".concat(r)},(()=>n.format("view-organization-page"))))),!a.length&&s&&o)return n.li(".divide",(()=>l?n.div({id:"upgrade-path-react-component"}):n.a(".js-upgrade-to-bc",{href:"/".concat(r,"/billing")},(()=>n.format("upgrade-to-business-class")))))}))))},"./app/scripts/views/templates/popover_change_board_org.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_change_board_org"),{BoardHeaderTestIds:r}=i("./packages/test-ids/index.ts");e.exports=n.renderable((({orgs:e,allowsSelfJoin:t,hasOrg:i,idOrganization:a,isMemberOfBoardOrg:s,isPrivate:o,isDesktop:l,isTemplate:c,addToTeam:d,hasEnterprise:u,enterpriseName:p,showPrivateBoardsOptionForEntBoards:m,blockTeamlessBoardsEnabled:h})=>n.form((function(){return n.label({"data-test-id":r.ChangeTeamSelectLabel},(function(){return c?n.format("this-template-is-part-of"):n.format("this-board-is-part-of")})),n.select(".js-org",(function(){return h||u&&!m?h&&a&&!s&&n.optionSelected(!0,{value:a},(()=>n.format("private-workspace"))):n.optionSelected(!e,{value:""},(()=>n.format("personal-boards-no-team"))),Array.from(e).map((e=>n.optionSelected(e.select,{value:e.id},(()=>n.text(e.displayName)))))})),u&&!m&&n.div(".quiet",(()=>n.format("board-can-only-be-moved-to-teams-within-org",{enterpriseName:p}))),n.div(".template-alert-notice.js-template-alert",(()=>n.format("moving-a-template"))),n.div(".spinner.loading.js-loading.hide"),n.div(".js-loaded.hide",(function(){return n.div(".js-billable-guests-warning.move-board-to-org.hide"),n.div(".js-permissions.hide",(function(){if(o&&n.div(".check-div.js-check-div",(function(){return n.input(".js-make-org-visible",{type:"checkbox",checked:!i,id:"orgVisible"}),n.label({for:"orgVisible"},(()=>n.format("make-board-visible-to-organization")))})),!t&&!c)return n.div(".check-div.js-check-div",(function(){return n.input(".js-make-org-joinable",{type:"checkbox",checked:!0,id:"orgJoinable"}),n.label({for:"orgJoinable"},(()=>n.format("allow-any-org-member-to-join-this-board")))}))})),n.div(".board-limits-upgrade-ad.js-board-limits-upgrade-ad.hide",(()=>n.p((function(){return l?n.format("board-cant-be-moved-because-of-board-limits-desktop"):n.format("board-cant-be-moved-because-of-board-limits")})))),n.input(".js-submit.wide.nch-button.nch-button--primary.disabled",{type:"submit",value:d?n.l("add"):n.l("change")}),n.a({href:"#",class:"js-new-org right-of-button-link"},(()=>n.format("create-team")))}))}))))},"./app/scripts/views/templates/popover_change_labels.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_change_labels");e.exports=function(){return n.input(".js-autofocus.js-label-search",{type:"text",placeholder:n.l("search-labels-ellipsis"),value:n.mustacheVar("searchInit"),autocomplete:"off"}),n.div(".pop-over-section.js-suggestions",(function(){n.h4((function(){return n.icon("sparkle"),n.format("suggested")})),n.ul(".edit-labels-pop-over.js-suggested-labels-list",(function(){}))})),n.div(".pop-over-section",(function(){return n.h4((()=>n.format("labels"))),n.ul(".edit-labels-pop-over.js-labels-list"),n.mustacheBlock("__ed",(()=>n.div((function(){return n.button(".button.full.js-add-label",(()=>n.format("create-a-new-label"))),n.button(".button.full.hide.js-show-more",(()=>n.format("show-more-labels"))),n.hr(),n.button(".button.full.js-toggle-color-blind-mode",(function(){return n.mustacheBlock("isColorBlindEnabled",(()=>n.format("disable-color-blind-friendly-mode-no-punc"))),n.mustacheBlockInverted("isColorBlindEnabled",(()=>n.format("enable-color-blind-friendly-mode-no-punc")))}))}))))}))}},"./app/scripts/views/templates/popover_change_roles.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_change_roles");e.exports=function(){return n.ul(".pop-over-list",(function(){return n.li((()=>n.a({class:n.mustacheBlock("canMakeAdmin",(()=>"js-make-admin highlight-icon"))+n.mustacheBlockInverted("canMakeAdmin",(()=>" disabled"))},(function(){return n.check(n.mustacheVar("memberIsAdmin"),"admin"),n.span(".sub-name",(()=>n.text(n.mustacheVar("roleText_admin"))))})))),n.li((()=>n.a({class:n.mustacheBlock("canMakeMember",(()=>"highlight-icon js-make-member "))+n.mustacheBlockInverted("canMakeMember",(()=>" disabled"))},(function(){return n.check(n.mustacheVar("memberIsNormal"),"normal"),n.span(".sub-name",(()=>n.text(n.mustacheVar("roleText_normal"))))})))),n.mustacheBlock("showObserver",(()=>n.li((()=>n.a({class:n.mustacheBlock("canMakeObserver",(()=>"highlight-icon js-make-observer "))+n.mustacheBlockInverted("canMakeObserver",(()=>" disabled"))},(function(){return n.format("observer"),n.icon("business-class"),n.mustacheBlock("memberIsObserver",(()=>n.icon("check"))),n.span(".sub-name",(()=>n.text(n.mustacheVar("roleText_observer"))))}))))))})),n.mustacheBlockInverted("isMoreThanOneAdmin",(()=>n.mustacheBlock("memberIsAdmin",(function(){return n.hr(),n.p(".quiet.u-bottom",(()=>n.format("you-can-t-change-roles-because-there-must-be-at-least-one-admin")))}))))}},"./app/scripts/views/templates/popover_confirmation_public_boards.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_confirmation_public_boards");e.exports=n.renderable((({isTemplate:e})=>n.div(".public-board-confirmation-popover",(function(){return n.div(".public-board-confirmation-popover-title",(function(){return e?(n.span((()=>n.format("public-template-confirmation-description"))),n.button(".js-submit.wide.nch-button.nch-button--primary.full.make-public-confirmation-button",(()=>n.format("public-template-confirm")))):(n.span((()=>n.format("public-board-confirmation-description"))),n.button(".js-submit.wide.nch-button.nch-button--primary.full.make-public-confirmation-button",(()=>n.format("confirm"))))})),n.hr(),n.div(".public-board-confirmation-popover-invitation-link",(()=>n.p((function(){return n.format("looking-for-invite-link"),n.a(".js-action-link.looking-for-invite-link",{href:"#",target:"_blank"},(function(){return e?n.format("invite-to-template-link"):n.format("invite-to-board-link")})),n.format("option")}))))}))))},"./app/scripts/views/templates/popover_emoji_completer.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_emoji_completer");e.exports=n.renderable((function({input:e,button:t,upsellEnabled:i}){return t&&n.input(".js-filter-emoji.js-autofocus",{type:"text",placeholder:n.l("search-for-emoji-ellipsis")}),n.div(".js-results.input-emoji-results",(function(){if(n.ul(".pop-over-emoji-list.js-available-emoji"),i)return n.hr(),n.ul(".pop-over-list",(()=>n.li((()=>n.a(".js-upload-emoji",{href:"#","data-emojiname":""},(()=>n.format("upload-emoji")))))))})),n.div(".js-no-results.hide.input-emoji-no-results",(function(){if(i)return n.p(".u-bottom.js-no-matching-emoji-helper"),n.a(".nch-button.nch-button--primary.nch-button--fullwidth.js-upload-emoji.my-4",{href:"#","data-emojiname":""})}))}))},"./app/scripts/views/templates/popover_emoji_uploader.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_emoji_uploader");e.exports=function(){return n.mustacheBlockInverted("canUpload",(function(){return n.div(".warning",(function(){return n.mustacheBlockInverted("hasGold",(()=>n.p((()=>n.format("you-can-upload-custom-emoji-with-trello-gold-learn-more-about-trello-gold"))))),n.mustacheBlockInverted("hasBCGold",(()=>n.p(".u-bottom",(()=>n.format("you-can-get-custom-emoji-for-your-entire-organization-with-business-class-learn-more-about-business-class")))))})),n.hr()})),n.form({action:"/1/member/".concat(n.mustacheVar("id"),"/customEmoji"),method:"post",enctype:"multipart/form-data"},(function(){return n.input({type:"hidden",name:"token",value:""}),n.input({type:"hidden",name:"format",value:"http"}),n.label({for:"emojiImage"},(()=>n.format("upload-image"))),n.input(".js-upload-emoji-file.upload-emoji",{id:"emojiImage",type:"file",name:"file",tabindex:"-1",accept:"image/*"}),n.label({for:"emojiName"},(()=>n.format("emoji-name"))),n.input(".js-emoji-name",{id:"emojiName",type:"text",name:"name",value:n.mustacheVar("emojiName")}),n.p(".quiet",(()=>n.format("the-name-will-default-to-the-name-of-the-uploaded-file-you-can-change-it-here-though"))),n.p(".warning.hide.js-invalid-name",(()=>n.format("the-emoji-name-can-only-contain-letters-numbers-and-underscores"))),n.div(".js-emoji-preview",{style:"margin-bottom: 12px;"},(function(){return n.p({style:"margin-bottom: 4px;"},(()=>n.strong((()=>n.format("preview"))))),n.span(".js-emoji-preview-name",(()=>n.text(n.mustacheVar("emojiName")))),n.text("  "),n.img(".js-emoji-preview.emoji")})),n.input(".nch-button.nch-button--primary.wide.js-upload-emoji",{type:"submit",value:n.l("create-custom-emoji")}),n.div(".error.hide",(()=>n.format("upload-failed")))})),n.mustacheBlock("canUpload",(()=>n.mustacheBlock("showTeamUpsell",(function(){return n.hr(),n.p(".u-bottom",(()=>n.format("you-can-also-get-custom-emoji-for-your-entire-organization-with-business-class-learn-more-about-business-class")))}))))}},"./app/scripts/views/templates/popover_filter_pos_results.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_filter_pos_results");e.exports=()=>n.ul(".pop-over-list.navigable.normal-weight.js-pos-results",(function(){return[["js-select-pos-keyword",n.mustacheVar("keywordList")],["js-select-pos-pos",n.mustacheVar("indexList")],["js-select-pos-list",n.mustacheVar("listList")]].forEach((function(...e){const[t,i]=Array.from(e[0]);return i.forEach((e=>n.li((()=>n.a({href:"#",name:e.value,class:t},(()=>n.format("position-in-list",{index:e.indexString,listName:e.listName})))))))}))}))},"./app/scripts/views/templates/popover_helper_new_board_add_org.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_helper_new_board_add_org");e.exports=function(){return n.p((()=>n.format("an-organization-is-a-collection-of-members-and-boards-they-make-sharing-and-working-within-a-group-even-easier"))),n.a(".button.js-create-org",{href:"#"},(()=>n.format("create-an-organization")))}},"./app/scripts/views/templates/popover_limit_exceeded.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_limit_exceeded");e.exports=n.renderable((e=>n.div(".error.js-limit-exceeded",{style:"margin: 12px 0 6px;"},(function(){return"perCard"===e?n.format("attachments-per-card-exceeded"):"perBoard"===e?n.format("attachments-per-board-exceeded"):void 0}))))},"./app/scripts/views/templates/popover_member_searcher.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_member_searcher");e.exports=function(){return n.mustacheBlock("showSearch",(()=>n.input(".js-filter-members.js-autofocus",{type:"text",placeholder:n.l("search-members-ellipsis")}))),n.ul(".pop-over-member-list.checkable.js-members-list")}},"./app/scripts/views/templates/popover_move_card.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_move_card");e.exports=function(){const e=n.mustacheVar("suggestions");return e.length>0&&n.div(".pop-over-section.js-suggestions",(function(){n.h4((function(){return n.icon("sparkle"),n.format("suggested")}));for(const t of Array.from(e))n.a(".button-link.js-suggested-move",{class:n.classify({"flip-icon":"left"===t.direction}),"data-id":t.id,"data-position":t.position,href:"#"},(function(){return n.icon("move"),n.text(t.name)}))})),n.div(".pop-over-section",(function(){return n.h4((()=>n.format("select-destination"))),n.mustachePartial(i("./app/scripts/views/templates/move_card_controls.js")),n.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:n.l("move")})}))}},"./app/scripts/views/templates/popover_move_list.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_move_list");e.exports=n.renderable((function({organizations:e,hasEnterprise:t,enterpriseName:i,restrictToCurrentBoard:r}){return n.div(".form-grid",(function(){return n.div(".form-grid-child.form-grid-child-full",{class:n.classify({hide:!r})},(function(){return n.label((()=>n.format("board"))),n.p((()=>n.text(e[0].boards[0].name)))})),n.div(".button-link.setting.form-grid-child.form-grid-child-full",{class:n.classify({hide:r})},(function(){return n.span(".label",(()=>n.format("board"))),n.span(".value.js-board-value"),n.label((()=>n.format("board"))),n.select(".js-select-board",(()=>Array.from(e).map((e=>n.optgroup({label:e.displayName},(()=>Array.from(e.boards).map((e=>n.optionSelected(e.selected,{value:e.id},(function(){if(n.text(e.name),e.selected)return n.text(" "),n.format("current")}))))))))))}))})),t&&i&&n.p(".quiet",(()=>n.format("list-can-only-be-moved-to-teams-within-org",{enterpriseName:i}))),n.div(".form-grid",(()=>n.div(".button-link.setting.form-grid-child.form-grid-child-full",(function(){return n.span(".label",(()=>n.format("position"))),n.span(".value.js-pos-value"),n.label((()=>n.format("position"))),n.select(".js-select-list-pos")})))),n.input(".nch-button.nch-button--primary.wide.js-commit-position",{type:"submit",value:n.l("move")}),n.p((()=>n.span(".error.hide.js-list-limit-exceeded",(()=>n.format("too many lists")))))}))},"./app/scripts/views/templates/popover_reopen_board.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_reopen_board");e.exports=n.renderable((function(){return n.div(".js-billable-guests-alert"),n.input(".nch-button.nch-button--primary.full.js-confirm-reopen",{type:"submit",value:n.l("confirm")})}))},"./app/scripts/views/templates/popover_select_members.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_select_members");e.exports=n.renderable((function({canInviteMembers:e,includeOrgMembers:t}){const i=function(e){return n.h4((()=>n.format(e))),n.div(".js-loading",(()=>n.p(".empty",{style:"padding: 24px 6px"},(()=>n.format("loading"))))),n.div(".js-no-results.hide",(()=>n.p(".empty",{style:"padding: 24px 6px"},(()=>n.format("no-results"))))),n.ul(".pop-over-member-list.checkable.u-clearfix.js-mem-list")};return n.input(".js-search-mem.js-autofocus",{type:"text",placeholder:n.l("search-members")}),n.div(".pop-over-section.js-suggestions",(function(){n.h4((function(){return n.icon("sparkle"),n.format("suggested")})),n.ul(".pop-over-member-list.checkable.u-clearfix.js-mem-list")})),n.div(".pop-over-section.js-board-members",(()=>i("board-members"))),t&&(n.div(".pop-over-section.js-org-members",(()=>i("team-members"))),n.div(".js-show-org-members",(()=>n.a(".subtle.button.full",{href:"#",style:"margin-top: 8px;"},(()=>n.format("show-team-members")))))),n.div(".js-invite-no-results.hide",(()=>n.p(".empty",{style:"padding: 24px 6px"},(function(){return e?n.l("not-a-member"):n.l("no-results")})))),n.div(".js-invite-results.hide"),n.div(".js-invite-error.hide",(()=>n.p(".error",{style:"margin: 16px 8px 6px;"})))}))},"./app/scripts/views/templates/popover_selector_menu.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_selector_menu");e.exports=n.renderable((({isTemplate:e})=>n.ul(".pop-over-list",(function(){return e||n.li((()=>n.a(".js-mem-selector",{href:"#"},(()=>n.format("members-ellipsis"))))),n.li((()=>n.a(".js-label-selector",{href:"#"},(()=>n.format("labels-ellipsis"))))),n.li((()=>n.a(".js-pos-selector",{href:"#"},(()=>n.format("position-ellipsis")))))}))))},"./app/scripts/views/templates/popover_set_list_limit.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_set_list_limit");e.exports=n.renderable((({limit:e})=>n.div((function(){return n.label((function(){return n.format("maximum-cards"),n.input(".set-list-limit.js-autofocus.js-list-limit-input",{name:"list-limit",min:0,max:5e3,placeholder:n.l("no-limit-set"),type:"number",value:e})})),n.p(".quiet",(()=>n.format("highlight-this-list-if-the-number-of-cards-in-it-passes-this-limit"))),n.div(".set-list-limit-buttons",(function(){return n.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:n.l("save")}),n.button(".nch-button.nch-button--danger.js-remove-limit",{type:"button"},(()=>n.format("remove")))}))}))))},"./app/scripts/views/templates/popover_trello_completer.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("popover_trello_completer");e.exports=n.renderable((function(){return n.label((function(){return n.format("card-or-board-to-add"),n.input(".js-search.js-autofocus",{type:"text",placeholder:n.l("search-for-a-card-or-board-ellipsis")})})),n.div(".js-loading",(()=>n.span(".loading.spinner"))),n.div(".pop-over-section.js-card-results.hide",(function(){return n.h4(".pop-over-section-heading",(()=>n.format("cards"))),n.ul(".pop-over-list.navigable.js-card-list"),n.div(".empty.js-no-card-results.hide",{style:"padding: 24px 6px"},(()=>n.p(".u-bottom",(()=>n.format("no-results")))))})),n.div(".pop-over-section.js-board-results.hide",(function(){return n.h4(".pop-over-section-heading",(()=>n.format("boards"))),n.ul(".pop-over-list.navigable.js-board-list"),n.div(".empty.js-no-board-results.hide",{style:"padding: 24px 6px"},(()=>n.p(".u-bottom",(()=>n.format("no-results")))))}))}))},"./app/scripts/views/templates/power_ups_calendar_prefs.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("power_ups_calendar_prefs");e.exports=n.renderable((function({isEnabled:e,isGenerated:t,url:i,canChange:r}){return n.p((()=>n.format("sync-this-trello-boards-calendar-with-your-personal-calendar"))),e?(n.hr(),n.strong((()=>n.format("icalendar-feed"))),n.div(".icalendar-url",(function(){return n.input(".full.js-calendar-feed-url",{type:"text",value:t?i:n.l("generating")}),n.a(".button.js-regen-calendar-url",{href:"#",class:n.classify({disabled:!t})},(()=>n.span(".icon-sm.icon-refresh.dark-hover")))})),n.div(".u-text-align-center",(()=>n.a(".js-select.js-calendar-pref-feed",{href:"#",class:n.classify({disabled:!r}),name:"disabled"},(()=>n.span(".name",(()=>n.format("disable-sync")))))))):n.div(".u-text-align-center",(()=>n.a(".js-select.js-calendar-pref-feed",{href:"#",class:n.classify({disabled:!r}),name:"enabled"},(()=>n.span(".name",(()=>n.format("enable-sync")))))))}))},"./app/scripts/views/templates/power_ups_card_aging_prefs.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("power_ups_card_aging_prefs");e.exports=n.renderable((function({agingMode:e,canChange:t}){return n.h2((()=>n.format("how-do-you-want-the-aged-cards-to-look"))),n.ul(".pop-over-list",(function(){return n.li((()=>n.a(".js-select",{href:"#",class:n.classify({disabled:!t}),name:"regular"},(function(){return n.span(".name",(()=>n.format("regular-mode"))),"regular"===e&&n.icon("check"),n.span(".sub-name",(()=>n.format("older-cards-become-more-transparent")))})))),n.li((()=>n.a(".js-select",{href:"#",class:n.classify({disabled:!t}),name:"pirate"},(function(){return n.span(".name",(()=>n.format("pirate-mode"))),"pirate"===e&&n.icon("check"),n.span(".sub-name",(()=>n.format("older-cards-crackle-and-tear")))}))))}))}))},"./app/scripts/views/templates/power_ups_voting_prefs.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("power_ups_voting_prefs");e.exports=n.renderable((function({canChange:e,canSetObservers:t,canSetOrganization:i,canSetPublic:r,votingMode:a,hideVotes:s}){return n.h4((()=>n.format("who-is-allowed-to-vote-on-cards"))),n.ul(".pop-over-list",(function(){return n.li((()=>n.a(".js-voting-select",{href:"#",class:n.classify({disabled:!e}),name:"members"},(function(){return n.span(".name",(()=>n.format("members"))),"members"===a&&n.icon("check"),n.span(".sub-name",(()=>n.format("admins-and-board-members-can-vote")))})))),n.li((()=>n.a(".js-voting-select",{href:"#",class:n.classify({disabled:!e||!t}),name:"observers"},(function(){return n.span(".name",(()=>n.format("members-and-observers"))),"observers"===a&&n.icon("check"),n.span(".sub-name",(()=>n.format("admins-board-members-and-observers-can-vote")))})))),n.li((()=>n.a(".js-voting-select",{href:"#",class:n.classify({disabled:!e||!i}),name:"org"},(function(){return n.span(".name",(()=>n.format("organization-members"))),"org"===a&&n.icon("check"),n.span(".sub-name",(()=>n.format("admins-board-members-observers-and-team-members-can-vote")))})))),n.li((()=>n.a(".js-voting-select",{href:"#",class:n.classify({disabled:!e||!r}),name:"public"},(function(){return n.span(".name",(()=>n.format("public-members"))),"public"===a&&n.icon("check"),n.span(".sub-name",(()=>n.format("any-trello-user-can-vote")))}))))})),n.tag("hr"),n.h4((()=>n.format("hide-vote-counts"))),n.ul(".pop-over-list",(()=>n.li((()=>n.a(".js-vote-count-select",{href:"#",class:n.classify({disabled:!e}),name:"hideVoteCount"},(function(){return n.span(".name",(()=>n.format("hide-vote-counts-except-mine"))),s&&n.icon("check"),n.span(".sub-name",(()=>n.format("hide-vote-counts-except-mine-explain")))}))))))}))},"./app/scripts/views/templates/quick_card_editor.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("quick_card_editor"),r=i("./app/scripts/views/templates/card_in_list.js");e.exports=function(){const e=n.mustacheVar("cardUrl"),t=n.mustacheVar("isTemplate"),i=n.mustacheVar("isCardTemplate"),a=n.mustacheVar("cardRole");return n.span(".icon-lg.icon-close.quick-card-editor-close-icon.js-close-editor"),n.div(".quick-card-editor-card",{style:"top: ".concat(n.mustacheVar("top"),"px; left: ").concat(n.mustacheVar("left"),"px; width: ").concat(n.mustacheVar("width"),"px;")},(function(){return n.div(".list-card.list-card-quick-edit.js-stop",{style:"width: ".concat(n.mustacheVar("width"),"px;")},(()=>r(n.mustacheVar(".")))),n.input(".nch-button.nch-button--primary.wide.js-save-edits",{type:"submit",value:n.l("save")}),n.div({class:"quick-card-editor-buttons".concat(n.mustacheBlock("leftButtons",(()=>" quick-card-editor-buttons-left")))},(function(){a||(n.a(".quick-card-editor-buttons-item",{href:e},(function(){return n.icon("card",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(()=>n.format("open-card")))})),n.a(".quick-card-editor-buttons-item.js-edit-labels",{href:"#"},(function(){return n.icon("label",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(()=>n.format("edit-labels")))}))),t||a||n.a(".quick-card-editor-buttons-item.js-edit-members",{href:"#"},(function(){return n.icon("member",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(()=>n.format("change-members")))})),a||n.a(".quick-card-editor-buttons-item.js-edit-cover",{href:"#"},(function(){return n.icon("card-cover",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(()=>n.format("change-cover")))})),n.a(".quick-card-editor-buttons-item.js-move-card",{href:"#"},(function(){return n.icon("move",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(()=>n.format("move")))})),n.a(".quick-card-editor-buttons-item.js-copy-card",{href:"#"},(function(){return n.icon("card",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(()=>n.format("copy")))})),i||a||n.a(".quick-card-editor-buttons-item.js-edit-due-date",{href:"#"},(function(){return n.icon("clock",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(()=>n.format("change-due-date")))})),n.mustacheBlockInverted("closed",(()=>n.a(".quick-card-editor-buttons-item.js-archive",{href:"#"},(function(){return n.icon("archive",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(function(){return i?n.format("hide-from-list"):n.format("archive")}))})))),n.div("#convert-card-role-button-react-root",{class:n.mustacheBlock("leftButtons",(()=>"left-side-react-root"))})}))}))}},"./app/scripts/views/templates/select_board.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("select_board");e.exports=n.renderable((({name:e,id:t,closed:i,orgName:r})=>n.li(".item",(()=>n.a(".name.js-select-board",{href:"#",title:e,"data-id":t},(function(){if(n.span(".item-name",(function(){if(n.text(e),i)return n.text(" "),n.span(".quiet",(()=>n.format("archived")))})),r)return n.span(".sub-name",(()=>n.format("in-orgname",{orgName:r})))}))))))},"./app/scripts/views/templates/select_card.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("select_card");e.exports=n.renderable((({name:e,id:t,closed:i,boardName:r})=>n.li(".item",(()=>n.a(".name.js-select-card",{href:"#",title:e,"data-id":t},(function(){if(n.span(".item-name",(function(){if(n.text(e),i)return n.text(" "),n.span(".quiet",(()=>n.format("archived")))})),r)return n.span(".sub-name",(()=>n.format("in-boardname",{boardName:r})))}))))))},"./app/scripts/views/templates/select_emoji.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("select_emoji");e.exports=()=>n.li(".item",(()=>n.a(".name.js-select-emoji",{href:"#",title:n.mustacheVar("name")},(function(){return n.mustacheBlock("isEmojiMart",(()=>{n.mustacheBlock("html",(()=>n.raw(n.mustacheVar("html")))),n.mustacheBlock("image",(()=>n.img(".emoji",{src:n.mustacheVar("image")})))})),n.mustacheBlockInverted("isEmojiMart",(()=>n.img(".emoji",{src:n.mustacheVar("image")}))),n.span(".emoji-name",{name:n.mustacheVar("name")},(()=>n.text(n.mustacheVar("name"))))}))))},"./app/scripts/views/templates/select_labels.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("select_labels");e.exports=()=>n.mustacheBlock("labels",(()=>n.li((function(){return n.mustacheBlock("__ed",(()=>n.a(".card-label-edit-button.icon-sm.icon-edit.js-edit-label",{href:"#","data-idlabel":n.mustacheVar("id")}))),n.span({class:"card-label mod-selectable card-label-".concat(n.mustacheVar("color")," ").concat(n.mustacheBlock("isActive",(()=>"active"))," js-select-label"),"data-idlabel":n.mustacheVar("id"),"data-color":n.mustacheVar("color")},(function(){return n.mustacheBlock("name",(()=>n.text(n.mustacheVar("name")))),n.icon("check",{class:"card-label-selectable-icon light"})}))}))))},"./app/scripts/views/templates/select_member.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("select_member"),r=i("./app/scripts/views/templates/member.js");e.exports=()=>n.li({class:"item".concat(n.mustacheBlock("isActive",(()=>" active"))).concat(n.mustacheBlock("unconfirmed",(()=>" unconfirmed"))).concat(n.mustacheBlock("inactive",(()=>" inactive"))).concat(n.mustacheBlock("isKnownMember",(()=>" js-autoselect"))," js-member-item").concat(n.mustacheBlock("disabled",(()=>" disabled")))},(()=>n.a({href:n.mustacheBlock("url",(()=>n.mustacheVar("url")))+n.mustacheBlockInverted("url",(()=>"#")),class:"name js-select-member ".concat(n.mustacheBlock("extraText",(()=>"multi-line"))),idMember:n.mustacheVar("id"),title:n.mustacheVar("viewTitle"),autocompleteText:n.mustacheVar("username")},(function(){return n.span({class:"member js-member".concat(n.mustacheBlock("isVirtual",(()=>" virtual"))).concat(n.mustacheBlock("activityBlocked",(()=>" member-deactivated"))).concat(n.mustacheBlock("isDeactivated",(()=>" member-deactivated")))},(()=>r(n.mustacheVar(".")))),n.span(".full-name",{name:n.mustacheVar("fullName")+n.mustacheBlock("username",(()=>" (".concat(n.mustacheVar("username"),")"))),"aria-hidden":!0},(function(){return n.text(n.mustacheVar("fullName")),n.text(" "),n.mustacheBlock("username",(()=>n.span(".username",(()=>n.text("(".concat(n.mustacheVar("username"),")"))))))})),n.mustacheBlock("extraText",(()=>n.div(".extra-text.quiet",(()=>n.format("extratext",{extraText:n.mustacheVar("extraText")}))))),n.icon("check",{class:"checked-icon","aria-label":n.l("added-to-card")}),n.icon("forward",{class:"light option js-open-option"}),n.mustacheBlock("inactive",(()=>n.span(".quiet.sub-name",(()=>n.format("inactive-account"))))),n.mustacheBlock("unconfirmed",(()=>n.span(".quiet.sub-name",(()=>n.format("unconfirmed-user")))))}))))},"./app/scripts/views/templates/tooltip_content.js":function(e,t,i){const n=i("./app/scripts/views/internal/teacup-with-helpers.js")("tooltip_content");e.exports=function(){const e=n.mustacheVar("closeable"),t=e?[".tooltip-content-closeable"]:[];return n.div(t.join("")+".tooltip-content.js-tooltip-content",(function(){return e&&n.icon("close",{class:"tooltip-close-button js-tooltip-close-button"}),n.raw(n.mustacheVar("tooltipHtml"))}))}},"./app/src/components/AdvancedCalendarView/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"AdvancedCalendarView",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/use-lazy-component/index.ts"),s=i("./app/src/components/BoardDashboardView/PermissionsContext.tsx");const o=({idBoard:e,navigateToCard:t,closeView:o})=>{const l=Object(a.useLazyComponent)((()=>i.e(27).then(i.bind(null,"./app/src/components/AdvancedCalendarView/AdvancedCalendarComponent.tsx"))),{namedImport:"AdvancedCalendarComponent"});return r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(s.b,{idBoard:e},r.a.createElement(l,{idBoard:e,navigateToCard:t,closeView:o})))}},"./app/src/components/BillableGuestsAlert/InlineLink.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("./node_modules/react/index.js"),r=i.n(n);class a extends r.a.Component{render(){const{text:e,href:t="#",onClick:i=(()=>{})}=this.props;return r.a.createElement("a",{onClick:i,href:t,rel:"noopener noreferrer",target:"_blank"},e)}}},"./app/src/components/BillableGuestsAlert/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"BillableGuestsAlert",(function(){return o}));var n=i("./packages/i18n/index.ts"),r=i("./node_modules/react/index.js"),a=i.n(r),s=i("./app/src/components/BillableGuestsAlert/InlineLink.tsx");class o extends a.a.Component{render(){const{adminNames:e,newBillableGuestsCount:t,availableLicenseCount:i,orgName:r,isOrgAdmin:o,orgUrl:l,onCountClick:c,isReopen:d,isDesktop:u}=this.props,p=Object(n.forNamespace)(d?"re-open billable guests alert":"add to team billable guests alert"),m=Object(n.localizeCount)("others",e.length-3),h=a.a.createElement(s.a,{key:"othersLink",href:"".concat(l,"/members"),text:m}),g=p("learn more"),b=a.a.createElement(s.a,{key:"learnMoreLink",href:"https://help.trello.com/article/1123-multi-board-guests",text:g}),f=a.a.createElement("strong",{key:"team"},r),v=a.a.createElement(s.a,{key:"boardMembersCount",onClick:c,text:Object(n.localizeCount)("board members",t)}),k=Object(n.localizeCount)("board members already guests on team",t,{count:v,team:f});if(u)return d?Object(n.localizeCount)("billable guests alert re-open desktop",t,{boardMembersOnTeam:k,learnMoreLink:b}):Object(n.localizeCount)("billable guests alert move desktop",t,{boardMembersOnTeam:k,learnMoreLink:b});if(o){const e=d?"":" add to team";return t>i?Object(n.localizeCount)("text as admin max bcpo licenses reached".concat(e),t,{boardMembersOnTeam:k,learnMoreLink:b}):Object(n.localizeCount)("text as admin".concat(e),t,{boardMembersOnTeam:k,learnMoreLink:b})}return 1===e.length?p("text with 1 admin",{boardMembersOnTeam:k,learnMoreLink:b,admin1:a.a.createElement("strong",{key:"admin1"},e[0])}):2===e.length?p("text with 2 admin",{boardMembersOnTeam:k,learnMoreLink:b,admin1:a.a.createElement("strong",{key:"admin1"},e[0]),admin2:a.a.createElement("strong",{key:"admin2"},e[1])}):3===e.length?p("text with 3 admin",{boardMembersOnTeam:k,learnMoreLink:b,admin1:a.a.createElement("strong",{key:"admin1"},e[0]),admin2:a.a.createElement("strong",{key:"admin2"},e[1]),admin3:a.a.createElement("strong",{key:"admin3"},e[2])}):e.length>3?p("text with more admins",{boardMembersOnTeam:k,learnMoreLink:b,othersLink:h,admin1:a.a.createElement("strong",{key:"admin1"},e[0]),admin2:a.a.createElement("strong",{key:"admin2"},e[1]),admin3:a.a.createElement("strong",{key:"admin3"},e[2])}):void 0}}},"./app/src/components/BillingDetails/BillingHistory/TeamBillingStatementsQuery.graphql":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamBillingStatements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statements"},arguments:[{kind:"Argument",name:{kind:"Name",value:"accountType"},value:{kind:"EnumValue",value:"organizations"}},{kind:"Argument",name:{kind:"Name",value:"accountId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statementUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statementToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translationKey"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:202}};i.loc.source={body:"query TeamBillingStatements($orgId: ID!) {\n  statements(accountType: organizations, accountId: $orgId) @client {\n    date\n    amount\n    item\n    statementUrl\n    statementToken\n    translationKey\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.TeamBillingStatements=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"TeamBillingStatements")},"./app/src/components/BoardDashboardView/PermissionsContext.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return m}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/boards/index.ts"),s=i("./node_modules/@apollo/client/index.js");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const d={context:{operationName:"PermissionsContext"}},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PermissionsContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selfJoin"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}},{kind:"Field",name:{kind:"Name",value:"deactivated"}},{kind:"Field",name:{kind:"Name",value:"unconfirmed"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"enterprise"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idAdmins"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}},{kind:"Field",name:{kind:"Name",value:"deactivated"}},{kind:"Field",name:{kind:"Name",value:"unconfirmed"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"memberType"}},{kind:"Field",name:{kind:"Name",value:"idPremOrgsAdmin"}}]}}]}}]};const p=Object(n.createContext)({canEdit:()=>!1}),m=({idBoard:e,children:t})=>{const{data:i}=function(e){const t=l(l({},d),e);return s.useQuery(u,t)}({variables:{idBoard:e}}),o=Object(n.useCallback)((()=>!(null==i||!i.board||null==i||!i.member)&&Object(a.a)(i.member,i.board)),[i]);return r.a.createElement(p.Provider,{value:{canEdit:o}},t)}},"./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/BoardSidebarLoadingError/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"BoardSidebarLoadingError",(function(){return p}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/i18n/index.ts"),s=i("./packages/nachos/button.ts"),o=i("./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less"),l=i.n(o);const c=Object(a.forTemplate)("error"),d=Object(a.forNamespace)("view title"),u=Object(a.forTemplate)("connect_failed");class p extends r.a.Component{constructor(...e){var t,i,n;super(...e),n=()=>window.location.reload(),(i="reloadPage")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}render(){return r.a.createElement("div",{className:l.a.errorMessage},r.a.createElement("div",{className:"board-menu-header-content"},r.a.createElement("h3",{className:"board-menu-header-title js-board-menu-title-text"},d("menu"))),r.a.createElement("hr",{className:"board-menu-header-divider"}),r.a.createElement("h4",null,c("menu-loading-error")),r.a.createElement("p",null,c("reload-call-to-action")),r.a.createElement(s.Button,{appearance:"primary",onClick:this.reloadPage},u("reload-page")))}}},"./app/src/components/BoardViewsButton/BoardViewsButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/BoardViewsButton/BoardViewsButtonCallout.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButtonCallout.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/BoardViewsButton/BoardViewsFeedbackLink.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsFeedbackLink.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/BoardViewsButton/BoardViewsPopover.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopover.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/BoardViewsButton/BoardViewsPopoverUpsell/BoardViewsUpsellPrompt.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopoverUpsell/BoardViewsUpsellPrompt.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/BoardViewsButton/BoardViewsTeamTableLink.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsTeamTableLink.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/BoardViewsButton/PowerUpViewOptions.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/PowerUpViewOptions.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/BoardViewsButton/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"BoardViewsButton",(function(){return qe}));var n=i("./packages/atlassian-analytics/index.ts"),r=i("./node_modules/react/index.js"),a=i.n(r),s=i("./node_modules/classnames/index.js"),o=i.n(s),l=i("./packages/i18n/index.ts"),c=i("./app/src/components/UpgradePrompts/index.ts"),d=i("./packages/nachos/tooltip.ts"),u=i("./packages/nachos/icons/business-class.tsx"),p=i("./app/src/components/Lozenge/index.ts"),m=i("./app/src/components/BoardViewsButton/BoardViewsPopover.less"),h=i.n(m),g=i("./app/src/components/BoardViewsButton/BoardViewsFeedbackLink.less"),b=i.n(g),f=i("./packages/session-cookie/index.ts"),v=i("./packages/organizations/index.ts"),k=i("./node_modules/@apollo/client/index.js");function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){j(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const x={context:{operationName:"BoardViewsFeedbackLink"}},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardViewsFeedbackLink"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"premiumFeatures"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"credits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"freeTrial"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function O(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const E=Object(l.forTemplate)("board-views"),S=({idBoard:e,idOrg:t,isOrgPrivate:i,hidePopover:s})=>{const{data:o}=function(e){const t=w(w({},x),e);return k.useQuery(C,t)}(t&&!i?{variables:{orgId:t}}:{skip:!0}),l=(i,r)=>{n.Analytics.sendClickedLinkEvent(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){O(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({linkName:i,source:"boardViewsInlineDialog",containers:{board:{id:e},organization:{id:t}}},r&&{attributes:r})),s()},c=Object(r.useMemo)((()=>{var e;const i=new URL("https://trello.typeform.com/to/KrXQo6XN"),n=null==o?void 0:o.organization,r=null==o||null===(e=o.organization)||void 0===e?void 0:e.idEnterprise;return i.searchParams.append("team_status",t?Object(v.getOrgPaidStatus)(n):"NO_TEAM"),f.memberId&&i.searchParams.append("memberid",f.memberId),t&&i.searchParams.append("orgid",t),r&&i.searchParams.append("enterpriseid",r),i.href}),[o,t]);return a.a.createElement("div",{className:b.a.feedbackRequest},a.a.createElement("a",{href:c,target:"_blank",className:b.a.feedbackLink,onClick:()=>l("viewsFeedbackLink")},E("feedback-request")))};var T=i("./app/src/components/RouterLink/RouterLink.tsx"),N=i("./app/src/components/BoardViewsButton/BoardViewsTeamTableLink.less"),P=i.n(N),I=i("./packages/nachos/icons/table.tsx"),B=i("./packages/nachos/icons/external-link.tsx"),D=i("./packages/test-ids/index.ts");function A(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function L(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const{useFeatureFlag:F}=i("./packages/feature-flag-client/index.ts"),M=Object(l.forTemplate)("board-views"),V=({idBoard:e,hidePopover:t,paidStatus:i,orgName:r,shortLink:s})=>{const o=F("ecosystem.views-beta-phase-transition",!1),l=(i,r)=>{n.Analytics.sendClickedLinkEvent(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?A(Object(i),!0).forEach((function(t){L(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({linkName:i,source:"boardViewsInlineDialog",containers:{board:{id:e}}},r&&{attributes:r})),t()};return a.a.createElement("div",{className:P.a.teamTableCell},a.a.createElement(T.a,{className:P.a.teamTableLinkTile,href:"/".concat(r,"/tables?idBoards=").concat(s),target:"_blank",onClick:()=>{l("teamBoardTableViewLink",{isFreeTeam:"free"===i,isStandardTeam:"standard"===i})},testId:D.BoardHeaderTestIds.TeamTableViewOption},a.a.createElement("div",{className:P.a.tableThumbnail},a.a.createElement("div",{className:P.a.tableIcon},a.a.createElement(I.TableIcon,{size:"small"}))),a.a.createElement("div",{className:P.a.tableLinkDescription},a.a.createElement("div",{className:"tableLinkText"},M("team-table"))),a.a.createElement("div",{className:P.a.informationalIcons},!o&&a.a.createElement("div",{className:P.a.betaLozenge},a.a.createElement(p.a,{color:"blue"},M("beta"))),a.a.createElement("div",{className:P.a.linkIcon},a.a.createElement(B.a,{size:"medium"})))))};var R=i("./packages/nachos/spinner.ts"),z=i("./app/src/components/BoardViewsButton/PowerUpViewOptions.less"),U=i.n(z);const H=({isLoading:e,viewOptions:t,currentView:i})=>e?a.a.createElement(R.a,{small:!0}):a.a.createElement("ul",{className:"pop-over-list"},t.map((e=>{const t=a.a.createElement("img",{className:U.a.icon,src:e.icon,alt:e.name});return a.a.createElement("li",{key:e.name},a.a.createElement("div",{className:o()({"pop-over-list-item":!0,current:(null==i?void 0:i.idPlugin)===e.idPlugin&&(null==i?void 0:i.key)===e.key}),role:"button",onClick:()=>{e.navigateTo()}},t," ",e.name,a.a.createElement("span",{className:"sub-name"},e.description)))}))),W=Object(l.forTemplate)("board-views"),q=Object(l.forNamespace)("upgrade prompt"),$=({showTooltip:e,children:t})=>e?a.a.createElement(d.a,{tag:"li",content:W("limit-upsell"),delay:100},t):a.a.createElement("li",null,t),G=({idBoard:e,shortLink:t,orgName:i,idOrg:s,isOrgPrivate:l,paidStatus:d,shouldShowTeamTableLink:m,hidePopover:g,currentView:b,viewOptions:f,clearFilters:v,isLoadingPowerUpViews:k,powerUpViewOptions:y,currentPowerUpView:w})=>{Object(r.useEffect)((()=>{n.Analytics.sendScreenEvent({name:"boardViewsInlineDialog",containers:{board:{id:e},organization:{id:s}}})}),[e,s]);const j=i?"/".concat(i,"/billing"):"/select-team-to-upgrade",x=a.a.createElement(c.UpgradePromptPill,{ctaLink:j,icon:a.a.createElement(u.BusinessClassIcon,null),cta:q("upgrade team"),ctaOnClick:()=>{n.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePill",source:"boardViewsInlineDialog",containers:{board:{id:e}}})}}),C=f.map((e=>{if(!e.isVisible)return;const t=W(e.name),i=W(e.descriptionString),n=a.a.createElement(e.icon,{size:"small"}),r=a.a.createElement(p.a,{color:"blue"},W("beta"));return a.a.createElement($,{key:e.name,showTooltip:e.showUpsell||!1},a.a.createElement("div",{className:o()({"pop-over-list-item":!0,current:b===e.name}),role:"button",onClick:()=>{e.showUpsell||(e.track(),e.navigateTo(),"timeline"!==e.name&&"calendar-view"!==e.name&&"dashboard"!==e.name||v())}},n," ",t," ",e.isBeta&&r," ",e.showUpsell&&x,a.a.createElement("span",{className:"sub-name","data-test-id":e.showUpsell?e.testId+"-upsell":e.testId},i)))})),_=y.length>0;return a.a.createElement(a.a.Fragment,null,a.a.createElement("ul",{className:"pop-over-list"},C),_?a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",{className:h.a.lineSeparator}),a.a.createElement(H,{currentView:w,isLoading:k,viewOptions:y})):null,m&&i&&a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",{className:h.a.lineSeparator}),a.a.createElement(V,{idBoard:e,hidePopover:g,paidStatus:d,orgName:i,shortLink:t})),a.a.createElement("hr",{className:h.a.lineSeparator}),a.a.createElement(S,{idBoard:e,idOrg:s,isOrgPrivate:l,hidePopover:g}))};var K=i("./packages/nachos/popover.ts"),Z=i("./app/src/router/index.ts"),J=i("./app/src/components/BoardViewsButton/BoardViewsButtonCallout.less"),Q=i.n(J),Y=i("./packages/nachos/icons/close.tsx");const X=i("./resources/images/views/BoardViewsButtonCalloutImage.svg"),ee=Object(l.forTemplate)("board-views"),te=({onClose:e,idBoard:t,idOrg:i})=>(Object(r.useEffect)((()=>{n.Analytics.sendViewedComponentEvent({componentType:"overlay",componentName:"boardViewSwitcherCalloutOverlay",containers:{board:{id:t},organization:{id:i}},source:"boardScreen"})}),[t,i]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Q.a.boardViewsCalloutPointer}),a.a.createElement("div",{className:Q.a.boardViewsCallout,"data-test-id":D.BoardHeaderTestIds.BoardViewsSwitcherCallout},a.a.createElement("img",{className:Q.a.trelloViewsImage,alt:"TrelloViews",src:X}),a.a.createElement("p",{className:Q.a.calloutHeaderText},ee("visualize-your-work-in-new-ways")),a.a.createElement("p",{className:Q.a.calloutContentText},ee("get-a-brand-new-perspective")," ",a.a.createElement("a",{href:"https://trello.com/views",target:"_blank",onClick:()=>{n.Analytics.sendClickedLinkEvent({linkName:"viewsLandingPageLink",source:"boardViewSwitcherCalloutOverlay",containers:{board:{id:t},organization:{id:i}}})}},ee("learn-more"))),a.a.createElement("div",{className:Q.a.calloutCloseButtonWrapper,onClick:e,"data-test-id":D.BoardHeaderTestIds.BoardViewsSwitcherCalloutClose,role:"button"},a.a.createElement(Y.a,{dangerous_className:Q.a.calloutCloseButton,size:"small"})))));var ie=i("./node_modules/react-transition-group/esm/CSSTransition.js"),ne=i("./packages/nachos/icons/down.tsx"),re=i("./packages/nachos/icons/list.tsx"),ae=i("./packages/nachos/button.ts"),se=i("./packages/storage/index.ts"),oe=i("./packages/feature-flag-client/index.ts"),le=i("./packages/product-features/index.ts");function ce(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function de(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(i),!0).forEach((function(t){ue(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ce(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ue(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const pe={context:{operationName:"BoardViewsPopoverUpsell"}},me={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardViewsPopoverUpsell"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"}}]}}]}}]};var he=i("./app/src/components/FreeTrial/index.ts");const ge=({orgId:e})=>{const t=Object(oe.useFeatureFlag)("nusku.views-switcher-upsell",!1,{sendExposureEvent:!0}),{data:i}=function(e){const t=de(de({},pe),e);return k.useQuery(me,t)}({variables:{orgId:e},skip:!e}),n=null==i?void 0:i.organization,r=Boolean(n&&!n.products[0]),a=Boolean(n&&le.ProductFeatures.isStandardProduct(n.products[0])),{isEligible:s,startFreeTrial:o,isAdmin:l}=Object(he.useFreeTrialEligibilityRules)(e),c=!a&&r&&s?"freetrial":a||r&&!s?"upgrade":null,d=Boolean(n&&t&&c),u=Object(oe.useFeatureFlag)("nusku.views-switcher-upsell-default-open",!1,{sendExposureEvent:!0});return{activateFreeTrial:()=>o({redirect:!1},"boardViewsInlineDialog"),isUpsellEnabled:d,step:c,isAdmin:l,isUpsellDefaultOpenEnabled:Boolean(u&&d)}};var be=i("./app/src/components/BoardViewsButton/BoardViewsPopoverUpsell/BoardViewsUpsellPrompt.less"),fe=i.n(be),ve=i("./packages/browser/index.ts");const ke=Object(l.forTemplate)("views_prompt"),ye=(e,t)=>ke([e,t]),we=(e,t)=>ke(["upsell-trial-prompt","views-list",e,t]),je=({isAdmin:e,isUpgrade:t,activateFreeTrial:s,hidePopover:o,orgId:l,boardId:c,orgName:d})=>{Object(r.useEffect)((()=>{n.Analytics.sendScreenEvent({name:"upsellPromptBoardViewsInlineDialog",containers:{board:{id:c},organization:{id:l}},attributes:{promptType:t?"upgrade":"freeTrial"}})}),[c,l,t]);const u=[{image:"timeline",content:{name:we("timeline","name"),description:we("timeline","description")}},{image:"table",content:{name:we("table","name"),description:we("table","description")}},{image:"calendar",content:{name:we("calendar","name"),description:we("calendar","description")}},{image:"dashboard",content:{name:we("dashboard","name"),description:we("dashboard","description")}},{image:"map",content:{name:we("map","name"),description:we("map","description")}}];return a.a.createElement("div",{className:fe.a.container},a.a.createElement("section",{className:fe.a.header},a.a.createElement("div",{className:fe.a.promptHeader},t&&!Object(ve.dontUpsell)()?ye("bc-trial-prompt","admin-upgrade-bc-header"):ye("upsell-trial-prompt","header")),a.a.createElement("article",{className:fe.a.promptDescription},ye("upsell-trial-prompt","description"))),a.a.createElement("section",{className:fe.a.content},a.a.createElement("ul",null,u.map((({content:{name:e,description:t},image:n})=>a.a.createElement("li",{className:fe.a.view,key:e},a.a.createElement("img",{className:fe.a.viewIcon,alt:"".concat(e," view"),src:i("./resources/images/views-upsell sync recursive ^\\.\\/.*\\.svg$")("./".concat(n,".svg"))}),a.a.createElement("div",null,a.a.createElement("div",{className:fe.a.viewName},e),a.a.createElement("div",{className:fe.a.viewDescription},t))))))),a.a.createElement("section",{className:fe.a.ctaSection},!Object(ve.dontUpsell)()&&a.a.createElement(a.a.Fragment,null,t&&!e?a.a.createElement("p",null,ye("bc-trial-prompt","contact-team-admin")):a.a.createElement(ae.Button,{appearance:"primary",size:"fullwidth","data-test-id":t?D.BoardHeaderTestIds.UpsellPromptUpgradeBCButton:D.BoardHeaderTestIds.UpsellPromptStartFreeTrialButton,onClick:()=>{return e=t,o(),n.Analytics.sendClickedButtonEvent({buttonName:e?"upgradeToBCButton":"startFreeTrialButton",source:"upsellPromptBoardViewsInlineDialog",containers:{board:{id:c},organization:{id:l}}}),void(e?window.open("/".concat(d,"/billing"),"_blank"):s());var e}},t?ye("bc-trial-prompt","upgrade-button"):ye("upsell-trial-prompt","button"))),a.a.createElement(T.a,{"data-test-id":D.BoardHeaderTestIds.UpsellPromptLearnMoreLink,className:fe.a.link,href:"/business-class",target:"_blank",onClick:()=>{n.Analytics.sendClickedLinkEvent({linkName:"learnMoreLink",source:"upsellPromptBoardViewsInlineDialog",containers:{board:{id:c},organization:{id:l}}})}},t&&!Object(ve.dontUpsell)()?ye("bc-trial-prompt","link"):ye("upsell-trial-prompt","link"))))},xe=({orgId:e,boardId:t,orgName:i,hidePopover:n,isStandardOrFreeTeamBoardGuest:r})=>{const{activateFreeTrial:s,step:o,isAdmin:l}=ge({orgId:e}),c="upgrade"===o||r;return a.a.createElement(je,{orgName:i,isUpgrade:c,isAdmin:l,activateFreeTrial:s,hidePopover:n,orgId:e,boardId:t})};var Ce=i("./app/src/components/ViewsGenerics/index.ts"),_e=i("./app/src/components/BoardViewsButton/BoardViewsButton.less"),Oe=i.n(_e);function Ee(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Se(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(i),!0).forEach((function(t){Te(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ee(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Te(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Ne={context:{operationName:"BoardViewsButtonDismissOneTimeMessage"}},Pe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"BoardViewsButtonDismissOneTimeMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function Ie(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Be(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(i),!0).forEach((function(t){De(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ie(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function De(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Ae={context:{operationName:"BoardViewsButtonMember"}},Le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardViewsButtonMember"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Me(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ve(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(i),!0).forEach((function(t){Re(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Me(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Re(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ze=Object(l.forTemplate)("board-views"),Ue=Object(l.forTemplate)("views_prompt");var He;!function(e){e[e.BoardViews=0]="BoardViews"}(He||(He={}));const We=({icon:e,name:t})=>a.a.createElement("img",{className:Oe.a.pluginIcon,src:e,alt:t}),qe=({isTeamMember:e,hasViewsFeature:t,orgName:i,isOrgPrivate:s,paidStatus:o,isStandardOrFreeTeamBoardGuest:l,shouldShowTeamTableLink:c,idBoard:d,idOrg:u,shortLink:m,preloadPlugins:h,viewOptions:g,clearFilters:b,backgroundBrightness:v,isLoadingPowerUpViews:y,powerUpViewOptions:w,setIframePopoverOverlayVisibility:j})=>{var x;const{data:C,refetch:_,loading:O}=function(e){const t=Be(Be({},Ae),e);return k.useQuery(Le,t)}({variables:{memberId:f.memberId||""}}),E=null==C||null===(x=C.member)||void 0===x?void 0:x.oneTimeMessagesDismissed,{isUpsellEnabled:S,isUpsellDefaultOpenEnabled:T}=ge({orgId:u}),N="light"===v?"dark":"light",P=Z.defaultRouter.getRoute(),I=P.routePath.split("/"),B=I[4]||"board";let A,L,F,M,V,R={};if("power-up"===B){A=I[5],L=I[7],L&&L.includes("?")&&(L=L.split("?")[0]);const e=w.find((e=>e.idPlugin===A&&e.key===L));e?(M=e.name,V=We,R={name:e.name,icon:e.icon}):(M=ze("board"),F=re.ListIcon)}else{const e=g.find((e=>e.name===B&&e.isVisible));M=ze(e?B.toString():"board"),F=e?e.icon:re.ListIcon}const[z]=function(e){const t=Se(Se({},Ne),e);return k.useMutation(Pe,t)}(),U=e=>{z({variables:{messageId:e,memberId:f.memberId},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:null==E?void 0:E.concat([e]),__typename:"Member"}},update:(e,t)=>{var i,n,r;const a=e.readQuery({query:Le,variables:{memberId:f.memberId||""}});if(null==a||!a.member)return;const s=new Set([...(null==a||null===(i=a.member)||void 0===i?void 0:i.oneTimeMessagesDismissed)||[],...(null==t||null===(n=t.data)||void 0===n||null===(r=n.addOneTimeMessagesDismissed)||void 0===r?void 0:r.oneTimeMessagesDismissed)||E]);e.writeQuery({query:Le,data:Ve(Ve({},a),{},{member:Ve(Ve({},a.member),{},{oneTimeMessagesDismissed:[...s]})})})}})},H=oe.featureFlagClient.get("remarkable.board-views-switcher-new-pill-and-overlay",!1),W=e=>"".concat(e,"-views-switcher-new-pill"),q=!!e&&c,$=[...g.filter((e=>e.isVisible&&!e.isGA&&!(null!=E&&E.includes(W(e.name))))).map((e=>e.name)),...null!=E&&E.includes(W("team-table"))||!q?[]:["team-table"]],J=e=>{const t=e.routePath.split("/"),i="b"===t[1],n=e.routeName===Z.RouteNames.BOARD,r=t.length<5;return i&&n&&r},[Q,Y]=Object(r.useState)(!1),[X,ee]=Object(r.useState)(T&&J(P)&&!(null!=E&&E.includes("views-switcher-callout"))&&!(null!=E&&E.includes("nusku.views-switcher-upsell-default-open"))),[le,ce]=Object(r.useState)(!1),[de,ue]=Object(r.useState)(!1);Object(r.useEffect)((()=>{Y(!O&&!de&&E&&H&&t&&J(P)&&$.length>0)}),[t,O,H,E,P,$.length,de]),Object(r.useEffect)((()=>{ce(!O&&!de&&Q&&!T&&J(P)&&!(null!=E&&E.includes("views-switcher-callout"))&&!(null!=E&&E.includes("nusku.views-switcher-upsell-default-open")))}),[T,O,E,P,Q,de]);const pe=Object(r.useCallback)((()=>{n.Analytics.sendClosedComponentEvent({componentName:"boardViewsInlineDialog",componentType:"inlineDialog",source:"boardScreen",containers:{organization:{id:u},board:{id:d}}}),j(!1),X&&(U("nusku.views-switcher-upsell-default-open"),ee(!1))}),[d,u,j,X]),{show:me,toggle:he,hide:be,popoverProps:fe,triggerRef:ve}=Object(K.e)({initialScreen:He.BoardViews,onHide:pe,onShow:()=>j(!0)});Object(r.useEffect)((()=>{X&&me()}),[X,me]),Object(r.useEffect)((()=>{n.Analytics.sendViewedComponentEvent({componentType:"button",componentName:"boardViewsButton",containers:{board:{id:d}},attributes:{hasNewPill:Q},source:"boardScreen"})}),[d,Q]),Object(r.useEffect)((()=>{try{const e="views-switcher-callout-".concat(m);if(le||X)se.TrelloStorage.unset(e),n.Analytics.sendOperationalEvent({action:"unset",actionSubject:"viewsSwitcherCalloutCache",source:"boardScreen",containers:Object(n.formatContainers)({idBoard:m})});else if(!se.TrelloStorage.get(e)){const t=Date.now();se.TrelloStorage.set(e,t),n.Analytics.sendOperationalEvent({action:"set",actionSubject:"viewsSwitcherCalloutCache",source:"boardScreen",containers:Object(n.formatContainers)({idBoard:m}),attributes:{currentTime:t}})}}catch(e){n.Analytics.sendOperationalEvent({action:"errored",actionSubject:"viewsSwitcherCalloutCache",source:"boardScreen",containers:Object(n.formatContainers)({idBoard:m}),attributes:{message:null==e?void 0:e.message,name:null==e?void 0:e.name}})}}),[le,X,m]),Object(r.useEffect)((()=>{Object(Ce.getViewsUpsellFlag)("remarkable.org-table-view-free-team-upsell",!1)}),[]);const ke=()=>{le&&U("views-switcher-callout"),ce(!1)};if("board"!==g[0].name)return null;return g.reduce(((e,t)=>t.isVisible?e+1:e),0)>1||q||l?a.a.createElement(a.a.Fragment,null,a.a.createElement(ae.Button,{title:ze("board-views"),ref:ve,className:Oe.a.boardViewsButton,appearance:"dark"===v?"transparent":"transparent-dark",testId:D.BoardHeaderTestIds.BoardViewsSwitcherButton,onClick:()=>{ke(),he(),H&&Q&&(Y(!1),$.forEach((e=>{U(W(e))})),_()),ue(!0),n.Analytics.sendClickedButtonEvent({buttonName:"boardViewsButton",containers:{board:{id:d},organization:{id:u}},attributes:{hasNewPill:Q},source:"boardScreen"})},onMouseOver:()=>{h()},onFocus:()=>{h()},iconBefore:a.a.createElement(a.a.Fragment,null,a.a.createElement(ie.a,{in:!!Q,timeout:150,unmountOnExit:!0,classNames:{exit:Oe.a.newPillExit,exitActive:Oe.a.newPillExitActive}},a.a.createElement("span",{className:Oe.a.boardViewsNewLozenge,"data-test-id":D.BoardHeaderTestIds.BoardViewsSwitcherNewPill},a.a.createElement(p.a,{color:"green"},ze("new")))),F&&a.a.createElement(F,{dangerous_className:Oe.a.icon,size:"small",block:!0,color:N}),V&&a.a.createElement(V,R)),iconAfter:a.a.createElement(ne.DownIcon,{dangerous_className:Oe.a.icon,size:"small",block:!0,color:N})},a.a.createElement("span",{className:Oe.a.boardViewsLabel},M),le&&a.a.createElement(te,{onClose:ke,idBoard:d,idOrg:u})),a.a.createElement(K.b,Fe({},fe,{size:S||l?"large":"medium",noVerticalPadding:!0}),a.a.createElement(K.d,{id:He.BoardViews,title:S||l?Ue("views-prompt-header"):null},S||l?a.a.createElement(xe,{orgName:i,orgId:u,boardId:d,hidePopover:be,isStandardOrFreeTeamBoardGuest:l}):a.a.createElement(G,{idBoard:d,shortLink:m,orgName:i,idOrg:u,paidStatus:o,isOrgPrivate:s,shouldShowTeamTableLink:q,hidePopover:()=>be(),currentView:B,viewOptions:g,clearFilters:()=>b(),isLoadingPowerUpViews:y,powerUpViewOptions:w,currentPowerUpView:{idPlugin:A,key:L}})))):null}},"./app/src/components/BusinessClassTeamOnboardingPupPopover/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"LazyTeamOnboardingPupPopover",(function(){return s})),i.d(t,"LazyTeamOnboardingPupTooltip",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/use-lazy-component/index.ts");const s=e=>{const t=Object(a.useLazyComponent)((()=>i.e(192).then(i.bind(null,"./app/src/components/BusinessClassTeamOnboardingPupPopover/TeamOnboardingPupPopover.tsx"))),{namedImport:"TeamOnboardingPupPopover"});return r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(t,e))},o=e=>{const t=Object(a.useLazyComponent)((()=>i.e(193).then(i.bind(null,"./app/src/components/BusinessClassTeamOnboardingPupPopover/TeamOnboardingPupTooltip.tsx"))),{namedImport:"TeamOnboardingPupTooltip"});return r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(t,e))}},"./app/src/components/Butler/Buttons/ButlerBoardButtons.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerBoardButtons.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/Butler/Buttons/ButlerBoardButtons.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"ButlerBoardButtons",(function(){return w}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./packages/keybindings/index.ts"),l=i("./packages/nachos/button.ts"),c=i("./app/src/components/Butler/showButlerDirectory.ts"),d=i("./app/src/components/Butler/Buttons/ButlerBoardButtons.less"),u=i.n(d),p=i("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),m=i("./app/src/components/Butler/getButlerName.ts"),h=i("./app/scripts/data/butler-id.js"),g=i("./node_modules/@apollo/client/index.js");function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){v(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const k={context:{operationName:"ButlerPluginData"}},y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ButlerPluginData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundBrightness"}}]}},{kind:"Field",name:{kind:"Name",value:"pluginData"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idPlugin"}},{kind:"Field",name:{kind:"Name",value:"value"}},{kind:"Field",name:{kind:"Name",value:"scope"}},{kind:"Field",name:{kind:"Name",value:"access"}}]}}]}}]}}]};const w=({idBoard:e})=>{var t,n;const{data:a}=function(e){const t=f(f({},k),e);return g.useQuery(y,t)}({variables:{idBoard:e},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),d=r.a.useMemo((()=>(e=>{var t;const i=null==e||null===(t=e.board)||void 0===t?void 0:t.pluginData.find((({access:e,idPlugin:t})=>t===h.BUTLER_POWER_UP_ID&&"private"===e));if(i)try{const e=JSON.parse(i.value);return(null==e?void 0:e.suggestions)||{}}catch(e){return{}}return{}})(a)),[a]),b="light"===(null==a||null===(t=a.board)||void 0===t||null===(n=t.prefs)||void 0===n?void 0:n.backgroundBrightness),v=()=>{Object(p.sendPluginUIEvent)({idPlugin:h.BUTLER_POWER_UP_ID,idBoard:e,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}}),Object(c.e)()};return r.a.createElement("div",null,r.a.createElement(l.Button,{className:u.a.butlerBoardButton,appearance:b?"transparent-dark":"transparent",onClick:v,onKeyDown:e=>{Object(o.isSubmitEvent)(e)&&v()},tabIndex:0},r.a.createElement("span",{className:s()("icon-sm","recolorable",u.a.boardButtonIcon),style:{backgroundImage:"url(".concat("automation"===Object(m.getButlerKey)()?"".concat(i(b?"./resources/images/butler/automation-dark.svg":"./resources/images/butler/automation-light.svg")):"".concat(i(b?"./resources/images/butler/butler-bell-icon-dark.svg":"./resources/images/butler/butler-bell-icon-light.svg")),")")}}),r.a.createElement("span",null,(()=>{if(d){const e=d.counts||{},t=Object.values(e).reduce(((e,t)=>e+t),0);if(t>1)return"".concat(Object(m.getButlerName)()," (").concat(t," Tips)");if(t>0)return"".concat(Object(m.getButlerName)()," (").concat(t," Tip)")}return"".concat(Object(m.getButlerName)())})())))}},"./app/src/components/Butler/Buttons/ButlerCardButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/Butler/Buttons/ButlerCardButtons.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButtons.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/Butler/CommandEditors/AvailableActions.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/AvailableActions.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/Butler/CommandEditors/CommandEditor.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandEditor.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/Butler/CommandEditors/CommandSelect.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandSelect.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/Butler/CommandEditors/CommandText.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandText.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/Butler/CommandEditors/index.ts":function(e,t,i){"use strict";i.d(t,"d",(function(){return u})),i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return Je})),i.d(t,"c",(function(){return l})),i.d(t,"e",(function(){return Q}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/atlassian-analytics/index.ts"),s=i("./packages/keybindings/index.ts"),o=i("./app/src/components/Butler/CommandMetadata/index.ts");const l=e=>{const t={type:e,[e]:{}};switch(t.type){case"MOVE_CARD_ACTION":case"COPY_CARD_ACTION":t[t.type].DESTINATION={POSITION_TOP:"top"};break;case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":t[t.type]=!0;break;case"REMOVE_FROM_CARD_ACTION":t[t.type].REMOVE_ALL_MEMBERS=!0;break;case"JOIN_CARD_ACTION":t[t.type]=!0;break;case"ADD_DUE_DATE_ACTION":t[t.type].DUE_DATE={IN_X_FROM_TODAY:{X_WORKING_DAYS:3}};break;case"SORT_LIST_ACTION":t[t.type]={SORT_ASCENDING:!0,SORT_BY_DUE_DATE:!0};break;case"ADD_LABEL_ACTION":t[t.type].LABEL={}}return t};var c=i("./app/src/components/Butler/CommandEditors/AvailableActions.less"),d=i.n(c);const u=(e,t)=>{const i=Object(o.i)(e.TRIGGER),r=Object(n.useMemo)((()=>{var t;return new Set(null===(t=e.ACTION)||void 0===t?void 0:t.map((({type:e})=>e)))}),[e.ACTION.length]);return Object(n.useMemo)((()=>{const e=new Set;function n(t){e.add(t)}var a;("card-button"===t&&n(o.b.Card),i)&&(null===(a=i.providedContext)||void 0===a||a.forEach(n));return r.forEach((e=>{var t;null===(t=o.a[e].providedContext)||void 0===t||t.forEach(n)})),Object.entries(o.a).reduce(((t,[i,n])=>{const{requiredContext:r}=n;return r&&!r.every(e.has.bind(e))||t.push(i),t}),[])}),[i,r,t])},p=({command:e,commandType:t,onSelectAction:i})=>{Object(n.useEffect)((()=>{a.Analytics.sendScreenEvent({name:"addButlerActionInlineDialog",attributes:{commandType:t}})}),[t]);const c=u(e,t),p=e=>{a.Analytics.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"butlerActionMenuItem",source:"addButlerActionInlineDialog",attributes:{actionType:e,commandType:t}});const n=l(e);i(n)};return r.a.createElement(r.a.Fragment,null,c.flatMap((e=>{const t=Object(o.d)(e);if(!t)return null;const i=Object(o.g)(e);return r.a.createElement("div",{key:"butler-actions-list-".concat(e),className:d.a.actionOption,onClick:()=>p(e),onKeyDown:t=>{Object(s.isSubmitEvent)(t)&&p(e)},role:"button",style:{cursor:"pointer"},tabIndex:0},r.a.createElement(i,{dangerous_className:d.a.actionOptionIcon}),t)})))};var m=i("./node_modules/classnames/index.js"),h=i.n(m),g=i("./node_modules/immer/dist/immer.esm.js"),b=i("./packages/nachos/button.ts"),f=i("./packages/nachos/icons/close.tsx"),v=i("./packages/i18n/index.ts"),k=i("./app/src/components/CloseButton/index.ts"),y=i("./packages/nachos/src/components/Select/Select.tsx"),w=i("./app/src/components/Butler/CommandEditors/CommandSelect.less"),j=i.n(w);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const _=Object(v.forNamespace)(["butler","command editor"]),O=e=>{let{width:t}=e,i=C(e,["width"]);return r.a.createElement(y.a,x({appearance:"subtle",containerClassName:j.a.select,containerStyle:{width:t},spacing:"compact",noOptionsMessage:()=>_("no options")},i))};var E=i("./node_modules/@apollo/client/index.js");function S(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(Object(i),!0).forEach((function(t){N(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function N(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const P={context:{operationName:"ActionDestination"}},I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActionDestination"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"initialIdBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"initialBoard"},name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"initialIdBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]};const B=Object(v.forNamespace)(["butler","command"]),D=({id:e,name:t})=>({label:t,value:e}),A=({initialIdBoard:e,selectedBoardName:t,skip:i=!1})=>{const[r,a]=Object(n.useState)(t?void 0:e),{data:s,loading:o}=function(e){const t=T(T({},P),e);return E.useQuery(I,t)}({variables:{idBoard:r||e,initialIdBoard:e},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:i}),{boards:l,lists:c}=Object(n.useMemo)((()=>{var t,i;if(null==s||!s.board||null==s||!s.member)return{boards:[],lists:[]};const n=s.member.boards.map(D);return!n.some((({value:t})=>t===e))&&s.initialBoard&&(n.push(D(s.initialBoard)),n.sort(((e,t)=>e.label.localeCompare(t.label)))),{boards:n,lists:null!==(t=null===(i=s.board.lists)||void 0===i?void 0:i.map(D))&&void 0!==t?t:[]}}),[e,s]);return Object(n.useEffect)((()=>{var e,i;void 0===r&&t&&l.length&&a(null!==(e=null===(i=l.find((({label:e})=>e===t)))||void 0===i?void 0:i.value)&&void 0!==e?e:null)}),[r,t,l]),{idBoard:r,boards:l,lists:c,loading:o,selectBoard:a}},L=[{label:B("top"),value:"top"},{label:B("bottom"),value:"bottom"}],F=Object(v.forNamespace)(["butler","command"]),M=({action:e,update:t,idBoard:i})=>{var a,s;const{idBoard:o,boards:l,lists:c,loading:d,selectBoard:u}=A({initialIdBoard:i,selectedBoardName:e.COPY_CARD_ACTION.DESTINATION.$BOARD});return Object(n.useEffect)((()=>{if(!e.COPY_CARD_ACTION.DESTINATION.$BOARD&&o){const e=l.find((({value:e})=>e===o));e&&t((t=>{t.COPY_CARD_ACTION.DESTINATION.$BOARD=e.label}))}}),[e,t,l,o]),r.a.createElement(r.a.Fragment,null,F("copy_card_to_position_of_the_list_on_board_action",{position:r.a.createElement(O,{width:"120px",key:"copy-card-action-position",onChange:({value:e})=>{t((t=>{"top"===e?(t.COPY_CARD_ACTION.DESTINATION.POSITION_TOP=e,t.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM=void 0):(t.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM=e,t.COPY_CARD_ACTION.DESTINATION.POSITION_TOP=void 0)}))},options:L,value:e.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM?L[1]:L[0]}),list:r.a.createElement(O,{key:"copy-card-action-list",width:"180px",isLoading:d,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.COPY_CARD_ACTION.DESTINATION.$LIST=e}))},options:c,placeholder:F("list name"),value:null!==(a=e.COPY_CARD_ACTION.DESTINATION.$LIST)&&void 0!==a?a:null}),board:r.a.createElement(O,{key:"copy-card-action-board",width:"240px",isLoading:d,isSearchable:!0,onChange:({label:e,value:i})=>{t((t=>{t.COPY_CARD_ACTION.DESTINATION.$BOARD!==e&&(t.COPY_CARD_ACTION.DESTINATION.$BOARD=e,t.COPY_CARD_ACTION.DESTINATION.$LIST=void 0)})),u(i)},options:l,placeholder:F("board name"),value:null!==(s=e.COPY_CARD_ACTION.DESTINATION.$BOARD)&&void 0!==s?s:null})}))},V=Object(v.forNamespace)(["butler","command"]),R=({action:e,update:t,idBoard:i})=>{var a,s;const{idBoard:o,boards:l,lists:c,loading:d,selectBoard:u}=A({initialIdBoard:i,selectedBoardName:e.MOVE_CARD_ACTION.DESTINATION.$BOARD});return Object(n.useEffect)((()=>{if(!e.MOVE_CARD_ACTION.DESTINATION.$BOARD&&o){const e=l.find((({value:e})=>e===o));e&&t((t=>{t.MOVE_CARD_ACTION.DESTINATION.$BOARD=e.label}))}}),[e,t,l,o]),r.a.createElement(r.a.Fragment,null,V("move_card_to_position_of_the_list_on_board_action",{position:r.a.createElement(O,{key:"move-card-action-position",width:"120px",onChange:({value:e})=>{t((t=>{"top"===e?(t.MOVE_CARD_ACTION.DESTINATION.POSITION_TOP=e,t.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM=void 0):(t.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM=e,t.MOVE_CARD_ACTION.DESTINATION.POSITION_TOP=void 0)}))},options:L,value:e.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM?L[1]:L[0]}),list:r.a.createElement(O,{key:"move-card-action-list",width:"180px",isLoading:d,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.MOVE_CARD_ACTION.DESTINATION.$LIST=e}))},options:c,placeholder:V("list name"),value:null!==(a=e.MOVE_CARD_ACTION.DESTINATION.$LIST)&&void 0!==a?a:null}),board:r.a.createElement(O,{key:"move-card-action-board",width:"240px",isLoading:d,isSearchable:!0,onChange:({label:e,value:i})=>{t((t=>{t.MOVE_CARD_ACTION.DESTINATION.$BOARD!==e&&(t.MOVE_CARD_ACTION.DESTINATION.$BOARD=e,t.MOVE_CARD_ACTION.DESTINATION.$LIST=void 0)})),u(i)},options:l,placeholder:V("board name"),value:null!==(s=e.MOVE_CARD_ACTION.DESTINATION.$BOARD)&&void 0!==s?s:null})}))},z=Object(v.forNamespace)(["butler","command"]),U=[{label:z("complete"),value:"MARK_DUE_COMPLETE_ACTION"},{label:z("incomplete"),value:"UNMARK_DUE_COMPLETE_ACTION"}],H=({action:e,update:t})=>r.a.createElement(r.a.Fragment,null,z("mark_due_date_complete_action",{status:r.a.createElement(O,{width:"150px",key:"mark-due-date-action-type",onChange:({value:e})=>{t((t=>{t.type=e,"MARK_DUE_COMPLETE_ACTION"===e?(delete t.UNMARK_DUE_COMPLETE_ACTION,t.MARK_DUE_COMPLETE_ACTION=!0):(delete t.MARK_DUE_COMPLETE_ACTION,t.UNMARK_DUE_COMPLETE_ACTION=!0)}))},options:U,value:U.find((({value:t})=>t===e.type))})}));function W(e){const t=Object.keys(e).find((t=>"number"==typeof e[t]));if(!t)return null;return{propName:t,value:e[t]}}function q(e){const t=e.IN_X_FROM_TODAY?W(e.IN_X_FROM_TODAY):W(e),{value:i,propName:n}=t||{};return{time:i,timeframe:n}}function $({time:e,timeframe:t}){if("number"==typeof e&&t){if("IN_MINUTES"===t||"IN_HOURS"===t)return{[t]:e};if(t)return{IN_X_FROM_TODAY:{[t]:e}}}return{}}const G=(e={})=>{const{POSITION_TOP:t,POSITION_BOTTOM:i,$LIST:n}=e;return!(!t&&!i||!n)},K=(e={})=>!!e.COLOR||!!e.$TITLE,Z=(e,t)=>{const i=t.filter((t=>!!e[t]));return 1===i.length?i[0]:null},J=e=>{switch(e.type){case"MOVE_CARD_ACTION":return G(e.MOVE_CARD_ACTION.DESTINATION);case"COPY_CARD_ACTION":return G(e.COPY_CARD_ACTION.DESTINATION);case"REMOVE_FROM_CARD_ACTION":{const t=e.REMOVE_FROM_CARD_ACTION,i=Z(t,["LABEL","REMOVE_ALL_CHECKLISTS","REMOVE_ALL_MEMBERS","REMOVE_ALL_STICKERS","REMOVE_ALL_LABELS","REMOVE_COVER","REMOVE_DUE_DATE"]);return!!i&&(t.LABEL?K(t.LABEL):!0===t[i])}case"ADD_DUE_DATE_ACTION":{const t=e.ADD_DUE_DATE_ACTION.DUE_DATE;if(!t)return!1;const{time:i,timeframe:n}=q(t);return!!n&&"number"==typeof i&&!Number.isNaN(i)}case"SORT_LIST_ACTION":{const t=e.SORT_LIST_ACTION,i=Z(t,["SORT_BY_AGE","SORT_BY_CUSTOM_FIELD","SORT_BY_DATE_IN_TITLE","SORT_BY_DUE_DATE","SORT_BY_LABEL","SORT_BY_TIME_IN_LIST","SORT_BY_TITLE","SORT_BY_VOTES"]);return!!i&&(t.SORT_BY_LABEL?K(t.SORT_BY_LABEL.SORT_LABEL):t.SORT_BY_CUSTOM_FIELD?((e={})=>!!e.$NAME)(t.SORT_BY_CUSTOM_FIELD):!0===t[i])}case"ADD_LABEL_ACTION":return K(e.ADD_LABEL_ACTION.LABEL);case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":case"JOIN_CARD_ACTION":return!0;default:return!1}},Q=e=>!!e.ACTION.length&&e.ACTION.every(J);function Y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function X(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(i),!0).forEach((function(t){ee(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ee(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const te={context:{operationName:"ActionLabel"}},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActionLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}}]}}]}}]}}]};const ne=["green","yellow","orange","red","purple","blue","sky","lime","pink","black"],re=e=>ne.indexOf(e),ae=Object(v.forNamespace)(["butler","command"]),se=({idBoard:e,onChange:t,value:i,width:a})=>{const{data:s,loading:o}=function(e){const t=X(X({},te),e);return E.useQuery(ie,t)}({variables:{idBoard:e}}),l=Object(n.useMemo)((()=>{var e,t,i;return null!==(e=[...null!==(t=null==s||null===(i=s.board)||void 0===i?void 0:i.labels)&&void 0!==t?t:[]].sort(((e,t)=>{const{color:i,name:n=""}=e,{color:r,name:a=""}=t,s=n.localeCompare(a);return i&&r?re(i)-re(r)||s:!i&&r?1:i&&!r?-1:s})).map((e=>{var t;return{label:r.a.createElement("span",{className:h()({[j.a.colorLabel]:!0,[j.a["colorLabel--".concat(e.color)]]:!!e.color})},e.name),value:{COLOR:null!==(t=e.color)&&void 0!==t?t:null,$TITLE:e.name}}})))&&void 0!==e?e:[]}),[s]),c=Object(n.useMemo)((()=>{if(K(i))return l.find((({value:{COLOR:e,$TITLE:t}})=>e===i.COLOR&&t===i.$TITLE))}),[l,i]);Object(n.useEffect)((()=>{!K(i)&&l.length&&t(l[0].value)}),[i,l,t]);const d=ae(o?"loading":"label");return r.a.createElement(O,{key:"labelSelector",isLoading:o,placeholder:d,onChange:({value:e})=>{t(e)},options:l,value:c,width:a||"250px"})},oe=Object(v.forNamespace)(["butler","command"]),le=[{label:oe("label"),value:"LABEL"},{label:oe("all labels"),value:"REMOVE_ALL_LABELS"},{label:oe("due date"),value:"REMOVE_DUE_DATE"},{label:oe("all checklists"),value:"REMOVE_ALL_CHECKLISTS"},{label:oe("all members"),value:"REMOVE_ALL_MEMBERS"},{label:oe("all stickers"),value:"REMOVE_ALL_STICKERS"},{label:oe("cover"),value:"REMOVE_COVER"}],ce=({action:e,update:t,idBoard:i})=>r.a.createElement(r.a.Fragment,null,oe("remove_from_card_action",{remove:r.a.createElement(O,{key:"selector",onChange:({value:e})=>{t((t=>{t.REMOVE_FROM_CARD_ACTION="LABEL"!==e?{[e]:!0}:{LABEL:{}}}))},options:le,value:le.find((t=>t.value===Object.keys(e.REMOVE_FROM_CARD_ACTION)[0])),width:"140px"}),removeLabel:e.REMOVE_FROM_CARD_ACTION.LABEL&&r.a.createElement(se,{key:"labelSelector",idBoard:i,value:e.REMOVE_FROM_CARD_ACTION.LABEL,onChange:e=>{t((t=>{t.REMOVE_FROM_CARD_ACTION.LABEL=e}))}})})),de=Object(v.forNamespace)(["butler","command"]),ue=()=>r.a.createElement(r.a.Fragment,null,de("join_card_action"));var pe=i("./packages/nachos/src/components/Textfield/Textfield.tsx"),me=i("./app/src/components/Butler/CommandEditors/CommandText.less"),he=i.n(me);function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const fe=e=>{let{width:t}=e,i=be(e,["width"]);return r.a.createElement(pe.a,ge({className:he.a.commandText,appearance:"borderless",spacing:"compact",style:{width:t}},i))},ve=Object(v.forNamespace)(["butler","command"]),ke=[{label:ve("minutes"),value:"IN_MINUTES"},{label:ve("hours"),value:"IN_HOURS"},{label:ve("days"),value:"X_DAYS"},{label:ve("working days"),value:"X_WORKING_DAYS"},{label:ve("weeks"),value:"X_WEEKS"},{label:ve("months"),value:"X_MONTHS"}],ye=({update:e,action:t})=>{const{time:i,timeframe:n}=q(t.ADD_DUE_DATE_ACTION.DUE_DATE);return r.a.createElement(r.a.Fragment,null,ve("add_due_date_action",{time:r.a.createElement(fe,{key:"timeSelector",type:"number",onChange:t=>{e((e=>{e.ADD_DUE_DATE_ACTION.DUE_DATE=$({time:Math.max(0,parseInt(t.target.value,10))||0,timeframe:n})}))},value:i,width:"30px"}),timeframe:r.a.createElement(O,{key:"timeframeSelector",onChange:t=>{e((e=>{e.ADD_DUE_DATE_ACTION.DUE_DATE=$({time:i,timeframe:t.value})}))},options:ke,value:ke.find((e=>e.value===n)),width:"120px"})}))};function we(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function je(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?we(Object(i),!0).forEach((function(t){xe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):we(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function xe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ce(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const _e=Object(v.forNamespace)(["butler","command"]),Oe=[{label:_e("age"),value:"SORT_BY_AGE"},{label:_e("due date"),value:"SORT_BY_DUE_DATE"},{label:_e("label"),value:"SORT_BY_LABEL"},{label:_e("time in list"),value:"SORT_BY_TIME_IN_LIST"},{label:_e("title"),value:"SORT_BY_TITLE"},{label:_e("votes"),value:"SORT_BY_VOTES"}],Ee=[{label:_e("ascending"),value:"SORT_ASCENDING"},{label:_e("descending"),value:"SORT_DESCENDING"}],Se=({action:e,update:t,idBoard:i})=>{const a=!!e.SORT_LIST_ACTION.$LIST,{lists:s,loading:o}=A({initialIdBoard:i,skip:!a}),l=Object(n.useMemo)((()=>Oe.find((({value:t})=>!!e.SORT_LIST_ACTION[t]))),[e]),c=e.SORT_LIST_ACTION.SORT_ASCENDING?Ee[0]:Ee[1];return r.a.createElement(r.a.Fragment,null,_e(a?"sort_specific_list_action":"sort_list_action",{list:a?r.a.createElement(O,{key:"sort-list-list",width:"180px",isLoading:o,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.SORT_LIST_ACTION.$LIST=e}))},options:s,placeholder:_e("list name"),value:e.SORT_LIST_ACTION.$LIST}):void 0,field:r.a.createElement(r.a.Fragment,{key:"sort-list-field"},r.a.createElement(O,{key:"sort-list-field-select",onChange:({value:e})=>{(null==l?void 0:l.value)!==e&&t((t=>{const{$LIST:i,SORT_ASCENDING:n,SORT_DESCENDING:r}=t.SORT_LIST_ACTION;t.SORT_LIST_ACTION={$LIST:i,SORT_ASCENDING:n,SORT_DESCENDING:r,[e]:"SORT_BY_LABEL"!==e||{SORT_LABEL:{}}}}))},options:Oe,value:l,width:"180px"}),e.SORT_LIST_ACTION.SORT_BY_LABEL&&r.a.createElement(se,{key:"sort-list-by-label-selector",idBoard:i,value:e.SORT_LIST_ACTION.SORT_BY_LABEL.SORT_LABEL,onChange:e=>{t((t=>{t.SORT_LIST_ACTION.SORT_BY_LABEL={SORT_LABEL:e}}))}})),direction:r.a.createElement(O,{key:"sort-list-direction",onChange:({value:e})=>{t((t=>{const i=t.SORT_LIST_ACTION,{SORT_ASCENDING:n,SORT_DESCENDING:r}=i,a=Ce(i,["SORT_ASCENDING","SORT_DESCENDING"]);t.SORT_LIST_ACTION=je(je({},a),{},{[e]:!0})}))},options:Ee,value:c,width:"150px"})}))},Te=Object(v.forNamespace)(["butler","command"]),Ne=({action:e,update:t,idBoard:i})=>r.a.createElement(r.a.Fragment,null,Te("add_label_action",{label:r.a.createElement(se,{key:"labelSelector",idBoard:i,width:"190px",value:e.ADD_LABEL_ACTION.LABEL,onChange:e=>{t((t=>{t.ADD_LABEL_ACTION.LABEL=e}))}})}));function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const Be=Object(v.forNamespace)(["butler","command"]),De=({trigger:e,update:t,idBoard:i})=>{var n;const{lists:a,loading:s}=A({initialIdBoard:i});return r.a.createElement(r.a.Fragment,null,Be("when_card_is_added_into_list_trigger",{list:r.a.createElement(O,{key:"when-card-into-list-trigger-list",width:"180px",isLoading:s,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.WHEN.CARD_INTO_LIST.$LIST=e}))},options:a,placeholder:Be("list name"),value:null!==(n=e.CARD_INTO_LIST.$LIST)&&void 0!==n?n:null})}))};var Ae=i("./node_modules/moment/moment.js");const Le=Object(v.forNamespace)(["butler","command"]),Fe=Object(Ae.weekdays)().map(((e,t)=>({label:e,value:String(t)}))),Me=({trigger:e,update:t})=>{var i;return r.a.createElement(r.a.Fragment,null,Le("certain_days_trigger",{day:r.a.createElement(O,{width:"150px",key:"certain-days-trigger-day",onChange:({value:e})=>{t((t=>{t.EVERY.CERTAIN_DAYS.DAY=Number(e)}))},options:Fe,placeholder:Le("list name"),value:Fe[null!==(i=e.CERTAIN_DAYS.DAY)&&void 0!==i?i:0]})}))},Ve=Object(v.forNamespace)(["butler","command"]),Re=()=>r.a.createElement(r.a.Fragment,null,Ve("every_day_trigger"));function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ue(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var He=i("./app/src/components/Butler/CommandEditors/CommandEditor.less"),We=i.n(He);function qe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function $e(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(i),!0).forEach((function(t){Ge(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):qe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ge(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ke(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const Ze=Object(v.forNamespace)(["butler","command editor"]),Je=e=>{var t;let{command:i,commandType:n,source:l,onUpdateCommand:c,onClickAddAction:d}=e,p=Ke(e,["command","commandType","source","onUpdateCommand","onClickAddAction"]);const{TRIGGER:m,ACTION:v}=i,y=Object(o.j)(m),w=u(i,n),j=v.length<10&&w.length&&(w.length>1||(null===(t=v[0])||void 0===t?void 0:t.type)!==w[0]),x=v.length>1,C=({Icon:e,category:t,onClickRemove:i})=>r.a.createElement("div",{className:We.a.header},r.a.createElement("div",{className:We.a.category},r.a.createElement(e,{dangerous_className:We.a.icon}),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),i?r.a.createElement(k.a,{className:We.a.removeButton,closeIcon:r.a.createElement(f.a,{color:"quiet",size:"xsmall"}),onClick:i}):null);return r.a.createElement("div",{className:We.a.grid},m&&y?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:We.a.sectionLabel},Ze("when")),r.a.createElement("div",{className:We.a.trigger},C({Icon:Object(o.h)(y),category:Object(o.f)(y)}),r.a.createElement("div",{className:We.a.editor},(e=>{let{trigger:t}=e,i=Ue(e,["trigger"]);if(t.EVERY)switch(t.EVERY.type){case"EVERY_DAY":return r.a.createElement(Re,ze({trigger:t.EVERY},i));case"CERTAIN_DAYS":return r.a.createElement(Me,ze({trigger:t.EVERY},i));default:return null}else if(t.WHEN)switch(t.WHEN.type){case"CARD_INTO_LIST":return r.a.createElement(De,ze({trigger:t.WHEN},i));default:return null}return null})($e({trigger:m,update:e=>{c(Object(g.b)(i,(t=>{e(t.TRIGGER)})))}},p)))),r.a.createElement("hr",{className:h()(We.a.thread,We.a["thread--md"])}),r.a.createElement("p",{className:We.a.sectionLabel},Ze("then")),r.a.createElement("hr",{className:h()(We.a.thread,We.a["thread--lg"])})):r.a.createElement("p",{className:We.a.sectionLabel},Ze("actions")),v.map(((e,t)=>{const n=Object(o.g)(e.type);return r.a.createElement(r.a.Fragment,{key:"butler-command-editor-action-".concat(t)},r.a.createElement("div",{className:We.a.action},C({Icon:n,category:Object(o.c)(e.type),onClickRemove:x?()=>{c(Object(g.b)(i,(e=>{e.ACTION.splice(t,1)}))),a.Analytics.sendClickedButtonEvent({buttonName:"removeButlerActionButton",source:l})}:void 0}),r.a.createElement("div",{className:We.a.editor},(e=>{let{action:t,index:i}=e,n=Ie(e,["action","index"]);const a="".concat(t.type,"-").concat(i);switch(t.type){case"COPY_CARD_ACTION":return r.a.createElement(M,Pe({key:a,action:t},n));case"MOVE_CARD_ACTION":return r.a.createElement(R,Pe({key:a,action:t},n));case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":return r.a.createElement(H,Pe({key:a,action:t},n));case"REMOVE_FROM_CARD_ACTION":return r.a.createElement(ce,Pe({key:a,action:t},n));case"JOIN_CARD_ACTION":return r.a.createElement(ue,Pe({key:a,action:t},n));case"ADD_DUE_DATE_ACTION":return r.a.createElement(ye,Pe({key:a,action:t},n));case"SORT_LIST_ACTION":return r.a.createElement(Se,Pe({key:a,action:t},n));case"ADD_LABEL_ACTION":return r.a.createElement(Ne,Pe({key:a,action:t},n));default:return null}})($e({action:e,update:e=>{c(Object(g.b)(i,(i=>{e(i.ACTION[t])})))},index:t},p)))),j||t<v.length-1?r.a.createElement("hr",{className:h()(We.a.thread,We.a["thread--sm"])}):null)})),j?r.a.createElement(b.Button,{appearance:0===v.length?"primary":"default",className:We.a.addActionButton,size:"fullwidth",onClick:d,onKeyPress:e=>{Object(s.isSubmitEvent)(e)&&(null==d||d())}},"+ ",Ze("add action")):null)}},"./app/src/components/Butler/CommandMetadata/index.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"j",(function(){return d})),i.d(t,"i",(function(){return u})),i.d(t,"g",(function(){return N})),i.d(t,"h",(function(){return T})),i.d(t,"c",(function(){return I})),i.d(t,"f",(function(){return B})),i.d(t,"e",(function(){return A})),i.d(t,"b",(function(){return a}));var n=i("./packages/objects/index.ts"),r=i("./packages/i18n/index.ts");let a,s;!function(e){e.Card="card",e.Checklist="checklist",e.List="list"}(a||(a={})),function(e){e.Add="add",e.Archive="archive",e.Calendar="calendar",e.CardChanges="card changes",e.CardsAndLists="cards and lists",e.Checklists="checklists",e.Confetti="confetti",e.Content="content",e.Copy="copy",e.Dates="dates",e.Fields="fields",e.Labels="labels",e.Members="members",e.Move="move",e.Remove="remove",e.Sort="sort"}(s||(s={}));const o=Object(n.a)({MOVE_CARD_ACTION:{category:s.Move,requiredContext:[a.Card]},COPY_CARD_ACTION:{category:s.Copy,requiredContext:[a.Card]},ADD_LABEL_ACTION:{category:s.Labels,requiredContext:[a.Card]},JOIN_CARD_ACTION:{category:s.Members,requiredContext:[a.Card]},ADD_DUE_DATE_ACTION:{category:s.Dates,requiredContext:[a.Card]},MARK_DUE_COMPLETE_ACTION:{category:s.Dates,requiredContext:[a.Card]},UNMARK_DUE_COMPLETE_ACTION:{category:s.Dates,requiredContext:[a.Card]},REMOVE_FROM_CARD_ACTION:{category:s.Remove,requiredContext:[a.Card]},SORT_LIST_ACTION:{category:s.Sort}}),l=Object(r.forNamespace)(["butler","action labels"],{returnBlankForMissingStrings:!0}),c=Object(n.a)({CARD_INTO_LIST:{category:s.CardsAndLists,commandType:"rule",providedContext:[a.Card,a.List]},EVERY_DAY:{category:s.Calendar,commandType:"schedule"},CERTAIN_DAYS:{category:s.Calendar,commandType:"schedule"}}),d=e=>{var t,i;return null!==(t=null==e||null===(i=e[e.type])||void 0===i?void 0:i.type)&&void 0!==t?t:null},u=e=>{const t=d(e);return t?c[t]:null};var p=i("./packages/nachos/icons/add.tsx"),m=i("./packages/nachos/icons/archive.tsx"),h=i("./packages/nachos/icons/calendar.tsx"),g=i("./packages/nachos/icons/card.tsx"),b=i("./packages/nachos/icons/checklist.tsx"),f=i("./packages/nachos/icons/clock.tsx"),v=i("./packages/nachos/icons/comment.tsx"),k=i("./packages/nachos/icons/copy.tsx"),y=i("./packages/nachos/icons/description.tsx"),w=i("./packages/nachos/icons/filter.tsx"),j=i("./packages/nachos/icons/label.tsx"),x=i("./packages/nachos/icons/list.tsx"),C=i("./packages/nachos/icons/member.tsx"),_=i("./packages/nachos/icons/move.tsx"),O=i("./packages/nachos/icons/remove.tsx"),E=i("./packages/nachos/icons/sparkle.tsx");const S=Object(n.a)({[s.Add]:p.a,[s.Archive]:m.a,[s.Calendar]:h.CalendarIcon,[s.CardChanges]:g.a,[s.CardsAndLists]:x.ListIcon,[s.Checklists]:b.a,[s.Confetti]:E.a,[s.Content]:v.a,[s.Copy]:k.a,[s.Dates]:f.a,[s.Fields]:y.a,[s.Labels]:j.a,[s.Members]:C.MemberIcon,[s.Move]:_.a,[s.Remove]:O.a,[s.Sort]:w.a}),T=e=>S[c[e].category],N=e=>S[o[e].category],P=Object(r.forNamespace)(["butler","command element categories"]),I=e=>P(o[e].category),B=e=>P(c[e].category),D=Object(n.a)({[s.Add]:"fas-plus",[s.Archive]:"fas-archive",[s.Checklists]:"fas-check-square",[s.Confetti]:"fas-magic",[s.Content]:"fas-comment",[s.Copy]:"fas-copy",[s.Dates]:"fas-clock",[s.Fields]:"fas-align-justify",[s.Labels]:"fas-tag",[s.Members]:"fas-user",[s.Move]:"fas-arrow-right",[s.Remove]:"fas-minus",[s.Sort]:"fas-sort-amount-down"}),A=(e,t=!1)=>{var i;const n=null!==(i=e&&D[o[e].category])&&void 0!==i?i:"gears";return t?n:"https://app.butlerfortrello.com/assets/fa-5.1.1/icons/pngs/".concat(n,".png")}},"./app/src/components/Butler/ListRule/ButlerListMenuSection.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/ListRule/ButlerListMenuSection.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/Butler/ListRule/listRuleDraftState.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=new(i("./packages/shared-state/index.ts").b)({})},"./app/src/components/Butler/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"ButlerCardButtons",(function(){return J})),i.d(t,"ButlerListMenuSection",(function(){return ce})),i.d(t,"showButlerDirectory",(function(){return k.d})),i.d(t,"ButlerTab",(function(){return k.b})),i.d(t,"ButlerNewCommandId",(function(){return k.a}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./app/scripts/debug/constants.ts"),s=i("./app/src/components/ErrorBoundary/index.ts"),o=i("./node_modules/classnames/index.js"),l=i.n(o),c=i("./packages/atlassian-analytics/index.ts"),d=i("./packages/keybindings/index.ts"),u=i("./packages/nachos/icons/information.tsx"),p=i("./packages/nachos/popover.ts"),m=i("./packages/use-lazy-component/index.ts"),h=i("./packages/nachos/button.ts"),g=i("./packages/i18n/index.ts"),b=i("./app/src/components/UpgradePrompts/index.ts"),f=i("./app/src/components/Butler/getButlerName.ts"),v=i("./app/src/components/Butler/showButlerAlert.ts"),k=i("./app/src/components/Butler/showButlerDirectory.ts"),y=i("./packages/feature-flag-client/index.ts"),w=i("./node_modules/@apollo/client/index.js");function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){C(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _={context:{operationName:"HasButlerAccess"}},O={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HasButlerAccess"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"organization"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"enterprise"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idAdmins"}}]}}]}}]}}]}}]};const E=e=>{const t=Object(y.useFeatureFlag)("workflowers.butler-ent-admin-only-allowlist",[]),{data:i}=function(e){const t=x(x({},_),e);return w.useQuery(O,t)}({variables:{idBoard:e}});return Object(n.useMemo)((()=>{var e,n,r,a;if(null==i||!i.board)return!1;const{idEnterprise:s}=i.board;if(!s||!t.includes(s))return!0;const o=null===(e=i.member)||void 0===e?void 0:e.id,{organization:l}=i.board;if(!o||!l)return!1;const{idAdmins:c}=null!==(n=l.enterprise)&&void 0!==n?n:{};return(null==c?void 0:c.includes(o))||"admin"===(null===(r=l.memberships)||void 0===r||null===(a=r.find((e=>e.idMember===o)))||void 0===a?void 0:a.memberType)}),[t,i])};var S=i("./app/scripts/views/lib/dialog.js"),T=i.n(S),N=i("./packages/config/index.ts"),P=i("./packages/session-cookie/index.ts");var I=i("./app/src/components/Butler/Buttons/ButlerCardButton.less"),B=i.n(I);const D=({button:e,idCard:t,idBoard:i,idOrganization:a,cardButtonCallback:s})=>{const[o,u]=Object(n.useState)(!1),p=async(n=!1)=>{if(o)return;c.Analytics.sendClickedButtonEvent({buttonName:"butlerCardButton",source:"cardDetailScreen",containers:Object(c.formatContainers)({idCard:t,idBoard:i,idOrganization:a}),attributes:{close:!!e.close,section:"butlerCardButtons",viaKeypress:n}}),u(!0),e.close&&T.a.hide(!0);const r=await async function({idButton:e,idBoard:t,idCard:i}){try{const n=await fetch("/1/boards/".concat(t,"/butlerButtons/").concat(e,"/runs"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Trello-Client-Version":N.clientVersion},body:JSON.stringify({idCard:i,token:P.token})});if(!n.ok){if(504===n.status)return v.a.GatewayTimeout;const e=await n.text();if("CANT_PARSE_COMMAND"===e)return v.a.InvalidCommand;if("MEMBER_NOT_CONFIRMED"===e)return v.a.Unauthorized;try{if("Command quota exceeded"===JSON.parse(e).message)return v.a.PowerupUsageExceeded}catch(e){}return v.a.RunButtonError}}catch(e){return v.a.NetworkError}return v.a.Success}({idButton:e.id,idBoard:i,idCard:t});u(!1),s(r)};return r.a.createElement("a",{key:e.id,className:l()("button-link",{disabled:o}),onClick:()=>p(),onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&p(!0)},role:"button",tabIndex:0,title:e.label},r.a.createElement("span",{className:l()("icon-sm","plugin-icon",B.a.icon,{spinner:o}),style:{backgroundImage:o?"":"url(".concat(e.image,")")}}),e.label)};var A=i("./app/scripts/init/useSocketSubscription.ts");function L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function F(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){M(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const V={context:{operationName:"ButlerButtons"}},R={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ButlerButtons"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idOrganization"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skipOrganization"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"butlerButtonLimit"}},{kind:"Field",name:{kind:"Name",value:"privateButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}},{kind:"Field",name:{kind:"Name",value:"sharedButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}},{kind:"Field",name:{kind:"Name",value:"butlerButtonOverrides"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idButton"}},{kind:"Field",name:{kind:"Name",value:"overrides"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idOrganization"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"skipOrganization"}}}]},{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"privateButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}},{kind:"Field",name:{kind:"Name",value:"sharedButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}}]}}]}}]};function z(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function U(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const H=(e,t)=>{if(!e||!t)return null!=e?e:[];const i=e.map((e=>function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?z(Object(i),!0).forEach((function(t){U(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):z(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e)));return null==t||t.forEach((({idButton:e,overrides:t})=>{const n=i.find((({id:t})=>t===e));n&&"boolean"==typeof(null==t?void 0:t.enabled)&&(n.enabled=t.enabled)})),i},W=({type:e,idBoard:t,idOrganization:i})=>{var r,a;const s=!i;Object(A.a)("Board",t),Object(A.a)("Organization",i,s);const[o,l]=Object(n.useState)([]),{data:c}=function(e){const t=F(F({},V),e);return w.useQuery(R,t)}({variables:{idBoard:t,idOrganization:i,skipOrganization:s},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"});return Object(n.useEffect)((()=>{c&&l(((e,{member:t,board:i,organization:n})=>{var r,a;return i?[H(null!==(r=null==n?void 0:n.sharedButlerButtons)&&void 0!==r?r:[],i.butlerButtonOverrides),H(null!==(a=null==n?void 0:n.privateButlerButtons)&&void 0!==a?a:[],i.butlerButtonOverrides),H(i.sharedButlerButtons,i.butlerButtonOverrides),H(i.privateButlerButtons,i.butlerButtonOverrides)].flatMap((i=>i.filter((t=>t.enabled&&t.type===e)).sort(((e,t)=>e.pos-t.pos)).sort(((e,i)=>e.idMemberOwner===(null==t?void 0:t.id)&&i.idMemberOwner!==(null==t?void 0:t.id)?-1:e.idMemberOwner!==(null==t?void 0:t.id)&&i.idMemberOwner===(null==t?void 0:t.id)?1:0)))).slice(0,i.butlerButtonLimit).sort(((e,t)=>e.label.localeCompare(t.label))):[]})(e,c))}),[e,c]),{buttons:o,limit:Math.max(null!==(r=null==c||null===(a=c.board)||void 0===a?void 0:a.butlerButtonLimit)&&void 0!==r?r:20,20)}};var q=i("./app/src/components/Butler/Buttons/ButlerCardButtons.less"),$=i.n(q);function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const K=Object(g.forNamespace)("butler"),Z=({idCard:e,idBoard:t,idOrganization:a})=>{const{buttons:s,limit:o}=W({type:"card-button",idBoard:t,idOrganization:a}),{shouldDisplayUpgradePrompt:g}=Object(b.useUpgradePromptRules)(a),y=Object(m.useLazyComponent)((()=>Promise.resolve().then(i.bind(null,"./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx"))),{namedImport:"UpgradeSmartComponent"}),{popoverProps:w,triggerRef:j,show:x,hide:C}=Object(p.e)({onShow:()=>{c.Analytics.sendScreenEvent({name:"butlerUpsellInlineDialog",containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:a})})}}),{popoverProps:_,triggerRef:O,toggle:S}=Object(p.e)({onShow:()=>{c.Analytics.sendScreenEvent({name:"aboutButlerInlineDialog",containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:a}),attributes:{numCardButtons:s.length}})}}),T=Object(m.useLazyComponent)((()=>i.e(26).then(i.bind(null,"./app/src/components/Butler/Buttons/AddCardButtonPopover.tsx"))),{namedImport:"AddCardButtonPopover"}),{popoverProps:N,triggerRef:P,toggle:I,push:B,pop:A,hide:L}=Object(p.e)({onShow:()=>{c.Analytics.sendScreenEvent({name:"addButlerCardButtonInlineDialog",containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:a}),attributes:{numCardButtons:s.length}})}}),F=e=>{e===v.a.PowerupUsageExceeded&&g?x():Object(v.b)(e)},M=({source:i,butlerTab:n,butlerCmdEdit:r})=>{i&&c.Analytics.sendClickedLinkEvent({linkName:"openButlerLink",source:i,containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:a})}),Object(k.d)(t,n,r)},V=E(t),R=(i=!1)=>{c.Analytics.sendClickedButtonEvent({buttonName:"addButlerCardButtonButton",source:"cardDetailScreen",containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:a}),attributes:{numCardButtons:s.length,viaKeypress:i}}),s.length>=o?Object(v.b)(v.a.ButtonLimitMet):V?I():Object(k.d)(t)},z=(i=!1)=>{c.Analytics.sendClickedLinkEvent({linkName:"giveFeedbackLink",source:"aboutButlerInlineDialog",containers:Object(c.formatContainers)({idCard:e,idBoard:t,idOrganization:a}),attributes:{viaKeypress:i}})};return r.a.createElement("div",{className:"window-module u-clearfix",ref:j},r.a.createElement("div",{className:$.a.header},r.a.createElement("h3",{className:"mod-no-top-margin"},Object(f.getButlerName)()),r.a.createElement("a",{className:l()(["button-link",$.a.informationIcon]),onClick:S,onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&S()},ref:O,role:"button",tabIndex:0},r.a.createElement(u.a,{size:"small"}))),r.a.createElement("div",{className:"u-clearfix"},s.map((i=>r.a.createElement(D,{key:i.id,button:i,idCard:e,idBoard:t,idOrganization:a,cardButtonCallback:F}))),r.a.createElement("div",null,r.a.createElement("a",{className:"button-link add-button-link",onClick:()=>R(),onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&R(!0)},role:"button",ref:P,tabIndex:0,title:K("add button")},K("add button")))),N.isVisible?r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(T,{idCard:e,idBoard:t,idOrganization:a,popoverProps:N,push:B,pop:A,hide:L,goToButlerDirectory:(e,t)=>{M({butlerTab:e,butlerCmdEdit:t}),L()}})):null,r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(y,{orgId:a,promptId:"butlerUpsellPopoverPromptFull",additionalProps:{popoverProps:w,goToButler:()=>{M({source:"butlerUpsellInlineDialog"}),C()},ctaOnClick:C}})),r.a.createElement(p.b,G({},_,{title:K("about butler")}),r.a.createElement("div",{className:$.a.aboutButlerPopoverContent},r.a.createElement("p",null,K("about butler description 1")),r.a.createElement("p",null,K("about butler description 2"))),r.a.createElement(h.Button,{appearance:"primary",size:"fullwidth",onClick:()=>M({source:"aboutButlerInlineDialog"}),onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&M({source:"aboutButlerInlineDialog"})},tabIndex:0},K("go to the butler directory")),r.a.createElement("div",{className:$.a.feedbackLinkContainer},r.a.createElement("a",{href:"https://trello.typeform.com/to/VVTrq577",target:"_blank",className:$.a.feedbackLink,onClick:()=>z(),onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&z(!0)}},K("give us feedback")))))},J=e=>r.a.createElement(s.ErrorBoundary,{tags:{ownershipArea:"trello-workflowers",feature:a.Feature.ButlerOnBoards}},r.a.createElement(Z,e));var Q=i("./packages/nachos/icons/external-link.tsx"),Y=i("./app/scripts/views/lib/pop-over.js"),X=i.n(Y),ee=i("./app/src/components/ComponentWrapper/index.ts"),te=i("./app/src/components/NewFeature/index.ts"),ie=i("./app/src/components/Butler/CommandEditors/index.ts"),ne=i("./app/src/components/Butler/ListRule/listRuleDraftState.ts");var re=i("./app/src/components/Butler/ListRule/ButlerListMenuSection.less"),ae=i.n(re);function se(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const oe=Object(g.forTemplate)("list_menu"),le=Object(g.forNamespace)(["butler","create list rule popover"]),ce=e=>{let{listName:t}=e,o=se(e,["listName"]);const u=Object(m.useLazyComponent)((()=>i.e(59).then(i.bind(null,"./app/src/components/Butler/ListRule/CreateListRulePopover.tsx"))),{namedImport:"CreateListRulePopover"}),{acknowledgeNewFeature:p}=Object(te.useNewFeature)(te.FeatureId.ButlerOnBoardsV2),{idBoard:h}=o;if(!E(h))return null;const g=e=>{p({explicit:!0,source:"listMenuInlineDialog"}),(({template:e,listName:t})=>{switch(e){case"when-a-card-is-added-to-the-list":return void ne.a.setValue({TRIGGER:{type:"WHEN",WHEN:{type:"CARD_INTO_LIST",CARD_INTO_LIST:{$LIST:t}}},ACTION:[]});case"every-day-sort-list-by":{const e=Object(ie.c)("SORT_LIST_ACTION");return e.SORT_LIST_ACTION.$LIST=t,void ne.a.setValue({TRIGGER:{type:"EVERY",EVERY:{type:"EVERY_DAY",EVERY_DAY:!0}},ACTION:[e]})}case"every-monday-sort-list-by":{const e=Object(ie.c)("SORT_LIST_ACTION");return e.SORT_LIST_ACTION.$LIST=t,void ne.a.setValue({TRIGGER:{type:"EVERY",EVERY:{type:"CERTAIN_DAYS",CERTAIN_DAYS:{DAY:1}}},ACTION:[e]})}default:throw new Error("Invalid template: ".concat(e))}})({template:e,listName:t}),X.a.pushView({getViewTitle:()=>le("new rule"),reactElement:r.a.createElement(ee.ComponentWrapper,{key:"butlerCreateListRulePopover"},r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(s.ErrorBoundary,{tags:{ownershipArea:"trello-workflowers",feature:a.Feature.ButlerOnBoards}},r.a.createElement(u,o))))}),c.Analytics.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"butlerRuleTemplateMenuItem",source:"listMenuInlineDialog",containers:Object(c.formatContainers)(o),attributes:{template:e}})},b=async()=>{p({explicit:!0,source:"listMenuInlineDialog"}),await Object(k.d)(h,k.b.Rules,k.a),c.Analytics.sendClickedButtonEvent({buttonName:"createCustomButlerRuleButton",source:"listMenuInlineDialog",containers:Object(c.formatContainers)(o)}),X.a.hide()};return r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:ae.a.header},r.a.createElement("div",{className:ae.a.title},Object(f.getButlerName)(),r.a.createElement("span",{className:ae.a.newPill},r.a.createElement(te.NewPill,{featureId:te.FeatureId.ButlerOnBoardsV2,source:"listMenuInlineDialog"})))),r.a.createElement("ul",{className:l()("pop-over-list",ae.a.templates)},["when-a-card-is-added-to-the-list","every-day-sort-list-by","every-monday-sort-list-by"].map((e=>{const t=oe(e);return r.a.createElement("li",{key:e},r.a.createElement("a",{className:ae.a.template,onClick:()=>g(e),onKeyDown:t=>{Object(d.isSubmitEvent)(t)&&g(e)},role:"link",title:t,tabIndex:0},t))})),r.a.createElement("li",null,r.a.createElement("a",{className:ae.a.customRuleButton,onClick:b,onKeyDown:e=>{Object(d.isSubmitEvent)(e)&&b()},role:"link",title:oe("create-a-custom-rule"),tabIndex:0},r.a.createElement("span",{className:ae.a.customRuleLabel},oe("create-a-custom-rule")),r.a.createElement("span",{className:ae.a.externalLinkIcon},r.a.createElement(Q.a,null))))))}},"./app/src/components/Butler/showButlerAlert.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return l}));var n=i("./packages/nachos/experimental.ts"),r=i("./packages/i18n/index.ts");const a=Object(r.forNamespace)(["butler","alert"]);let s;!function(e){e.Success="Success",e.InvalidCommand="InvalidCommand",e.PowerupUsageExceeded="PowerupUsageExceeded",e.RunButtonError="RunButtonError",e.NetworkError="NetworkError",e.ButtonLimitMet="ButtonLimitMet",e.GatewayTimeout="GatewayTimeout",e.CommandTooLong="CommandTooLong",e.CommandStorageExceeded="CommandStorageExceeded",e.SomethingWentWrong="SomethingWentWrong",e.Unauthorized="Unauthorized"}(s||(s={}));const o={[s.Success]:{appearance:"success",title:a("success")},[s.InvalidCommand]:{appearance:"error",title:a("invalid command")},[s.PowerupUsageExceeded]:{appearance:"error",title:a("usage exceeded"),learnMoreHref:"https://help.trello.com/article/1181-butler-features-and-quotas"},[s.RunButtonError]:{appearance:"error",title:a("button error"),learnMoreHref:"https://help.trello.com/article/1150-opening-the-butler-usage-log"},[s.NetworkError]:{appearance:"error",title:a("network error")},[s.ButtonLimitMet]:{appearance:"error",title:a("button limit met"),learnMoreHref:"https://help.trello.com/article/1181-butler-features-and-quotas"},[s.GatewayTimeout]:{appearance:"error",title:a("gateway timeout")},[s.CommandTooLong]:{appearance:"error",title:a("command too long")},[s.CommandStorageExceeded]:{appearance:"error",title:a("command storage exceeded")},[s.SomethingWentWrong]:{appearance:"error",title:a("something went wrong")},[s.Unauthorized]:{appearance:"error",title:a("unauthorized")}};function l(e){const{appearance:t,title:i,learnMoreHref:r}=o[e];t&&i&&Object(n.showFlag)({title:i,appearance:t,actions:r?[{content:a("learn more"),href:r,target:"_blank",type:"link"}]:void 0,isAutoDismiss:!0,msTimeout:5e3})}},"./app/src/components/Butler/showButlerDirectory.ts":function(e,t,i){"use strict";i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return g})),i.d(t,"a",(function(){return b})),i.d(t,"d",(function(){return f})),i.d(t,"e",(function(){return v}));var n=i("./packages/error-reporting/index.ts"),r=i("./app/scripts/data/butler-id.js"),a=i("./app/scripts/db/model-cache.js"),s=i.n(a),o=i("./app/scripts/debug/constants.ts"),l=i("./app/scripts/views/internal/plugins/plugin-runner.js"),c=i.n(l),d=i("./app/src/components/Butler/CommandMetadata/index.ts"),u=i("./packages/feature-flag-client/index.ts"),p=i("./app/scripts/controller/index.js"),m=i.n(p);let h;!function(e){e.Rules="rules",e.BoardButton="board-button",e.CardButton="card-button",e.Schedule="scheduled",e.DueDate="on-date"}(h||(h={}));const g=e=>{var t;switch(null===(t=Object(d.i)(e.TRIGGER))||void 0===t?void 0:t.commandType){case"rule":return h.Rules;case"schedule":return h.Schedule;case"on-date":return h.DueDate;default:return}},b="new",f=async(e,t,i)=>{if(u.featureFlagClient.get("workflowers.new-butler-board-button",!1))return m.a.getCurrentBoardView().navigateToButlerView({tab:t,edit:i});const a=s.a.get("Board",e);try{await c.a.one({plugin:r.BUTLER_POWER_UP_ID,command:"show-settings",board:a,options:{butlerTab:t,butlerCmdEdit:i}})}catch(e){Object(n.sendErrorEvent)(e,{tags:{ownershipArea:"trello-workflowers",feature:o.Feature.ButlerOnBoards}})}},v=async()=>m.a.getCurrentBoardView().toggleButlerView()},"./app/src/components/CardCoverChooser/CardCoversSetting.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/CardCoversSetting.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/ColorCover.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/ColorCover.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/MiniCard.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/MiniCard.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/SearchResultImageButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResultImageButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/SearchResultImageButton.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./packages/i18n/index.ts"),l=i("./packages/nachos/spinner.ts"),c=i("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),d=i("./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx"),u=i("./app/src/components/CardCoverChooser/SearchResultImageButton.less"),p=i.n(u),m=i("./packages/unsplash/index.ts"),h=i("./packages/atlassian-analytics/index.ts");const g=Object(o.forTemplate)("card_cover_chooser"),b=i("./app/scripts/views/board-create/photo-attribution-component.js"),f=({cardId:e,index:t,urls:i,links:n,user:a,onSetCover:o,onSetCoverFailed:u,buttonClassName:f,onClick:v})=>{const{data:k}=Object(c.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[y,{loading:w}]=Object(d.a)({onError:u,onCompleted:()=>{o()}}),j=null==k?void 0:k.card,x={organization:{id:null==j?void 0:j.board.idOrganization},board:{id:null==j?void 0:j.board.id},card:{id:null==j?void 0:j.id}};return r.a.createElement("div",{key:t,className:p.a.backgroundGridItem},r.a.createElement("button",{className:s()("button",p.a.coverTilesItem,f),style:{backgroundImage:"url('".concat(i.thumb,"')")},onClick:t=>{v&&v(t),t.isDefaultPrevented()||(async t=>{const i=h.Analytics.startTask({taskName:"edit-card",subTask:"cover",source:"cardCoverInlineDialog"});try{await y({variables:{traceId:i,cardId:e,cover:t}}),h.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",value:t.url,taskId:i},containers:x}),h.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover",traceId:i,source:"cardCoverInlineDialog"})}catch(e){throw h.Analytics.taskFailed({taskName:"edit-card",subTask:"cover",traceId:i,source:"cardCoverInlineDialog",error:e})}m.unsplashClient.trackDownload({links:n})})({url:m.unsplashClient.appendImageParameters(i.raw)})}},w?r.a.createElement("div",{className:p.a.upload},r.a.createElement(l.a,{wrapperClassName:p.a.spinnerWrapper,inline:!0,modLeft:!0,small:!0,text:g("uploading-ellipsis")})):r.a.createElement(b,{user:a,size:"small"})))}},"./app/src/components/CardCoverChooser/SearchResults.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResults.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("./node_modules/@apollo/client/index.js");function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o={context:{operationName:"SearchUnsplash"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SearchUnsplash"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"perPage"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unsplashPhotos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"perPage"},value:{kind:"Variable",name:{kind:"Name",value:"perPage"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"urls"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumb"}},{kind:"Field",name:{kind:"Name",value:"raw"}}]}},{kind:"Field",name:{kind:"Name",value:"links"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"download_location"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"links"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"html"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]};function c(e){const t=a(a({},o),e);return n.useQuery(l,t)}},"./app/src/components/CardCoverChooser/SelectAttachmentCover.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectAttachmentCover.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/SelectCover.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectCover.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/SelectCover.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"getPotentialCovers",(function(){return Fe})),i.d(t,"SelectCover",(function(){return Me}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/i18n/index.ts"),s=i("./node_modules/classnames/index.js"),o=i.n(s),l=i("./app/src/components/CardCoverChooser/SelectCover.less"),c=i.n(l),d=i("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),u=i("./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx"),p=i("./packages/atlassian-analytics/index.ts"),m=i("./app/src/components/CardCoverChooser/ColorCover.less"),h=i.n(m);function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){f(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const v=Object(a.forTemplate)("card_cover_chooser"),k=["green","yellow","orange","red","purple","blue","sky","lime","pink","black"],y=({cardId:e})=>{const{data:t}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[i]=Object(u.a)(),n=null==t?void 0:t.card,a=null==n?void 0:n.cover,s=null==a?void 0:a.color,l={organization:{id:null==n?void 0:n.board.idOrganization},board:{id:null==n?void 0:n.board.id},card:{id:null==n?void 0:n.id}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:h.a.heading},v("colors")),r.a.createElement("div",{className:h.a.colorTiles},k.map((t=>r.a.createElement("button",{key:t,onClick:()=>{p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverColorTile",source:"cardCoverInlineDialog",attributes:{value:t},containers:l}),(async t=>{let n={color:t,brightness:"black"===t?"dark":"light"};const r=p.Analytics.startTask({taskName:"edit-card",subTask:"cover",source:"cardCoverInlineDialog"});t===s?(n=null,p.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"color",taskId:r},containers:l})):p.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"color",value:t,taskId:r},containers:l});try{await i({variables:{cardId:e,cover:n,traceId:r},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:b(b({__typename:"Card_Cover"},a),{},n?{color:t,brightness:n.brightness,idUploadedBackground:null,idAttachment:null}:{color:null,idUploadedBackground:null,idAttachment:null,scaled:null}),idAttachmentCover:null}}}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover",traceId:r,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:"cover",traceId:r,source:"cardCoverInlineDialog",error:e})}})(t)},className:o()(h.a.colorTile,h.a[t],{[h.a.selected]:t===s})})))))};var w=i("./packages/nachos/spinner.ts"),j=i("./app/common/lib/util/preview.ts"),x=i("./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx"),C=i("./app/src/components/CardCoverChooser/MiniCard.less"),_=i.n(C);const O=({onClick:e,coverSize:t,coverColor:i,coverImageUrl:n,selected:a,textColor:s="dark",disabled:l})=>{const c="normal"===t,d="full"===t,u=i?_.a[i]:null,p=d?u:null;let m="linear-gradient(to bottom, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5))";return"light"===s&&(m="linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))"),r.a.createElement("div",{role:"button",onClick:l?void 0:e,className:o()(_.a.miniCard,p,{[_.a.hasCover]:c,[_.a.hasFullCover]:d,[_.a.colorCardCover]:d&&Boolean(i),[_.a.imageCardCover]:d&&Boolean(n),[_.a.selected]:a,[_.a.disabled]:l}),style:{backgroundImage:d&&n?"".concat(m,", url(").concat(n,")"):void 0}},c&&r.a.createElement("div",{className:o()(_.a.cover,u,{[_.a.colorCardCover]:Boolean(i),[_.a.imageCardCover]:Boolean(n)}),style:{backgroundImage:n?"url(".concat(n,")"):void 0}}),r.a.createElement("div",{className:o()(_.a.content,{[_.a.light]:"light"===s})},r.a.createElement("div",{className:_.a.longName}),r.a.createElement("div",{className:_.a.shortName}),r.a.createElement("div",{className:_.a.badges},r.a.createElement("div",{className:_.a.badge}),r.a.createElement("div",{className:_.a.badge})),r.a.createElement("div",{className:_.a.avatar})))};var E=i("./app/src/components/CardCoverChooser/SelectSize.less"),S=i.n(E);function T(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?T(Object(i),!0).forEach((function(t){P(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function P(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const I=Object(a.forTemplate)("card_cover_chooser"),B=({cardId:e,cover:t})=>{const{data:i}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[a]=Object(u.a)(),s=null==i?void 0:i.card,o={organization:{id:null==s?void 0:s.board.idOrganization},board:{id:null==s?void 0:s.board.id},card:{id:null==s?void 0:s.id}},l=Object(n.useCallback)((async i=>{const n=p.Analytics.startTask({taskName:"edit-card",subTask:"cover",source:"cardCoverInlineDialog"});try{await a({variables:{traceId:n,cardId:e,cover:{size:i}},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:N(N({__typename:"Card_Cover"},t),{},{size:i}),idAttachmentCover:null==t?void 0:t.idAttachment}}}),p.Analytics.sendTrackEvent({action:"updated",actionSubject:"coverSize",source:"cardCoverInlineDialog",attributes:{value:i,taskId:n},containers:o}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover",traceId:n,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:"cover",traceId:n,source:"cardCoverInlineDialog",error:e})}}),[e,o,t,a]),c=Object(n.useCallback)((()=>{p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverSizeTile",source:"cardCoverInlineDialog",attributes:{value:"normal"},containers:o}),l("normal")}),[o,l]),m=Object(n.useCallback)((()=>{p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverSizeTile",source:"cardCoverInlineDialog",attributes:{value:"full"},containers:o}),l("full")}),[o,l]),h=t&&t.scaled?Object(j.smallestPreviewBiggerThan)(t.scaled,86,64)||Object(j.biggestPreview)(t.scaled):null,g=t&&(t.idAttachment||(null==t?void 0:t.color)||(null==t?void 0:t.idUploadedBackground)||(null==t?void 0:t.idPlugin));return r.a.createElement("div",{className:S.a.selectSize},r.a.createElement("h4",{className:S.a.heading},I("size")),r.a.createElement("div",{className:S.a.sizeTiles},r.a.createElement(O,{onClick:c,coverSize:"normal",coverColor:null==t?void 0:t.color,coverImageUrl:null==h?void 0:h.url,selected:Boolean(g&&"normal"===(null==t?void 0:t.size)),disabled:!g}),r.a.createElement(O,{onClick:m,coverSize:"full",coverColor:null==t?void 0:t.color,coverImageUrl:null==h?void 0:h.url,selected:Boolean(g&&"full"===(null==t?void 0:t.size)),textColor:"dark"===(null==t?void 0:t.brightness)?"light":"dark",disabled:!g})))};var D=i("./app/src/components/CardCoverChooser/SelectTextColor.less"),A=i.n(D);function L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function F(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){M(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const V=Object(a.forTemplate)("card_cover_chooser"),R=({cardId:e,cardName:t,cover:i})=>{const{data:a}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[s]=Object(u.a)(),l=null==a?void 0:a.card,c={organization:{id:null==l?void 0:l.board.idOrganization},board:{id:null==l?void 0:l.board.id},card:{id:null==l?void 0:l.id}},m=Object(n.useCallback)((async t=>{const n=p.Analytics.startTask({taskName:"edit-card",subTask:"cover",source:"cardCoverInlineDialog"});try{await s({variables:{traceId:n,cardId:e,cover:{brightness:t}},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:F(F({__typename:"Card_Cover"},i),{},{brightness:t}),idAttachmentCover:null==i?void 0:i.idAttachment}}}),p.Analytics.sendTrackEvent({action:"updated",actionSubject:"coverBrightness",source:"cardCoverInlineDialog",attributes:{value:t,taskId:n},containers:c}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover",traceId:n,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:"cover",traceId:n,source:"cardCoverInlineDialog",error:e})}}),[e,c,i,s]),h=Object(n.useCallback)((()=>{m("dark"),p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverTextColorTile",source:"cardCoverInlineDialog",attributes:{value:"dark"},containers:c})}),[m,c]),g=Object(n.useCallback)((()=>{m("light"),p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverTextColorTile",source:"cardCoverInlineDialog",attributes:{value:"light"},containers:c})}),[m,c]);let b="dark";"dark"===(null==i?void 0:i.brightness)&&(b="light");const f=null==i?void 0:i.color,v=f?A.a[f]:null,k=i&&i.scaled?Object(j.smallestPreviewBiggerThan)(i.scaled,86,64)||Object(j.biggestPreview)(i.scaled):null,y=o()(A.a.textColorTile,v,{[A.a.colorCardCover]:v}),w={backgroundImage:null!=k&&k.url?"".concat("linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))",", url(").concat(k.url,")"):void 0},x={backgroundImage:null!=k&&k.url?"".concat("linear-gradient(to bottom, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5))",", url(").concat(k.url,")"):void 0};return r.a.createElement("div",{className:A.a.selectTextColor},r.a.createElement("h4",{className:A.a.heading},V("text-color")),r.a.createElement("div",{className:A.a.textColorTiles},r.a.createElement("div",{role:"button",onClick:h,className:o()(y,{[A.a.selected]:"light"===b}),style:w},r.a.createElement("h3",{className:o()(A.a.name,A.a.light)},t)),r.a.createElement("div",{role:"button",onClick:g,className:o()(y,{[A.a.selected]:"dark"===b}),style:x},r.a.createElement("h3",{className:A.a.name},t))))};var z=i("./app/src/components/CardCoverChooser/Upload.less"),U=i.n(z),H=i("./node_modules/@apollo/client/index.js");function W(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?W(Object(i),!0).forEach((function(t){$(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function $(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const G={context:{operationName:"UploadCover"}},K={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"file"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FileUpload"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uploadCardCover"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"Argument",name:{kind:"Name",value:"file"},value:{kind:"Variable",name:{kind:"Name",value:"file"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]};const Z=Object(a.forTemplate)("card_cover_chooser"),J=({cardId:e,onFileSelected:t,onFileUploaded:i,onUploadFailed:a,hideHeading:s,className:l})=>{const{data:c}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),u=null==c?void 0:c.card,m={organization:{id:null==u?void 0:u.board.idOrganization},board:{id:null==u?void 0:u.board.id},card:{id:null==u?void 0:u.id}},[h,{loading:g,error:b}]=function(e){const t=q(q({},G),e);return H.useMutation(K,t)}({onError:a,onCompleted:()=>{p.Analytics.sendTrackEvent({action:"uploaded",actionSubject:"cover",source:"cardCoverInlineDialog",containers:m}),i&&i()}}),[f,v]=Object(n.useState)(),k=Object(n.useRef)(null);return g?r.a.createElement(w.a,{centered:!0}):r.a.createElement("div",{className:l},!s&&r.a.createElement("h4",{className:U.a.heading},Z("upload")),r.a.createElement("input",{ref:k,className:U.a.fileInput,type:"file",accept:"image/*",onClick:()=>{v(void 0)},onChange:async i=>{const n=i.target,r=n.files&&n.files[0];if(r){v(r),t&&t();const i=p.Analytics.startTask({taskName:"create-attachment",subTask:"card-cover",source:"cardCoverInlineDialog"});try{await h({variables:{traceId:i,cardId:e,file:r}}),p.Analytics.taskSucceeded({taskName:"create-attachment",subTask:"card-cover",traceId:i,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"create-attachment",subTask:"card-cover",traceId:i,source:"cardCoverInlineDialog",error:e})}}}}),r.a.createElement("button",{className:o()("button",U.a.upload),onClick:()=>{k.current&&k.current.click(),p.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentUploadButton",source:"cardCoverInlineDialog",containers:m})}},Z("upload-a-cover-image")),b&&f?r.a.createElement("div",{className:U.a.error},Z("unable-to-use-file-as-card-cover",{fileName:f.name})):r.a.createElement("div",{className:U.a.tip},Z("tip-drag-an-image")))};var Q=i("./app/src/components/CardCoverChooser/SelectAttachmentCover.less"),Y=i.n(Q);function X(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ee(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?X(Object(i),!0).forEach((function(t){te(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):X(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function te(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ie=Object(a.forTemplate)("card_cover_chooser"),ne=({cardId:e})=>{var t;const{data:i}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"});if(null==i||!i.card)throw new Error("Failed to load card details from cache for SelectAttachmentCover.");const a=i.card,{attachments:s}=a,l=null===(t=a.cover)||void 0===t?void 0:t.idAttachment,[c,m]=Object(n.useState)(!1),[h,g]=Object(n.useState)(l),[b,f]=Object(n.useState)(!1),[v]=Object(u.a)();if(null==i||!i.card)throw new Error("Failed to load card details from cache for SelectAttachmentCover.");const k={organization:{id:null==a?void 0:a.board.idOrganization},board:{id:null==a?void 0:a.board.id},card:{id:null==a?void 0:a.id}},y=async t=>{const i=p.Analytics.startTask({taskName:"edit-card",subTask:"idAttachmentCover",source:"cardCoverInlineDialog"});try{await v({variables:{traceId:i,cardId:e,cover:t},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:ee(ee({__typename:"Card_Cover"},a.cover),{},t?{idAttachment:t.idAttachment,idUploadedBackground:null,color:null}:{idAttachment:null,idUploadedBackground:null,color:null}),idAttachmentCover:null==t?void 0:t.idAttachment}}}),t?p.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"attachment",value:t.idAttachment,taskId:i},containers:k}):p.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"attachment",taskId:i},containers:k}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:"idAttachmentCover",traceId:i,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:"idAttachmentCover",traceId:i,source:"cardCoverInlineDialog",error:e})}},w=[];for(const e of s){const t=Object(j.smallestPreviewBiggerThan)(e.previews,256)||Object(j.biggestPreview)(e.previews);if(!t||!t.url)continue;const i={id:e.id,edgeColor:e.edgeColor||"transparent",thumbnailUrl:t.url,selected:l===e.id};h&&e.id===h?w.unshift(i):w.push(i)}const x=c?w:w.slice(0,6);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:Y.a.heading},ie("attachments")),w.length>0&&r.a.createElement("div",{className:Y.a.attachmentTiles},x.map((({id:e,edgeColor:t,thumbnailUrl:i,selected:n},a)=>r.a.createElement("button",{key:e,className:o()("button",Y.a.attachmentTilesItem,{[Y.a.selected]:n}),style:{backgroundColor:t,backgroundImage:"url('".concat(i,"')"),backgroundSize:"contain"},onClick:()=>{n?y(null):(y({idAttachment:e}),f(a>5)),p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverAttachmentTile",source:"cardCoverInlineDialog",attributes:{value:e},containers:k})}})))),w.length>6&&!c&&r.a.createElement("button",{className:o()("button",Y.a.showMoreButton),onClick:()=>{p.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentShowMoreButton",source:"cardCoverInlineDialog",containers:k}),m(!0)}},ie("show-more")),c&&r.a.createElement("button",{className:o()("button",Y.a.showFewerButton),onClick:()=>{var e;(p.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentShowFewerButton",source:"cardCoverInlineDialog",containers:k}),m(!1),b)&&g(null===(e=a.cover)||void 0===e?void 0:e.idAttachment)}},ie("show-fewer")),r.a.createElement(J,{cardId:e,className:o()(Y.a.uploadButton,{[Y.a.hasNoAttachments]:0===w.length,[Y.a.hasPaginatedTiles]:w.length>6}),hideHeading:!0}))};var re=i("./app/src/components/CardCoverChooser/SearchResultImageButton.tsx"),ae=i("./app/src/components/CardCoverChooser/SelectUnsplashCover.less"),se=i.n(ae);function oe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function le(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(i),!0).forEach((function(t){ce(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ce(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const de=Object(a.forTemplate)("card_cover_chooser"),ue=({cardId:e,navigateToAddCover:t})=>{var i;const[a,s]=Object(n.useState)(null),{data:l}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),{data:c}=Object(x.a)({variables:{query:"",perPage:9,page:1},fetchPolicy:"cache-only"}),[m]=Object(u.a)();if(null==l||!l.card)throw new Error("Failed to load card details from cache for SelectUnsplashCover.");const h=l&&l.card,g=h?h.cover:null,b={organization:{id:null==h?void 0:h.board.idOrganization},board:{id:null==h?void 0:h.board.id},card:{id:null==h?void 0:h.id}},f=async t=>{const i=p.Analytics.startTask({taskName:"edit-card",subTask:"cover",source:"cardCoverInlineDialog"});try{await m({variables:{traceId:i,cardId:e,cover:t},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:le(le({__typename:"Card_Cover"},h.cover),{},t?{idUploadedBackground:t.idUploadedBackground,idAttachment:null,color:null}:{idAttachment:null,idUploadedBackground:null,color:null}),idAttachmentCover:null}}}),t?p.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",value:t.idUploadedBackground,taskId:i},containers:b}):p.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",taskId:i},containers:b}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover",traceId:i,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:"cover",traceId:i,source:"cardCoverInlineDialog",error:e})}},[v]=Object(n.useState)(g);Object(n.useEffect)((()=>{const e=null==g?void 0:g.idUploadedBackground,t=(null==g?void 0:g.color)||(null==g?void 0:g.idAttachment);e&&!t||s(null)}),[g,v]);let k=null,y=6;if(v&&v.idUploadedBackground&&v.scaled){const e=Object(j.smallestPreviewBiggerThan)(v.scaled,256)||Object(j.biggestPreview)(v.scaled);e&&e.url&&(k=r.a.createElement("button",{key:"firstUnsplashCoverNode",className:o()("button",se.a.unsplashTilesItem,{[se.a.selected]:g&&v.idUploadedBackground===g.idUploadedBackground}),style:{backgroundColor:(null==v?void 0:v.edgeColor)||"transparent",backgroundImage:"url('".concat(e.url,"')"),backgroundSize:"cover"},onClick:()=>{p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",containers:b}),g&&v.idUploadedBackground===g.idUploadedBackground?(f(null),s(null)):null!=v&&v.idUploadedBackground&&(f({idUploadedBackground:v.idUploadedBackground}),s(null))}}),y=5)}const w=[];if(null!=c&&null!==(i=c.unsplashPhotos)&&void 0!==i&&i.length){let t=0;for(const i of c.unsplashPhotos.slice(0,y)){const{urls:n,links:l,user:c,id:d}=i;w.unshift(r.a.createElement(re.a,{key:d,urls:n,links:l,user:c,index:t++,cardId:e,onSetCover:()=>{s(d)},onSetCoverFailed:()=>{},buttonClassName:o()(se.a.unsplashTilesItem,{[se.a.selected]:a===d}),onClick:e=>{a===d&&(e.preventDefault(),f(null)),p.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",attributes:{value:n.raw},containers:b})}}))}}return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:se.a.heading},de("unsplash")),r.a.createElement("div",{className:se.a.unsplashTiles},k,w),r.a.createElement("button",{className:o()("button",se.a.searchButton),onClick:()=>{p.Analytics.sendClickedButtonEvent({buttonName:"cardCoverUnsplashSearchButton",source:"cardCoverInlineDialog",containers:b}),t()}},de("search-for-photos")))};var pe=i("./packages/nachos/button.ts");function me(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function he(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?me(Object(i),!0).forEach((function(t){ge(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):me(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ge(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const be={context:{operationName:"UpdateCardCoversPreference"}},fe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCardCoversPreference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardCovers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardCardCoversPref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"cardCovers"},value:{kind:"Variable",name:{kind:"Name",value:"cardCovers"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"}}]}}]}}]}}]};var ve=i("./app/src/components/CardCoverChooser/CardCoversSetting.less"),ke=i.n(ve);const ye=Object(a.forTemplate)("card_cover_chooser"),we=({idBoard:e,isAdmin:t})=>{const[i]=function(e){const t=he(he({},be),e);return H.useMutation(fe,t)}();return t?r.a.createElement("div",null,r.a.createElement("p",{className:ke.a.isAdmin},ye("card-covers-are-disbaled-on-this-board")),r.a.createElement(pe.Button,{appearance:"primary",size:"fullwidth",onClick:()=>{i({variables:{boardId:e,cardCovers:!0},optimisticResponse:{__typename:"Mutation",updateBoardCardCoversPref:{__typename:"Board",id:e,prefs:{__typename:"Board_Prefs",cardCovers:!0}}}})},className:ke.a.enableButton},ye("enable-card-covers"))):r.a.createElement("p",{className:ke.a.notAdmin},ye("card-covers-are-disabled-on-this-board-admins-can-enable-card-covers"))};function je(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function xe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?je(Object(i),!0).forEach((function(t){Ce(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):je(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ce(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _e={context:{operationName:"SelectPluginCover"}},Oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelectPluginCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"plugins"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"available"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"capabilities"}},{kind:"Field",name:{kind:"Name",value:"icon"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"tags"}}]}},{kind:"Field",name:{kind:"Name",value:"boardPlugins"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idPlugin"}}]}}]}}]}}]};function Ee(e){const t=xe(xe({},_e),e);return H.useQuery(Oe,t)}var Se=i("./app/scripts/db/model-cache.js"),Te=i.n(Se),Ne=i("./app/src/components/CardCoverChooser/SelectPluginCover.less"),Pe=i.n(Ne);const Ie=i("./app/scripts/views/internal/plugins/plugin-runner.js"),Be=Object(a.forTemplate)("card_cover_chooser"),De=({cardId:e,boardId:t})=>{var i,a,s;const{data:l}=Object(d.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),{data:c}=Ee({variables:{boardId:t},fetchPolicy:"cache-only"}),u=Object(n.useCallback)((async(t,i)=>{const n=Te.a.get("Card",e),r=n.getBoard();await Ie.one({command:"card-cover",plugin:t,card:n,board:r,list:n.getList(),timeout:5e3,el:i})}),[e]),p=null==l?void 0:l.card,m=null==c?void 0:c.board,h=null!==(i=null==m?void 0:m.plugins)&&void 0!==i?i:[],g=(null!==(a=null==m?void 0:m.boardPlugins)&&void 0!==a?a:[]).map((e=>e.idPlugin)),b=h.filter((e=>g.includes(e.id)&&e.capabilities.includes("card-cover")&&e.tags.includes("plugin-cover-beta"))),f=null==p||null===(s=p.cover)||void 0===s?void 0:s.idPlugin,v=b.map((e=>{var t;return{id:e.id,title:null!==(t=e.name)&&void 0!==t?t:"",iconUrl:e.icon.url,selected:e.id===f}}));return 0===v.length?null:r.a.createElement("div",null,r.a.createElement("h4",{className:Pe.a.heading},Be("power-ups")),r.a.createElement("div",{className:Pe.a.pluginCoverTiles},v.map((e=>r.a.createElement("button",{key:e.id,className:o()("button",Pe.a.pluginCoverTilesItem,{[Pe.a.selected]:e.id===f}),style:{backgroundImage:"url('".concat(e.iconUrl,"')"),backgroundSize:"contain"},onClick:t=>u(e.id,t.target)})))))},Ae=Object(a.forTemplate)("card_cover_chooser");var Le;!function(e){e.Attachment="attachment",e.Unsplash="unsplash"}(Le||(Le={}));const Fe=(e=[],t)=>{const i=[];for(const n of e){const e=Object(j.smallestPreviewBiggerThan)(n.previews,256)||Object(j.biggestPreview)(n.previews);e&&e.url&&i.unshift({id:n.id,type:Le.Attachment,edgeColor:n.edgeColor||"transparent",thumbnailUrl:e.url,selected:t===n.id})}return i},Me=({navigateToAddCover:e,cardId:t,boardId:i})=>{var a,s;const{data:l,error:m,loading:h}=Object(d.a)({variables:{cardId:t},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),{error:g,loading:b}=Ee({variables:{boardId:i},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),[f]=Object(u.a)(),[v,k]=Object(n.useState)(),[C,_]=Object(n.useState)(!1),{loading:O}=Object(x.a)({variables:{query:"",perPage:9,page:1}}),E=h||O||b,S=null==l?void 0:l.card,T=null==S?void 0:S.board,N=null==l?void 0:l.member,P=Boolean(null===(a=null==T||null===(s=T.prefs)||void 0===s?void 0:s.cardCovers)||void 0===a||a),I={organization:{id:null==S?void 0:S.board.idOrganization},board:{id:null==S?void 0:S.board.id},card:{id:null==S?void 0:S.id}};Object(n.useEffect)((()=>{S&&!C&&(p.Analytics.sendScreenEvent({name:"cardCoverInlineDialog",containers:I}),_(!0))}),[S,I,C]);const D=S&&S.idAttachmentCover?S.idAttachmentCover:null,A=S?S.cover:null,L=S&&S.attachments?Fe(S.attachments,D):[];if(Object(n.useEffect)((()=>{A&&A.idUploadedBackground&&k(A)}),[A]),!P&&N&&T){const e=()=>{var e,t,i;return!(!T.idOrganization||!N)&&(null!==(e=null===(t=N.organizations)||void 0===t||null===(i=t.find((e=>e.id===T.idOrganization)))||void 0===i?void 0:i.memberships.some((e=>e.idMember===N.id&&"admin"===e.memberType)))&&void 0!==e&&e)},t=()=>{var e,t,i,n;return!(!T.idEnterprise||!N.enterprises)&&(null!==(e=null===(t=N.enterprises)||void 0===t||null===(i=t.find((e=>e.id===T.idEnterprise)))||void 0===i||null===(n=i.idAdmins)||void 0===n?void 0:n.some((e=>e===N.id)))&&void 0!==e&&e)},i=(()=>{var e,t;return null!==(e=null===(t=T.memberships)||void 0===t?void 0:t.some((e=>e.idMember===N.id&&"admin"===e.memberType)))&&void 0!==e&&e})()||e()||t();return r.a.createElement(we,{idBoard:T.id,isAdmin:i})}const F=Boolean(A&&A.idUploadedBackground&&A.scaled),M=F?A:v;if(M&&M.idUploadedBackground&&M.scaled){const e=Object(j.smallestPreviewBiggerThan)(M.scaled,256)||Object(j.biggestPreview)(M.scaled);e&&e.url&&L.unshift({id:M.idUploadedBackground,edgeColor:M.edgeColor||"transparent",thumbnailUrl:e.url,selected:F,type:Le.Unsplash})}const V=L.some((e=>e.selected))||Boolean(null==A?void 0:A.color)||Boolean(null==A?void 0:A.idPlugin),z=!E&&!m&&"full"===(null==A?void 0:A.size)&&((null==A?void 0:A.idAttachment)||(null==A?void 0:A.idUploadedBackground)||(null==A?void 0:A.idPlugin));return E?r.a.createElement("div",null,r.a.createElement(w.a,{centered:!0})):m||g?r.a.createElement("div",null,Ae("something-went-wrong")):r.a.createElement("div",null,r.a.createElement(B,{cardId:t,cover:A}),V&&r.a.createElement("button",{className:o()("button",c.a.remove,c.a.colorAndFullVersion),onClick:()=>{(async e=>{let i;const n=null==S?void 0:S.cover;n&&(n.color?i="color":n.idUploadedBackground?i="unsplash":n.idAttachment?i="attachment":n.idPlugin&&(i="plugin"));const r="attachment"===i?"idAttachmentCover":"cover",a=p.Analytics.startTask({taskName:"edit-card",subTask:r,source:"cardCoverInlineDialog"});try{await f({variables:{traceId:a,cardId:t,cover:e}}),e?p.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:e.idAttachment?"attachment":"unsplash",value:e.idAttachment||e.idUploadedBackground,taskId:a},containers:I}):p.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:i,taskId:a},containers:I}),p.Analytics.taskSucceeded({taskName:"edit-card",subTask:r,traceId:a,source:"cardCoverInlineDialog"})}catch(e){throw p.Analytics.taskFailed({taskName:"edit-card",subTask:r,traceId:a,source:"cardCoverInlineDialog",error:e})}})(null),p.Analytics.sendClickedButtonEvent({buttonName:"removeCardCoverButton",source:"cardCoverInlineDialog",containers:I})}},Ae("remove-cover")),z&&r.a.createElement(R,{cardId:t,cardName:null==S?void 0:S.name,cover:A}),r.a.createElement(y,{cardId:t}),r.a.createElement(ne,{cardId:t}),r.a.createElement(ue,{cardId:t,navigateToAddCover:e}),r.a.createElement(De,{cardId:t,boardId:i}))}},"./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("./node_modules/@apollo/client/index.js");function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o={context:{operationName:"SelectCover"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelectCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"}},{kind:"Field",name:{kind:"Name",value:"idUploadedBackground"}},{kind:"Field",name:{kind:"Name",value:"idPlugin"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}},{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idAttachmentCover"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"previews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"enterprises"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idAdmins"}}]}},{kind:"Field",name:{kind:"Name",value:"organizations"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]}}]};function c(e){const t=a(a({},o),e);return n.useQuery(l,t)}},"./app/src/components/CardCoverChooser/SelectPluginCover.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectPluginCover.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/SelectSize.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectSize.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/SelectTextColor.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectTextColor.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/SelectUnsplashCover.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectUnsplashCover.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/SuggestedSearches.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SuggestedSearches.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/TopUnsplashPhotos.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/TopUnsplashPhotos.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/UnsplashSearch.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/UnsplashSearch.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("./node_modules/@apollo/client/index.js");function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o={context:{operationName:"UpdateCardCover"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCardCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cover"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputCover"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCardCover"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"Argument",name:{kind:"Name",value:"cover"},value:{kind:"Variable",name:{kind:"Name",value:"cover"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idAttachmentCover"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"}},{kind:"Field",name:{kind:"Name",value:"idUploadedBackground"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}},{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}}]}}]}}]};function c(e){const t=a(a({},o),e);return n.useMutation(l,t)}},"./app/src/components/CardCoverChooser/Upload.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/Upload.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardFronts/BoardCard.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/BoardCard.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardFronts/BoardCard.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"BoardCard",(function(){return B}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/colors/index.ts"),s=i("./node_modules/underscore/underscore.js"),o=i("./node_modules/classnames/index.js"),l=i.n(o),c=i("./packages/trello-canonical-components/index.ts"),d=i("./app/scripts/lib/util/url/parse-trello-url.js"),u=i.n(d),p=i("./node_modules/@apollo/client/index.js");function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const b={context:{operationName:"GetBoard"}},f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBoard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pos"}}]}},{kind:"Field",name:{kind:"Name",value:"cards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idList"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundBrightness"}},{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]};var v=i("./app/src/components/CardFronts/BoardCard.less"),k=i.n(v),y=i("./app/src/components/RouterLink/RouterLink.tsx"),w=i("./app/scripts/lib/util/decaying-interval.js"),j=i.n(w),x=i("./app/src/components/CardFronts/EditCardButton.tsx"),C=i("./packages/atlassian-analytics/index.ts"),_=i("./packages/i18n/index.ts");function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const{ErrorMessage:E,BoardName:S,PlaceholderBoardTile:T,ProportionalBoardLists:N,Board:P}=c.CanonicalBoard,I=Object(_.forTemplate)("board_card"),B=({boardUrl:e,openEditor:t,isEditable:i,analyticsContainers:o,inSearchResults:c,className:d})=>{var m;const g=u()(e||"").shortLink,{data:v,loading:w,refetch:_}=function(e){const t=h(h({},b),e);return p.useQuery(f,t)}({variables:{boardId:g||""}}),B=Object(n.useCallback)((()=>{navigator.onLine&&_()}),[_]),{showEditCardButton:D,hideEditCardButton:A,shouldShowEditCardButton:L}=Object(x.b)();Object(n.useEffect)((()=>{if(!w&&null!=v&&v.board&&C.Analytics.sendViewedComponentEvent({componentType:"card",componentName:"boardCard",source:"cardView",containers:o,attributes:{linkBoardId:v.board.id}}),g!==u()(window.location.href).shortLink)return j()(B)}),[o,g,null==v?void 0:v.board,null==v||null===(m=v.board)||void 0===m?void 0:m.id,w,B]);const F=Object(n.useCallback)((()=>{!w&&null!=v&&v.board&&C.Analytics.sendClickedLinkEvent({linkName:"boardCard",source:"cardView",containers:o,attributes:{linkBoardId:v.board.id}})}),[o,null==v?void 0:v.board,w]);if(null!==(null==v?void 0:v.board)&&void 0!==(null==v?void 0:v.board)){const n=v.board||{},o=n.cards.reduce(((e,t)=>(e[t.idList]?e[t.idList]+=1:e[t.idList]=1,e)),{}),u=n.lists.map((e=>({id:e.id,size:o[e.id]||0})))||[];return r.a.createElement("div",{className:d,onFocus:D,onBlur:A,onMouseOver:D,onMouseOut:A},r.a.createElement(P,O({className:l()("board-background",c?k.a.searchCard:k.a.boardCard)},(e=>{let t=void 0,i=null,n=null;var r,o;if(null!=e&&(e.prefs&&e.prefs.backgroundColor&&(t=e.prefs.backgroundColor),e.prefs&&e.prefs.backgroundImage&&(n=e.prefs.backgroundImage,i=null!==(r=e.prefs)&&void 0!==r&&r.backgroundTopColor?null===(o=e.prefs)||void 0===o?void 0:o.backgroundTopColor:"dark"===e.prefs.backgroundBrightness?"#333":a.N30,e.prefs.backgroundImageScaled))){const t=Object(s.sortBy)(e.prefs.backgroundImageScaled,"width").filter((e=>e.width>248&&e.height>158));t.length>0&&(n=t[0].url)}return{bgColor:t,bgImage:n,headerBgColor:i}})(n),{numLists:5}),r.a.createElement(x.a,{onClick:t,shouldShow:i&&L}),r.a.createElement(S,null,n.name),r.a.createElement(N,{lists:u,numLists:5}),r.a.createElement(y.a,{href:e,className:k.a.boardLink,title:n.name,onClick:F})))}return w?r.a.createElement(T,{className:l()("board-background",c?k.a.searchCard:k.a.boardCard),numLists:5}):r.a.createElement("div",{className:d,onFocus:D,onBlur:A,onMouseOver:D,onMouseOut:A},r.a.createElement(P,{className:l()("board-background",c?k.a.searchCard:k.a.boardCard),bgColor:"rgb(213 217 223)",hasError:!0,numLists:5},r.a.createElement(x.a,{onClick:t,shouldShow:i&&L}),r.a.createElement(E,null,I("unable-to-load-board")),r.a.createElement(N,{lists:[{id:"1",size:2},{id:"2",size:3},{id:"3",size:1},{id:"4",size:2},{id:"5",size:2},{id:"6",size:1}],numLists:5})))}},"./app/src/components/CardFronts/EditCardButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/EditCardButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardFronts/EditCardButton.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return u}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/icons/edit.tsx"),s=i("./app/src/components/CardFronts/EditCardButton.less"),o=i.n(s),l=i("./node_modules/classnames/index.js"),c=i.n(l);const d=({onClick:e,shouldShow:t})=>r.a.createElement("button",{className:c()(o.a.editCardButton,t&&o.a.show),onClick:e},r.a.createElement(a.a,{color:"dark",size:"small"})),u=()=>{const[e,t]=Object(n.useState)(!1);return{showEditCardButton:()=>t(!0),hideEditCardButton:()=>t(!1),shouldShowEditCardButton:e}}},"./app/src/components/CardFronts/LinkCard.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/LinkCard.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardFronts/LinkCard.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"LinkCard",(function(){return C}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./node_modules/@atlaskit/smart-card/dist/esm/index.js"),l=i("./packages/shared-state/index.ts"),c=i("./node_modules/react-intl/lib/index.es.js"),d=i("./packages/feature-flag-client/index.ts"),u=i("./app/src/components/CardFronts/LinkCard.less"),p=i.n(u),m=i("./app/src/components/CardFronts/EditCardButton.tsx"),h=i("./app/scripts/network/smart-card-client/index.ts"),g=i("./app/scripts/network/object-resolver-client/index.ts"),b=i("./app/src/components/ErrorBoundary/index.ts"),f=i("./packages/atlassian-analytics/index.ts"),v=i("./node_modules/@atlaskit/analytics-listeners/dist/esm/index.js"),k=i("./node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsContext.js");function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){j(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const x=["jira-object-provider","bitbucket-object-provider"],C=({url:e,openEditor:t,hideCover:i,locale:a="en",isEditable:u,hideActions:y,analyticsContainers:j})=>{const{showEditCardButton:C,hideEditCardButton:_,shouldShowEditCardButton:O}=Object(m.b)(),[E]=Object(l.c)(h.a.authorizedProviders),[S,T]=Object(n.useState)(g.objectResolverClient.isCached(e)),N=Object(d.useSeesVersionedVariation)("wildcard.public-links","beta"),[P,I]=Object(n.useState)(!1),[B,D]=Object(n.useState)(Date.now()),[A,L]=Object(n.useState)(!1),[F,M]=(e=>{const t=Object(n.useCallback)((e=>{var t;const{name:i}=(null==e||null===(t=e.data)||void 0===t?void 0:t.generator)||{},{definitionId:n,requestAccess:r}=(null==e?void 0:e.meta)||{},{accessType:a,cloudId:s}=r||{};return{urlType:i,definitionId:n,cloudId:s,accessType:a}}),[]),i=Object(n.useCallback)((e=>{if(e){const i=t(e);a(i)}}),[t]),[r,a]=Object(n.useState)(e?t(e):{});return[r,i]})();Object(n.useEffect)((()=>{const{definitionId:e}=F;A&&e&&E.has(e)&&(D(Date.now()),L(!1))}),[A,F,E]),Object(n.useEffect)((()=>{T(!1),(async()=>{const t=await g.objectResolverClient.resolveUrl(e,{publicLinksEnabled:N,sourceComponent:"link-card"});t?(M(t),T("not_found"!==t.meta.visibility),L("unauthorized"===t.meta.access),I(t.meta.key&&x.includes(t.meta.key)||x.includes(t.meta.definitionId))):T(!1),t&&"not_found"!==t.meta.visibility?T(!0):T(!1)})()}),[e,N,M]),Object(n.useEffect)((()=>{f.Analytics.sendViewedComponentEvent({componentType:"card",componentName:"linkCard",source:"cardView",containers:j,attributes:w({},F)})}),[j,F]);const V=Object(n.useCallback)((()=>{f.Analytics.sendClickedLinkEvent({linkName:"linkCard",source:"cardView",containers:j,attributes:w({},F)})}),[j,F]),R=r.a.createElement("a",{className:p.a.link,href:e,target:"_blank",onClick:V},e),z={attributes:w(w(w({},F),j&&{containers:j}),{},{component:"linkCard"})},U=S?r.a.createElement(b.ErrorBoundary,{sendCrashEvent:!1,errorHandlerComponent:()=>R},r.a.createElement(v.b,{client:f.Analytics.dangerouslyGetAnalyticsWebClient()},r.a.createElement(k.a,{data:z},r.a.createElement(o.d,{client:h.a,key:B},r.a.createElement(c.c,{locale:a},r.a.createElement("a",{className:p.a.link,href:e,target:"_blank",onClick:e=>{e.stopPropagation(),V()}},r.a.createElement(o.b,{onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(e,"_blank"),V()},appearance:"block",url:e,inheritDimensions:!0,showActions:!y}))))))):R;return r.a.createElement("div",{className:s()({[p.a.smartLinkCard]:S,[p.a.linkCard]:!S,[p.a.hideCover]:i,[p.a.hasBadge]:P}),onFocus:C,onBlur:_,onMouseOver:C,onMouseOut:_},r.a.createElement(m.a,{onClick:t,shouldShow:u&&O}),U)}},"./app/src/components/CardFronts/SeparatorCard.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/SeparatorCard.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardFronts/SeparatorCard.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"SeparatorCard",(function(){return c}));var n=i("./packages/atlassian-analytics/index.ts"),r=i("./node_modules/react/index.js"),a=i.n(r),s=i("./app/src/components/CardFronts/EditCardButton.tsx"),o=i("./app/src/components/CardFronts/SeparatorCard.less"),l=i.n(o);const c=({openEditor:e,isEditable:t,analyticsContainers:i})=>{const{showEditCardButton:o,hideEditCardButton:c,shouldShowEditCardButton:d}=Object(s.b)();return Object(r.useEffect)((()=>{n.Analytics.sendViewedComponentEvent({componentType:"card",componentName:"separatorCard",source:"cardView",containers:i})}),[i]),a.a.createElement("div",{onFocus:o,onBlur:c,onMouseOver:o,onMouseOut:c},a.a.createElement("span",{className:l.a.separatorCardFront}),a.a.createElement(s.a,{onClick:e,shouldShow:t&&d}))}},"./app/src/components/CardTemplatesPopover/CardTemplatesButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardTemplatesPopover/CardTemplatesQuery.graphql":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"template"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idChecklists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"left"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rotate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brightness"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1031}};i.loc.source={body:"query CardTemplates($boardId: ID!) {\n  board(id: $boardId) @client {\n    id\n    members {\n      id\n      avatarUrl\n      initials\n    }\n    cards(filter: template) {\n      id\n      idBoard\n      shortLink\n      name\n      isTemplate\n      closed\n      idList\n      idChecklists\n      attachments {\n        id\n      }\n      stickers {\n        id\n        top\n        left\n        rotate\n        zIndex\n        image\n        imageUrl\n        imageScaled {\n          id\n          width\n          height\n          url\n          scaled\n        }\n      }\n      idLabels\n      labels {\n        id\n        name\n        color\n        idBoard\n      }\n      idMembers\n      cover {\n        scaled {\n          url\n          width\n          height\n          scaled\n        }\n        edgeColor\n        color\n        size\n        brightness\n      }\n      badges {\n        attachments\n        checkItems\n        description\n        attachmentsByType {\n          trello {\n            board\n            card\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.CardTemplates=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"CardTemplates")},"./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardTemplatesPopover/TemplateCardComposer.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/TemplateCardComposer.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/CardTemplatesPopover/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"CardTemplatesPopover",(function(){return ue})),i.d(t,"CreateCardFromTemplatePopover",(function(){return Pe})),i.d(t,"CardTemplatesButton",(function(){return Ke}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/@apollo/client/index.js");function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const c={context:{operationName:"CardTemplates"}},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"initials"}}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"template"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}},{kind:"Field",name:{kind:"Name",value:"shortLink"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"idList"}},{kind:"Field",name:{kind:"Name",value:"idChecklists"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"top"}},{kind:"Field",name:{kind:"Name",value:"left"}},{kind:"Field",name:{kind:"Name",value:"rotate"}},{kind:"Field",name:{kind:"Name",value:"zIndex"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"imageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"}},{kind:"Field",name:{kind:"Name",value:"checkItems"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"}},{kind:"Field",name:{kind:"Name",value:"card"}}]}}]}}]}}]}}]}}]}}]};function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const h={context:{operationName:"CardTemplateMember"}},g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplateMember"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorBlind"}}]}}]}}]}}]};function b(e){const t=p(p({},h),e);return a.useQuery(g,t)}var f=i("./packages/nachos/spinner.ts"),v=i("./packages/nachos/button.ts"),k=i("./packages/nachos/tooltip.ts"),y=i("./app/gamma/src/components/canonical-components/index.tsx"),w=i("./packages/trello-canonical-components/src/card-front/Card.tsx");function j(e){const t=e.cover;return t?t.color?{url:"",color:t.color,size:t.size,brightness:t.brightness}:t.scaled&&t.edgeColor?{url:"",edgeColor:t.edgeColor,previews:t.scaled.map((e=>{const{scaled:t,height:i,url:n,width:r}=e;return{scaled:t,height:i,url:n,width:r}})),size:t.size,brightness:t.brightness}:null:null}function x(e){const{attachments:t,attachmentsByType:i,description:n,checkItems:r}=e.badges;return{attachments:t,description:n,attachmentsByType:{trello:{board:i.trello.board,card:i.trello.card}},checklistItems:r,checklistItemsChecked:0,comments:0,due:null,start:null,subscribed:!1,viewingMemberVoted:!1,votes:0,dueComplete:!1,checkItemsEarliestDue:null}}function C(e){const{labels:t}=e;return t.map((e=>{const{id:t,name:i,color:n,idBoard:r}=e;return{id:t,name:i,idBoard:r,color:n||null}}))}function _(e,t){const{idMembers:i}=e,n=[];return i.forEach((e=>{const i=t.find((t=>t.id===e));i&&n.push({avatars:i.avatarUrl?{30:"".concat(i.avatarUrl,"/30.png")}:null,initials:i.initials||"",id:i.id,enterprises:[],idPremOrgsAdmin:[]})})),n}function O(e){return e.stickers.map((e=>{const{imageScaled:t}=e,i=t.find((e=>e.url.includes("@2x")));return{id:e.id,image:e.image,imageUrl:e.imageUrl,left:e.left,top:e.top,rotate:e.rotate,zIndex:e.zIndex,imageUrl2x:i?i.url:null}}))}function E(e,t){return{cover:j(e),badges:x(e),labels:C(e),members:_(e,t),stickers:O(e)}}var S=i("./packages/i18n/index.ts"),T=i("./app/src/components/RouterLink/RouterLink.tsx");function N(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?N(Object(i),!0).forEach((function(t){I(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function I(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const B={context:{operationName:"CreateCardTemplate"}},D={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"closed"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCardTemplate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"listId"},value:{kind:"Variable",name:{kind:"Name",value:"listId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"closed"},value:{kind:"Variable",name:{kind:"Name",value:"closed"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}},{kind:"Field",name:{kind:"Name",value:"shortLink"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"idList"}},{kind:"Field",name:{kind:"Name",value:"idChecklists"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"top"}},{kind:"Field",name:{kind:"Name",value:"left"}},{kind:"Field",name:{kind:"Name",value:"rotate"}},{kind:"Field",name:{kind:"Name",value:"zIndex"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"imageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"}},{kind:"Field",name:{kind:"Name",value:"checkItems"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"}},{kind:"Field",name:{kind:"Name",value:"card"}}]}}]}}]}}]}}]}}]};var A=i("./packages/analytics/index.ts"),L=i("./packages/atlassian-analytics/index.ts"),F=i("./packages/nachos/icons/add.tsx"),M=i("./packages/nachos/icons/close.tsx"),V=i("./packages/keybindings/index.ts"),R=i("./node_modules/classnames/index.js"),z=i.n(R),U=i("./app/src/components/CardTemplatesPopover/CardTemplatesQuery.graphql"),H=i.n(U),W=i("./app/src/components/CardTemplatesPopover/TemplateCardComposer.less"),q=i.n(W),$=i("./packages/test-ids/index.ts");function G(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function K(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?G(Object(i),!0).forEach((function(t){Z(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const J=Object(S.forTemplate)("card-templates"),Q=Object(S.forTemplate)("card_composer_inline"),Y=({idList:e,idBoard:t,closedComponent:i,onCreate:s})=>{const[o,l]=Object(n.useState)(!1),[c,d]=Object(n.useState)(""),[u,{loading:p}]=function(e){const t=P(P({},B),e);return a.useMutation(D,t)}();Object(V.useShortcut)((()=>{l(!1)}),{scope:V.Scope.Popover,key:V.Key.Escape,enabled:o});const m=()=>{d(""),l(!1)},h=async()=>{if(0===c.trim().length)return;const i=L.Analytics.startTask({taskName:"create-card",subTask:"template",source:"createCardTemplateInlineDialog"});try{const{data:n}=await(i=>u({variables:{traceId:i,listId:e,name:c.trim(),closed:!1},update(e,{data:i}){const n=i&&i.createCardTemplate;if(!n)return;const r=e.readQuery({query:H.a,variables:{boardId:t}});if(!r)return;const a=r.board,s=a&&a.cards;s&&e.writeQuery({query:H.a,variables:{boardId:t},data:{board:K(K({},a),{},{cards:s.concat(n)})}})}}))(i);if(Object(A.trackUe)({category:A.Noun.CARD_TEMPLATES,verb:A.Verb.CREATES,directObj:A.Noun.CARD_TEMPLATE,indirectObj:A.Noun.CARD_TEMPLATES_MENU,method:"by clicking the create new template button"}),m(),s&&n&&n.createCardTemplate){const e=n.createCardTemplate;s(e)}L.Analytics.taskSucceeded({taskName:"create-card",subTask:"template",traceId:i,source:"createCardTemplateInlineDialog"})}catch(e){throw L.Analytics.taskFailed({taskName:"create-card",subTask:"template",traceId:i,source:"createCardTemplateInlineDialog",error:e})}};return o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:q.a.listCard},r.a.createElement("div",{className:z()(q.a.listCardDetails,"u-clearfix")},r.a.createElement("textarea",{value:c,className:q.a.templateCardComposerTextarea,dir:"auto",placeholder:J("template-title"),autoFocus:!0,onBlur:()=>{0===c.length&&m()},onKeyDown:e=>{Object(V.getKey)(e)===V.Key.Enter&&(e.preventDefault(),h())},onChange:e=>d(e.target.value),"data-test-id":$.CardTemplateTestIds.CreateTemplateCardComposer}))),r.a.createElement("div",{className:q.a.listCardButtons},r.a.createElement(v.Button,{onClick:h,className:q.a.addButton,appearance:"primary",isDisabled:p,isLoading:p,testId:$.CardTemplateTestIds.NewTemplateCardSubmitButton},Q("add")),r.a.createElement("a",{role:"button",className:q.a.closeButton,onClick:m},r.a.createElement(M.a,{dangerous_className:q.a.closeIcon,color:"quiet",size:"large"})))):i?i((()=>l(!0))):r.a.createElement("a",{role:"button",className:q.a.openTemplateCardComposer,href:"#",onClick:e=>{e.preventDefault(),l(!0)}},r.a.createElement(F.a,{dangerous_className:q.a.iconAdd,size:"small"}),r.a.createElement("span",null,J("create-a-new-template")))};var X=i("./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less"),ee=i.n(X),te=i("./packages/nachos/icons/edit.tsx"),ie=i("./packages/nachos/src/components/Icon/index.ts");const ne=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M9 4C9 3.44772 9.44772 3 10 3H14C14.5523 3 15 3.44772 15 4H19C19.552 4 20 4.448 20 5V6H4V5C4 4.448 4.448 4 5 4H9Z",fill:"currentColor"}),r.a.createElement("path",{d:"M9 11C9 10.4477 9.44772 10 10 10C10.5523 10 11 10.4477 11 11V16C11 16.5523 10.5523 17 10 17C9.44772 17 9 16.5523 9 16V11Z",fill:"currentColor"}),r.a.createElement("path",{d:"M13 11C13 10.4477 13.4477 10 14 10C14.5523 10 15 10.4477 15 11V16C15 16.5523 14.5523 17 14 17C13.4477 17 13 16.5523 13 16V11Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.85795 18.1534L5 7H19L18.142 18.1534C18.0619 19.1954 17.193 20 16.1479 20H7.85206C6.80699 20 5.93811 19.1954 5.85795 18.1534ZM7.85206 18L7.15975 9H16.8402L16.1479 18L7.85206 18Z",fill:"currentColor"})),re=e=>{const{testId:t,dangerous_className:i,size:n,color:a,label:s,block:o}=e;return r.a.createElement(ie.a,{testId:t,size:n,dangerous_className:i,color:a,block:o,label:s||"TrashIcon",glyph:ne})};var ae=i("./packages/shared-state/index.ts"),se=i("./app/src/components/Label/index.ts");function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function le(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const ce=Object(S.forTemplate)("card-templates"),de=e=>{let{onClick:t}=e,i=le(e,["onClick"]);return r.a.createElement("a",oe({},i,{href:"#",role:"button",onClick:e=>{e.preventDefault(),t&&t(e)}}))},ue=({idBoard:e,idList:t,onSelect:i,onTemplateCreated:n,confirmDelete:s,editTemplate:l,isEditing:u,setIsEditing:p})=>{var m,h;Object(V.useShortcut)((()=>{p(!1)}),{scope:V.Scope.Popover,key:V.Key.Escape,enabled:u});const{data:g,loading:j,error:x}=function(e){const t=o(o({},c),e);return a.useQuery(d,t)}({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{boardId:e}}),{data:C,loading:_}=b({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),O=(g&&g.board&&g.board.cards?g.board.cards:[]).filter((e=>e&&e.isTemplate)).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{numeric:!0,caseFirst:"upper"}))),S=g&&g.board&&g.board.members?g.board.members:[],[N]=Object(ae.c)(se.a);if(x)return r.a.createElement("div",{id:"cardTemplatesError"},ce("something-went-wrong"));if(!g&&(j||_))return r.a.createElement(f.a,{centered:!0});if(0===O.length)return r.a.createElement(Y,{idList:t,idBoard:e,onCreate:n,closedComponent:e=>r.a.createElement("div",null,r.a.createElement("p",{className:ee.a.emptyStateMessage},ce("you-dont-have-any-templates")),r.a.createElement(v.Button,{onClick:e,className:ee.a.createNewTemplateButton,appearance:"primary",shouldFitContainer:!0,testId:$.CardTemplateTestIds.CreateNewTemplateCardButton},ce("create-a-new-template")))});const P=null==C||null===(m=C.member)||void 0===m||null===(h=m.prefs)||void 0===h?void 0:h.colorBlind;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ee.a.templateCards},O.map((e=>{const{cover:t,badges:n,labels:a,members:o,stickers:c}=E(e,S);return r.a.createElement("div",{className:ee.a.templateCardContainer,key:e.id},r.a.createElement(w.f,{className:ee.a.templateCard,onClick:()=>i(e.id),cover:t,colorBlind:P,hasStickers:!!c.length,linkComponent:de},r.a.createElement(y.a,{name:e.name,cover:t,badges:n,isTemplate:e.isTemplate,labels:a,expandLabels:N.showText,members:o,stickers:c,colorBlind:P})),u&&r.a.createElement("div",{className:ee.a.controlButtons},r.a.createElement(k.a,{content:ce("edit-this-template")},r.a.createElement(T.a,{className:ee.a.noTextDecoration,onClick:()=>{Object(A.trackUe)({category:A.Noun.CARD_TEMPLATES,verb:A.Verb.OPENS,directObj:A.Noun.CARD_TEMPLATE,indirectObj:A.Noun.CARD_TEMPLATES_MENU,method:"by clicking the edit this template button"}),null==l||l(e.id)},href:"/c/".concat(e.shortLink)},r.a.createElement(v.Button,{tabIndex:-1,iconBefore:r.a.createElement(te.a,{color:"gray",size:"small"}),className:ee.a.controlButton}))),r.a.createElement(k.a,{content:ce("delete-this-template")},r.a.createElement(v.Button,{iconBefore:r.a.createElement(re,{color:"gray",size:"small"}),onClick:()=>s(e.id),className:ee.a.controlButton}))))}))),r.a.createElement(Y,{idList:t,idBoard:e,onCreate:n}),u?r.a.createElement(v.Button,{className:ee.a.finishEditingButton,onClick:()=>p(!1),shouldFitContainer:!0},ce("finish-editing")):r.a.createElement(v.Button,{className:ee.a.editTemplatesButton,onClick:()=>p(!0),shouldFitContainer:!0},ce("edit-templates")))};function pe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function me(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(i),!0).forEach((function(t){he(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function he(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ge={context:{operationName:"CardTemplate"}},be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}},{kind:"Field",name:{kind:"Name",value:"shortLink"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"idList"}},{kind:"Field",name:{kind:"Name",value:"idChecklists"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"top"}},{kind:"Field",name:{kind:"Name",value:"left"}},{kind:"Field",name:{kind:"Name",value:"rotate"}},{kind:"Field",name:{kind:"Name",value:"zIndex"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"imageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"}},{kind:"Field",name:{kind:"Name",value:"idMembers"}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}}]}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"initials"}}]}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"}},{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"}},{kind:"Field",name:{kind:"Name",value:"checkItems"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"}},{kind:"Field",name:{kind:"Name",value:"card"}}]}}]}}]}}]}}]}}]};function fe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ve(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(i),!0).forEach((function(t){ke(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):fe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ke(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ye={context:{operationName:"CreateCardFromTemplateLists"}},we={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreateCardFromTemplateLists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"closed"}}]}}]}}]}}]};var je=i("./packages/nachos/select.ts"),xe=i("./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less"),Ce=i.n(xe);function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Oe(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const Ee=Object(S.forTemplate)("card-templates");function Se(e,t){const[i,r]=Object(n.useState)(e||t),[a,s]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{r(e),a||e===t||s(!0)}),[t,a,e]),[i,r,a]}const Te=({checked:e,setChecked:t,id:i,labelKey:n,count:a,disabled:s})=>r.a.createElement("div",{className:"check-div u-clearfix"},r.a.createElement("input",{disabled:s,type:"checkbox",id:i,"aria-checked":e,checked:e,onChange:e=>t(e.target.checked)}),r.a.createElement("label",{htmlFor:i},Ee(n,{count:a}))),Ne=e=>{let{loaded:t}=e,i=Oe(e,["loaded"]);const a=Object(n.useRef)(null);return Object(n.useEffect)((()=>{a.current&&(a.current.focus(),a.current.select())}),[t]),r.a.createElement("textarea",_e({className:Ce.a.templateCardEditTitle,ref:a},i))},Pe=({idCard:e,createCard:t,showLists:i,hideEditButton:s,editTemplate:o})=>{var l,c,d;const{data:u,loading:p,error:m}=function(e){const t=me(me({},ge),e);return a.useQuery(be,t)}({variables:{cardId:e}}),h=u&&u.card?u.card:void 0,{data:g,loading:k,error:w}=function(e){const t=ve(ve({},ye),e);return a.useQuery(we,t)}({skip:!h||p,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{boardId:h&&h.idBoard||""}}),{data:j,loading:x}=b({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),[C,_,O]=Se(h&&h.name?h.name:"",""),[S,N]=Se(h&&h.idList?h.idList:void 0,void 0),[P,I]=Object(n.useState)(!0),[B,D]=Object(n.useState)(!0),[L,F]=Object(n.useState)(!0),[M,R]=Object(n.useState)(!0),[z,U]=Object(n.useState)(!0),[H,W]=Object(n.useState)(!1),[q,G]=Object(n.useState)(!1),K=(g&&g.board&&g.board.lists?g.board.lists:[]).map((e=>({label:e.name,value:e.id}))),Z=K&&K.find((({value:e})=>e===S))||K[0],[J]=Object(ae.c)(se.a),Q=Object(n.useCallback)((async()=>{const i=C.trim();if(0===i.length)return;const n=i.replace(/\r/g," ").replace(/\n/g," ");W(!0);const r=[];P&&r.push("checklists"),B&&r.push("attachments"),L&&r.push("stickers"),z&&r.push("members"),M&&r.push("labels");try{await t(n,e,r,S)}catch(e){G(!0)}W(!1)}),[P,B,L,z,M,t,C,e,S]);if(x||p||i&&k)return r.a.createElement(f.a,{centered:!0});if(m||!h||q||i&&w)return r.a.createElement("div",{id:"createCardFromTemplateError"},Ee("something-went-wrong"));const Y=h.idChecklists.length>0,X=h.attachments.length>0,ee=h.stickers.length>0,te=h.idLabels.length>0,ie=h.idMembers.length>0,ne=Y||X||ee||te||ie,{cover:re,badges:oe,labels:le,members:ce,stickers:de}=E(h,h.members);let ue=re;"full"===(null===(l=ue)||void 0===l?void 0:l.size)&&(ue.size="normal"),P||(oe.checklistItems=0),B||(oe.attachments=0,oe.attachmentsByType.trello.board=0,oe.attachmentsByType.trello.card=0,h.cover&&h.cover.idAttachment&&(ue=null));const pe=null==j||null===(c=j.member)||void 0===c||null===(d=c.prefs)||void 0===d?void 0:d.colorBlind;return r.a.createElement("div",null,r.a.createElement("div",{className:Ce.a.templateCard},r.a.createElement(y.a,{name:h.name,cover:ue,badges:oe,labels:M?le:[],expandLabels:J.showText,members:z?ce:[],stickers:L?de:[],colorBlind:pe,replacements:{CardTitle:r.a.createElement("div",{className:Ce.a.templateCardNameContainer},r.a.createElement(Ne,{disabled:H,"data-test-id":$.CardTemplateTestIds.CardTitleTextarea,name:"title",placeholder:h.name||Ee("title"),value:C,loaded:O,onChange:e=>_(e.target.value),onKeyDown:e=>{Object(V.getKey)(e)===V.Key.Enter&&(e.preventDefault(),Q())}}))}})),ne&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,Ee("keep")),Y&&r.a.createElement(Te,{disabled:H,id:"idKeepChecklists",checked:P,setChecked:I,labelKey:"checklists",count:h.idChecklists.length}),te&&r.a.createElement(Te,{disabled:H,id:"idKeepLabels",checked:M,setChecked:R,labelKey:"labels",count:h.idLabels.length}),ie&&r.a.createElement(Te,{disabled:H,id:"idKeepMembers",checked:z,setChecked:U,labelKey:"members",count:h.idMembers.length}),X&&r.a.createElement(Te,{disabled:H,id:"idKeepAttachments",checked:B,setChecked:D,labelKey:"attachments",count:h.attachments.length}),ee&&r.a.createElement(Te,{disabled:H,id:"idKeepStickers",checked:L,setChecked:F,labelKey:"stickers",count:h.stickers.length})),i&&r.a.createElement("label",null,Ee("list"),r.a.createElement(je.a,{options:K,value:Z,isDisabled:!K.length,onChange:({value:e})=>N(e)})),r.a.createElement(v.Button,{className:Ce.a.createCardButton,isLoading:H,isDisabled:H||0===C.trim().length,appearance:"primary",shouldFitContainer:!0,onClick:Q,testId:$.CardTemplateTestIds.CreateCardFromTemplateButton},Ee("create-card")),!s&&r.a.createElement(T.a,{onClick:()=>{Object(A.trackUe)({category:A.Noun.CARD_TEMPLATES,verb:A.Verb.OPENS,directObj:A.Noun.CARD_TEMPLATE,indirectObj:A.Noun.CREATE_CARD_FROM_TEMPLATE_MENU,method:"by clicking the edit this template button"}),null==o||o(e)},className:Ce.a.editTemplateLink,href:"/c/".concat(h.shortLink)},r.a.createElement(v.Button,{className:Ce.a.editTemplateButton,isDisabled:H,appearance:"default",shouldFitContainer:!0},Ee("edit-this-template"))))};var Ie=i("./app/scripts/controller/navigate.js"),Be=i("./packages/nachos/popover.ts"),De=i("./app/src/components/PopoverConfirm/index.ts");function Ae(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Le(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(i),!0).forEach((function(t){Fe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ae(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Fe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Me={context:{operationName:"DeleteCardTemplate"}},Ve={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteCardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteCard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idCard"},value:{kind:"Variable",name:{kind:"Name",value:"idCard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}}]}}]}}]};var Re=i("./app/src/components/CardTemplatesPopover/CardTemplatesButton.less"),ze=i.n(Re),Ue=i("./packages/test-ids/src/testIds.ts");function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const We=Object(S.forNamespace)("view title"),qe=Object(S.forTemplate)("list"),$e=Object(S.forNamespace)(["confirm","delete template card"]);var Ge;!function(e){e[e.CardTemplates=0]="CardTemplates",e[e.CreateCardFromTemplate=1]="CreateCardFromTemplate",e[e.ConfirmDelete=2]="ConfirmDelete"}(Ge||(Ge={}));const Ke=({idList:e,idBoard:t,createCard:i})=>{const[s,o]=Object(n.useState)(!1),[l,c]=Object(n.useState)(""),[d,u]=Object(n.useState)(""),[p]=function(e){const t=Le(Le({},Me),e);return a.useMutation(Ve,t)}(),m=Object(n.useCallback)((()=>{Object(A.trackUe)({category:A.Noun.CARD_TEMPLATES,verb:A.Verb.OPENS,directObj:A.Noun.CARD_TEMPLATES_MENU,context:{entry:A.Noun.LIST}})}),[]),h=Object(n.useCallback)((()=>{o(!1)}),[]),{toggle:g,hide:b,triggerRef:f,popoverProps:v,push:y,pop:w}=Object(Be.e)({initialScreen:Ge.CardTemplates,onShow:m,onHide:h});return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{content:qe("create-from-template"),delay:100,hideTooltipOnMouseDown:!0},r.a.createElement("a",{className:ze.a.cardTemplateButton,"data-test-id":Ue.i.CardTemplateListButton,ref:f,onClick:g,role:"button",href:"#","aria-label":qe("create-from-template")},r.a.createElement("span",{className:"icon-sm icon-template-card dark-background-hover"}))),r.a.createElement(Be.b,He({},v,{dangerous_className:ze.a.popover}),r.a.createElement(Be.d,{id:Ge.CardTemplates,title:We("card templates")},r.a.createElement(ue,{idList:e,idBoard:t,onSelect:e=>{c(e),y(Ge.CreateCardFromTemplate)},onTemplateCreated:e=>{b(),Object(Ie.navigate)("/c/".concat(e.shortLink),{trigger:!0})},confirmDelete:e=>{u(e),y(Ge.ConfirmDelete)},isEditing:s,setIsEditing:o,editTemplate:()=>b()})),r.a.createElement(Be.d,{id:Ge.CreateCardFromTemplate,title:We("create card")},r.a.createElement(Pe,{idCard:l,createCard:async(e,t,n)=>{try{const r=await i(e,t,n);Object(A.trackUe)({category:A.Noun.CARD_TEMPLATES,verb:A.Verb.COMPLETES,directObj:A.Noun.CREATE_CARD_FROM_TEMPLATE_MENU,context:{entry:A.Noun.LIST}}),b(),r()}catch(e){}},editTemplate:()=>{b()}})),r.a.createElement(Be.d,{id:Ge.ConfirmDelete,title:$e("title")},r.a.createElement(De.a,{confirmKey:"delete template card",confirmCallback:async()=>{d&&(await p({variables:{idCard:d}}),Object(A.trackUe)({category:A.Noun.CARD_TEMPLATES,verb:A.Verb.DELETES,directObj:A.Noun.CARD_TEMPLATE,indirectObj:A.Noun.CARD_TEMPLATES_MENU}),w())},isDanger:!0}))))}},"./app/src/components/DateRangePicker/LazyDateRangePicker.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"Choice",(function(){return o})),i.d(t,"LazyDateRangePicker",(function(){return l}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/use-lazy-component/index.ts"),s=i("./app/src/components/ComponentWrapper/index.ts");let o;!function(e){e[e.StartDate=0]="StartDate",e[e.DueDate=1]="DueDate"}(o||(o={}));const l=e=>{const t=Object(a.useLazyComponent)((()=>i.e(63).then(i.bind(null,"./app/src/components/DateRangePicker/DateRangePicker.tsx"))),{namedImport:"DateRangePicker"});return r.a.createElement(s.ComponentWrapper,{key:"date-range-picker"},r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(t,e)))}},"./app/src/components/Emoji/Emoji.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"Emoji",(function(){return u}));var n,r,a,s=i("./app/src/components/Emoji/EmojiProviderComponent.tsx"),o=i("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js"),l=i("./node_modules/react/index.js"),c=i.n(l);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}class u extends c.a.Component{render(){return c.a.createElement(s.EmojiProviderComponent,{isSmallSpinner:!0},((e,t)=>c.a.createElement(o.default,d({},this.props,{data:e,backgroundImageFn:t}))))}}a={set:"twitter",size:16},(r="defaultProps")in(n=u)?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a},"./app/src/components/Emoji/EmojiProviderComponent.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"EmojiProviderComponent",(function(){return l}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./app/src/components/Emoji/EmojiProvider.ts"),s=i("./packages/nachos/spinner.ts");function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends r.a.Component{constructor(e){super(e),o(this,"mounted",void 0),this.state={data:a.emojiProvider.getDataSync()}}componentDidMount(){this.mounted=!0,this.state.data||a.emojiProvider.getData().then((e=>{if(this.mounted&&e)return this.setState({data:e})}))}componentWillUnmount(){this.mounted=!1}getBackgroundImageFn(){if(a.emojiProvider.getSpritesheetsSync())return a.emojiProvider.getSpritesheetsUrl}render(){const{children:e,isSmallSpinner:t}=this.props,{data:i}=this.state;return i?e(i,this.getBackgroundImageFn()):r.a.createElement("div",null,r.a.createElement(s.a,{small:t,centered:!t}))}}o(l,"defaultProps",{isSmallSpinner:!1})},"./app/src/components/FreeTrial/FreeTrialBannerActive.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerActive.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/FreeTrial/FreeTrialBannerExpired.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerExpired.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/FreeTrial/FreeTrialPlanSelection.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialPlanSelection.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return H}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/tooltip.ts"),s=i("./node_modules/classnames/index.js"),o=i.n(s),l=i("./app/src/components/FreeTrial/FreeTrialPlanSelection.less"),c=i.n(l),d=i("./packages/i18n/index.ts"),u=i("./packages/product-features/index.ts"),p=i("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),m=i("./app/scripts/debug/constants.ts"),h=i("./packages/atlassian-analytics/index.ts"),g=i("./packages/test-ids/index.ts"),b=i("./packages/nachos/icons/board.tsx"),f=i("./packages/nachos/icons/power-up.tsx"),v=i("./packages/nachos/icons/image.tsx"),k=i("./packages/nachos/icons/search.tsx"),y=i("./packages/nachos/icons/sticker.tsx"),w=i("./packages/nachos/icons/table.tsx"),j=i("./packages/nachos/icons/calendar.tsx"),x=i("./packages/nachos/icons/heart.tsx"),C=i("./packages/nachos/icons/admin-chevron.tsx"),_=i("./packages/nachos/icons/subscribe.tsx"),O=i("./packages/nachos/icons/template-board.tsx"),E=i("./packages/nachos/icons/checklist.tsx"),S=i("./packages/nachos/icons/location.tsx"),T=i("./packages/nachos/icons/butler-bot.tsx"),N=i("./packages/nachos/icons/star.tsx");function P(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function I(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?P(Object(i),!0).forEach((function(t){B(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function B(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const D=Object(d.forNamespace)("upgrade-prompt-plan-selection-consolidated"),A=(e,t)=>{const i=[e,"features",t],n="free-team"===e||"boards"===t||"sta-team"===e&&"pups"===t||"free-team-nusku"===e&&"pups"===t;return{content:D([...i,e.includes("nusku")||e.includes("bc")?"content-joined":"content"]),tooltip:n?null:D([...i,"tooltip"])}},L=[I({icon:b.BoardIcon},A("bc-team","boards")),I({icon:f.a},A("bc-team","pups")),I({icon:T.a},A("bc-team","butler")),I({icon:_.a},A("bc-team","admin")),I({icon:x.a},A("bc-team","support")),I({icon:N.a},A("bc-team","more"))],F=[I({icon:f.a},A("bc-team-nusku","pups")),I({icon:T.a},A("bc-team-nusku","butler")),I({icon:w.TableIcon},A("bc-team-nusku","table")),I({icon:j.CalendarIcon},A("bc-team-nusku","calendar")),I({icon:S.LocationIcon},A("bc-team-nusku","map")),I({icon:E.a},A("bc-team-nusku","checklists")),I({icon:O.a},A("bc-team-nusku","templates")),I({icon:_.a},A("bc-team-nusku","observers")),I({icon:C.a},A("bc-team-nusku","admin")),I({icon:x.a},A("bc-team-nusku","support"))],M=[I({icon:b.BoardIcon},A("free-team","boards")),I({icon:f.a},A("free-team","pups")),I({icon:T.a},A("free-team","butler"))],V=[I({icon:b.BoardIcon},A("free-team-nusku","boards")),I({icon:f.a},A("free-team-nusku","pups")),I({icon:T.a},A("free-team-nusku","butler"))],R=[I({icon:b.BoardIcon},A("sta-team","boards")),I({icon:f.a},A("sta-team","pups")),I({icon:T.a},A("sta-team","butler")),I({icon:v.a},A("sta-team","custom-backgrounds")),I({icon:y.a},A("sta-team","custom-stickers")),I({icon:k.a},A("sta-team","saved-searches"))],z=(e,t)=>e?r.a.createElement(a.a,{content:e,component:a.b},t):t,U=D("after-trial",{price:"$".concat(Object(d.asMoney)(u.ProductFeatures.getPrice(u.Products.Organization.BusinessClass.current.yearly)/12)),downgradeOption:r.a.createElement("a",{key:"after-trial-downgrade",target:"_blank",href:"https://help.trello.com/article/836-cancel-trello-business-class"},D("after-trial-downgrade"))}),H=({type:e,trialLength:t,cta:a,orgId:s,hideSecondaryCta:l=!1,isStandardVariationEnabled:d})=>(Object(n.useEffect)((()=>{h.Analytics.sendScreenEvent({name:"planSelectionModal",containers:{organization:{id:s}}})}),[s]),r.a.createElement(p.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:m.Feature.FreeTrialExistingTeam}},r.a.createElement("div",{"data-test-id":"have-business-class"===e?g.FreeTrialTestIds.HaveBCPlanSelection:g.FreeTrialTestIds.TryBCPlanSelection,className:c.a.heading},r.a.createElement("h1",null,r.a.createElement("img",{src:i("./resources/images/moonshot/bc-sparkle.svg"),alt:"","aria-hidden":"true"}),D([e,"headline"],{dayCount:t})),r.a.createElement("h2",null,D([e,"description"],{dayCount:t}))),r.a.createElement("div",{className:c.a.bodyWrapper},d?r.a.createElement("div",{className:o()(c.a.freePlan,d&&c.a.freePlanNusku)},r.a.createElement("h2",null,D(["free-team-nusku","headline"])),r.a.createElement("ul",null,V.map((({icon:e,content:t,tooltip:i},n)=>r.a.createElement("li",{key:n,className:o()(c.a.featureItem,!!i&&c.a.tooltipTarget)},z(i,r.a.createElement("div",{className:c.a.featureItemWrapper},r.a.createElement(e,{color:"quiet"}),r.a.createElement("div",null,r.a.createElement("span",{className:c.a.featureContent},t))))))))):r.a.createElement("div",{className:o()(c.a.freePlan,d&&c.a.freePlanNusku)},r.a.createElement("h2",null,D(["free-team","headline"])),r.a.createElement("ul",null,M.map((({icon:e,content:t},i)=>r.a.createElement("li",{key:i,className:c.a.featureItem},r.a.createElement(e,{color:"quiet"}),r.a.createElement("span",{className:c.a.featureContent},t)))))),d&&r.a.createElement("div",{className:c.a.staPlan},r.a.createElement("h2",null,D(["sta-team","headline"])),r.a.createElement("ul",null,R.map((({icon:e,content:t,tooltip:i},n)=>r.a.createElement("li",{key:n,className:o()(c.a.featureItem,!!i&&c.a.tooltipTarget)},z(i,r.a.createElement("div",{className:c.a.featureItemWrapper},r.a.createElement(e,{color:"quiet"}),r.a.createElement("div",null,r.a.createElement("span",{className:c.a.featureContent},t))))))))),d?r.a.createElement("div",{className:o()(c.a.bcPlan,c.a.bcPlanNusku)},r.a.createElement("div",{className:c.a.recommendedLabel},D([e,"tag"],{dayCount:t})),r.a.createElement("h2",null,D(["bc-team-nusku","headline"])),r.a.createElement("h3",{className:c.a.subLabel},D(["bc-team-nusku","everything-in-sta"])),r.a.createElement("ul",null,F.map((({icon:e,content:t,tooltip:i},n)=>r.a.createElement("li",{key:n,className:o()(c.a.featureItem,!!i&&c.a.tooltipTarget)},z(i,r.a.createElement("div",{className:c.a.featureItemWrapper},r.a.createElement(e,{color:"quiet"}),r.a.createElement("div",null,r.a.createElement("span",{className:c.a.featureContent},t.replace(/&amp;/g,"&")))))))))):r.a.createElement("div",{className:c.a.bcPlan},r.a.createElement("div",{className:c.a.recommendedLabel},D([e,"tag"],{dayCount:t})),r.a.createElement("h2",null,D(["bc-team","headline"])),r.a.createElement("ul",null,L.map((({icon:e,content:t,tooltip:i},n)=>r.a.createElement("li",{key:n,className:o()(c.a.featureItem,!!i&&c.a.tooltipTarget)},z(i,r.a.createElement("div",{className:c.a.featureItemWrapper},r.a.createElement(e,{size:"medium",dangerous_className:c.a.featureIcon}),r.a.createElement("div",null,r.a.createElement("span",{className:c.a.featureContent},t)))))))))),r.a.createElement("div",{className:c.a.actions},a,r.a.createElement("div",{className:c.a.trustedBy},r.a.createElement("span",null,D("trusted-by-teams-at")),r.a.createElement("img",{src:i("./resources/images/upgrade-prompts/pinterest.svg"),alt:"Pinterest",width:"22"}),r.a.createElement("img",{src:i("./resources/images/upgrade-prompts/google.svg"),alt:"Google",width:"64"}),r.a.createElement("img",{src:i("./resources/images/upgrade-prompts/fortnite.svg"),alt:"Fortnite",width:"58"}),r.a.createElement("img",{src:i("./resources/images/upgrade-prompts/peloton.svg"),alt:"Peloton",width:"85"})),r.a.createElement("p",{className:c.a.afterTrial},U),"try-business-class"===e&&!l&&r.a.createElement("a",{onClick:()=>{h.Analytics.sendClickedButtonEvent({buttonName:"learnMoreAboutBCButton",source:"planSelectionModal",containers:{organization:{id:s}}})},href:"/business-class",className:c.a.secondaryCta,"data-test-id":g.FreeTrialTestIds.LearnMoreAboutBCButton},D([e,"secondary-cta"])))))},"./app/src/components/FreeTrial/PlanSelection.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelection.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/FreeTrial/PlanSelection.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/icons/board.tsx"),s=i("./packages/nachos/icons/power-up.tsx"),o=i("./packages/nachos/icons/butler-bot.tsx"),l=i("./packages/nachos/icons/subscribe.tsx"),c=i("./packages/nachos/icons/heart.tsx"),d=i("./packages/nachos/icons/star.tsx"),u=i("./packages/nachos/icons/business-class.tsx"),p=i("./packages/nachos/tooltip.ts"),m=i("./node_modules/classnames/index.js"),h=i.n(m),g=i("./app/src/components/FreeTrial/PlanSelection.less"),b=i.n(g),f=i("./packages/i18n/index.ts"),v=i("./packages/product-features/index.ts"),k=i("./packages/test-ids/index.ts");function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){j(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const x=Object(f.forNamespace)("upgrade prompt plan selection"),C=(e,t)=>{const i=[e,"features",t];return{content:x([...i,"bc team"===e?"content-joined":"content"]),tooltip:"free team"===e||"boards"===t?null:x([...i,"tooltip"])}},_=[w({icon:r.a.createElement(a.BoardIcon,null)},C("bc team","boards")),w({icon:r.a.createElement(s.a,null)},C("bc team","pups")),w({icon:r.a.createElement(o.a,null)},C("bc team","butler")),w({icon:r.a.createElement(l.a,null)},C("bc team","admin")),w({icon:r.a.createElement(c.a,null)},C("bc team","support")),w({icon:r.a.createElement(d.a,null)},C("bc team","more"))],O=[w({icon:r.a.createElement(a.BoardIcon,null)},C("free team","boards")),w({icon:r.a.createElement(s.a,null)},C("free team","pups")),w({icon:r.a.createElement(o.a,null)},C("free team","butler"))],E=x("price per user",{price:"$".concat(Object(f.asMoney)(v.ProductFeatures.getPrice(v.Products.Organization.BusinessClass.current.yearly)/12))}),S=({cta:e})=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:b.a.heading,"data-test-id":k.UpgradePromptTestIds.PlanSelection},r.a.createElement("h1",null,r.a.createElement(u.BusinessClassIcon,{color:"dark",dangerous_className:b.a.headingIcon})," ",x("headline")),r.a.createElement("h2",null,x("description"))),r.a.createElement("div",{className:b.a.bodyWrapper},r.a.createElement("div",{className:b.a.freePlan},r.a.createElement("h2",null,x(["free team","headline"])),r.a.createElement("ul",null,O.map((({icon:e,content:t},i)=>r.a.createElement("li",{key:i,className:b.a.featureItem},r.a.cloneElement(e,{size:"medium",dangerous_className:b.a.featureIcon}),r.a.createElement("span",{className:b.a.featureContent},t)))))),r.a.createElement("div",{className:b.a.bcPlan},r.a.createElement("div",{className:b.a.recommendedLabel},"Recommended"),r.a.createElement("h2",null,x(["bc team","headline"])),r.a.createElement("ul",null,_.map((({icon:e,content:t,tooltip:i},n)=>r.a.createElement("li",{key:n,className:h()(b.a.featureItem,!!i&&b.a.tooltipTarget)},((e,t)=>e?r.a.createElement(p.a,{content:e,component:p.b},t):t)(i,r.a.createElement("div",{className:b.a.featureItemWrapper},r.a.cloneElement(e,{size:"medium",dangerous_className:b.a.featureIcon}),r.a.createElement("div",null,r.a.createElement("span",{className:b.a.featureContent},t)))))))))),r.a.createElement("div",{className:b.a.actions},r.a.createElement("p",null,E),e,r.a.createElement("a",{href:"/business-class",className:b.a.learnMore},x("learn bc"))))},"./app/src/components/FreeTrial/PlanSelectionOverlay.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelectionOverlay.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/FreeTrial/PlanSelectionOverlay.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return I})),i.d(t,"b",(function(){return B}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./packages/i18n/index.ts"),l=i("./app/src/components/Overlay/index.ts"),c=i("./app/src/components/ComponentWrapper/index.ts"),d=i("./app/src/components/FreeTrial/PlanSelection.tsx"),u=i("./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx"),p=i("./app/src/components/FreeTrial/UpsellOverlay.tsx"),m=i("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),h=i("./packages/atlassian-analytics/index.ts"),g=i("./packages/nachos/spinner.ts"),b=i("./app/src/components/RouterLink/RouterLink.tsx"),f=i("./node_modules/@apollo/client/index.js");function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function k(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const w={context:{operationName:"PlanSelectionOverlay"}},j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlanSelectionOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"standardVariation"}}]}}]}}]};var x=i("./packages/test-ids/index.ts"),C=i("./app/src/components/StandardGenerics/index.ts"),_=i("./packages/nachos/icons/back.tsx"),O=i("./packages/nachos/icons/close.tsx"),E=i("./packages/nachos/button.ts"),S=i("./app/src/components/FreeTrial/PlanSelectionOverlay.less"),T=i.n(S);const N=Object(o.forNamespace)("upgrade-prompt-plan-selection-consolidated"),P=Object(o.forNamespace)("upgrade prompt plan selection"),I=({onClose:e,orgId:t,currentPlanSelected:i,startFreeTrialOptions:a})=>{var o,c,v,y;const{data:S,loading:I}=function(e){const t=k(k({},w),e);return f.useQuery(j,t)}({variables:{orgId:t},skip:!t}),{isStandardVariationEnabled:B}=Object(C.useStandard)({orgId:t}),D=null==S||null===(o=S.organization)||void 0===o?void 0:o.name,A=null==S||null===(c=S.member)||void 0===c?void 0:c.id,L=null==S||null===(v=S.organization)||void 0===v||null===(y=v.memberships)||void 0===y?void 0:y.find((e=>e.idMember===A&&"admin"===e.memberType)),{isEligible:F,isTrialActive:M,startFreeTrial:V,loading:R}=Object(m.a)(t),[z,U]=Object(n.useState)(!1),[H,W]=Object(n.useState)(!1);Object(n.useEffect)((()=>{M&&H&&(e(),W(!1))}),[e,M,H]);const q=async()=>{H||(W(!0),h.Analytics.sendTrackEvent({action:"accepted",actionSubject:"freeTrial",source:"freeTrialModal",containers:{organization:{id:t}},attributes:{currentPlanSelected:i}}),await V(a))};if(I||R)return null;let $=r.a.createElement(d.a,{cta:L?r.a.createElement(b.a,{onClick:()=>e(),href:"/".concat(D,"/billing"),className:T.a.planSelectionCtaButton},P("start bc")):r.a.createElement("a",{className:T.a.planSelectionCtaButton,href:"/business-class"},P("start bc"))});return F||H?$=z?r.a.createElement(u.a,{type:"try-business-class",orgId:t,cta:r.a.createElement(E.Button,{appearance:"primary",size:"fullwidth","data-test-id":x.FreeTrialTestIds.StartFreeTrialButton,onClick:q},H?r.a.createElement(g.a,{centered:!0,small:!0,wrapperClassName:T.a.spinner}):N(["try-business-class","cta"],{dayCount:14})),trialLength:14,isStandardVariationEnabled:B}):r.a.createElement(p.a,{onCtaClick:q,isLoading:H,orgId:t,onLearnMore:()=>U(!0)}):M&&($=r.a.createElement(u.a,{type:"have-business-class",cta:r.a.createElement(E.ButtonLink,{isPrimary:!0,link:"/business-class",className:T.a.freeTrialPlanSelectionCtaButton},P("learn bc")),orgId:t,trialLength:14,isStandardVariationEnabled:B})),r.a.createElement(l.a,{onClose:e,background:l.c.DARK},r.a.createElement("div",{className:s()(T.a.animation,T.a.overlay,T.a.overlayExistingTeams,(M||z)&&T.a.overlayViewingPlan,B&&T.a.overlayExpanded),tabIndex:-1,ref:e=>{e&&e.focus()}},z&&r.a.createElement("button",{className:T.a.back,title:"Todo","aria-label":"Todo",onClick:()=>(async()=>{h.Analytics.sendClickedButtonEvent({buttonName:"backButton",source:"planSelectionModal",containers:{organization:{id:t}},attributes:{currentPlanSelected:i}}),U(!1)})()},r.a.createElement(_.a,{size:"large",block:!0})),r.a.createElement("button",{className:T.a.close,title:P("close"),"aria-label":P("close"),onClick:()=>(async()=>{h.Analytics.sendClosedComponentEvent({componentType:"modal",componentName:"freeTrialModal",source:"planSelectionModal",containers:{organization:{id:t}},attributes:{currentPlanSelected:i}}),e()})()},r.a.createElement(O.a,{size:"large",block:!0})),$))},B=e=>r.a.createElement(c.ComponentWrapper,null,r.a.createElement(I,e))},"./app/src/components/FreeTrial/UpsellOverlay.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/UpsellOverlay.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/FreeTrial/UpsellOverlay.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/i18n/index.ts"),s=i("./packages/nachos/button.ts"),o=i("./packages/nachos/spinner.ts"),l=i("./packages/nachos/icons/forward.tsx"),c=i("./packages/atlassian-analytics/index.ts"),d=i("./app/src/components/FreeTrial/UpsellOverlay.less"),u=i.n(d),p=i("./packages/test-ids/index.ts");const m=Object(a.forNamespace)(""),h=Object(a.forNamespace)(["free trial existing","upsell"]),g=[h("things-to-know-point-1"),h("things-to-know-point-2"),h("things-to-know-point-3",{priority:r.a.createElement("a",{href:"https://help.trello.com",style:{marginRight:4},key:"things-to-know-point-3-priority-support"},h("things-to-know-point-3-priority-support"))}),h("things-to-know-point-4")],b=({onLearnMore:e,orgId:t,onCtaClick:a,isLoading:d})=>(Object(n.useEffect)((()=>{c.Analytics.sendScreenEvent({name:"freeTrialModal",containers:{organization:{id:t}}})}),[t]),r.a.createElement("div",{className:u.a.upsellOverlay},r.a.createElement("div",{className:u.a.upsellOverlayHeader},r.a.createElement("img",{src:i("./resources/images/free-trial/light.svg"),alt:"free-trial-light",role:"presentation",width:"101",height:"90"}),r.a.createElement("div",{className:u.a.upsellOverlayTag},h(["upsell","tag"])),r.a.createElement("h3",null,h(["upsell","headline"])),r.a.createElement("p",null,h(["upsell","content"])),r.a.createElement(s.Button,{className:u.a.button,appearance:"primary","data-test-id":p.FreeTrialTestIds.StartFreeTrialButton,onClick:a,size:"fullwidth"},d?r.a.createElement(o.a,{centered:!0,small:!0,wrapperClassName:u.a.spinner}):h(["upsell","maincta"]))),r.a.createElement("div",{className:u.a.upsellOverlayBody},r.a.createElement("div",{className:u.a.upsellOverlayBodyHeader},r.a.createElement("h3",null,h(["upsell","things-to-know-header"])),r.a.createElement("img",{src:i("./resources/images/free-trial/thumbs-up.svg"),alt:"free-trial-thumbs-up",role:"presentation",width:"94",height:"93"})),r.a.createElement("div",{className:u.a.upsellOverlayThings},g.map(((e,t)=>r.a.createElement("div",{key:t.toString(),className:u.a.upsellOverlayThing},r.a.createElement("div",{className:u.a.upsellOverlayThingBullet,"aria-hidden":"true",role:"presentation"})," ",e)))),r.a.createElement(s.Button,{className:u.a.learnMoreStep,onClick:()=>{e(),c.Analytics.sendClickedButtonEvent({buttonName:"learnMoreButton",source:"freeTrialModal",containers:{organization:{id:t}}})},size:"fullwidth","data-test-id":p.FreeTrialTestIds.LearnMoreAboutBCButton,iconAfter:r.a.createElement(l.a,{size:"small"})},m(["learn more button"])))))},"./app/src/components/FreeTrial/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"UpsellOverlay",(function(){return n.a})),i.d(t,"FreeTrialBanner",(function(){return X})),i.d(t,"PlanSelection",(function(){return ee.a})),i.d(t,"FreeTrialPlanSelection",(function(){return te.a})),i.d(t,"PlanSelectionOverlay",(function(){return k.a})),i.d(t,"PlanSelectionOverlayConnected",(function(){return k.b})),i.d(t,"useFreeTrialEligibilityRules",(function(){return Q.a}));var n=i("./app/src/components/FreeTrial/UpsellOverlay.tsx"),r=i("./node_modules/@apollo/client/index.js");function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l={context:{operationName:"FreeTrialDismissBannerAndConfetti"}},c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FreeTrialDismissBannerAndConfetti"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function d(e){const t=s(s({},l),e);return r.useMutation(c,t)}var u=i("./node_modules/react/index.js"),p=i.n(u),m=i("./node_modules/classnames/index.js"),h=i.n(m),g=i("./packages/nachos/button.ts"),b=i("./packages/i18n/index.ts"),f=i("./app/src/components/FreeTrial/FreeTrialBannerActive.less"),v=i.n(f),k=i("./app/src/components/FreeTrial/PlanSelectionOverlay.tsx"),y=i("./packages/atlassian-analytics/index.ts"),w=i("./node_modules/canvas-confetti/dist/confetti.module.mjs"),j=i("./node_modules/underscore/underscore.js"),x=i.n(j),C=i("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),_=i("./app/scripts/debug/constants.ts"),O=i("./packages/test-ids/index.ts"),E=i("./app/src/components/RouterLink/RouterLink.tsx"),S=i("./packages/nachos/icons/close.tsx"),T=i("./packages/feature-flag-client/index.ts");const N=Object(b.forNamespace)("free trial existing"),P=Object(b.forNamespace)("learn more button"),I=({orgId:e,dismissBanner:t,data:i,freeTrialRules:n})=>{var r,a,s,o,l,c;const[m,f]=Object(u.useState)(!1),j=()=>f(!0),I=Object(T.useFeatureFlag)("fep.a11y_button",!1),[B]=d(),{daysLeft:D,isAdmin:A,totalFreeTrialCredits:L}=n,F=L>1?"free-trial-banner-confetti-".concat(L,"-").concat(e):"free-trial-banner-confetti-".concat(e),M=null!=i&&null!==(r=i.member)&&void 0!==r&&r.oneTimeMessagesDismissed?null==i||null===(a=i.member)||void 0===a?void 0:a.oneTimeMessagesDismissed:[],[V,R]=Object(u.useState)(0),[z,U]=Object(u.useState)(0),H=Object(u.useCallback)((()=>{B({variables:{memberId:"me",messageId:F},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:M.concat([F]),__typename:"Member"}}})}),[M,B,F]),W=M.includes(F);Object(u.useEffect)((()=>{let e=null,t=null;return V&&z&&!W&&(e=setTimeout((()=>{Object(w.default)({angle:x.a.random(0,45),spread:x.a.random(150,180),particleCount:150,origin:{x:0,y:z/window.innerHeight}}),e=null,t=setTimeout((()=>{H(),t=null}),3500)}),1500)),()=>{!W&&t&&H(),t&&clearTimeout(t),e&&clearTimeout(e)}}),[V,z,W,H]);const q=Object(u.useCallback)((e=>{if(null!==e){const t=e.getBoundingClientRect();R(t.x+t.width/2),U(t.y+t.height/2)}W&&w.default.reset()}),[W]),$=null==i||null===(s=i.organization)||void 0===s?void 0:s.displayName,G=null==i||null===(o=i.organization)||void 0===o?void 0:o.name,K=G?"/".concat(G,"/billing"):"",Z=!(null==i||null===(l=i.organization)||void 0===l||null===(c=l.paidAccount)||void 0===c||!c.cardType);return p.a.createElement(C.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:_.Feature.FreeTrialExistingTeam}},p.a.createElement("div",{className:h()(v.a.container,v.a.bannerBg),"data-test-id":O.FreeTrialTestIds.ActiveFreeTrialBanner,role:"banner"},p.a.createElement("div",{className:v.a.bcContainer},p.a.createElement("span",{role:"img","aria-label":"confetti",className:v.a.emoji},""),Object(b.localizeCount)("free-trial-banner-tagline-by-days",D,{teamName:p.a.createElement(p.a.Fragment,{key:$},$),days:p.a.createElement("div",{ref:q,key:"".concat($,"-").concat(D),className:v.a.daysContainer},D)})),p.a.createElement("div",{className:v.a.ctaContainer},A&&!Z?p.a.createElement(p.a.Fragment,null,p.a.createElement("a",{role:"button",className:v.a.linkCta,"data-test-id":O.FreeTrialTestIds.LearnMoreBannerLink,onClick:()=>{y.Analytics.sendClickedLinkEvent({linkName:"learnMoreLink",source:"freeTrialBanner",containers:{organization:{id:e}}}),j()}},P("")),p.a.createElement(E.a,{className:h()(v.a.linkButton,I&&v.a.linkButtonExp),href:K,onClick:()=>{const t=A?"addPaymentButton":"upgradeButton";y.Analytics.sendClickedButtonEvent({buttonName:t,source:"freeTrialBanner",containers:{organization:{id:e}}})},testId:O.FreeTrialTestIds.BannerAddPaymentButton},N(["banner","add-payment-method"]))):p.a.createElement(p.a.Fragment,null,p.a.createElement(g.Button,{className:v.a.linkButton,appearance:"primary",onClick:()=>{y.Analytics.sendClickedButtonEvent({buttonName:"learnMoreButton",source:"freeTrialBanner",containers:{organization:{id:e}}}),j()}},P("")),p.a.createElement("button",{className:v.a.closeButton,onClick:t},p.a.createElement(S.a,{size:"medium",block:!0,dangerous_className:v.a.closeIcon}))))),m&&p.a.createElement(k.a,{orgId:e,onClose:()=>f(!1)}))};var B=i("./packages/product-features/index.ts"),D=i("./node_modules/moment/moment.js"),A=i.n(D),L=i("./app/src/components/FreeTrial/FreeTrialBannerExpired.less"),F=i.n(L),M=i("./packages/paid-account/index.ts"),V=i("./app/src/components/TeamBillingView/useBillingStep.tsx"),R=i("./app/src/components/StandardGenerics/index.ts");const z=Object(b.forNamespace)("free trial existing"),U=({orgId:e,dismissBanner:t,data:i})=>{var n,r,a,s,o,l,c,d;const{isStandardVariationEnabled:m}=Object(R.useStandard)({orgId:e}),{setStep:g}=Object(V.a)(),b=Object(T.useFeatureFlag)("fep.a11y_button",!1),f=null==i||null===(n=i.organization)||void 0===n?void 0:n.displayName,v=null==i||null===(r=i.organization)||void 0===r?void 0:r.name,k=v?"/".concat(v,"/billing"):"",w=B.ProductFeatures.hasProduct(null!==(a=null==i||null===(s=i.member)||void 0===s||null===(o=s.paidAccount)||void 0===o||null===(l=o.products)||void 0===l?void 0:l[0])&&void 0!==a?a:0),j=A()(null!==(c=Object(M.getExpirationDate)(null==i||null===(d=i.member)||void 0===d?void 0:d.paidAccount))&&void 0!==c?c:"").format("MM/DD"),x=Object(u.useCallback)((()=>{y.Analytics.sendClickedButtonEvent({buttonName:"upgradeButton",source:"freeTrialBanner",containers:{organization:{id:e}}})}),[e]),N=Object(u.useCallback)((e=>{g({step:e}),t(),x()}),[t,g,x]);let P;return P=w?z(["banner","expired tagline gold"],{date:p.a.createElement(p.a.Fragment,{key:"date-expired"},j)}):z(["banner","expired tagline"],{teamName:p.a.createElement(p.a.Fragment,{key:f},f)}),p.a.createElement(C.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:_.Feature.FreeTrialExistingTeam}},p.a.createElement("div",{className:h()(F.a.container,F.a.expiredBg),"data-test-id":O.FreeTrialTestIds.ExpiredFreeTrialBanner,role:"banner"},p.a.createElement("div",{className:F.a.bcContainer},p.a.createElement("span",{role:"img","aria-label":"wave",className:F.a.emoji},""),P),p.a.createElement("section",{className:F.a.ctaContainer},p.a.createElement("div",{className:F.a.linkContainer},w&&p.a.createElement(E.a,{testId:O.FreeTrialTestIds.RenewGoldButton,role:"button",className:F.a.linkCta,onClick:()=>{y.Analytics.sendClickedLinkEvent({linkName:"goldLink",source:"freeTrialBanner",containers:{organization:{id:e}}})},href:"/me/billing"},z(["banner","renew-gold"])),m&&p.a.createElement(E.a,{testId:O.FreeTrialTestIds.ExplorePlansButton,role:"button",className:F.a.linkCta,href:k,onClick:()=>N("details")},z(["banner","explore-plans"])),p.a.createElement(E.a,{testId:O.FreeTrialTestIds.AddPaymentMethodButton,role:"button",className:h()(F.a.linkButton,b&&F.a.linkButtonExp),href:k,onClick:()=>N("billing")},z(["banner","add-payment-method"]))),p.a.createElement("button",{className:F.a.closeButton,onClick:t},p.a.createElement(S.a,{size:"medium",block:!0,dangerous_className:F.a.closeIcon})))))};var H=i("./packages/browser/index.ts"),W=i("./node_modules/js-cookie/src/js.cookie.js"),q=i.n(W);function $(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$(Object(i),!0).forEach((function(t){K(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function K(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Z={context:{operationName:"FreeTrialBanner"}},J={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeTrialBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}},{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"expirationDates"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardType"}}]}}]}}]}}]};var Q=i("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),Y=i("./packages/organizations/index.ts");const X=({orgId:e})=>{var t,i,n;const[a]=d(),s=Object(Q.a)(e),{hasCredit:o,isTrialActive:l,trialSource:c,isAdmin:u,totalFreeTrialCredits:m}=s,{data:h,loading:g}=function(e){const t=G(G({},Z),e);return r.useQuery(J,t)}({variables:{orgId:e}}),b=m>1?"free-trial-banner-".concat(m,"-").concat(e):"free-trial-banner-".concat(e),f=null!=h&&null!==(t=h.member)&&void 0!==t&&t.oneTimeMessagesDismissed?null==h||null===(i=h.member)||void 0===i?void 0:i.oneTimeMessagesDismissed:[];if(!o||f.includes(b)||g||!h||null!=h&&null!==(n=h.organization)&&void 0!==n&&n.idEnterprise||Object(H.dontUpsell)())return null;const v=q.a.get("simulateExpiredTrial"),k=l&&!v,w=c===Y.TrialSource.Moonshot,j=async()=>{y.Analytics.sendDismissedComponentEvent({componentType:"banner",componentName:"freeTrialBanner",source:Object(y.getScreenFromUrl)(),containers:{organization:{id:e}}}),a({variables:{memberId:"me",messageId:b},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:f.concat([b]),__typename:"Member"}}})};return!u&&!k||u&&w?null:((async()=>{const t=u&&k?"admin":k?"normal":"expired";y.Analytics.sendViewedBannerEvent({bannerName:"freeTrialBanner",source:Object(y.getScreenFromUrl)(),containers:{organization:{id:e}},attributes:{type:t}})})(),p.a.createElement(C.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:_.Feature.FreeTrialExistingTeam}},k?p.a.createElement(I,{orgId:e,dismissBanner:j,data:h,freeTrialRules:s}):p.a.createElement(U,{orgId:e,dismissBanner:j,data:h})))};var ee=i("./app/src/components/FreeTrial/PlanSelection.tsx"),te=i("./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx")},"./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var n=i("./node_modules/@apollo/client/index.js");function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o={context:{operationName:"FreeTrialEligibilityRules"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeTrialEligibilityRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standing"}}]}},{kind:"Field",name:{kind:"Name",value:"credits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"count"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]};function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){u(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const p={context:{operationName:"AddFreeTrialCredit"}},m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddFreeTrialCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addFreeTrial"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"standing"}},{kind:"Field",name:{kind:"Name",value:"dateFirstSubscription"}}]}}]}}]}}]};var h=i("./app/src/components/BillingDetails/BillingHistory/TeamBillingStatementsQuery.graphql"),g=i.n(h),b=i("./packages/organizations/index.ts"),f=i("./packages/paid-account/index.ts"),v=i("./app/scripts/controller/navigate.js"),k=i("./packages/atlassian-analytics/index.ts"),y=i("./packages/graphql-error-handling/index.ts"),w=i("./app/scripts/views/lib/alerts.js"),j=i.n(w),x=i("./packages/dates/index.ts"),C=i("./node_modules/moment/moment.js"),_=i.n(C);const O=(e,t={skip:!1})=>{var i,r;const{data:s,loading:c}=function(e){const t=a(a({},o),e);return n.useQuery(l,t)}({variables:{orgId:e||""},skip:!e||t.skip}),[u,{loading:h}]=function(e){const t=d(d({},p),e);return n.useMutation(m,t)}(),w=null==s?void 0:s.member,C=null==s?void 0:s.organization,O=(null==w?void 0:w.id)||"",E=null==w?void 0:w.idEnterprise,S=null==w?void 0:w.confirmed,T=null==C?void 0:C.name,N=(null==C?void 0:C.credits)||[],P=(null==C?void 0:C.products)||[],I=Object(f.needsCC)(null==C||null===(i=C.paidAccount)||void 0===i?void 0:i.standing),B=Object(b.getFreeTrialProperties)(N,P),D=!(null==B||!B.credit),A=N.some((e=>"freeTrial"===e.type&&_()(Object(x.e)(e.id)).add(e.count,"day").isAfter("2021-02-09T00:00:00+0000"))),L=N.filter((e=>"freeTrial"===e.type)).length,F=!(null==C||!C.memberships.find((e=>e.idMember===O&&"admin"===e.memberType)));return{startFreeTrial:async({redirect:t}={redirect:!0},i)=>{if(e&&!c&&!A&&!h){try{await u({variables:{orgId:e},refetchQueries:[{query:g.a,variables:{orgId:e}}]}),i&&k.Analytics.sendTrackEvent({action:"accepted",actionSubject:"freeTrial",source:i,containers:{organization:{id:e}}})}catch(e){var n;j.a.showLiteralText(e,"error","alert",5e3);const t=Object(y.c)(e);i&&k.Analytics.sendOperationalEvent({action:"errored",actionSubject:"freeTrial",source:i,attributes:{errorMessage:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:null==e?void 0:e.message,errorCode:null==t?void 0:t.code}})}t&&Object(v.navigate)("/".concat(T,"/getting-started"),{trigger:!0,replace:!0})}},isAdmin:F,hasCredit:D,isTrialActive:null==B?void 0:B.isActive,isExpired:null==B?void 0:B.isExpired,isEligible:F&&!A&&!I&&S&&!E,loading:c,daysLeft:(null==B?void 0:B.daysLeft)||0,trialSource:null==B?void 0:B.trialSource,startDate:null==B?void 0:B.startDate,days:null==B?void 0:B.days,endDate:null!==(r=null==B?void 0:B.expiresAt)&&void 0!==r?r:null,totalFreeTrialCredits:L}}},"./app/src/components/InfiniteList/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"InfiniteList",(function(){return o}));var n=i("./node_modules/@researchgate/react-intersection-list/lib/es/index.js"),r=i("./packages/nachos/spinner.ts"),a=i("./node_modules/react/index.js"),s=i.n(a);class o extends s.a.Component{constructor(...e){var t,i,n;super(...e),n=(e,t)=>{const{itemCount:i,loadMore:n}=this.props;n&&e>=i&&n(e,t)},(i="loadMoreItems")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}render(){const{axis:e,renderEmpty:t,renderItem:i,itemCount:a,itemsRenderer:o,isLoading:l=!1,awaitMore:c,pageSize:d,spinnerClassName:u,threshold:p}=this.props;return s.a.createElement(s.a.Fragment,null,t&&t(0===a),s.a.createElement(n.a,{renderItem:i,itemCount:a,awaitMore:c,onIntersection:this.loadMoreItems,itemsRenderer:o,pageSize:d,threshold:p,axis:e}),l&&s.a.createElement(r.a,{centered:!0,wrapperClassName:u}))}}},"./app/src/components/Label/index.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=new(i("./packages/shared-state/index.ts").a)({showText:!1},{storageKey:"labelState"})},"./app/src/components/MoveCardPopover/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"MoveCardPopover",(function(){return j}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./packages/nachos/select.ts"),l=i("./packages/colors/index.ts"),c=i("./node_modules/@apollo/client/index.js");function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m={context:{operationName:"MoveCardPopover"}},h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoveCardPopover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"visible"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idList"}}]}}]}}]}}]};var g=i("./packages/i18n/index.ts"),b=i("./app/scripts/lib/localize.js"),f=i.n(b),v=i("./app/scripts/lib/util/index.js"),k=i("./packages/test-ids/index.ts");const y=Object(g.forTemplate)("popover_move_card"),w=Object(g.forTemplate)("move_card_controls"),j=({hasEnterprise:e=!1,hideBoardSelect:t=!1,isMove:i=!0,isCopy:a=!1,currentIndex:d,defaultBoardId:p,defaultBoardName:g,defaultListId:b,defaultListName:j,enterpriseName:x="",cardList:C,organizations:_,onSubmit:O,restrictToCurrentBoard:E=!1,suggestions:S=[]})=>{const[T,N]=Object(n.useState)(p),[P,I]=Object(n.useState)(b),[B,D]=Object(n.useState)("bottom"),[A,L]=Object(n.useState)(d),{data:F,loading:M}=function(e){const t=u(u({},m),e);return c.useQuery(h,t)}({fetchPolicy:"network-only",nextFetchPolicy:"cache-first",variables:{boardId:T}}),V=P===b,R=_.map((e=>({label:e.displayName,options:e.boards.map((e=>({label:e.name,value:e.id})))}))),z=F&&F.board?F.board.lists.map((e=>({label:e.name,value:e.id}))):[{label:j,value:b}];let U=z&&z.find((({value:e})=>e===P))||z[0];const H=F&&F.board&&F.board.cards?F.board.cards.filter((({idList:e})=>e===P)).length:0;let W=H||C.length;C.length>H&&V&&(W=C.length),U&&!V&&(W=H+1);const q=F&&F.board?[...Array(W).keys()].map((e=>({label:e+1,value:e}))):[{label:d+1,value:d}];let $=q[A]||q[q.length-1];z.length||(U={label:f()("no lists"),value:""},$={label:f()("n/a"),value:-1}),Object(n.useEffect)((()=>{!M&&I(U.value),!M&&!V&&L(W)}),[U.value,M,W,V]),Object(n.useEffect)((()=>{!M&&L($.value)}),[$.value,M]),Object(n.useEffect)((()=>{D((()=>0===A?"top":A===H?"bottom":Object(v.calcPos)(A,C)))}),[A,C,H]);const G=Object(n.useCallback)((e=>{O(e,T,P,B,A)}),[O,T,A,P,B]);return r.a.createElement(r.a.Fragment,null,S.length>0&&r.a.createElement("div",{className:"pop-over-section"},r.a.createElement("h4",null,r.a.createElement("span",{className:"icon-sm icon-sparkle"}),y("suggested")),S.map((e=>r.a.createElement("a",{className:s()({"button-link":!0,"js-suggested-move":!0,"flip-icon":"left"===e.direction}),key:e.id,href:"#","data-id":e.id,"data-position":e.position},r.a.createElement("span",{className:"icon-sm icon-move"}),e.name)))),r.a.createElement("div",{className:"pop-over-section"},r.a.createElement("h4",null,y("select-destination")),r.a.createElement("div",{className:"form-grid"},!t&&r.a.createElement("div",{className:"form-grid-child form-grid-child-full"},E?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{style:{color:l.N800,fontSize:"14px",marginBottom:"2px",lineHeight:"20px"}},w("board")),r.a.createElement("p",null,_[0].boards[0].name)):r.a.createElement(o.a,{label:w("board"),options:R,defaultValue:{label:g,value:p},onChange:({value:e})=>N(e),isSearchable:!0,testId:k.SelectTestIds.MoveBoardSelect}),e&&x&&i&&r.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},w("card-can-only-be-moved-to-teams-within-org",{enterpriseName:x})),e&&x&&a&&r.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},w("card-can-only-be-copied-to-teams-within-org",{enterpriseName:x}))),r.a.createElement("div",{className:"form-grid-child form-grid-child-threequarters",style:{maxWidth:"100%"}},r.a.createElement(o.a,{label:w("list"),options:z,value:U,onChange:({value:e})=>I(e),isSearchable:!0,isDisabled:!z.length})),r.a.createElement("div",{className:"form-grid-child"},r.a.createElement(o.a,{label:w("position"),options:q,value:$,onChange:({value:e})=>L(e),isSearchable:!0,isDisabled:!z.length})))),r.a.createElement("input",{className:"nch-button nch-button--primary wide",type:"submit",disabled:!z.length,onClick:e=>G(e),value:y("move")}))}},"./app/src/components/Navigation/SearchUtils.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return l}));var n=i("./node_modules/flexsearch/dist/flexsearch.min.js"),r=i.n(n);const a=e=>e.trim().toLocaleLowerCase().replace(/[]/g,"a").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(//g,"n").replace(/[c]/g,"k").replace(//g,"s").replace(/ & /g," and ").replace(/[-_/\\]/g," ").replace(/[,.?#!@~$%^*()+='"<>[\]{}:;]/g,"").replace(/\s+/g," "),s={izer:"ize",ance:"",ence:"",ness:"",able:"",ible:"",ment:"",ful:"",ent:"",ism:"",ed:"",s:""},o=()=>r.a.create({encode:a,split:/\s+/,stemmer:s,tokenize:"full"}),l=()=>r.a.create({encode:a,split:/\s+/,stemmer:s,tokenize:"full"})},"./app/src/components/NewFeature/NewPill.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/NewFeature/NewPill.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/NewFeature/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"FeatureId",(function(){return n.a})),i.d(t,"NewPill",(function(){return M})),i.d(t,"useNewFeature",(function(){return I}));var n=i("./app/src/components/NewFeature/FeatureRolloutConfig.ts"),r=i("./node_modules/react/index.js"),a=i.n(r),s=i("./packages/atlassian-analytics/index.ts"),o=i("./packages/keybindings/index.ts"),l=i("./packages/i18n/index.ts"),c=i("./app/src/components/Lozenge/index.ts"),d=i("./node_modules/moment/moment.js"),u=i.n(d),p=i("./packages/dates/index.ts"),m=i("./packages/shared-state/index.ts"),h=i("./node_modules/@apollo/client/index.js");function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){f(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const v={context:{operationName:"AcknowledgeNewFeature"}},k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AcknowledgeNewFeature"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){j(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const x={context:{operationName:"NewFeature"}},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NewFeature"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){E(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function S(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function T(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const N=e=>{const[,t]=n.b[e],i=u()(t,n.c).valueOf();return"ack-new-feature-".concat(e,"-").concat(i)},P=new m.a({},{storageKey:"newFeaturesSeen",session:!0}),I=e=>{const{data:t}=function(e){const t=w(w({},x),e);return h.useQuery(C,t)}(),[i]=function(e){const t=b(b({},v),e);return h.useMutation(k,t)}(),[a,o]=Object(m.c)(P),l=Object(r.useMemo)((()=>{var i;if(null==t||null===(i=t.member)||void 0===i||!i.id)return!1;const{id:r,oneTimeMessagesDismissed:a}=t.member,s=Object(p.e)(r),[o,l]=n.b[e];if(u()(o,n.c).isBefore(s)||u()(l,n.c).isBefore(Date.now()))return!1;const c=N(e);return!(null!=a?a:[]).includes(c)}),[t,e]),c=Object(r.useRef)(!1);Object(r.useEffect)((()=>{l&&!c.current&&(s.Analytics.sendOperationalEvent({action:"exposed",actionSubject:"newFeature",source:Object(s.getScreenFromUrl)(),attributes:{featureId:e}}),c.current=!0)}),[e,l,c]);const d=Object(r.useCallback)((async({source:t,explicit:n=!1})=>{const r=null!=a?a:{},{[e]:c}=r,d=S(r,[e].map(T));if(l){const t=N(e);await i({variables:{messageId:t}}),o(O(O({},d),{},{[e]:!n}))}else{if(!n||!0!==c)return;o(O(O({},d),{},{[e]:!1}))}s.Analytics.sendTrackEvent({action:"acknowledged",actionSubject:"newFeature",source:t,attributes:{featureId:e,explicit:n}})}),[e,l,i,a,o]);return{isNewFeature:l||!(null==a||!a[e]),acknowledgeNewFeature:d}};var B=i("./app/src/components/NewFeature/NewPill.less"),D=i.n(B);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const F=Object(l.forNamespace)("new feature"),M=e=>{let{featureId:t,source:i,markViewed:n=!0,dismissOnClick:l=!1,children:d}=e,u=L(e,["featureId","source","markViewed","dismissOnClick","children"]);const{isNewFeature:p,acknowledgeNewFeature:m}=I(t),[h,g]=Object(r.useState)(n);if(Object(r.useEffect)((()=>{h&&p&&(m({source:i}),g(!1),s.Analytics.sendViewedComponentEvent({componentType:"pill",componentName:"newFeaturePill",source:i,attributes:{featureId:t}}))}),[t,p,m,h,g,i]),!p)return null;const b=()=>{l&&m({source:i,explicit:!0}),s.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"newFeaturePill",source:i,attributes:{featureId:t,dismissOnClick:l}})};return a.a.createElement("a",{className:l?D.a.link:D.a.unstyledLink,onClick:b,onKeyDown:e=>{Object(o.isSubmitEvent)(e)&&b()},role:"button",tabIndex:l?0:void 0},a.a.createElement(c.a,A({color:"green"},u),a.a.createElement("span",{className:D.a.lozenge},d||F("new"))))}},"./app/src/components/PopoverConfirm/PopoverConfirm.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverConfirm/PopoverConfirm.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/PopoverConfirm/index.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("./packages/nachos/button.ts"),r=i("./packages/i18n/index.ts"),a=i("./node_modules/react/index.js"),s=i.n(a),o=i("./app/src/components/PopoverConfirm/PopoverConfirm.less"),l=i.n(o);const c=({confirmKey:e,confirmCallback:t,confirmSubstitutions:i,isDanger:a})=>{const o=Object(r.forNamespace)(["confirm",e]);return s.a.createElement("div",{className:l.a.confirmContainer},s.a.createElement("p",null,o("text",i)),s.a.createElement(n.Button,{appearance:a?"danger":"primary",autoFocus:!0,onClick:t,size:"fullwidth"},o("confirm",i)))}},"./app/src/components/PowerUp/LoadingSkeleton.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"LoadingSkeleton",(function(){return m}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./app/src/components/PowerUp/PowerUp.less"),l=i.n(o),c=i("./app/src/components/PowerUp/types.ts");const d=({className:e})=>r.a.createElement("div",{className:s()(l.a.flexRowSpaceBetween,e)},r.a.createElement("div",{className:l.a.flexRow},r.a.createElement("div",{className:l.a.relative},r.a.createElement("span",{className:s()(l.a.icon,l.a.loadingSkeleton)})),r.a.createElement("div",{className:l.a.nameContainer},r.a.createElement("span",{className:s()(l.a.name,l.a.loadingSkeleton)}))),r.a.createElement("span",{className:s()(l.a.loadingSkeletonButton,l.a.loadingSkeleton)})),u=({className:e})=>r.a.createElement("div",{className:s()(l.a.flexColumn,l.a.descriptionAtom,e)},r.a.createElement(d,null),r.a.createElement("span",{className:s()(l.a.description,l.a.loadingSkeleton)})),p=({className:e})=>r.a.createElement("div",{className:s()(l.a.featuredAtomContainer,e)},r.a.createElement("div",{className:s()(l.a.heroImage,l.a.loadingSkeleton)}),r.a.createElement("div",{className:s()(l.a.flexColumn,l.a.featuredAtom)},r.a.createElement(d,null),r.a.createElement("span",{className:s()(l.a.description,l.a.loadingSkeleton)}))),m=e=>e.type===c.a.Featured?r.a.createElement(p,e):e.type===c.a.Description?r.a.createElement(u,e):r.a.createElement(d,e)},"./app/src/components/PowerUp/PowerUp.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUp/PowerUp.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/PowerUp/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"PowerUpItemType",(function(){return n.a})),i.d(t,"PowerUp",(function(){return E}));var n=i("./app/src/components/PowerUp/types.ts"),r=i("./node_modules/react/index.js"),a=i.n(r),s=i("./node_modules/classnames/index.js"),o=i.n(s),l=i("./app/src/components/PowerUp/PowerUp.less"),c=i.n(l);const d=({name:e,subtitle:t,icon:i})=>a.a.createElement("div",{className:c.a.flexRow},a.a.createElement("div",{className:c.a.relative},a.a.createElement("span",{className:c.a.icon,style:{backgroundImage:"url(".concat(i.url,")")}})),a.a.createElement("div",{className:c.a.nameContainer},a.a.createElement("span",{className:c.a.name},e),t&&a.a.createElement("span",{className:c.a.subtitle},t)));var u=e=>a.a.createElement("div",{className:o()(c.a.twoColumnGrid,e.className)},a.a.createElement(d,e),e.button),p=i("./packages/i18n/index.ts"),m=i("./packages/nachos/icons/board.tsx");const h=Object(p.forTemplate)("directory_power_up_item");var g=({button:e,usage:t,promotional:i,staffPick:n,integration:r})=>a.a.createElement("div",{className:c.a.badges},e,"number"==typeof t&&t>0&&a.a.createElement("div",{className:c.a.pupBadge,title:h("usage-explanation",{count:t.toLocaleString()})},a.a.createElement(m.BoardIcon,{dangerous_className:c.a.usageBadgeIcon}),a.a.createElement("span",null,t.toLocaleString(),"+")),r&&a.a.createElement("div",{className:o()(c.a.pupBadge,c.a.pupIntegrationBadge),title:h("integration-explanation")},a.a.createElement("span",null,h("integration"))),i&&a.a.createElement("div",{className:o()(c.a.pupBadge,c.a.bonusBadge),title:h("bonus-explanation")},a.a.createElement("span",null,h("bonus"))),n&&a.a.createElement("div",{className:o()(c.a.pupBadge,c.a.bonusBadge),title:h("staff-pick-explanation")},a.a.createElement("span",null,h("staff-pick"))));function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const v=e=>{let{className:t,overview:i,icon:n,name:r,promotional:s,staffPick:l,integration:d,usage:u}=e,p=f(e,["className","overview","icon","name","promotional","staffPick","integration","usage"]);return a.a.createElement("div",{className:o()(c.a.descriptionAtomGrid,t)},a.a.createElement("div",{className:c.a.logoNameGrid},a.a.createElement("span",{className:c.a.icon,style:{backgroundImage:"url(".concat(n.url,")")}}),a.a.createElement("span",{className:c.a.name,title:r},r)),p.button,a.a.createElement("span",{className:c.a.description},i),a.a.createElement(g,{promotional:s,usage:u,staffPick:l,integration:d}))};var k=e=>{let{className:t}=e,i=f(e,["className"]);return a.a.createElement(v,b({className:o()(c.a.descriptionAtom,t)},i))};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var j=e=>{let{className:t,heroImageUrl:i}=e,n=w(e,["className","heroImageUrl"]),r="";const s=[];return i&&(i["@1x"]&&(r=i["@1x"],s.push(i["@1x"])),i["@2x"]&&s.push("".concat(i["@2x"]," 2x"))),a.a.createElement("div",{className:o()(c.a.featuredAtomContainer,t)},a.a.createElement("img",{alt:"",className:c.a.heroImage,role:"presentation",src:r,srcSet:s.join(", ")}),a.a.createElement(v,y({className:c.a.featuredAtom},n)))};function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const _=e=>{let{className:t,icon:i,name:n,subtitle:r,promotional:s,staffPick:l,integration:d,usage:u}=e,p=C(e,["className","icon","name","subtitle","promotional","staffPick","integration","usage"]);return a.a.createElement("div",{className:o()(c.a.listingAtomGrid,t)},a.a.createElement("div",{className:c.a.logoNameGrid},a.a.createElement("span",{className:c.a.icon,style:{backgroundImage:"url(".concat(i.url,")")}}),a.a.createElement("div",{className:c.a.nameContainer},a.a.createElement("span",{className:c.a.listingName,title:n},n),r&&a.a.createElement("span",{className:c.a.subtitle},r))),a.a.createElement(g,{button:p.button,usage:u,promotional:s,staffPick:l,integration:d}))};var O=e=>{let{className:t}=e,i=C(e,["className"]);return a.a.createElement(_,x({className:t},i))};const E=({type:e,atomProps:t})=>e===n.a.Featured?a.a.createElement(j,t):e===n.a.Description?a.a.createElement(k,t):e===n.a.Listing?a.a.createElement(O,t):a.a.createElement(u,t)},"./app/src/components/PowerUp/types.ts":function(e,t,i){"use strict";let n;i.d(t,"a",(function(){return n})),function(e){e[e.Basic=0]="Basic",e[e.Description=1]="Description",e[e.Featured=2]="Featured",e[e.Listing=3]="Listing",e[e.Integration=4]="Integration"}(n||(n={}))},"./app/src/components/PowerUpDirectory/Banner.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/Banner.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/PowerUpDirectory/Banner.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./packages/i18n/index.ts"),l=i("./app/src/components/PowerUpDirectory/Banner.less"),c=i.n(l),d=i("./app/src/components/WorkspaceNavigation/index.ts");const u=Object(o.forTemplate)("directory"),p=({heading:e,paragraph:t})=>{const[{expanded:i,enabled:n}]=Object(d.useWorkspaceNavigation)(),[{hidden:a}]=Object(d.useWorkspaceNavigationHidden)(),o=n&&!a&&i;return r.a.createElement("div",{className:s()(c.a.directoryBannerContainer,{[c.a.workspaceNavigationExpanded]:o})},r.a.createElement("div",{className:s()(c.a.directoryBanner,{[c.a.workspaceNavigationExpanded]:o})},r.a.createElement("div",null,r.a.createElement("h1",{className:c.a.bannerHeading},u(e)),r.a.createElement("p",{className:c.a.bannerParagraph},u(t)),r.a.createElement("div",null))))}},"./app/src/components/PowerUpDirectory/HomePage.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"getPluginsByTag",(function(){return h})),i.d(t,"sortFeaturedPowerUps",(function(){return g})),i.d(t,"HomePage",(function(){return b}));var n=i("./node_modules/underscore/underscore.js"),r=i.n(n),a=i("./node_modules/react/index.js"),s=i.n(a),o=i("./packages/atlassian-analytics/index.ts"),l=i("./app/src/components/PowerUp/index.ts"),c=i("./app/src/components/PowerUpDirectory/PowerUpsList.tsx"),d=i("./packages/i18n/index.ts"),u=i("./app/src/components/PowerUpDirectory/Banner.tsx"),p=i("./packages/feature-flag-client/index.ts");const m=Object(d.forTemplate)("directory_home");function h(e,t){return e?e.filter((e=>e.tags.includes(t))):[]}const g=e=>{const t=[],i=[];for(const n of e)n.tags.find((e=>/^pos-\d+$/.test(e)))?t.push(n):i.push(n);return[...r.a.sortBy(t,(e=>{const t=e.tags.find((e=>/^pos-\d+$/.test(e)));if(!t)return 100;const i=/^pos-(\d+)$/.exec(t);return i?parseInt(i[1],10):100})),...r.a.shuffle(i)]},b=({plugins:e})=>{const t=h(e,"essential"),i=h(e,"integration"),n=g(h(e,"featured")),r=Object(p.useFeatureFlag)("workflowers.show-integrations-in-pup-dir",!1);return o.Analytics.sendScreenEvent({name:"publicDirectoryHomeScreen",attributes:{totalListed:n.length+t.length}}),s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{heading:"power-ups-for-trello",paragraph:"calendars-custom-fields-repeating-cards-and-so-much-more-with-integrations-like-jira-slack-google-drive-invision-get-your-trello-superpowers-now"}),s.a.createElement(c.a,{title:m("featured-power-ups"),plugins:n,type:l.PowerUpItemType.Featured}),r&&s.a.createElement(c.a,{title:m("integrations"),plugins:i,type:l.PowerUpItemType.Featured}),s.a.createElement(c.a,{title:m("essential-power-ups"),plugins:t,type:l.PowerUpItemType.Featured}))}},"./app/src/components/PowerUpDirectory/PowerUpItem.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpItem.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/PowerUpDirectory/PowerUpsList.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpsList.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/PowerUpDirectory/PowerUpsList.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return I}));var n=i("./node_modules/classnames/index.js"),r=i.n(n),a=i("./node_modules/react/index.js"),s=i.n(a),o=i("./app/src/components/PowerUp/index.ts"),l=i("./packages/test-ids/index.ts"),c=i("./node_modules/@atlassian/trello-markdown/lib/index.js"),d=i.n(c),u=i("./packages/atlassian-analytics/index.ts"),p=i("./packages/nachos/button.ts"),m=i("./app/gamma/src/util/url.ts"),h=i("./app/src/components/PowerUpDirectory/PowerUpItem.less"),g=i.n(h),b=i("./packages/analytics/index.ts"),f=i("./packages/i18n/index.ts"),v=i("./app/src/router/index.ts"),k=i("./app/src/components/RouterLink/RouterLink.tsx"),y=i("./packages/feature-flag-client/index.ts"),w=i("./packages/config/index.ts");const j=Object(f.forTemplate)("directory_power_up_item"),x=new d.a,C=e=>{const{listing:t}=e,i=t?t.overview:"",n=t?t.description:"";return x.text(i||n||"").output},_=e=>{const t=e.listing?e.listing.name:"";return e.public?t:void 0},O=({plugin:e})=>s.a.createElement(k.a,{onClick:t=>{u.Analytics.sendClickedButtonEvent({buttonName:"powerUpAddButton",source:"powerUpCard",attributes:{powerUpId:e.id,powerUpName:_(e),isPowerUpPublic:e.public,idOrganizationOwner:e.idOrganizationOwner,tags:e.tags}})},href:"/power-ups/".concat(e.id,"/enable"),className:g.a.buttonAnchor},s.a.createElement(p.Button,{appearance:"primary",className:g.a.addButton,"data-test-id":l.PowerUpTestIds.AddPowerUpButton},j("add"))),E=({plugin:e})=>{var t,i;const n=null!==(t=null===(i=e.listing)||void 0===i?void 0:i.name)&&void 0!==t?t:"";let r;if(e.id===w.microsoftTeamsId)r=w.microsoftTeamsUrl;else{if(e.id!==w.gmailId)return s.a.createElement(s.a.Fragment,null);r=w.gmailUrl}return s.a.createElement(k.a,{onClick:t=>{u.Analytics.sendUIEvent({action:"clicked",actionSubject:"button",actionSubjectId:"powerUpAddButton",objectType:"powerUp",objectId:e.id,source:"powerUpCard",attributes:{powerUpName:e.public?n:void 0,tags:e.tags}})},href:r,className:g.a.buttonAnchor,target:"_blank"},s.a.createElement(p.Button,{appearance:"primary",className:g.a.addButton},j("configure")))},S=e=>{const{plugin:t,type:i}=e,{icon:n,listing:a}=t,l=Object(y.useFeatureFlag)("workflowers.show-integrations-in-pup-dir",!1);let c=t.heroImageUrl;t.heroImageUrl&&"string"==typeof t.heroImageUrl&&(c=JSON.parse(t.heroImageUrl));const d=r()(g.a.powerUpItem,{[g.a.listingPowerUpItem]:i===o.PowerUpItemType.Basic}),p=l&&(t.tags||[]).includes("integration");return s.a.createElement("div",{className:d,onClick:t=>((e,t)=>{if("BUTTON"!==e.target.tagName){const{plugin:e,type:i}=t,n=e.listing?e.listing.name:"";i!==o.PowerUpItemType.Basic&&(Object(b.trackUe)({category:b.Noun.POWER_UPS_DIRECTORY,verb:b.Verb.OPENS,directObj:b.Noun.POWER_UPS_LISTING,context:{pluginId:e.id}}),u.Analytics.sendUIEvent({action:"clicked",actionSubject:"card",actionSubjectId:"powerUpCard",objectType:"powerUp",objectId:e.id,source:"publicDirectoryScreen",attributes:{powerUpName:e.public?n:void 0,tags:e.tags}}),v.defaultRouter.setRoute("/power-ups/".concat(e.id,"/").concat(Object(m.i)(n))))}})(t,e),role:"presentation"},s.a.createElement(o.PowerUp,{type:i,atomProps:{overview:C(t),icon:n,heroImageUrl:c,name:a?a.name:"",promotional:(t.tags||[]).includes("promotional"),staffPick:(t.tags||[]).includes("staff-pick"),usage:(t.usageBrackets||{}).boards||0,button:p?s.a.createElement(E,e):s.a.createElement(O,e),integration:p}}))};var T=i("./app/src/components/PowerUpDirectory/PowerUpsList.less"),N=i.n(T),P=i("./app/src/components/WorkspaceNavigation/index.ts");const I=({title:e,plugins:t,type:i=o.PowerUpItemType.Description})=>{const[{expanded:n,enabled:a}]=Object(P.useWorkspaceNavigation)(),[{hidden:c}]=Object(P.useWorkspaceNavigationHidden)(),d=a&&!c&&n,u=t.map((e=>s.a.createElement(S,{key:e.id,type:i,plugin:e})));return s.a.createElement("div",{className:N.a.directoryPowerUpsList},s.a.createElement("div",{className:r()(N.a.directoryPowerUpsListHeader,{[N.a.workspaceNavigationExpanded]:d})},e&&s.a.createElement("h2",{dangerouslySetInnerHTML:{__html:e}})),s.a.createElement("div",{className:r()(N.a.flexRowWrap,N.a.powerUpsList,{[N.a.workspaceNavigationExpanded]:d}),"data-test-id":l.PowerUpTestIds.PowerUpsList},u))}},"./app/src/components/PowerUpDirectory/SearchHelper.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"createSearchIndex",(function(){return d})),i.d(t,"SearchHelper",(function(){return u}));var n=i("./node_modules/underscore/underscore.js"),r=i.n(n),a=i("./node_modules/@atlassian/trello-markdown/lib/index.js"),s=i.n(a),o=i("./app/src/components/Navigation/SearchUtils.ts");const l=Object(o.c)(),c=Object(o.b)(),d=e=>{const t=new s.a;return c.init({encode:o.a,split:/\s+/,stemmer:o.d,tokenize:"full"}),l.init({encode:o.a,split:/\s+/,stemmer:o.d,tokenize:"full"}),e.forEach((e=>{if(e.listing&&(e.listing.name&&l.add(e.id,e.listing.name),e.listing.description||e.listing.overview)){const i=[t.text(e.listing.overview||"").output,t.text(e.listing.description||"").output].join(" ");c.add(e.id,i)}})),{search(t){const i=l.search(t,5),n=c.search(t,25);return r.a.uniq(i.concat(n)).map((t=>e.find((e=>e.id===t)))).filter((e=>Boolean(e)))}}},u={createSearchIndex:d}},"./app/src/components/QrCode/QrCode.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCode.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/QrCode/QrCodePopover.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodePopover.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/QrCode/QrCodeToggle.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodeToggle.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/QrCode/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"QrCode",(function(){return b})),i.d(t,"QrCodeType",(function(){return h})),i.d(t,"QrCodeStyle",(function(){return g})),i.d(t,"QrCodePopover",(function(){return P})),i.d(t,"QrCodeToggle",(function(){return L})),i.d(t,"QrCodeWrapper",(function(){return _}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/atlassian-analytics/index.ts"),s=i("./packages/nachos/button.ts"),o=i("./packages/nachos/spinner.ts"),l=i("./packages/i18n/index.ts"),c=i("./app/src/components/QrCode/QrCode.less"),d=i.n(c);const u=i("./resources/images/qr-code/error.svg"),p="qrCodeSection",m=Object(l.forNamespace)(["qr_code"],{shouldEscapeStrings:!1});let h,g;!function(e){e.board="board",e.card="card",e.boardInvite="board-invite",e.teamInvite="team-invite"}(h||(h={})),function(e){e.popover="popover",e.inline="inline"}(g||(g={}));const b=({url:e,type:t=h.board,style:i=g.popover,imageData:l="",hasErrored:c=!1,isLoading:b=!1,onTryAgain:f=(()=>{})})=>{const v=Object(n.useCallback)((()=>{a.Analytics.sendClickedButtonEvent({buttonName:"downloadButton",source:p,attributes:{type:t}})}),[t]),k=Object(n.useCallback)((()=>{f(),a.Analytics.sendClickedButtonEvent({buttonName:"tryAgainButton",source:p,attributes:{type:t}})}),[f,t]),y=()=>b?r.a.createElement(o.a,{centered:!0,wrapperClassName:d.a.qrCodeSpinner}):c||!l?r.a.createElement("img",{src:u,alt:m("error"),key:"errorImage"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:l,alt:"".concat(m("qr-code")," for: ").concat(e),key:"qrCodeImage"}),r.a.createElement("i",{className:d.a.top}),r.a.createElement("i",{className:d.a.bottom})),w=()=>m(b||!c&&l?"".concat(t,"-text"):"something-went-wrong"),j=()=>b?r.a.createElement(s.Button,{isDisabled:!0,className:d.a.button},m("download")):c||!l?r.a.createElement(s.Button,{onClick:k,className:d.a.button},m("try-again")):r.a.createElement(s.ButtonLink,{link:l,download:"trello-".concat(t,"-qr-code.png"),isPrimary:!0,onClick:v,className:d.a.button},m("download"));return i===g.inline?r.a.createElement("div",{className:d.a.qrCodeInline},r.a.createElement("div",{className:d.a.qrCodeImage},y()),r.a.createElement("div",null,r.a.createElement("p",null,w()),r.a.createElement("p",null,j()))):r.a.createElement("div",{className:d.a.qrCodeContent},w(),r.a.createElement("div",{className:d.a.qrCodeImage},y()),j())};var f=i("./packages/nachos/popover.ts"),v=i("./node_modules/@apollo/client/index.js");function k(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach((function(t){w(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const j={context:{operationName:"QrCode"}},x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QrCode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"url"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"qrCode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"url"},value:{kind:"Variable",name:{kind:"Name",value:"url"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageData"}}]}}]}}]};const C="qrCodeSection",_=({url:e,type:t=h.board,style:i=g.popover})=>{const[s,o]=Object(n.useState)(!1),[l,c]=Object(n.useState)(!1),[d,u]=Object(n.useState)(""),p=function(e){const t=y(y({},j),e);return v.useQuery(x,t)}({variables:{url:e}});Object(n.useEffect)((()=>{var e;o(p.loading),p.error?(c(!0),a.Analytics.sendOperationalEvent({action:"errored",actionSubject:"qrCode",source:C,attributes:{type:t,error:p.error}})):null!=p&&null!==(e=p.data)&&void 0!==e&&e.qrCode&&(u(p.data.qrCode.imageData),a.Analytics.sendOperationalEvent({action:"fetched",actionSubject:"qrCode",source:C,attributes:{type:t}}))}),[p,t]);const m=Object(n.useCallback)((()=>{p.refetch()}),[p]);return r.a.createElement(b,{url:e,type:t,style:i,imageData:d,hasErrored:l,isLoading:s,onTryAgain:m})};var O=i("./app/src/components/QrCode/QrCodePopover.less"),E=i.n(O);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const T="qrCodePopover",N=Object(l.forNamespace)(["qr_code"],{shouldEscapeStrings:!1}),P=({url:e,type:t})=>{const{popoverProps:i,toggle:s,triggerRef:o}=Object(f.e)({onHide:()=>{a.Analytics.sendClosedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:T,attributes:{type:t}})},onShow:()=>{a.Analytics.sendViewedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:T,attributes:{type:t}})}}),l=Object(n.useCallback)((()=>{s(),a.Analytics.sendClickedLinkEvent({linkName:"toggleQrCodeLink",source:T,attributes:{type:t}})}),[s,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{role:"link",onClick:l,ref:o,className:E.a.showQrCodeLink},N("show-qr-code")),r.a.createElement(f.b,S({},i,{title:N("qr-code")}),r.a.createElement(_,{url:e,type:t,style:g.popover})))};var I=i("./app/src/components/QrCode/QrCodeToggle.less"),B=i.n(I);const D="qrCodeToggle",A=Object(l.forNamespace)(["qr_code"],{shouldEscapeStrings:!1}),L=({url:e,type:t})=>{const[i,s]=Object(n.useState)(!1);Object(n.useEffect)((()=>{i?a.Analytics.sendViewedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:D,attributes:{type:t}}):a.Analytics.sendClosedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:D,attributes:{type:t}})}),[i]);const o=Object(n.useCallback)((()=>{s(!i),a.Analytics.sendClickedLinkEvent({linkName:"toggleQrCodeLink",source:D,attributes:{type:t}})}),[i,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{role:"link",onClick:o,className:B.a.showQrCodeLink},A(i?"hide-qr-code":"show-qr-code")),i?r.a.createElement(_,{url:e,type:t,style:g.inline}):null)}},"./app/src/components/QuickCardEditor/QuickCardEditorButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QuickCardEditor/QuickCardEditorButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/QuickCardEditor/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"ConvertCardRoleButton",(function(){return N}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M3 5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V14H5V19H19V5H5V10H3V5Z",fill:"currentColor"}),r.a.createElement("path",{d:"M11.3037 8.30511C10.8988 8.71367 10.8988 9.37509 11.3037 9.7826L12.5097 11H2.97642C2.43743 11 2 11.4488 2 12.0005C2 12.5522 2.43743 13 2.97642 13H12.5095L11.3037 14.2171C10.8988 14.6236 10.8988 15.2861 11.3037 15.6936C11.7076 16.1021 12.3631 16.1021 12.7681 15.6936L15.6979 12.7386C16.1007 12.3301 16.1007 11.6697 15.6979 11.2611L12.7681 8.30511C12.5651 8.10136 12.3 8 12.0348 8C11.7708 8 11.5046 8.10136 11.3037 8.30511Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"LeaveBoardIcon",glyph:s})};var l=i("./packages/i18n/index.ts"),c=i("./app/src/components/QuickCardEditor/QuickCardEditorButton.less"),d=i.n(c);const u=({icon:e,children:t,onClick:i})=>r.a.createElement("button",{className:d.a.button,onClick:i},e,r.a.createElement("span",{className:d.a.buttonLabel},t));var p=i("./node_modules/@apollo/client/index.js");function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const b={context:{operationName:"ChangeCardRole"}},f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChangeCardRole"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardRole"}},type:{kind:"NamedType",name:{kind:"Name",value:"CardRole"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCardRole"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idCard"},value:{kind:"Variable",name:{kind:"Name",value:"idCard"}}},{kind:"Argument",name:{kind:"Name",value:"cardRole"},value:{kind:"Variable",name:{kind:"Name",value:"cardRole"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cardRole"}},{kind:"Field",name:{kind:"Name",value:"possibleCardRole"}}]}}]}}]};var v=i("./packages/graphql/generated.tsx");function k(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach((function(t){w(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const j={context:{operationName:"ConvertCardRoleButton"}},x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ConvertCardRoleButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idCard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cardRole"}},{kind:"Field",name:{kind:"Name",value:"possibleCardRole"}}]}}]}}]};function C(e){const t=y(y({},j),e);return p.useQuery(x,t)}var _=i("./app/scripts/network/rpc/index.js"),O=i.n(_);var E=i("./packages/feature-flag-client/index.ts"),S=i("./packages/atlassian-analytics/index.ts");const T=Object(l.forTemplate)("quick_card_editor"),N=({idCard:e,onLoad:t,analyticsContainers:i})=>{var a,s;const[l]=function(e){const t=h(h({},b),e);return p.useMutation(f,t)}(),{data:c,loading:d}=C({variables:{idCard:e}});Object(n.useEffect)(t,[t,c]),function(e){const{refetch:t}=C({variables:{idCard:e}});Object(n.useEffect)((()=>{const i=i=>{"Card"===i.typeName&&i.deltas.find((t=>t.id===e))&&t()};return O.a.on("updateModels",i),()=>O.a.off("updateModels",i)}))}(e);let m=null==c||null===(a=c.card)||void 0===a?void 0:a.cardRole,g=null==c||null===(s=c.card)||void 0===s?void 0:s.possibleCardRole;const k="separator"===g;!E.featureFlagClient.get("wildcard.card-types-separator",!1)&&k&&(g=null,m=null);const y="board"===g;!E.featureFlagClient.get("wildcard.board-cards",!1)&&y&&(g=null,m=null);const w="link"===g;!E.featureFlagClient.get("wildcard.link-cards",!1)&&w&&(g=null,m=null);const j="mirror"===g;!E.featureFlagClient.get("wildcard.mirror-cards",!1)&&j&&(g=null,m=null);const x=Object(n.useCallback)((()=>{S.Analytics.sendClickedButtonEvent({buttonName:"convertCardButton",source:"quickCardEditorInlineDialog",attributes:{fromCardRole:m,toCardRole:m?null:g},containers:i})}),[i,m,g]),_=Object(n.useCallback)(((e,t)=>{S.Analytics.sendTrackEvent({action:"converted",actionSubject:"card",source:"quickCardEditorInlineDialog",attributes:{fromCardRole:e,toCardRole:t},containers:i})}),[i]),N=Object(n.useCallback)((()=>{x(),m?l({variables:{idCard:e,cardRole:null}}).then((()=>_(m,null))):y?l({variables:{idCard:e,cardRole:v.c.Board}}).then((()=>_(null,v.c.Board))):j?l({variables:{idCard:e,cardRole:v.c.Mirror}}).then((()=>_(null,v.c.Mirror))):k?l({variables:{idCard:e,cardRole:v.c.Separator}}).then((()=>_(null,v.c.Separator))):w&&l({variables:{idCard:e,cardRole:v.c.Link}}).then((()=>_(null,v.c.Link)))}),[x,m,y,j,k,w,l,e,_]);return d||!m&&!g?null:r.a.createElement(u,{icon:r.a.createElement(o,{color:"light",size:"small"}),onClick:N},!!m&&T("convert-to-regular-card"),!m&&y&&T("convert-to-board-card"),!m&&j&&T("convert-to-mirror-card"),!m&&k&&T("convert-to-separator-card"),!m&&w&&T("convert-to-link-card"))}},"./app/src/components/StandardGenerics/index.ts":function(e,t,i){"use strict";i.r(t);var n=i("./app/src/components/StandardGenerics/useStandard.ts");i.d(t,"getStandardVariation",(function(){return n.a})),i.d(t,"getStandardVariationEnabled",(function(){return n.b})),i.d(t,"useStandard",(function(){return n.c}))},"./app/src/components/StandardGenerics/useStandard.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return m})),i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return g}));var n=i("./node_modules/js-cookie/src/js.cookie.js"),r=i.n(n),a=i("./packages/feature-flag-client/index.ts"),s=i("./node_modules/@apollo/client/index.js");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const d={context:{operationName:"StandardVariation"}},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StandardVariation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standardVariation"}}]}}]}}]};const p="nusku.phase-3",m=e=>r.a.get("force_standardVariation")||e||"control",h=e=>a.featureFlagClient.get(p,!1)&&"control"!==m(e),g=({standardVariation:e,orgId:t=""})=>{var i;const{data:n}=function(e){const t=l(l({},d),e);return s.useQuery(u,t)}({variables:{orgId:t},skip:!t}),r=m(e||(null==n||null===(i=n.organization)||void 0===i?void 0:i.standardVariation)),o=Object(a.useFeatureFlag)(p,!1);return{isStandardFlagEnabled:o,isStandardVariationEnabled:o&&"control"!==r,standardVariation:r}}},"./app/src/components/TeamBillingView/useBillingStep.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("./packages/shared-state/index.ts");const r=new n.b({step:"details"}),a=()=>{const[{step:e},t]=Object(n.c)(r);return{billingStep:e,setStep:t,resetBillingStep:()=>t({step:"details"})}}},"./app/src/components/TeamTypeSelect/TeamTypeSelect.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamTypeSelect/TeamTypeSelect.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/TeamTypeSelect/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"TeamTypeSelect",(function(){return f}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/i18n/index.ts"),s=i("./packages/organizations/index.ts"),o=i("./packages/nachos/select.ts"),l=i("./node_modules/underscore/underscore.js"),c=i("./app/src/components/TeamTypeSelect/TeamTypeSelect.less"),d=i.n(c);function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const h=Object(a.forNamespace)("team type dropdown"),g=Object(a.forNamespace)("team vertical selection"),b=Object(l.chain)(Object.values(s.TeamTypes)).without(s.TeamTypes.Other).shuffle().value().concat(s.TeamTypes.Other).map((e=>({label:g(e),value:e}))),f=({isDisabled:e,onChange:t,initialValue:i,testId:n,required:a,label:s,placeholder:l})=>{let c=i?{label:g(i),value:i}:{label:h("default option"),value:""};b.some((e=>e.value===i))||(c={label:l||h("default option"),value:""});let u=b;return n&&(u=u.map((e=>p(p({},e),{},{testId:"".concat(n,"-").concat(e.value)})))),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"teamTypeSelect"},s||h("input label"),a&&r.a.createElement("span",{className:d.a.createTeamLabelstar},"*")),r.a.createElement(o.a,{inputId:"teamTypeSelect",defaultValue:c,isDisabled:e,options:u,onChange:e=>{t(e.value)},testId:n}))}},"./app/src/components/TimelineViewWrapper/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"TimelineViewWrapper",(function(){return c}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/use-lazy-component/index.ts"),s=i("./app/src/components/ErrorBoundary/index.ts"),o=i("./app/scripts/debug/constants.ts"),l=i("./app/src/components/BoardDashboardView/PermissionsContext.tsx");const c=({idBoard:e,navigateToCard:t,closeView:c})=>{const d=Object(a.useLazyComponent)((()=>i.e(201).then(i.bind(null,"./app/src/components/TimelineViewWrapper/TimelineView.tsx"))),{namedImport:"TimelineView"});return r.a.createElement(s.ErrorBoundary,{tags:{ownershipArea:"trello-ecosystem",feature:o.Feature.TimelineView}},r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(l.b,{idBoard:e},r.a.createElement(d,{idBoard:e,navigateToCard:t,closeView:c}))))}},"./app/src/components/UpgradePathAudit/BoardHeaderOrgMenuPopoverButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/BoardHeaderOrgMenuPopoverButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.less"),s=i.n(a),o=i("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),l=i("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),c=i("./packages/i18n/index.ts"),d=i("./packages/atlassian-analytics/index.ts"),u=i("./packages/analytics/index.ts");const p=Object(c.forNamespace)(["upgrade-path-audit"]),m=({orgId:e,teamName:t})=>{const{openPlanSelection:i}=Object(l.b)(e,"closed-board-upsell-".concat(e)),{isEligible:n}=Object(o.a)(e,{skip:!e});return r.a.createElement("span",{className:s.a.messaging},p("cannot-reopen-board-limit-reached",{upgrade:r.a.createElement("a",{key:"cannot-reopen-board-limit-reached",className:s.a.ctaLink,role:"button",onClick:()=>{i(),d.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"closeBoardScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!n,promptId:"closeBoardUpgradeLink"}}),Object(u.trackUe)({category:u.Noun.CLOSED_BOARDS,verb:u.Verb.OPENS,directObj:u.Noun.BC_MODAL,method:"by clicking upgrade link in closed board screen",context:{organizationId:e,isFreeTrial:!!n}})}},p("upgrade-team-to-business-class",{teamName:r.a.createElement("span",{key:"team-name"},t)}))}))}},"./app/src/components/UpgradePathAudit/CopyBoardFromTemplatePopoverButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/CopyBoardFromTemplatePopoverButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePathAudit/FacePileLinkButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/FacePileLinkButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePathAudit/FacePileLinkButton.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"FacePileLinkButton",(function(){return m}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./app/src/components/UpgradePrompts/index.ts"),s=i("./app/src/components/FreeTrial/index.ts"),o=i("./packages/i18n/index.ts"),l=i("./app/src/components/UpgradePathAudit/FacePileLinkButton.less"),c=i.n(l),d=i("./packages/atlassian-analytics/index.ts"),u=i("./packages/analytics/index.ts");const p=Object(o.forNamespace)(["upgrade-path-audit"]),m=({orgId:e})=>{const{openPlanSelection:t}=Object(a.useUpgradePromptRules)(e,"face-file-upsell-link-button"),{isEligible:i}=Object(s.useFreeTrialEligibilityRules)(e),o=Object(n.useRef)(null);return Object(n.useEffect)((()=>{var n;const r=n=>{n.stopPropagation(),n.preventDefault(),t(),d.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"allBoardMembersInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:i,promptId:"boardMemberDialogInline"}}),Object(u.trackUe)({category:u.Noun.BOARD_MENU,verb:u.Verb.OPENS,directObj:u.Noun.BC_MODAL,method:"by clicking upgrade link in board members dialog",context:{organizationId:e,isFreeTrial:!!i}})};return null==o||null===(n=o.current)||void 0===n||n.addEventListener("click",r),()=>{var e;return null==o||null===(e=o.current)||void 0===e?void 0:e.removeEventListener("click",r)}})),r.a.createElement("div",{className:c.a.container},p("for-more-user-roles",{upgrade:r.a.createElement("button",{key:"face-pile-upsell-link-button",ref:o,className:c.a.upgradeButton},p("explore-bc-1"))}))}},"./app/src/components/UpgradePathAudit/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"CopyBoardFromTemplatePopoverButton",(function(){return m})),i.d(t,"FacePileLinkButton",(function(){return h.FacePileLinkButton})),i.d(t,"ClosedBoardUpsellMessaging",(function(){return g.a})),i.d(t,"BoardHeaderOrgMenuPopoverButton",(function(){return y}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),s=i("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),o=i("./app/src/components/UpgradePathAudit/CopyBoardFromTemplatePopoverButton.less"),l=i.n(o),c=i("./packages/atlassian-analytics/index.ts"),d=i("./packages/analytics/index.ts"),u=i("./packages/i18n/index.ts");const p=Object(u.forNamespace)(["upgrade-path-audit"]),m=({orgId:e,teamName:t})=>{const{isEligible:i}=Object(a.a)(e,{skip:!e}),{openPlanSelection:n}=Object(s.b)(e,"copy-board-from-template-popover-button-".concat(e));return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,p("cannot-copy-board-limit-reached",{teamName:r.a.createElement("span",{key:"team-name"},t)})),r.a.createElement("a",{href:"#",onClick:()=>{n(),c.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"createFromTemplateInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:i,promptId:"creatBoardFromTemplatePrompt"}}),Object(d.trackUe)({category:d.Noun.TEMPLATE_DIALOG,verb:d.Verb.OPENS,directObj:d.Noun.BC_MODAL,method:"by clicking upgrade link in create board from template dialog",context:{organizationId:e,isFreeTrial:!!i}})},className:l.a.ctaButton},p("upgrade-team-to-business-class",{teamName:r.a.createElement("span",{key:"team-name"},t)})))};var h=i("./app/src/components/UpgradePathAudit/FacePileLinkButton.tsx"),g=i("./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.tsx"),b=i("./app/src/components/UpgradePathAudit/BoardHeaderOrgMenuPopoverButton.less"),f=i.n(b),v=i("./packages/nachos/spinner.ts");const k=Object(u.forNamespace)(["upgrade-path-audit"]),y=({orgId:e})=>{const{isEligible:t,loading:i}=Object(a.a)(e,{skip:!e}),{openPlanSelection:n,loading:o}=Object(s.b)(e,"board-header-org-menu-button-".concat(e));if(i||o)return r.a.createElement(v.a,{centered:!0});return r.a.createElement("a",{role:"button",className:f.a.ctaButton,onClick:()=>{n(),c.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"boardOrganizationInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!t,promptId:"newTeamInlinePrompt"}}),Object(d.trackUe)({category:d.Noun.BOARD_MENU,verb:d.Verb.OPENS,directObj:d.Noun.BC_MODAL,method:"by clicking upgrade link in board organization dialog",context:{isFreeTrial:!!t,organizationId:e}})}},k(t?"try-free-trial-bc":"upgrade-to-bc"))}},"./app/src/components/UpgradePrompts/UpgradePromptBanner.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptBanner.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptButton.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"UpgradePromptButton",(function(){return m})),i.d(t,"UpgradePromptButtonConnected",(function(){return h}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./app/src/components/UpgradePrompts/UpgradePromptButton.less"),l=i.n(o),c=i("./app/src/components/ComponentWrapper/index.ts"),d=i("./app/src/components/RouterLink/RouterLink.tsx"),u=i("./packages/browser/index.ts");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const m=({cta:e,ctaLink:t,ctaOnClick:i,icon:n,isDarkTheme:a,shouldFitContainer:o,openInNewTab:c,allowUpsell:m,testId:h})=>{if(Object(u.dontUpsell)()&&!m)return null;const g=s()(l.a.upgradePromptButton,a?l.a.upgradePromptButtonDarkTheme:l.a.upgradePromptButtonLightTheme,o&&l.a.upgradePromptFitContainer);let b="/business-class"===t?"a":d.a;return t||(b="button"),r.a.createElement(b,p({"data-test-id":h,href:t,className:g,onClick:()=>{i&&i()}},c?{target:"_blank"}:{}),void 0!==n&&r.a.createElement("div",{className:l.a.upgradePromptButtonIconBackground},r.a.cloneElement(n,{dangerous_className:l.a.upgradePromptButtonIcon,size:"small"})),r.a.createElement("div",{className:l.a.upgradePromptButtonCTA},e))},h=e=>r.a.createElement(c.ComponentWrapper,null,r.a.createElement(m,e))},"./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptDismissMessageMutation.generated.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("./node_modules/@apollo/client/index.js");function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o={context:{operationName:"UpgradePromptDismissMessage"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpgradePromptDismissMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function c(e){const t=a(a({},o),e);return n.useMutation(l,t)}},"./app/src/components/UpgradePrompts/UpgradePromptFull.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFull.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptFull.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"UpgradePromptFull",(function(){return w})),i.d(t,"UpgradePromptFullConnected",(function(){return j}));var n=i("./packages/atlassian-analytics/index.ts"),r=i("./node_modules/react/index.js"),a=i.n(r),s=i("./node_modules/classnames/index.js"),o=i.n(s),l=i("./packages/nachos/icons/close.tsx"),c=i("./app/src/components/ComponentWrapper/index.ts"),d=i("./packages/nachos/button.ts"),u=i("./app/src/components/FreeTrial/index.ts"),p=i("./app/src/components/RouterLink/RouterLink.tsx"),m=i("./app/src/components/UpgradePrompts/UpgradePromptFull.less"),h=i.n(m),g=i("./packages/browser/index.ts"),b=i("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),f=i("./packages/i18n/index.ts"),v=i("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),k=i("./app/scripts/debug/constants.ts");const y=Object(f.forNamespace)(["free trial existing","upgrade prompt"]),w=({allowUpsell:e,className:t,content:i,cta:s,ctaLink:c,ctaOnClick:m,headline:f,hidePlanOverlay:w,icon:j,isDarkTheme:x,isDismissable:C,onDismiss:_,orgId:O,source:E,testId:S})=>{const{isEligible:T}=Object(b.a)(O),N=T,[P,I]=Object(r.useState)(!1),B=()=>{w||I(!0),n.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:E,containers:{organization:{id:O}},attributes:{feature:N?"freeTrial":void 0}}),m&&m()},D=o()(h.a.upgradePromptFull,x?h.a.upgradePromptFullDarkTheme:h.a.upgradePromptFullLightTheme,t),A=i&&a.a.createElement("div",{className:h.a.upgradePromptFullContent},i),L=C&&a.a.createElement("button",{className:h.a.upgradePromptFullCloseButtonWrapper,onClick:_},a.a.createElement(l.a,{dangerous_className:h.a.upgradePromptFullCloseButton,size:"small"})),F="/business-class"===c?"a":p.a;if(Object(g.dontUpsell)()&&!e)return null;const M=N?y("cta"):s;return a.a.createElement(v.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:k.Feature.UpgradePrompt}},a.a.createElement("div",{className:D},a.a.createElement("div",{className:h.a.upgradePromptFullHeadline},f),A,w?a.a.createElement(F,{href:c,className:h.a.upgradePromptFullCTA,onClick:B,"data-test-id":S,target:Object(g.isDesktop)()&&"/business-class"===c?"_blank":void 0},M):a.a.createElement(d.Button,{appearance:"link",onClick:B,"data-test-id":S,className:h.a.upgradePromptFullCTA},M),!w&&P&&O&&a.a.createElement(u.PlanSelectionOverlay,{onClose:()=>I(!1),orgId:O}),a.a.createElement("div",{className:h.a.upgradePromptFullIconBackground},a.a.cloneElement(j,{dangerous_className:h.a.upgradePromptFullIcon,size:"medium"})),a.a.createElement("div",{className:h.a.upgradePromptFullIconClippedBackground}),L))},j=e=>a.a.createElement(c.ComponentWrapper,null,a.a.createElement(w,e))},"./app/src/components/UpgradePrompts/UpgradePromptFullBase.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFullBase.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptFullBase.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./app/src/components/UpgradePrompts/UpgradePromptFullBase.less"),l=i.n(o),c=i("./packages/nachos/icons/close.tsx");const d=({loading:e,className:t,content:i,cta:n,headline:a,icon:o,isDarkTheme:d,onDismiss:u,allowUpsell:p})=>{const m=s()(l.a.upgradePromptFull,d?l.a.upgradePromptFullDarkTheme:l.a.upgradePromptFullLightTheme,t);return e?r.a.createElement("div",{className:l.a.animation}):r.a.createElement("div",{className:m},r.a.createElement("div",{className:l.a.upgradePromptFullHeadline},a),r.a.createElement("div",{className:l.a.upgradePromptFullContent},i),n,r.a.createElement("div",{className:l.a.upgradePromptFullIconBackground},r.a.cloneElement(o,{dangerous_className:l.a.upgradePromptFullIcon})),r.a.createElement("div",{className:l.a.upgradePromptFullIconClippedBackground}),u&&r.a.createElement("button",{className:l.a.upgradePromptFullCloseButtonWrapper,onClick:u},r.a.createElement(c.a,{size:"small",dangerous_className:l.a.upgradePromptFullCloseButton})))}},"./app/src/components/UpgradePrompts/UpgradePromptPill.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPill.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptPill.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"UpgradePromptPill",(function(){return m})),i.d(t,"UpgradePromptPillConnected",(function(){return h}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./app/src/components/UpgradePrompts/UpgradePromptPill.less"),l=i.n(o),c=i("./app/src/components/ComponentWrapper/index.ts"),d=i("./app/src/components/RouterLink/RouterLink.tsx"),u=i("./packages/browser/index.ts");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const m=({isDarkTheme:e,cta:t,ctaLink:i,ctaLinkOpenNewTab:n,ctaOnClick:a,icon:o,allowUpsell:c,testId:m})=>{if(Object(u.dontUpsell)()&&!c)return null;const h=()=>{a&&a()},g=s()(l.a.upgradePromptPill,e?l.a.upgradeDarkTheme:l.a.upgradeLightTheme),b="/business-class"===i||"/enterprise"===i?"a":d.a,f=r.a.createElement(r.a.Fragment,null,r.a.cloneElement(o,{dangerous_className:l.a.upgradePromptPillIcon,size:"small"}),r.a.createElement("div",{className:l.a.upgradePromptPillCTA},t));return i?r.a.createElement(b,p({href:i},n?{target:"_blank",rel:"noopener noreferrer"}:{},{className:g,onClick:h,"data-test-id":m}),f):r.a.createElement("button",{className:g,onClick:h,"data-test-id":m},f)},h=e=>r.a.createElement(c.ComponentWrapper,null,r.a.createElement(m,e))},"./app/src/components/UpgradePrompts/UpgradePromptPillBase.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPillBase.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePrompts/UpgradeSmartComponent.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradeSmartComponent.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"UpgradeSmartComponentNoBoundary",(function(){return W})),i.d(t,"UpgradeSmartComponent",(function(){return q})),i.d(t,"UpgradeSmartComponentConnected",(function(){return $}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./packages/feature-flag-client/index.ts"),l=i("./packages/nachos/popover.ts"),c=i("./packages/test-ids/index.ts"),d=i("./app/src/components/ComponentWrapper/index.ts"),u=i("./app/src/components/UpgradePrompts/UpgradePromptFullBase.tsx"),p=i("./app/src/components/UpgradePrompts/UpgradePromptPillBase.less"),m=i.n(p),h=i("./app/src/components/RouterLink/RouterLink.tsx");function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const b=({isDarkTheme:e,cta:t,ctaLink:i,ctaLinkOpenNewTab:n,ctaOnClick:a,icon:o,allowUpsell:l,testId:c})=>{const d=()=>{a&&a()},u=s()(m.a.upgradePromptPill,e?m.a.upgradeDarkTheme:m.a.upgradeLightTheme),p=r.a.createElement(r.a.Fragment,null,r.a.cloneElement(o,{dangerous_className:m.a.upgradePromptPillIcon,size:"small"}),r.a.createElement("div",{className:m.a.upgradePromptPillCTA},t));return i?r.a.createElement(h.a,g({href:i},n?{target:"_blank",rel:"noopener noreferrer"}:{},{className:u,onClick:d,testId:c}),p):r.a.createElement("button",{className:u,onClick:d,"data-test-id":c},p)};var f=i("./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less"),v=i.n(f),k=i("./packages/nachos/icons/business-class.tsx");const y=({cta:e,ctaLink:t,ctaOnClick:i,isDarkTheme:n,shouldFitContainer:a,openInNewTab:o,testId:l})=>{const c=s()(v.a.upgradePromptButton,{[v.a.upgradePromptButtonDarkTheme]:n,[v.a.upgradePromptButtonLightTheme]:!n,[v.a.upgradePromptFitContainer]:a});return r.a.createElement("button",{"data-test-id":l,className:c,onClick:e=>{e.preventDefault(),i&&i()}},r.a.createElement("div",{className:v.a.upgradePromptButtonIconBackground},r.a.createElement(k.BusinessClassIcon,{size:"small",dangerous_className:v.a.upgradePromptButtonIcon})),r.a.createElement("div",{className:v.a.upgradePromptButtonCTA},e))};var w=i("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),j=i("./app/src/components/FreeTrial/index.ts"),x=i("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),C=i("./packages/nachos/button.ts"),_=i("./packages/i18n/index.ts"),O=i("./packages/analytics/index.ts"),E=i("./packages/atlassian-analytics/index.ts"),S=i("./app/scripts/debug/constants.ts"),T=i("./app/src/components/UpgradePrompts/UpgradeSmartComponent.less"),N=i.n(T),P=i("./packages/browser/index.ts"),I=i("./packages/nachos/icons/collection.tsx"),B=i("./packages/nachos/icons/power-up.tsx"),D=i("./packages/nachos/icons/butler-bot.tsx"),A=i("./packages/nachos/icons/board.tsx"),L=i("./packages/nachos/icons/download.tsx"),F=i("./packages/nachos/icons/member.tsx");function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const V=Object(_.forNamespace)("upgrade prompt"),R=Object(_.forNamespace)("free trial existing"),z=Object(_.forTemplate)("create_board"),U=Object(_.forTemplate)("business_class_upsell"),H=Object(_.forTemplate)("card_detail"),W=({orgId:e,promptId:t,additionalProps:i,allowUpsell:n})=>{const a="".concat(e,"-").concat(t),{isEligible:d,loading:p}=Object(j.useFreeTrialEligibilityRules)(e),{boardLimit:m,org:g,dismissMessage:f,openPlanSelection:v,shouldDisplayUpgradePrompt:x,loading:_}=Object(w.b)(e,a,{allowUpsell:n}),S="/".concat(null==g?void 0:g.name,"/billing"),T="/".concat(null==g?void 0:g.name,"/free-trial"),W=Object(o.useFeatureFlag)("dataeng.gasv3-event-tracking",!1),q=p||_;if(q||!x)return null;const $={approachingBoardLimitTemplateUpgradePromptPill:r.a.createElement(y,{cta:z("upgrade team"),ctaOnClick:()=>{E.Analytics.sendClickedButtonEvent({source:"createFromTemplateInlineDialog",buttonName:"bcUpgradePrompt",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"approachingBoardLimitTemplateUpgradePromptPill"}}),v()}}),atBoardLimitTemplateUpgradePromptPill:r.a.createElement(y,{cta:z("upgrade team"),ctaOnClick:()=>{E.Analytics.sendClickedButtonEvent({source:"createFromTemplateInlineDialog",buttonName:"bcUpgradePrompt",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"atBoardLimitTemplateUpgradePromptPill"}}),Object(O.trackUe)({category:O.Noun.TEMPLATE_DIALOG,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking button upgrade prompt in create from template dialog",context:{organizationId:e,isFreeTrial:!!d}}),v()}}),boardMenuMoreCollectionsPromptFull:r.a.createElement("div",{className:N.a.margin},r.a.createElement(u.a,{onDismiss:f,loading:q,icon:r.a.createElement(I.CollectionIcon,null),headline:V(["board menu","collections","headline-2"]),content:V(["board menu","collections","content-2"]),cta:r.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.CollectionsUpgradePrompt,className:s()(N.a.cta,N.a.lightModeCta),onClick:()=>{Object(O.trackUe)({category:O.Noun.BOARD_MENU,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking full upgrade prompt in board menu more section",context:{isFreeTrial:!!d,organizationId:e}}),W&&E.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"boardMenuMoreCollectionsPromptFull"}}),v()}},d?R(["upgrade prompt","cta"]):V("learn more"))})),boardMenuMoreCollectionsPromptPill:r.a.createElement(b,{testId:c.UpgradePromptTestIds.CollectionsUpgradePill,icon:r.a.createElement(k.BusinessClassIcon,null),cta:V(["upgrade"]),ctaOnClick:()=>{Object(O.trackUe)({category:O.Noun.BOARD_MENU,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking collections upgrade pill in board menu more section",context:{isFreeTrial:!!d,organizationId:e}}),W&&E.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"boardMenuMoreCollectionsPromptPill"}}),v()}}),boardMenuMoreTemplatesPromptPill:r.a.createElement(b,{ctaOnClick:()=>{Object(O.trackUe)({category:O.Noun.BOARD_MENU,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking template upgrade pill in board menu more section",context:{isFreeTrial:!!d,organizationId:e}}),W&&E.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"boardMenuMoreTemplatesPromptPill"}}),v()},cta:V(["upgrade"]),icon:r.a.createElement(k.BusinessClassIcon,null),testId:c.UpgradePromptTestIds.TemplatesUpgradePill}),boardMenuDrawerPromptFull:r.a.createElement(u.a,{loading:q,icon:r.a.createElement(B.a,null),headline:V(["board menu","power ups","headline"]),content:V(["board menu","power ups","content"]),cta:r.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.PuPsUpgradePrompt,className:s()(N.a.cta,N.a.lightModeCta),onClick:()=>{Object(O.trackUe)({category:O.Noun.BOARD_MENU,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking full upgrade prompt in board menu pup section",context:{isFreeTrial:!!d,organizationId:e}}),W&&E.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawer",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"boardMenuDrawerPromptFull"}}),v()}},d?R(["upgrade prompt","cta"]):V("learn more"))}),butlerUpsellPopoverPromptFull:r.a.createElement(l.b,M({},null==i?void 0:i.popoverProps,{title:V(["butler upsell popover","usage-quota-title"])}),r.a.createElement("div",{className:N.a.butlerUpsellPopoverPromptFullWrapper},r.a.createElement(u.a,{loading:q,content:V(["butler upsell popover","usage-quota-content"]),headline:V(["butler upsell popover","usage-quota-headline"]),icon:r.a.createElement(D.a,null),cta:r.a.createElement("button",{className:s()(N.a.cta,N.a.lightModeCta),onClick:()=>{var t;E.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"butlerUpsellInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"butlerUpsellPopoverPromptFull"}}),null==i||null===(t=i.ctaOnClick)||void 0===t||t.call(i),d&&!Object(P.dontUpsell)()?v():window.open("/business-class")}},d&&!Object(P.dontUpsell)()?R(["upgrade prompt","cta"]):V("learn more"))})),r.a.createElement(C.Button,{size:"fullwidth",onClick:null==i?void 0:i.goToButler},V(["butler upsell popover","go to butler"]))),createBoardModalPromptFull:r.a.createElement("div",{className:N.a.createBoardModalWrapper},r.a.createElement(u.a,{loading:q,icon:r.a.createElement(A.BoardIcon,null),headline:V(["create board popover","headline"],{boardCount:m}),content:V(["create board popover","content-2"]),cta:r.a.createElement(h.a,{testId:c.UpgradePromptTestIds.CreateBoardUpgradePrompt,className:s()(N.a.cta,N.a.darkModeCta),href:"/".concat(null==g?void 0:g.name,d?"/free-trial":"/billing"),onClick:()=>{Object(O.trackUe)({category:O.Noun.CREATE_BOARD_POPOVER,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking full upgrade prompt in create board popover",context:{organizationId:e}}),E.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"createBoardModal",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"createBoardModalPromptFull"}})}},d?R(["upgrade prompt","cta"]):V("learn more")),isDarkTheme:!0})),inviteUpgradePromptFull:r.a.createElement(u.a,{loading:q,icon:r.a.createElement(k.BusinessClassIcon,null),headline:Object(P.dontUpsell)()?V(["team page","invite-popover","headline-auaa-desktop"]):V(["team page","invite-popover","headline-auaa-2"]),content:Object(P.dontUpsell)()?V(["team page","invite-popover","content-auaa-desktop"]):V(["team page","invite-popover","content-auaa-2"]),cta:r.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.InviteUpgradePrompt,className:s()(N.a.cta,N.a.lightModeCta),onClick:()=>{Object(O.trackUe)({category:O.Noun.TEAM_PAGE,verb:O.Verb.OPENS,directObj:O.Noun.TEAM_PAGE_BC_TAB,method:"by clicking full upgrade prompt in team page invite members popover",context:{organizationId:e,isFreeTrial:!!d}}),W&&E.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"inviteToTeamInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"teamInvitePromptFull"}}),d&&!Object(P.dontUpsell)()?v():window.open("/business-class")}},d&&!Object(P.dontUpsell)()?R(["upgrade prompt","cta"]):V("learn more"))}),memberHomeScreenPromptFull:r.a.createElement(u.a,{loading:q,icon:r.a.createElement(k.BusinessClassIcon,null),onDismiss:f,headline:d?R(["upgrade prompt","headline"]):V(["home","team tab","headline-2"]),content:d?R(["upgrade prompt","content"]):V(["home","team tab","content-2"]),isDarkTheme:!1,cta:r.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.TeamHomeSidebarUpgradePrompt,className:s()(N.a.cta,N.a.lightModeCta),onClick:()=>{Object(O.trackUe)({category:O.Noun.HOME_TEAM_ACCORDION,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking full upgrade prompt in home page team accordion",context:{organizationId:e,isFreeTrial:!!d}}),W&&E.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationBoardsHomeScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"memberHomeScreenPromptFull"}}),v()}}," ",d?R(["upgrade prompt","cta"]):V("learn more"))}),moreMenuShareInlineDialogPromptFull:r.a.createElement(u.a,{onDismiss:f,loading:q,icon:r.a.createElement(L.DownloadIcon,null),headline:V(["board menu","print and export","headline-2"]),content:V(["board menu","print and export","content-2"]),cta:r.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.PrintAndExportUpgradePrompt,className:s()(N.a.cta,N.a.lightModeCta),onClick:()=>{Object(O.trackUe)({category:O.Noun.BOARD_MENU,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking full upgrade prompt in the board menu export page",context:{isFreeTrial:!!d,organizationId:e}}),W&&E.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"printAndExportBoardInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"moreMenuShareInlineDialogPromptFull"}}),v()}},d?R(["upgrade prompt","cta"]):V("learn more"))}),orgMemberRestrictedPromptFull:r.a.createElement(u.a,{loading:q,icon:r.a.createElement(F.MemberIcon,null),headline:Object(P.dontUpsell)()?V(["team page","members","headline-membership-tooltip-auaa-desktop"]):V(["team page","members","headline-membership-tooltip-auaa-2"]),content:Object(P.dontUpsell)()?V(["team page","members","content-membership-tooltip-auaa-desktop"]):V(["team page","members","content-membership-tooltip-auaa-2"]),cta:r.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.OrgMemberRestrictedPermission,className:s()(N.a.cta,N.a.lightModeCta),onClick:()=>{Object(O.trackUe)({category:O.Noun.TEAM_PAGE,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking full upgrade prompt in team page membership type",context:{organizationId:e,isFreeTrial:!!d}}),W&&E.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"auaaUpgradeInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"auaaPromptFull"}}),d&&!Object(P.dontUpsell)()?v():window.open("/business-class")}},d&&!Object(P.dontUpsell)()?R(["upgrade prompt","cta"]):V("learn more"))}),pupLimitPopUpPromptFull:r.a.createElement(u.a,{loading:q,icon:r.a.createElement(A.BoardIcon,null),headline:U("get-unlimited-power-ups"),content:U("need-more-than-one-power-up-per-board-go-unlimited-with-business-class"),onDismiss:null==i?void 0:i.onClose,cta:r.a.createElement("button",{className:s()(N.a.cta),onClick:()=>{W&&E.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"pupLimitBCUpsellInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"pupLimitPopUpPromptFull"}}),v()}},d?R(["upgrade prompt","cta"]):V("learn more"))}),pupUpgradeBannerButton:r.a.createElement(y,{cta:V("upgrade"),ctaOnClick:()=>{Object(O.trackUe)({category:O.Noun.POWER_UPS_DIRECTORY,verb:O.Verb.CLICKS,directObj:O.Noun.UPGRADE_BUTTON,context:{isFreeTrial:!!d,organizationId:e}}),W&&E.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"powerUpDirectoryUpgradeBanner",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"pupUpgradeBannerButton"}}),v()},shouldFitContainer:!0}),pupUpgradePromptPill:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-back-pup-upgrade-prompt-section"},r.a.createElement("div",{className:"card-back-pup-upgrade-prompt-opener"},H("upgrade-to-get-unlimited-power-ups-2")),r.a.createElement("div",{className:"card-back-pup-upgrade-prompt"},r.a.createElement(b,{testId:c.UpgradePromptTestIds.PuPsUpgradePill,icon:r.a.createElement(k.BusinessClassIcon,null),cta:V("upgrade team"),ctaLink:d?T:S,ctaOnClick:()=>{Object(O.trackUe)({category:O.Noun.CARD_BACK,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking pill upgrade prompt in card back pup section",context:{isFreeTrial:!!d,organizationId:e}}),E.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"pupCardBackSectionInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"pupUpgradePromptPill"}})}})))),teamBoardsHeaderUpgradePromptButton:r.a.createElement(y,{testId:c.UpgradePromptTestIds.TeamBoardsHeaderUpgradeButton,cta:V("upgrade"),ctaOnClick:()=>{Object(O.trackUe)({category:O.Noun.HOME,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking button upgrade prompt in home page boards tab",context:{isFreeTrial:!!d,organizationId:e}}),W&&E.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"memberBoardsHomeScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"teamBoardsHeaderUpgradePromptButton"}}),v()},shouldFitContainer:!0}),teamMembersScreenPromptFull:r.a.createElement(u.a,{loading:q,icon:r.a.createElement(A.BoardIcon,null),isDarkTheme:!0,headline:V(["team page","members","headline-sidebar-auaa-2"]),content:V(["team page","members","content-sidebar-auaa-2"]),cta:r.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.TeamMembersPageUpgradePrompt,className:s()(N.a.cta,N.a.darkModeCta),onClick:()=>{Object(O.trackUe)({category:O.Noun.TEAM_PAGE,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking full upgrade prompt in team page members tab",context:{isFreeTrial:!!d,organizationId:e}}),W&&E.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationMembersScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"teamMembersScreenPromptFull"}}),v()}},d?R(["upgrade prompt","cta"]):V("learn more"))}),teamBoardsScreenPromptFull:r.a.createElement(u.a,{loading:q,icon:r.a.createElement(A.BoardIcon,null),isDarkTheme:!0,headline:V(["team page","members","headline-sidebar-auaa-2"]),content:V(["team page","members","content-sidebar-auaa-2"]),cta:r.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.TeamMembersPageUpgradePrompt,className:s()(N.a.cta,N.a.darkModeCta),onClick:()=>{Object(O.trackUe)({category:O.Noun.TEAM_PAGE,verb:O.Verb.OPENS,directObj:O.Noun.BC_MODAL,method:"by clicking full upgrade prompt in team page members tab",context:{isFreeTrial:!!d,organizationId:e}}),W&&E.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationMembersScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!d,promptId:"teamBoardsScreenPromptFull"}}),v()}},d?R(["upgrade prompt","cta"]):V("learn more"))})};if(void 0===$[t])throw new Error("UpgradeSmartComponent: promptId ".concat(t,' not found"'));return $[t]},q=e=>r.a.createElement(x.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:S.Feature.UpgradePrompt}},r.a.createElement(W,e)),$=e=>r.a.createElement(d.ComponentWrapper,null,r.a.createElement(q,e))},"./app/src/components/UpgradePrompts/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"UpgradePromptFull",(function(){return n.UpgradePromptFull})),i.d(t,"UpgradePromptButton",(function(){return r.UpgradePromptButton})),i.d(t,"UpgradePromptPill",(function(){return a.UpgradePromptPill})),i.d(t,"UpgradePromptSettingsTab",(function(){return x})),i.d(t,"UpgradePromptSettingsTabConnected",(function(){return C})),i.d(t,"UpgradePromptBanner",(function(){return D})),i.d(t,"UpgradePromptBannerType",(function(){return P})),i.d(t,"UpgradeSmartComponent",(function(){return A.UpgradeSmartComponent})),i.d(t,"UpgradeSmartComponentConnected",(function(){return A.UpgradeSmartComponentConnected})),i.d(t,"useUpgradePromptRules",(function(){return h.b}));var n=i("./app/src/components/UpgradePrompts/UpgradePromptFull.tsx"),r=i("./app/src/components/UpgradePrompts/UpgradePromptButton.tsx"),a=i("./app/src/components/UpgradePrompts/UpgradePromptPill.tsx"),s=i("./node_modules/react/index.js"),o=i.n(s),l=i("./packages/i18n/index.ts"),c=i("./node_modules/classnames/index.js"),d=i.n(c),u=i("./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less"),p=i.n(u),m=i("./packages/analytics/index.ts"),h=i("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),g=i("./packages/feature-flag-client/index.ts"),b=i("./app/src/components/ComponentWrapper/index.ts"),f=i("./packages/nachos/button.ts"),v=i("./packages/atlassian-analytics/index.ts"),k=i("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),y=i("./packages/nachos/tooltip.ts");const w=Object(l.forTemplate)("org_account"),j=i("./resources/images/stars.svg"),x=({billingUrl:e,orgId:t,isAdmin:i,isStandard:n})=>{const r=i?e:"/business-class",a=n||i?"ads-upgrade":"ads-learn-more",s=Object(g.useFeatureFlag)("btg.upgrade-prompt-audit",!1),{openPlanSelection:l}=Object(h.b)(t,"upgrade-prompt-settings-tab-".concat(t)),{isEligible:c}=Object(k.a)(t,{skip:!s}),u=n&&!i;return o.a.createElement("div",{className:d()("window-module","u-clearfix",p.a.bcPromptHeader)},o.a.createElement("div",{className:d()("setting-item",p.a.settingItem)},o.a.createElement("div",{className:p.a.bcPromptSparkle},o.a.createElement("img",{alt:"sparkle",src:j})),o.a.createElement("div",{className:"setting-item-detail"},w("more-settings",{boldTextUpgradeToBc:o.a.createElement("strong",{key:"bold-text-upgrade-to-bc"},w("bold-text-upgrade-to-bc"))})),o.a.createElement("div",{className:"setting-item-action"},!n&&s?o.a.createElement(f.Button,{appearance:"primary",onClick:()=>{l(),v.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"teamSettingsScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:!!c,promptId:"teamSettingsButton"}}),Object(m.trackUe)({category:m.Noun.TEAM_PAGE,verb:m.Verb.OPENS,directObj:m.Noun.BC_MODAL,method:"by clicking upgrade button in team page settings tab",context:{isFreeTrial:!!c,organizationId:t}})},shouldFitContainer:!0},w(a)):u?o.a.createElement(y.a,{content:w("tooltip-contact-admin-to-upgrade"),component:y.b},o.a.createElement("span",{className:p.a.tooltipDisabledHack,tabIndex:0,role:"button"},o.a.createElement(f.Button,{appearance:"primary",isDisabled:!0,shouldFitContainer:!0},w(a)))):o.a.createElement("a",{className:d()("primary","button-link","u-text-align-center",p.a.bcPromptUpgrade),href:r,onClick:()=>Object(m.trackUe)({category:m.Noun.TEAM_PAGE,verb:m.Verb.OPENS,directObj:m.Noun.TEAM_PAGE_BC_TAB,method:"by clicking upgrade button in team page settings tab"})},w(a)))))},C=e=>o.a.createElement(b.ComponentWrapper,null,o.a.createElement(x,e)),_=(e,t)=>Array(t-e+1).fill(0).map(((t,i)=>e+i));var O=i("./app/src/components/UpgradePrompts/UpgradePromptBanner.less"),E=i.n(O),S=i("./packages/browser/index.ts"),T=i("./app/src/components/FreeTrial/index.ts");const N=Object(l.forTemplate)("paid_product_info");let P;!function(e){e.BusinessClass="business-class",e.BusinessClassUpgrade="business-class-upgrade",e.Gold="gold"}(P||(P={}));const I={"business-class":[i("./resources/images/business-class/feature-boards.svg"),i("./resources/images/business-class/feature-powerups.svg"),i("./resources/images/business-class/feature-butler.svg"),i("./resources/images/business-class/feature-control.svg")],"business-class-upgrade":[i("./resources/images/business-class-feature-boards.png"),i("./resources/images/business-class-feature-integration.png"),i("./resources/images/business-class-feature-roadmap.png")],gold:[i("./resources/images/business-class-feature-boards.png"),i("./resources/images/business-class-feature-integration.png"),i("./resources/images/business-class-feature-roadmap.png")]},B=({type:e,orgId:t,infoUrl:i,subtitleCount:n=0,epilogueCount:r=0,allowUpsell:a})=>{const s=Object(g.useFeatureFlag)("btg.upgrade-prompt-audit",!1),{openPlanSelection:l}=Object(h.b)(t,"",{skip:"business-class"!==e}),{isEligible:c}=Object(T.useFreeTrialEligibilityRules)(t,{skip:"business-class"!==e});if(Object(S.dontUpsell)()&&!a)return null;const d="business-class"===e?4:3;if("business-class-upgrade"!==e&&r>1)throw new Error("Only use epilogueCount with the type business-class-upgrade");let u=!1,p=()=>{};return s&&t&&c&&(u=!0,p=()=>{Object(m.trackUe)({category:m.Noun.BILLING_PAGE,verb:m.Verb.OPENS,directObj:m.Noun.BC_MODAL,method:"by clicking upgrade button in create from the biling page",context:{organizationId:t,isFreeTrial:c}}),v.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"orgBillingScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:c,promptId:"billingPageFreeTrialBannerButton"}}),l()}),o.a.createElement("div",{className:E.a.upgradePromptBanner},o.a.createElement("header",null,o.a.createElement("h2",null,N([e,"title"])),n>0&&_(0,n-1).map((t=>o.a.createElement("p",{key:"subtitles-".concat(t)},N([e,"subtitles",t.toString()]))))),o.a.createElement("div",{className:E.a.features},_(0,d-1).map((t=>o.a.createElement("div",{className:E.a.feature,key:"features-".concat(t)},o.a.createElement("img",{src:I[e][t],alt:N([e,"featureHeaders",t.toString()])}),o.a.createElement("h3",null,N([e,"featureHeaders",t.toString()])),o.a.createElement("p",null,N([e,"featureBodies",t.toString()])))))),r>0&&o.a.createElement("div",{className:E.a.epilogue},_(0,r-1).map((t=>o.a.createElement("p",{key:"epilogue-".concat(t)},N([e,"epilogue recent",t.toString()],1===t?{smartBilling:o.a.createElement("strong",{key:"smartBilling"},N("smartBilling"))}:{}))))),u&&o.a.createElement(f.Button,{className:E.a.freeTrialButton,appearance:"primary",onClick:p},N([e,"startFreeTrial"])),o.a.createElement("div",null,o.a.createElement("a",{href:i,target:"_blank",onClick:()=>{v.Analytics.sendClickedLinkEvent({linkName:"seeAllBenefitsLink",source:"gold"===e?"memberBillingScreen":"orgBillingScreen",containers:{organization:{id:t}}}),Object(m.track)("Billing Page","See All Benefits Link Click")}},N([e,"link"]))))},D=e=>o.a.createElement(b.ComponentWrapper,null,o.a.createElement(B,e));var A=i("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx")},"./app/src/components/UpgradePrompts/useUpgradePromptRules.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return v})),i.d(t,"b",(function(){return y}));var n=i("./node_modules/react/index.js"),r=i("./node_modules/react-redux/es/index.js"),a=i("./app/gamma/src/modules/state/ui/overlay.ts"),s=i("./node_modules/@apollo/client/index.js");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const d={context:{operationName:"UpgradePromptRules"}},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UpgradePromptRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}}]}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"products"}}]}}]}}]};var p=i("./app/src/components/UpgradePrompts/UpgradePromptDismissMessageMutation.generated.tsx"),m=i("./packages/browser/index.ts"),h=i("./packages/product-features/index.ts"),g=i("./app/scripts/init/useSocketSubscription.ts"),b=i("./app/scripts/db/model-cache.js"),f=i.n(b);let v;!function(e){e.Enterprise="enterprise",e.BusinessClass="businessClass",e.Standard="standard",e.Free="free"}(v||(v={}));const k={[v.Enterprise]:3,[v.BusinessClass]:2,[v.Standard]:1,[v.Free]:0},y=(e,t,i,o)=>{var c,b,y,w,j,x;const C=Object(r.d)();Object(g.a)("Organization",e,Boolean(!e));const{data:_,loading:O}=function(e){const t=l(l({},d),e);return s.useQuery(u,t)}(!e||null!=i&&i.skip?{skip:!0}:{variables:{memberId:"me",orgId:e||""}}),[E]=Object(p.a)(),S=null==_?void 0:_.member,T=null==_?void 0:_.organization,N=(null==S?void 0:S.id)||"",P=Object(n.useMemo)((()=>{var e,t,i;return null!=T&&null!==(e=T.products)&&void 0!==e&&e.some((e=>h.ProductFeatures.isEnterpriseProduct(e)))?v.Enterprise:null!=T&&null!==(t=T.products)&&void 0!==t&&t.some((e=>h.ProductFeatures.isBusinessClassProduct(e)))?v.BusinessClass:null!=T&&null!==(i=T.products)&&void 0!==i&&i.some((e=>h.ProductFeatures.isStandardProduct(e)))?v.Standard:v.Free}),[null==T?void 0:T.products]),I=Boolean(null==T||null===(c=T.memberships)||void 0===c?void 0:c.find((e=>e.idMember===N))),B=null==S?void 0:S.idEnterprise,D=null==T?void 0:T.idEnterprise,A=Boolean(null==S||null===(b=S.oneTimeMessagesDismissed)||void 0===b?void 0:b.find((e=>e===t))),L=null==S?void 0:S.confirmed,F=null===(y=f.a.get("Organization",e))||void 0===y||null===(w=y.get("limits"))||void 0===w||null===(j=w.orgs)||void 0===j||null===(x=j.freeBoardsPerOrg)||void 0===x?void 0:x.count,[M,V]=Object(n.useState)(!1),R=Boolean((!Object(m.dontUpsell)()||(null==i?void 0:i.allowUpsell))&&!M&&((e,t,i)=>t||i?t&&i?e===t&&k[t]<k[i]:i?k[e]<k[i]:e===t:e===v.Free)(P,null==o?void 0:o.from,null==o?void 0:o.to)&&!A&&!B&&!D&&I&&L);return{boardLimit:F,org:null==_?void 0:_.organization,openPlanSelection:()=>{e&&C(Object(a.setOverlay)({overlayType:a.OverlayType.PlanSelection,context:{orgId:e}}))},dismissMessage:()=>{V(!0),E({variables:{memberId:"me",messageId:t||""}})},shouldDisplayUpgradePrompt:R,loading:O}}},"./app/src/components/WorkspacesAutoNameAlert/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"WorkspacesAutoNameAlert",(function(){return w}));var n=i("./node_modules/react/index.js"),r=i("./node_modules/@apollo/client/index.js");function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l={context:{operationName:"WorkspacesAutoNameAlert"}},c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesAutoNameAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creationMethod"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"idMemberCreator"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m={context:{operationName:"WorkspacesAutoNameAlertDismiss"}},h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesAutoNameAlertDismiss"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};var g=i("./packages/i18n/index.ts"),b=i("./packages/feature-flag-client/index.ts"),f=i("./packages/nachos/experimental.ts"),v=i("./packages/atlassian-analytics/index.ts"),k=i("./packages/analytics/index.ts");const y=Object(g.forNamespace)("alerts",{shouldEscapeStrings:!1}),w=({boardId:e,orgId:t})=>{var i,a,o,d,p,g,w;const[j,x]=Object(n.useState)(!1),{data:C}=function(e){const t=s(s({},l),e);return r.useQuery(c,t)}({variables:{orgId:t},skip:!t||j}),[_]=function(e){const t=u(u({},m),e);return r.useMutation(h,t)}(),O=Object(b.useFeatureFlag)("btg.auto-name-web",!1),E="WorkspacesAutoNameAlert-".concat(t),S=null==C||null===(i=C.organization)||void 0===i?void 0:i.displayName,T=null==C||null===(a=C.organization)||void 0===a?void 0:a.url,N=!j&&O&&"board-creation"===(null==C||null===(o=C.organization)||void 0===o?void 0:o.creationMethod)&&(null==C||null===(d=C.organization)||void 0===d?void 0:d.idMemberCreator)===(null==C||null===(p=C.member)||void 0===p?void 0:p.id)&&!(null!=C&&null!==(g=C.member)&&void 0!==g&&null!==(w=g.oneTimeMessagesDismissed)&&void 0!==w&&w.includes(E));return Object(n.useEffect)((()=>{if(N){const i=y(["workspaces-auto-name-alert"],{workspaceName:S}),n=y(["workspaces-auto-name-alert-link"]);Object(f.showFlag)({id:"board",title:i,appearance:"info",isAutoDismiss:!0,msTimeout:8e3,actions:[{content:n,href:T,type:"link"}]}),x(!0),_({variables:{messageId:E}}),v.Analytics.sendViewedComponentEvent({componentName:"workspacesAutoNameAlert",componentType:"flag",source:"boardScreen",containers:{board:{id:e},organization:{id:t}}}),Object(k.trackUe)({category:k.Noun.BOARD_VIEW,verb:k.Verb.VIEWS,directObj:k.Noun.WORKSPACES_AUTO_NAME_ALERT,context:{boardId:e,orgId:t}})}}),[e,E,_,t,N,S,T]),null}},"./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleChangeTeamButton.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleChangeTeamButton.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./app/src/components/WorkspacesPreamble/index.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"WorkspacesPreambleBoardHeaderButton",(function(){return ii})),i.d(t,"WorkspacesPreambleBoardInviteButton",(function(){return hi})),i.d(t,"WorkspacesPreambleChangeTeamButton",(function(){return Ei}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/classnames/index.js"),s=i.n(a),o=i("./app/scripts/views/lib/alerts.js"),l=i.n(o),c=i("./packages/nachos/button.ts"),d=i("./packages/nachos/popover.ts"),u=i("./app/src/components/ErrorBoundary/index.ts"),p=i("./app/scripts/debug/constants.ts"),m=i("./node_modules/@apollo/client/index.js");function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){b(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const f={context:{operationName:"WorkspacesPreambleBoardHeaderButton"}},v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardHeaderButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"idOrganizations"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function k(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach((function(t){w(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const j={context:{operationName:"WorkspacesPreambleDismissPrompt"}},x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleDismissPrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};var C=i("./packages/session-cookie/index.ts");function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){E(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const S={context:{operationName:"WorkspacesPreamblePrompt"}},T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreamblePrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idOrganizations"}}]}}]}}]};function N(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?N(Object(i),!0).forEach((function(t){I(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function I(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const B={context:{operationName:"WorkspacesPreambleAddBoardToTeam"}},D={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleAddBoardToTeam"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"keepBillableGuests"},value:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};function A(e){const t=P(P({},B),e);return m.useMutation(D,t)}function L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function F(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){M(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const V={context:{operationName:"WorkspacesPreambleBoardVisibility"}},R={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleBoardVisibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visibility"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Board_Prefs_PermissionLevel"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardVisibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"visibility"},value:{kind:"Variable",name:{kind:"Name",value:"visibility"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"keepBillableGuests"},value:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};function z(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function U(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?z(Object(i),!0).forEach((function(t){H(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):z(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function H(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const W={context:{operationName:"WorkspacesPreambleNewBillableGuests"}},q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleNewBillableGuests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newBillableGuests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]};function $(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$(Object(i),!0).forEach((function(t){K(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function K(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Z={context:{operationName:"RestrictedBoardVisibility"}},J={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RestrictedBoardVisibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"}},{kind:"Field",name:{kind:"Name",value:"public"}},{kind:"Field",name:{kind:"Name",value:"org"}},{kind:"Field",name:{kind:"Name",value:"enterprise"}}]}}]}}]}}]}}]};const Q=({orgId:e,boardId:t,skip:i})=>{var n,r,a,s,o,l;const{data:c,loading:d}=function(e){const t=G(G({},Z),e);return m.useQuery(J,t)}({variables:{orgId:e,boardId:t},skip:!e||!t||i,fetchPolicy:"network-only",nextFetchPolicy:"cache-first"}),u=null==c||null===(n=c.board)||void 0===n||null===(r=n.prefs)||void 0===r?void 0:r.permissionLevel,p=null==c||null===(a=c.organization)||void 0===a||null===(s=a.prefs)||void 0===s?void 0:s.boardVisibilityRestrict,h=(null==c||null===(o=c.organization)||void 0===o||null===(l=o.memberships)||void 0===l?void 0:l.some((e=>e.idMember===C.memberId&&"admin"===e.memberType)))||!1,g=p&&u&&("none"===p[u]||"admin"===p[u]&&!h),b=p&&("org"===p.private||"admin"===p.private&&h),f=p&&("org"===p.public||"admin"===p.public&&h),v=p&&("org"===p.org||"admin"===p.org&&h);return{boardVisibility:u,loading:d,teamAllowsPrivateBoards:b,teamAllowsPublicBoards:f,teamAllowsTeamVisibleBoards:v,teamRestrictsAllBoardVisibilities:!b&&!f&&!v,teamRestrictsCurrentBoardVisibility:g}};function Y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function X(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(i),!0).forEach((function(t){ee(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ee(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const te={context:{operationName:"RestrictedGuests"}},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RestrictedGuests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardInviteRestrict"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullName"}}]}}]}}]}}]};const ne=({orgId:e,boardId:t,skip:i})=>{var n,r,a,s,o;const{data:l,loading:c}=function(e){const t=X(X({},te),e);return m.useQuery(ie,t)}({variables:{orgId:e,boardId:t},skip:!e||!t||i,fetchPolicy:"network-only",nextFetchPolicy:"cache-first"}),d="org"===(null==l||null===(n=l.organization)||void 0===n||null===(r=n.prefs)||void 0===r?void 0:r.boardInviteRestrict),u=(null==l||null===(a=l.organization)||void 0===a||null===(s=a.members)||void 0===s?void 0:s.map((e=>e.id)))||[];return{hasBoardMemberRestrictions:d,boardMembersNotInTeam:((null==l||null===(o=l.board)||void 0===o?void 0:o.members)||[]).reduce(((e,t)=>(u.includes(t.id)||e.push(t),e)),[]),loading:c}};var re=i("./packages/i18n/index.ts"),ae=i("./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less"),se=i.n(ae);function oe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function le(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(i),!0).forEach((function(t){ce(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ce(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const de={context:{operationName:"BoardMemberRestrictionAlert"}},ue={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardMemberRestrictionAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"}}]}}]}}]};var pe=i("./packages/nachos/spinner.ts");const me=Object(re.forNamespace)("workspaces preamble"),he=({boardId:e,onCancel:t,onSubmit:i,orgId:a})=>{var s;const[o,l]=Object(n.useState)(!1),{data:d,loading:u}=function(e){const t=le(le({},de),e);return m.useQuery(ue,t)}({variables:{orgId:a}}),{boardMembersNotInTeam:p,loading:h}=ne({orgId:a,boardId:e});return u||h?r.a.createElement(pe.a,{centered:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:se.a.boardMemberRestrictionAlertMessaging},me(["workspaces preamble","workspace-board-member-restriction-messaging"],{orgName:r.a.createElement("strong",{key:"orgName"},null==d||null===(s=d.organization)||void 0===s?void 0:s.displayName)})),r.a.createElement("p",{className:se.a.boardMemberRestrictionAlertMembers},r.a.createElement("strong",null,p.map((e=>e.fullName)).join(", "))),r.a.createElement(c.Button,{appearance:"danger",className:se.a.boardMemberRestrictionAlertConfirmButton,isDisabled:o,onClick:()=>{l(!0),i()},shouldFitContainer:!0},o?r.a.createElement(pe.a,{centered:!0}):me(["workspaces preamble","workspace-board-member-restriction-submit"])),r.a.createElement(c.Button,{appearance:"default",className:se.a.boardMemberRestrictionAlertCancelButton,isDisabled:o,onClick:t,shouldFitContainer:!0},me(["workspaces preamble","board-member-restriction-cancel"])))};var ge=i("./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less"),be=i.n(ge),fe=i("./packages/graphql/generated.tsx");function ve(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ke(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(i),!0).forEach((function(t){ye(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ve(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ye(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const we={context:{operationName:"BoardVisibilityRestrictionAlert"}},je={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardVisibilityRestrictionAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deactivated"}},{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}},{kind:"Field",name:{kind:"Name",value:"unconfirmed"}}]}}]}}]}}]};var xe=i("./packages/nachos/icons/check.tsx"),Ce=i("./packages/nachos/icons/public.tsx"),_e=i("./packages/nachos/icons/private.tsx"),Oe=i("./packages/nachos/icons/organization.tsx"),Ee=i("./app/src/components/RouterLink/RouterLink.tsx");const Se=()=>{},Te=Object(re.forNamespace)("workspaces preamble"),Ne=Object(re.forNamespace)("board perms"),Pe=({boardId:e,onSubmit:t,orgId:i})=>{var a;const[o,l]=Object(n.useState)(!1),{data:c,loading:d}=function(e){const t=ke(ke({},we),e);return m.useQuery(je,t)}({variables:{orgId:i}}),{boardVisibility:u,loading:p,teamAllowsPrivateBoards:h,teamAllowsPublicBoards:g,teamAllowsTeamVisibleBoards:b,teamRestrictsAllBoardVisibilities:f}=Q({orgId:i,boardId:e});if(d||p)return r.a.createElement(pe.a,{centered:!0});if(f){var v,k,y,w;const e=!(null==c||null===(v=c.organization)||void 0===v||null===(k=v.memberships)||void 0===k||!k.find((e=>e.idMember===C.memberId&&"admin"===e.memberType&&!e.deactivated&&!e.unconfirmed))),t=r.a.createElement("strong",{key:"orgName"},null==c||null===(y=c.organization)||void 0===y?void 0:y.displayName),i=e?Te("board-visibility-all-restricted",{orgName:t,teamSettingsPageLink:r.a.createElement(Ee.a,{key:"settingsLink",href:"/".concat(null==c||null===(w=c.organization)||void 0===w?void 0:w.name,"/account")},Te("workspace-board-visibility-settings-link"))}):Te("workspace-board-visibility-all-restricted-not-admin",{orgName:t});return r.a.createElement("p",{id:"allVisibilitiesAreRestrictedMessaging"},i)}const j=e=>{l(!0),t(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,Te("workspace-board-visibility-messaging",{orgName:r.a.createElement("strong",{key:"orgName"},null==c||null===(a=c.organization)||void 0===a?void 0:a.displayName)})),r.a.createElement("div",{id:"privateVisibilityOption",role:"button",onClick:h&&!o?()=>j(fe.b.Private):Se,className:s()(be.a.boardVisibilityOption,{[be.a.boardVisibilityOptionDisabled]:!h||o})},r.a.createElement("div",{className:be.a.boardVisibilityOptionTitle},r.a.createElement(_e.a,{dangerous_className:be.a.boardVisibilityIcon,color:"red",size:"small"}),Ne(["private","name"]),"private"===u&&r.a.createElement(xe.a,{dangerous_className:be.a.boardVisibilityIcon,size:"small"})),r.a.createElement("p",{className:be.a.boardVisibilityOptionDescription},Ne(["private","short summary"]),"",!h&&r.a.createElement("span",{className:be.a.boardVisibilityDisabledMessaging},Te("workspace-board-visibility-option-disabled")))),r.a.createElement("div",{id:"teamVisibleVisibilityOption",role:"button",onClick:b&&!o?()=>j(fe.b.Org):Se,className:s()(be.a.boardVisibilityOption,{[be.a.boardVisibilityOptionDisabled]:!b||o})},r.a.createElement("div",{className:be.a.boardVisibilityOptionTitle},r.a.createElement(Oe.a,{dangerous_className:be.a.boardVisibilityIcon,size:"small"}),Ne(["org","name"]),"org"===u&&r.a.createElement(xe.a,{dangerous_className:be.a.boardVisibilityIcon,size:"small"})),r.a.createElement("p",{className:be.a.boardVisibilityOptionDescription},Ne(["org","short summary"]),"",!b&&r.a.createElement("span",{className:be.a.boardVisibilityDisabledMessaging},Te("workspace-board-visibility-option-disabled")))),r.a.createElement("div",{id:"publicVisibilityOption",role:"button",onClick:g&&!o?()=>j(fe.b.Public):Se,className:s()(be.a.boardVisibilityOption,{[be.a.boardVisibilityOptionDisabled]:!g||o})},r.a.createElement("div",{className:be.a.boardVisibilityOptionTitle},r.a.createElement(Ce.a,{dangerous_className:be.a.boardVisibilityIcon,color:"green",size:"small"}),Ne(["public","name"]),"public"===u&&r.a.createElement(xe.a,{dangerous_className:be.a.boardVisibilityIcon,size:"small"})),r.a.createElement("p",{className:be.a.boardVisibilityOptionDescription},Ne(["public","short summary"]),"",!g&&r.a.createElement("span",{className:be.a.boardVisibilityDisabledMessaging},Te("workspace-board-visibility-option-disabled")))))};var Ie=i("./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less"),Be=i.n(Ie);const De=()=>{},Ae=Object(re.forNamespace)("workspaces preamble"),Le=({onSubmit:e})=>{const[t,i]=Object(n.useState)(!1);return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:Be.a.newBillableGuestsAlertHeadline},r.a.createElement("strong",null,Ae(["workspaces preamble","new-billable-guests-headline"]))),r.a.createElement("p",{className:Be.a.newBillableGuestsAlertMessaging},Ae(["workspaces preamble","new-billable-workspace-guests-messaging"],{learnMoreLink:r.a.createElement(Ee.a,{key:"newBillableGuestsLink",href:"https://help.trello.com/article/1123-multi-board-guests",target:"_blank"},Ae("new-billable-guests-link"))})),r.a.createElement(c.Button,{appearance:"primary",className:Be.a.newBillableGuestsAlertSubmitButton,isDisabled:t,onClick:t?De:()=>{i(!0),e()},shouldFitContainer:!0},t?r.a.createElement(pe.a,{centered:!0}):Ae(["workspaces preamble","popover-title-add-to-workspace"])))};var Fe=i("./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less"),Me=i.n(Fe);function Ve(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Re(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(i),!0).forEach((function(t){ze(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ve(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ze(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Ue={context:{operationName:"WorkspacesPreambleCreateTeam"}},He={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleCreateTeam"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}}]}}]}}]};function We(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function qe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?We(Object(i),!0).forEach((function(t){$e(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):We(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function $e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Ge={context:{operationName:"WorkspacesPreambleAddTeamMembers"}},Ke={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleAddTeamMembers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMembersToOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"invitationMessage"},value:{kind:"StringValue",value:"",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}},{kind:"Field",name:{kind:"Name",value:"error"}}]}}]}}]};function Ze(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Je(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(i),!0).forEach((function(t){Qe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ze(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Qe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Ye={context:{operationName:"WorkspacesPreambleCreateTeamSubmit"}},Xe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleCreateTeamSubmit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"displayName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"teamType"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"desc"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enterprise"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"displayName"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"teamType"},value:{kind:"Variable",name:{kind:"Name",value:"teamType"}}},{kind:"Argument",name:{kind:"Name",value:"desc"},value:{kind:"Variable",name:{kind:"Name",value:"desc"}}},{kind:"Argument",name:{kind:"Name",value:"enterprise"},value:{kind:"Variable",name:{kind:"Name",value:"enterprise"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]};var et=i("./app/src/components/TeamTypeSelect/index.ts");function tt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function it(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(i),!0).forEach((function(t){nt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):tt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function nt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const rt={context:{operationName:"WorkspacesPreambleBoardMemberList"}},at={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardMemberList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"nonPublic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullName"}}]}}]}}]}}]}}]};var st=i("./packages/nachos/checkbox.ts"),ot=i("./app/src/components/MemberAvatar/index.ts"),lt=i("./node_modules/react-animate-height/lib/AnimateHeight.js"),ct=i.n(lt),dt=i("./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less"),ut=i.n(dt);const pt=Object(re.forNamespace)("workspaces preamble"),mt=(e,t)=>{switch(t.type){case"add":return[...e,t.idMember];case"remove":return e.filter((e=>e!==t.idMember));case"clear":return[];case"all":return t.idMembers;default:return e}},ht=({boardId:e,onSelectMember:t})=>{var i,a;const[s,o]=Object(n.useState)(!1),[l,c]=Object(n.useReducer)(mt,[]);Object(n.useEffect)((()=>t(l)),[t,l]);const{data:d}=function(e){const t=it(it({},rt),e);return m.useQuery(at,t)}({variables:{boardId:e}}),u=((null==d||null===(i=d.board)||void 0===i||null===(a=i.members)||void 0===a?void 0:a.length)||0)>1,p=Object(n.useMemo)((()=>{var e,t;return(null==d||null===(e=d.board)||void 0===e||null===(t=e.members)||void 0===t?void 0:t.filter((e=>C.memberId!==e.id&&e.confirmed)))||[]}),[d]);return Object(n.useEffect)((()=>{c({type:"all",idMembers:p.map((e=>e.id))})}),[p]),u?r.a.createElement("div",{className:ut.a.inviteMembers},r.a.createElement(st.a,{className:ut.a.checkbox,label:r.a.createElement(r.a.Fragment,null,pt(["add-members-to-workspace"],{membersCount:l.length})),onChange:e=>{e.target.checked?c({type:"all",idMembers:p.map((e=>e.id))}):c({type:"clear"})},isChecked:l.length>0,isIndeterminate:l.length!==p.length&&l.length>0}),r.a.createElement(ct.a,{className:ut.a.members,contentClassName:ut.a.membersScroller,height:s?37*Math.min(5,p.length):0,animateOpacity:!0},p.map((e=>{const t=l.includes(e.id);return r.a.createElement(gt,{key:"member".concat(e.id),member:e,selected:t,updateMembers:c})}))),r.a.createElement("button",{onClick:()=>o(!s)},pt(s?["hide-members-button"]:["show-members-button"]))):null},gt=({member:e,selected:t,updateMembers:i})=>{const[a,o]=Object(n.useState)(!1);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:s()(ut.a.member,{[ut.a.memberHover]:a}),onClick:n=>{i({type:t?"remove":"add",idMember:e.id}),n.preventDefault()},role:"checkbox","aria-checked":t},r.a.createElement("div",{className:ut.a.nameAndAvatar},r.a.createElement(ot.a,{idMember:e.id,size:20,className:ut.a.avatar})," ",r.a.createElement("div",{className:ut.a.name},e.nonPublic&&e.nonPublic.fullName?e.nonPublic.fullName:e.fullName)),r.a.createElement(st.a,{isChecked:t,className:ut.a.memberCheckbox})))};var bt=i("./packages/error-reporting/index.ts"),ft=i("./packages/analytics/index.ts"),vt=i("./packages/atlassian-analytics/index.ts"),kt=i("./packages/test-ids/index.ts"),yt=i("./packages/graphql-error-handling/index.ts");const wt=Object(re.forNamespace)("workspaces preamble"),jt=()=>{},xt=({analyticsDirectObj:e,analyticsSource:t,boardId:i,onSuccess:a})=>{const[s,o]=Object(n.useState)(!1),[d,u]=Object(n.useState)(""),[h,g]=Object(n.useState)(),[b,f]=Object(n.useState)(!1),[v,k]=Object(n.useState)([]),{data:y}=function(e){const t=Re(Re({},Ue),e);return m.useQuery(He,t)}({variables:{boardId:i}}),[w]=function(e){const t=Je(Je({},Ye),e);return m.useMutation(Xe,t)}(),[j]=function(e){const t=qe(qe({},Ge),e);return m.useMutation(Ke,t)}(),[x]=A(),_=b&&!!h&&!s;return r.a.createElement("div",{className:Me.a.createTeam},r.a.createElement("label",{className:Me.a.createTeamInputLabel,htmlFor:"workspacesPreambleCreateTeamInput"},wt(["new-workspace-input-label"])),r.a.createElement("input",{id:"workspacesPreambleCreateTeamInput",className:Me.a.createTeamInput,type:"text",autoComplete:"off",spellCheck:!1,onChange:e=>{var t;const i=null==e||null===(t=e.target)||void 0===t?void 0:t.value;void 0!==i&&(u(i),f(i.trim().length>0))},autoFocus:!0,placeholder:wt(["new-team-input-placeholder"]),value:d,maxLength:100,disabled:s}),r.a.createElement(et.TeamTypeSelect,{onChange:e=>g(e),isDisabled:s,testId:kt.WorkSpacesPreambleTestIds.WorkspacesPreambleSelectTeamType}),r.a.createElement(ht,{boardId:i,onSelectMember:e=>k(e)}),r.a.createElement(c.Button,{isDisabled:!_,appearance:"primary",className:Me.a.createTeamButton,onClick:_?async n=>{n.preventDefault(),o(!0);try{var r,s,c,u;const n=await w({variables:{type:"default",displayName:d.trim(),teamType:h}}),o=null===(r=n.data)||void 0===r||null===(s=r.createOrganization)||void 0===s?void 0:s.name,l=null===(c=n.data)||void 0===c||null===(u=c.createOrganization)||void 0===u?void 0:u.id;if(l&&o){var m;await x({variables:{boardId:i,orgId:l}});const n=v.map((e=>({id:e}))),r=n.length;r&&await j({variables:{orgId:l,users:n}});const s=((null==y||null===(m=y.board)||void 0===m?void 0:m.members)||[]).filter((e=>C.memberId!==e.id&&e.confirmed)).length;t&&vt.Analytics.sendTrackEvent({action:"updated",actionSubject:"organization",source:t,containers:{board:{id:i},organization:{id:l}},attributes:{availableMembersCount:s,membersAddedCount:r,newOrg:!0,updatedOn:"board"}}),e&&Object(ft.trackUe)({category:ft.Noun.BOARD_VIEW,verb:ft.Verb.SUBMITS,directObj:e,context:{availableMembersCount:s,boardId:i,membersAddedCount:r,newOrg:!0,orgId:l}}),a(o)}}catch(e){o(!1);const t=Object(yt.c)(e);return null==t||t.code,l.a.showLiteralText(Object(re.localizeErrorCode)("organization","UNKNOWN_ERROR"),"error","alert",5e3),void Object(bt.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble},extraData:{component:"WorkspacesPreambleCreateTeam"},networkError:t})}}:jt,size:"fullwidth",testId:kt.WorkSpacesPreambleTestIds.WorkspacesPreambleCreateTeamSubmit},s?r.a.createElement(pe.a,{centered:!0,testId:kt.WorkSpacesPreambleTestIds.WorkspacesPreambleSpinner}):wt(["submit-button-create-workspace"])))};function Ct(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function _t(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(i),!0).forEach((function(t){Ot(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ct(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ot(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Et={context:{operationName:"WorkspacesPreambleSelectTeam"}},St={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleSelectTeam"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organizations"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"limits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orgs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeBoardsPerOrg"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"}}]}}]}}]}}]}}]}}]}}]};var Tt=i("./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less"),Nt=i.n(Tt),Pt=i("./packages/nachos/select.ts");const It=()=>{},Bt=Object(re.forNamespace)("workspaces preamble"),Dt="CREATE_NEW_TEAM",At=({boardId:e,isLoadingSelectedTeam:t,onSelectCreateTeam:i,onSelectTeam:a,onSubmit:s,selectedTeamId:o})=>{var l;const[d,u]=Object(n.useState)(!1),{data:p,loading:h}=function(e){const t=_t(_t({},Et),e);return m.useQuery(St,t)}(),g=((null==p||null===(l=p.member)||void 0===l?void 0:l.organizations)||[]).map((e=>{var t,i,n;const r=null==e||null===(t=e.limits)||void 0===t||null===(i=t.orgs)||void 0===i||null===(n=i.freeBoardsPerOrg)||void 0===n?void 0:n.status,a="disabled"===r||"maxExceeded"===r;return{label:e.displayName,value:e.id,isDisabled:a,meta:a?Bt("upgrade-prompt-headline-run-out-of-free-boards"):void 0}}));g.push({label:Bt("team-select-create-workspace-option"),value:Dt});const b=d||h||t,f=o&&!b;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"workspacesPreambleTeamSelect"},Bt("workspace-select-label")),r.a.createElement(Pt.a,{id:"workspacesPreambleTeamSelect",defaultValue:{label:Bt("team-select-default-option"),value:""},isLoading:h,isDisabled:d||h,options:g,onChange:e=>{e.value===Dt?i():e.value&&a(e.value)}}),r.a.createElement(c.Button,{className:Nt.a.selectTeamSubmitButton,onClick:f?e=>{e.preventDefault(),u(!0),s()}:It,size:"fullwidth",isDisabled:!f,appearance:"primary"},b?r.a.createElement(pe.a,{centered:!0}):Bt("prompt-continue-button-add-to-workspace")))};function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const Ft=Object(re.forNamespace)("workspaces preamble"),Mt=()=>{};var Vt;!function(e){e[e.Intro=0]="Intro",e[e.SelectTeam=1]="SelectTeam",e[e.CreateTeam=2]="CreateTeam",e[e.BoardMemberRestriction=3]="BoardMemberRestriction",e[e.BoardVisibilityRestriction=4]="BoardVisibilityRestriction",e[e.NewBillableGuests=5]="NewBillableGuests"}(Vt||(Vt={}));const Rt=({boardId:e,IntroScreen:t,isBoardTeamless:i,onCreateTeamSuccess:a,onHide:s=Mt,onSelectTeamSuccess:o=Mt,onShow:c=Mt,autoShow:u,successAnalyticDirectObj:h,successAnalyticSource:g,TriggerButton:b})=>{var f,v,k;const[y,w]=Object(n.useState)(""),[j,x]=Object(n.useState)(!1),[_,E]=Object(n.useState)(""),[N,P]=Object(n.useState)(!1),{data:I}=function(e){const t=O(O({},S),e);return m.useQuery(T,t)}({variables:{boardId:e}}),{data:B}=function(e){const t=U(U({},W),e);return m.useQuery(q,t)}({variables:{boardId:e,orgId:y},skip:""===y}),{hasBoardMemberRestrictions:D,boardMembersNotInTeam:L,loading:M}=ne({orgId:y,boardId:e,skip:1===(null==I||null===(f=I.board)||void 0===f?void 0:f.members.length)}),{loading:z,teamRestrictsCurrentBoardVisibility:H}=Q({orgId:y,boardId:e}),[$]=A(),[G]=function(e){const t=F(F({},V),e);return m.useMutation(R,t)}(),{popoverProps:K,push:Z,show:J,toggle:Y,triggerRef:X,hide:ee}=Object(d.e)({initialScreen:Vt.Intro,onHide:s,onShow:c});Object(n.useEffect)((()=>{x(!1),E("")}),[K.isVisible,y,x,E]);const te=async t=>{var i,n;if(!D||!L.length||null!=t&&t.boardMemberRestrictionResolved||j)if(null==B||null===(i=B.organization)||void 0===i||null===(n=i.newBillableGuests)||void 0===n||!n.length||null!=t&&t.newBillableGuestsResolved||N)if(!H||null!=t&&t.boardVisibilityRestrictionResolution||_)try{var r,a;const i=!(null==B||null===(r=B.organization)||void 0===r||null===(a=r.memberships)||void 0===a||!a.find((e=>e.idMember===C.memberId&&"admin"===e.memberType)));if(null!=t&&t.boardVisibilityRestrictionResolution||_){const n=(null==t?void 0:t.boardVisibilityRestrictionResolution)||_;await G({variables:{boardId:e,visibility:n,orgId:y,keepBillableGuests:i}})}else await $({variables:{boardId:e,orgId:y,keepBillableGuests:i}});g&&vt.Analytics.sendTrackEvent({action:"updated",actionSubject:"organization",source:g,containers:{board:{id:e},organization:{id:y}},attributes:{newOrg:!1,updatedOn:"board"}}),h&&Object(ft.trackUe)({category:ft.Noun.BOARD_VIEW,verb:ft.Verb.SUBMITS,directObj:h,context:{boardId:e,newOrg:!1,orgId:y}}),o()}catch(e){const t=Object(yt.c)(e);return null==t||t.code,l.a.showLiteralText(Object(re.localizeErrorCode)("organization","UNKNOWN_ERROR"),"error","alert",5e3),void Object(bt.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble},extraData:{component:"WorkspacesPreamblePrompt"},networkError:t})}else Z(Vt.BoardVisibilityRestriction);else Z(Vt.NewBillableGuests);else Z(Vt.BoardMemberRestriction)};Object(n.useEffect)((()=>{u&&J()}),[u,J]),Object(n.useEffect)((()=>{!1===i&&ee()}),[i,ee]);const ie=!(null==I||null===(v=I.member)||void 0===v||null===(k=v.idOrganizations)||void 0===k||!k.length)||!1,ae=ie?Vt.SelectTeam:Vt.CreateTeam;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{boardId:e,onClick:Y,ref:X}),r.a.createElement(d.b,Lt({},K,{title:Ft(ie?"popover-title-add-to-workspace":"popover-title-create-workspace")}),r.a.createElement(d.d,{id:Vt.Intro},r.a.createElement(t,{onButtonClick:()=>Z(ae),buttonCopy:Ft(ie?"prompt-continue-button-add-to-workspace":"prompt-continue-button-create-workspace")})),r.a.createElement(d.d,{id:Vt.SelectTeam},r.a.createElement(At,{boardId:e,isLoadingSelectedTeam:M||z,onSelectTeam:w,onSelectCreateTeam:()=>Z(Vt.CreateTeam),onSubmit:te,selectedTeamId:y})),r.a.createElement(d.d,{id:Vt.CreateTeam},r.a.createElement(xt,{analyticsDirectObj:h,analyticsSource:g,boardId:e,onSuccess:a})),r.a.createElement(d.d,{id:Vt.BoardMemberRestriction},r.a.createElement(he,{boardId:e,onCancel:()=>Z(Vt.SelectTeam),onSubmit:()=>{x(!0),te({boardMemberRestrictionResolved:!0})},orgId:y})),r.a.createElement(d.d,{id:Vt.BoardVisibilityRestriction},r.a.createElement(Pe,{boardId:e,onSubmit:e=>{E(e),te({boardVisibilityRestrictionResolution:e})},orgId:y})),r.a.createElement(d.d,{id:Vt.NewBillableGuests},r.a.createElement(Le,{onSubmit:()=>{P(!0),te({newBillableGuestsResolved:!0})}}))))};function zt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ut(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(i),!0).forEach((function(t){Ht(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):zt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ht(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Wt={context:{operationName:"IsEnterpriseOwnedMember"}},qt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IsEnterpriseOwnedMember"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"enterprises"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isRealEnterprise"}}]}}]}}]}}]};const $t=()=>{var e,t,i;const{data:n}=function(e){const t=Ut(Ut({},Wt),e);return m.useQuery(qt,t)}({skip:!C.memberId});return!(null==n||null===(e=n.member)||void 0===e||null===(t=e.enterprises)||void 0===t||null===(i=t.find((e=>{var t;return e.id===(null==n||null===(t=n.member)||void 0===t?void 0:t.idEnterprise)})))||void 0===i||!i.isRealEnterprise)};var Gt=i("./app/gamma/src/util/url.ts"),Kt=i("./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less"),Zt=i.n(Kt),Jt=i("./packages/feature-flag-client/index.ts");const Qt=Object(re.forNamespace)(),Yt=Object(re.forNamespace)("workspaces preamble");const Xt=Object(n.forwardRef)((({onClick:e},t)=>r.a.createElement("a",{className:"board-header-btn board-header-btn-without-icon",onClick:e,ref:t,role:"button"},r.a.createElement("span",{className:"board-header-btn-text"},Qt("personal"))))),ei=Object(n.forwardRef)((({boardId:e,onClick:t},i)=>r.a.createElement("a",{className:"board-header-btn board-header-btn-without-icon",onClick:()=>{vt.Analytics.sendClickedButtonEvent({buttonName:"workspacesPreambleAddToTeamButton",source:"boardScreen",containers:{board:{id:e}}}),Object(ft.trackUe)({category:ft.Noun.BOARD_VIEW,verb:ft.Verb.CLICKS,directObj:ft.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_BUTTON,context:{boardId:e}}),t()},ref:i,role:"button"},r.a.createElement("span",{className:"board-header-btn-text"},Yt("board-header-button-add-to-workspace"))))),ti=({buttonCopy:e,onButtonClick:t})=>r.a.createElement("div",{className:Zt.a.workspacesPreambleBoardHeaderButtonIntro},r.a.createElement("img",{src:i("./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-image.png"),alt:"",role:"presentation"}),r.a.createElement("h2",{className:Zt.a.workspacesPreambleBoardHeaderButtonIntroTitle},Yt("prompt-heading")),r.a.createElement("p",null,Yt("prompt-paragraph-workspaces-make-it-easy")),r.a.createElement(c.Button,{appearance:"primary",className:Zt.a.workspacesPreambleBoardHeaderButtonContinueButton,onClick:t,shouldFitContainer:!0},e)),ii=({boardId:e,canAutoShow:t,onCreateTeamSuccess:i,windowUrl:a})=>{var o,c,h,b,k,w,_,O,E;const[S,T]=Object(n.useState)(!1),[N,P]=Object(n.useState)(!1),{data:I,error:B,loading:D}=function(e){const t=g(g({},f),e);return m.useQuery(v,t)}({variables:{boardId:e},skip:!C.memberId}),[A]=function(e){const t=y(y({},j),e);return m.useMutation(x,t)}(),L="WorkspacesPreamblePrompt-".concat(e),F=$t(),M=null==I||null===(o=I.member)||void 0===o?void 0:o.id,V=null==I||null===(c=I.board)||void 0===c||null===(h=c.memberships)||void 0===h?void 0:h.find((e=>e.idMember===M)),R="admin"===(null==V?void 0:V.memberType),z=!(null!=I&&null!==(b=I.board)&&void 0!==b&&b.idOrganization),U=null==I||null===(k=I.board)||void 0===k?void 0:k.enterpriseOwned,H=((null==I||null===(w=I.board)||void 0===w||null===(_=w.members)||void 0===_?void 0:_.reduce(((e,t)=>t.confirmed?e+1:e),0))||0)>=2,W=Boolean(!D&&!B&&z&&!U&&R&&!F),q=Boolean(W&&H&&(null==I||null===(O=I.member)||void 0===O?void 0:O.confirmed)),$=Boolean(W&&!q&&!H&&Jt.featureFlagClient.get("btg.block-teamless-boards",!1)),G=Object(Gt.d)(new URL(a||window.location.href).pathname),K=(null==I||null===(E=I.member)||void 0===E?void 0:E.oneTimeMessagesDismissed)||[L],Z=!(!(q&&t&&G)||K.includes(L)),J=function(e){const t=Object(n.useRef)();return Object(n.useEffect)((()=>{t.current=e}),[e]),t.current}(z);Object(n.useEffect)((()=>{J&&!z&&S&&!N&&l.a.show("teamless-board-added-to-team","info","board",5e3)}),[z,S,J,N]);const Q=q||S;return r.a.createElement(u.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}},Q&&r.a.createElement(Rt,{autoShow:Z,boardId:e,IntroScreen:ti,isBoardTeamless:z,onCreateTeamSuccess:i,onSelectTeamSuccess:()=>P(!0),onHide:t=>{T(!1),t===d.a.CLICK_CLOSE_BUTTON&&A({variables:{messageId:"WorkspacesPreamblePrompt-".concat(e)}})},onShow:()=>{T(!0),vt.Analytics.sendScreenEvent({name:"workspacesPreambleAddToTeamInlineDialog",containers:{board:{id:e}}}),Object(ft.trackUe)({category:ft.Noun.BOARD_VIEW,verb:ft.Verb.VIEWS,directObj:ft.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_PROMPT,context:{boardId:e}})},successAnalyticDirectObj:ft.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_PROMPT,successAnalyticSource:"workspacesPreambleAddToTeamInlineDialog",TriggerButton:ei}),$&&r.a.createElement(Rt,{boardId:e,IntroScreen:ti,isBoardTeamless:z,onCreateTeamSuccess:i,TriggerButton:Xt}),!Q&&!$&&r.a.createElement("a",{className:s()("board-header-btn board-header-btn-without-icon js-add-board-to-team",{"no-edit":!R})},r.a.createElement("span",{className:"board-header-btn-text"},Qt("personal"))))};function ni(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ri(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(i),!0).forEach((function(t){ai(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ni(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ai(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const si={context:{operationName:"WorkspacesPreambleBoardInviteButton"}},oi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardInviteButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"enterprises"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};var li=i("./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less"),ci=i.n(li);const di=Object(re.forTemplate)("board_header"),ui=Object(re.forNamespace)("workspaces preamble"),pi=Object(n.forwardRef)((({boardId:e,onClick:t},i)=>r.a.createElement("a",{className:"board-header-btn board-header-btn-invite board-header-btn-without-icon",title:di("invite-to-board"),onClick:()=>{vt.Analytics.sendClickedButtonEvent({buttonName:"workspacesPreambleBoardInviteButton",source:"boardScreen",containers:{board:{id:e}}}),Object(ft.trackUe)({category:ft.Noun.BOARD_VIEW,verb:ft.Verb.CLICKS,directObj:ft.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_BUTTON,context:{boardId:e}}),t()},ref:i,role:"button"},r.a.createElement("span",{className:"board-header-btn-text"},di("invite"))))),mi=({buttonCopy:e,onButtonClick:t})=>r.a.createElement("div",{className:ci.a.workspacesPreamblePromptInviteIntro},r.a.createElement("img",{src:i("./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.png"),alt:"",role:"presentation"}),r.a.createElement("h2",{className:ci.a.workspacesPreamblePromptInviteIntroTitle},ui("prompt-heading-invite-time-for-a-workspace")),r.a.createElement("p",null,ui("prompt-paragraph-invite-workspaces-make-collaboration-easier")),r.a.createElement(c.Button,{appearance:"primary",className:ci.a.workspacesPreamblePromptInviteIntroContinueButton,"data-test-id":kt.WorkSpacesPreambleTestIds.WorkspacesPreambleCreateTeamButton,onClick:t,shouldFitContainer:!0},e)),hi=({boardId:e,onSuccess:t})=>{var i,n,a,s,o,l,c,d,h,g;const{data:b}=function(e){const t=ri(ri({},si),e);return m.useQuery(oi,t)}({variables:{boardId:e}}),f=null==b||null===(i=b.member)||void 0===i?void 0:i.id,v=null==b||null===(n=b.board)||void 0===n||null===(a=n.memberships)||void 0===a?void 0:a.find((e=>e.idMember===f)),k=null==b||null===(s=b.board)||void 0===s?void 0:s.enterpriseOwned,y="admin"===(null==v?void 0:v.memberType),w=!(null==b||null===(o=b.member)||void 0===o||null===(l=o.enterprises)||void 0===l||!l.length),j=!(null!=b&&null!==(c=b.board)&&void 0!==c&&c.idOrganization),x=1===(null==b||null===(d=b.board)||void 0===d||null===(h=d.members)||void 0===h?void 0:h.length),C=!(!(y&&j&&x)||k||w||null==b||null===(g=b.member)||void 0===g||!g.confirmed);return r.a.createElement(u.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}},C?r.a.createElement(Rt,{boardId:e,IntroScreen:mi,onCreateTeamSuccess:t,onSelectTeamSuccess:t,onShow:()=>{vt.Analytics.sendScreenEvent({name:"workspacesPreambleBoardInviteInlineDialog",containers:{board:{id:e}}}),Object(ft.trackUe)({category:ft.Noun.BOARD_VIEW,verb:ft.Verb.VIEWS,directObj:ft.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_PROMPT,context:{boardId:e}})},successAnalyticDirectObj:ft.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_PROMPT,successAnalyticSource:"workspacesPreambleBoardInviteInlineDialog",TriggerButton:pi}):r.a.createElement("a",{className:"board-header-btn board-header-btn-invite board-header-btn-without-icon js-open-manage-board-members",title:di("invite-to-board")},r.a.createElement("span",{className:"board-header-btn-text"},di("invite"))))};function gi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function bi(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(i),!0).forEach((function(t){fi(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gi(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function fi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const vi={context:{operationName:"WorkspacesPreambleChangeTeamButton"}},ki={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleChangeTeamButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"}}]}}]}}]}}]};var yi=i("./app/src/components/WorkspacesPreamble/WorkspacesPreambleChangeTeamButton.less"),wi=i.n(yi);const ji=Object(re.forTemplate)("board_menu_settings"),xi=Object(re.forNamespace)("workspaces preamble"),Ci=()=>{},_i=Object(n.forwardRef)((({onClick:e},t)=>r.a.createElement("a",{className:wi.a.workspacesPreambleChangeTeamButton,onClick:e,ref:t,role:"button"},xi("board-settings-change-team-button")))),Oi=({buttonCopy:e,onButtonClick:t})=>r.a.createElement("div",{className:wi.a.workspacesPreambleChangeTeamButtonIntro},r.a.createElement("img",{src:i("./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-image.png"),alt:"",role:"presentation"}),r.a.createElement("h2",{className:wi.a.workspacesPreambleChangeTeamButtonIntroTitle},xi("prompt-heading")),r.a.createElement("p",null,xi("prompt-paragraph-workspaces-make-it-easy")),r.a.createElement(c.Button,{appearance:"primary",className:wi.a.workspacesPreambleChangeTeamButtonContinueButton,onClick:t,shouldFitContainer:!0},e)),Ei=({boardId:e})=>{var t,i,n,a,o;const{data:l}=function(e){const t=bi(bi({},vi),e);return m.useQuery(ki,t)}({variables:{boardId:e},skip:!C.memberId}),c=$t(),d=null==l||null===(t=l.board)||void 0===t||null===(i=t.memberships)||void 0===i?void 0:i.find((e=>e.idMember===C.memberId)),h="admin"===(null==d?void 0:d.memberType),g=!(null!=l&&null!==(n=l.board)&&void 0!==n&&n.idOrganization),b=null==l||null===(a=l.board)||void 0===a||null===(o=a.organization)||void 0===o?void 0:o.displayName,f=Boolean(h&&g&&!c);return r.a.createElement(u.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}},f?r.a.createElement(Rt,{boardId:e,IntroScreen:Oi,TriggerButton:_i,onCreateTeamSuccess:Ci}):r.a.createElement("a",{className:s()("js-change-org",{disabled:!h,[wi.a.workspacesPreambleChangeTeamButtonDisabled]:!h},wi.a.workspacesPreambleChangeTeamButton)},ji("change-organization-ellipsis"),b&&r.a.createElement("span",{className:wi.a.workspacesPreambleChangeTeamButtonTeamName},b)))}},"./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js":function(e,t,i){"use strict";t.a=function(e){return function(t){return function(i){var n=i(t),r=n.clone();return r&&r.fire(e),n}}}},"./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js":function(e,t,i){"use strict";var n=i("./node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),r=i("./node_modules/react/index.js"),a=i.n(r),s=i("./node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsContext.js");t.a=function(e){return function(t){var i=a.a.forwardRef((function(i,r){var o=i.analyticsContext,l=void 0===o?{}:o,c=Object(n.c)(i,["analyticsContext"]),d=Object(n.a)(Object(n.a)({},e),l);return a.a.createElement(s.a,{data:d},a.a.createElement(t,Object(n.a)({},c,{ref:r})))}));return i.displayName="WithAnalyticsContext("+(t.displayName||t.name)+")",i}}},"./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js":function(e,t,i){"use strict";var n=i("./node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),r=i("./node_modules/react/index.js"),a=i.n(r),s=i("./node_modules/prop-types/index.js"),o=i.n(s),l=function(e){function t(i){var r=e.call(this,i)||this;return r.clone=function(){return r.hasFired?(console.warn("Cannot clone an event after it's been fired."),null):new t({context:Object(n.d)(r.context),handlers:Object(n.d)(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})},r.fire=function(e){r.hasFired?console.warn("Cannot fire an event twice."):(r.handlers.forEach((function(t){return t(r,e)})),r.hasFired=!0)},r.context=i.context||[],r.handlers=i.handlers||[],r.hasFired=!1,r}return Object(n.b)(t,e),t.prototype.update=function(t){return this.hasFired?(console.warn("Cannot update an event after it's been fired."),this):e.prototype.update.call(this,t)},t}(function(){function e(t){var i=this;this.clone=function(){return new e({payload:JSON.parse(JSON.stringify(i.payload))})},this.payload=t.payload}return e.prototype.update=function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"==typeof e&&(this.payload=Object(n.a)(Object(n.a)({},this.payload),e)),this},e}()),c=function(e){function t(t){var i=e.call(this,t)||this;return i.originalEventProps={},i.patchedEventProps={},i.updatePatchedEventProps=function(e){var t=Object.keys(i.props.createEventMap).filter((function(t){return i.originalEventProps[t]!==e[t]}));return t.length>0&&(i.patchedEventProps=Object(n.a)(Object(n.a)({},i.patchedEventProps),i.mapCreateEventsToProps(t,e)),t.forEach((function(t){i.originalEventProps[t]=e[t]}))),i.patchedEventProps},i.mapCreateEventsToProps=function(e,t){return e.reduce((function(e,r){var a,s=i.props.createEventMap[r],o=t[r];if(!["object","function"].includes(typeof s))return e;return Object(n.a)(Object(n.a)({},e),((a={})[r]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var a="function"==typeof s?s(i.createAnalyticsEvent,t):i.createAnalyticsEvent(s);o&&o.apply(void 0,Object(n.d)(e,[a]))},a))}),{})},i.createAnalyticsEvent=function(e){var t=i.context,n=t.getAtlaskitAnalyticsEventHandlers,r=t.getAtlaskitAnalyticsContext;return new l({context:"function"==typeof r&&r()||[],handlers:"function"==typeof n&&n()||[],payload:e})},Object.keys(i.props.createEventMap).forEach((function(e){i.originalEventProps[e]=t.wrappedComponentProps[e]})),i.patchedEventProps=i.mapCreateEventsToProps(Object.keys(i.props.createEventMap),t.wrappedComponentProps),i}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})},t.contextTypes={getAtlaskitAnalyticsEventHandlers:o.a.func,getAtlaskitAnalyticsContext:o.a.func},t.defaultProps={createEventMap:{}},t}(a.a.Component);t.a=function(e){return function(t){var i=a.a.forwardRef((function(i,r){return a.a.createElement(c,{createEventMap:e,wrappedComponentProps:i},(function(e){var s=e.createAnalyticsEvent,o=e.patchedEventProps;return a.a.createElement(t,Object(n.a)({},i,o,{createAnalyticsEvent:s,ref:r}))}))}));return i.displayName="WithAnalyticsEvents("+(t.displayName||t.name)+")",i}}},"./node_modules/@atlaskit/tooltip/dist/esm/version.json":function(e,t){e.exports={name:"@atlaskit/tooltip",version:"16.0.0",sideEffects:!1}},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@researchgate/react-intersection-list/lib/es/index.js":function(e,t,i){"use strict";i.d(t,"a",(function(){return L}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=(i("./node_modules/prop-types/index.js"),i("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js")),s=i("./node_modules/warning/warning.js"),o=i.n(s),l=i("./node_modules/react-dom/index.js");i("./node_modules/invariant/browser.js"),i("./node_modules/@researchgate/react-intersection-list/node_modules/@researchgate/react-intersection-observer/node_modules/warning/browser.js");function c(e){return r.a.isValidElement(e)&&"string"==typeof e.type}var d=/^-?\d*\.?\d+(px|%)$/;function u(e){var t=(e?e.trim():"0px").split(/\s+/).map((function(e){if(!d.test(e))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return e})),i=t[0],n=void 0===i?"0px":i,r=t[1],a=void 0===r?n:r,s=t[2],o=void 0===s?n:s,l=t[3];return n+" "+a+" "+o+" "+(void 0===l?a:l)}function p(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.some((function(i,n){return p(e[n],t[n])})):e!==t}var m=new Map;function h(e,t){var i=m.get(e);if(i)for(var n=i.values(),r=void 0;r=n.next().value;)if(r.target===t.target)return r;return null}function g(e,t){for(var i=0;i<e.length;i++){var n=h(t,e[i]);n&&n.handleChange(e[i])}}function b(e){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.root||null,i=u(e.rootMargin),n=Array.isArray(e.threshold)?e.threshold:[null!=e.threshold?e.threshold:0],r=m.keys(),a=void 0;a=r.next().value;){if(!(t!==a.root||i!==a.rootMargin||p(n,a.thresholds)))return a}return null}(e)||new IntersectionObserver(g,e)}function f(e){m.has(e.observer)||m.set(e.observer,new Set),m.get(e.observer).add(e),e.observer.observe(e.target)}function v(e){if(m.has(e.observer)){var t=m.get(e.observer);t.delete(e)&&(t.size>0?e.observer.unobserve(e.target):(e.observer.disconnect(),m.delete(e.observer)))}}var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var x=["root","rootMargin","threshold"],C=["disabled"].concat(x),_=Object.prototype,O=function(e){function t(){var i,n;w(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return i=n=j(this,e.call.apply(e,[this].concat(a))),n.handleChange=function(e){n.props.onChange(e,n.unobserve),n.props.onlyOnce&&e.isIntersecting&&n.unobserve()},n.handleNode=function(e){var t=n.props.children.ref;t&&("function"==typeof t?t(e):"object"===(void 0===t?"undefined":k(t))&&(t.current=e)),n.targetChanged=null!=(n.renderedTarget&&e)&&n.renderedTarget!==e,n.targetChanged&&n.unobserve(),n.target=e},n.observe=function(){n.target=c(n.target)?n.target:Object(l.findDOMNode)(n.target),n.observer=b(n.options),f(n)},n.unobserve=function(){null!=n.target&&v(n)},j(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.observe()},t.prototype.componentDidUpdate=function(e){var t=this,i=C.some((function(i){return p(t.props[i],e[i])}));i&&this.unobserve(),(this.targetChanged||i)&&(this.props.disabled||this.observe())},t.prototype.componentWillUnmount=function(){this.unobserve()},t.prototype.render=function(){return this.renderedTarget=this.target,r.a.cloneElement(r.a.Children.only(this.props.children),{ref:this.handleNode})},y(t,[{key:"options",get:function(){var e=this;return x.reduce((function(t,i){if(_.hasOwnProperty.call(e.props,i)){var n="root"===i&&"[object String]"===_.toString.call(e.props[i]);t[i]=n?document.querySelector(e.props[i]):e.props[i]}return t}),{})}}]),t}(r.a.Component);O.displayName="IntersectionObserver";var E=O;function S(e){var t=e.threshold,i=e.axis,n=[t],r="0"+(t.match(/^-?\d*\.?\d+(px|%)$/)||[""]).pop();return"y"===i?n.push(r):n.unshift(r),n.join(" ")}function T(e,t){return Math.max(0,Math.min(e,t))}var N=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i));return n.setRootElement=function(e){n.setState({rootElement:e})},n.state={rootElement:void 0,rootMargin:S(i)},n.target=r.a.createElement("span",{style:{height:1,width:1,display:"block"}}),i.setRef(n.setRootElement),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var i=e.threshold,n=e.axis,r=null;return i===t.threshold&&n===t.axis||(r={threshold:i,axis:n,rootMargin:S({threshold:i,axis:n})}),r},t.prototype.shouldComponentUpdate=function(e,t){var i=t.rootMargin,n=t.rootElement,r=this.state,a=r.rootMargin,s=r.rootElement;return a!==i||s!==n||(this.element.unobserve(),this.element.observe(),!1)},t.prototype.render=function(){var e=this,t=this.props.onChange,i=this.state,n=i.rootElement,a=i.rootMargin;return r.a.createElement(E,{ref:function(t){e.element=t},disabled:void 0===n,root:n,rootMargin:a,onChange:t},this.target)},t}(n.Component);Object(a.polyfill)(N);var P=N;function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var D={x:"overflowX",y:"overflowY"},A=function(e){function t(){var i,n;I(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return i=n=B(this,e.call.apply(e,[this].concat(a))),n.state={size:0},n.setRef=function(e){var t=void 0;n.setRootNode=function(i){if(i!==t){t=i;var r=window.getComputedStyle(i)[D[n.props.axis]];e(-1!==["auto","scroll","overlay"].indexOf(r)?i:null)}}},n.handleUpdate=function(e){var t=e.isIntersecting,i=n.props,r=i.awaitMore,a=i.onIntersection,s=n.state,l=s.size,c=s.itemCount,d=s.pageSize;if(n.prematureIntersectionChecked||(n.prematureIntersectionChecked=!0,o()(!t,"ReactIntersectionList: the sentinel detected a viewport with a bigger size than the size of its items. This could lead to detrimental behavior, e.g.: triggering more than one onIntersection callback at the start.\nTo prevent this, use either a bigger `pageSize` value or avoid using the prop awaitMore initially.")),t){var u=T(l+d,c);l!==u&&n.setState({size:u}),!a||r&&!n.awaitIntersection||(n.awaitIntersection&&(n.awaitIntersection=!1),a(u,d))}},B(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var i=e.pageSize,n=function(e,t){var i=e.itemCount,n=e.items,r=void 0!==i,a=void 0!==n;return t&&o()(!(r&&a),"ReactIntersectionList: cannot use itemCount and items props at the same time, choose one to determine the number of items to render."),r?i:a&&(n.length||n.size)||0}(function(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}(e,["pageSize"]),!0);return{pageSize:i,itemCount:n,size:T(0===t.size?i:t.itemCount<n?t.size+i:t.size+-(t.pageSize-i),n)}},t.prototype.componentDidMount=function(){this.prematureIntersectionChecked=0===this.state.size},t.prototype.getItemRenderer=function(){var e=this.props,t=e.children,i=e.renderItem,n=void 0!==t,a=void 0!==i;return o()(!(n&&a),"ReactIntersectionList: cannot use children and renderItem props as render function at the same time."),n?t:a?i:function(e,t){return r.a.createElement("div",{key:t},e)}},t.prototype.renderItems=function(){for(var e=this,t=this.props,i=t.awaitMore,n=t.axis,a=t.initialIndex,s=t.itemsRenderer,o=t.threshold,l=this.state,c=l.size,d=l.itemCount,u=this.getItemRenderer(),p=[],m=0;m<c;++m)p.push(u(a+m,m));var h=void 0;return(c<d||i)&&(h=r.a.createElement(P,{key:"sentinel",threshold:o,axis:n,setRef:this.setRef,onChange:this.handleUpdate}),p.push(h),i&&(this.awaitIntersection=!0)),s(p,(function(t){t&&h&&e.setRootNode(t)}))},t.prototype.render=function(){return this.renderItems()},t}(n.PureComponent);A.defaultProps={axis:"y",initialIndex:0,itemsRenderer:function(e,t){return r.a.createElement("div",{ref:t},e)},pageSize:10,threshold:"100px"},Object(a.polyfill)(A);var L=A},"./node_modules/@researchgate/react-intersection-list/node_modules/@researchgate/react-intersection-observer/node_modules/warning/browser.js":function(e,t,i){"use strict";e.exports=function(){}},"./node_modules/asap/browser-asap.js":function(e,t,i){"use strict";var n=i("./node_modules/asap/browser-raw.js"),r=[],a=[],s=n.makeRequestCallFromTimer((function(){if(a.length)throw a.shift()}));function o(e){var t;(t=r.length?r.pop():new l).task=e,n(t)}function l(){this.task=null}e.exports=o,l.prototype.call=function(){try{this.task.call()}catch(e){o.onerror?o.onerror(e):(a.push(e),s())}finally{this.task=null,r[r.length]=this}}},"./node_modules/asap/browser-raw.js":function(e,t,i){"use strict";(function(t){function i(e){r.length||(n(),!0),r[r.length]=e}e.exports=i;var n,r=[],a=0;function s(){for(;a<r.length;){var e=a;if(a+=1,r[e].call(),a>1024){for(var t=0,i=r.length-a;t<i;t++)r[t]=r[t+a];r.length-=a,a=0}}r.length=0,a=0,!1}var o,l,c,d=void 0!==t?t:self,u=d.MutationObserver||d.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(n,0),i=setInterval(n,50);function n(){clearTimeout(t),clearInterval(i),e()}}}"function"==typeof u?(o=1,l=new u(s),c=document.createTextNode(""),l.observe(c,{characterData:!0}),n=function(){o=-o,c.data=o}):n=p(s),i.requestFlush=n,i.makeRequestCallFromTimer=p}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./node_modules/create-emotion/dist/index.esm.js":function(e,t,i){"use strict";var n=function(e){var t={};return function(i){return void 0===t[i]&&(t[i]=e(i)),t[i]}},r={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var a=function(e){for(var t,i=e.length,n=i^i,r=0;i>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+((1540483477*(t>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),i-=4,++r;switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+((1540483477*(n>>>16)&65535)<<16)}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),((n^=n>>>15)>>>0).toString(36)};var s=function(e){function t(e,n,l,c,p){for(var m,h,g,b,y,j=0,x=0,C=0,_=0,O=0,I=0,D=g=m=0,L=0,F=0,M=0,V=0,R=l.length,z=R-1,U="",H="",W="",q="";L<R;){if(h=l.charCodeAt(L),L===z&&0!==x+_+C+j&&(0!==x&&(h=47===x?10:47),_=C=j=0,R++,z++),0===x+_+C+j){if(L===z&&(0<F&&(U=U.replace(u,"")),0<U.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(L)}h=59}switch(h){case 123:for(m=(U=U.trim()).charCodeAt(0),g=1,V=++L;L<R;){switch(h=l.charCodeAt(L)){case 123:g++;break;case 125:g--;break;case 47:switch(h=l.charCodeAt(L+1)){case 42:case 47:e:{for(D=L+1;D<z;++D)switch(l.charCodeAt(D)){case 47:if(42===h&&42===l.charCodeAt(D-1)&&L+2!==D){L=D+1;break e}break;case 10:if(47===h){L=D+1;break e}}L=D}}break;case 91:h++;case 40:h++;case 34:case 39:for(;L++<z&&l.charCodeAt(L)!==h;);}if(0===g)break;L++}switch(g=l.substring(V,L),0===m&&(m=(U=U.replace(d,"").trim()).charCodeAt(0)),m){case 64:switch(0<F&&(U=U.replace(u,"")),h=U.charCodeAt(1)){case 100:case 109:case 115:case 45:F=n;break;default:F=P}if(V=(g=t(n,F,g,h,p+1)).length,0<B&&(y=o(3,g,F=i(P,U,M),n,S,E,V,h,p,c),U=F.join(""),void 0!==y&&0===(V=(g=y.trim()).length)&&(h=0,g="")),0<V)switch(h){case 115:U=U.replace(w,s);case 100:case 109:case 45:g=U+"{"+g+"}";break;case 107:g=(U=U.replace(f,"$1 $2"))+"{"+g+"}",g=1===N||2===N&&a("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=U+g,112===c&&(H+=g,g="")}else g="";break;default:g=t(n,i(n,U,M),g,c,p+1)}W+=g,g=M=F=D=m=0,U="",h=l.charCodeAt(++L);break;case 125:case 59:if(1<(V=(U=(0<F?U.replace(u,""):U).trim()).length))switch(0===D&&(m=U.charCodeAt(0),45===m||96<m&&123>m)&&(V=(U=U.replace(" ",":")).length),0<B&&void 0!==(y=o(1,U,n,e,S,E,H.length,c,p,c))&&0===(V=(U=y.trim()).length)&&(U="\0\0"),m=U.charCodeAt(0),h=U.charCodeAt(1),m){case 0:break;case 64:if(105===h||99===h){q+=U+l.charAt(L);break}default:58!==U.charCodeAt(V-1)&&(H+=r(U,m,h,U.charCodeAt(2)))}M=F=D=m=0,U="",h=l.charCodeAt(++L)}}switch(h){case 13:case 10:47===x?x=0:0===1+m&&107!==c&&0<U.length&&(F=1,U+="\0"),0<B*A&&o(0,U,n,e,S,E,H.length,c,p,c),E=1,S++;break;case 59:case 125:if(0===x+_+C+j){E++;break}default:switch(E++,b=l.charAt(L),h){case 9:case 32:if(0===_+j+x)switch(O){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===_+x+j&&(F=M=1,b="\f"+b);break;case 108:if(0===_+x+j+T&&0<D)switch(L-D){case 2:112===O&&58===l.charCodeAt(L-3)&&(T=O);case 8:111===I&&(T=I)}break;case 58:0===_+x+j&&(D=L);break;case 44:0===x+C+_+j&&(F=1,b+="\r");break;case 34:case 39:0===x&&(_=_===h?0:0===_?h:_);break;case 91:0===_+x+C&&j++;break;case 93:0===_+x+C&&j--;break;case 41:0===_+x+j&&C--;break;case 40:if(0===_+x+j){if(0===m)switch(2*O+3*I){case 533:break;default:m=1}C++}break;case 64:0===x+C+_+j+D+g&&(g=1);break;case 42:case 47:if(!(0<_+j+C))switch(x){case 0:switch(2*h+3*l.charCodeAt(L+1)){case 235:x=47;break;case 220:V=L,x=42}break;case 42:47===h&&42===O&&V+2!==L&&(33===l.charCodeAt(V+2)&&(H+=l.substring(V,L+1)),b="",x=0)}}0===x&&(U+=b)}I=O,O=h,L++}if(0<(V=H.length)){if(F=n,0<B&&(void 0!==(y=o(2,H,F,e,S,E,V,c,p,c))&&0===(H=y).length))return q+H+W;if(H=F.join(",")+"{"+H+"}",0!=N*T){switch(2!==N||a(H,2)||(T=0),T){case 111:H=H.replace(k,":-moz-$1")+H;break;case 112:H=H.replace(v,"::-webkit-input-$1")+H.replace(v,"::-moz-$1")+H.replace(v,":-ms-input-$1")+H}T=0}}return q+H+W}function i(e,t,i){var r=t.trim().split(g);t=r;var a=r.length,s=e.length;switch(s){case 0:case 1:var o=0;for(e=0===s?"":e[0]+" ";o<a;++o)t[o]=n(e,t[o],i).trim();break;default:var l=o=0;for(t=[];o<a;++o)for(var c=0;c<s;++c)t[l++]=n(e[c]+" ",r[o],i).trim()}return t}function n(e,t,i){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(b,"$1"+e.trim());case 58:return e.trim()+t.replace(b,"$1"+e.trim());default:if(0<1*i&&0<t.indexOf("\f"))return t.replace(b,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,i,n){var s=e+";",o=2*t+3*i+4*n;if(944===o){e=s.indexOf(":",9)+1;var l=s.substring(e,s.length-1).trim();return l=s.substring(0,e).trim()+l+";",1===N||2===N&&a(l,1)?"-webkit-"+l+l:l}if(0===N||2===N&&!a(s,1))return s;switch(o){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(O,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(l=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+l+s;case 1005:return m.test(s)?s.replace(p,":-webkit-")+s.replace(p,":-moz-")+s:s;case 1e3:switch(t=(l=s.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=s.replace(y,"tb");break;case 232:l=s.replace(y,"tb-rl");break;case 220:l=s.replace(y,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+l+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(t=(s=e).length-10,o=(l=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:s=s.replace(l,"-webkit-"+l)+";"+s;break;case 207:case 102:s=s.replace(l,"-webkit-"+(102<o?"inline-":"")+"box")+";"+s.replace(l,"-webkit-"+l)+";"+s.replace(l,"-ms-"+l+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return l=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+l+"-ms-flex-"+l+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(x,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(x,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,i,n).replace(":fill-available",":stretch"):s.replace(l,"-webkit-"+l)+s.replace(l,"-moz-"+l.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===i+n&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+s}return s}function a(e,t){var i=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?i:10);return i=e.substring(i+1,e.length-1),D(2!==t?n:n.replace(C,"$1"),i,t)}function s(e,t){var i=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return i!==t+";"?i.replace(j," or ($1)").substring(4):"("+t+")"}function o(e,t,i,n,r,a,s,o,l,d){for(var u,p=0,m=t;p<B;++p)switch(u=I[p].call(c,e,m,i,n,r,a,s,o,l,d)){case void 0:case!1:case!0:case null:break;default:m=u}if(m!==t)return m}function l(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?N=1:(N=2,D=e):N=0),l}function c(e,i){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<B){var r=o(-1,i,n,n,S,E,0,0,0,0);void 0!==r&&"string"==typeof r&&(i=r)}var a=t(P,n,i,0,0);return 0<B&&(void 0!==(r=o(-2,a,n,n,S,E,a.length,0,0,0))&&(a=r)),"",T=0,E=S=1,a}var d=/^\0+/g,u=/[\0\r\f]/g,p=/: */g,m=/zoo|gra/,h=/([,: ])(transform)/g,g=/,\r+?/g,b=/([\t\r\n ])*\f?&/g,f=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,k=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,j=/([\s\S]*?);/g,x=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,E=1,S=1,T=0,N=1,P=[],I=[],B=0,D=null,A=0;return c.use=function e(t){switch(t){case void 0:case null:B=I.length=0;break;default:switch(t.constructor){case Array:for(var i=0,n=t.length;i<n;++i)e(t[i]);break;case Function:I[B++]=t;break;case Boolean:A=0|!!t}}return e},c.set=l,void 0!==e&&l(e),c},o=i("./node_modules/stylis-rule-sheet/index.js"),l=i.n(o),c=/[A-Z]|^ms/g,d=n((function(e){return e.replace(c,"-$&").toLowerCase()})),u=function(e,t){return null==t||"boolean"==typeof t?"":1===r[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},p=function e(t){for(var i=t.length,n=0,r="";n<i;n++){var a=t[n];if(null!=a){var s=void 0;switch(typeof a){case"boolean":break;case"function":0,s=e([a()]);break;case"object":if(Array.isArray(a))s=e(a);else for(var o in s="",a)a[o]&&o&&(s&&(s+=" "),s+=o);break;default:s=a}s&&(r&&(r+=" "),r+=s)}}return r},m="undefined"!=typeof document;function h(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var g=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=h(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{i.insertRule(e,i.cssRules.length)}catch(e){0}}else{var n=h(this.opts);this.tags.push(n),n.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(h(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();t.a=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var i,n,r=t.key||"css",o=l()((function(e){i+=e,m&&h.insert(e,f)}));void 0!==t.prefix&&(n={prefix:t.prefix});var c={registered:{},inserted:{},nonce:t.nonce,key:r},h=new g(t);m&&h.inject();var b=new s(n);b.use(t.stylisPlugins)(o);var f="";function v(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var i=e.toString();return i}return v.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return j.call(this,e);default:var n=c.registered[e];return!1===t&&void 0!==n?n:e}}var k,y,w=new WeakMap;function j(e){if(w.has(e))return w.get(e);var t="";return Array.isArray(e)?e.forEach((function(e){t+=v.call(this,e,!1)}),this):Object.keys(e).forEach((function(i){"object"!=typeof e[i]?void 0!==c.registered[e[i]]?t+=i+"{"+c.registered[e[i]]+"}":t+=d(i)+":"+u(i,e[i])+";":Array.isArray(e[i])&&"string"==typeof e[i][0]&&void 0===c.registered[e[i][0]]?e[i].forEach((function(e){t+=d(i)+":"+u(i,e)+";"})):t+=i+"{"+v.call(this,e[i],!1)+"}"}),this),w.set(e,t),t}var x=/label:\s*([^\s;\n{]+)\s*;/g,C=function(e,t){return a(e+t)+t},_=function(e){var t=!0,i="",n="";null==e||void 0===e.raw?(t=!1,i+=v.call(this,e,!1)):i+=e[0];for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return a.forEach((function(n,r){i+=v.call(this,n,46===i.charCodeAt(i.length-1)),!0===t&&void 0!==e[r+1]&&(i+=e[r+1])}),this),y=i,i=i.replace(x,(function(e,t){return n+="-"+t,""})),k=C(i,n),i};function O(e,t){void 0===c.inserted[k]&&(i="",b(e,t),c.inserted[k]=i)}var E=function(){var e=_.apply(this,arguments),t=r+"-"+k;return void 0===c.registered[t]&&(c.registered[t]=y),O("."+t,e),t};function S(e,t){var i="";return t.split(" ").forEach((function(t){void 0!==c.registered[t]?e.push(t):i+=t+" "})),i}function T(e,t){var i=[],n=S(i,e);return i.length<2?e:n+E(i,t)}function N(e){c.inserted[e]=!0}if(m){var P=document.querySelectorAll("[data-emotion-"+r+"]");Array.prototype.forEach.call(P,(function(e){h.tags[0].parentNode.insertBefore(e,h.tags[0]),e.getAttribute("data-emotion-"+r).split(" ").forEach(N)}))}var I={flush:function(){m&&(h.flush(),h.inject()),c.inserted={},c.registered={}},hydrate:function(e){e.forEach(N)},cx:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return T(p(t))},merge:T,getRegisteredStyles:S,injectGlobal:function(){var e=_.apply(this,arguments);O("",e)},keyframes:function(){var e=_.apply(this,arguments),t="animation-"+k;return O("","@keyframes "+t+"{"+e+"}"),t},css:E,sheet:h,caches:c};return e.__SECRET_EMOTION__=I,I}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2KpZMYSiDizjEs{height:20px;border-radius:3px;display:flex;align-items:center;justify-content:center;flex-direction:column;overflow:hidden;width:70%;margin:0 auto}._2KpZMYSiDizjEs:before{content:"";display:block;width:100%}._3Zo5oGEJ9Enqr7:before{border-top:2px solid #c1c7d0}',""]),t.locals={separatorCard:"_2KpZMYSiDizjEs",singleHorizontalLine:"_3Zo5oGEJ9Enqr7"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3FiU16_N4f26_h{display:block;text-align:center}._3FiU16_N4f26_h h4{font-size:20px;margin:20px 16px 24px}._3FiU16_N4f26_h p{font-size:16px;margin:0 0 8px}",""]),t.locals={errorMessage:"_3FiU16_N4f26_h"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._3zAOR6yRAJtv2O{padding-right:5px;padding-left:5px;float:left;display:inline-flex;margin-right:4px;white-space:nowrap}.Bh8V25z8qgXEvC{padding:0 0 0 2px}.Bh8V25z8qgXEvC,.p79gXqHEcHgikU{display:inline-flex;height:100%;width:100%}.p79gXqHEcHgikU{justify-content:center;align-items:center;flex-direction:row}.egbi9YS0G-E0eH{margin:0 2px;display:inline-flex;height:100%;position:relative;z-index:1}.egbi9YS0G-E0eH,.egbi9YS0G-E0eH:before{width:100%;justify-content:center;align-items:center;border-color:#fff}.egbi9YS0G-E0eH:before{content:"";background-color:#fff;height:80%;border-radius:32px;position:absolute;z-index:-1;animation-name:baln0Ylyg-DrYP;animation-duration:2s;animation-iteration-count:infinite}@keyframes baln0Ylyg-DrYP{0%{opacity:0}50%{opacity:1%}to{opacity:0}}._3OKPLPqQC7R_Y2{opacity:1;width:100%;max-width:100%}.ZT6NyMTcax_Bsj{opacity:0;width:0;max-width:0;padding:0;transition-duration:.15s;transition-timing-function:linear}._2Q6LN2y781HPqE{height:16px;width:16px}',""]),t.locals={boardViewsButton:"_3zAOR6yRAJtv2O",boardViewsLabel:"Bh8V25z8qgXEvC",icon:"p79gXqHEcHgikU",boardViewsNewLozenge:"egbi9YS0G-E0eH",newPillPulse:"baln0Ylyg-DrYP",newPillExit:"_3OKPLPqQC7R_Y2",newPillExitActive:"ZT6NyMTcax_Bsj",pluginIcon:"_2Q6LN2y781HPqE"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButtonCallout.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3HCfQ9DJY5IThB{box-shadow:0 1px 1px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);cursor:auto;text-align:initial;background:#fff;padding:32px 16px 16px;overflow:auto;position:absolute;display:block;top:40px;left:0;white-space:normal;width:328px;box-sizing:border-box;border-radius:3px;text-rendering:geometricPrecision;z-index:10}._1Z2gmXRaGnrSU5{position:absolute;background:#fff;width:15px;height:15px;top:34px;left:20px;transform:rotate(45deg);z-index:11}._1k06T0_qCc5Fvg{display:block;position:relative;align-items:center;align-self:center;margin-left:auto;margin-right:auto}._53dbbcFWtSdOwI{color:#172b4d;font-size:16px;font-weight:600;letter-spacing:-.006em;line-height:20px;margin-top:24px;margin-top:10px;display:flex;align-items:center}.KTl1QbUq-G1s5y{color:#172b4d;font-size:14px;font-weight:400;line-height:20px}.gZI4LNJUC-xci-{position:absolute;cursor:pointer;top:4px;right:4px;background:none;padding:4px;margin:0;border:0;line-height:22px;width:22px;height:22px}.tt4zSEDE5LelWC{color:#a5adba;line-height:14px;margin-left:-1px}",""]),t.locals={boardViewsCallout:"_3HCfQ9DJY5IThB",boardViewsCalloutPointer:"_1Z2gmXRaGnrSU5",trelloViewsImage:"_1k06T0_qCc5Fvg",calloutHeaderText:"_53dbbcFWtSdOwI",calloutContentText:"KTl1QbUq-G1s5y",calloutCloseButtonWrapper:"gZI4LNJUC-xci-",calloutCloseButton:"tt4zSEDE5LelWC"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsFeedbackLink.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1nhSsMX-JEo47j{text-align:center;font-size:12px;margin:10px 0}._1nhSsMX-JEo47j .mXtlYikgYhhhIn{color:#5e6c84;display:inline-block;align-items:center;text-decoration:none;cursor:pointer}._1nhSsMX-JEo47j .mXtlYikgYhhhIn:hover{text-decoration:underline}",""]),t.locals={feedbackRequest:"_1nhSsMX-JEo47j",feedbackLink:"mXtlYikgYhhhIn"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopover.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2jlUPXOz-m1L5h{margin:2px 0 0}",""]),t.locals={lineSeparator:"_2jlUPXOz-m1L5h"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopoverUpsell/BoardViewsUpsellPrompt.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1AnwJJqqLQFihg{margin:0 20px 18px}._28ZpsOBWFggUDj{text-align:center}._28ZpsOBWFggUDj ._3F1TKfp9cGIPJx{color:#172b4d;font-size:20px;font-weight:600;letter-spacing:-.008em;line-height:24px;margin-top:28px;margin-top:12px;margin-bottom:5px}._2WDFn5x9vHNx0E{margin:15px 0}._2WDFn5x9vHNx0E ._25MyMSat-Kksso{margin-right:15px}._2WDFn5x9vHNx0E .ni5612Y4JvcGgV{display:inline-flex;margin-bottom:8px}._2WDFn5x9vHNx0E .EqCbXhsMD8E_hg{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-top:8px;margin-bottom:4px}._2WDFn5x9vHNx0E ._8OuDcKXreLYMtR{font-size:12px;line-height:16px;color:#5e6c84}.TAF72J07y6eou_{display:flex;flex-direction:column;align-items:center;text-align:center}.TAF72J07y6eou_ ._3JLPnIHdJWwH_l{margin-top:8px;color:#5e6c84}",""]),t.locals={container:"_1AnwJJqqLQFihg",header:"_28ZpsOBWFggUDj",promptHeader:"_3F1TKfp9cGIPJx",content:"_2WDFn5x9vHNx0E",viewIcon:"_25MyMSat-Kksso",view:"ni5612Y4JvcGgV",viewName:"EqCbXhsMD8E_hg",viewDescription:"_8OuDcKXreLYMtR",ctaSection:"TAF72J07y6eou_",link:"_3JLPnIHdJWwH_l"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsTeamTableLink.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3PgtSSCaXjL2_W{display:flex;text-decoration:none;text-align:center}._38Lds3HWcJBHpu{position:absolute;top:10px;left:4px}._2pQwYpQykniAfE{flex:1 0 auto;display:inline-flex}._1fA1Kw7Vuo4WJi{padding:8px 0}._3MYKbfCL4nBePc{margin-top:8px}._26aZA3XDTvrmbI{flex:0 0 auto;height:36px;width:36px}._1mtmxbD10h7Drm,._26aZA3XDTvrmbI{display:inline-flex;position:relative}._1mtmxbD10h7Drm{flex-grow:1;overflow-x:auto;overflow-y:hidden;padding:8px 0;width:100%}.SdKc7Wol2m-Lwh{position:inline-flex;min-width:0;text-decoration:none;justify-content:center;margin:0 -12px;padding:0 12px}.SdKc7Wol2m-Lwh:hover{background-color:rgba(9,30,66,.04);width:100%}.SdKc7Wol2m-Lwh:active{background-color:#e4f0f6}.SdKc7Wol2m-Lwh ._3aY6-z5kAKXD1J{margin-left:auto}",""]),t.locals={teamTableLinkTile:"_3PgtSSCaXjL2_W",tableIcon:"_38Lds3HWcJBHpu",informationalIcons:"_2pQwYpQykniAfE",betaLozenge:"_1fA1Kw7Vuo4WJi",linkIcon:"_3MYKbfCL4nBePc",tableThumbnail:"_26aZA3XDTvrmbI",tableLinkDescription:"_1mtmxbD10h7Drm",teamTableCell:"SdKc7Wol2m-Lwh","last-item":"_3aY6-z5kAKXD1J"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/PowerUpViewOptions.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".pSQZG7SPcjLQfS{height:16px;width:16px}",""]),t.locals={icon:"pSQZG7SPcjLQfS"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerBoardButtons.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._5J91cMHHfKKUXy{display:inline-block;position:absolute;top:0;left:0;padding:4px;background-origin:content-box;background-clip:content-box;background-size:16px;background-repeat:no-repeat;background-position:4px 4px;vertical-align:bottom}._3JZ1_Pthopvs4L{border-radius:3px;height:32px;margin:0 4px 4px 0;max-width:400px;padding-left:32px;position:relative}",""]),t.locals={boardButtonIcon:"_5J91cMHHfKKUXy",butlerBoardButton:"_3JZ1_Pthopvs4L"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1aVHZezUaujAku{display:inline-block;width:20px;height:20px}",""]),t.locals={icon:"_1aVHZezUaujAku"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButtons.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3zv98wwVOVa6fE{display:flex;justify-content:space-between}@media only screen and (max-width:750px){._3zv98wwVOVa6fE{justify-content:flex-start}}._1OsMT4LOi8yCME{margin-top:-2px;padding:2px;height:22px}@media only screen and (max-width:750px){._1OsMT4LOi8yCME{margin-left:16px;width:unset!important}}._18rsRjuvO59v-n{border-bottom:1px solid rgba(9,30,66,.13);margin-bottom:16px;padding-bottom:4px}._1giyxcCJc2JOkA{margin-top:4px;text-align:center}._35bHqZrbL5Q2sG{color:#8993a4}._35bHqZrbL5Q2sG:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._35bHqZrbL5Q2sG:focus{outline:5px auto -webkit-focus-ring-color}}._35bHqZrbL5Q2sG:hover{color:#5e6c84}._3BjVxknVgFP-fD{display:inline;cursor:pointer}",""]),t.locals={header:"_3zv98wwVOVa6fE",informationIcon:"_1OsMT4LOi8yCME",aboutButlerPopoverContent:"_18rsRjuvO59v-n",feedbackLinkContainer:"_1giyxcCJc2JOkA",feedbackLink:"_35bHqZrbL5Q2sG",betaLozenge:"_3BjVxknVgFP-fD"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/AvailableActions.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3CyaaoeFzUnxij{display:grid;grid-template-columns:16px [inset] calc(50% - 16px - 8px / 2) [thread] 8px 1fr;margin-top:16px;margin-bottom:16px}._1ZYD9DG9X4eiyg,.kMf6YFo8YNHhxK,.tF99wyxvH_yUep{grid-column:1/-1;padding:8px;border-radius:3px;box-shadow:0 1px 6px rgba(9,30,66,.13)}.kMf6YFo8YNHhxK{grid-column-start:inset}._1YsrBItJWXZ2Ui{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;grid-column:1/thread;margin-top:0;margin-bottom:8px;align-self:end}hr._1fqhI5c2zlWRUD{grid-column:thread;margin:0 auto;width:1px;background-color:#dfe1e6}hr._1pzaGxRwIW2r7t{height:8px}hr._3ju5XB3S_nOkv5{height:16px}hr._2Z4g9mHwkZ8Uc1{height:32px}.Hn3_WkGfuoY4vC{grid-column:1/-1;margin:0}._3uwGW_jSboPHfx{display:flex;flex-wrap:wrap;align-items:center;font-size:14px;line-height:28px;color:#172b4d}._1_j6F10y32zsGn{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;width:100%}._1Zf_lTmREF1rL7{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;display:flex;align-items:center;margin-top:0;font-size:10px;font-weight:700}.tF99wyxvH_yUep ._1Zf_lTmREF1rL7{color:#519839}.kMf6YFo8YNHhxK ._1Zf_lTmREF1rL7{color:#96650a}._1ZYD9DG9X4eiyg ._1Zf_lTmREF1rL7{color:#055a8c}.body-color-blind-mode-enabled ._1Zf_lTmREF1rL7,.body-color-blind-mode-enabled~div ._1Zf_lTmREF1rL7{color:#5e6c84}._3AYvmHk0Mm53DN{margin-right:4px;padding:2px;border-radius:3px}._3AYvmHk0Mm53DN>span{line-height:12px}._3AYvmHk0Mm53DN>span>svg{width:12px;height:12px;line-height:12px}.body-color-blind-mode-enabled ._3AYvmHk0Mm53DN,.body-color-blind-mode-enabled~div ._3AYvmHk0Mm53DN{background-color:#f4f5f7!important}.body-color-blind-mode-enabled ._3AYvmHk0Mm53DN svg,.body-color-blind-mode-enabled~div ._3AYvmHk0Mm53DN svg{color:#42526e!important}.tF99wyxvH_yUep ._3AYvmHk0Mm53DN{background-color:#eef6ec}.tF99wyxvH_yUep ._3AYvmHk0Mm53DN svg{color:#519839}.kMf6YFo8YNHhxK ._3AYvmHk0Mm53DN{background-color:#faf3c0}.kMf6YFo8YNHhxK ._3AYvmHk0Mm53DN svg{color:#96650a}._1ZYD9DG9X4eiyg ._3AYvmHk0Mm53DN{background-color:#e4f0f6}._1ZYD9DG9X4eiyg ._3AYvmHk0Mm53DN svg{color:#055a8c}._8DVm-VVS6e93rZ{margin-bottom:0}._3VWVXslrEBUVJP{display:flex;align-items:center;flex-wrap:wrap;margin-bottom:8px;border-radius:3px;border:1px solid #dfe1e6;padding:4px;font-size:14px;line-height:28px;color:#172b4d}._3VWVXslrEBUVJP:first-child{margin-top:8px}._3VWVXslrEBUVJP:focus,._3VWVXslrEBUVJP:hover{background-color:#f4f5f7}._3UpomPwWWQe9QT{margin-right:4px;padding:2px;border-radius:3px;margin-right:8px;padding:4px}._3UpomPwWWQe9QT>span{line-height:12px}._3UpomPwWWQe9QT>span>svg{width:12px;height:12px;line-height:12px}.body-color-blind-mode-enabled ._3UpomPwWWQe9QT,.body-color-blind-mode-enabled~div ._3UpomPwWWQe9QT{background-color:#f4f5f7!important}.body-color-blind-mode-enabled ._3UpomPwWWQe9QT svg,.body-color-blind-mode-enabled~div ._3UpomPwWWQe9QT svg{color:#42526e!important}._3UpomPwWWQe9QT>span{line-height:16px}._3UpomPwWWQe9QT>span>svg{width:16px;height:16px;line-height:16px}._3UpomPwWWQe9QT{background-color:#e4f0f6}._3UpomPwWWQe9QT svg{color:#055a8c}",""]),t.locals={grid:"_3CyaaoeFzUnxij",trigger:"tF99wyxvH_yUep",condition:"kMf6YFo8YNHhxK",action:"_1ZYD9DG9X4eiyg",sectionLabel:"_1YsrBItJWXZ2Ui",thread:"_1fqhI5c2zlWRUD","thread--sm":"_1pzaGxRwIW2r7t","thread--md":"_3ju5XB3S_nOkv5","thread--lg":"_2Z4g9mHwkZ8Uc1",addActionButton:"Hn3_WkGfuoY4vC",editor:"_3uwGW_jSboPHfx",header:"_1_j6F10y32zsGn",category:"_1Zf_lTmREF1rL7",icon:"_3AYvmHk0Mm53DN",removeButton:"_8DVm-VVS6e93rZ",actionOption:"_3VWVXslrEBUVJP",actionOptionIcon:"_3UpomPwWWQe9QT"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandEditor.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3RfVhmoELPUwo7{display:grid;grid-template-columns:16px [inset] calc(50% - 16px - 8px / 2) [thread] 8px 1fr;margin-top:16px;margin-bottom:16px}._1J3EBHJLyg5ZbQ,._3DuddXjWnDdbwi,._OrMt-iLedDUTa{grid-column:1/-1;padding:8px;border-radius:3px;box-shadow:0 1px 6px rgba(9,30,66,.13)}._OrMt-iLedDUTa{grid-column-start:inset}._34gWlIrl8-5GRr{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;grid-column:1/thread;margin-top:0;margin-bottom:8px;align-self:end}hr._3JjjUjoGjrhcV9{grid-column:thread;margin:0 auto;width:1px;background-color:#dfe1e6}hr._2AFQMEAJXxLqAk{height:8px}hr.VbR9QqGYvCgN4d{height:16px}hr._3wv5fcnak5SNYF{height:32px}._8reobonVA5A0eY{grid-column:1/-1;margin:0}.B805Y_VXjabyGn{display:flex;flex-wrap:wrap;align-items:center;font-size:14px;line-height:28px;color:#172b4d}._2ieCaKJqKz8KoI{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;width:100%}._3MHv97tetiDGk3{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;display:flex;align-items:center;margin-top:0;font-size:10px;font-weight:700}._3DuddXjWnDdbwi ._3MHv97tetiDGk3{color:#519839}._OrMt-iLedDUTa ._3MHv97tetiDGk3{color:#96650a}._1J3EBHJLyg5ZbQ ._3MHv97tetiDGk3{color:#055a8c}.body-color-blind-mode-enabled ._3MHv97tetiDGk3,.body-color-blind-mode-enabled~div ._3MHv97tetiDGk3{color:#5e6c84}._2CiYUZktK-vqhQ{margin-right:4px;padding:2px;border-radius:3px}._2CiYUZktK-vqhQ>span{line-height:12px}._2CiYUZktK-vqhQ>span>svg{width:12px;height:12px;line-height:12px}.body-color-blind-mode-enabled ._2CiYUZktK-vqhQ,.body-color-blind-mode-enabled~div ._2CiYUZktK-vqhQ{background-color:#f4f5f7!important}.body-color-blind-mode-enabled ._2CiYUZktK-vqhQ svg,.body-color-blind-mode-enabled~div ._2CiYUZktK-vqhQ svg{color:#42526e!important}._3DuddXjWnDdbwi ._2CiYUZktK-vqhQ{background-color:#eef6ec}._3DuddXjWnDdbwi ._2CiYUZktK-vqhQ svg{color:#519839}._OrMt-iLedDUTa ._2CiYUZktK-vqhQ{background-color:#faf3c0}._OrMt-iLedDUTa ._2CiYUZktK-vqhQ svg{color:#96650a}._1J3EBHJLyg5ZbQ ._2CiYUZktK-vqhQ{background-color:#e4f0f6}._1J3EBHJLyg5ZbQ ._2CiYUZktK-vqhQ svg{color:#055a8c}._22EzVaMSXDf17d{margin-bottom:0}",""]),t.locals={grid:"_3RfVhmoELPUwo7",trigger:"_3DuddXjWnDdbwi",condition:"_OrMt-iLedDUTa",action:"_1J3EBHJLyg5ZbQ",sectionLabel:"_34gWlIrl8-5GRr",thread:"_3JjjUjoGjrhcV9","thread--sm":"_2AFQMEAJXxLqAk","thread--md":"VbR9QqGYvCgN4d","thread--lg":"_3wv5fcnak5SNYF",addActionButton:"_8reobonVA5A0eY",editor:"B805Y_VXjabyGn",header:"_2ieCaKJqKz8KoI",category:"_3MHv97tetiDGk3",icon:"_2CiYUZktK-vqhQ",removeButton:"_22EzVaMSXDf17d"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandSelect.less":function(e,t,i){var n=i("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._1sgc-5a63UDT5m{display:grid;grid-template-columns:16px [inset] calc(50% - 16px - 8px / 2) [thread] 8px 1fr;margin-top:16px;margin-bottom:16px}._2Jjbi2G1_NF7-0,.FJSd2FhUIJudik,.IcfY4THMch59Rl{grid-column:1/-1;padding:8px;border-radius:3px;box-shadow:0 1px 6px rgba(9,30,66,.13)}.FJSd2FhUIJudik{grid-column-start:inset}._31h1TnsGoHaX2d{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;grid-column:1/thread;margin-top:0;margin-bottom:8px;align-self:end}hr._10aroulzq4ERX8{grid-column:thread;margin:0 auto;width:1px;background-color:#dfe1e6}hr._3lpwQR93dIjqj7{height:8px}hr._31i-soFe_OVgUD{height:16px}hr._2sc5_7CxDnJwuo{height:32px}._4ClHHrjFD0FfvX{grid-column:1/-1;margin:0}._1S286GbBdpey2_{display:flex;flex-wrap:wrap;align-items:center;font-size:14px;line-height:28px;color:#172b4d}._2BUbpDmZQk24RL{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;width:100%}.Lo2givZa4rbZJy{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;display:flex;align-items:center;margin-top:0;font-size:10px;font-weight:700}.IcfY4THMch59Rl .Lo2givZa4rbZJy{color:#519839}.FJSd2FhUIJudik .Lo2givZa4rbZJy{color:#96650a}._2Jjbi2G1_NF7-0 .Lo2givZa4rbZJy{color:#055a8c}.body-color-blind-mode-enabled .Lo2givZa4rbZJy,.body-color-blind-mode-enabled~div .Lo2givZa4rbZJy{color:#5e6c84}.rzwlBdZDLbZwGa{margin-right:4px;padding:2px;border-radius:3px}.rzwlBdZDLbZwGa>span{line-height:12px}.rzwlBdZDLbZwGa>span>svg{width:12px;height:12px;line-height:12px}.body-color-blind-mode-enabled .rzwlBdZDLbZwGa,.body-color-blind-mode-enabled~div .rzwlBdZDLbZwGa{background-color:#f4f5f7!important}.body-color-blind-mode-enabled .rzwlBdZDLbZwGa svg,.body-color-blind-mode-enabled~div .rzwlBdZDLbZwGa svg{color:#42526e!important}.IcfY4THMch59Rl .rzwlBdZDLbZwGa{background-color:#eef6ec}.IcfY4THMch59Rl .rzwlBdZDLbZwGa svg{color:#519839}.FJSd2FhUIJudik .rzwlBdZDLbZwGa{background-color:#faf3c0}.FJSd2FhUIJudik .rzwlBdZDLbZwGa svg{color:#96650a}._2Jjbi2G1_NF7-0 .rzwlBdZDLbZwGa{background-color:#e4f0f6}._2Jjbi2G1_NF7-0 .rzwlBdZDLbZwGa svg{color:#055a8c}._228SXPBnJ8YuCr{margin-bottom:0}._26F_AQk7Ri2Dut{display:inline-flex;align-items:center}._26F_AQk7Ri2Dut:after,._26F_AQk7Ri2Dut:before{content:"\\A0"}._26F_AQk7Ri2Dut>div{flex-grow:1;width:calc(100% - 8px)}._26F_AQk7Ri2Dut input[type=text]{margin:0}._26F_AQk7Ri2Dut input[type=text]:focus{box-shadow:none}._1P18c-8cE9eoAj{display:inline-block;color:#fff;font-weight:500;width:90%;min-height:20px;margin-bottom:-5px;padding:0 5px;border-radius:5px;background-color:#b3bac5;background-repeat:repeat-y;background-size:16px 16px;background-position:0 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body-color-blind-mode-enabled ._1P18c-8cE9eoAj,.body-color-blind-mode-enabled~div ._1P18c-8cE9eoAj{padding-left:21px;width:69%}._1BgClY786btZqM{background-color:#61bd4f}.body-color-blind-mode-enabled ._1BgClY786btZqM,.body-color-blind-mode-enabled~div ._1BgClY786btZqM{background-image:url('+n(i("./resources/images/patterns/light/StripeDiagonal.svg"))+")}._2mvF0XB47YE6t2{background-color:#f2d600}.body-color-blind-mode-enabled ._2mvF0XB47YE6t2,.body-color-blind-mode-enabled~div ._2mvF0XB47YE6t2{background-image:url("+n(i("./resources/images/patterns/light/WaveSquare.svg"))+")}._3h0TtXgNOye4yO{background-color:#ff9f1a}.body-color-blind-mode-enabled ._3h0TtXgNOye4yO,.body-color-blind-mode-enabled~div ._3h0TtXgNOye4yO{background-image:url("+n(i("./resources/images/patterns/light/StripeVertical.svg"))+")}.y8bFZ4fqBgGMUh{background-color:#eb5a46}.body-color-blind-mode-enabled .y8bFZ4fqBgGMUh,.body-color-blind-mode-enabled~div .y8bFZ4fqBgGMUh{background-image:url("+n(i("./resources/images/patterns/light/DotsChecker.svg"))+")}._2DRHHxoMCAz7vM{background-color:#c377e0}.body-color-blind-mode-enabled ._2DRHHxoMCAz7vM,.body-color-blind-mode-enabled~div ._2DRHHxoMCAz7vM{background-image:url("+n(i("./resources/images/patterns/light/GrooveDiagonal.svg"))+")}.CSIZyp6lgXu9__{background-color:#0079bf}.body-color-blind-mode-enabled .CSIZyp6lgXu9__,.body-color-blind-mode-enabled~div .CSIZyp6lgXu9__{background-image:url("+n(i("./resources/images/patterns/light/StripeHorizontal.svg"))+")}._13HvZ0l6ScfzJw{background-color:#ff78cb}.body-color-blind-mode-enabled ._13HvZ0l6ScfzJw,.body-color-blind-mode-enabled~div ._13HvZ0l6ScfzJw{background-image:url("+n(i("./resources/images/patterns/light/BrickHorizontal.svg"))+")}.uEA8R0i4UoV4u8{background-color:#00c2e0}.body-color-blind-mode-enabled .uEA8R0i4UoV4u8,.body-color-blind-mode-enabled~div .uEA8R0i4UoV4u8{background-image:url("+n(i("./resources/images/patterns/light/BrickDiagonal.svg"))+")}._1v-SA9qNdsVSsM{background-color:#51e898}.body-color-blind-mode-enabled ._1v-SA9qNdsVSsM,.body-color-blind-mode-enabled~div ._1v-SA9qNdsVSsM{background-image:url("+n(i("./resources/images/patterns/light/Scale.svg"))+")}._3v3Tlyova747-G{background-color:#344563}.body-color-blind-mode-enabled ._3v3Tlyova747-G,.body-color-blind-mode-enabled~div ._3v3Tlyova747-G{background-image:url("+n(i("./resources/images/patterns/light/BrickVertical.svg"))+")}",""]),t.locals={grid:"_1sgc-5a63UDT5m",trigger:"IcfY4THMch59Rl",condition:"FJSd2FhUIJudik",action:"_2Jjbi2G1_NF7-0",sectionLabel:"_31h1TnsGoHaX2d",thread:"_10aroulzq4ERX8","thread--sm":"_3lpwQR93dIjqj7","thread--md":"_31i-soFe_OVgUD","thread--lg":"_2sc5_7CxDnJwuo",addActionButton:"_4ClHHrjFD0FfvX",editor:"_1S286GbBdpey2_",header:"_2BUbpDmZQk24RL",category:"Lo2givZa4rbZJy",icon:"rzwlBdZDLbZwGa",removeButton:"_228SXPBnJ8YuCr",select:"_26F_AQk7Ri2Dut",colorLabel:"_1P18c-8cE9eoAj","colorLabel--green":"_1BgClY786btZqM","colorLabel--yellow":"_2mvF0XB47YE6t2","colorLabel--orange":"_3h0TtXgNOye4yO","colorLabel--red":"y8bFZ4fqBgGMUh","colorLabel--purple":"_2DRHHxoMCAz7vM","colorLabel--blue":"CSIZyp6lgXu9__","colorLabel--pink":"_13HvZ0l6ScfzJw","colorLabel--sky":"uEA8R0i4UoV4u8","colorLabel--lime":"_1v-SA9qNdsVSsM","colorLabel--black":"_3v3Tlyova747-G"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandText.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._1VO-1NlYR10ot2{display:inline-flex;align-items:center}._1VO-1NlYR10ot2:after,._1VO-1NlYR10ot2:before{content:"\\A0"}._1VO-1NlYR10ot2>input{flex-grow:1}._1VO-1NlYR10ot2 input[type=number]{-moz-appearance:textfield}._1VO-1NlYR10ot2 input[type=number]::-webkit-inner-spin-button,._1VO-1NlYR10ot2 input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}',""]),t.locals={commandText:"_1VO-1NlYR10ot2"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/ListRule/ButlerListMenuSection.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2TTZ8Ml-liVQd1{margin-bottom:8px;padding-top:8px;line-height:16px}._1XwxIgHwwt4n0P{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin:0}._111ZJ0ZSHATK9a{margin-left:8px}.iFVDWmJ4y5n7bs{font-size:12px;text-decoration:none;color:#8993a4}.iFVDWmJ4y5n7bs:active,.iFVDWmJ4y5n7bs:focus,.iFVDWmJ4y5n7bs:hover{color:#5e6c84;text-decoration:underline}.iFVDWmJ4y5n7bs:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){.iFVDWmJ4y5n7bs:focus{outline:5px auto -webkit-focus-ring-color}}.oboduUx4MUcwlj{display:flex;flex-direction:column}.oboduUx4MUcwlj>li{display:inline-flex;align-items:center}.oboduUx4MUcwlj>li>.sh4pItSeGnXqm4{display:flex;width:100%}._38JQQZ_oqQIb4a{width:100%}._3poDDtPpE-1GfK,._38JQQZ_oqQIb4a{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._3poDDtPpE-1GfK{flex-shrink:1}.zRmWq2gqIVYSD1{flex-shrink:0;margin-left:4px}",""]),t.locals={header:"_2TTZ8Ml-liVQd1",title:"_1XwxIgHwwt4n0P",newPill:"_111ZJ0ZSHATK9a",feedbackLink:"iFVDWmJ4y5n7bs",templates:"oboduUx4MUcwlj",customRuleButton:"sh4pItSeGnXqm4",template:"_38JQQZ_oqQIb4a",customRuleLabel:"_3poDDtPpE-1GfK",externalLinkIcon:"zRmWq2gqIVYSD1"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/CardCoversSetting.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1H24C7UKctQICN{margin-bottom:0}._1H24C7UKctQICN,._15M1Y_ms6fMtxS{text-align:center}.biDvWRnxvd9iFl{margin-bottom:0}",""]),t.locals={notAdmin:"_1H24C7UKctQICN",isAdmin:"_15M1Y_ms6fMtxS",enableButton:"biDvWRnxvd9iFl"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/ColorCover.less":function(e,t,i){var n=i("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".RTmeIoMP_kSe5T{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}.RTmeIoMP_kSe5T::-webkit-scrollbar{height:8px;width:8px}.RTmeIoMP_kSe5T::-webkit-scrollbar-button:end:increment,.RTmeIoMP_kSe5T::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.RTmeIoMP_kSe5T::-webkit-scrollbar-thumb:horizontal,.RTmeIoMP_kSe5T::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.RTmeIoMP_kSe5T._1PyHiQbDdSUWBK{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2Qa_l9ojLUlSqR{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._2Qa_l9ojLUlSqR._1_qz6jmAp-aP8m{opacity:.25}._2Qa_l9ojLUlSqR:hover{filter:saturate(85%) brightness(85%)}._2Qa_l9ojLUlSqR:active{filter:saturate(70%) brightness(70%)}._2Qa_l9ojLUlSqR._3H41ES9liaXynr{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._2Qa_l9ojLUlSqR._3H41ES9liaXynr:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._2Qa_l9ojLUlSqR._3H41ES9liaXynr:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:active ._3NMs3ewwRySKGg{color:#0079bf}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:active svg circle{stroke:#0079bf}._230dNndTdS7vRJ{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._3zYZrEHtMpYE6i{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr 1fr 1fr}._3zYZrEHtMpYE6i::-webkit-scrollbar{height:8px;width:8px}._3zYZrEHtMpYE6i::-webkit-scrollbar-button:end:increment,._3zYZrEHtMpYE6i::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3zYZrEHtMpYE6i::-webkit-scrollbar-thumb:horizontal,._3zYZrEHtMpYE6i::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3zYZrEHtMpYE6i._1PyHiQbDdSUWBK{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._9HlyjDStZT9Tkt{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;width:50px;height:32px;cursor:pointer}._9HlyjDStZT9Tkt._1_qz6jmAp-aP8m{opacity:.25}._9HlyjDStZT9Tkt:hover{filter:saturate(85%) brightness(85%)}._9HlyjDStZT9Tkt:active{filter:saturate(70%) brightness(70%)}._9HlyjDStZT9Tkt._3H41ES9liaXynr{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._9HlyjDStZT9Tkt._3H41ES9liaXynr:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._9HlyjDStZT9Tkt._3H41ES9liaXynr:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._9HlyjDStZT9Tkt._3qziXoVq3vOoB-{background-color:#5ba4cf}._9HlyjDStZT9Tkt._VjutK-Uakd6Op{background-color:#7bc86c}._9HlyjDStZT9Tkt._3IxJVmJ52SXvxO{background-color:#ffaf3f}._9HlyjDStZT9Tkt._2hOM7AmVdl8C7W{background-color:#ef7564}._9HlyjDStZT9Tkt.Ds0H9CqAfcVFSh{background-color:#cd8de5}._9HlyjDStZT9Tkt._3wmQ8lVe3zahD9{background-color:#f5dd29}._9HlyjDStZT9Tkt._3wVGI--mpmR634{background-color:#ff8ed4}._9HlyjDStZT9Tkt._2sAsAnMyJDuTix{background-color:#29cce5}._9HlyjDStZT9Tkt._2zEv5Z_t8hhaSh{background-color:#6deca9}._9HlyjDStZT9Tkt._36HiOr-q2SnKP7{background-color:#172b4d}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt{background-size:16px 16px;background-repeat:repeat}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3qziXoVq3vOoB-{background-image:url("+n(i("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._VjutK-Uakd6Op{background-image:url("+n(i("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3IxJVmJ52SXvxO{background-image:url("+n(i("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._2hOM7AmVdl8C7W{background-image:url("+n(i("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt.Ds0H9CqAfcVFSh{background-image:url("+n(i("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3wmQ8lVe3zahD9{background-image:url("+n(i("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3wVGI--mpmR634{background-image:url("+n(i("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._2sAsAnMyJDuTix{background-image:url("+n(i("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._2zEv5Z_t8hhaSh{background-image:url("+n(i("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._36HiOr-q2SnKP7{background-image:url("+n(i("./resources/images/patterns/light/BrickVertical.svg"))+")}",""]),t.locals={coverTiles:"RTmeIoMP_kSe5T",modFixedHeight:"_1PyHiQbDdSUWBK",coverTilesItem:"_2Qa_l9ojLUlSqR",uploading:"_1_qz6jmAp-aP8m",selected:"_3H41ES9liaXynr",modAdd:"dsLtlzTR-f72BR","icon-sm":"_3NMs3ewwRySKGg",heading:"_230dNndTdS7vRJ",colorTiles:"_3zYZrEHtMpYE6i",colorTile:"_9HlyjDStZT9Tkt",blue:"_3qziXoVq3vOoB-",green:"_VjutK-Uakd6Op",orange:"_3IxJVmJ52SXvxO",red:"_2hOM7AmVdl8C7W",purple:"Ds0H9CqAfcVFSh",yellow:"_3wmQ8lVe3zahD9",pink:"_3wVGI--mpmR634",sky:"_2sAsAnMyJDuTix",lime:"_2zEv5Z_t8hhaSh",black:"_36HiOr-q2SnKP7"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/MiniCard.less":function(e,t,i){var n=i("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3ZNTYTqSH-zGL-{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3ZNTYTqSH-zGL-::-webkit-scrollbar{height:8px;width:8px}._3ZNTYTqSH-zGL-::-webkit-scrollbar-button:end:increment,._3ZNTYTqSH-zGL-::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3ZNTYTqSH-zGL-::-webkit-scrollbar-thumb:horizontal,._3ZNTYTqSH-zGL-::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3ZNTYTqSH-zGL-._3pfX0YvVJqKSq9{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2j7a9q0-V_TEqd{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._2j7a9q0-V_TEqd._1iIc6GXeKPZUYj{opacity:.25}._2j7a9q0-V_TEqd:hover{filter:saturate(85%) brightness(85%)}._2j7a9q0-V_TEqd:active{filter:saturate(70%) brightness(70%)}._2j7a9q0-V_TEqd._2TXPT3SuVCUYZF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._2j7a9q0-V_TEqd._2TXPT3SuVCUYZF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._2j7a9q0-V_TEqd._2TXPT3SuVCUYZF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:active ._2bi48A9howWO_m{color:#0079bf}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:active svg circle{stroke:#0079bf}._1BPeZhZP3WlV9X{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._1viqoNbp3RGt0Y{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr 1fr 1fr}._1viqoNbp3RGt0Y::-webkit-scrollbar{height:8px;width:8px}._1viqoNbp3RGt0Y::-webkit-scrollbar-button:end:increment,._1viqoNbp3RGt0Y::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1viqoNbp3RGt0Y::-webkit-scrollbar-thumb:horizontal,._1viqoNbp3RGt0Y::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1viqoNbp3RGt0Y._3pfX0YvVJqKSq9{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._13gMeZaeJM4R_R{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;width:50px;height:32px;cursor:pointer}._13gMeZaeJM4R_R._1iIc6GXeKPZUYj{opacity:.25}._13gMeZaeJM4R_R:hover{filter:saturate(85%) brightness(85%)}._13gMeZaeJM4R_R:active{filter:saturate(70%) brightness(70%)}._13gMeZaeJM4R_R._2TXPT3SuVCUYZF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._13gMeZaeJM4R_R._2TXPT3SuVCUYZF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._13gMeZaeJM4R_R._2TXPT3SuVCUYZF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._13gMeZaeJM4R_R._3olFfJuileHTzu{background-color:#5ba4cf}._13gMeZaeJM4R_R._321rwMEtxUkyai{background-color:#7bc86c}._13gMeZaeJM4R_R._38m8iXWeuTH6JJ{background-color:#ffaf3f}._13gMeZaeJM4R_R._236Jd26UD4Nbd6{background-color:#ef7564}._13gMeZaeJM4R_R._207qy-0OdXObOR{background-color:#cd8de5}._13gMeZaeJM4R_R._3-cGT-dmFxAOWZ{background-color:#f5dd29}._13gMeZaeJM4R_R._17lSFoKyYAkApk{background-color:#ff8ed4}._13gMeZaeJM4R_R._3JuPs6NSLdDUI-{background-color:#29cce5}._13gMeZaeJM4R_R._1xziIBKUmhwNSJ{background-color:#6deca9}._13gMeZaeJM4R_R._2-5M3mLJVdgvRI{background-color:#172b4d}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R{background-size:16px 16px;background-repeat:repeat}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._3olFfJuileHTzu{background-image:url("+n(i("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._321rwMEtxUkyai{background-image:url("+n(i("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._38m8iXWeuTH6JJ{background-image:url("+n(i("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._236Jd26UD4Nbd6{background-image:url("+n(i("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._207qy-0OdXObOR{background-image:url("+n(i("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._3-cGT-dmFxAOWZ{background-image:url("+n(i("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._17lSFoKyYAkApk{background-image:url("+n(i("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._3JuPs6NSLdDUI-{background-image:url("+n(i("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._1xziIBKUmhwNSJ{background-image:url("+n(i("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._2-5M3mLJVdgvRI{background-image:url("+n(i("./resources/images/patterns/light/BrickVertical.svg"))+")}._1a8LrtkAQTAK-j{margin:0;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;cursor:pointer;background:#fff;border-radius:3px;position:relative;width:134px;height:34px;border:1px solid rgba(9,30,66,.08)}._1a8LrtkAQTAK-j._1iIc6GXeKPZUYj{opacity:.25}._1a8LrtkAQTAK-j:hover{filter:saturate(85%) brightness(85%)}._1a8LrtkAQTAK-j:active{filter:saturate(70%) brightness(70%)}._1a8LrtkAQTAK-j._2TXPT3SuVCUYZF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._1a8LrtkAQTAK-j._2TXPT3SuVCUYZF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._1a8LrtkAQTAK-j._2TXPT3SuVCUYZF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a{height:28px;border-radius:3px 3px 0 0}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._3olFfJuileHTzu{background-color:#5ba4cf}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._321rwMEtxUkyai{background-color:#7bc86c}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._38m8iXWeuTH6JJ{background-color:#ffaf3f}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._236Jd26UD4Nbd6{background-color:#ef7564}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._207qy-0OdXObOR{background-color:#cd8de5}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ{background-color:#f5dd29}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._17lSFoKyYAkApk{background-color:#ff8ed4}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._3JuPs6NSLdDUI-{background-color:#29cce5}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._1xziIBKUmhwNSJ{background-color:#6deca9}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._2-5M3mLJVdgvRI{background-color:#172b4d}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._3Nb7RJ6JRfDx3z{background-size:cover}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_{padding:6px 4px 4px 6px;position:relative}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{background:#6b778c;height:4px;border-radius:2px;width:122px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs{width:98px;margin-top:4px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ .MSLVFDgwEE7ILt{display:flex;margin-top:6px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ .MSLVFDgwEE7ILt ._1ZlsPuJsGpFga7{width:16px;height:6px;background:#6b778c;border-radius:2px;margin-right:2px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ ._3OZzs3qEQCIZ_E{position:absolute;width:10px;height:10px;right:4px;bottom:4px;background:#6b778c;border-radius:5px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q,._1a8LrtkAQTAK-j.UC8-8jzxy9UkT0{height:62px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3olFfJuileHTzu{background-color:#5ba4cf}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._321rwMEtxUkyai{background-color:#7bc86c}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._38m8iXWeuTH6JJ{background-color:#ffaf3f}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._236Jd26UD4Nbd6{background-color:#ef7564}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._207qy-0OdXObOR{background-color:#cd8de5}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ{background-color:#f5dd29}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._17lSFoKyYAkApk{background-color:#ff8ed4}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3JuPs6NSLdDUI-{background-color:#29cce5}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._1xziIBKUmhwNSJ{background-color:#6deca9}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._2-5M3mLJVdgvRI{background-color:#172b4d}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._3Nb7RJ6JRfDx3z{background-size:cover;background-position:50%}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_{position:absolute;bottom:4px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{background:rgba(9,30,66,.6)}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{width:116px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs{width:92px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_._11g85mwkYGI1Jk ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_._11g85mwkYGI1Jk .iNrcwkjGRZWeLW{background:#fff}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ ._3OZzs3qEQCIZ_E,._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ .MSLVFDgwEE7ILt{display:none}._1a8LrtkAQTAK-j._26XWB5josseeRo{cursor:default}._1a8LrtkAQTAK-j._26XWB5josseeRo:hover{filter:unset}._1a8LrtkAQTAK-j._26XWB5josseeRo ._1ZlsPuJsGpFga7,._1a8LrtkAQTAK-j._26XWB5josseeRo ._2n6YBcAzfBM_0a,._1a8LrtkAQTAK-j._26XWB5josseeRo ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._26XWB5josseeRo ._3OZzs3qEQCIZ_E,._1a8LrtkAQTAK-j._26XWB5josseeRo._4FN7X40rw25a6Q,._1a8LrtkAQTAK-j._26XWB5josseeRo .iNrcwkjGRZWeLW{background:#5e6c84;opacity:.3}._1a8LrtkAQTAK-j._26XWB5josseeRo._4FN7X40rw25a6Q ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._26XWB5josseeRo._4FN7X40rw25a6Q .iNrcwkjGRZWeLW{background:#fff;opacity:1}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-{background-size:16px 16px;background-repeat:repeat-y}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3olFfJuileHTzu,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._3olFfJuileHTzu{background-image:url("+n(i("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._321rwMEtxUkyai,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._321rwMEtxUkyai{background-image:url("+n(i("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._38m8iXWeuTH6JJ,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._38m8iXWeuTH6JJ{background-image:url("+n(i("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._236Jd26UD4Nbd6,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._236Jd26UD4Nbd6{background-image:url("+n(i("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._207qy-0OdXObOR,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._207qy-0OdXObOR{background-image:url("+n(i("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ{background-image:url("+n(i("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._17lSFoKyYAkApk,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._17lSFoKyYAkApk{background-image:url("+n(i("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3JuPs6NSLdDUI-,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._3JuPs6NSLdDUI-{background-image:url("+n(i("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._1xziIBKUmhwNSJ,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._1xziIBKUmhwNSJ{background-image:url("+n(i("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._2-5M3mLJVdgvRI,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._2-5M3mLJVdgvRI{background-image:url("+n(i("./resources/images/patterns/light/BrickVertical.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV- ._2F9ioHU3xVEem_{padding-left:24px}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV- ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{width:100px}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV- ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs{width:76px}",""]),t.locals={coverTiles:"_3ZNTYTqSH-zGL-",modFixedHeight:"_3pfX0YvVJqKSq9",coverTilesItem:"_2j7a9q0-V_TEqd",uploading:"_1iIc6GXeKPZUYj",selected:"_2TXPT3SuVCUYZF",modAdd:"_1ndbchVWcccxJj","icon-sm":"_2bi48A9howWO_m",heading:"_1BPeZhZP3WlV9X",colorTiles:"_1viqoNbp3RGt0Y",colorTile:"_13gMeZaeJM4R_R",blue:"_3olFfJuileHTzu",green:"_321rwMEtxUkyai",orange:"_38m8iXWeuTH6JJ",red:"_236Jd26UD4Nbd6",purple:"_207qy-0OdXObOR",yellow:"_3-cGT-dmFxAOWZ",pink:"_17lSFoKyYAkApk",sky:"_3JuPs6NSLdDUI-",lime:"_1xziIBKUmhwNSJ",black:"_2-5M3mLJVdgvRI",miniCard:"_1a8LrtkAQTAK-j",cover:"_2n6YBcAzfBM_0a",colorCardCover:"_2WIiiCSEst2vV-",imageCardCover:"_3Nb7RJ6JRfDx3z",content:"_2F9ioHU3xVEem_",longName:"iNrcwkjGRZWeLW",shortName:"_3oRL16p-W0XVVs",badges:"MSLVFDgwEE7ILt",badge:"_1ZlsPuJsGpFga7",avatar:"_3OZzs3qEQCIZ_E",hasCover:"UC8-8jzxy9UkT0",hasFullCover:"_4FN7X40rw25a6Q",light:"_11g85mwkYGI1Jk",disabled:"_26XWB5josseeRo"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResultImageButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2XWZsTylB5lDaE{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._2XWZsTylB5lDaE::-webkit-scrollbar{height:8px;width:8px}._2XWZsTylB5lDaE::-webkit-scrollbar-button:end:increment,._2XWZsTylB5lDaE::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2XWZsTylB5lDaE::-webkit-scrollbar-thumb:horizontal,._2XWZsTylB5lDaE::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2XWZsTylB5lDaE.Kxre9nfD3Jv-x-{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.v_UpVlx65vhbBc{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}.v_UpVlx65vhbBc._1frHOuyVrolhNm{opacity:.25}.v_UpVlx65vhbBc:hover{filter:saturate(85%) brightness(85%)}.v_UpVlx65vhbBc:active{filter:saturate(70%) brightness(70%)}.v_UpVlx65vhbBc._20js7CVn6hDwDW{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}.v_UpVlx65vhbBc._20js7CVn6hDwDW:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}.v_UpVlx65vhbBc._20js7CVn6hDwDW:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:active ._1RR_lfGO1Ur1Tp{color:#0079bf}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:active svg circle{stroke:#0079bf}._1PAhBzxAgmtfxa{position:relative}._34TWB4ax7qwhyL{margin:0;border-radius:4px;width:132px;height:72px;background-size:cover;background-repeat:no-repeat;background-position:50%;cursor:pointer;box-shadow:none}._34TWB4ax7qwhyL._1frHOuyVrolhNm{opacity:.25}._34TWB4ax7qwhyL._1frHOuyVrolhNm ._1JhQgb2U8pcQ1H{margin-right:4px}._34TWB4ax7qwhyL:hover{filter:saturate(85%) brightness(85%)}._34TWB4ax7qwhyL:active{filter:saturate(70%) brightness(70%)}._34TWB4ax7qwhyL._20js7CVn6hDwDW{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._34TWB4ax7qwhyL._20js7CVn6hDwDW:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._34TWB4ax7qwhyL._20js7CVn6hDwDW:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}.q1QWoDJC-NIAnI{display:inline-block}._3zbsfZZvzhk07w{display:block;overflow:hidden;box-sizing:border-box;background:rgba(0,0,0,.8);color:#fff;font-size:12px;text-align:left;position:absolute;width:100%;bottom:0;left:0;z-index:1}._3BTMgnJ1S_0Czm{display:flex;font-size:10px;line-height:16px;height:16px}",""]),t.locals={coverTiles:"_2XWZsTylB5lDaE",modFixedHeight:"Kxre9nfD3Jv-x-",coverTilesItem:"v_UpVlx65vhbBc",uploading:"_1frHOuyVrolhNm",selected:"_20js7CVn6hDwDW",modAdd:"_2Ga8vwljfWavZH","icon-sm":"_1RR_lfGO1Ur1Tp",backgroundGridItem:"_1PAhBzxAgmtfxa",cover:"_34TWB4ax7qwhyL",spinner:"_1JhQgb2U8pcQ1H",uploadIndicator:"q1QWoDJC-NIAnI",upload:"_3zbsfZZvzhk07w",spinnerWrapper:"_3BTMgnJ1S_0Czm"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResults.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".MtwcKrAY10iCcP{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}.MtwcKrAY10iCcP::-webkit-scrollbar{height:8px;width:8px}.MtwcKrAY10iCcP::-webkit-scrollbar-button:end:increment,.MtwcKrAY10iCcP::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.MtwcKrAY10iCcP::-webkit-scrollbar-thumb:horizontal,.MtwcKrAY10iCcP::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.MtwcKrAY10iCcP._1uDezppYXFbHBJ{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3pwCbisp0aR78I{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3pwCbisp0aR78I._10EvXEn8cGzjo2{opacity:.25}._3pwCbisp0aR78I:hover{filter:saturate(85%) brightness(85%)}._3pwCbisp0aR78I:active{filter:saturate(70%) brightness(70%)}._3pwCbisp0aR78I._1cJDsF_isdqOlg{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._3pwCbisp0aR78I._1cJDsF_isdqOlg:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._3pwCbisp0aR78I._1cJDsF_isdqOlg:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:active ._2U8SV9UIIv8nuL{color:#0079bf}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:active svg circle{stroke:#0079bf}.CAtwhcALYIZ7X4{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._3pgH5LbnW04-xX{display:none}._2HltlAXz8CoUXh{display:flex;justify-content:space-between;color:#5e6c84;font-size:12px;line-height:16px;margin-top:12px;height:16px}._2LlJKib0iz9s6H{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._2LlJKib0iz9s6H::-webkit-scrollbar{height:8px;width:8px}._2LlJKib0iz9s6H::-webkit-scrollbar-button:end:increment,._2LlJKib0iz9s6H::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2LlJKib0iz9s6H::-webkit-scrollbar-thumb:horizontal,._2LlJKib0iz9s6H::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2LlJKib0iz9s6H._1uDezppYXFbHBJ{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._10EvXEn8cGzjo2{opacity:.25}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju:hover{filter:saturate(85%) brightness(85%)}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju:active{filter:saturate(70%) brightness(70%)}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._1cJDsF_isdqOlg{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._1cJDsF_isdqOlg:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._1cJDsF_isdqOlg:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._2LlJKib0iz9s6H>span,.MtwcKrAY10iCcP>span{margin-top:-9px}.ppvgTgGEh-MN4G{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition-duration:85ms;transition-timing-function:ease;flex:0 1 auto;opacity:1;transition-property:opacity}._1En7YrI9yo9nbC{opacity:0}.zzqdDXUWr7pF77{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:0 0 auto}._1Cz5uumZYraDJn{color:#5e6c84}",""]),t.locals={coverTiles:"MtwcKrAY10iCcP",modFixedHeight:"_1uDezppYXFbHBJ",coverTilesItem:"_3pwCbisp0aR78I",uploading:"_10EvXEn8cGzjo2",selected:"_1cJDsF_isdqOlg",modAdd:"IbZmrbDNOrEOD_","icon-sm":"_2U8SV9UIIv8nuL",heading:"CAtwhcALYIZ7X4",hideInfiniteListSpinner:"_3pgH5LbnW04-xX",searchResultsFooter:"_2HltlAXz8CoUXh",searchResultTiles:"_2LlJKib0iz9s6H",searchResultTilesItem:"_1zy2yKg7CeYBju",loadingColumn:"ppvgTgGEh-MN4G",isExiting:"_1En7YrI9yo9nbC",unsplashColumn:"zzqdDXUWr7pF77",unsplashLink:"_1Cz5uumZYraDJn"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectAttachmentCover.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3fH7oJho9R0bz7{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3fH7oJho9R0bz7::-webkit-scrollbar{height:8px;width:8px}._3fH7oJho9R0bz7::-webkit-scrollbar-button:end:increment,._3fH7oJho9R0bz7::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3fH7oJho9R0bz7::-webkit-scrollbar-thumb:horizontal,._3fH7oJho9R0bz7::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3fH7oJho9R0bz7.vs5JODSD8ukfJk{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3uCSs_asedYtCD{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3uCSs_asedYtCD.sLqaKuFqHIx6Nh{opacity:.25}._3uCSs_asedYtCD:hover{filter:saturate(85%) brightness(85%)}._3uCSs_asedYtCD:active{filter:saturate(70%) brightness(70%)}._3uCSs_asedYtCD._1drOsv23u1Kuiz{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._3uCSs_asedYtCD._1drOsv23u1Kuiz:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._3uCSs_asedYtCD._1drOsv23u1Kuiz:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:active ._1myV3iaiVlPQmw{color:#0079bf}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:active svg circle{stroke:#0079bf}._6gyIDeA0YC2Ojj{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._266umnppKqyxcX{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._266umnppKqyxcX::-webkit-scrollbar{height:8px;width:8px}._266umnppKqyxcX::-webkit-scrollbar-button:end:increment,._266umnppKqyxcX::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._266umnppKqyxcX::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._266umnppKqyxcX::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._266umnppKqyxcX::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._266umnppKqyxcX::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._266umnppKqyxcX::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._266umnppKqyxcX::-webkit-scrollbar-thumb:horizontal,._266umnppKqyxcX::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._266umnppKqyxcX.vs5JODSD8ukfJk{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._266umnppKqyxcX ._2Rkx-wUW4H0MU2{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._266umnppKqyxcX ._2Rkx-wUW4H0MU2.sLqaKuFqHIx6Nh{opacity:.25}._266umnppKqyxcX ._2Rkx-wUW4H0MU2:hover{filter:saturate(85%) brightness(85%)}._266umnppKqyxcX ._2Rkx-wUW4H0MU2:active{filter:saturate(70%) brightness(70%)}._266umnppKqyxcX ._2Rkx-wUW4H0MU2._1drOsv23u1Kuiz{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._266umnppKqyxcX ._2Rkx-wUW4H0MU2._1drOsv23u1Kuiz:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._266umnppKqyxcX ._2Rkx-wUW4H0MU2._1drOsv23u1Kuiz:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._1638oiy6oou4t0{margin-top:4px}._1638oiy6oou4t0._1aDo0lG6FoQqWN,._1638oiy6oou4t0.MOXYJa09sv4xrJ{margin-top:8px}._1Fj6VKwfhxguaj,._1XMmP7DF6X0ehD{margin:4px 0 0;width:100%}",""]),t.locals={coverTiles:"_3fH7oJho9R0bz7",modFixedHeight:"vs5JODSD8ukfJk",coverTilesItem:"_3uCSs_asedYtCD",uploading:"sLqaKuFqHIx6Nh",selected:"_1drOsv23u1Kuiz",modAdd:"_1n5Q0m-OyK0Sl9","icon-sm":"_1myV3iaiVlPQmw",heading:"_6gyIDeA0YC2Ojj",attachmentTiles:"_266umnppKqyxcX",attachmentTilesItem:"_2Rkx-wUW4H0MU2",uploadButton:"_1638oiy6oou4t0",hasPaginatedTiles:"_1aDo0lG6FoQqWN",hasNoAttachments:"MOXYJa09sv4xrJ",showMoreButton:"_1Fj6VKwfhxguaj",showFewerButton:"_1XMmP7DF6X0ehD"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectCover.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1bI7f7L7AWeFIj{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._1bI7f7L7AWeFIj::-webkit-scrollbar{height:8px;width:8px}._1bI7f7L7AWeFIj::-webkit-scrollbar-button:end:increment,._1bI7f7L7AWeFIj::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1bI7f7L7AWeFIj::-webkit-scrollbar-thumb:horizontal,._1bI7f7L7AWeFIj::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1bI7f7L7AWeFIj.ytCRHM_6vlXvOj{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.K6mun10LS1BRsW{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}.K6mun10LS1BRsW._3r_XWzSsGM5Lrh{opacity:.25}.K6mun10LS1BRsW:hover{filter:saturate(85%) brightness(85%)}.K6mun10LS1BRsW:active{filter:saturate(70%) brightness(70%)}.K6mun10LS1BRsW._1YFXhB_367zLuE{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}.K6mun10LS1BRsW._1YFXhB_367zLuE:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}.K6mun10LS1BRsW._1YFXhB_367zLuE:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:active ._2ZzgU9Ss5_JMjB{color:#0079bf}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:active svg circle{stroke:#0079bf}._14Ww49tEL2joF2{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:0}._3-CjziCGL9o1aO{margin:8px 0 0;width:100%}._3-CjziCGL9o1aO._1fcxnzs4VXcgEM{margin:4px 0 0}",""]),t.locals={coverTiles:"_1bI7f7L7AWeFIj",modFixedHeight:"ytCRHM_6vlXvOj",coverTilesItem:"K6mun10LS1BRsW",uploading:"_3r_XWzSsGM5Lrh",selected:"_1YFXhB_367zLuE",modAdd:"_3yFZG0AF_Ojscn","icon-sm":"_2ZzgU9Ss5_JMjB",heading:"_14Ww49tEL2joF2",remove:"_3-CjziCGL9o1aO",colorAndFullVersion:"_1fcxnzs4VXcgEM"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectPluginCover.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3TVkFrHOX3Em4N{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3TVkFrHOX3Em4N::-webkit-scrollbar{height:8px;width:8px}._3TVkFrHOX3Em4N::-webkit-scrollbar-button:end:increment,._3TVkFrHOX3Em4N::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3TVkFrHOX3Em4N::-webkit-scrollbar-thumb:horizontal,._3TVkFrHOX3Em4N::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3TVkFrHOX3Em4N._1dP1SeYKFmeJhp{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3rFrBiACsnjj2e{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3rFrBiACsnjj2e._2kYnDI6gVBXfp0{opacity:.25}._3rFrBiACsnjj2e:hover{filter:saturate(85%) brightness(85%)}._3rFrBiACsnjj2e:active{filter:saturate(70%) brightness(70%)}._3rFrBiACsnjj2e.lGmGkzwB32VDdQ{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._3rFrBiACsnjj2e.lGmGkzwB32VDdQ:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._3rFrBiACsnjj2e.lGmGkzwB32VDdQ:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:active ._3kQzJ4D_hifi00{color:#0079bf}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:active svg circle{stroke:#0079bf}._3KAZo6Spxvfozq{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:12px;margin-bottom:4px}._3kFZ5M8yw4AMhW{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._3kFZ5M8yw4AMhW::-webkit-scrollbar{height:8px;width:8px}._3kFZ5M8yw4AMhW::-webkit-scrollbar-button:end:increment,._3kFZ5M8yw4AMhW::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3kFZ5M8yw4AMhW::-webkit-scrollbar-thumb:horizontal,._3kFZ5M8yw4AMhW::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3kFZ5M8yw4AMhW._1dP1SeYKFmeJhp{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg._2kYnDI6gVBXfp0{opacity:.25}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg:hover{filter:saturate(85%) brightness(85%)}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg:active{filter:saturate(70%) brightness(70%)}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg.lGmGkzwB32VDdQ{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg.lGmGkzwB32VDdQ:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg.lGmGkzwB32VDdQ:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}",""]),t.locals={coverTiles:"_3TVkFrHOX3Em4N",modFixedHeight:"_1dP1SeYKFmeJhp",coverTilesItem:"_3rFrBiACsnjj2e",uploading:"_2kYnDI6gVBXfp0",selected:"lGmGkzwB32VDdQ",modAdd:"_3x5rN2gc8iKhBb","icon-sm":"_3kQzJ4D_hifi00",heading:"_3KAZo6Spxvfozq",pluginCoverTiles:"_3kFZ5M8yw4AMhW",pluginCoverTilesItem:"yOVMaJAXNmQNNg"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectSize.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1o3nt1JZq6_8my{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._1o3nt1JZq6_8my::-webkit-scrollbar{height:8px;width:8px}._1o3nt1JZq6_8my::-webkit-scrollbar-button:end:increment,._1o3nt1JZq6_8my::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1o3nt1JZq6_8my::-webkit-scrollbar-thumb:horizontal,._1o3nt1JZq6_8my::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1o3nt1JZq6_8my._1AYE9cHQbYpA9U{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3jX9loiBo61DVn{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3jX9loiBo61DVn._2NNahw1r4Z5h-B{opacity:.25}._3jX9loiBo61DVn:hover{filter:saturate(85%) brightness(85%)}._3jX9loiBo61DVn:active{filter:saturate(70%) brightness(70%)}._3jX9loiBo61DVn._1O-qwaOS-o4_wF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._3jX9loiBo61DVn._1O-qwaOS-o4_wF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._3jX9loiBo61DVn._1O-qwaOS-o4_wF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7:active ._1R6NucRxqzbcY9{color:#0079bf}._3jX9loiBo61DVn._1zymqMxhHJMME7:active svg circle{stroke:#0079bf}._1mh73i3GOtAUyT{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:0;margin-bottom:4px}._3hbdnDjD_nZO1f{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3hbdnDjD_nZO1f::-webkit-scrollbar{height:8px;width:8px}._3hbdnDjD_nZO1f::-webkit-scrollbar-button:end:increment,._3hbdnDjD_nZO1f::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3hbdnDjD_nZO1f::-webkit-scrollbar-thumb:horizontal,._3hbdnDjD_nZO1f::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3hbdnDjD_nZO1f._1AYE9cHQbYpA9U{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}",""]),t.locals={coverTiles:"_1o3nt1JZq6_8my",modFixedHeight:"_1AYE9cHQbYpA9U",coverTilesItem:"_3jX9loiBo61DVn",uploading:"_2NNahw1r4Z5h-B",selected:"_1O-qwaOS-o4_wF",modAdd:"_1zymqMxhHJMME7","icon-sm":"_1R6NucRxqzbcY9",heading:"_1mh73i3GOtAUyT",sizeTiles:"_3hbdnDjD_nZO1f"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectTextColor.less":function(e,t,i){var n=i("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3TmZQjSJExxJRN{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3TmZQjSJExxJRN::-webkit-scrollbar{height:8px;width:8px}._3TmZQjSJExxJRN::-webkit-scrollbar-button:end:increment,._3TmZQjSJExxJRN::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3TmZQjSJExxJRN::-webkit-scrollbar-thumb:horizontal,._3TmZQjSJExxJRN::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3TmZQjSJExxJRN.Z4oNsXOtbQI_5g{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._35pc8XYOpc4hxf{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._35pc8XYOpc4hxf._2-Kp0Ji7hZN6MF{opacity:.25}._35pc8XYOpc4hxf:hover{filter:saturate(85%) brightness(85%)}._35pc8XYOpc4hxf:active{filter:saturate(70%) brightness(70%)}._35pc8XYOpc4hxf._2PQFEWG4jWHn19{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._35pc8XYOpc4hxf._2PQFEWG4jWHn19:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._35pc8XYOpc4hxf._2PQFEWG4jWHn19:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX:active ._3waVqrFnP74RUF{color:#0079bf}._35pc8XYOpc4hxf._1KUajT9leg8skX:active svg circle{stroke:#0079bf}._1j4VxzKzGcvcHS{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr 1fr 1fr}._1j4VxzKzGcvcHS::-webkit-scrollbar{height:8px;width:8px}._1j4VxzKzGcvcHS::-webkit-scrollbar-button:end:increment,._1j4VxzKzGcvcHS::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1j4VxzKzGcvcHS::-webkit-scrollbar-thumb:horizontal,._1j4VxzKzGcvcHS::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1j4VxzKzGcvcHS.Z4oNsXOtbQI_5g{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2SzaOhra4WC_tw{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;width:50px;height:32px;cursor:pointer}._2SzaOhra4WC_tw._2-Kp0Ji7hZN6MF{opacity:.25}._2SzaOhra4WC_tw:hover{filter:saturate(85%) brightness(85%)}._2SzaOhra4WC_tw:active{filter:saturate(70%) brightness(70%)}._2SzaOhra4WC_tw._2PQFEWG4jWHn19{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._2SzaOhra4WC_tw._2PQFEWG4jWHn19:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._2SzaOhra4WC_tw._2PQFEWG4jWHn19:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._2SzaOhra4WC_tw._1_Ef1_IvRGiy2U{background-color:#5ba4cf}._2SzaOhra4WC_tw._8__gKxw99cj9bp{background-color:#7bc86c}._2SzaOhra4WC_tw._2AmMzsO_58K_oC{background-color:#ffaf3f}._2SzaOhra4WC_tw._3Re38L-Fp--pm3{background-color:#ef7564}._2SzaOhra4WC_tw._1LJWqxH7TtcJN_{background-color:#cd8de5}._2SzaOhra4WC_tw._1gKa7mqiFQHUC1{background-color:#f5dd29}._2SzaOhra4WC_tw._1N1bySn2fshow7{background-color:#ff8ed4}._2SzaOhra4WC_tw._2aEFGwEf13Xobg{background-color:#29cce5}._2SzaOhra4WC_tw._1IBJJ-hvP4gRTE{background-color:#6deca9}._2SzaOhra4WC_tw._2C2RpW947EnhMf{background-color:#172b4d}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw{background-size:16px 16px;background-repeat:repeat}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1_Ef1_IvRGiy2U{background-image:url("+n(i("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._8__gKxw99cj9bp{background-image:url("+n(i("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._2AmMzsO_58K_oC{background-image:url("+n(i("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._3Re38L-Fp--pm3{background-image:url("+n(i("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1LJWqxH7TtcJN_{background-image:url("+n(i("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1gKa7mqiFQHUC1{background-image:url("+n(i("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1N1bySn2fshow7{background-image:url("+n(i("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._2aEFGwEf13Xobg{background-image:url("+n(i("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1IBJJ-hvP4gRTE{background-image:url("+n(i("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._2C2RpW947EnhMf{background-image:url("+n(i("./resources/images/patterns/light/BrickVertical.svg"))+")}.lsTpOEMnJOwenR{margin-top:16px;margin-bottom:8px}._3ZwOZczwhhUyJ8{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._1342qNISA4o6aQ{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr}._1342qNISA4o6aQ::-webkit-scrollbar{height:8px;width:8px}._1342qNISA4o6aQ::-webkit-scrollbar-button:end:increment,._1342qNISA4o6aQ::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1342qNISA4o6aQ::-webkit-scrollbar-thumb:horizontal,._1342qNISA4o6aQ::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1342qNISA4o6aQ.Z4oNsXOtbQI_5g{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._1pBIagFvjN411Z{margin:0;height:72px;width:100%;background-repeat:no-repeat;box-shadow:none;cursor:pointer;display:flex;flex-direction:row;align-items:flex-end;border-radius:3px;width:unset;height:20px;background-size:cover;background-position:50%;padding:6px 10px 6px 12px;overflow:hidden}._1pBIagFvjN411Z._2-Kp0Ji7hZN6MF{opacity:.25}._1pBIagFvjN411Z:hover{filter:saturate(85%) brightness(85%)}._1pBIagFvjN411Z:active{filter:saturate(70%) brightness(70%)}._1pBIagFvjN411Z._2PQFEWG4jWHn19{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._1pBIagFvjN411Z._2PQFEWG4jWHn19:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._1pBIagFvjN411Z._2PQFEWG4jWHn19:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._1pBIagFvjN411Z h3._1mR03l81QzYqXM{margin-bottom:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px;line-height:20px}._1pBIagFvjN411Z h3._1mR03l81QzYqXM.aZiGjjq4Xd6k44{color:#fff}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1_Ef1_IvRGiy2U{background-color:#5ba4cf}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._8__gKxw99cj9bp{background-color:#7bc86c}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2AmMzsO_58K_oC{background-color:#ffaf3f}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._3Re38L-Fp--pm3{background-color:#ef7564}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1LJWqxH7TtcJN_{background-color:#cd8de5}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1gKa7mqiFQHUC1{background-color:#f5dd29}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1N1bySn2fshow7{background-color:#ff8ed4}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2aEFGwEf13Xobg{background-color:#29cce5}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1IBJJ-hvP4gRTE{background-color:#6deca9}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2C2RpW947EnhMf{background-color:#172b4d}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH{background-size:16px 16px;background-repeat:repeat-y;background-position:0}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1_Ef1_IvRGiy2U{background-image:url("+n(i("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._8__gKxw99cj9bp{background-image:url("+n(i("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2AmMzsO_58K_oC{background-image:url("+n(i("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._3Re38L-Fp--pm3{background-image:url("+n(i("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1LJWqxH7TtcJN_{background-image:url("+n(i("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1gKa7mqiFQHUC1{background-image:url("+n(i("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1N1bySn2fshow7{background-image:url("+n(i("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2aEFGwEf13Xobg{background-image:url("+n(i("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1IBJJ-hvP4gRTE{background-image:url("+n(i("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2C2RpW947EnhMf{background-image:url("+n(i("./resources/images/patterns/light/BrickVertical.svg"))+")}",""]),t.locals={coverTiles:"_3TmZQjSJExxJRN",modFixedHeight:"Z4oNsXOtbQI_5g",coverTilesItem:"_35pc8XYOpc4hxf",uploading:"_2-Kp0Ji7hZN6MF",selected:"_2PQFEWG4jWHn19",modAdd:"_1KUajT9leg8skX","icon-sm":"_3waVqrFnP74RUF",heading:"_3ZwOZczwhhUyJ8",colorTiles:"_1j4VxzKzGcvcHS",colorTile:"_2SzaOhra4WC_tw",blue:"_1_Ef1_IvRGiy2U",green:"_8__gKxw99cj9bp",orange:"_2AmMzsO_58K_oC",red:"_3Re38L-Fp--pm3",purple:"_1LJWqxH7TtcJN_",yellow:"_1gKa7mqiFQHUC1",pink:"_1N1bySn2fshow7",sky:"_2aEFGwEf13Xobg",lime:"_1IBJJ-hvP4gRTE",black:"_2C2RpW947EnhMf",selectTextColor:"lsTpOEMnJOwenR",textColorTiles:"_1342qNISA4o6aQ",textColorTile:"_1pBIagFvjN411Z",name:"_1mR03l81QzYqXM",light:"aZiGjjq4Xd6k44",colorCardCover:"XNqcSeZ1YnMHTH"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectUnsplashCover.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2ag6uJTPcLf8cj{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._2ag6uJTPcLf8cj::-webkit-scrollbar{height:8px;width:8px}._2ag6uJTPcLf8cj::-webkit-scrollbar-button:end:increment,._2ag6uJTPcLf8cj::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2ag6uJTPcLf8cj::-webkit-scrollbar-thumb:horizontal,._2ag6uJTPcLf8cj::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2ag6uJTPcLf8cj._1oMO8v9lG5DKjd{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.T7gBC_P4Bmblcj{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}.T7gBC_P4Bmblcj._3FrBnzH3Q3mcdD{opacity:.25}.T7gBC_P4Bmblcj:hover{filter:saturate(85%) brightness(85%)}.T7gBC_P4Bmblcj:active{filter:saturate(70%) brightness(70%)}.T7gBC_P4Bmblcj.hnqOV4jGg9AKey{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}.T7gBC_P4Bmblcj.hnqOV4jGg9AKey:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}.T7gBC_P4Bmblcj.hnqOV4jGg9AKey:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:active ._1PJLA-HbfsAGVJ{color:#0079bf}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:active svg circle{stroke:#0079bf}._1Wdq0fbpbp8Sy-{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._2AJ8JKfvB8CGhQ{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._2AJ8JKfvB8CGhQ::-webkit-scrollbar{height:8px;width:8px}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-button:end:increment,._2AJ8JKfvB8CGhQ::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-thumb:horizontal,._2AJ8JKfvB8CGhQ::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2AJ8JKfvB8CGhQ._1oMO8v9lG5DKjd{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ._3FrBnzH3Q3mcdD{opacity:.25}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ:hover{filter:saturate(85%) brightness(85%)}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ:active{filter:saturate(70%) brightness(70%)}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ.hnqOV4jGg9AKey{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ.hnqOV4jGg9AKey:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ.hnqOV4jGg9AKey:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._2c8qsjNNafLenq{margin:4px 0 0;width:100%}",""]),t.locals={coverTiles:"_2ag6uJTPcLf8cj",modFixedHeight:"_1oMO8v9lG5DKjd",coverTilesItem:"T7gBC_P4Bmblcj",uploading:"_3FrBnzH3Q3mcdD",selected:"hnqOV4jGg9AKey",modAdd:"_3ZLUoWmLMZV2zg","icon-sm":"_1PJLA-HbfsAGVJ",heading:"_1Wdq0fbpbp8Sy-",unsplashTiles:"_2AJ8JKfvB8CGhQ",unsplashTilesItem:"_3TKOEFTWhXcUoJ",searchButton:"_2c8qsjNNafLenq"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SuggestedSearches.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2lWB17nDk2758A{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:0}._3I9o-wLYWuUhPA{margin:0 4px 4px 0}",""]),t.locals={heading:"_2lWB17nDk2758A",suggestedSearchButton:"_3I9o-wLYWuUhPA"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/TopUnsplashPhotos.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".WYiE6RHU_sh9GW{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}.WYiE6RHU_sh9GW::-webkit-scrollbar{height:8px;width:8px}.WYiE6RHU_sh9GW::-webkit-scrollbar-button:end:increment,.WYiE6RHU_sh9GW::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.WYiE6RHU_sh9GW::-webkit-scrollbar-thumb:horizontal,.WYiE6RHU_sh9GW::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.WYiE6RHU_sh9GW._3lYKvRV2_HUtc2{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._31KJducVH04iqO{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._31KJducVH04iqO.rzzm1iWU9pD9rb{opacity:.25}._31KJducVH04iqO:hover{filter:saturate(85%) brightness(85%)}._31KJducVH04iqO:active{filter:saturate(70%) brightness(70%)}._31KJducVH04iqO._1tdKL39uyKcldb{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}._31KJducVH04iqO._1tdKL39uyKcldb:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}._31KJducVH04iqO._1tdKL39uyKcldb:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o:active .b1menElyZXaaYW{color:#0079bf}._31KJducVH04iqO.PoPtr2fx1PmG9o:active svg circle{stroke:#0079bf}.BC0l2bm1DbI50D{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:12px;margin-bottom:4px}.Tku87to0FvGanr{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}.Tku87to0FvGanr::-webkit-scrollbar{height:8px;width:8px}.Tku87to0FvGanr::-webkit-scrollbar-button:end:increment,.Tku87to0FvGanr::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.Tku87to0FvGanr::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.Tku87to0FvGanr::-webkit-scrollbar-thumb:horizontal,.Tku87to0FvGanr::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.Tku87to0FvGanr._3lYKvRV2_HUtc2{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.Tku87to0FvGanr .kBuv-8JgZToq5Q{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}.Tku87to0FvGanr .kBuv-8JgZToq5Q.rzzm1iWU9pD9rb{opacity:.25}.Tku87to0FvGanr .kBuv-8JgZToq5Q:hover{filter:saturate(85%) brightness(85%)}.Tku87to0FvGanr .kBuv-8JgZToq5Q:active{filter:saturate(70%) brightness(70%)}.Tku87to0FvGanr .kBuv-8JgZToq5Q._1tdKL39uyKcldb{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;filter:none}.Tku87to0FvGanr .kBuv-8JgZToq5Q._1tdKL39uyKcldb:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;filter:none}.Tku87to0FvGanr .kBuv-8JgZToq5Q._1tdKL39uyKcldb:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;filter:none}._1yJcg0cQWXOCuu{display:flex;justify-content:space-between;color:#5e6c84;font-size:12px;line-height:16px;margin-top:8px;height:16px;flex-direction:row-reverse}.vHPJWb0o-0x6Mq{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:0 0 auto}.Yah_zSnLzJC4ft{color:#5e6c84}",""]),t.locals={coverTiles:"WYiE6RHU_sh9GW",modFixedHeight:"_3lYKvRV2_HUtc2",coverTilesItem:"_31KJducVH04iqO",uploading:"rzzm1iWU9pD9rb",selected:"_1tdKL39uyKcldb",modAdd:"PoPtr2fx1PmG9o","icon-sm":"b1menElyZXaaYW",heading:"BC0l2bm1DbI50D",unsplashTiles:"Tku87to0FvGanr",unsplashTilesItem:"kBuv-8JgZToq5Q",searchResultsFooter:"_1yJcg0cQWXOCuu",unsplashColumn:"vHPJWb0o-0x6Mq",unsplashLink:"Yah_zSnLzJC4ft"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/UnsplashSearch.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3yqfsSVYR8yjDU{overflow-y:hidden;overflow-x:hidden}.TBCpxHnpt53su5{position:relative}input.lR37eaCVHqVe18{width:100%;padding-right:36px}._26RvG-oPnG3m5c{position:absolute;top:0;right:0;height:36px;width:36px;margin:0;padding:0}._26RvG-oPnG3m5c,._26RvG-oPnG3m5c:active,._26RvG-oPnG3m5c:hover{background:transparent}._26RvG-oPnG3m5c:hover ._3v7z5fxhXALUoR{color:#172b4d}",""]),t.locals={unsplashSearch:"_3yqfsSVYR8yjDU",unsplashSearchInputSection:"TBCpxHnpt53su5",unsplashSearchInput:"lR37eaCVHqVe18",unsplashSearchClearButton:"_26RvG-oPnG3m5c",unsplashSearchClearButtonIcon:"_3v7z5fxhXALUoR"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/Upload.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1kefSuo0uNZAva{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase}._2w85sGi5OdW2wf{margin:0;width:100%}._3kNiwjIoyLTow2{display:none}._2ciutp6C5PxYUd,._24z8ZTWu-7pmyi{font-size:12px;line-height:16px;margin-top:12px}._2ciutp6C5PxYUd{color:#5e6c84}._24z8ZTWu-7pmyi{color:#eb5a46}",""]),t.locals={heading:"_1kefSuo0uNZAva",upload:"_2w85sGi5OdW2wf",fileInput:"_3kNiwjIoyLTow2",tip:"_2ciutp6C5PxYUd",error:"_24z8ZTWu-7pmyi"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/BoardCard.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2UGUljkrL0WQdi{position:absolute;top:0;left:0;right:0;bottom:0}.QdgJLQ_7juPF2g{width:unset}._1wJ65TQv5CCW-o{width:200px;z-index:10}",""]),t.locals={boardLink:"_2UGUljkrL0WQdi",boardCard:"QdgJLQ_7juPF2g",searchCard:"_1wJ65TQv5CCW-o"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/EditCardButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3IF3avWmHwzLpc{box-sizing:content-box;display:flex;width:20px;height:20px;align-items:center;justify-content:center;background-color:#f4f5f7;background-clip:padding-box;background-origin:padding-box;border-radius:3px;opacity:.8;padding:4px;position:absolute;right:2px;top:2px;visibility:hidden;z-index:40}._3IF3avWmHwzLpc:hover{background-color:#ebecf0;opacity:1}._3IF3avWmHwzLpc:active{background-color:#dfe1e6;opacity:1}._3IF3avWmHwzLpc.ApithuIVV3SwXB{visibility:visible}",""]),t.locals={editCardButton:"_3IF3avWmHwzLpc",show:"ApithuIVV3SwXB"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/LinkCard.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-resolved-view-thumb]{height:160px;min-width:100%;max-width:100%}.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-forbidden-view],.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-not-found-view],.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-resolved-view],.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-unauthorized-view]{flex-direction:column-reverse;border:unset;border-radius:3px;box-shadow:unset;min-height:88px}.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-forbidden-view]:hover,.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-not-found-view]:hover,.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-resolved-view]:hover,.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-unauthorized-view]:hover{background-color:#f4f5f7}.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-content]{padding:8px}.hfEqV6Dvl9_gNw.QUcIjGZR7B8bAv div[data-trello-do-not-use-override=block-card-resolved-view-thumb]{display:none}.hfEqV6Dvl9_gNw.Sfs2Df47vuXDKE a[data-trello-do-not-use-override=block-card-content-header] span:nth-child(3){position:absolute;bottom:8px;right:8px;max-width:50%}.hfEqV6Dvl9_gNw ._3P2eowmQfJwrLb{text-decoration:none}.hfEqV6Dvl9_gNw ._3P2eowmQfJwrLb>a,.hfEqV6Dvl9_gNw ._3P2eowmQfJwrLb a[data-testid=lazy-render-placeholder]{word-break:break-all;display:inline-block;padding:8px;line-height:20px;color:#0052cc}._2FjgPuLxBqsjiO{padding:6px 8px 2px}._2FjgPuLxBqsjiO ._3P2eowmQfJwrLb{clear:both;display:block;margin:0 0 4px;overflow:hidden;text-decoration:underline;word-wrap:break-word;color:#0052cc}",""]),t.locals={smartLinkCard:"hfEqV6Dvl9_gNw",hideCover:"QUcIjGZR7B8bAv",hasBadge:"Sfs2Df47vuXDKE",link:"_3P2eowmQfJwrLb",linkCard:"_2FjgPuLxBqsjiO"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/SeparatorCard.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._3larc7HOS2Wr7a{height:32px;border-radius:3px;display:flex;align-items:center;justify-content:center;flex-direction:column;overflow:hidden;width:70%;margin:0 auto}._3larc7HOS2Wr7a:before{content:"";display:block;width:100%;border-top:2px solid #c1c7d0}',""]),t.locals={separatorCardFront:"_3larc7HOS2Wr7a"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3PiJ2WyNY99H0v{background:#ebecf0}._2arBFfwXVxA0AM{margin-right:8px}._2arBFfwXVxA0AM:active,._2arBFfwXVxA0AM:visited{outline:none}._2arBFfwXVxA0AM:focus{outline:1px auto -webkit-focus-ring-color}._2arBFfwXVxA0AM .icon-template-card{margin-right:0}",""]),t.locals={popover:"_3PiJ2WyNY99H0v",cardTemplateButton:"_2arBFfwXVxA0AM"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1gN8uXOfybjSaC{text-align:center;margin-bottom:12px}._9_-qCCbjiiNeHt{margin-bottom:0}._17ubmepy2-mYZb{flex:1 1 auto;z-index:1;min-height:0;padding-top:1px}._1NBxMapN6ogWWX{display:flex}._13EPD62dgXxJoa{width:100%;margin-bottom:8px;min-height:56px}._1vnFiqTFvUbHmO,._2t77MEi0PcsMTi{margin-top:8px;margin-bottom:0}.qc5qf-WU-D6S1U{text-decoration:none}.o0k1FA-_28rf9K{display:flex;flex-direction:column;margin-left:8px}.o0k1FA-_28rf9K ._3Piz0dNsYmYOhL{width:32px;padding:6px 8px;margin-bottom:8px}.o0k1FA-_28rf9K ._3Piz0dNsYmYOhL:focus{outline:1px auto -webkit-focus-ring-color}",""]),t.locals={emptyStateMessage:"_1gN8uXOfybjSaC",createNewTemplateButton:"_9_-qCCbjiiNeHt",templateCards:"_17ubmepy2-mYZb",templateCardContainer:"_1NBxMapN6ogWWX",templateCard:"_13EPD62dgXxJoa",editTemplatesButton:"_1vnFiqTFvUbHmO",finishEditingButton:"_2t77MEi0PcsMTi",noTextDecoration:"qc5qf-WU-D6S1U",controlButtons:"o0k1FA-_28rf9K",controlButton:"_3Piz0dNsYmYOhL"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2NkSOgcUn7Xcve{margin-top:8px;margin-bottom:8px}._2NkSOgcUn7Xcve:last-child{margin-bottom:0}._2RfGKd4tIw-XUP{text-decoration:none}._1FoQzNHcvCPp1q{margin-top:0;margin-bottom:0}._3WNLfRSLnnkkmi{width:100%;margin-bottom:8px;min-height:72px;background-color:#fff;border-radius:3px;box-sizing:border-box;box-shadow:0 1px 0 0 rgba(9,30,66,.25);display:block;padding-bottom:6px;position:relative;overflow:hidden}.F3X6m84g4ieEPZ{padding:8px 8px 0}._1lfupGZ_Pw3Omh{background-color:#fff;border:1px solid #00000000;box-shadow:none;padding:0;overflow:hidden;overflow-wrap:break-word;resize:none;height:60px}._1lfupGZ_Pw3Omh:focus,._1lfupGZ_Pw3Omh:hover{box-shadow:none;background-color:transparent}",""]),t.locals={createCardButton:"_2NkSOgcUn7Xcve",editTemplateLink:"_2RfGKd4tIw-XUP",editTemplateButton:"_1FoQzNHcvCPp1q",templateCard:"_3WNLfRSLnnkkmi",templateCardNameContainer:"F3X6m84g4ieEPZ",templateCardEditTitle:"_1lfupGZ_Pw3Omh"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/TemplateCardComposer.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1z6lMwQy3ObsrK{border-radius:3px;color:#5e6c84;display:flex;flex:0 0 auto;padding:4px 8px;position:relative;text-decoration:none;-webkit-user-select:none;user-select:none;cursor:pointer}._1z6lMwQy3ObsrK ._38xwr8TrHEbGDN{color:#6b778c;margin-right:2px;width:20px;height:20px;display:inline-flex;justify-content:center;align-items:center}._1z6lMwQy3ObsrK:hover{background-color:rgba(9,30,66,.08);color:#172b4d;text-decoration:none}._1z6lMwQy3ObsrK:hover ._38xwr8TrHEbGDN{color:#42526e}._1z6lMwQy3ObsrK:active{background-color:rgba(9,30,66,.13)}._3730WlziYhHDQa,._3730WlziYhHDQa:focus,._3730WlziYhHDQa:hover{background:none;border:none;box-shadow:none;height:auto!important;margin-bottom:4px!important;max-height:162px;min-height:54px;overflow-y:auto;padding:0;resize:none}._3FwclAq3n9xe43{display:flex}._3yXlJeRn0Etb5h{margin-bottom:0}.p7jyk-R-Ofxu1z{margin-left:8px;cursor:pointer}.p7jyk-R-Ofxu1z ._1TgqRIZIIMKMV-{display:inline-flex;height:32px;align-items:center}.p7jyk-R-Ofxu1z:hover ._1TgqRIZIIMKMV- svg{color:#172b4d}._3amdh54KEULv4z{background-color:#fff;border-radius:3px;box-shadow:0 1px 0 rgba(9,30,66,.25);cursor:pointer;display:block;margin-bottom:8px;max-width:300px;min-height:20px;position:relative;text-decoration:none;z-index:0}._3amdh54KEULv4z a{color:#172b4d}._2X-1PEvh3NMQUN{overflow:hidden;padding:6px 8px 2px;position:relative;z-index:10}",""]),t.locals={openTemplateCardComposer:"_1z6lMwQy3ObsrK",iconAdd:"_38xwr8TrHEbGDN",templateCardComposerTextarea:"_3730WlziYhHDQa",listCardButtons:"_3FwclAq3n9xe43",addButton:"_3yXlJeRn0Etb5h",closeButton:"p7jyk-R-Ofxu1z",closeIcon:"_1TgqRIZIIMKMV-",listCard:"_3amdh54KEULv4z",listCardDetails:"_2X-1PEvh3NMQUN"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerActive.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2N560lTQ3WyptT{padding:4px 4px 4px 16px;background-color:rgba(9,30,66,.95);display:flex;align-items:center;justify-content:space-between;line-height:18px;font-weight:600;height:auto}._1MRQX_IJiyLODx{margin-right:8px}._2XwOJ2654HK9f7{align-items:center}._2XwOJ2654HK9f7,._3OjkzahPuddAwo,.nTLDRV8fEmYp_k{display:flex;flex-direction:row}._2xrxB8mjhio6GW{background-color:#5aac44;box-shadow:none;border:none;color:#fff;-webkit-text-decoration-line:none;text-decoration-line:none;font-size:14px;line-height:20px;font-weight:400;min-width:-webkit-fit-content;min-width:fit-content;margin:0;padding:6px 12px;border-radius:3px;transition:background .1s ease-out,box-shadow .15s cubic-bezier(.47,.03,.49,1.38);transition-duration:.1s,.15s;white-space:nowrap}._2xrxB8mjhio6GW svg circle{stroke:#fff}._2xrxB8mjhio6GW:hover{background-color:#61bd4f;box-shadow:none;border:none;color:#fff}._2xrxB8mjhio6GW:hover svg circle{stroke:#fff}._2xrxB8mjhio6GW:active{background-color:#49852e;box-shadow:none;border:none;color:#fff;outline:0}._2xrxB8mjhio6GW:active svg circle{stroke:#fff}._1qtkcneZ81jS1L{background-color:#0079bf;box-shadow:none;border:none;color:#fff}._1qtkcneZ81jS1L svg circle{stroke:#fff}._1qtkcneZ81jS1L:hover{background-color:#026aa7;box-shadow:none;border:none;color:#fff}._1qtkcneZ81jS1L:hover svg circle{stroke:#fff}._1qtkcneZ81jS1L:active{background-color:#055a8c;box-shadow:none;border:none;color:#fff;outline:0}._1qtkcneZ81jS1L:active svg circle{stroke:#fff}._2PQZa2WycxY8zh{margin:0;padding:0;min-width:34px}._2PQZa2WycxY8zh,._2PQZa2WycxY8zh:hover{background-color:transparent}._3Zh8CvMx7ueezh{margin-left:2px;color:#42526e}._3Zh8CvMx7ueezh:hover{color:#fff}._3-6W2WtTj2jZOi{color:#a5adba;display:flex;align-items:center;margin-right:8px;margin-bottom:3px;-webkit-text-decoration-line:underline;text-decoration-line:underline;font-size:12px;line-height:16px;font-weight:500;cursor:pointer}._3-6W2WtTj2jZOi:hover{color:#fff}@media only screen and (max-width:600px),only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px){.nTLDRV8fEmYp_k{flex-direction:column-reverse;align-items:flex-end}._2PQZa2WycxY8zh{align-self:flex-start}._3-6W2WtTj2jZOi{margin-right:0}.nTLDRV8fEmYp_k{margin-left:20px}}._1Fjdy94ppLYU5t{color:#fff;background-color:rgba(9,30,66,.95)}._36guWW-fdGEyKw{display:flex;justify-content:center;align-items:center;background-color:#42526e;border-radius:3px;width:24px;height:24px;margin:0 4px}",""]),t.locals={container:"_2N560lTQ3WyptT",emoji:"_1MRQX_IJiyLODx",bcContainer:"_2XwOJ2654HK9f7",ctaContainer:"_3OjkzahPuddAwo",linkContainer:"nTLDRV8fEmYp_k",linkButton:"_2xrxB8mjhio6GW",linkButtonExp:"_1qtkcneZ81jS1L",closeButton:"_2PQZa2WycxY8zh",closeIcon:"_3Zh8CvMx7ueezh",linkCta:"_3-6W2WtTj2jZOi",bannerBg:"_1Fjdy94ppLYU5t",daysContainer:"_36guWW-fdGEyKw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerExpired.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._37x93_BLTtpSop{padding:4px 4px 4px 16px;background-color:rgba(9,30,66,.95);display:flex;align-items:center;justify-content:space-between;line-height:18px;font-weight:600;height:auto}._2n9meSIT_QtyH8{margin-right:8px}._2U26G_mw-D-OCX{align-items:center}._1Hbz1myrnCU46s,._2U26G_mw-D-OCX,._3G4H_sOWXC38KP{display:flex;flex-direction:row}._2mY0j81O9kAMfU{background-color:#5aac44;box-shadow:none;border:none;color:#fff;-webkit-text-decoration-line:none;text-decoration-line:none;font-size:14px;line-height:20px;font-weight:400;min-width:-webkit-fit-content;min-width:fit-content;margin:0;padding:6px 12px;border-radius:3px;transition:background .1s ease-out,box-shadow .15s cubic-bezier(.47,.03,.49,1.38);transition-duration:.1s,.15s;white-space:nowrap}._2mY0j81O9kAMfU svg circle{stroke:#fff}._2mY0j81O9kAMfU:hover{background-color:#61bd4f;box-shadow:none;border:none;color:#fff}._2mY0j81O9kAMfU:hover svg circle{stroke:#fff}._2mY0j81O9kAMfU:active{background-color:#49852e;box-shadow:none;border:none;color:#fff;outline:0}._2mY0j81O9kAMfU:active svg circle{stroke:#fff}._1jjwxMFRxt6A1i{background-color:#0079bf;box-shadow:none;border:none;color:#fff}._1jjwxMFRxt6A1i svg circle{stroke:#fff}._1jjwxMFRxt6A1i:hover{background-color:#026aa7;box-shadow:none;border:none;color:#fff}._1jjwxMFRxt6A1i:hover svg circle{stroke:#fff}._1jjwxMFRxt6A1i:active{background-color:#055a8c;box-shadow:none;border:none;color:#fff;outline:0}._1jjwxMFRxt6A1i:active svg circle{stroke:#fff}._1thjxAXGC3UsrM{margin:0;padding:0;min-width:34px}._1thjxAXGC3UsrM,._1thjxAXGC3UsrM:hover{background-color:transparent}._3jB-w4L8Uae--t{margin-left:2px;color:#42526e}._3jB-w4L8Uae--t:hover{color:#fff}.cj88FvRlJZ5HVe{color:#a5adba;display:flex;align-items:center;margin-right:8px;margin-bottom:3px;-webkit-text-decoration-line:underline;text-decoration-line:underline;font-size:12px;line-height:16px;font-weight:500;cursor:pointer}.cj88FvRlJZ5HVe:hover{color:#fff}@media only screen and (max-width:600px),only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px){._3G4H_sOWXC38KP{flex-direction:column-reverse;align-items:flex-end}._1thjxAXGC3UsrM{align-self:flex-start}.cj88FvRlJZ5HVe{margin-right:0}._3G4H_sOWXC38KP{margin-left:20px}}._1wo3_RPE13pGLp{color:#172b4d;background-color:#d6ecd2}.cj88FvRlJZ5HVe{color:#172b4d;margin-top:5px}.cj88FvRlJZ5HVe:hover{color:#42526e}",""]),t.locals={container:"_37x93_BLTtpSop",emoji:"_2n9meSIT_QtyH8",bcContainer:"_2U26G_mw-D-OCX",ctaContainer:"_1Hbz1myrnCU46s",linkContainer:"_3G4H_sOWXC38KP",linkButton:"_2mY0j81O9kAMfU",linkButtonExp:"_1jjwxMFRxt6A1i",closeButton:"_1thjxAXGC3UsrM",closeIcon:"_3jB-w4L8Uae--t",linkCta:"cj88FvRlJZ5HVe",expiredBg:"_1wo3_RPE13pGLp"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialPlanSelection.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".zy_ZQ64E_28jRU{padding:8px 32px 24px;text-align:center}.zy_ZQ64E_28jRU h1{font-size:24px;margin-top:0;letter-spacing:-.01px;line-height:28px;padding-top:20px;font-weight:500}.zy_ZQ64E_28jRU h1 img{vertical-align:text-bottom;margin:0 8px}.zy_ZQ64E_28jRU h2{font-size:14px;font-weight:400;line-height:20px;margin:8px 0 0}@media only screen and (max-width:750px){.zy_ZQ64E_28jRU{padding:16px}.zy_ZQ64E_28jRU h1{padding-top:0;font-size:20px;margin-bottom:8px}.zy_ZQ64E_28jRU h2{line-height:20px}}._16lmArv_imxoEI{color:#89609e;font-size:33px}._2PpmAPYBjGdKnA{display:flex;flex-direction:row;padding:0 24px 8px}@media only screen and (max-width:750px){._2PpmAPYBjGdKnA{padding:0 16px 8px}}._2Oi3zDyOZwlD4Q,._3slODlZkmgnMCb,.tbggjH8n6OtAXV{display:flex;flex:1;flex-direction:column;padding:16px;border-radius:3px;border:3px solid #f4f5f7}._2Oi3zDyOZwlD4Q h2,._3slODlZkmgnMCb h2,.tbggjH8n6OtAXV h2{text-align:center;font-size:16px;font-weight:500;line-height:20px;margin:0;padding:4px 0 5px;color:#484553}._2Oi3zDyOZwlD4Q ._20YfSrIWe28hiu,._3slODlZkmgnMCb ._20YfSrIWe28hiu,.tbggjH8n6OtAXV ._20YfSrIWe28hiu{font-weight:700;margin-bottom:0;font-size:11px;text-align:center;color:#6c547b}._2Oi3zDyOZwlD4Q p,._3slODlZkmgnMCb p,.tbggjH8n6OtAXV p{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;padding:8px 0 0;text-align:center}._2Oi3zDyOZwlD4Q ul,._3slODlZkmgnMCb ul,.tbggjH8n6OtAXV ul{flex:1}@media only screen and (max-width:750px){._2Oi3zDyOZwlD4Q,._3slODlZkmgnMCb,.tbggjH8n6OtAXV{position:relative;padding:16px 8px 8px}._2Oi3zDyOZwlD4Q h2,._3slODlZkmgnMCb h2,.tbggjH8n6OtAXV h2{font-size:14px;margin-bottom:8px}._2Oi3zDyOZwlD4Q p,._3slODlZkmgnMCb p,.tbggjH8n6OtAXV p{padding:4px 0;font-size:12px}}._3slODlZkmgnMCb,.tbggjH8n6OtAXV{margin:8px -3px 8px 0}._3slODlZkmgnMCb h2,.tbggjH8n6OtAXV h2{color:#5e6c84}@media only screen and (max-width:750px){._3slODlZkmgnMCb,.tbggjH8n6OtAXV{display:none}}._2Oi3zDyOZwlD4Q{position:relative;background-color:#f7f0fa;border-color:#eddbf4}@media only screen and (max-width:750px){._2Oi3zDyOZwlD4Q h2{display:none}}._3D-KcI-HT3kXuQ{background-color:#f2d600;color:#172b4d;border-radius:3px;display:inline-block;height:18px;padding:0 12px;font-size:12px;text-align:center;line-height:18px;align-self:center;margin-top:-25px}._3slODlZkmgnMCb,.f_YzlIq6WPNxB_{margin:16px -3px 16px 0}._2Oi3zDyOZwlD4Q.XXCxmhLu-yYmu2 ._3D-KcI-HT3kXuQ{font-weight:700;padding:2px 12px;font-size:11px}._1Rt7DE1tx8CySC{display:flex;padding:8px;text-align:left}._1Rt7DE1tx8CySC ._3yDwpWXQhoFxdt{color:#42526e;margin-right:8px}@media only screen and (max-width:750px){._1Rt7DE1tx8CySC{padding:8px 0}._1Rt7DE1tx8CySC ._3yDwpWXQhoFxdt{width:16px;height:16px;line-height:16px;font-size:16px;margin-right:4px}}._1d-dFKXscj4xfb{display:flex}._3zwlTiSt3cEQDO{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;display:inline;color:#172b4d;line-height:20px;flex:1;margin-left:10px}@media only screen and (max-width:750px){._3zwlTiSt3cEQDO{font-size:14px;line-height:16px}}._1J-F5vGwoeXF1a{cursor:pointer}._1J-F5vGwoeXF1a ._3zwlTiSt3cEQDO{border-bottom:2px dashed #97a0af;padding-bottom:1px}._2EiF7tEJdDzjVI{display:flex;flex-direction:column;padding:0 24px;margin-top:8px}._2EiF7tEJdDzjVI p{flex:1;text-align:center;color:#8993a4;font-size:12px}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L{display:flex;justify-content:center;align-items:center;margin-bottom:16px}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L span{color:#5e6c84;margin-top:20px;margin:0;text-transform:uppercase;padding-right:8px;color:#6b778c;font-size:12px;line-height:16px;font-weight:600}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L img{padding:0 8px}._2EiF7tEJdDzjVI ._1A9FfYQGkg0DaB{font-size:12px;line-height:16px;color:#5e6c84;margin-bottom:16px}._2EiF7tEJdDzjVI ._1A9FfYQGkg0DaB span{text-decoration:underline}._2EiF7tEJdDzjVI ._1qINNpZO_1hOCK{align-self:center;display:inline-block;background:rgba(9,30,66,.04);border-radius:3px;padding:6px 12px;font-size:14px;line-height:20px;color:#172b4d;margin-bottom:16px;text-decoration:none}._2EiF7tEJdDzjVI ._1qINNpZO_1hOCK:hover{background:rgba(9,30,66,.13)}@media only screen and (max-width:750px){._2EiF7tEJdDzjVI{padding:0 16px}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L{flex-wrap:wrap}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L span{display:block;width:100%;margin:8px 0}}._1IGMnFTTE1yvnJ{mix-blend-mode:hard-light}",""]),t.locals={heading:"zy_ZQ64E_28jRU",headingIcon:"_16lmArv_imxoEI",bodyWrapper:"_2PpmAPYBjGdKnA",bcPlan:"_2Oi3zDyOZwlD4Q",freePlan:"tbggjH8n6OtAXV",staPlan:"_3slODlZkmgnMCb",subLabel:"_20YfSrIWe28hiu",recommendedLabel:"_3D-KcI-HT3kXuQ",freePlanNusku:"f_YzlIq6WPNxB_",bcPlanNusku:"XXCxmhLu-yYmu2",featureItem:"_1Rt7DE1tx8CySC",featureIcon:"_3yDwpWXQhoFxdt",featureItemWrapper:"_1d-dFKXscj4xfb",featureContent:"_3zwlTiSt3cEQDO",tooltipTarget:"_1J-F5vGwoeXF1a",actions:"_2EiF7tEJdDzjVI",trustedBy:"_1ywZNvfU6aYi4L",afterTrial:"_1A9FfYQGkg0DaB",secondaryCta:"_1qINNpZO_1hOCK",spinner:"_1IGMnFTTE1yvnJ"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelection.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1or2fRlzUFCY7b{padding:16px 32px;text-align:center}._1or2fRlzUFCY7b h1{font-size:24px;margin-top:0;letter-spacing:-.01px;line-height:28px;padding-top:20px}._1or2fRlzUFCY7b h2{font-size:14px;font-weight:400;margin:8px 0 0}@media only screen and (max-width:750px){._1or2fRlzUFCY7b{padding:16px}._1or2fRlzUFCY7b h1{padding-top:0;font-size:20px;margin-bottom:8px}._1or2fRlzUFCY7b h2{line-height:20px}}.Un6lamEaRbz4uy{color:#89609e;font-size:33px}.iy3rXmWQICgxb3{display:flex;flex-direction:row;padding:0 16px 8px}._1iK0jrL0RcWs8y,._1RfayTVWAZtHjj{display:flex;flex:1;flex-direction:column;padding:16px}._1iK0jrL0RcWs8y h2,._1RfayTVWAZtHjj h2{text-align:center;font-size:16px;line-height:20px;margin:0;padding:4px 0 5px}._1iK0jrL0RcWs8y p,._1RfayTVWAZtHjj p{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;color:#5e6c84;padding:8px 0 0;text-align:center}._1iK0jrL0RcWs8y ul,._1RfayTVWAZtHjj ul{flex:1}@media only screen and (max-width:750px){._1iK0jrL0RcWs8y,._1RfayTVWAZtHjj{position:relative;padding:16px 8px 8px}._1iK0jrL0RcWs8y h2,._1RfayTVWAZtHjj h2{font-size:14px;margin-bottom:8px}._1iK0jrL0RcWs8y p,._1RfayTVWAZtHjj p{padding:4px 0;font-size:12px}}._1iK0jrL0RcWs8y h2{color:#5e6c84}._1RfayTVWAZtHjj{position:relative;background-color:#f7f0fa;color:#172b4d}._2ShULneJqBlULX{background-color:#f2d600;border-radius:3px;width:89px;height:18px;padding:1px;transform:rotate(10.21deg);position:absolute;right:-7px;top:-8px;font-size:12px;text-align:center;line-height:16px}@media only screen and (max-width:750px){._2ShULneJqBlULX{position:absolute;top:-12px;transform:translateX(-50%);left:50%;font-size:10px;width:80px;height:16px}}._3JIQjFv2GP7nbR{display:flex;padding:8px}._3JIQjFv2GP7nbR ._1Fm4qaiAuHnXXK{color:#42526e;margin-right:8px;width:20px;height:20px;flex:0 0 20px;line-height:20px}@media only screen and (max-width:750px){._3JIQjFv2GP7nbR{padding:8px 0}._3JIQjFv2GP7nbR ._1Fm4qaiAuHnXXK{width:16px;height:16px;line-height:16px;font-size:16px;margin-right:4px}}._3EY0dN0ATMPSbV{display:flex}._1mFi1D8Y_l8YRL{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;display:inline;color:#172b4d;line-height:20px;flex:1}@media only screen and (max-width:750px){._1mFi1D8Y_l8YRL{font-size:14px;line-height:16px}}._27or2EkLlTB6B7{cursor:pointer}._27or2EkLlTB6B7 ._1mFi1D8Y_l8YRL{border-bottom:2px dashed #97a0af;padding-bottom:1px}._1ivmjdL7obkKr7{display:flex;align-items:center;flex-direction:column;padding:0 32px;margin-top:8px}._1ivmjdL7obkKr7 p{width:100%;text-align:center;color:#8993a4;font-size:12px}._1G7HxsteMCpeIo{color:#8993a4;margin:12px 0}._1G7HxsteMCpeIo:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._1G7HxsteMCpeIo:focus{outline:5px auto -webkit-focus-ring-color}}._1G7HxsteMCpeIo:hover{color:#5e6c84}",""]),t.locals={heading:"_1or2fRlzUFCY7b",headingIcon:"Un6lamEaRbz4uy",bodyWrapper:"iy3rXmWQICgxb3",bcPlan:"_1RfayTVWAZtHjj",freePlan:"_1iK0jrL0RcWs8y",recommendedLabel:"_2ShULneJqBlULX",featureItem:"_3JIQjFv2GP7nbR",featureIcon:"_1Fm4qaiAuHnXXK",featureItemWrapper:"_3EY0dN0ATMPSbV",featureContent:"_1mFi1D8Y_l8YRL",tooltipTarget:"_27or2EkLlTB6B7",actions:"_1ivmjdL7obkKr7",learnMore:"_1G7HxsteMCpeIo"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelectionOverlay.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".TAPXNueu2hw5pN{box-shadow:0 8px 16px -4px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);width:600px;background:#fff;border-radius:3px;border:1px solid rgba(9,30,66,.08);padding:8px;position:relative;outline:0;transition:height .1s ease-in-out}@media only screen and (max-width:750px){.TAPXNueu2hw5pN{max-width:none;min-width:0;width:100%;border:0;display:flex;flex-direction:column;flex-grow:1}}._3f1iB7LHb9zRPD{width:800px}@media only screen and (max-width:750px){._3f1iB7LHb9zRPD{max-width:none;min-width:0;width:100%;border:0;display:flex;flex-direction:column;flex-grow:1}}._1y7opsmGmOEJWT{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6}._1y7opsmGmOEJWT:focus,._1y7opsmGmOEJWT:hover{opacity:1}._2ZpqyegRfFbQ9D{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6;right:6px}._2ZpqyegRfFbQ9D:focus,._2ZpqyegRfFbQ9D:hover{opacity:1}.Gh_AD0DB2L8_4d{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6;left:6px}.Gh_AD0DB2L8_4d:focus,.Gh_AD0DB2L8_4d:hover{opacity:1}._3xswMGw_nfN1Th{display:flex;align-items:center;justify-content:center;border-radius:3px;color:#fff;background:#0079bf;text-decoration:none;margin:0;font-weight:400;font-size:16px;height:40px;width:100%}._3xswMGw_nfN1Th:hover{color:#fff;background:#026aa7}.TeZmHGg1-RhPOS{display:flex;align-items:center;justify-content:center;width:100%;margin:0 0 16px;font-size:14px;font-weight:400;line-height:20px;padding:8px 0}",""]),t.locals={overlay:"TAPXNueu2hw5pN",overlayExpanded:"_3f1iB7LHb9zRPD","top-button":"_1y7opsmGmOEJWT",close:"_2ZpqyegRfFbQ9D",back:"Gh_AD0DB2L8_4d",planSelectionCtaButton:"_3xswMGw_nfN1Th",freeTrialPlanSelectionCtaButton:"TeZmHGg1-RhPOS"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/UpsellOverlay.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".lifmGNSoimxSIN{padding:8px;background:#fff;border-radius:3px}._1OYaD5X4bOFzHP{background:#fdfae5;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:16px 26px;text-align:center}._1OYaD5X4bOFzHP h3{margin-top:12px}._1OYaD5X4bOFzHP p{margin-top:6px;margin-bottom:16px}._2r0TugWKrjdprP{margin-top:6px;background:#f2d600;padding:2px 4px;border-radius:3px;font-size:11px}._2GUkxuwG8-jCEf{padding:16px 16px 0}._1NTgUUWh46GWue{display:flex;align-items:center;justify-content:space-between;margin-top:-10px;height:40px}._1NTgUUWh46GWue h3{color:#6c547b}._1NTgUUWh46GWue img{transform:rotate(10deg)}._1k-y-i8bm9Rl7F{display:flex;align-items:baseline;margin-bottom:10px}.tV0YibQqlji1H7{margin-bottom:18px}._239mqRKuaByA6p{width:6px;height:6px;background-color:#0079bf;border-radius:50%;margin-right:6px;position:relative;top:-2px}._2mVouPFPjhrU6J{height:32px;padding:0}.-JasI9K5v4uv56{mix-blend-mode:hard-light}",""]),t.locals={upsellOverlay:"lifmGNSoimxSIN",upsellOverlayHeader:"_1OYaD5X4bOFzHP",upsellOverlayTag:"_2r0TugWKrjdprP",upsellOverlayBody:"_2GUkxuwG8-jCEf",upsellOverlayBodyHeader:"_1NTgUUWh46GWue",upsellOverlayThing:"_1k-y-i8bm9Rl7F",upsellOverlayThings:"tV0YibQqlji1H7",upsellOverlayThingBullet:"_239mqRKuaByA6p",button:"_2mVouPFPjhrU6J",spinner:"-JasI9K5v4uv56"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/NewFeature/NewPill.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1vjyFh9E-pUCZA:focus{border:none;box-shadow:none}._3j76mYiHVAvmoL{cursor:pointer;-webkit-user-select:none;user-select:none}._1Xn5PVqTB27keA{font-weight:600}",""]),t.locals={unstyledLink:"_1vjyFh9E-pUCZA",link:"_3j76mYiHVAvmoL",lozenge:"_1Xn5PVqTB27keA"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverConfirm/PopoverConfirm.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".G7qauLECfKVgm8{padding:0 12px;word-break:break-word}.G7qauLECfKVgm8 p{margin:0 0 16px}",""]),t.locals={confirmContainer:"G7qauLECfKVgm8"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUp/PowerUp.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1lLRnuhj7MiQQF{display:flex;flex-direction:row}._30LTqEehDsG83N{display:flex;flex-direction:column}._3fokiJqW6rqpFc{position:relative}._1YI6D0ENmWlbyl{display:flex;flex-direction:row;justify-content:space-between}.CXwFNSpcT1xr3d{display:flex;flex-direction:column;justify-content:center}._3mTS3MJQ0gGnhb{display:grid}._2DdFLJPkxN5DD3{display:grid;grid-template-rows:40px auto 54px minmax(-webkit-min-content,auto);grid-template-rows:40px auto 54px minmax(min-content,auto);justify-content:left;row-gap:8px}._3PjAh1k9HBIj-c{display:grid;grid-auto-rows:40px auto;margin-bottom:8px;row-gap:12px}._3zEq_j-5iqRs7K{align-items:center;display:grid;grid-template-columns:40px 1fr}.OuaXH5vEIPwpoO{display:grid;grid-template-columns:1fr auto}._1FJaSOBsMj4nr6{display:flex;flex-direction:column;justify-content:center;width:100%}._1ZTnDDFqiMGVHz{display:-webkit-box;font-size:16px;font-weight:700;line-height:20px;margin-left:8px;max-height:40px;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2}._1ZTnDDFqiMGVHz._33AqeTqYWd_EnT{height:18px;margin-bottom:4px;min-width:100px}._36GWTfgpbEzTAd{display:-webkit-box;font-size:16px;font-weight:700;line-height:20px;margin-left:8px;max-height:20px;-webkit-box-orient:vertical;-webkit-line-clamp:1}._2Ebh5tibGDiJvV,._36GWTfgpbEzTAd{overflow:hidden;text-overflow:ellipsis}._2Ebh5tibGDiJvV{font-size:14px;letter-spacing:-.3px;line-height:normal;margin-left:7px;white-space:no-wrap}._6lnM9Pmsa7OZqd{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:4px;display:inline-block;text-align:center;height:40px;width:40px}._3APjYsu72A98AE{display:flex;flex-wrap:wrap;margin-bottom:-4px}._3APjYsu72A98AE a,._3APjYsu72A98AE button{margin-right:8px}._10CgDe-0Tfd7wc{align-items:center;border-radius:3px;color:#5e6c84;display:flex;font-size:12px;height:24px;line-height:14px;margin-bottom:4px;margin-right:12px;white-space:nowrap}._1u5oAU1H9csoSE{margin-right:8px}._3CiCZ2SaTDo0jx{color:#5e6c84;display:-webkit-box;font-size:14px;height:54px;line-height:18px;max-height:54px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3}.Zi7Q0cGwCC8VL-{background-color:#fafbfc;border-radius:4px;padding:8px}.Zi7Q0cGwCC8VL-:hover{background:rgba(0,0,0,.05)}._1c7CA48jRPfutu{background:#fafbfc;min-width:304px;border-radius:4px}._2FQIVs-7Reo8Nf{padding:10px}._1SBNcuqmU-SQ83{height:240px;width:100%;border-radius:4px 4px 0 0}@keyframes _29PplH4L7kMCK5{0%{background-position:-468px 0}to{background-position:468px 0}}._33AqeTqYWd_EnT{animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:_29PplH4L7kMCK5;background:linear-gradient(90deg,#ebecf0 8%,#dfe1e6 18%,#ebecf0 33%);background-size:800px 104px}._3EnnxWhOMGMvsf{height:24px;min-width:64px;margin-top:3px;border-radius:3px}.directory-individual-listing .PEnJGXPBgjNbGZ{margin-left:8px}",""]),t.locals={flexRow:"_1lLRnuhj7MiQQF",flexColumn:"_30LTqEehDsG83N",relative:"_3fokiJqW6rqpFc",flexRowSpaceBetween:"_1YI6D0ENmWlbyl",flexColumnCenter:"CXwFNSpcT1xr3d",gridColumn:"_3mTS3MJQ0gGnhb",descriptionAtomGrid:"_2DdFLJPkxN5DD3",listingAtomGrid:"_3PjAh1k9HBIj-c",logoNameGrid:"_3zEq_j-5iqRs7K",twoColumnGrid:"OuaXH5vEIPwpoO",nameContainer:"_1FJaSOBsMj4nr6",name:"_1ZTnDDFqiMGVHz",loadingSkeleton:"_33AqeTqYWd_EnT",listingName:"_36GWTfgpbEzTAd",subtitle:"_2Ebh5tibGDiJvV",icon:"_6lnM9Pmsa7OZqd",badges:"_3APjYsu72A98AE",pupBadge:"_10CgDe-0Tfd7wc",usageBadgeIcon:"_1u5oAU1H9csoSE",description:"_3CiCZ2SaTDo0jx",descriptionAtom:"Zi7Q0cGwCC8VL-",featuredAtomContainer:"_1c7CA48jRPfutu",featuredAtom:"_2FQIVs-7Reo8Nf",heroImage:"_1SBNcuqmU-SQ83",loadingSkeletonAnimation:"_29PplH4L7kMCK5",loadingSkeletonButton:"_3EnnxWhOMGMvsf",pupIntegrationBadge:"PEnJGXPBgjNbGZ"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/Banner.less":function(e,t,i){var n=i("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3qHoByTOWZko5P{display:flex;flex-flow:row;flex-wrap:wrap}._1Q70GHZ2Wl-JfQ{display:flex;justify-content:center}._2k7uRVZ5WfV0LU{min-height:calc(100vh - 40px);flex:1 1 auto;background-color:#fff;padding-bottom:32px}._1kekG_m4tw-LbT{display:flex;justify-content:center;padding-top:32px}@media only screen and (max-width:600px){._1kekG_m4tw-LbT{display:block;padding-top:0}}@media only screen and (max-width:860px){._1kekG_m4tw-LbT._11drs5wtlH60HH{display:block;padding-top:0}}._1FEzWnHBzfBE_C{width:960px}@media only screen and (max-width:1242px){._1FEzWnHBzfBE_C{width:640px}}@media only screen and (max-width:1007px){._1FEzWnHBzfBE_C{width:100%}}@media only screen and (max-width:600px){._1FEzWnHBzfBE_C._3jyM6OaVPm9ToY{display:none}}._1FEzWnHBzfBE_C._11drs5wtlH60HH{width:960px}@media only screen and (max-width:1520px){._1FEzWnHBzfBE_C._11drs5wtlH60HH{width:640px}}@media only screen and (max-width:1267px){._1FEzWnHBzfBE_C._11drs5wtlH60HH{width:100%}}._2gpTlucDYjyxbE{display:flex;align-items:center;justify-content:center}.TTQFsXQGZvhCd1{color:#172b4d;font-size:14px;line-height:24px;padding:0 15%}@media only screen and (max-width:1242px){.TTQFsXQGZvhCd1{padding:0 10%}}.TTQFsXQGZvhCd1 ._22tSIZ9e2nazBl{margin:16px auto;width:100%}._2SJ9K1IOXa3iMn{width:100%}@media only screen and (max-width:951px){._2SJ9K1IOXa3iMn{display:none}}@media only screen and (max-width:1204px){._2SJ9K1IOXa3iMn._11drs5wtlH60HH{display:none}}._21Np62trcz-OkS{background:url("+n(i("./resources/images/directory/power-ups-banner-v2.png"))+");background-position:top;background-repeat:no-repeat;padding:16px;background-origin:content-box;align-items:center;color:#091e42;display:flex;height:240px;justify-content:center;text-align:center;width:100%;max-width:912px;min-width:272px;border-radius:4px;box-shadow:0 1px 3px rgba(0,0,0,.15);margin-bottom:16px;background-size:100%}@media only screen and (max-width:1242px){._21Np62trcz-OkS{max-width:592px}}@media only screen and (max-width:951px){._21Np62trcz-OkS{max-width:272px;background-position-y:14px}}._21Np62trcz-OkS ._1EEzUN56VkLkFo{font-size:48px;margin-bottom:32px}@media only screen and (max-width:951px){._21Np62trcz-OkS ._1EEzUN56VkLkFo{font-size:32px;margin-bottom:16px}}._21Np62trcz-OkS ._29-0tmiIE2hpte{max-width:600px;color:#6b808c;font-size:16px;line-height:24px;padding:8px}@media only screen and (max-width:951px){._21Np62trcz-OkS ._29-0tmiIE2hpte{font-size:13px}}._21Np62trcz-OkS ._2X5KWREIl293Pn{max-width:600px;color:#6b808c;font-size:16px;line-height:24px;padding:8px;font-weight:700;font-size:18px;padding-top:16px;padding-bottom:0}@media only screen and (max-width:951px){._21Np62trcz-OkS ._2X5KWREIl293Pn{font-size:13px}}@media only screen and (max-width:1520px){._21Np62trcz-OkS._11drs5wtlH60HH{max-width:592px}}@media only screen and (max-width:1204px){._21Np62trcz-OkS._11drs5wtlH60HH{max-width:272px;background-position-y:14px}}@media only screen and (max-width:1204px){._21Np62trcz-OkS._11drs5wtlH60HH ._1EEzUN56VkLkFo{font-size:32px;margin-bottom:16px}}@media only screen and (max-width:1204px){._21Np62trcz-OkS._11drs5wtlH60HH ._29-0tmiIE2hpte{font-size:13px}}",""]),t.locals={flexRowWrap:"_3qHoByTOWZko5P",flexAndCenter:"_1Q70GHZ2Wl-JfQ",directoryBody:"_2k7uRVZ5WfV0LU",navigationAndContent:"_1kekG_m4tw-LbT",workspaceNavigationExpanded:"_11drs5wtlH60HH",directoryContent:"_1FEzWnHBzfBE_C",navigationExpanded:"_3jyM6OaVPm9ToY",directorySpinnerContainer:"_2gpTlucDYjyxbE",listingWrapper:"TTQFsXQGZvhCd1",upgradePromptFullPupPage:"_22tSIZ9e2nazBl",directoryBannerContainer:"_2SJ9K1IOXa3iMn",directoryBanner:"_21Np62trcz-OkS",bannerHeading:"_1EEzUN56VkLkFo",bannerParagraph:"_29-0tmiIE2hpte",buildYourOwnPowerUp:"_2X5KWREIl293Pn"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpItem.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2HK0WqXwW8qVq1{cursor:pointer;margin:8px 16px 8px 0;height:-webkit-max-content;height:max-content;width:304px}@media only screen and (max-width:951px){._2HK0WqXwW8qVq1{margin:8px}}._3v9w5df-91jY72{cursor:default;margin:16px 0 0;width:100%}._3LyTxm3sWFYwEy{justify-self:start;width:-webkit-max-content;width:max-content;text-decoration:none}._3oNzMddEhJyhDD{border-radius:3px;font-weight:400;height:24px;line-height:16px;margin:0;padding:4px 8px;min-width:64px}",""]),t.locals={powerUpItem:"_2HK0WqXwW8qVq1",listingPowerUpItem:"_3v9w5df-91jY72",buttonAnchor:"_3LyTxm3sWFYwEy",addButton:"_3oNzMddEhJyhDD"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpsList.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1nzy-GVwQ1uPti{display:flex;flex-flow:row;flex-wrap:wrap}.-ClPpJ2E9Co_iz{display:flex;justify-content:center}._1QucEkMINWg7kR{min-height:calc(100vh - 40px);flex:1 1 auto;background-color:#fff;padding-bottom:32px}._898GqOIDUM6ueT{display:flex;justify-content:center;padding-top:32px}@media only screen and (max-width:600px){._898GqOIDUM6ueT{display:block;padding-top:0}}@media only screen and (max-width:860px){._898GqOIDUM6ueT._1DpGJDFXqyIr55{display:block;padding-top:0}}._1xlpO5j4D7G3OL{width:960px}@media only screen and (max-width:1242px){._1xlpO5j4D7G3OL{width:640px}}@media only screen and (max-width:1007px){._1xlpO5j4D7G3OL{width:100%}}@media only screen and (max-width:600px){._1xlpO5j4D7G3OL._2RcV0uqsK7RRPf{display:none}}._1xlpO5j4D7G3OL._1DpGJDFXqyIr55{width:960px}@media only screen and (max-width:1520px){._1xlpO5j4D7G3OL._1DpGJDFXqyIr55{width:640px}}@media only screen and (max-width:1267px){._1xlpO5j4D7G3OL._1DpGJDFXqyIr55{width:100%}}._2I8n7pCMIyNUB9{display:flex;align-items:center;justify-content:center}._2LTonk0DPZD8Ti{color:#172b4d;font-size:14px;line-height:24px;padding:0 15%}@media only screen and (max-width:1242px){._2LTonk0DPZD8Ti{padding:0 10%}}._2LTonk0DPZD8Ti ._4zSIcmo21Dmw5o{margin:16px auto;width:100%}._3WzAgpIAfxInUO{width:100%;margin-bottom:16px}.Mo0YHkx0Smnw8-{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}@media only screen and (max-width:951px){.Mo0YHkx0Smnw8-{display:block}.Mo0YHkx0Smnw8- h2{text-align:center}}@media only screen and (max-width:1204px){.Mo0YHkx0Smnw8-._1DpGJDFXqyIr55{display:block}.Mo0YHkx0Smnw8-._1DpGJDFXqyIr55 h2{text-align:center}}@media only screen and (max-width:951px){._2mSyLqArjocA29{justify-content:center}}@media only screen and (max-width:1204px){._2mSyLqArjocA29._1DpGJDFXqyIr55{justify-content:center}}",""]),t.locals={flexRowWrap:"_1nzy-GVwQ1uPti",flexAndCenter:"-ClPpJ2E9Co_iz",directoryBody:"_1QucEkMINWg7kR",navigationAndContent:"_898GqOIDUM6ueT",workspaceNavigationExpanded:"_1DpGJDFXqyIr55",directoryContent:"_1xlpO5j4D7G3OL",navigationExpanded:"_2RcV0uqsK7RRPf",directorySpinnerContainer:"_2I8n7pCMIyNUB9",listingWrapper:"_2LTonk0DPZD8Ti",upgradePromptFullPupPage:"_4zSIcmo21Dmw5o",directoryPowerUpsList:"_3WzAgpIAfxInUO",directoryPowerUpsListHeader:"Mo0YHkx0Smnw8-",powerUpsList:"_2mSyLqArjocA29"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCode.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2SXsbBVkQNTN5f{text-align:center}.UDLZXx4mmLzkon{overflow:hidden;display:flex;align-items:center}.UDLZXx4mmLzkon ._2MgI0WCov9Av8r{margin:8px 16px 8px 0;height:100px;width:100px;flex:none}.UDLZXx4mmLzkon ._2g4fs4K3OjsfQE{padding-top:35px}.UDLZXx4mmLzkon button{margin-left:0!important}._33Eoe218B0nZfl{margin-bottom:0}._2MgI0WCov9Av8r{background:#fff;height:120px;width:120px;margin:16px auto;position:relative}._2MgI0WCov9Av8r ._2g4fs4K3OjsfQE{padding-top:45px}._2MgI0WCov9Av8r img{max-width:100%}._2MgI0WCov9Av8r small{display:none}._2MgI0WCov9Av8r i:after,._2MgI0WCov9Av8r i:before{content:"";height:15px;width:15px;border:0 solid #000;position:absolute}._2MgI0WCov9Av8r i._1tJv0bktuj_Bge:after,._2MgI0WCov9Av8r i._1tJv0bktuj_Bge:before{top:1px;border-top-width:2px}._2MgI0WCov9Av8r i._1tJv0bktuj_Bge:before{border-top-left-radius:8px;left:1px;border-left-width:2px}._2MgI0WCov9Av8r i._1tJv0bktuj_Bge:after{border-top-right-radius:8px;right:1px;border-right-width:2px}._2MgI0WCov9Av8r i._1sDgnTFUQL1B1D:after,._2MgI0WCov9Av8r i._1sDgnTFUQL1B1D:before{bottom:1px;border-bottom-width:2px}._2MgI0WCov9Av8r i._1sDgnTFUQL1B1D:before{border-bottom-left-radius:8px;left:1px;border-left-width:2px}._2MgI0WCov9Av8r i._1sDgnTFUQL1B1D:after{border-bottom-right-radius:8px;right:1px;border-right-width:2px}',""]),t.locals={qrCodeContent:"_2SXsbBVkQNTN5f",qrCodeInline:"UDLZXx4mmLzkon",qrCodeImage:"_2MgI0WCov9Av8r",qrCodeSpinner:"_2g4fs4K3OjsfQE",button:"_33Eoe218B0nZfl",top:"_1tJv0bktuj_Bge",bottom:"_1sDgnTFUQL1B1D"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodePopover.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2HHFO6xK0ghCTR{cursor:pointer;text-decoration:underline}",""]),t.locals={showQrCodeLink:"_2HHFO6xK0ghCTR"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodeToggle.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2lLml0WXXoiseT{cursor:pointer;display:inline-block;margin-bottom:8px;text-decoration:underline}",""]),t.locals={showQrCodeLink:"_2lLml0WXXoiseT"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QuickCardEditor/QuickCardEditorButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2kTSxWTRqdqR8j{color:#fff}.emRzwBJ7NF9mDc{background:rgba(0,0,0,.6);border-radius:3px;clear:both;display:block;float:left;margin:0 0 4px 8px;text-decoration:none;transition:transform 85ms ease-in;color:#e6e6e6;padding:6px 12px 6px 10px}.emRzwBJ7NF9mDc:hover{background:rgba(0,0,0,.8);color:#fff;transform:translateX(5px)}.ypdsIruOcYL-1p{margin-left:6px}",""]),t.locals={icon:"_2kTSxWTRqdqR8j",button:"emRzwBJ7NF9mDc",buttonLabel:"ypdsIruOcYL-1p"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamTypeSelect/TeamTypeSelect.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1gn_TZcLJOMr6t{color:#cf513d;padding-left:2px}",""]),t.locals={createTeamLabelstar:"_1gn_TZcLJOMr6t"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/BoardHeaderOrgMenuPopoverButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1FN6ZqzZNmICno{width:100%;cursor:pointer;display:block;font-weight:400;padding:6px 12px;position:relative;margin:0 -12px;text-decoration:none;background-color:transparent;color:#172b4d}._1FN6ZqzZNmICno:hover{background-color:rgba(9,30,66,.04)}",""]),t.locals={ctaButton:"_1FN6ZqzZNmICno"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".OlKCA4pG_JQHXk{font-size:14px;line-height:20px}._1h9EJMeeXVLuXc{text-decoration:underline}",""]),t.locals={messaging:"OlKCA4pG_JQHXk",ctaLink:"_1h9EJMeeXVLuXc"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/CopyBoardFromTemplatePopoverButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3Or7YjE0MVbBTf{font-size:12px;text-decoration:underline;cursor:pointer}",""]),t.locals={ctaButton:"_3Or7YjE0MVbBTf"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/FacePileLinkButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".EQvluOM6k7gk9G{display:block;line-height:10px}._3t_M9CaXsBc9WT,.EQvluOM6k7gk9G{color:#5e6c84;font-size:12px;margin:0;padding:0}._3t_M9CaXsBc9WT{text-decoration:underline;background-color:transparent}",""]),t.locals={container:"EQvluOM6k7gk9G",upgradeButton:"_3t_M9CaXsBc9WT"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptBanner.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1fEBhj-UvPpb5m{margin-bottom:16px;text-align:center}._1fEBhj-UvPpb5m header{margin-bottom:25px}._1fEBhj-UvPpb5m header h2{font-size:24px;line-height:28px;margin:0 0 12px}._1fEBhj-UvPpb5m header p{font-size:16px}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP{display:flex;justify-content:center}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G{flex:0.25;padding:0 12px;box-sizing:border-box}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G img{max-width:112px;height:112px;margin-bottom:8px}._1fEBhj-UvPpb5m ._1P8a7USWLOyfwB{margin-bottom:20px}._1fEBhj-UvPpb5m a{border-radius:3px;color:#5e6c84;display:block;margin:2px 0;padding:6px 12px;position:relative;-webkit-user-select:none;user-select:none;transition-property:background-color,border-color,box-shadow;transition-duration:85ms;transition-timing-function:ease;margin:8px auto 10px;width:136px;text-align:center}._1fEBhj-UvPpb5m a svg circle{stroke:#5e6c84}._1fEBhj-UvPpb5m a:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;color:#172b4d}._1fEBhj-UvPpb5m a:hover svg circle{stroke:#172b4d}._1fEBhj-UvPpb5m a:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0}._1fEBhj-UvPpb5m a:active .y16zQbccbIof-4{color:#0079bf}._1fEBhj-UvPpb5m a:active svg circle{stroke:#0079bf}._1fEBhj-UvPpb5m .gGi80gWJGHMsGh{margin-top:16px}@media only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px){._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP{display:block}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G{display:block;margin:0 auto;max-width:400px;width:100%}}",""]),t.locals={upgradePromptBanner:"_1fEBhj-UvPpb5m",features:"_3DhK0Y16GdWbDP",feature:"_2UXv9aODhh-z-G",epilogue:"_1P8a7USWLOyfwB","icon-sm":"y16zQbccbIof-4",freeTrialButton:"gGi80gWJGHMsGh"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._8RbxdseVV49R6m{border-radius:3px;box-sizing:border-box;display:inline-flex;overflow:hidden;padding:6px 12px 6px 6px;position:relative;text-decoration:none}.BhLk7hyE1L79ei{background:#eddbf4}.BhLk7hyE1L79ei:hover{background:#dfc0eb}.BhLk7hyE1L79ei .mF0y-rlipxpKvj{background:#89609e}.BhLk7hyE1L79ei ._3hOaPVUXoPh9lj svg{color:#fff}.BhLk7hyE1L79ei .SjSnrkndhUYwrg{color:#42526e}._3jzxIyxxHiYEAx{background:#89609e}._3jzxIyxxHiYEAx:hover{background:#583f68}._3jzxIyxxHiYEAx:hover ._3hOaPVUXoPh9lj svg{color:#583f68}._3jzxIyxxHiYEAx .mF0y-rlipxpKvj{background:#fff}._3jzxIyxxHiYEAx ._3hOaPVUXoPh9lj svg{color:#89609e}._3jzxIyxxHiYEAx .SjSnrkndhUYwrg{color:#fff}.mF0y-rlipxpKvj{border-radius:2px;height:20px;margin-right:8px;width:20px}._22GuzMUR-IlR-Z{width:100%}._3hOaPVUXoPh9lj,._22GuzMUR-IlR-Z{display:flex;justify-content:center}._3hOaPVUXoPh9lj{height:20px;align-items:center}",""]),t.locals={upgradePromptButton:"_8RbxdseVV49R6m",upgradePromptButtonLightTheme:"BhLk7hyE1L79ei",upgradePromptButtonIconBackground:"mF0y-rlipxpKvj",upgradePromptButtonIcon:"_3hOaPVUXoPh9lj",upgradePromptButtonCTA:"SjSnrkndhUYwrg",upgradePromptButtonDarkTheme:"_3jzxIyxxHiYEAx",upgradePromptFitContainer:"_22GuzMUR-IlR-Z"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2jRNa-bQL5DUcd{border-radius:3px;box-sizing:border-box;display:inline-flex;overflow:hidden;padding:6px 12px 6px 6px;position:relative;text-decoration:none}._3sE1kqqgsyuHVp{background:#eddbf4}._3sE1kqqgsyuHVp:hover{background:#dfc0eb}._3sE1kqqgsyuHVp ._3u5wBPt5mgOMqu{background:#89609e}._3sE1kqqgsyuHVp .PCWaeUruvT9keA svg{color:#fff}._3sE1kqqgsyuHVp ._2LQQ51bnEs4F8_{color:#42526e}._3ta-CtR5M1TfF9{background:#89609e}._3ta-CtR5M1TfF9:hover{background:#583f68}._3ta-CtR5M1TfF9:hover .PCWaeUruvT9keA svg{color:#583f68}._3ta-CtR5M1TfF9 ._3u5wBPt5mgOMqu{background:#fff}._3ta-CtR5M1TfF9 .PCWaeUruvT9keA svg{color:#89609e}._3ta-CtR5M1TfF9 ._2LQQ51bnEs4F8_{color:#fff}._3u5wBPt5mgOMqu{border-radius:2px;height:20px;margin-right:8px;width:20px}._3jINWVpnit_PRM{width:100%}._3jINWVpnit_PRM,.PCWaeUruvT9keA{display:flex;justify-content:center}.PCWaeUruvT9keA{height:20px;align-items:center}",""]),t.locals={upgradePromptButton:"_2jRNa-bQL5DUcd",upgradePromptButtonLightTheme:"_3sE1kqqgsyuHVp",upgradePromptButtonIconBackground:"_3u5wBPt5mgOMqu",upgradePromptButtonIcon:"PCWaeUruvT9keA",upgradePromptButtonCTA:"_2LQQ51bnEs4F8_",upgradePromptButtonDarkTheme:"_3ta-CtR5M1TfF9",upgradePromptFitContainer:"_3jINWVpnit_PRM"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFull.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".YbF3JXQH2gXlsC{box-shadow:0 1px 1px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);padding-left:16px;padding-right:16px;overflow:hidden;position:relative;width:100%;box-sizing:border-box;border-radius:3px;transition:background .3s ease;text-rendering:geometricPrecision}.YbF3JXQH2gXlsC ._3CD8BA2QQVCNAM{display:inline-block}.YbF3JXQH2gXlsC ._3CD8BA2QQVCNAM:active,.YbF3JXQH2gXlsC ._3CD8BA2QQVCNAM:hover{color:#fff}._1Mrj74Dt-jrz_K{background:#fff}._1Mrj74Dt-jrz_K ._2xNMNaE5Gc204_{color:#172b4d}._1Mrj74Dt-jrz_K ._-9pGlm2xfXwHs4{color:#6b778c}._1Mrj74Dt-jrz_K ._3CD8BA2QQVCNAM{color:#5e6c84}._1Mrj74Dt-jrz_K ._3CD8BA2QQVCNAM:hover{background-color:transparent;color:#172b4d}._1Mrj74Dt-jrz_K .fkZ0vkuH1V3vBu svg{color:#fff}._1Mrj74Dt-jrz_K ._3YSrt64LQGxMmX{background:#89609e}._1Mrj74Dt-jrz_K .wMzUsJpeaxp7fH{background:rgba(9,30,66,.04)}._1Mrj74Dt-jrz_K .mEHOJHTJV5iMw5:hover{background-color:#f4f5f7}._2kOLCbYadB51ca{background:#6c547b}._2kOLCbYadB51ca ._2xNMNaE5Gc204_{color:#fff}._2kOLCbYadB51ca ._-9pGlm2xfXwHs4{color:#8fdfeb}._2kOLCbYadB51ca ._3CD8BA2QQVCNAM{color:#fff}._2kOLCbYadB51ca .fkZ0vkuH1V3vBu svg{color:#6c547b}._2kOLCbYadB51ca ._3YSrt64LQGxMmX{background:#fff}._2kOLCbYadB51ca .wMzUsJpeaxp7fH{background:hsla(0,0%,100%,.1)}._2kOLCbYadB51ca .mEHOJHTJV5iMw5:hover{background:#583f68}._2xNMNaE5Gc204_{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-bottom:8px}._-9pGlm2xfXwHs4{margin-bottom:16px}.fkZ0vkuH1V3vBu{display:flex;justify-content:center;align-items:center;height:100%}._3YSrt64LQGxMmX{position:absolute;bottom:8px;right:8px;width:26px;height:26px;border-radius:3px;z-index:2}.wMzUsJpeaxp7fH{position:absolute;bottom:-64px;right:-28px;width:120px;height:80px;border-radius:12px;z-index:1;transform:rotate(-50deg)}._3CD8BA2QQVCNAM{margin-bottom:16px;padding:0}.mEHOJHTJV5iMw5{position:absolute;top:8px;right:8px;background:none;padding:4px;margin:0;border:0;width:22px;height:22px;display:flex}._1K0LqnoX4a7pZj{line-height:14px;margin-left:-1px}._1K0LqnoX4a7pZj svg{color:#a5adba}",""]),t.locals={upgradePromptFull:"YbF3JXQH2gXlsC",upgradePromptFullCTA:"_3CD8BA2QQVCNAM",upgradePromptFullLightTheme:"_1Mrj74Dt-jrz_K",upgradePromptFullHeadline:"_2xNMNaE5Gc204_",upgradePromptFullContent:"_-9pGlm2xfXwHs4",upgradePromptFullIcon:"fkZ0vkuH1V3vBu",upgradePromptFullIconBackground:"_3YSrt64LQGxMmX",upgradePromptFullIconClippedBackground:"wMzUsJpeaxp7fH",upgradePromptFullCloseButtonWrapper:"mEHOJHTJV5iMw5",upgradePromptFullDarkTheme:"_2kOLCbYadB51ca",upgradePromptFullCloseButton:"_1K0LqnoX4a7pZj"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFullBase.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3yAElQd0GLZQ7K{width:100%;border-radius:3px;height:60px;animation:_3NfwqyO3_GyP3I 2s infinite}@keyframes _3NfwqyO3_GyP3I{0%{background-color:#f4f5f7}50%{background-color:#ebecf0}to{background-color:#dfe1e6}}._1rk3TDAaU81_Ii{box-shadow:0 1px 1px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);padding-left:16px;padding-right:16px;overflow:hidden;position:relative;width:100%;box-sizing:border-box;border-radius:3px;transition:background .3s ease;text-rendering:geometricPrecision}.V6AzWH4E8HBPZX{background:#fff}.V6AzWH4E8HBPZX ._3Cnio1oR4iJKRE{color:#172b4d}.V6AzWH4E8HBPZX ._3Uplc-pCxrlRyl{color:#6b778c}.V6AzWH4E8HBPZX ._3aM7hAccVA2vmN svg{color:#fff}.V6AzWH4E8HBPZX .k9UvWenTsfCELV{background:#89609e}.V6AzWH4E8HBPZX .bUcOdikdfVj-0U{background:rgba(9,30,66,.04)}.V6AzWH4E8HBPZX ._3pJ-SI7UWvwzAF:hover{background-color:#f4f5f7}._3BALbHgNWTvWKk{background:#6c547b}._3BALbHgNWTvWKk ._3Cnio1oR4iJKRE{color:#fff}._3BALbHgNWTvWKk ._3Uplc-pCxrlRyl{color:#8fdfeb}._3BALbHgNWTvWKk ._3aM7hAccVA2vmN svg{color:#6c547b}._3BALbHgNWTvWKk .k9UvWenTsfCELV{background:#fff}._3BALbHgNWTvWKk .bUcOdikdfVj-0U{background:hsla(0,0%,100%,.1)}._3BALbHgNWTvWKk ._3pJ-SI7UWvwzAF:hover{background:#583f68}._3Cnio1oR4iJKRE{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-bottom:8px}._3Uplc-pCxrlRyl{margin-bottom:16px}._3aM7hAccVA2vmN{width:26px;height:26px;padding:2px}._3aM7hAccVA2vmN svg{width:22px;height:22px;line-height:24px}.k9UvWenTsfCELV{position:absolute;bottom:8px;right:8px;width:26px;height:26px;border-radius:3px;z-index:2}.bUcOdikdfVj-0U{position:absolute;bottom:-64px;right:-28px;width:120px;height:80px;border-radius:12px;z-index:1;transform:rotate(-50deg)}._3pJ-SI7UWvwzAF{position:absolute;top:8px;right:8px;background:none;padding:4px;margin:0;border:0;width:22px;height:22px;display:flex}._9plRmEW19jh9xU{color:#a5adba;line-height:14px;margin-left:-1px}",""]),t.locals={animation:"_3yAElQd0GLZQ7K",pulse:"_3NfwqyO3_GyP3I",upgradePromptFull:"_1rk3TDAaU81_Ii",upgradePromptFullLightTheme:"V6AzWH4E8HBPZX",upgradePromptFullHeadline:"_3Cnio1oR4iJKRE",upgradePromptFullContent:"_3Uplc-pCxrlRyl",upgradePromptFullIcon:"_3aM7hAccVA2vmN",upgradePromptFullIconBackground:"k9UvWenTsfCELV",upgradePromptFullIconClippedBackground:"bUcOdikdfVj-0U",upgradePromptFullCloseButtonWrapper:"_3pJ-SI7UWvwzAF",upgradePromptFullDarkTheme:"_3BALbHgNWTvWKk",upgradePromptFullCloseButton:"_9plRmEW19jh9xU"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPill.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".D8PrIBfVHLaC1G{display:inline-flex;border-radius:3px;font-size:12px;padding:4px;text-decoration:none;line-height:12px;margin-bottom:0}._39vNpql8O9h5co{display:flex;justify-content:center;width:12px;height:12px;margin-right:4px;line-height:12px}._1xgAps5V3J3WWx{background-color:#eddbf4}._1xgAps5V3J3WWx ._39vNpql8O9h5co svg{color:#89609e}._1xgAps5V3J3WWx ._17EaYJuwhiq6Dy svg{color:#42526e}._1xgAps5V3J3WWx:hover{background-color:#dfc0eb}.fo3ROqdZZNdBSw{background-color:#89609e}.fo3ROqdZZNdBSw ._17EaYJuwhiq6Dy svg,.fo3ROqdZZNdBSw ._39vNpql8O9h5co svg{color:#fff}.fo3ROqdZZNdBSw:hover{background-color:#583f68}",""]),t.locals={upgradePromptPill:"D8PrIBfVHLaC1G",upgradePromptPillIcon:"_39vNpql8O9h5co",upgradeLightTheme:"_1xgAps5V3J3WWx",upgradePromptPillCTA:"_17EaYJuwhiq6Dy",upgradeDarkTheme:"fo3ROqdZZNdBSw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPillBase.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".S95NMhjS-qa4Rh{display:inline-flex;border-radius:3px;font-size:12px;padding:4px;text-decoration:none;line-height:16px;margin-bottom:0}._3CcWNraBrODUCQ{background-color:#eddbf4}._3CcWNraBrODUCQ ._90leiVeMlaRE7c svg{color:#89609e}._3CcWNraBrODUCQ .S6WUhGTdfgQrrb svg{color:#42526e}._3CcWNraBrODUCQ:hover{background-color:#dfc0eb}._3epI7hOflZT3Zp{background-color:#89609e}._3epI7hOflZT3Zp ._90leiVeMlaRE7c svg,._3epI7hOflZT3Zp .S6WUhGTdfgQrrb svg{color:#fff}._3epI7hOflZT3Zp:hover{background-color:#583f68}.S6WUhGTdfgQrrb{padding-left:4px}",""]),t.locals={upgradePromptPill:"S95NMhjS-qa4Rh",upgradeLightTheme:"_3CcWNraBrODUCQ",upgradePromptPillIcon:"_90leiVeMlaRE7c",upgradePromptPillCTA:"S6WUhGTdfgQrrb",upgradeDarkTheme:"_3epI7hOflZT3Zp"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2UxKMNua2KSiL6{padding-top:8px;padding-right:8px;margin-bottom:0;color:#172b4d}._3fzsq9jEZYVCax{margin-left:24px}._3i3aIPvVcGa13r{position:absolute;left:-10px;top:10px;font-size:30px}.yXN9qZ4e4tA7WG{margin-top:0}._1IujPgsvQ9IF3P{display:block;position:relative}._1IujPgsvQ9IF3P:before{content:"";width:100%;height:100%;position:absolute;z-index:1}._1IujPgsvQ9IF3P button{margin:0}',""]),t.locals={bcPromptHeader:"_2UxKMNua2KSiL6",settingItem:"_3fzsq9jEZYVCax",bcPromptSparkle:"_3i3aIPvVcGa13r",bcPromptUpgrade:"yXN9qZ4e4tA7WG",tooltipDisabledHack:"_1IujPgsvQ9IF3P"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradeSmartComponent.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".k4fHjDZIpOlJJ3{margin-bottom:16px;display:inline-block;padding:0;background:transparent;text-decoration:underline}.k4fHjDZIpOlJJ3:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){.k4fHjDZIpOlJJ3:focus{outline:5px auto -webkit-focus-ring-color}}.k4fHjDZIpOlJJ3:active,.k4fHjDZIpOlJJ3:hover{background-color:transparent}._1HU4hZ1sEBp2QC{color:#5e6c84}._1HU4hZ1sEBp2QC:hover{background-color:transparent;color:#172b4d}._2_ySCHs3C0BxvV,._2_ySCHs3C0BxvV:hover{color:#fff}._1kUj6qo0eXH4Pp{margin:4px 0}._28ASm-lZuWGxjE{margin-top:4px;margin-bottom:16px}.uig2fjRiWi1QqK{margin-top:8px}",""]),t.locals={cta:"k4fHjDZIpOlJJ3",lightModeCta:"_1HU4hZ1sEBp2QC",darkModeCta:"_2_ySCHs3C0BxvV",boardMenuPromptFullWrapper:"_1kUj6qo0eXH4Pp",butlerUpsellPopoverPromptFullWrapper:"_28ASm-lZuWGxjE",createBoardModalWrapper:"uig2fjRiWi1QqK"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".u1Vu5mfX6rvQX7{word-break:break-word}._1RXuPFQtuwFCtA{margin-top:8px}.xjDHW09-9u6lTu{margin-bottom:0}._3troIIxi_a1hqB{word-break:break-word}",""]),t.locals={boardMemberRestrictionAlertMessaging:"u1Vu5mfX6rvQX7",boardMemberRestrictionAlertConfirmButton:"_1RXuPFQtuwFCtA",boardMemberRestrictionAlertCancelButton:"xjDHW09-9u6lTu",boardMemberRestrictionAlertMembers:"_3troIIxi_a1hqB"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".CzgYfRRMlERKpe{cursor:pointer;margin:0 -12px;padding:4px 12px}.CzgYfRRMlERKpe:hover{background-color:#f4f5f7}._2JxGvjj_Uq0A0H{color:#a5adba}._2JxGvjj_Uq0A0H:hover{background-color:inherit}.CzgYfRRMlERKpe._2JxGvjj_Uq0A0H{cursor:not-allowed}._2JxGvjj_Uq0A0H ._3eguofGPxklNDb{color:#a5adba}._3JWcb2DQedjEve{font-size:12px;margin:0}._39vHcAGvNhCSRc{color:#eb5a46}",""]),t.locals={boardVisibilityOption:"CzgYfRRMlERKpe",boardVisibilityOptionDisabled:"_2JxGvjj_Uq0A0H",boardVisibilityIcon:"_3eguofGPxklNDb",boardVisibilityOptionDescription:"_3JWcb2DQedjEve",boardVisibilityDisabledMessaging:"_39vHcAGvNhCSRc"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2k2zJfwZUVqMkH{margin-top:8px}._1Nc04Bo7h06bHM,._2k2zJfwZUVqMkH{text-align:center}._1Nc04Bo7h06bHM{margin-bottom:16px}._1rlm1GWXa4A6Dy{margin-bottom:0}",""]),t.locals={newBillableGuestsAlertHeadline:"_2k2zJfwZUVqMkH",newBillableGuestsAlertMessaging:"_1Nc04Bo7h06bHM",newBillableGuestsAlertSubmitButton:"_1rlm1GWXa4A6Dy"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._39NB3aTivewkqd img{height:140px;width:280px;border-radius:3px}._39NB3aTivewkqd p{text-align:center;font-size:14px;line-height:20px;color:#5e6c84;padding-bottom:8px}.tgKieSz3YDD6s-{padding-top:15px;font-size:16px;line-height:20px;text-align:center;color:#000}._3SvvsS-c9gw_yG{margin-bottom:0;border-radius:3px}",""]),t.locals={workspacesPreambleBoardHeaderButtonIntro:"_39NB3aTivewkqd",workspacesPreambleBoardHeaderButtonIntroTitle:"tgKieSz3YDD6s-",workspacesPreambleBoardHeaderButtonContinueButton:"_3SvvsS-c9gw_yG"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1N1zI2BgoVAX-l img{height:140px;width:280px;border-radius:3px}._1N1zI2BgoVAX-l p{text-align:center;font-size:14px;line-height:20px;color:#5e6c84;padding-bottom:8px}._2_VA3TgQs82Iwl{padding-top:15px;font-size:16px;line-height:20px;text-align:center;color:#000}._2D4A_C1TWeTpJw{margin-bottom:0;border-radius:3px}",""]),t.locals={workspacesPreamblePromptInviteIntro:"_1N1zI2BgoVAX-l",workspacesPreamblePromptInviteIntroTitle:"_2_VA3TgQs82Iwl",workspacesPreamblePromptInviteIntroContinueButton:"_2D4A_C1TWeTpJw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._12ruPrqAybvTsA{padding-top:8px}._12ruPrqAybvTsA label{font-style:normal;font-weight:400;font-size:14px;line-height:20px;margin:0;cursor:pointer}._12ruPrqAybvTsA button{font-size:12px;line-height:16px;-webkit-text-decoration-line:underline;text-decoration-line:underline;color:#0079bf;padding:0;background:none;margin:0 0 16px 24px}._12ruPrqAybvTsA button:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._12ruPrqAybvTsA button:focus{outline:5px auto -webkit-focus-ring-color}}._22OTn9wMpyuM-m{padding-left:24px}._22OTn9wMpyuM-m ._27nxKSoa7zvT26{overflow:auto;max-height:100%;padding-right:8px}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY{display:flex;align-items:center;border-top:1px solid rgba(9,30,66,.08);border-bottom:1px solid rgba(9,30,66,.08);padding:6px 0 6px 3px;box-sizing:border-box;cursor:pointer}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:first-child,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:last-child{border:none;padding:8px 0 8px 3px}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY div,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY input,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY label,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY span{cursor:pointer}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY ._1svQrr86Souh3m{display:flex;flex-grow:1;align-items:center;font-size:12px;line-height:16px;padding-right:8px;overflow:hidden}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY ._1svQrr86Souh3m .LAT1P1MAzBW22Y{margin-right:8px;flex:0 0 20px}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY ._1svQrr86Souh3m .D1ZpigdfadVZpN{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._22OTn9wMpyuM-m ._18uacCVEgFerGW,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:hover{border:none;border-radius:3px;background-color:rgba(9,30,66,.08);padding:7px 0 7px 3px}._22OTn9wMpyuM-m ._18uacCVEgFerGW:first-child,._22OTn9wMpyuM-m ._18uacCVEgFerGW:last-child,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:hover:first-child,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:hover:last-child{padding:8px 0 8px 3px}._2DMF3QqAMZ_lQJ{margin-top:-3px}",""]),t.locals={inviteMembers:"_12ruPrqAybvTsA",members:"_22OTn9wMpyuM-m",membersScroller:"_27nxKSoa7zvT26",member:"ZKLtcQRl4TCkyY",nameAndAvatar:"_1svQrr86Souh3m",avatar:"LAT1P1MAzBW22Y",name:"D1ZpigdfadVZpN",memberHover:"_18uacCVEgFerGW",memberCheckbox:"_2DMF3QqAMZ_lQJ"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleChangeTeamButton.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1CzTncNvSEvVMM img{height:140px;width:280px;border-radius:3px}._1CzTncNvSEvVMM p{text-align:center;font-size:14px;line-height:20px;color:#5e6c84;padding-bottom:8px}._33NqN29XtLCMh-{padding-top:15px;font-size:16px;line-height:20px;text-align:center;color:#000}._2g4hDAcj_cUacX{margin-bottom:0;border-radius:3px}.wUrohpeH3LIiJh{cursor:pointer;display:block;padding:6px 12px}.wUrohpeH3LIiJh._3srOhDyKj9XVyG,.wUrohpeH3LIiJh._3srOhDyKj9XVyG:hover{color:#a5adba;cursor:default}.wUrohpeH3LIiJh._3srOhDyKj9XVyG ._3b4M27BIEuYXb9{color:#a5adba}._3b4M27BIEuYXb9{color:#5e6c84;display:block;font-size:14px;font-weight:400;line-height:20px;margin-top:4px}",""]),t.locals={workspacesPreambleChangeTeamButtonIntro:"_1CzTncNvSEvVMM",workspacesPreambleChangeTeamButtonIntroTitle:"_33NqN29XtLCMh-",workspacesPreambleChangeTeamButtonContinueButton:"_2g4hDAcj_cUacX",workspacesPreambleChangeTeamButton:"wUrohpeH3LIiJh",workspacesPreambleChangeTeamButtonDisabled:"_3srOhDyKj9XVyG",workspacesPreambleChangeTeamButtonTeamName:"_3b4M27BIEuYXb9"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".IHqc1QGp3HQPfF ._6XszeBH00nGVni{width:100%;margin-bottom:8px}._3KQHSTrtmaNJqU{margin-top:8px;margin-bottom:0}",""]),t.locals={createTeam:"IHqc1QGp3HQPfF",createTeamInput:"_6XszeBH00nGVni",createTeamButton:"_3KQHSTrtmaNJqU"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3k_0NQjo7LdE63{margin-top:8px;margin-bottom:0}",""]),t.locals={selectTeamSubmitButton:"_3k_0NQjo7LdE63"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/List/List.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2XUnC-GKb6UkpG{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;padding:0;margin:0}._2XUnC-GKb6UkpG,._2XUnC-GKb6UkpG li,._38pq5NbRWAG39y{list-style-type:none}._38pq5NbRWAG39y{padding:6px 12px}._38pq5NbRWAG39y:hover{background-color:rgba(9,30,66,.04)}._38pq5NbRWAG39y:active{background-color:#e4f0f6}.I2WBX22XhJYhvT{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;display:grid;grid-template-rows:1fr;grid-template-columns:1fr;grid-auto-columns:44px;grid-auto-flow:column;min-height:48px}.I2WBX22XhJYhvT:hover{background-color:rgba(9,30,66,.04)}.I2WBX22XhJYhvT:active{background-color:#e4f0f6}._2DNNgL-8Twpnyf{margin:auto 0 auto auto;grid-column-end:1}._1CTfRY17GWJSii{padding:6px 12px}.WDaxXXrS7crTKz{font-size:12px;line-height:16px;color:#5e6c84}.t50cODzF7KObcp{color:#fff}._1VniUx1gUK2kyV{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;list-style-type:none;padding:0;margin:0}._1VniUx1gUK2kyV li{list-style-type:none;padding:6px 12px}._1VniUx1gUK2kyV li:hover{background-color:rgba(9,30,66,.04)}._1VniUx1gUK2kyV li:active{background-color:#e4f0f6}",""]),t.locals={"nch-list":"_2XUnC-GKb6UkpG","nch-list__item":"_38pq5NbRWAG39y","nch-list__cell":"I2WBX22XhJYhvT","nch-list__cell-image":"_2DNNgL-8Twpnyf","nch-list__cell-content":"_1CTfRY17GWJSii","nch-list__cell-meta":"WDaxXXrS7crTKz","nch-list__cell-meta--selected":"t50cODzF7KObcp","nch-list--static":"_1VniUx1gUK2kyV"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Select/Select.less":function(e,t,i){(t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1E5X2RKu9Rucv2{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400}._1E5X2RKu9Rucv2:focus{outline:none}._1T1MG_BX1zeaq8{min-height:36px;background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;border-radius:3px;-webkit-appearance:none;border:none;width:100%;padding-left:12px;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='%2342526E' viewBox='0 0 20 20'%3E%3Cpath d='M4.516 7.548c.436-.446 1.043-.481 1.576 0L10 11.295l3.908-3.747c.533-.481 1.141-.446 1.574 0 .436.445.408 1.197 0 1.615-.406.418-4.695 4.502-4.695 4.502a1.095 1.095 0 0 1-1.576 0S4.924 9.581 4.516 9.163s-.436-1.17 0-1.615z'/%3E%3C/svg%3E\") no-repeat;background-size:20px;background-position:right 8px center}._3aKo_iEHQ06zFk{min-height:24px}._23S_kzHpI0As0O{background-color:#f4f5f7;box-shadow:none}._1T1MG_BX1zeaq8:hover{background-color:#ebecf0;cursor:pointer}._1T1MG_BX1zeaq8:focus,._1T1MG_BX1zeaq8:focus:hover,._3VuyTzxJvL9fnY,._3VuyTzxJvL9fnY:hover{background-color:#fff;box-shadow:inset 0 0 0 2px #0079bf}._2Uvn7gBr1E2UUI{color:#a5adba;pointer-events:none;background-color:rgba(9,30,66,.04)}._17oKwiCho39YzQ{box-shadow:0 4px 8px -2px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08)}._11O9PMdHE0te2R{background-color:#e4f0f6}._3mmTa26C7TsBuF._1Qv4GU0xuPVnrX{color:#a5adba;pointer-events:none;background-color:rgba(9,30,66,.04)}._8BuraJ5qA9us6k,._8BuraJ5qA9us6k:active,._8BuraJ5qA9us6k:hover,._8BuraJ5qA9us6k li,._8BuraJ5qA9us6k li:active{color:#fff;background-color:#172b4d}._2jWrEGE8usKp9N{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-weight:400;color:#172b4d;font-size:14px;margin-bottom:2px}._2jWrEGE8usKp9N,._3BTdRu8Ie4X0Jd{line-height:20px;font-weight:700;display:block}._3BTdRu8Ie4X0Jd{font-size:16px;text-overflow:ellipsis}._2CsKG3pbuiDMf7{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;min-height:36px;background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;border-radius:3px;-webkit-appearance:none;border:none;width:100%;padding-left:12px;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='%2342526E' viewBox='0 0 20 20'%3E%3Cpath d='M4.516 7.548c.436-.446 1.043-.481 1.576 0L10 11.295l3.908-3.747c.533-.481 1.141-.446 1.574 0 .436.445.408 1.197 0 1.615-.406.418-4.695 4.502-4.695 4.502a1.095 1.095 0 0 1-1.576 0S4.924 9.581 4.516 9.163s-.436-1.17 0-1.615z'/%3E%3C/svg%3E\") no-repeat;background-size:20px;background-position:right 8px center}._2CsKG3pbuiDMf7:focus{outline:none}._2CsKG3pbuiDMf7:hover{background-color:#ebecf0;cursor:pointer}._2CsKG3pbuiDMf7:focus{background-color:#fff;box-shadow:inset 0 0 0 2px #0079bf}",""]),t.locals={"nch-select":"_1E5X2RKu9Rucv2","nch-select__control":"_1T1MG_BX1zeaq8","nch-select__control--compact":"_3aKo_iEHQ06zFk","nch-select__control--subtle":"_23S_kzHpI0As0O","nch-select__control--focus":"_3VuyTzxJvL9fnY","nch-select__control--disabled":"_2Uvn7gBr1E2UUI","nch-select__menu":"_17oKwiCho39YzQ","nch-select__option--active":"_11O9PMdHE0te2R","nch-select__option":"_3mmTa26C7TsBuF","nch-select__option--disabled":"_1Qv4GU0xuPVnrX","nch-select__option--selected":"_8BuraJ5qA9us6k","nch-select__label":"_2jWrEGE8usKp9N","nch-select__val":"_3BTdRu8Ie4X0Jd","nch-select--static":"_2CsKG3pbuiDMf7"}},"./node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js":function(e,t,i){"use strict";i.r(t);var n={};i.r(n),i.d(n,"categories",(function(){return b})),i.d(n,"search",(function(){return f}));var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=Object.getPrototypeOf||function(e){return"function"==typeof(e=Object(e)).constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Object.prototype:null},s=i("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=i.n(s),l=i("./node_modules/emoji-mart/dist-es/polyfills/createClass.js");function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=Object;function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=d.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.setPrototypeOf?d.setPrototypeOf(e,t):e.__proto__=t)}i("./node_modules/emoji-mart/dist-es/vendor/raf-polyfill.js");var p=i("./node_modules/react/index.js"),m=i.n(p),h=i("./node_modules/prop-types/index.js"),g=i.n(h),b={activity:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"}))},custom:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("g",{transform:"translate(2.000000, 1.000000)"},m.a.createElement("rect",{id:"Rectangle",x:"8",y:"0",width:"3",height:"21",rx:"1.5"}),m.a.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"}),m.a.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"})))},flags:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"}))},foods:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"}))},nature:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),m.a.createElement("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"}))},objects:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),m.a.createElement("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"}))},people:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),m.a.createElement("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"}))},places:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),m.a.createElement("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"}))},recent:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),m.a.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}))},symbols:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"}))}},f={search:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},m.a.createElement("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"}))},delete:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},m.a.createElement("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"}))}},v="emoji-mart",k=JSON,y="undefined"!=typeof window&&"localStorage"in window,w=void 0,j=void 0;function x(e,t){if(j)j(e,t);else{if(!y)return;try{window.localStorage[v+"."+e]=k.stringify(t)}catch(e){}}}var C={update:function(e){for(var t in e){x(t,e[t])}},set:x,get:function(e){if(w)return w(e);if(y){try{var t=window.localStorage[v+"."+e]}catch(e){return}return t?JSON.parse(t):void 0}},setNamespace:function(e){v=e},setHandlers:function(e){e||(e={}),w=e.getter,j=e.setter}},_=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart","poop"],O=void 0,E=void 0,S={};function T(){E=!0,O=C.get("frequently")}var N={add:function(e){E||T();var t=e.id;O||(O=S),O[t]||(O[t]=0),O[t]+=1,C.set("last",t),C.set("frequently",O)},get:function(e){if(E||T(),!O){S={};for(var t=[],i=0;i<e;i++)S[_[i]]=e-i,t.push(_[i]);return t}var n=4*e,r=[];for(var a in O)O.hasOwnProperty(a)&&r.push(a);var s=r.sort((function(e,t){return O[e]-O[t]})).reverse().slice(0,n),o=C.get("last");return o&&-1==s.indexOf(o)&&(s.pop(),s.push(o)),s}},P=i("./node_modules/emoji-mart/dist-es/utils/index.js"),I=i("./node_modules/emoji-mart/dist-es/utils/data.js"),B=i("./node_modules/emoji-mart/dist-es/utils/shared-props.js"),D=function(e){function t(e){o()(this,t);var i=c(this,(t.__proto__||a(t)).call(this,e)),n=e.categories.filter((function(e){return e.first}))[0];return i.state={selected:n.name},i.handleClick=i.handleClick.bind(i),i}return u(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=e.currentTarget.getAttribute("data-index"),i=this.props,n=i.categories;(0,i.onAnchorClick)(n[t],t)}},{key:"render",value:function(){var e=this,t=this.props,i=t.categories,n=t.color,r=t.i18n,a=t.icons,s=this.state.selected;return m.a.createElement("div",{className:"emoji-mart-anchors"},i.map((function(t,i){var o=t.id,l=t.name,c=t.anchor,d=l==s;return!1===c?null:m.a.createElement("span",{key:o,title:r.categories[o],"data-index":i,onClick:e.handleClick,className:"emoji-mart-anchor "+(d?"emoji-mart-anchor-selected":""),style:{color:d?n:null}},m.a.createElement("div",{className:"emoji-mart-anchor-icon"},a.categories[o]()),m.a.createElement("span",{className:"emoji-mart-anchor-bar",style:{backgroundColor:n}}))})))}}]),t}(m.a.PureComponent),A=D;D.defaultProps={categories:[],onAnchorClick:function(){},icons:{}};var L=i("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js"),F=function(e){function t(){return o()(this,t),c(this,(t.__proto__||a(t)).apply(this,arguments))}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,i=e.emojiProps,n=e.i18n,a=e.notFound,s=e.notFoundEmoji;return a&&a()||m.a.createElement("div",{className:"emoji-mart-no-results"},Object(L.default)(r({data:t},i,{size:38,emoji:s,onOver:null,onLeave:null,onClick:null})),m.a.createElement("div",{className:"emoji-mart-no-results-label"},n.notfound))}}]),t}(m.a.PureComponent),M=function(e){function t(e){o()(this,t);var i=c(this,(t.__proto__||a(t)).call(this,e));return i.data=e.data,i.setContainerRef=i.setContainerRef.bind(i),i.setLabelRef=i.setLabelRef.bind(i),i}return u(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.parent=this.container.parentNode,this.margin=0,this.minMargin=0,this.memoizeSize()}},{key:"shouldComponentUpdate",value:function(e,t){var i=this.props,n=i.name,r=i.perLine,a=i.native,s=i.hasStickyPosition,o=i.emojis,l=i.emojiProps,c=l.skin,d=l.size,u=l.set,p=e.perLine,m=e.native,h=e.hasStickyPosition,g=e.emojis,b=e.emojiProps,f=b.skin,v=b.size,k=b.set,y=!1;return"Recent"==n&&r!=p&&(y=!0),"Search"==n&&(y=!(o==g)),c==f&&d==v&&a==m&&u==k&&s==h||(y=!0),y}},{key:"memoizeSize",value:function(){var e=this.container.getBoundingClientRect(),t=e.top,i=e.height,n=this.parent.getBoundingClientRect().top,r=this.label.getBoundingClientRect().height;this.top=t-n+this.parent.scrollTop,this.maxMargin=0==i?0:i-r}},{key:"handleScroll",value:function(e){var t=e-this.top;if((t=(t=t<this.minMargin?this.minMargin:t)>this.maxMargin?this.maxMargin:t)!=this.margin)return this.props.hasStickyPosition||(this.label.style.top=t+"px"),this.margin=t,!0}},{key:"getEmojis",value:function(){var e=this,t=this.props,i=t.name,n=t.emojis,r=t.recent,a=t.perLine;if("Recent"==i){var s=this.props.custom,o=r||N.get(a);if(o.length&&(n=o.map((function(e){var t=s.filter((function(t){return t.id===e}))[0];return t||e})).filter((function(t){return!!Object(P.b)(t,null,null,e.data)}))),0===n.length&&o.length>0)return null}return n&&(n=n.slice(0)),n}},{key:"updateDisplay",value:function(e){this.getEmojis()&&(this.container.style.display=e)}},{key:"setContainerRef",value:function(e){this.container=e}},{key:"setLabelRef",value:function(e){this.label=e}},{key:"render",value:function(){var e=this,t=this.props,i=t.id,n=t.name,a=t.hasStickyPosition,s=t.emojiProps,o=t.i18n,l=t.notFound,c=t.notFoundEmoji,d=this.getEmojis(),u={},p={},h={};return d||(h={display:"none"}),a||(u={height:28},p={position:"absolute"}),m.a.createElement("div",{ref:this.setContainerRef,className:"emoji-mart-category",style:h},m.a.createElement("div",{style:u,"data-name":n,className:"emoji-mart-category-label"},m.a.createElement("span",{style:p,ref:this.setLabelRef},o.categories[i])),d&&d.map((function(t){return Object(L.default)(r({emoji:t,data:e.data},s))})),d&&!d.length&&m.a.createElement(F,{i18n:o,notFound:l,notFoundEmoji:c,data:this.data,emojiProps:s}))}}]),t}(m.a.Component),V=M;M.defaultProps={emojis:[],hasStickyPosition:!0};var R=function(e){function t(e){o()(this,t);var i=c(this,(t.__proto__||a(t)).call(this,e));return i.state={opened:!1},i}return u(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=parseInt(e.currentTarget.getAttribute("data-skin")),i=this.props.onChange;this.state.opened?(this.setState({opened:!1}),t!=this.props.skin&&i(t)):this.setState({opened:!0})}},{key:"render",value:function(){return null}}]),t}(m.a.PureComponent),z=R;R.defaultProps={onChange:function(){}};var U=function(e){function t(e){o()(this,t);var i=c(this,(t.__proto__||a(t)).call(this,e));return i.handleClick=i.handleClick.bind(i),i}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.skin,i=e.emojiProps,n=e.data,r=e.skinEmoji,a=e.i18n,s=this.state.opened,o=[],l=1;l<=6;l++){var c=l===t;o.push(m.a.createElement("span",{key:"skin-tone-"+l,className:"emoji-mart-skin-swatch custom"+(c?" selected":"")},m.a.createElement("span",{onClick:this.handleClick,"data-skin":l,className:"emoji-mart-skin-tone-"+l},Object(L.default)({emoji:r,data:n,skin:l,backgroundImageFn:i.backgroundImageFn,native:i.native,set:i.set,sheetSize:i.sheetSize,size:23}))))}return m.a.createElement("div",{className:"emoji-mart-skin-swatches custom"+(s?" opened":"")},m.a.createElement("div",{className:"emoji-mart-skin-text"+(s?" opened":"")},a.skintext),o)}}]),t}(z),H=U;U.propTypes={onChange:g.a.func,skin:g.a.number.isRequired,emojiProps:g.a.object.isRequired,skinTone:g.a.number,skinEmoji:g.a.string.isRequired,i18n:g.a.object},U.defaultProps={onChange:function(){},skinTone:null};var W=function(e){function t(e){o()(this,t);var i=c(this,(t.__proto__||a(t)).call(this,e));return i.handleClick=i.handleClick.bind(i),i}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.skin,i=(e.i18n,this.state.opened),n=[],r=1;r<=6;r++){var a=r===t;n.push(m.a.createElement("span",{key:"skin-tone-"+r,className:"emoji-mart-skin-swatch"+(a?" selected":"")},m.a.createElement("span",{onClick:this.handleClick,"data-skin":r,className:"emoji-mart-skin emoji-mart-skin-tone-"+r})))}return m.a.createElement("div",{className:"emoji-mart-skin-swatches"+(i?" opened":"")},n)}}]),t}(z),q=W;W.propTypes={onChange:g.a.func,skin:g.a.number.isRequired,i18n:g.a.object},W.defaultProps={onChange:function(){}};var $=function(e){function t(e){o()(this,t);var i=c(this,(t.__proto__||a(t)).call(this,e));return i.data=e.data,i.state={emoji:null},i}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.emoji,t=this.props,i=t.emojiProps,n=t.skinsProps,a=t.showSkinTones,s=t.title,o=t.emoji,l=t.i18n;if(e){var c=Object(P.b)(e,null,null,this.data),d=c.emoticons,u=[],p=[];return(void 0===d?[]:d).forEach((function(e){u.indexOf(e.toLowerCase())>=0||(u.push(e.toLowerCase()),p.push(e))})),m.a.createElement("div",{className:"emoji-mart-preview"},m.a.createElement("div",{className:"emoji-mart-preview-emoji"},Object(L.default)(r({key:e.id,emoji:e,data:this.data},i))),m.a.createElement("div",{className:"emoji-mart-preview-data"},m.a.createElement("div",{className:"emoji-mart-preview-name"},e.name),m.a.createElement("div",{className:"emoji-mart-preview-shortnames"},c.short_names.map((function(e){return m.a.createElement("span",{key:e,className:"emoji-mart-preview-shortname"},":",e,":")}))),m.a.createElement("div",{className:"emoji-mart-preview-emoticons"},p.map((function(e){return m.a.createElement("span",{key:e,className:"emoji-mart-preview-emoticon"},e)})))))}return m.a.createElement("div",{className:"emoji-mart-preview"},m.a.createElement("div",{className:"emoji-mart-preview-emoji"},o&&o.length&&Object(L.default)(r({emoji:o,data:this.data},i))),m.a.createElement("div",{className:"emoji-mart-preview-data"},m.a.createElement("span",{className:"emoji-mart-title-label"},s)),a&&m.a.createElement("div",{className:"emoji-mart-preview-skins"+(n.skinEmoji?" custom":"")},n.skinEmoji?m.a.createElement(H,{skin:n.skin,emojiProps:i,data:this.data,skinEmoji:n.skinEmoji,i18n:l,onChange:n.onChange}):m.a.createElement(q,{skin:n.skin,i18n:l,onChange:n.onChange})))}}]),t}(m.a.PureComponent),G=$;$.defaultProps={showSkinTones:!0,onChange:function(){}};var K=i("./node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js"),Z=function(e){function t(e){o()(this,t);var i=c(this,(t.__proto__||a(t)).call(this,e));return i.state={icon:f.search,isSearching:!1},i.data=e.data,i.emojiIndex=new K.a(i.data),i.setRef=i.setRef.bind(i),i.handleChange=i.handleChange.bind(i),i.clear=i.clear.bind(i),i.handleKeyUp=i.handleKeyUp.bind(i),i}return u(t,e),Object(l.a)(t,[{key:"search",value:function(e){""==e?this.setState({icon:f.search,isSearching:!1}):this.setState({icon:f.delete,isSearching:!0}),this.props.onSearch(this.emojiIndex.search(e,{emojisToShowFilter:this.props.emojisToShowFilter,maxResults:this.props.maxResults,include:this.props.include,exclude:this.props.exclude,custom:this.props.custom}))}},{key:"clear",value:function(){""!=this.input.value&&(this.input.value="",this.search(""))}},{key:"handleChange",value:function(){this.search(this.input.value)}},{key:"handleKeyUp",value:function(e){13===e.keyCode&&this.clear()}},{key:"setRef",value:function(e){this.input=e}},{key:"render",value:function(){var e=this.props,t=e.i18n,i=e.autoFocus,n=this.state,r=n.icon,a=n.isSearching;return m.a.createElement("div",{className:"emoji-mart-search"},m.a.createElement("input",{ref:this.setRef,type:"text",onChange:this.handleChange,placeholder:t.search,autoFocus:i}),m.a.createElement("button",{className:"emoji-mart-search-icon",onClick:this.clear,onKeyUp:this.handleKeyUp,disabled:!a},r()))}}]),t}(m.a.PureComponent),J=Z;Z.defaultProps={onSearch:function(){},maxResults:75,emojisToShowFilter:null,autoFocus:!1};var Q={search:"Search",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"}},Y=function(e){function t(e){o()(this,t);var i=c(this,(t.__proto__||a(t)).call(this,e));i.RECENT_CATEGORY={id:"recent",name:"Recent",emojis:null},i.CUSTOM_CATEGORY={id:"custom",name:"Custom",emojis:[]},i.SEARCH_CATEGORY={id:"search",name:"Search",emojis:null,anchor:!1},e.data.compressed&&Object(I.c)(e.data),i.data=e.data,i.i18n=Object(P.a)(Q,e.i18n),i.icons=Object(P.a)(n,e.icons),i.state={skin:e.skin||C.get("skin")||e.defaultSkin,firstRender:!0},i.categories=[];var s=[].concat(i.data.categories);e.custom.length>0&&(i.CUSTOM_CATEGORY.emojis=e.custom.map((function(e){return r({},e,{id:e.short_names[0],custom:!0})})),s.push(i.CUSTOM_CATEGORY)),i.hideRecent=!0,null!=e.include&&s.sort((function(t,i){return e.include.indexOf(t.id)>e.include.indexOf(i.id)?1:-1}));for(var l=0;l<s.length;l++){var d=s[l],u=!e.include||!e.include.length||e.include.indexOf(d.id)>-1,p=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(d.id)>-1;if(u&&!p)if(e.emojisToShowFilter){for(var m=[],h=d.emojis,g=0;g<h.length;g++){var b=h[g];e.emojisToShowFilter(i.data.emojis[b]||b)&&m.push(b)}if(m.length){var f={emojis:m,name:d.name,id:d.id};i.categories.push(f)}}else i.categories.push(d)}var v=!e.include||!e.include.length||e.include.indexOf(i.RECENT_CATEGORY.id)>-1,k=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(i.RECENT_CATEGORY.id)>-1;return v&&!k&&(i.hideRecent=!1,i.categories.unshift(i.RECENT_CATEGORY)),i.categories[0]&&(i.categories[0].first=!0),i.categories.unshift(i.SEARCH_CATEGORY),i.setAnchorsRef=i.setAnchorsRef.bind(i),i.handleAnchorClick=i.handleAnchorClick.bind(i),i.setSearchRef=i.setSearchRef.bind(i),i.handleSearch=i.handleSearch.bind(i),i.setScrollRef=i.setScrollRef.bind(i),i.handleScroll=i.handleScroll.bind(i),i.handleScrollPaint=i.handleScrollPaint.bind(i),i.handleEmojiOver=i.handleEmojiOver.bind(i),i.handleEmojiLeave=i.handleEmojiLeave.bind(i),i.handleEmojiClick=i.handleEmojiClick.bind(i),i.handleEmojiSelect=i.handleEmojiSelect.bind(i),i.setPreviewRef=i.setPreviewRef.bind(i),i.handleSkinChange=i.handleSkinChange.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i}return u(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.skin?this.setState({skin:e.skin}):e.defaultSkin&&!C.get("skin")&&this.setState({skin:e.defaultSkin})}},{key:"componentDidMount",value:function(){var e=this;this.state.firstRender&&(this.testStickyPosition(),this.firstRenderTimeout=setTimeout((function(){e.setState({firstRender:!1})}),60))}},{key:"componentDidUpdate",value:function(){this.updateCategoriesSize(),this.handleScroll()}},{key:"componentWillUnmount",value:function(){this.SEARCH_CATEGORY.emojis=null,clearTimeout(this.leaveTimeout),clearTimeout(this.firstRenderTimeout)}},{key:"testStickyPosition",value:function(){var e=document.createElement("div");["","-webkit-","-ms-","-moz-","-o-"].forEach((function(t){return e.style.position=t+"sticky"})),this.hasStickyPosition=!!e.style.position.length}},{key:"handleEmojiOver",value:function(e){var t=this.preview;if(t){var i=this.CUSTOM_CATEGORY.emojis.filter((function(t){return t.id===e.id}))[0];for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);t.setState({emoji:e}),clearTimeout(this.leaveTimeout)}}},{key:"handleEmojiLeave",value:function(e){var t=this.preview;t&&(this.leaveTimeout=setTimeout((function(){t.setState({emoji:null})}),16))}},{key:"handleEmojiClick",value:function(e,t){this.props.onClick(e,t),this.handleEmojiSelect(e)}},{key:"handleEmojiSelect",value:function(e){var t=this;this.props.onSelect(e),this.hideRecent||this.props.recent||N.add(e);var i=this.categoryRefs["category-1"];if(i){var n=i.maxMargin;i.forceUpdate(),window.requestAnimationFrame((function(){t.scroll&&(i.memoizeSize(),n!=i.maxMargin&&(t.updateCategoriesSize(),t.handleScrollPaint(),t.SEARCH_CATEGORY.emojis&&i.updateDisplay("none")))}))}}},{key:"handleScroll",value:function(){this.waitingForPaint||(this.waitingForPaint=!0,window.requestAnimationFrame(this.handleScrollPaint))}},{key:"handleScrollPaint",value:function(){if(this.waitingForPaint=!1,this.scroll){var e=null;if(this.SEARCH_CATEGORY.emojis)e=this.SEARCH_CATEGORY;else{for(var t=this.scroll.scrollTop,i=t>(this.scrollTop||0),n=0,r=0,a=this.categories.length;r<a;r++){var s=i?this.categories.length-1-r:r,o=this.categories[s],l=this.categoryRefs["category-"+s];if(l){var c=l.handleScroll(t);(!n||l.top<n)&&l.top>0&&(n=l.top),c&&!e&&(e=o)}}t<n?e=this.categories.filter((function(e){return!(!1===e.anchor)}))[0]:t+this.clientHeight>=this.scrollHeight&&(e=this.categories[this.categories.length-1])}if(e){var d=this.anchors,u=e.name;d.state.selected!=u&&d.setState({selected:u})}this.scrollTop=t}}},{key:"handleSearch",value:function(e){this.SEARCH_CATEGORY.emojis=e;for(var t=0,i=this.categories.length;t<i;t++){var n=this.categoryRefs["category-"+t];if(n&&"Search"!=n.props.name){var r=e?"none":"inherit";n.updateDisplay(r)}}this.forceUpdate(),this.scroll.scrollTop=0,this.handleScroll()}},{key:"handleAnchorClick",value:function(e,t){var i,n=this.categoryRefs["category-"+t],r=this.scroll;this.anchors;i=function(){if(n){var t=n.top;e.first?t=0:t+=1,r.scrollTop=t}},this.SEARCH_CATEGORY.emojis?(this.handleSearch(null),this.search.clear(),window.requestAnimationFrame(i)):i()}},{key:"handleSkinChange",value:function(e){var t={skin:e},i=this.props.onSkinChange;this.setState(t),C.update(t),i(e)}},{key:"handleKeyDown",value:function(e){var t=!1;switch(e.keyCode){case 13:var i=void 0;this.SEARCH_CATEGORY.emojis&&(i=this.SEARCH_CATEGORY.emojis[0])&&this.handleEmojiSelect(i),t=!0}t&&e.preventDefault()}},{key:"updateCategoriesSize",value:function(){for(var e=0,t=this.categories.length;e<t;e++){var i=this.categoryRefs["category-"+e];i&&i.memoizeSize()}if(this.scroll){var n=this.scroll;this.scrollHeight=n.scrollHeight,this.clientHeight=n.clientHeight}}},{key:"getCategories",value:function(){return this.state.firstRender?this.categories.slice(0,3):this.categories}},{key:"setAnchorsRef",value:function(e){this.anchors=e}},{key:"setSearchRef",value:function(e){this.search=e}},{key:"setPreviewRef",value:function(e){this.preview=e}},{key:"setScrollRef",value:function(e){this.scroll=e}},{key:"setCategoryRef",value:function(e,t){this.categoryRefs||(this.categoryRefs={}),this.categoryRefs[e]=t}},{key:"render",value:function(){var e=this,t=this.props,i=t.perLine,n=t.emojiSize,a=t.set,s=t.sheetSize,o=t.sheetColumns,l=t.sheetRows,c=t.style,d=t.title,u=t.emoji,p=t.color,h=t.native,g=t.backgroundImageFn,b=t.emojisToShowFilter,f=t.showPreview,v=t.showSkinTones,k=t.emojiTooltip,y=t.include,w=t.exclude,j=t.recent,x=t.autoFocus,C=t.skinEmoji,_=t.notFound,O=t.notFoundEmoji,E=this.state.skin,S=i*(n+12)+12+2+Object(P.e)();return m.a.createElement("div",{style:r({width:S},c),className:"emoji-mart",onKeyDown:this.handleKeyDown},m.a.createElement("div",{className:"emoji-mart-bar"},m.a.createElement(A,{ref:this.setAnchorsRef,data:this.data,i18n:this.i18n,color:p,categories:this.categories,onAnchorClick:this.handleAnchorClick,icons:this.icons})),m.a.createElement(J,{ref:this.setSearchRef,onSearch:this.handleSearch,data:this.data,i18n:this.i18n,emojisToShowFilter:b,include:y,exclude:w,custom:this.CUSTOM_CATEGORY.emojis,autoFocus:x}),m.a.createElement("div",{ref:this.setScrollRef,className:"emoji-mart-scroll",onScroll:this.handleScroll},this.getCategories().map((function(t,r){return m.a.createElement(V,{ref:e.setCategoryRef.bind(e,"category-"+r),key:t.name,id:t.id,name:t.name,emojis:t.emojis,perLine:i,native:h,hasStickyPosition:e.hasStickyPosition,data:e.data,i18n:e.i18n,recent:t.id==e.RECENT_CATEGORY.id?j:void 0,custom:t.id==e.RECENT_CATEGORY.id?e.CUSTOM_CATEGORY.emojis:void 0,emojiProps:{native:h,skin:E,size:n,set:a,sheetSize:s,sheetColumns:o,sheetRows:l,forceSize:h,tooltip:k,backgroundImageFn:g,onOver:e.handleEmojiOver,onLeave:e.handleEmojiLeave,onClick:e.handleEmojiClick},notFound:_,notFoundEmoji:O})}))),f&&m.a.createElement("div",{className:"emoji-mart-bar"},m.a.createElement(G,{ref:this.setPreviewRef,data:this.data,title:d,emoji:u,showSkinTones:v,emojiProps:{native:h,size:38,skin:E,set:a,sheetSize:s,sheetColumns:o,sheetRows:l,backgroundImageFn:g},skinsProps:{skin:E,onChange:this.handleSkinChange,skinEmoji:C},i18n:this.i18n})))}}]),t}(m.a.PureComponent);t.default=Y;Y.defaultProps=r({},B.b)},"./node_modules/emoji-mart/dist-es/vendor/raf-polyfill.js":function(e,t){"undefined"!=typeof window&&function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),a=window.setTimeout((function(){t(n+r)}),r);return e=n+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},"./node_modules/emotion/dist/index.esm.js":function(e,t,i){"use strict";(function(e){i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return o}));var n=i("./node_modules/create-emotion/dist/index.esm.js"),r=void 0!==e?e:{},a=Object(n.a)(r),s=(a.flush,a.hydrate,a.cx,a.merge,a.getRegisteredStyles,a.injectGlobal),o=(a.keyframes,a.css);a.sheet,a.caches}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./node_modules/flexsearch/dist/flexsearch.min.js":function(e,t,i){"use strict";!function(t,i,n){let r;(r=n.define)&&r.amd?r([],(function(){return i})):(r=n.modules)?r["FlexSearch".toLowerCase()]=i:e.exports=i}(0,function e(t){function i(e,t){const i=t?t.id:e&&e.id;this.id=i||0===i?i:N++,this.init(e,t),o(this,"index",(function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].c):Object.keys(this.c)})),o(this,"length",(function(){return this.index.length}))}function n(e,t,i,n){return this.u!==this.g&&(this.o=this.o.concat(i),this.u++,n&&this.o.length>=n&&(this.u=this.g),this.u===this.g&&(this.cache&&this.j.set(t,this.o),this.F&&this.F(this.o))),this}function r(e){const t=C();for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];k(n)?t[i]=n.slice(0):w(n)?t[i]=r(n):t[i]=n}return t}function a(e,t){const i=e.length,n=y(t),r=[];for(let a=0,s=0;a<i;a++){const i=e[a];(n&&t(i)||!n&&!t[i])&&(r[s++]=i)}return r}function s(e,t,i,n,r,a,s,o,l,c){let d;if(i=f(i,s?0:r,o,a,t,l,c),o&&(o=i.page,d=i.next,i=i.result),s)t=this.where(s,null,r,i);else{for(t=i,i=this.l,r=t.length,a=Array(r),s=0;s<r;s++)a[s]=i[t[s]];t=a}return i=t,n&&(y(n)||(B=n.split(":"),1<B.length?n=g:(B=B[0],n=h)),i.sort(n)),i=b(o,d,i),this.cache&&this.j.set(e,i),i}function o(e,t,i){Object.defineProperty(e,t,{get:i})}function l(e){return new RegExp(e,"g")}function c(e,t){for(let i=0;i<t.length;i+=2)e=e.replace(t[i],t[i+1]);return e}function d(e,t,i,n,r,a,s,o){return t[i]?t[i]:(r=r?(o-(s||o/1.5))*a+(s||o/1.5)*r:a,t[i]=r,r>=s&&((e=(e=e[o-(r+.5>>0)])[i]||(e[i]=[]))[e.length]=n),r)}function u(e,t){if(e){const i=Object.keys(e);for(let n=0,r=i.length;n<r;n++){const r=i[n],a=e[r];if(a)for(let i=0,n=a.length;i<n;i++){if(a[i]===t){1===n?delete e[r]:a.splice(i,1);break}w(a[i])&&u(a[i],t)}}}}function p(e){let t="",i="";var n="";for(let r=0;r<e.length;r++){const a=e[r];a!==i&&(r&&"h"===a?(n="a"===n||"e"===n||"i"===n||"o"===n||"u"===n||"y"===n,(("a"===i||"e"===i||"i"===i||"o"===i||"u"===i||"y"===i)&&n||" "===i)&&(t+=a)):t+=a),n=r===e.length-1?"":e[r+1],i=a}return t}function m(e,t){return 0>(e=e.length-t.length)?1:e?-1:0}function h(e,t){return(e=e[B])<(t=t[B])?-1:e>t?1:0}function g(e,t){const i=B.length;for(let n=0;n<i;n++)e=e[B[n]],t=t[B[n]];return e<t?-1:e>t?1:0}function b(e,t,i){return e?{page:e,next:t?""+t:null,result:i}:i}function f(e,t,i,n,r,a,s){let o,l=[];if(!0===i){i="0";var c=""}else c=i&&i.split(":");const d=e.length;if(1<d){const k=C(),y=[];let w,x;var u,p=0;let _;var m=!0;let O,E,S,T,N,P,I=0;if(c&&(2===c.length?(T=c,c=!1):c=N=parseInt(c[0],10)),s){for(w=C();p<d;p++)if("not"===r[p])for(x=e[p],_=x.length,u=0;u<_;u++)w["@"+x[u]]=1;else S=p+1;if(j(S))return b(i,o,l);p=0}else E=v(r)&&r;for(;p<d;p++){const v=p===(S||d)-1;if(!E||!p)if((u=E||r&&r[p])&&"and"!==u){if("or"!==u)continue;P=!1}else P=a=!0;if(x=e[p],_=x.length){if(m){if(!O){O=x;continue}var h=O.length;for(u=0;u<h;u++){var g="@"+(m=O[u]);s&&w[g]||(k[g]=1,a||(l[I++]=m))}O=null,m=!1}for(g=!1,u=0;u<_;u++){var f="@"+(h=x[u]);const e=a?k[f]||0:p;if(!(!e&&!n||s&&w[f]||!a&&k[f]))if(e===p){if(v){if((!N||--N<I)&&(l[I++]=h,t&&I===t))return b(i,I+(c||0),l)}else k[f]=p+1;g=!0}else n&&((f=y[e]||(y[e]=[]))[f.length]=h)}if(P&&!g&&!n)break}else if(P&&!n)return b(i,o,x)}if(O)if(p=O.length,s)for(u=c?parseInt(c,10):0;u<p;u++)w["@"+(e=O[u])]||(l[I++]=e);else l=O;if(n)for(I=l.length,T?(p=parseInt(T[0],10)+1,u=parseInt(T[1],10)+1):(p=y.length,u=0);p--;)if(h=y[p]){for(_=h.length;u<_;u++)if(n=h[u],(!s||!w["@"+n])&&(l[I++]=n,t&&I===t))return b(i,p+":"+u,l);u=0}}else!d||r&&"not"===r[0]||(l=e[0],c&&(c=parseInt(c[0],10)));return t&&(s=l.length,c&&c>s&&(c=0),o=(c=c||0)+t,o<s?l=l.slice(c,o):(o=0,c&&(l=l.slice(c)))),b(i,o,l)}function v(e){return"string"==typeof e}function k(e){return e.constructor===Array}function y(e){return"function"==typeof e}function w(e){return"object"==typeof e}function j(e){return void 0===e}function x(e){const t=Array(e);for(let i=0;i<e;i++)t[i]=C();return t}function C(){return Object.create(null)}function _(){let e,t;self.onmessage=function(i){if(i=i.data)if(i.search){const n=t.search(i.content,i.threshold?{limit:i.limit,threshold:i.threshold,where:i.where}:i.limit);self.postMessage({id:e,content:i.content,limit:i.limit,result:n})}else i.add?t.add(i.id,i.content):i.update?t.update(i.id,i.content):i.remove?t.remove(i.id):i.clear?t.clear():i.info?((i=t.info()).worker=e,console.log(i)):i.register&&(e=i.id,i.options.cache=!1,i.options.async=!1,i.options.worker=!1,t=new Function(i.register.substring(i.register.indexOf("{")+1,i.register.lastIndexOf("}")))(),t=new t(i.options))}}function O(i,n,r,a){i=t("flexsearch","id"+i,_,(function(e){(e=e.data)&&e.result&&a(e.id,e.content,e.result,e.limit,e.where,e.cursor,e.suggest)}),n);const s=e.toString();return r.id=n,i.postMessage({register:s,options:r,id:n}),i}const E={encode:"icase",f:"forward",split:/\W+/,cache:!1,async:!1,g:!1,D:!1,a:!1,b:9,threshold:0,depth:0},S={memory:{encode:"extra",f:"strict",threshold:0,b:1},speed:{encode:"icase",f:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",f:"full",threshold:1,b:3},score:{encode:"extra",f:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",f:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",f:"strict",threshold:8,b:9,depth:1}},T=[];let N=0;const P={},I={};let B;i.create=function(e,t){return new i(e,t)},i.registerMatcher=function(e){for(const t in e)e.hasOwnProperty(t)&&T.push(l(t),e[t]);return this},i.registerEncoder=function(e,t){return A[e]=t.bind(A),this},i.registerLanguage=function(e,t){return P[e]=t.filter,I[e]=t.stemmer,this},i.encode=function(e,t){return A[e](t)},i.prototype.init=function(e,t){if(this.v=[],t){var a=t.preset;e=t}else e||(e=E),a=e.preset;if(t={},v(e)?(t=S[e],e={}):a&&(t=S[a]),a=e.worker)if("undefined"==typeof Worker)e.worker=!1,this.m=null;else{var s=parseInt(a,10)||4;this.C=-1,this.u=0,this.o=[],this.F=null,this.m=Array(s);for(var o=0;o<s;o++)this.m[o]=O(this.id,o,e,n.bind(this))}if(this.f=e.tokenize||t.f||this.f||E.f,this.split=j(a=e.split)?this.split||E.split:v(a)?l(a):a,this.D=e.rtl||this.D||E.D,this.async="undefined"==typeof Promise||j(a=e.async)?this.async||E.async:a,this.g=j(a=e.worker)?this.g||E.g:a,this.threshold=j(a=e.threshold)?t.threshold||this.threshold||E.threshold:a,this.b=j(a=e.resolution)?a=t.b||this.b||E.b:a,a<=this.threshold&&(this.b=this.threshold+1),this.depth="strict"!==this.f||j(a=e.depth)?t.depth||this.depth||E.depth:a,this.w=(a=j(a=e.encode)?t.encode||E.encode:a)&&A[a]&&A[a].bind(A)||(y(a)?a:this.w||!1),(a=e.matcher)&&this.addMatcher(a),a=(t=e.lang)||e.filter){if(v(a)&&(a=P[a]),k(a)){s=this.w,o=C();for(var c=0;c<a.length;c++){var d=s?s(a[c]):a[c];o[d]=1}a=o}this.filter=a}if(a=t||e.stemmer){var u;for(u in t=v(a)?I[a]:a,s=this.w,o=[],t)t.hasOwnProperty(u)&&(c=s?s(u):u,o.push(l(c+"($|\\W)"),s?s(t[u]):t[u]));this.stemmer=u=o}if(this.a=o=(a=e.doc)?r(a):this.a||E.a,this.i=x(this.b-(this.threshold||0)),this.h=C(),this.c=C(),o){if(this.l=C(),e.doc=null,u=o.index={},t=o.keys=[],s=o.field,c=o.tag,d=o.store,k(o.id)||(o.id=o.id.split(":")),d){var p=C();if(v(d))p[d]=1;else if(k(d))for(let e=0;e<d.length;e++)p[d[e]]=1;else w(d)&&(p=d);o.store=p}if(c){if(this.G=C(),d=C(),s)if(v(s))d[s]=e;else if(k(s))for(p=0;p<s.length;p++)d[s[p]]=e;else w(s)&&(d=s);for(k(c)||(o.tag=c=[c]),s=0;s<c.length;s++)this.G[c[s]]=C();this.I=c,s=d}if(s){let n;for(k(s)||(w(s)?(n=s,o.field=s=Object.keys(s)):o.field=s=[s]),o=0;o<s.length;o++)k(c=s[o])||(n&&(e=n[c]),t[o]=c,s[o]=c.split(":")),u[c]=new i(e)}e.doc=a}return this.B=!0,this.j=!!(this.cache=a=j(a=e.cache)?this.cache||E.cache:a)&&new L(a),this},i.prototype.encode=function(e){return e&&(T.length&&(e=c(e,T)),this.v.length&&(e=c(e,this.v)),this.w&&(e=this.w(e)),this.stemmer&&(e=c(e,this.stemmer))),e},i.prototype.addMatcher=function(e){const t=this.v;for(const i in e)e.hasOwnProperty(i)&&t.push(l(i),e[i]);return this},i.prototype.add=function(e,t,i,n,r){if(this.a&&w(e))return this.A("add",e,t);if(t&&v(t)&&(e||0===e)){var s="@"+e;if(this.c[s]&&!n)return this.update(e,t);if(this.g)return++this.C>=this.m.length&&(this.C=0),this.m[this.C].postMessage({add:!0,id:e,content:t}),this.c[s]=""+this.C,i&&i(),this;if(!r){if(this.async&&"function"!=typeof importScripts){let r=this;return s=new Promise((function(i){setTimeout((function(){r.add(e,t,null,n,!0),r=null,i()}))})),i?(s.then(i),this):s}if(i)return this.add(e,t,null,n,!0),i(),this}if(!(t=this.encode(t)).length)return this;r=y(i=this.f)?i(t):t.split(this.split),this.filter&&(r=a(r,this.filter));const m=C();m._ctx=C();const h=r.length,g=this.threshold,b=this.depth,f=this.b,v=this.i,k=this.D;for(let t=0;t<h;t++){var o=r[t];if(o){var l=o.length,c=(k?t+1:h-t)/h,u="";switch(i){case"reverse":case"both":for(var p=l;--p;)d(v,m,u=o[p]+u,e,k?1:(l-p)/l,c,g,f-1);u="";case"forward":for(p=0;p<l;p++)d(v,m,u+=o[p],e,k?(p+1)/l:1,c,g,f-1);break;case"full":for(p=0;p<l;p++){const t=(k?p+1:l-p)/l;for(let i=l;i>p;i--)d(v,m,u=o.substring(p,i),e,t,c,g,f-1)}break;default:if(l=d(v,m,o,e,1,c,g,f-1),b&&1<h&&l>=g)for(l=m._ctx[o]||(m._ctx[o]=C()),o=this.h[o]||(this.h[o]=x(f-(g||0))),0>(c=t-b)&&(c=0),(u=t+b+1)>h&&(u=h);c<u;c++)c!==t&&d(o,l,r[c],e,0,f-(c<t?t-c:c-t),g,f-1)}}}this.c[s]=1,this.B=!1}return this},i.prototype.A=function(e,t,i){if(k(t)){var n=t.length;if(n--){for(var r=0;r<n;r++)this.A(e,t[r]);return this.A(e,t[n],i)}}else{var a,s=this.a.index,o=this.a.keys,l=this.a.tag;r=this.a.store;var c=this.a.id;n=t;for(var d=0;d<c.length;d++)n=n[c[d]];if("remove"===e&&(delete this.l[n],c=o.length,c--)){for(t=0;t<c;t++)s[o[t]].remove(n);return s[o[c]].remove(n,i)}if(l){for(a=0;a<l.length;a++){var u=l[a],p=t;for(c=u.split(":"),d=0;d<c.length;d++)p=p[c[d]];p="@"+p}a=(a=this.G[u])[p]||(a[p]=[])}for(let r=0,a=(c=this.a.field).length;r<a;r++){for(u=c[r],l=t,p=0;p<u.length;p++)l=l[u[p]];u=s[o[r]],p="add"===e?u.add:u.update,r===a-1?p.call(u,n,l,i):p.call(u,n,l)}if(r){for(i=Object.keys(r),e=C(),s=0;s<i.length;s++)if(r[o=i[s]]){let i,n;for(o=o.split(":"),c=0;c<o.length;c++)n=(n||t)[l=o[c]],i=(i||e)[l]=n}t=e}a&&(a[a.length]=t),this.l[n]=t}return this},i.prototype.update=function(e,t,i){return this.a&&w(e)?this.A("update",e,t):(this.c["@"+e]&&v(t)&&(this.remove(e),this.add(e,t,i,!0)),this)},i.prototype.remove=function(e,t,i){if(this.a&&w(e))return this.A("remove",e,t);var n="@"+e;if(this.c[n]){if(this.g)return this.m[this.c[n]].postMessage({remove:!0,id:e}),delete this.c[n],t&&t(),this;if(!i){if(this.async&&"function"!=typeof importScripts){let i=this;return n=new Promise((function(t){setTimeout((function(){i.remove(e,null,!0),i=null,t()}))})),t?(n.then(t),this):n}if(t)return this.remove(e,null,!0),t(),this}for(t=0;t<this.b-(this.threshold||0);t++)u(this.i[t],e);this.depth&&u(this.h,e),delete this.c[n],this.B=!1}return this},i.prototype.search=function(e,t,i,n){if(w(t)){if(k(t))for(var r=0;r<t.length;r++)t[r].query=e;else t.query=e;e=t,t=1e3}else t&&y(t)?(i=t,t=1e3):t||0===t||(t=1e3);let o,l,c,d=[],u=e;if(w(e)&&!k(e)){i||(i=e.callback)&&(u.callback=null),l=e.sort,o=e.page,t=e.limit;var p=e.threshold;c=e.suggest,e=e.query}if(this.a){p=this.a.index;const a=u.where;var h=u.bool||"or",g=u.field;let m,f,y=h;if(g)k(g)||(g=[g]);else if(k(u)){var b=u;g=[],y=[];for(var j=0;j<u.length;j++)r=(n=u[j]).bool||h,g[j]=n.field,y[j]=r,"not"===r?m=!0:"and"===r&&(f=!0)}else g=this.a.keys;for(h=g.length,j=0;j<h;j++)b&&(u=b[j]),o&&!v(u)&&(u.page=null,u.limit=0),d[j]=p[g[j]].search(u,0);if(i)return i(s.call(this,e,y,d,l,t,c,a,o,f,m));if(this.async){const i=this;return new Promise((function(n){Promise.all(d).then((function(r){n(s.call(i,e,y,r,l,t,c,a,o,f,m))}))}))}return s.call(this,e,y,d,l,t,c,a,o,f,m)}if(p||(p=this.threshold||0),!this.g){if(!n){if(this.async&&"function"!=typeof importScripts){let e=this;return p=new Promise((function(i){setTimeout((function(){i(e.search(u,t,null,!0)),e=null}))})),i?(p.then(i),this):p}if(i)return i(this.search(u,t,null,!0)),this}if(!e||!v(e))return d;if(u=e,this.cache)if(this.B){if(i=this.j.get(e))return i}else this.j.clear(),this.B=!0;if(u=this.encode(u),!u.length)return d;i=y(i=this.f)?i(u):u.split(this.split),this.filter&&(i=a(i,this.filter)),b=i.length,n=!0,r=[];var x=C(),_=0;if(1<b&&(this.depth&&"strict"===this.f?h=!0:i.sort(m)),!h||(j=this.h)){const e=this.b;for(;_<b;_++){let t=i[_];if(t){if(h){if(!g)if(j[t])g=t,x[t]=1;else if(!c)return d;if(c&&_===b-1&&!r.length)h=!1,t=g||t,x[t]=0;else if(!g)continue}if(!x[t]){const i=[];let a=!1,s=0;const o=h?j[g]:this.i;if(o){let n;for(let r=0;r<e-p;r++)(n=o[r]&&o[r][t])&&(i[s++]=n,a=!0)}if(a)g=t,r[r.length]=1<s?i.concat.apply([],i):i[0];else if(!c){n=!1;break}x[t]=1}}}}else n=!1;return n&&(d=f(r,t,o,c)),this.cache&&this.j.set(e,d),d}for(this.F=i,this.u=0,this.o=[],p=0;p<this.g;p++)this.m[p].postMessage({search:!0,limit:t,content:u})},i.prototype.find=function(e,t){return this.where(e,t,1)[0]||null},i.prototype.where=function(e,t,i,n){const r=this.l,a=[];let s,o=0;var l;let c;if(w(e)){i||(i=t);var d=Object.keys(e),u=d.length;if(s=!1,1===u&&"id"===d[0])return[r[e.id]];if((l=this.I)&&!n)for(var p=0;p<l.length;p++){var m=l[p],h=e[m];if(!j(h)){if(c=this.G[m]["@"+h],0==--u)return c;d.splice(d.indexOf(m),1),delete e[m];break}}for(l=Array(u),p=0;p<u;p++)l[p]=d[p].split(":")}else{if(y(e)){for(i=(t=n||Object.keys(r)).length,d=0;d<i;d++)e(u=r[t[d]])&&(a[o++]=u);return a}if(j(t))return[r[e]];if("id"===e)return[r[t]];d=[e],u=1,l=[e.split(":")],s=!0}for(p=(n=c||n||Object.keys(r)).length,m=0;m<p;m++){h=c?n[m]:r[n[m]];let p=!0;for(let i=0;i<u;i++){s||(t=e[d[i]]);const n=l[i],r=n.length;let a=h;if(1<r)for(let e=0;e<r;e++)a=a[n[e]];else a=a[n[0]];if(a!==t){p=!1;break}}if(p&&(a[o++]=h,i&&o===i))break}return a},i.prototype.info=function(){if(!this.g)return{id:this.id,items:this.length,cache:!(!this.cache||!this.cache.s)&&this.cache.s.length,matcher:T.length+(this.v?this.v.length:0),worker:this.g,threshold:this.threshold,depth:this.depth,resolution:this.b,contextual:this.depth&&"strict"===this.f};for(let e=0;e<this.g;e++)this.m[e].postMessage({info:!0,id:this.id})},i.prototype.clear=function(){return this.destroy().init()},i.prototype.destroy=function(){if(this.cache&&(this.j.clear(),this.j=null),this.i=this.h=this.c=null,this.a){const e=this.a.keys;for(let t=0;t<e.length;t++)this.a.index[e[t]].destroy();this.a=this.l=null}return this},i.prototype.export=function(e){const t=!e||j(e.serialize)||e.serialize;if(this.a){const t=!e||j(e.doc)||e.doc;var i=!e||j(e.index)||e.index;e=[];let n=0;if(i)for(i=this.a.keys;n<i.length;n++){const t=this.a.index[i[n]];e[n]=[t.i,t.h,Object.keys(t.c)]}t&&(e[n]=this.l)}else e=[this.i,this.h,Object.keys(this.c)];return t&&(e=JSON.stringify(e)),e},i.prototype.import=function(e,t){(!t||j(t.serialize)||t.serialize)&&(e=JSON.parse(e));const i=C();if(this.a){var n=!t||j(t.doc)||t.doc,r=0;if(!t||j(t.index)||t.index){const n=(t=this.a.keys).length;for(var a=e[0][2];r<a.length;r++)i[a[r]]=1;for(r=0;r<n;r++){a=this.a.index[t[r]];const n=e[r];n&&(a.i=n[0],a.h=n[1],a.c=i)}}n&&(this.l=w(n)?n:e[r])}else{for(n=e[2],r=0;r<n.length;r++)i[n[r]]=1;this.i=e[0],this.h=e[1],this.c=i}};const D=function(){const e=l("\\s+"),t=l("[^a-z0-9 ]"),i=[l("[-/]")," ",t,"",e," "];return function(e){return p(c(e.toLowerCase(),i))}}(),A={icase:function(e){return e.toLowerCase()},simple:function(){const e=l("\\s+"),t=l("[^a-z0-9 ]"),i=l("[-/]"),n=[l("[]"),"a",l("[]"),"e",l("[]"),"i",l("[]"),"o",l("[]"),"u",l("[]"),"y",l(""),"n",l("[c]"),"k",l(""),"s",l(" & ")," and ",i," ",t,"",e," "];return function(e){return" "===(e=c(e.toLowerCase(),n))?"":e}}(),advanced:function(){const e=l("ae"),t=l("ai"),i=l("ay"),n=l("ey"),r=l("oe"),a=l("ue"),s=l("ie"),o=l("sz"),d=l("zs"),u=l("ck"),m=l("cc"),h=[e,"a",t,"ei",i,"ei",n,"ei",r,"o",a,"u",s,"i",o,"s",d,"s",l("sh"),"s",u,"k",m,"k",l("th"),"t",l("dt"),"t",l("ph"),"f",l("pf"),"f",l("ou"),"o",l("uo"),"u"];return function(e,t){return e?(2<(e=this.simple(e)).length&&(e=c(e,h)),t||1<e.length&&(e=p(e)),e):e}}(),extra:function(){const e=[l("p"),"b",l("z"),"s",l("[cgq]"),"k",l("n"),"m",l("d"),"t",l("[vw]"),"f",l("[aeiouy]"),""];return function(t){if(!t)return t;if(1<(t=this.advanced(t,!0)).length){t=t.split(" ");for(let i=0;i<t.length;i++){const n=t[i];1<n.length&&(t[i]=n[0]+c(n.substring(1),e))}t=p(t=t.join(" "))}return t}}(),balance:D},L=function(){function e(e){this.clear(),this.H=!0!==e&&e}return e.prototype.clear=function(){this.cache=C(),this.count=C(),this.index=C(),this.s=[]},e.prototype.set=function(e,t){if(this.H&&j(this.cache[e])){let i=this.s.length;if(i===this.H){i--;const e=this.s[i];delete this.cache[e],delete this.count[e],delete this.index[e]}this.index[e]=i,this.s[i]=e,this.count[e]=-1,this.cache[e]=t,this.get(e)}else this.cache[e]=t},e.prototype.get=function(e){const t=this.cache[e];if(this.H&&t){var i=++this.count[e];const t=this.index;let r=t[e];if(0<r){const a=this.s;for(var n=r;this.count[a[--r]]<=i&&-1!==r;);if(r++,r!==n){for(i=n;i>r;i--)n=a[i-1],a[i]=n,t[n]=i;a[r]=e,t[e]=r}}}return t},e}();return i}(function(){const e={},t="undefined"!=typeof Blob&&"undefined"!=typeof URL&&URL.createObjectURL;return function(i,n,r,a,s){return r=t?URL.createObjectURL(new Blob(["("+r.toString()+")()"],{type:"text/javascript"})):i+".min.js",e[i+="-"+n]||(e[i]=[]),e[i][s]=new Worker(r),e[i][s].onmessage=a,e[i][s]}}()),this)},"./node_modules/flushable/dist/index.umd.js":function(e,t,i){e.exports=function(){"use strict";return function(e,t){var i=setTimeout((function(){i=null,e(!1)}),t),n=function(){i&&(clearTimeout(i),i=null)};return{cancel:n,flush:function(){i&&(n(),e(!0))},pending:function(){return Boolean(i)}}}}()},"./node_modules/immer/dist/immer.esm.js":function(e,t,i){"use strict";function n(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(i.length?" "+i.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(e){return!!e&&!!e[q]}function a(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[W]||!!e.constructor[W]||p(e)||m(e))}function s(e,t,i){void 0===i&&(i=!1),0===o(e)?(i?Object.keys:$)(e).forEach((function(n){i&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(i,n){return t(n,i,e)}))}function o(e){var t=e[q];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:m(e)?3:0}function l(e,t){return 2===o(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===o(e)?e.get(t):e[t]}function d(e,t,i){var n=o(e);2===n?e.set(t,i):3===n?(e.delete(t),e.add(i)):e[t]=i}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return R&&e instanceof Map}function m(e){return z&&e instanceof Set}function h(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=G(e);delete t[q];for(var i=$(t),n=0;n<i.length;n++){var r=i[n],a=t[r];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[r]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function b(e,t){return void 0===t&&(t=!1),v(e)||r(e)||!a(e)||(o(e)>1&&(e.set=e.add=e.clear=e.delete=f),Object.freeze(e),t&&s(e,(function(e,t){return b(t,!0)}),!0)),e}function f(){n(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function k(e){var t=K[e];return t||n(18,e),t}function y(){return M}function w(e,t){t&&(k("Patches"),e.u=[],e.s=[],e.v=t)}function j(e){x(e),e.p.forEach(_),e.p=null}function x(e){e===M&&(M=e.l)}function C(e){return M={p:[],l:M,h:e,m:!0,_:0}}function _(e){var t=e[q];0===t.i||1===t.i?t.j():t.g=!0}function O(e,t){t._=t.p.length;var i=t.p[0],r=void 0!==e&&e!==i;return t.h.O||k("ES5").S(t,e,r),r?(i[q].P&&(j(t),n(4)),a(e)&&(e=E(t,e),t.l||T(t,e)),t.u&&k("Patches").M(i[q],e,t.u,t.s)):e=E(t,i,[]),j(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function E(e,t,i){if(v(t))return t;var n=t[q];if(!n)return s(t,(function(r,a){return S(e,n,t,r,a,i)}),!0),t;if(n.A!==e)return t;if(!n.P)return T(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var r=4===n.i||5===n.i?n.o=g(n.k):n.o;s(3===n.i?new Set(r):r,(function(t,a){return S(e,n,r,t,a,i)})),T(e,r,!1),i&&e.u&&k("Patches").R(n,i,e.u,e.s)}return n.o}function S(e,t,i,n,s,o){if(r(s)){var c=E(e,s,o&&t&&3!==t.i&&!l(t.D,n)?o.concat(n):void 0);if(d(i,n,c),!r(c))return;e.m=!1}if(a(s)&&!v(s)){if(!e.h.N&&e._<1)return;E(e,s),t&&t.A.l||T(e,s)}}function T(e,t,i){void 0===i&&(i=!1),e.h.N&&e.m&&b(t,i)}function N(e,t){var i=e[q];return(i?h(i):e)[t]}function P(e,t){if(t in e)for(var i=Object.getPrototypeOf(e);i;){var n=Object.getOwnPropertyDescriptor(i,t);if(n)return n;i=Object.getPrototypeOf(i)}}function I(e){e.P||(e.P=!0,e.l&&I(e.l))}function B(e){e.o||(e.o=g(e.t))}function D(e,t,i){var n=p(t)?k("MapSet").T(t,i):m(t)?k("MapSet").F(t,i):e.O?function(e,t){var i=Array.isArray(e),n={i:i?1:0,A:t?t.A:y(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},r=n,a=Z;i&&(r=[n],a=J);var s=Proxy.revocable(r,a),o=s.revoke,l=s.proxy;return n.k=l,n.j=o,l}(t,i):k("ES5").J(t,i);return(i?i.A:y()).p.push(n),n}function A(e){return r(e)||n(22,e),function e(t){if(!a(t))return t;var i,n=t[q],r=o(t);if(n){if(!n.P&&(n.i<4||!k("ES5").K(n)))return n.t;n.I=!0,i=L(t,r),n.I=!1}else i=L(t,r);return s(i,(function(t,r){n&&c(n.t,t)===r||d(i,t,e(r))})),3===r?new Set(i):i}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}i.d(t,"b",(function(){return Y}));var F,M,V="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),R="undefined"!=typeof Map,z="undefined"!=typeof Set,U="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=V?Symbol.for("immer-nothing"):((F={})["immer-nothing"]=!0,F),W=V?Symbol.for("immer-draftable"):"__$immer_draftable",q=V?Symbol.for("immer-state"):"__$immer_state",$=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames),G=Object.getOwnPropertyDescriptors||function(e){var t={};return $(e).forEach((function(i){t[i]=Object.getOwnPropertyDescriptor(e,i)})),t},K={},Z={get:function(e,t){if(t===q)return e;var i=h(e);if(!l(i,t))return function(e,t,i){var n,r=P(t,i);return r?"value"in r?r.value:null===(n=r.get)||void 0===n?void 0:n.call(e.k):void 0}(e,i,t);var n=i[t];return e.I||!a(n)?n:n===N(e.t,t)?(B(e),e.o[t]=D(e.A.h,n,e)):n},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,i){var n=P(h(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,i),!0;if(!e.P){var r=N(h(e),t),a=null==r?void 0:r[q];if(a&&a.t===i)return e.o[t]=i,e.D[t]=!1,!0;if(u(i,r)&&(void 0!==i||l(e.t,t)))return!0;B(e),I(e)}return e.o[t]=i,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==N(e.t,t)||t in e.t?(e.D[t]=!1,B(e),I(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var i=h(e),n=Reflect.getOwnPropertyDescriptor(i,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:i[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},J={};s(Z,(function(e,t){J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),J.deleteProperty=function(e,t){return Z.deleteProperty.call(this,e[0],t)},J.set=function(e,t,i){return Z.set.call(this,e[0],t,i,e[0])};var Q=new(function(){function e(e){this.O=U,this.N=!0,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,i){if("function"==typeof e&&"function"!=typeof t){var r=t;t=e;var s=this;return function(e){var i=this;void 0===e&&(e=r);for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return s.produce(e,(function(e){var n;return(n=t).call.apply(n,[i,e].concat(a))}))}}var o;if("function"!=typeof t&&n(6),void 0!==i&&"function"!=typeof i&&n(7),a(e)){var l=C(this),c=D(this,e,void 0),d=!0;try{o=t(c),d=!1}finally{d?j(l):x(l)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return w(l,i),O(e,l)}),(function(e){throw j(l),e})):(w(l,i),O(o,l))}if(!e||"object"!=typeof e){if((o=t(e))===H)return;return void 0===o&&(o=e),this.N&&b(o,!0),o}n(21,e)},t.produceWithPatches=function(e,t){var i,n,r=this;return"function"==typeof e?function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return r.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(n))}))}:[this.produce(e,t,(function(e,t){i=e,n=t})),i,n]},t.createDraft=function(e){a(e)||n(8),r(e)&&(e=A(e));var t=C(this),i=D(this,e,void 0);return i[q].C=!0,x(t),i},t.finishDraft=function(e,t){var i=(e&&e[q]).A;return w(i,t),O(void 0,i)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!U&&n(20),this.O=e},t.applyPatches=function(e,t){var i;for(i=t.length-1;i>=0;i--){var n=t[i];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}var a=k("Patches").$;return r(e)?a(e,t):this.produce(e,(function(e){return a(e,t.slice(i+1))}))},e}()),Y=Q.produce;Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q);t.a=Y},"./node_modules/joinn/lib/joinn.js":function(e,t){(function(){e.exports=function(e,t,i){var n,r;switch(null==t&&(t=", "),null==i&&(i=" and "),(n=e.slice(0)).length){case 0:return"";case 1:return n.pop();default:return r=n.pop(),n.join(t)+i+r}}}).call(this)},"./node_modules/performance-now/lib/performance-now.js":function(e,t,i){(function(t){(function(){var i,n,r,a,s,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(i()-s)/1e6},n=t.hrtime,a=(i=function(){var e;return 1e9*(e=n())[0]+e[1]})(),o=1e9*t.uptime(),s=a-o):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,i("./node_modules/process/browser.js"))},"./node_modules/raf/index.js":function(e,t,i){(function(t){for(var n=i("./node_modules/performance-now/lib/performance-now.js"),r="undefined"==typeof window?t:window,a=["moz","webkit"],s="AnimationFrame",o=r["request"+s],l=r["cancel"+s]||r["cancelRequest"+s],c=0;!o&&c<a.length;c++)o=r[a[c]+"Request"+s],l=r[a[c]+"Cancel"+s]||r[a[c]+"CancelRequest"+s];if(!o||!l){var d=0,u=0,p=[];o=function(e){if(0===p.length){var t=n(),i=Math.max(0,16.666666666666668-(t-d));d=i+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(d)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(i))}return p.push({handle:++u,callback:e,cancelled:!1}),u},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return o.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=o,e.cancelAnimationFrame=l}}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-animate-height/lib/AnimateHeight.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=c(i("./node_modules/react/index.js")),o=c(i("./node_modules/prop-types/index.js")),l=c(i("./node_modules/react-animate-height/node_modules/classnames/index.js"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},p=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function m(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(!i.length)return e;for(var r={},a=Object.keys(e),s=0;s<a.length;s++){var o=a[s];-1===i.indexOf(o)&&(r[o]=e[o])}return r}function h(e){e.forEach((function(e){return cancelAnimationFrame(e)}))}function g(e){return!isNaN(parseFloat(e))&&isFinite(e)}function b(e){return"string"==typeof e&&e.search("%")===e.length-1&&g(e.substr(0,e.length-1))}function f(e,t){e&&"function"==typeof e&&e(t)}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));i.animationFrameIDs=[];var n="auto",a="visible";g(e.height)?(n=e.height<0||"0"===e.height?0:e.height,a="hidden"):b(e.height)&&(n="0%"===e.height?0:e.height,a="hidden"),i.animationStateClasses=r({},u,e.animationStateClasses);var s=i.getStaticStateClasses(n);return i.state={animationStateClasses:s,height:n,overflow:a,shouldUseTransitions:!1},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var i,n,r=this,a=this.props,s=a.delay,o=a.duration,c=a.height,u=a.onAnimationEnd,p=a.onAnimationStart;if(this.contentElement&&c!==e.height){var m;this.showContent(t.height),this.contentElement.style.overflow="hidden";var v=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var k=o+s,y=null,w={height:null,overflow:"hidden"},j="auto"===t.height;g(c)?(y=c<0||"0"===c?0:c,w.height=y):b(c)?(y="0%"===c?0:c,w.height=y):(y=v,w.height="auto",w.overflow=null),j&&(w.height=y,y=v);var x=(0,l.default)((d(m={},this.animationStateClasses.animating,!0),d(m,this.animationStateClasses.animatingUp,"auto"===e.height||c<e.height),d(m,this.animationStateClasses.animatingDown,"auto"===c||c>e.height),d(m,this.animationStateClasses.animatingToHeightZero,0===w.height),d(m,this.animationStateClasses.animatingToHeightAuto,"auto"===w.height),d(m,this.animationStateClasses.animatingToHeightSpecific,w.height>0),m)),C=this.getStaticStateClasses(w.height);this.setState({animationStateClasses:x,height:y,overflow:"hidden",shouldUseTransitions:!j}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),j?(w.shouldUseTransitions=!0,h(this.animationFrameIDs),this.animationFrameIDs=(i=function(){r.setState(w),f(p,{newHeight:w.height})},(n=[])[0]=requestAnimationFrame((function(){n[1]=requestAnimationFrame((function(){i()}))})),n),this.animationClassesTimeoutID=setTimeout((function(){r.setState({animationStateClasses:C,shouldUseTransitions:!1}),r.hideContent(w.height),f(u,{newHeight:w.height})}),k)):(f(p,{newHeight:y}),this.timeoutID=setTimeout((function(){w.animationStateClasses=C,w.shouldUseTransitions=!1,r.setState(w),"auto"!==c&&r.hideContent(y),f(u,{newHeight:y})}),k))}}},{key:"componentWillUnmount",value:function(){h(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,l.default)((d(t={},this.animationStateClasses.static,!0),d(t,this.animationStateClasses.staticHeightZero,0===e),d(t,this.animationStateClasses.staticHeightSpecific,e>0),d(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,i=this.props,n=i.animateOpacity,a=i.applyInlineTransitions,o=i.children,c=i.className,u=i.contentClassName,h=i.delay,g=i.duration,b=i.easing,f=i.id,v=i.style,k=this.state,y=k.height,w=k.overflow,j=k.animationStateClasses,x=k.shouldUseTransitions,C=r({},v,{height:y,overflow:w||v.overflow});x&&a&&(C.transition="height "+g+"ms "+b+" "+h+"ms",v.transition&&(C.transition=v.transition+", "+C.transition),C.WebkitTransition=C.transition);var _={};n&&(_.transition="opacity "+g+"ms "+b+" "+h+"ms",_.WebkitTransition=_.transition,0===y&&(_.opacity=0));var O=(0,l.default)((d(e={},j,!0),d(e,c,c),e)),E=void 0!==this.props["aria-hidden"]?this.props["aria-hidden"]:0===y;return s.default.createElement("div",r({},m.apply(void 0,[this.props].concat(p)),{"aria-hidden":E,className:O,id:f,style:C}),s.default.createElement("div",{className:u,style:_,ref:function(e){return t.contentElement=e}},o))}}]),t}(s.default.Component);v.propTypes={"aria-hidden":o.default.bool,animateOpacity:o.default.bool,animationStateClasses:o.default.object,applyInlineTransitions:o.default.bool,children:o.default.any.isRequired,className:o.default.string,contentClassName:o.default.string,delay:o.default.number,duration:o.default.number,easing:o.default.string,height:function(e,t,i){var r=e[t];return"number"==typeof r&&r>=0||b(r)||"auto"===r?null:new TypeError('value "'+r+'" of type "'+(void 0===r?"undefined":n(r))+'" is invalid type for '+t+" in "+i+'. It needs to be a positive number, string "auto" or percentage string (e.g. "15%").')},id:o.default.string,onAnimationEnd:o.default.func,onAnimationStart:o.default.func,style:o.default.object},v.defaultProps={animateOpacity:!1,animationStateClasses:u,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=v},"./node_modules/react-animate-height/node_modules/classnames/index.js":function(e,t,i){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var s=r.apply(null,n);s&&e.push(s)}else if("object"===a)for(var o in n)i.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},"./node_modules/react-dnd/dist/esm/common/DndContext.js":function(e,t,i){"use strict";i.d(t,"a",(function(){return Be})),i.d(t,"b",(function(){return De}));var n,r=i("./node_modules/react/index.js");!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(n||(n={}));var a=i("./node_modules/redux/es/redux.js"),s=i("./node_modules/invariant/browser.js"),o=i.n(s),l="dnd-core/INIT_COORDS",c="dnd-core/BEGIN_DRAG",d="dnd-core/PUBLISH_DRAG_SOURCE",u="dnd-core/HOVER",p="dnd-core/DROP",m="dnd-core/END_DRAG";function h(e,t){return{type:l,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,i){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:i||null}),e)}function f(e,t){return e.filter((function(e){return e!==t}))}function v(e){return"object"===g(e)}function k(e,t){var i=new Map,n=function(e){return i.set(e,i.has(e)?i.get(e)+1:1)};e.forEach(n),t.forEach(n);var r=[];return i.forEach((function(e,t){1===e&&r.push(t)})),r}var y={type:l,payload:{clientOffset:null,sourceClientOffset:null}};function w(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},n=i.publishSource,r=void 0===n||n,a=i.clientOffset,s=i.getSourceClientOffset,o=e.getMonitor(),l=e.getRegistry();e.dispatch(h(a)),j(t,o,l);var d=_(t,o);if(null!==d){var u=null;a&&(x(s),u=s(d)),e.dispatch(h(a,u));var p=l.getSource(d),m=p.beginDrag(o,d);C(m),l.pinSource(d);var g=l.getSourceType(d);return{type:c,payload:{itemType:g,item:m,sourceId:d,clientOffset:a||null,sourceClientOffset:u||null,isSourcePublic:!!r}}}e.dispatch(y)}}function j(e,t,i){o()(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){o()(i.getSource(e),"Expected sourceIds to be registered.")}))}function x(e){o()("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function C(e){o()(v(e),"Item must be an object.")}function _(e,t){for(var i=null,n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){i=e[n];break}return i}function O(e){return function(){if(e.getMonitor().isDragging())return{type:d}}}function E(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function S(e){return function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.clientOffset;T(t);var r=t.slice(0),a=e.getMonitor(),s=e.getRegistry();N(r,a,s);var o=a.getItemType();return P(r,s,o),I(r,a,s),{type:u,payload:{targetIds:r,clientOffset:n||null}}}}function T(e){o()(Array.isArray(e),"Expected targetIds to be an array.")}function N(e,t,i){o()(t.isDragging(),"Cannot call hover while not dragging."),o()(!t.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var r=e[n];o()(e.lastIndexOf(r)===n,"Expected targetIds to be unique in the passed array.");var a=i.getTarget(r);o()(a,"Expected targetIds to be registered.")}}function P(e,t,i){for(var n=e.length-1;n>=0;n--){var r=e[n];E(t.getTargetType(r),i)||e.splice(n,1)}}function I(e,t,i){e.forEach((function(e){i.getTarget(e).hover(t,e)}))}function B(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function D(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?B(i,!0).forEach((function(t){A(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):B(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function L(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.getMonitor(),n=e.getRegistry();F(i);var r=V(i);r.forEach((function(r,a){var s=M(r,a,n,i),o={type:p,payload:{dropResult:D({},t,{},s)}};e.dispatch(o)}))}}function F(e){o()(e.isDragging(),"Cannot call drop while not dragging."),o()(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function M(e,t,i,n){var r=i.getTarget(e),a=r?r.drop(n,e):void 0;return function(e){o()(void 0===e||v(e),"Drop result must either be an object or undefined.")}(a),void 0===a&&(a=0===t?{}:n.getDropResult()),a}function V(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function R(e){return function(){var t=e.getMonitor(),i=e.getRegistry();!function(e){o()(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var n=t.getSourceId();return i.getSource(n,!0).endDrag(t,n),i.unpinSource(),{type:m}}}var z=function(e,t){return e===t};function U(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function H(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!i(e[n],t[n]))return!1;return!0}function W(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?W(i,!0).forEach((function(t){$(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):W(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function $(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var G={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,i=t.payload;switch(t.type){case l:case c:return{initialSourceClientOffset:i.sourceClientOffset,initialClientOffset:i.clientOffset,clientOffset:i.clientOffset};case u:return U(e.clientOffset,i.clientOffset)?e:q({},e,{clientOffset:i.clientOffset});case m:case p:return G;default:return e}}var Z="dnd-core/ADD_SOURCE",J="dnd-core/ADD_TARGET",Q="dnd-core/REMOVE_SOURCE",Y="dnd-core/REMOVE_TARGET";function X(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ee(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?X(i,!0).forEach((function(t){te(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):X(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function te(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ie={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,i=t.payload;switch(t.type){case c:return ee({},e,{itemType:i.itemType,item:i.item,sourceId:i.sourceId,isSourcePublic:i.isSourcePublic,dropResult:null,didDrop:!1});case d:return ee({},e,{isSourcePublic:!0});case u:return ee({},e,{targetIds:i.targetIds});case Y:return-1===e.targetIds.indexOf(i.targetId)?e:ee({},e,{targetIds:f(e.targetIds,i.targetId)});case p:return ee({},e,{dropResult:i.dropResult,didDrop:!0,targetIds:[]});case m:return ee({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:case J:return e+1;case Q:case Y:return e-1;default:return e}}var ae=[],se=[];function oe(e,t){return e!==ae&&(e===se||void 0===t||(i=e,t.filter((function(e){return i.indexOf(e)>-1}))).length>0);var i}function le(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:break;case Z:case J:case Y:case Q:return ae;case c:case d:case m:case p:default:return se}var t=e.payload,i=t.targetIds,n=void 0===i?[]:i,r=t.prevTargetIds,a=void 0===r?[]:r,s=k(n,a),o=s.length>0||!H(n,a);if(!o)return ae;var l=a[a.length-1],h=n[n.length-1];return l!==h&&(l&&s.push(l),h&&s.push(h)),s}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function de(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ue(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?de(i,!0).forEach((function(t){pe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):de(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function pe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:le(e.dirtyHandlerIds,{type:t.type,payload:ue({},t.payload,{prevTargetIds:b(e,"dragOperation.targetIds",[])})}),dragOffset:K(e.dragOffset,t),refCount:re(e.refCount,t),dragOperation:ne(e.dragOperation,t),stateId:ce(e.stateId)}}function he(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ge(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}ae.__IS_NONE__=!0,se.__IS_ALL__=!0;var be=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=i}var t,i,n;return t=e,(i=[{key:"subscribeToStateChange",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},n=i.handlerIds;o()("function"==typeof e,"listener must be a function."),o()(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId,a=function(){var i=t.store.getState(),a=i.stateId;try{a===r||a===r+1&&!oe(i.dirtyHandlerIds,n)||e()}finally{r=a}};return this.store.subscribe(a)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;o()("function"==typeof e,"listener must be a function.");var i=this.store.getState().dragOffset;return this.store.subscribe((function(){var n=t.store.getState().dragOffset;n!==i&&(i=n,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return o()(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return o()(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&E(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return o()(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var i=t.shallow;if(!this.isDragging())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();if(r&&!E(n,r))return!1;var a=this.getTargetIds();if(!a.length)return!1;var s=a.indexOf(e);return i?s===a.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,n=e.clientOffset,r=e.initialClientOffset,a=e.initialSourceClientOffset,n&&r&&a?he((i=a,{x:(t=n).x+i.x,y:t.y+i.y}),r):null;var e,t,i,n,r,a}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,i=e.initialClientOffset,t&&i?he(t,i):null;var e,t,i}}])&&ge(t.prototype,i),n&&ge(t,n),e}(),fe=i("./node_modules/asap/browser-asap.js"),ve=i.n(fe),ke=0;function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){t&&Array.isArray(e)?e.forEach((function(e){return we(e,!1)})):o()("string"==typeof e||"symbol"===ye(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function je(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ce(e){var t=(ke++).toString();switch(e){case n.SOURCE:return"S".concat(t);case n.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function _e(e){switch(e[0]){case"S":return n.SOURCE;case"T":return n.TARGET;default:o()(!1,"Cannot parse handler ID: ".concat(e))}}function Oe(e,t){var i=e.entries(),n=!1;do{var r=i.next(),a=r.done;if(xe(r.value,2)[1]===t)return!0;n=!!a}while(!n);return!1}var Ee=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,i,r;return t=e,(i=[{key:"addSource",value:function(e,t){we(e),function(e){o()("function"==typeof e.canDrag,"Expected canDrag to be a function."),o()("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),o()("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var i=this.addHandler(n.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Z,payload:{sourceId:e}}}(i)),i}},{key:"addTarget",value:function(e,t){we(e,!0),function(e){o()("function"==typeof e.canDrop,"Expected canDrop to be a function."),o()("function"==typeof e.hover,"Expected hover to be a function."),o()("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var i=this.addHandler(n.TARGET,e,t);return this.store.dispatch(function(e){return{type:J,payload:{targetId:e}}}(i)),i}},{key:"containsHandler",value:function(e){return Oe(this.dragSources,e)||Oe(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o()(this.isSourceId(e),"Expected a valid source ID.");var i=t&&e===this.pinnedSourceId,n=i?this.pinnedSource:this.dragSources.get(e);return n}},{key:"getTarget",value:function(e){return o()(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return o()(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return o()(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return _e(e)===n.SOURCE}},{key:"isTargetId",value:function(e){return _e(e)===n.TARGET}},{key:"removeSource",value:function(e){var t=this;o()(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Q,payload:{sourceId:e}}}(e)),ve()((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){o()(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:Y,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);o()(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){o()(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,i){var r=Ce(e);return this.types.set(r,t),e===n.SOURCE?this.dragSources.set(r,i):e===n.TARGET&&this.dropTargets.set(r,i),r}}])&&je(t.prototype,i),r&&je(t,r),e}();function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ne(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Object(a.e)(me,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var Pe=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Se(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var n=Ne(i);this.store=n,this.monitor=new be(n,new Ee(n)),n.subscribe(this.handleRefCountChange)}var t,i,n;return t=e,(i=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,i=function(e){return{beginDrag:w(e),publishDragSource:O(e),hover:S(e),drop:L(e),endDrag:R(e)}}(this);return Object.keys(i).reduce((function(n,r){var a,s=i[r];return n[r]=(a=s,function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var s=a.apply(e,n);void 0!==s&&t(s)}),n}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&Te(t.prototype,i),n&&Te(t,n),e}();function Ie(e,t,i,n){var r=new Pe(n),a=e(r,t,i);return r.receiveBackend(a),r}var Be=r.createContext({dragDropManager:void 0});function De(e,t,i,n){return{dragDropManager:Ie(e,t,i,n)}}},"./node_modules/react-dnd/dist/esm/common/DndProvider.js":function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return l}));var n=i("./node_modules/react/index.js"),r=i("./node_modules/react-dnd/dist/esm/common/DndContext.js");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var o=0,l=Object(n.memo)((function(e){var t=e.children,i=a(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d(),i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=t;a[c]||(a[c]=Object(r.b)(e,t,i,n));return a[c]}(e.backend,e.context,e.options,e.debugMode),i=!e.context;return[t,i]}(s(e,["children"])),2),l=i[0],u=i[1];return n.useEffect((function(){return u&&o++,function(){u&&(0===--o&&(d()[c]=null))}}),[]),n.createElement(r.a.Provider,{value:l},t)}));l.displayName="DndProvider";var c=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function d(){return void 0!==e?e:window}}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-dnd/dist/esm/index.js":function(e,t,i){"use strict";i.r(t),i.d(t,"DndContext",(function(){return n.a})),i.d(t,"createDndContext",(function(){return n.b})),i.d(t,"DndProvider",(function(){return r.a})),i.d(t,"DragPreviewImage",(function(){return s})),i.d(t,"useDrag",(function(){return D})),i.d(t,"useDrop",(function(){return U})),i.d(t,"useDragLayer",(function(){return W})),i.d(t,"DragSource",(function(){return ke})),i.d(t,"DropTarget",(function(){return Ce})),i.d(t,"DragLayer",(function(){return Be}));var n=i("./node_modules/react-dnd/dist/esm/common/DndContext.js"),r=i("./node_modules/react-dnd/dist/esm/common/DndProvider.js"),a=i("./node_modules/react/index.js"),s=a.memo((function(e){var t=e.connect,i=e.src;if("undefined"!=typeof Image){var n=new Image;n.src=i,n.onload=function(){return t(n)}}return null}));s.displayName="DragPreviewImage";var o=i("./node_modules/invariant/browser.js"),l=i.n(o),c="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,d=i("./node_modules/shallowequal/index.js"),u=i.n(d);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t,i){var n=p(Object(a.useState)((function(){return t(e)})),2),r=n[0],s=n[1],o=Object(a.useCallback)((function(){var n=t(e);u()(r,n)||(s(n),i&&i())}),[r,e,i]);return c(o,[]),[r,o]}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e,t,i){var n=h(m(e,t,i),2),r=n[0],a=n[1];return c((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(a,{handlerIds:[t]})}),[e,a]),r}function b(e,t,i){var n=i.getRegistry(),r=n.addTarget(e,t);return[r,function(){return n.removeTarget(r)}]}function f(e,t,i){var n=i.getRegistry(),r=n.addSource(e,t);return[r,function(){return n.removeSource(r)}]}function v(){var e=Object(a.useContext)(n.a).dragDropManager;return l()(null!=e,"Expected drag drop context"),e}function k(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=!1,w=!1,j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,i,n;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){l()(!y,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return y=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{y=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;l()(!w,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return w=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{w=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&k(t.prototype,i),n&&k(t,n),e}();function x(e,t){"function"==typeof e?e(t):e.current=t}function C(e,t){var i=e.ref;return l()("string"!=typeof i,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),i?Object(a.cloneElement)(e,{ref:function(e){x(i,e),x(t,e)}}):Object(a.cloneElement)(e,{ref:t})}function _(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function O(e){var t={};return Object.keys(e).forEach((function(i){var n=e[i];if(i.endsWith("Ref"))t[i]=e[i];else{var r=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(a.isValidElement)(t)){var n=t;return e(n,i),n}var r=t;return _(r),C(r,i?function(t){return e(t,i)}:e)}}(n);t[i]=function(){return r}}})),t}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return null!==e&&"object"===E(e)&&e.hasOwnProperty("current")}function T(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var N=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=O({dragSource:function(e,t){i.clearDragSource(),i.dragSourceOptions=t||null,S(e)?i.dragSourceRef=e:i.dragSourceNode=e,i.reconnectDragSource()},dragPreview:function(e,t){i.clearDragPreview(),i.dragPreviewOptions=t||null,S(e)?i.dragPreviewRef=e:i.dragPreviewNode=e,i.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,i,n;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();this.handlerId?this.dragPreview&&t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.disconnectDragPreview(),this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.disconnectDragPreview()}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!u()(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!u()(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&T(t.prototype,i),n&&T(t,n),e}();function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(e){var t=Object(a.useRef)(e);t.current=e,l()(null!=e.item,"item must be defined"),l()(null!=e.item.type,"item type must be defined");var i,n=B((i=v(),[Object(a.useMemo)((function(){return new j(i)}),[i]),Object(a.useMemo)((function(){return new N(i.getBackend())}),[i])]),2),r=n[0],s=n[1];!function(e,t,i){var n=v(),r=Object(a.useMemo)((function(){return{beginDrag:function(){var i=e.current,n=i.begin,r=i.item;if(n){var a=n(t);return l()(null==a||"object"===I(a),"dragSpec.begin() must either return an object, undefined, or null"),a||r||{}}return r||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(i,n){var r=e.current.isDragging;return r?r(t):n===i.getSourceId()},endDrag:function(){var n=e.current.end;n&&n(t.getItem(),t),i.reconnect()}}}),[]);c((function(){var a=P(f(e.current.item.type,r,n),2),s=a[0],o=a[1];return t.receiveHandlerId(s),i.receiveHandlerId(s),o}),[])}(t,r,s);var o=g(r,t.current.collect||function(){return{}},(function(){return s.reconnect()})),d=Object(a.useMemo)((function(){return s.hooks.dragSource()}),[s]),u=Object(a.useMemo)((function(){return s.hooks.dragPreview()}),[s]);return c((function(){s.dragSourceOptions=t.current.options||null,s.reconnect()}),[s]),c((function(){s.dragPreviewOptions=t.current.previewOptions||null,s.reconnect()}),[s]),[o,d,u]}function A(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var L=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=O({dropTarget:function(e,t){i.clearDropTarget(),i.dropTargetOptions=t,S(e)?i.dropTargetRef=e:i.dropTargetNode=e,i.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,i,n;return t=e,(i=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!u()(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&A(t.prototype,i),n&&A(t,n),e}();function F(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=!1,V=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,i,n;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;l()(!M,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return M=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{M=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&F(t.prototype,i),n&&F(t,n),e}();function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function U(e){var t=Object(a.useRef)(e);t.current=e,l()(null!=e.accept,"accept must be defined");var i,n=z((i=v(),[Object(a.useMemo)((function(){return new V(i)}),[i]),Object(a.useMemo)((function(){return new L(i.getBackend())}),[i])]),2),r=n[0],s=n[1];!function(e,t,i){var n=v(),r=Object(a.useMemo)((function(){return{canDrop:function(){var i=e.current.canDrop;return!i||i(t.getItem(),t)},hover:function(){var i=e.current.hover;i&&i(t.getItem(),t)},drop:function(){var i=e.current.drop;if(i)return i(t.getItem(),t)}}}),[t]);c((function(){var a=R(b(e.current.accept,r,n),2),s=a[0],o=a[1];return t.receiveHandlerId(s),i.receiveHandlerId(s),o}),[t,i])}(t,r,s);var o=g(r,t.current.collect||function(){return{}},(function(){return s.reconnect()})),d=Object(a.useMemo)((function(){return s.hooks.dropTarget()}),[s]);return c((function(){s.dropTargetOptions=e.options||null,s.reconnect()}),[e.options]),[o,d]}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function W(e){var t=v().getMonitor(),i=H(m(t,e),2),n=i[0],r=i[1];return Object(a.useEffect)((function(){return t.subscribeToOffsetChange(r)})),Object(a.useEffect)((function(){return t.subscribeToStateChange(r)})),n}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e){return"function"==typeof e}function G(){}function K(e){if(!function(e){return"object"===q(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Z(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function J(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||function(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}(e);var t}var Q=i("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),Y=i.n(Q);function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function te(e,t,i){return t&&ee(e.prototype,t),i&&ee(e,i),e}var ie=function(){function e(t){X(this,e),this.isDisposed=!1,this.action=$(t)?t:G}return te(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return e&&$(e.dispose)}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();ie.empty={dispose:G};var ne=function(){function e(){X(this,e),this.isDisposed=!1;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];this.disposables=i}return te(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var i=this.disposables.indexOf(e);-1!==i&&(t=!0,this.disposables.splice(i,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),i=0;i<e;i++)t[i]=this.disposables[i];this.disposables=[];for(var n=0;n<e;n++)t[n].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),i=0;i<e;i++)t[i]=this.disposables[i];this.disposables=[];for(var n=0;n<e;n++)t[n].dispose()}}}]),e}(),re=function(){function e(){X(this,e),this.isDisposed=!1}return te(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var i=this.current;this.current=e,i&&i.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}();function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function oe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function le(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=e.DecoratedComponent,i=e.createHandler,r=e.createMonitor,s=e.createConnector,o=e.registerHandler,c=e.containerDisplayName,d=e.getType,p=e.collect,m=e.options.arePropsEqual,h=void 0===m?u.a:m,g=t,b=t.displayName||t.name||"Component",f=function(e){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=le(this,ce(t).call(this,e))).decoratedRef=a.createRef(),i.handleChange=function(){var e=i.getCurrentState();u()(e,i.state)||i.setState(e)},i.disposable=new re,i.receiveProps(e),i.dispose(),i}var c,m,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,e),c=t,(m=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return l()(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!h(e,this.props)||!u()(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new re,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){h(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(d(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=se(o(e,this.handler,this.manager),2),i=t[0],n=t[1];this.handlerId=i,this.handlerMonitor.receiveHandlerId(i),this.handlerConnector.receiveHandlerId(i);var r=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[i]});this.disposable.setDisposable(new ne(new ie(r),new ie(n)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?p(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return a.createElement(n.a.Consumer,null,(function(t){var i=t.dragDropManager;return e.receiveDragDropManager(i),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),a.createElement(g,Object.assign({},e.props,e.getCurrentState(),{ref:J(g)?e.decoratedRef:null}))}))}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(l()(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",b,b),void 0!==e&&(this.manager=e,this.handlerMonitor=r(e),this.handlerConnector=s(e.getBackend()),this.handler=i(this.handlerMonitor,this.decoratedRef)))}}])&&oe(c.prototype,m),f&&oe(c,f),t}(a.Component);return f.DecoratedComponent=t,f.displayName="".concat(c,"(").concat(b,")"),Y()(f,t)}function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){return"string"==typeof e||"symbol"===pe(e)||!!t&&Array.isArray(e)&&e.every((function(e){return me(e,!1)}))}function he(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ge=["canDrag","beginDrag","isDragging","endDrag"],be=["beginDrag"],fe=function(){function e(t,i,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.beginDrag=function(){if(r.props)return r.spec.beginDrag(r.props,r.monitor,r.ref.current)},this.spec=t,this.monitor=i,this.ref=n}var t,i,n;return t=e,(i=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,Z(this.ref))}}])&&he(t.prototype,i),n&&he(t,n),e}();function ve(e){return Object.keys(e).forEach((function(t){l()(ge.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',ge.join(", "),t),l()("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),be.forEach((function(t){l()("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,i){return new fe(e,t,i)}}function ke(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e;"function"!=typeof e&&(l()(me(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),r=function(){return e}),l()(K(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var a=ve(t);return l()("function"==typeof i,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',i),l()(K(n),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',i),function(e){return ue({containerDisplayName:"DragSource",createHandler:a,registerHandler:f,createConnector:function(e){return new N(e)},createMonitor:function(e){return new j(e)},DecoratedComponent:e,getType:r,collect:i,options:n})}}function ye(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var we=["canDrop","hover","drop"],je=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.spec=t,this.monitor=i,this.ref=n}var t,i,n;return t=e,(i=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,Z(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&ye(t.prototype,i),n&&ye(t,n),e}();function xe(e){return Object.keys(e).forEach((function(t){l()(we.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',we.join(", "),t),l()("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,i){return new je(e,t,i)}}function Ce(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e;"function"!=typeof e&&(l()(me(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),r=function(){return e}),l()(K(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var a=xe(t);return l()("function"==typeof i,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',i),l()(K(n),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',i),function(e){return ue({containerDisplayName:"DropTarget",createHandler:a,registerHandler:b,createMonitor:function(e){return new V(e)},createConnector:function(e){return new L(e)},DecoratedComponent:e,getType:r,collect:i,options:n})}}function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Se(e,t,i){return t&&Ee(e.prototype,t),i&&Ee(e,i),e}function Te(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l()("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),l()(K(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(i){var r=i,s=t.arePropsEqual,o=void 0===s?u.a:s,c=r.displayName||r.name||"Component",d=function(t){function i(){var e;return Oe(this,i),(e=Te(this,Ne(i).apply(this,arguments))).isCurrentlyMounted=!1,e.ref=a.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();u()(t,e.state)||e.setState(t)}},e}return Pe(i,t),Se(i,[{key:"getDecoratedComponentInstance",value:function(){return l()(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}},{key:"shouldComponentUpdate",value:function(e,t){return!o(e,this.props)||!u()(t,this.state)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)}},{key:"render",value:function(){var e=this;return a.createElement(n.a.Consumer,null,(function(t){var i=t.dragDropManager;return void 0===i?null:(e.receiveDragDropManager(i),e.isCurrentlyMounted?a.createElement(r,Object.assign({},e.props,e.state,{ref:J(r)?e.ref:null})):null)}))}},{key:"receiveDragDropManager",value:function(e){if(void 0===this.manager){this.manager=e,l()("object"===_e(e),"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",c,c);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}}},{key:"getCurrentState",value:function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)}}]),i}(a.Component);return d.displayName="DragLayer(".concat(c,")"),d.DecoratedComponent=i,Y()(d,i)}}},"./node_modules/react-input-autosize/lib/AutosizeInput.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i("./node_modules/react/index.js"),s=l(a),o=l(i("./node_modules/prop-types/index.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},d=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],u=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},p=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),m=function(){return p?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.inputRef=function(e){i.input=e,"function"==typeof i.props.inputRef&&i.props.inputRef(e)},i.placeHolderSizerRef=function(e){i.placeHolderSizer=e},i.sizerRef=function(e){i.sizer=e},i.state={inputWidth:e.minWidth,inputId:e.id||m()},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||m()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(u(e,this.sizer),this.placeHolderSizer&&u(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return p&&e?s.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=n({},this.props.style);t.display||(t.display="inline-block");var i=n({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),r=function(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}(this.props,[]);return function(e){d.forEach((function(t){return delete e[t]}))}(r),r.className=this.props.inputClassName,r.id=this.state.inputId,r.style=i,s.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),s.default.createElement("input",n({},r,{ref:this.inputRef})),s.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?s.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(a.Component);h.propTypes={className:o.default.string,defaultValue:o.default.any,extraWidth:o.default.oneOfType([o.default.number,o.default.string]),id:o.default.string,injectStyles:o.default.bool,inputClassName:o.default.string,inputRef:o.default.func,inputStyle:o.default.object,minWidth:o.default.oneOfType([o.default.number,o.default.string]),onAutosize:o.default.func,onChange:o.default.func,placeholder:o.default.string,placeholderIsMinWidth:o.default.bool,style:o.default.object,value:o.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},"./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js":function(e,t,i){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function r(e){this.setState(function(t){var i=this.constructor.getDerivedStateFromProps(e,t);return null!=i?i:null}.bind(this))}function a(e,t){try{var i=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,n)}finally{this.props=i,this.state=n}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var i=null,s=null,o=null;if("function"==typeof t.componentWillMount?i="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(i="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==i||null!==s||null!==o){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,i){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:i;d.call(this,e,t,n)}}return e}i.r(t),i.d(t,"polyfill",(function(){return s})),n.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},"./node_modules/react-node-resolver/lib/NodeResolver.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i("./node_modules/react/index.js"),a=i("./node_modules/react-dom/index.js");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,a.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component);t.default=l},"./node_modules/react-node-resolver/lib/index.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("./node_modules/react-node-resolver/lib/NodeResolver.js");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=n,e&&e.__esModule?e:{default:e}).default;var e}})},"./node_modules/react-select/dist/react-select.esm.js":function(e,t,i){"use strict";i.d(t,"a",(function(){return Ve}));var n=i("./node_modules/react/index.js"),r=i.n(n);function a(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var s=function(e,t){var i;void 0===t&&(t=a);var n,r=[],s=!1;return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return s&&i===this&&t(a,r)||(n=e.apply(this,a),s=!0,i=this,r=a),n}},o=i("./node_modules/emotion/dist/index.esm.js"),l=i("./node_modules/react-dom/index.js"),c=i("./node_modules/prop-types/index.js"),d=i.n(c),u=i("./node_modules/raf/index.js"),p=i.n(u),m=i("./node_modules/react-input-autosize/lib/AutosizeInput.js"),h=i.n(m),g=i("./node_modules/react-select/node_modules/react-transition-group/index.js");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t,i){return t&&v(e.prototype,t),i&&v(e,i),e}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function j(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){y(e,t,i[t])}))}return e}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?E(e):t}function T(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var N=function(){};function P(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function I(e,t,i,n){var r=[t,n];if(i&&e)for(var a in i)i.hasOwnProperty(a)&&i[a]&&r.push("".concat(P(e,a)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var B=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===b(e)&&null!==e?[e]:[]};function D(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function A(e){return D(e)?window.pageYOffset:e.scrollTop}function L(e,t){D(e)?window.scrollTo(0,t):e.scrollTop=t}function F(e,t,i,n){return i*((e=e/n-1)*e*e+1)+t}function M(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N,r=A(e),a=t-r,s=10,o=0;function l(){var t=F(o+=s,r,a,i);L(e,t),o<i?p()(l):n(e)}l()}function V(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function R(e){var t=e.maxHeight,i=e.menuEl,n=e.minHeight,r=e.placement,a=e.shouldScroll,s=e.isFixedPosition,o=e.theme.spacing,l=function(e){var t=getComputedStyle(e),i="absolute"===t.position,n=/(auto|scroll)/,r=document.documentElement;if("fixed"===t.position)return r;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),(!i||"static"!==t.position)&&n.test(t.overflow+t.overflowY+t.overflowX))return a;return r}(i),c={placement:"bottom",maxHeight:t};if(!i||!i.offsetParent)return c;var d=l.getBoundingClientRect().height,u=i.getBoundingClientRect(),p=u.bottom,m=u.height,h=u.top,g=i.offsetParent.getBoundingClientRect().top,b=window.innerHeight,f=A(l),v=parseInt(getComputedStyle(i).marginBottom,10),k=parseInt(getComputedStyle(i).marginTop,10),y=g-k,w=b-h,j=y+f,x=d-f-h,C=p-b+f+v,_=f+h-k,O=160;switch(r){case"auto":case"bottom":if(w>=m)return{placement:"bottom",maxHeight:t};if(x>=m&&!s)return a&&M(l,C,O),{placement:"bottom",maxHeight:t};if(!s&&x>=n||s&&w>=n)return a&&M(l,C,O),{placement:"bottom",maxHeight:s?w-v:x-v};if("auto"===r||s){var E=t,S=s?y:j;return S>=n&&(E=Math.min(S-v-o.controlHeight,t)),{placement:"top",maxHeight:E}}if("bottom"===r)return L(l,C),{placement:"bottom",maxHeight:t};break;case"top":if(y>=m)return{placement:"top",maxHeight:t};if(j>=m&&!s)return a&&M(l,_,O),{placement:"top",maxHeight:t};if(!s&&j>=n||s&&y>=n){var T=t;return(!s&&j>=n||s&&y>=n)&&(T=s?y-k:j-k),a&&M(l,_,O),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}var z=function(e){return"auto"===e?"bottom":e},U=function(e){function t(){var e,i;f(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return y(E(E(i=S(this,(e=C(t)).call.apply(e,[this].concat(r))))),"state",{maxHeight:i.props.maxMenuHeight,placement:null}),y(E(E(i)),"getPlacement",(function(e){var t=i.props,n=t.minMenuHeight,r=t.maxMenuHeight,a=t.menuPlacement,s=t.menuPosition,o=t.menuShouldScrollIntoView,l=t.theme,c=i.context.getPortalPlacement;if(e){var d="fixed"===s,u=R({maxHeight:r,menuEl:e,minHeight:n,placement:a,shouldScroll:o&&!d,isFixedPosition:d,theme:l});c&&c(u),i.setState(u)}})),y(E(E(i)),"getUpdatedProps",(function(){var e=i.props.menuPlacement,t=i.state.placement||z(e);return j({},i.props,{placement:t,maxHeight:i.state.maxHeight})})),i}return x(t,e),k(t,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(n.Component);y(U,"contextTypes",{getPortalPlacement:d.a.func});var H=function(e){var t=e.theme,i=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*i,"px ").concat(3*i,"px"),textAlign:"center"}},W=H,q=H,$=function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles,s=e.innerProps;return r.a.createElement("div",w({className:n(Object(o.a)(a("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},i)},s),t)};$.defaultProps={children:"No options"};var G=function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles,s=e.innerProps;return r.a.createElement("div",w({className:n(Object(o.a)(a("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},i)},s),t)};G.defaultProps={children:"Loading..."};var K=function(e){function t(){var e,i;f(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return y(E(E(i=S(this,(e=C(t)).call.apply(e,[this].concat(r))))),"state",{placement:null}),y(E(E(i)),"getPortalPlacement",(function(e){var t=e.placement;t!==z(i.props.menuPlacement)&&i.setState({placement:t})})),i}return x(t,e),k(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,i=e.children,n=e.controlElement,a=e.menuPlacement,s=e.menuPosition,c=e.getStyles,d="fixed"===s;if(!t&&!d||!n)return null;var u=this.state.placement||z(a),p=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(n),m=d?0:window.pageYOffset,h={offset:p[u]+m,position:s,rect:p},g=r.a.createElement("div",{className:Object(o.a)(c("menuPortal",h))},i);return t?Object(l.createPortal)(g,t):g}}]),t}(n.Component);y(K,"childContextTypes",{getPortalPlacement:d.a.func});var Z=Array.isArray,J=Object.keys,Q=Object.prototype.hasOwnProperty;function Y(e,t){if(e===t)return!0;if(e&&t&&"object"==b(e)&&"object"==b(t)){var i,n,r,a=Z(e),s=Z(t);if(a&&s){if((n=e.length)!=t.length)return!1;for(i=n;0!=i--;)if(!Y(e[i],t[i]))return!1;return!0}if(a!=s)return!1;var o=e instanceof Date,l=t instanceof Date;if(o!=l)return!1;if(o&&l)return e.getTime()==t.getTime();var c=e instanceof RegExp,d=t instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==t.toString();var u=J(e);if((n=u.length)!==J(t).length)return!1;for(i=n;0!=i--;)if(!Q.call(t,u[i]))return!1;for(i=n;0!=i--;)if(!("_owner"===(r=u[i])&&e.$$typeof||Y(e[r],t[r])))return!1;return!0}return e!=e&&t!=t}function X(e,t){try{return Y(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}var ee=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],te=function(e){for(var t=0;t<ee.length;t++)e=e.replace(ee[t].letters,ee[t].base);return e},ie=function(e){return e.replace(/^\s+|\s+$/g,"")},ne=function(e){return"".concat(e.label," ").concat(e.value)},re=function(e){return r.a.createElement("span",w({className:Object(o.a)({label:"a11yText",zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},e))},ae=function(e){function t(){return f(this,t),S(this,C(t).apply(this,arguments))}return x(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),i=(e.emotion,O(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return r.a.createElement("input",w({ref:t},i,{className:Object(o.a)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(n.Component),se=function(e){function t(){return f(this,t),S(this,C(t).apply(this,arguments))}return x(t,e),k(t,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(l.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),oe=["boxSizing","height","overflow","paddingRight","position"],le={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ce(e){e.preventDefault()}function de(e){e.stopPropagation()}function ue(){var e=this.scrollTop,t=this.scrollHeight,i=e+this.offsetHeight;0===e?this.scrollTop=1:i===t&&(this.scrollTop=e-1)}function pe(){return"ontouchstart"in window||navigator.maxTouchPoints}var me=!("undefined"==typeof window||!window.document||!window.document.createElement),he=0,ge=function(e){function t(){var e,i;f(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return y(E(E(i=S(this,(e=C(t)).call.apply(e,[this].concat(r))))),"originalStyles",{}),y(E(E(i)),"listenerOptions",{capture:!1,passive:!1}),i}return x(t,e),k(t,[{key:"componentDidMount",value:function(){var e=this;if(me){var t=this.props,i=t.accountForScrollbars,n=t.touchScrollTarget,r=document.body,a=r&&r.style;if(i&&oe.forEach((function(t){var i=a&&a[t];e.originalStyles[t]=i})),i&&he<1){var s=parseInt(this.originalStyles.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,l=window.innerWidth-o+s||0;Object.keys(le).forEach((function(e){var t=le[e];a&&(a[e]=t)})),a&&(a.paddingRight="".concat(l,"px"))}r&&pe()&&(r.addEventListener("touchmove",ce,this.listenerOptions),n&&(n.addEventListener("touchstart",ue,this.listenerOptions),n.addEventListener("touchmove",de,this.listenerOptions))),he+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(me){var t=this.props,i=t.accountForScrollbars,n=t.touchScrollTarget,r=document.body,a=r&&r.style;he=Math.max(he-1,0),i&&he<1&&oe.forEach((function(t){var i=e.originalStyles[t];a&&(a[t]=i)})),r&&pe()&&(r.removeEventListener("touchmove",ce,this.listenerOptions),n&&(n.removeEventListener("touchstart",ue,this.listenerOptions),n.removeEventListener("touchmove",de,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(n.Component);y(ge,"defaultProps",{accountForScrollbars:!0});var be=function(e){function t(){var e,i;f(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return y(E(E(i=S(this,(e=C(t)).call.apply(e,[this].concat(r))))),"state",{touchScrollTarget:null}),y(E(E(i)),"getScrollTarget",(function(e){e!==i.state.touchScrollTarget&&i.setState({touchScrollTarget:e})})),y(E(E(i)),"blurSelectInput",(function(){document.activeElement&&document.activeElement.blur()})),i}return x(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.children,i=e.isEnabled,n=this.state.touchScrollTarget;return i?r.a.createElement("div",null,r.a.createElement("div",{onClick:this.blurSelectInput,className:Object(o.a)({position:"fixed",left:0,bottom:0,right:0,top:0})}),r.a.createElement(se,{innerRef:this.getScrollTarget},t),n?r.a.createElement(ge,{touchScrollTarget:n}):null):t}}]),t}(n.PureComponent),fe=function(e){function t(){var e,i;f(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return y(E(E(i=S(this,(e=C(t)).call.apply(e,[this].concat(r))))),"isBottom",!1),y(E(E(i)),"isTop",!1),y(E(E(i)),"scrollTarget",void 0),y(E(E(i)),"touchStart",void 0),y(E(E(i)),"cancelScroll",(function(e){e.preventDefault(),e.stopPropagation()})),y(E(E(i)),"handleEventDelta",(function(e,t){var n=i.props,r=n.onBottomArrive,a=n.onBottomLeave,s=n.onTopArrive,o=n.onTopLeave,l=i.scrollTarget,c=l.scrollTop,d=l.scrollHeight,u=l.clientHeight,p=i.scrollTarget,m=t>0,h=d-u-c,g=!1;h>t&&i.isBottom&&(a&&a(e),i.isBottom=!1),m&&i.isTop&&(o&&o(e),i.isTop=!1),m&&t>h?(r&&!i.isBottom&&r(e),p.scrollTop=d,g=!0,i.isBottom=!0):!m&&-t>c&&(s&&!i.isTop&&s(e),p.scrollTop=0,g=!0,i.isTop=!0),g&&i.cancelScroll(e)})),y(E(E(i)),"onWheel",(function(e){i.handleEventDelta(e,e.deltaY)})),y(E(E(i)),"onTouchStart",(function(e){i.touchStart=e.changedTouches[0].clientY})),y(E(E(i)),"onTouchMove",(function(e){var t=i.touchStart-e.changedTouches[0].clientY;i.handleEventDelta(e,t)})),y(E(E(i)),"getScrollTarget",(function(e){i.scrollTarget=e})),i}return x(t,e),k(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&(e.scrollHeight<=e.clientHeight||("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1)))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return r.a.createElement(se,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(n.Component),ve=function(e){function t(){return f(this,t),S(this,C(t).apply(this,arguments))}return x(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,i=O(e,["isEnabled"]);return t?r.a.createElement(fe,i):this.props.children}}]),t}(n.Component);y(ve,"defaultProps",{isEnabled:!0});var ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.isSearchable,n=t.isMulti,r=t.label,a=t.isDisabled;switch(e){case"menu":return"Use Up and Down to choose options".concat(a?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(r||"Select"," is focused ").concat(i?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},ye=function(e,t){var i=t.value,n=t.isDisabled;if(i)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"select-option":return"option ".concat(i,n?" is disabled. Select another option.":", selected.")}},we=function(e){return!!e.isDisabled},je=function(e){function t(){return f(this,t),S(this,C(t).apply(this,arguments))}return x(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.children,i=e.className,n=e.cx,a=e.isMulti,s=e.getStyles,l=e.hasValue;return r.a.createElement("div",{className:n(Object(o.a)(s("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":l},i)},t)}}]),t}(n.Component),xe=function(e){var t=e.size,i=O(e,["size"]);return r.a.createElement("svg",w({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:Object(o.a)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},i))},Ce=function(e){return r.a.createElement(xe,w({size:20},e),r.a.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},_e=function(e){return r.a.createElement(xe,w({size:20},e),r.a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Oe=function(e){var t=e.isFocused,i=e.theme,n=i.spacing.baseUnit,r=i.colors;return{label:"indicatorContainer",color:t?r.neutral60:r.neutral20,display:"flex",padding:2*n,transition:"color 150ms",":hover":{color:t?r.neutral80:r.neutral40}}},Ee=Oe,Se=Oe,Te="react-select-loading-indicator",Ne=!1,Pe=function(e){var t=e.color,i=e.delay,n=e.offset;return r.a.createElement("span",{className:Object(o.a)({animationDuration:"1s",animationDelay:"".concat(i,"ms"),animationIterationCount:"infinite",animationName:Te,animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})},Ie=function(e){var t=e.className,i=e.cx,n=e.getStyles,a=e.innerProps,s=e.isFocused,l=e.isRtl,c=e.theme.colors,d=s?c.neutral80:c.neutral20;return Ne||(Object(o.b)("@keyframes ",Te,"{0%,80%,100%{opacity:0;}40%{opacity:1;}};"),Ne=!0),r.a.createElement("div",w({},a,{className:i(Object(o.a)(n("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t)}),r.a.createElement(Pe,{color:d,delay:0,offset:l}),r.a.createElement(Pe,{color:d,delay:160,offset:!0}),r.a.createElement(Pe,{color:d,delay:320,offset:!l}))};Ie.defaultProps={size:4};var Be=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},De=function(e){var t=e.children,i=e.innerProps;return r.a.createElement("div",i,t)},Ae=De,Le=De,Fe=function(e){function t(){return f(this,t),S(this,C(t).apply(this,arguments))}return x(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.children,i=e.innerProps;return r.a.createElement("div",i,t||r.a.createElement(Ce,{size:14}))}}]),t}(n.Component),Me=function(e){function t(){return f(this,t),S(this,C(t).apply(this,arguments))}return x(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.children,i=e.className,n=e.components,a=e.cx,s=e.data,l=e.getStyles,c=e.innerProps,d=e.isDisabled,u=e.removeProps,p=e.selectProps,m=n.Container,h=n.Label,g=n.Remove,b=j({className:a(Object(o.a)(l("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":d},i)},c),f={className:a(Object(o.a)(l("multiValueLabel",this.props)),{"multi-value__label":!0},i)},v=j({className:a(Object(o.a)(l("multiValueRemove",this.props)),{"multi-value__remove":!0},i)},u);return r.a.createElement(m,{data:s,innerProps:b,selectProps:p},r.a.createElement(h,{data:s,innerProps:f,selectProps:p},t),r.a.createElement(g,{data:s,innerProps:v,selectProps:p}))}}]),t}(n.Component);y(Me,"defaultProps",{cropWithEllipsis:!0});var Ve={ClearIndicator:function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles,s=e.innerProps;return r.a.createElement("div",w({},s,{className:n(Object(o.a)(a("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},i)}),t||r.a.createElement(Ce,null))},Control:function(e){var t=e.children,i=e.cx,n=e.getStyles,a=e.className,s=e.isDisabled,l=e.isFocused,c=e.innerRef,d=e.innerProps,u=e.menuIsOpen;return r.a.createElement("div",w({ref:c,className:i(Object(o.a)(n("control",e)),{control:!0,"control--is-disabled":s,"control--is-focused":l,"control--menu-is-open":u},a)},d),t)},DropdownIndicator:function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles,s=e.innerProps;return r.a.createElement("div",w({},s,{className:n(Object(o.a)(a("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},i)}),t||r.a.createElement(_e,null))},DownChevron:_e,CrossIcon:Ce,Group:function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles,s=e.Heading,l=e.headingProps,c=e.label,d=e.theme,u=e.selectProps;return r.a.createElement("div",{className:n(Object(o.a)(a("group",e)),{group:!0},i)},r.a.createElement(s,w({},l,{selectProps:u,theme:d,getStyles:a,cx:n}),c),r.a.createElement("div",null,t))},GroupHeading:function(e){var t=e.className,i=e.cx,n=e.getStyles,a=e.theme,s=(e.selectProps,O(e,["className","cx","getStyles","theme","selectProps"]));return r.a.createElement("div",w({className:i(Object(o.a)(n("groupHeading",j({theme:a},s))),{"group-heading":!0},t)},s))},IndicatorsContainer:function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles;return r.a.createElement("div",{className:n(Object(o.a)(a("indicatorsContainer",e)),{indicators:!0},i)},t)},IndicatorSeparator:function(e){var t=e.className,i=e.cx,n=e.getStyles,a=e.innerProps;return r.a.createElement("span",w({},a,{className:i(Object(o.a)(n("indicatorSeparator",e)),{"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,i=e.cx,n=e.getStyles,a=e.innerRef,s=e.isHidden,l=e.isDisabled,c=e.theme,d=(e.selectProps,O(e,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return r.a.createElement("div",{className:Object(o.a)(n("input",j({theme:c},d)))},r.a.createElement(h.a,w({className:i(null,{input:!0},t),inputRef:a,inputStyle:Be(s),disabled:l},d)))},LoadingIndicator:Ie,Menu:function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles,s=e.innerRef,l=e.innerProps,c=n(Object(o.a)(a("menu",e)),{menu:!0},i);return r.a.createElement("div",w({className:c},l,{ref:s}),t)},MenuList:function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles,s=e.isMulti,l=e.innerRef;return r.a.createElement("div",{className:n(Object(o.a)(a("menuList",e)),{"menu-list":!0,"menu-list--is-multi":s},i),ref:l},t)},MenuPortal:K,LoadingMessage:G,NoOptionsMessage:$,MultiValue:Me,MultiValueContainer:Ae,MultiValueLabel:Le,MultiValueRemove:Fe,Option:function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles,s=e.isDisabled,l=e.isFocused,c=e.isSelected,d=e.innerRef,u=e.innerProps;return r.a.createElement("div",w({ref:d,className:n(Object(o.a)(a("option",e)),{option:!0,"option--is-disabled":s,"option--is-focused":l,"option--is-selected":c},i)},u),t)},Placeholder:function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles,s=e.innerProps;return r.a.createElement("div",w({className:n(Object(o.a)(a("placeholder",e)),{placeholder:!0},i)},s),t)},SelectContainer:function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles,s=e.innerProps,l=e.isDisabled,c=e.isRtl;return r.a.createElement("div",w({className:n(Object(o.a)(a("container",e)),{"--is-disabled":l,"--is-rtl":c},i)},s),t)},SingleValue:function(e){var t=e.children,i=e.className,n=e.cx,a=e.getStyles,s=e.isDisabled,l=e.innerProps;return r.a.createElement("div",w({className:n(Object(o.a)(a("singleValue",e)),{"single-value":!0,"single-value--is-disabled":s},i)},l),t)},ValueContainer:je},Re=function(e){return j({},Ve,e.components)},ze={clearIndicator:Se,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,i=e.isFocused,n=e.theme,r=n.colors,a=n.borderRadius,s=n.spacing;return{label:"control",alignItems:"center",backgroundColor:t?r.neutral5:r.neutral0,borderColor:t?r.neutral10:i?r.primary:r.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(r.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:s.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:i?r.primary:r.neutral30}}},dropdownIndicator:Ee,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,i=e.theme,n=i.spacing.baseUnit,r=i.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?r.neutral10:r.neutral20,marginBottom:2*n,marginTop:2*n,width:1}},input:function(e){var t=e.isDisabled,i=e.theme,n=i.spacing,r=i.colors;return{margin:n.baseUnit/2,paddingBottom:n.baseUnit/2,paddingTop:n.baseUnit/2,visibility:t?"hidden":"visible",color:r.neutral80}},loadingIndicator:function(e){var t=e.isFocused,i=e.size,n=e.theme,r=n.colors,a=n.spacing.baseUnit;return{label:"loadingIndicator",color:t?r.neutral60:r.neutral20,display:"flex",padding:2*a,transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"}},loadingMessage:q,menu:function(e){var t,i=e.placement,n=e.theme,r=n.borderRadius,a=n.spacing,s=n.colors;return y(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(i),"100%"),y(t,"backgroundColor",s.neutral0),y(t,"borderRadius",r),y(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),y(t,"marginBottom",a.menuGutter),y(t,"marginTop",a.menuGutter),y(t,"position","absolute"),y(t,"width","100%"),y(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,i=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:i,paddingTop:i,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,i=e.offset,n=e.position;return{left:t.left,position:n,top:i,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,i=t.spacing,n=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:n/2,display:"flex",margin:i.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,i=t.borderRadius,n=t.colors,r=e.cropWithEllipsis;return{borderRadius:i/2,color:n.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:r?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,i=t.spacing,n=t.borderRadius,r=t.colors;return{alignItems:"center",borderRadius:n/2,backgroundColor:e.isFocused&&r.dangerLight,display:"flex",paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:r.dangerLight,color:r.danger}}},noOptionsMessage:W,option:function(e){var t=e.isDisabled,i=e.isFocused,n=e.isSelected,r=e.theme,a=r.spacing,s=r.colors;return{label:"option",backgroundColor:n?s.primary:i?s.primary25:"transparent",color:t?s.neutral20:n?s.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(n?s.primary:s.primary50)}}},placeholder:function(e){var t=e.theme,i=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,i=e.theme,n=i.spacing,r=i.colors;return{label:"singleValue",color:t?r.neutral40:r.neutral80,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,maxWidth:"calc(100% - ".concat(2*n.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var Ue,He={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},We={backspaceRemovesValue:!0,blurInputOnSelect:V(),captureMenuScroll:!V(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var i=j({ignoreCase:!0,ignoreAccents:!0,stringify:ne,trim:!0,matchFrom:"any"},Ue),n=i.ignoreCase,r=i.ignoreAccents,a=i.stringify,s=i.trim,o=i.matchFrom,l=s?ie(t):t,c=s?ie(a(e)):a(e);return n&&(l=l.toLowerCase(),c=c.toLowerCase()),r&&(l=te(l),c=te(c)),"start"===o?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:we,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},qe=1,$e=function(e){function t(e){var i;f(this,t),y(E(E(i=S(this,C(t).call(this,e)))),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),y(E(E(i)),"blockOptionHover",!1),y(E(E(i)),"isComposing",!1),y(E(E(i)),"clearFocusValueOnUpdate",!1),y(E(E(i)),"commonProps",void 0),y(E(E(i)),"components",void 0),y(E(E(i)),"hasGroups",!1),y(E(E(i)),"initialTouchX",0),y(E(E(i)),"initialTouchY",0),y(E(E(i)),"inputIsHiddenAfterUpdate",void 0),y(E(E(i)),"instancePrefix",""),y(E(E(i)),"openAfterFocus",!1),y(E(E(i)),"scrollToFocusedOptionOnUpdate",!1),y(E(E(i)),"userIsDragging",void 0),y(E(E(i)),"controlRef",null),y(E(E(i)),"getControlRef",(function(e){i.controlRef=e})),y(E(E(i)),"focusedOptionRef",null),y(E(E(i)),"getFocusedOptionRef",(function(e){i.focusedOptionRef=e})),y(E(E(i)),"menuListRef",null),y(E(E(i)),"getMenuListRef",(function(e){i.menuListRef=e})),y(E(E(i)),"inputRef",null),y(E(E(i)),"getInputRef",(function(e){i.inputRef=e})),y(E(E(i)),"cacheComponents",(function(e){i.components=Re({components:e})})),y(E(E(i)),"focus",i.focusInput),y(E(E(i)),"blur",i.blurInput),y(E(E(i)),"onChange",(function(e,t){var n=i.props;(0,n.onChange)(e,j({},t,{name:n.name}))})),y(E(E(i)),"setValue",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",n=arguments.length>2?arguments[2]:void 0,r=i.props,a=r.closeMenuOnSelect,s=r.isMulti;i.onInputChange("",{action:"set-value"}),a&&(i.inputIsHiddenAfterUpdate=!s,i.onMenuClose()),i.clearFocusValueOnUpdate=!0,i.onChange(e,{action:t,option:n})})),y(E(E(i)),"selectOption",(function(e){var t=i.props,n=t.blurInputOnSelect,r=t.isMulti,a=i.state.selectValue;if(r)if(i.isOptionSelected(e,a)){var s=i.getOptionValue(e);i.setValue(a.filter((function(e){return i.getOptionValue(e)!==s})),"deselect-option",e),i.announceAriaLiveSelection({event:"deselect-option",context:{value:i.getOptionLabel(e)}})}else i.isOptionDisabled(e,a)?i.announceAriaLiveSelection({event:"select-option",context:{value:i.getOptionLabel(e),isDisabled:!0}}):(i.setValue([].concat(T(a),[e]),"select-option",e),i.announceAriaLiveSelection({event:"select-option",context:{value:i.getOptionLabel(e)}}));else i.isOptionDisabled(e,a)?i.announceAriaLiveSelection({event:"select-option",context:{value:i.getOptionLabel(e),isDisabled:!0}}):(i.setValue(e,"select-option"),i.announceAriaLiveSelection({event:"select-option",context:{value:i.getOptionLabel(e)}}));n&&i.blurInput()})),y(E(E(i)),"removeValue",(function(e){var t=i.state.selectValue,n=i.getOptionValue(e);i.onChange(t.filter((function(e){return i.getOptionValue(e)!==n})),{action:"remove-value",removedValue:e}),i.announceAriaLiveSelection({event:"remove-value",context:{value:e?i.getOptionLabel(e):""}}),i.focusInput()})),y(E(E(i)),"clearValue",(function(){var e=i.props.isMulti;i.onChange(e?[]:null,{action:"clear"})})),y(E(E(i)),"popValue",(function(){var e=i.state.selectValue,t=e[e.length-1];i.announceAriaLiveSelection({event:"pop-value",context:{value:t?i.getOptionLabel(t):""}}),i.onChange(e.slice(0,e.length-1),{action:"pop-value",removedValue:t})})),y(E(E(i)),"getOptionLabel",(function(e){return i.props.getOptionLabel(e)})),y(E(E(i)),"getOptionValue",(function(e){return i.props.getOptionValue(e)})),y(E(E(i)),"getStyles",(function(e,t){var n=ze[e](t);n.boxSizing="border-box";var r=i.props.styles[e];return r?r(n,t):n})),y(E(E(i)),"getElementId",(function(e){return"".concat(i.instancePrefix,"-").concat(e)})),y(E(E(i)),"getActiveDescendentId",(function(){var e=i.props.menuIsOpen,t=i.state,n=t.menuOptions,r=t.focusedOption;if(r&&e){var a=n.focusable.indexOf(r),s=n.render[a];return s&&s.key}})),y(E(E(i)),"announceAriaLiveSelection",(function(e){var t=e.event,n=e.context;i.setState({ariaLiveSelection:ye(t,n)})})),y(E(E(i)),"announceAriaLiveContext",(function(e){var t=e.event,n=e.context;i.setState({ariaLiveContext:ke(t,j({},n,{label:i.props["aria-label"]}))})})),y(E(E(i)),"onMenuMouseDown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),i.focusInput())})),y(E(E(i)),"onMenuMouseMove",(function(e){i.blockOptionHover=!1})),y(E(E(i)),"onControlMouseDown",(function(e){var t=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?"INPUT"!==e.target.tagName&&i.onMenuClose():t&&i.openMenu("first"):(t&&(i.openAfterFocus=!0),i.focusInput()),"INPUT"!==e.target.tagName&&e.preventDefault()})),y(E(E(i)),"onDropdownIndicatorMouseDown",(function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||i.props.isDisabled)){var t=i.props,n=t.isMulti,r=t.menuIsOpen;i.focusInput(),r?(i.inputIsHiddenAfterUpdate=!n,i.onMenuClose()):i.openMenu("first"),e.preventDefault(),e.stopPropagation()}})),y(E(E(i)),"onClearIndicatorMouseDown",(function(e){e&&"mousedown"===e.type&&0!==e.button||(i.clearValue(),e.stopPropagation(),i.openAfterFocus=!1,setTimeout((function(){return i.focusInput()})))})),y(E(E(i)),"onScroll",(function(e){"boolean"==typeof i.props.closeMenuOnScroll?e.target instanceof HTMLElement&&D(e.target)&&i.props.onMenuClose():"function"==typeof i.props.closeMenuOnScroll&&i.props.closeMenuOnScroll(e)&&i.props.onMenuClose()})),y(E(E(i)),"onCompositionStart",(function(){i.isComposing=!0})),y(E(E(i)),"onCompositionEnd",(function(){i.isComposing=!1})),y(E(E(i)),"onTouchStart",(function(e){var t=e.touches.item(0);t&&(i.initialTouchX=t.clientX,i.initialTouchY=t.clientY,i.userIsDragging=!1)})),y(E(E(i)),"onTouchMove",(function(e){var t=e.touches.item(0);if(t){var n=Math.abs(t.clientX-i.initialTouchX),r=Math.abs(t.clientY-i.initialTouchY);i.userIsDragging=n>5||r>5}})),y(E(E(i)),"onTouchEnd",(function(e){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(e.target)&&i.menuListRef&&!i.menuListRef.contains(e.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)})),y(E(E(i)),"onControlTouchEnd",(function(e){i.userIsDragging||i.onControlMouseDown(e)})),y(E(E(i)),"onClearIndicatorTouchEnd",(function(e){i.userIsDragging||i.onClearIndicatorMouseDown(e)})),y(E(E(i)),"onDropdownIndicatorTouchEnd",(function(e){i.userIsDragging||i.onDropdownIndicatorMouseDown(e)})),y(E(E(i)),"handleInputChange",(function(e){var t=e.currentTarget.value;i.inputIsHiddenAfterUpdate=!1,i.onInputChange(t,{action:"input-change"}),i.onMenuOpen()})),y(E(E(i)),"onInputFocus",(function(e){var t=i.props,n=t.isSearchable,r=t.isMulti;i.props.onFocus&&i.props.onFocus(e),i.inputIsHiddenAfterUpdate=!1,i.announceAriaLiveContext({event:"input",context:{isSearchable:n,isMulti:r}}),i.setState({isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1})),y(E(E(i)),"onInputBlur",(function(e){i.menuListRef&&i.menuListRef.contains(document.activeElement)?i.inputRef.focus():(i.props.onBlur&&i.props.onBlur(e),i.onInputChange("",{action:"input-blur"}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1}))})),y(E(E(i)),"onOptionHover",(function(e){i.blockOptionHover||i.state.focusedOption===e||i.setState({focusedOption:e})})),y(E(E(i)),"shouldHideSelectedOptions",(function(){var e=i.props,t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t})),y(E(E(i)),"onKeyDown",(function(e){var t=i.props,n=t.isMulti,r=t.backspaceRemovesValue,a=t.escapeClearsValue,s=t.inputValue,o=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,d=t.onKeyDown,u=t.tabSelectsValue,p=t.openMenuOnFocus,m=i.state,h=m.focusedOption,g=m.focusedValue,b=m.selectValue;if(!(l||"function"==typeof d&&(d(e),e.defaultPrevented))){switch(i.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||s)return;i.focusValue("previous");break;case"ArrowRight":if(!n||s)return;i.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(g)i.removeValue(g);else{if(!r)return;n?i.popValue():o&&i.clearValue()}break;case"Tab":if(i.isComposing)return;if(e.shiftKey||!c||!u||!h||p&&i.isOptionSelected(h,b))return;i.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(i.isComposing)return;i.selectOption(h);break}return;case"Escape":c?(i.inputIsHiddenAfterUpdate=!1,i.onInputChange("",{action:"menu-close"}),i.onMenuClose()):o&&a&&i.clearValue();break;case" ":if(s)return;if(!c){i.openMenu("first");break}if(!h)return;i.selectOption(h);break;case"ArrowUp":c?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":c?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!c)return;i.focusOption("pageup");break;case"PageDown":if(!c)return;i.focusOption("pagedown");break;case"Home":if(!c)return;i.focusOption("first");break;case"End":if(!c)return;i.focusOption("last");break;default:return}e.preventDefault()}}));var n=e.value;i.cacheComponents=s(i.cacheComponents,X).bind(E(E(i))),i.cacheComponents(e.components),i.instancePrefix="react-select-"+(i.props.instanceId||++qe);var r=B(n),a=i.buildMenuOptions(e,r);return i.state.menuOptions=a,i.state.selectValue=r,i}return x(t,e),k(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,i=t.options,n=t.value,r=t.inputValue;if(this.cacheComponents(e.components),e.value!==n||e.options!==i||e.inputValue!==r){var a=B(e.value),s=this.buildMenuOptions(e,a),o=this.getNextFocusedValue(a),l=this.getNextFocusedOption(s.focusable);this.setState({menuOptions:s,selectValue:a,focusedOption:l,focusedValue:o})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t,i,n,r,a,s=this.props,o=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!o&&e.isDisabled||c&&l&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,i=this.focusedOptionRef,n=t.getBoundingClientRect(),r=i.getBoundingClientRect(),a=i.offsetHeight/3,r.bottom+a>n.bottom?L(t,Math.min(i.offsetTop+i.clientHeight-t.offsetHeight+a,t.scrollHeight)):r.top-a<n.top&&L(t,Math.max(i.offsetTop-a,0))),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,i=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:i}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,i=t.menuOptions,n=t.selectValue,r=t.isFocused,a=this.props.isMulti,s="first"===e?0:i.focusable.length-1;if(!a){var o=i.focusable.indexOf(n[0]);o>-1&&(s=o)}this.scrollToFocusedOptionOnUpdate=!(r&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:i.focusable[s]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,i=t.isMulti,n=t.isSearchable,r=this.state,a=r.selectValue,s=r.focusedValue;if(i){this.setState({focusedOption:null});var o=a.indexOf(s);s||(o=-1,this.announceAriaLiveContext({event:"value"}));var l=a.length-1,c=-1;if(a.length){switch(e){case"previous":c=0===o?0:-1===o?l:o-1;break;case"next":o>-1&&o<l&&(c=o+1)}-1===c&&this.announceAriaLiveContext({event:"input",context:{isSearchable:n,isMulti:i}}),this.setState({inputIsHidden:-1!==c,focusedValue:a[c]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,i=this.state,n=i.focusedOption,r=i.menuOptions,a=r.focusable;if(a.length){var s=0,o=a.indexOf(n);n||(o=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?s=o>0?o-1:a.length-1:"down"===e?s=(o+1)%a.length:"pageup"===e?(s=o-t)<0&&(s=0):"pagedown"===e?(s=o+t)>a.length-1&&(s=a.length-1):"last"===e&&(s=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[s],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:we(a[s])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(He):j({},He,this.props.theme):He}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,i=this.setValue,n=this.selectOption,r=this.props,a=r.classNamePrefix,s=r.isMulti,o=r.isRtl,l=r.options,c=this.state.selectValue,d=this.hasValue();return{cx:I.bind(null,a),clearValue:e,getStyles:t,getValue:function(){return c},hasValue:d,isMulti:s,isRtl:o,options:l,selectOption:n,setValue:i,selectProps:r,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,i=t.focusedValue,n=t.selectValue.indexOf(i);if(n>-1){if(e.indexOf(i)>-1)return i;if(n<e.length)return e[n]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,i=e.isMulti;return void 0===t?i:t}},{key:"isOptionDisabled",value:function(e,t){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var i=this;if(t.indexOf(e)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var n=this.getOptionValue(e);return t.some((function(e){return i.getOptionValue(e)===n}))}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var i=this.props.inputValue,n=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:i,selectValue:n})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var i=this,n=e.inputValue,r=void 0===n?"":n,a=e.options,s=function(e,n){var a=i.isOptionDisabled(e,t),s=i.isOptionSelected(e,t),o=i.getOptionLabel(e),l=i.getOptionValue(e);if(!(i.shouldHideSelectedOptions()&&s||!i.filterOption({label:o,value:l,data:e},r))){var c=a?void 0:function(){return i.onOptionHover(e)},d=a?void 0:function(){return i.selectOption(e)},u="".concat(i.getElementId("option"),"-").concat(n);return{innerProps:{id:u,onClick:d,onMouseMove:c,onMouseOver:c,tabIndex:-1},data:e,isDisabled:a,isSelected:s,key:u,label:o,type:"option",value:l}}};return a.reduce((function(e,t,n){if(t.options){i.hasGroups||(i.hasGroups=!0);var r=t.options.map((function(t,i){var r=s(t,"".concat(n,"-").concat(i));return r&&e.focusable.push(t),r})).filter(Boolean);if(r.length){var a="".concat(i.getElementId("group"),"-").concat(n);e.render.push({type:"group",key:a,data:t,options:r})}}else{var o=s(t,"".concat(n));o&&(e.render.push(o),e.focusable.push(t))}return e}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,i=e.selectValue,n=e.focusedValue,r=e.focusedOption,a=this.props,s=a.options,o=a.menuIsOpen,l=a.inputValue,c=a.screenReaderStatus,d=n?function(e){var t=e.focusedValue,i=e.getOptionLabel,n=e.selectValue;return"value ".concat(i(t)," focused, ").concat(n.indexOf(t)+1," of ").concat(n.length,".")}({focusedValue:n,getOptionLabel:this.getOptionLabel,selectValue:i}):"",u=r&&o?function(e){var t=e.focusedOption,i=e.getOptionLabel,n=e.options;return"option ".concat(i(t)," focused").concat(t.isDisabled?" disabled":"",", ").concat(n.indexOf(t)+1," of ").concat(n.length,".")}({focusedOption:r,getOptionLabel:this.getOptionLabel,options:s}):"",p=function(e){var t=e.inputValue,i=e.screenReaderMessage;return"".concat(i).concat(t?" for search term "+t:"",".")}({inputValue:l,screenReaderMessage:c({count:this.countOptions()})});return"".concat(d," ").concat(u," ").concat(p," ").concat(t)}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,i=e.isSearchable,n=e.inputId,a=e.inputValue,s=e.tabIndex,o=this.components.Input,l=this.state.inputIsHidden,c=n||this.getElementId("input");if(!i)return r.a.createElement(ae,{id:c,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:N,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:s,value:""});var d={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},u=this.commonProps,p=u.cx,m=u.theme,h=u.selectProps;return r.a.createElement(o,w({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:p,getStyles:this.getStyles,id:c,innerRef:this.getInputRef,isDisabled:t,isHidden:l,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:h,spellCheck:"false",tabIndex:s,theme:m,type:"text",value:a},d))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,i=t.MultiValue,n=t.MultiValueContainer,a=t.MultiValueLabel,s=t.MultiValueRemove,o=t.SingleValue,l=t.Placeholder,c=this.commonProps,d=this.props,u=d.controlShouldRenderValue,p=d.isDisabled,m=d.isMulti,h=d.inputValue,g=d.placeholder,b=this.state,f=b.selectValue,v=b.focusedValue,k=b.isFocused;if(!this.hasValue()||!u)return h?null:r.a.createElement(l,w({},c,{key:"placeholder",isDisabled:p,isFocused:k}),g);if(m)return f.map((function(t){var o=t===v;return r.a.createElement(i,w({},c,{components:{Container:n,Label:a,Remove:s},isFocused:o,isDisabled:p,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var y=f[0];return r.a.createElement(o,w({},c,{data:y,isDisabled:p}),this.formatOptionLabel(y,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,i=this.props,n=i.isDisabled,a=i.isLoading,s=this.state.isFocused;if(!this.isClearable()||!e||n||!this.hasValue()||a)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return r.a.createElement(e,w({},t,{innerProps:o,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,i=this.props,n=i.isDisabled,a=i.isLoading,s=this.state.isFocused;if(!e||!a)return null;return r.a.createElement(e,w({},t,{innerProps:{"aria-hidden":"true"},isDisabled:n,isFocused:s}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,i=e.IndicatorSeparator;if(!t||!i)return null;var n=this.commonProps,a=this.props.isDisabled,s=this.state.isFocused;return r.a.createElement(i,w({},n,{isDisabled:a,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,i=this.props.isDisabled,n=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return r.a.createElement(e,w({},t,{innerProps:a,isDisabled:i,isFocused:n}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,i=t.Group,n=t.GroupHeading,a=t.Menu,s=t.MenuList,o=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,u=this.commonProps,p=this.state,m=p.focusedOption,h=p.menuOptions,g=this.props,b=g.captureMenuScroll,f=g.inputValue,v=g.isLoading,k=g.loadingMessage,y=g.minMenuHeight,j=g.maxMenuHeight,x=g.menuIsOpen,C=g.menuPlacement,_=g.menuPosition,E=g.menuPortalTarget,S=g.menuShouldBlockScroll,T=g.menuShouldScrollIntoView,N=g.noOptionsMessage,P=g.onMenuScrollToTop,I=g.onMenuScrollToBottom;if(!x)return null;var B,D=function(t){var i=m===t.data;return t.innerRef=i?e.getFocusedOptionRef:void 0,r.a.createElement(d,w({},u,t,{isFocused:i}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())B=h.render.map((function(t){if("group"===t.type){t.type;var a=O(t,["type"]),s="".concat(t.key,"-heading");return r.a.createElement(i,w({},u,a,{Heading:n,headingProps:{id:s},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return D(e)})))}if("option"===t.type)return D(t)}));else if(v){var A=k({inputValue:f});if(null===A)return null;B=r.a.createElement(l,u,A)}else{var L=N({inputValue:f});if(null===L)return null;B=r.a.createElement(c,u,L)}var F={minMenuHeight:y,maxMenuHeight:j,menuPlacement:C,menuPosition:_,menuShouldScrollIntoView:T},M=r.a.createElement(U,w({},u,F),(function(t){var i=t.ref,n=t.placerProps,o=n.placement,l=n.maxHeight;return r.a.createElement(a,w({},u,F,{innerRef:i,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:v,placement:o}),r.a.createElement(ve,{isEnabled:b,onTopArrive:P,onBottomArrive:I},r.a.createElement(be,{isEnabled:S},r.a.createElement(s,w({},u,{innerRef:e.getMenuListRef,isLoading:v,maxHeight:l}),B))))}));return E||"fixed"===_?r.a.createElement(o,w({},u,{appendTo:E,controlElement:this.controlRef,menuPlacement:C,menuPosition:_}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,i=t.delimiter,n=t.isDisabled,a=t.isMulti,s=t.name,o=this.state.selectValue;if(s&&!n){if(a){if(i){var l=o.map((function(t){return e.getOptionValue(t)})).join(i);return r.a.createElement("input",{name:s,type:"hidden",value:l})}var c=o.length>0?o.map((function(t,i){return r.a.createElement("input",{key:"i-".concat(i),name:s,type:"hidden",value:e.getOptionValue(t)})})):r.a.createElement("input",{name:s,type:"hidden"});return r.a.createElement("div",null,c)}var d=o[0]?this.getOptionValue(o[0]):"";return r.a.createElement("input",{name:s,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?r.a.createElement(re,{"aria-live":"assertive"},r.a.createElement("p",{id:"aria-selection-event"},"",this.state.ariaLiveSelection),r.a.createElement("p",{id:"aria-context"},"",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var e=this.components,t=e.Control,i=e.IndicatorsContainer,n=e.SelectContainer,a=e.ValueContainer,s=this.props,o=s.className,l=s.id,c=s.isDisabled,d=s.menuIsOpen,u=this.state.isFocused,p=this.commonProps=this.getCommonProps();return r.a.createElement(n,w({},p,{className:o,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderLiveRegion(),r.a.createElement(t,w({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u,menuIsOpen:d}),r.a.createElement(a,w({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),r.a.createElement(i,w({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(n.Component);y($e,"defaultProps",We);var Ge={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Ke=function(e){var t,i;return i=t=function(t){function i(){var e,t;f(this,i);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return y(E(E(t=S(this,(e=C(i)).call.apply(e,[this].concat(r))))),"select",void 0),y(E(E(t)),"state",{inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue}),y(E(E(t)),"onChange",(function(e,i){t.callProp("onChange",e,i),t.setState({value:e})})),y(E(E(t)),"onInputChange",(function(e,i){var n=t.callProp("onInputChange",e,i);t.setState({inputValue:void 0!==n?n:e})})),y(E(E(t)),"onMenuOpen",(function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})})),y(E(E(t)),"onMenuClose",(function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})})),t}return x(i,t),k(i,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return(t=this.props)[e].apply(t,n)}}},{key:"render",value:function(){var t=this,i=this.props,n=(i.defaultInputValue,i.defaultMenuIsOpen,i.defaultValue,O(i,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return r.a.createElement(e,w({},n,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),i}(n.Component),y(t,"defaultProps",Ge),i},Ze={cacheOptions:!1,defaultOptions:!1,filterOption:null},Je=function(e){var t,i;return i=t=function(t){function i(e){var t;return f(this,i),y(E(E(t=S(this,C(i).call(this)))),"select",void 0),y(E(E(t)),"lastRequest",void 0),y(E(E(t)),"mounted",!1),y(E(E(t)),"optionsCache",{}),y(E(E(t)),"handleInputChange",(function(e,i){var n=t.props,r=n.cacheOptions,a=function(e,t,i){if(i){var n=i(e,t);if("string"==typeof n)return n}return e}(e,i,n.onInputChange);if(!a)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(r&&t.optionsCache[a])t.setState({inputValue:a,loadedInputValue:a,loadedOptions:t.optionsCache[a],isLoading:!1,passEmptyOptions:!1});else{var s=t.lastRequest={};t.setState({inputValue:a,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(a,(function(e){t.mounted&&(e&&(t.optionsCache[a]=e),s===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:a,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return a})),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return x(i,t),k(i,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,i=this.state.inputValue;!0===t&&this.loadOptions(i,(function(t){if(e.mounted){var i=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:i})}}))}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var i=this.props.loadOptions;if(!i)return t();var n=i(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,i=this.props,n=(i.loadOptions,O(i,["loadOptions"])),a=this.state,s=a.defaultOptions,o=a.inputValue,l=a.isLoading,c=a.loadedInputValue,d=a.loadedOptions,u=a.passEmptyOptions?[]:o&&c?d:s||[];return r.a.createElement(e,w({},n,{ref:function(e){t.select=e},options:u,isLoading:l,onInputChange:this.handleInputChange}))}}]),i}(n.Component),y(t,"defaultProps",Ze),i},Qe=(Je(Ke($e)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=String(e).toLowerCase(),n=String(t.value).toLowerCase(),r=String(t.label).toLowerCase();return n===i||r===i}),Ye=j({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,i){return!(!e||t.some((function(t){return Qe(e,t)}))||i.some((function(t){return Qe(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Xe=function(e){var t,i;return i=t=function(t){function i(e){var t;f(this,i),y(E(E(t=S(this,C(i).call(this,e)))),"select",void 0),y(E(E(t)),"onChange",(function(e,i){var n=t.props,r=n.getNewOptionData,a=n.inputValue,s=n.isMulti,o=n.onChange,l=n.onCreateOption,c=n.value;if("select-option"!==i.action)return o(e,i);var d=t.state.newOption,u=Array.isArray(e)?e:[e];if(u[u.length-1]!==d)o(e,i);else if(l)l(a);else{var p=r(a,a),m={action:"create-option"};o(s?[].concat(T(B(c)),[p]):p,m)}}));var n=e.options||[];return t.state={newOption:void 0,options:n},t}return x(i,t),k(i,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,i=e.createOptionPosition,n=e.formatCreateLabel,r=e.getNewOptionData,a=e.inputValue,s=e.isLoading,o=e.isValidNewOption,l=e.value,c=e.options||[],d=this.state.newOption;d=o(a,B(l),c)?r(a,n(a)):void 0,this.setState({newOption:d,options:!t&&s||!d?c:"first"===i?[d].concat(T(c)):[].concat(T(c),[d])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,i=w({},this.props),n=this.state.options;return r.a.createElement(e,w({},i,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))}}]),i}(n.Component),y(t,"defaultProps",Ye),i},et=(Ke(Xe($e)),Je(Ke(Xe($e))),function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var i=O(t,["in","onExited","appear","enter","exit"]);return r.a.createElement(e,i)}}),tt=function(e){var t=e.component,i=e.duration,n=void 0===i?1:i,a=e.in,s=(e.onExited,O(e,["component","duration","in","onExited"])),o={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(n,"ms")},exiting:{opacity:0},exited:{opacity:0}};return r.a.createElement(g.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:a,timeout:n},(function(e){var i={style:j({},o[e])};return r.a.createElement(t,w({innerProps:i},s))}))},it=function(e){function t(){var e,i;f(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return y(E(E(i=S(this,(e=C(t)).call.apply(e,[this].concat(r))))),"duration",260),y(E(E(i)),"rafID",void 0),y(E(E(i)),"state",{width:"auto"}),y(E(E(i)),"transition",{exiting:{width:0,transition:"width ".concat(i.duration,"ms ease-out")},exited:{width:0}}),y(E(E(i)),"getWidth",(function(e){e&&isNaN(i.state.width)&&(i.rafID=window.requestAnimationFrame((function(){var t=e.getBoundingClientRect().width;i.setState({width:t})})))})),y(E(E(i)),"getStyle",(function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}})),y(E(E(i)),"getTransition",(function(e){return i.transition[e]})),i}return x(t,e),k(t,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var e=this,t=this.props,i=t.children,n=t.in,a=this.state.width;return r.a.createElement(g.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:n,timeout:this.duration},(function(t){var n=j({},e.getStyle(a),e.getTransition(t));return r.a.createElement("div",{ref:e.getWidth,style:n},i)}))}}]),t}(n.Component),nt=function(e){return function(t){var i=t.in,n=t.onExited,a=O(t,["in","onExited"]);return r.a.createElement(it,{in:i,onExited:n},r.a.createElement(e,w({cropWithEllipsis:i},a)))}},rt=function(e){return function(t){return r.a.createElement(tt,w({component:e,duration:t.isMulti?260:1},t))}},at=function(e){return function(t){return r.a.createElement(tt,w({component:e},t))}},st=function(e){return function(t){return r.a.createElement(g.TransitionGroup,w({component:e},t))}},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Re({components:e}),i=t.Input,n=t.MultiValue,r=t.Placeholder,a=t.SingleValue,s=t.ValueContainer,o=O(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return j({Input:et(i),MultiValue:nt(n),Placeholder:rt(r),SingleValue:at(a),ValueContainer:st(s)},o)},lt=ot(),ct=(lt.Input,lt.MultiValue,lt.Placeholder,lt.SingleValue,lt.ValueContainer,s(ot,X),Ke($e));t.b=ct},"./node_modules/react-select/node_modules/dom-helpers/class/addClass.js":function(e,t,i){"use strict";var n=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r=n(i("./node_modules/react-select/node_modules/dom-helpers/class/hasClass.js"));e.exports=t.default},"./node_modules/react-select/node_modules/dom-helpers/class/hasClass.js":function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},"./node_modules/react-select/node_modules/dom-helpers/class/removeClass.js":function(e,t,i){"use strict";function n(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))}},"./node_modules/react-select/node_modules/react-transition-group/CSSTransition.js":function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}t.default=e}(i("./node_modules/prop-types/index.js"));var n=o(i("./node_modules/react-select/node_modules/dom-helpers/class/addClass.js")),r=o(i("./node_modules/react-select/node_modules/dom-helpers/class/removeClass.js")),a=o(i("./node_modules/react/index.js")),s=o(i("./node_modules/react-select/node_modules/react-transition-group/Transition.js"));i("./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js");function o(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},u=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).onEnter=function(e,i){var n=t.getClassNames(i?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,n),t.props.onEnter&&t.props.onEnter(e,i)},t.onEntering=function(e,i){var n=t.getClassNames(i?"appear":"enter").activeClassName;t.reflowAndAddClass(e,n),t.props.onEntering&&t.props.onEntering(e,i)},t.onEntered=function(e,i){var n=t.getClassNames("appear").doneClassName,r=t.getClassNames("enter").doneClassName,a=i?n+" "+r:r;t.removeClasses(e,i?"appear":"enter"),c(e,a),t.props.onEntered&&t.props.onEntered(e,i)},t.onExit=function(e){var i=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,i),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var i=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,i),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var i=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,i),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var i=t.props.classNames,n="string"==typeof i,r=n?(n&&i?i+"-":"")+e:i[e];return{className:r,activeClassName:n?r+"-active":i[e+"Active"],doneClassName:n?r+"-done":i[e+"Done"]}},t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.removeClasses=function(e,t){var i=this.getClassNames(t),n=i.className,r=i.activeClassName,a=i.doneClassName;n&&d(e,n),r&&d(e,r),a&&d(e,a)},r.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},r.render=function(){var e=l({},this.props);return delete e.classNames,a.default.createElement(s.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(a.default.Component);u.defaultProps={classNames:""},u.propTypes={};var p=u;t.default=p,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/ReplaceTransition.js":function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;s(i("./node_modules/prop-types/index.js"));var n=s(i("./node_modules/react/index.js")),r=i("./node_modules/react-dom/index.js"),a=s(i("./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t,i;function s(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.handleLifecycle("onEnter",0,i)},t.handleEntering=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.handleLifecycle("onEntering",0,i)},t.handleEntered=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.handleLifecycle("onEntered",0,i)},t.handleExit=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.handleLifecycle("onExit",1,i)},t.handleExiting=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.handleLifecycle("onExiting",1,i)},t.handleExited=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.handleLifecycle("onExited",1,i)},t}i=e,(t=s).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=s.prototype;return o.handleLifecycle=function(e,t,i){var a,s=this.props.children,o=n.default.Children.toArray(s)[t];o.props[e]&&(a=o.props)[e].apply(a,i),this.props[e]&&this.props[e]((0,r.findDOMNode)(this))},o.render=function(){var e=this.props,t=e.children,i=e.in,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,["children","in"]),s=n.default.Children.toArray(t),o=s[0],l=s[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,n.default.createElement(a.default,r,i?n.default.cloneElement(o,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},s}(n.default.Component);o.propTypes={};var l=o;t.default=l,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/Transition.js":function(e,t,i){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,t}(i("./node_modules/prop-types/index.js")),r=o(i("./node_modules/react/index.js")),a=o(i("./node_modules/react-dom/index.js")),s=i("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");i("./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js");function o(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var c="exited";t.EXITED=c;var d="entering";t.ENTERING=d;var u="entered";t.ENTERED=u;var p="exiting";t.EXITING=p;var m=function(e){var t,i;function n(t,i){var n;n=e.call(this,t,i)||this;var r,a=i.transitionGroup,s=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?s?(r=c,n.appearStatus=d):r=u:r=t.unmountOnExit||t.mountOnEnter?l:c,n.state={status:r},n.nextCallback=null,n}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var s=n.prototype;return s.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null},s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var i=this.state.status;this.props.in?i!==d&&i!==u&&(t=d):i!==d&&i!==u||(t=p)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,i,n=this.props.timeout;return e=t=i=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,i=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:i}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var i=a.default.findDOMNode(this);t===d?this.performEnter(i,e):this.performExit(i)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},s.performEnter=function(e,t){var i=this,n=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,a=this.getTimeouts(),s=r?a.appear:a.enter;t||n?(this.props.onEnter(e,r),this.safeSetState({status:d},(function(){i.props.onEntering(e,r),i.onTransitionEnd(e,s,(function(){i.safeSetState({status:u},(function(){i.props.onEntered(e,r)}))}))}))):this.safeSetState({status:u},(function(){i.props.onEntered(e)}))},s.performExit=function(e){var t=this,i=this.props.exit,n=this.getTimeouts();i?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,i=!0;return this.nextCallback=function(n){i&&(i=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},s.onTransitionEnd=function(e,t,i){this.setNextCallback(i);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,i=t.children,n=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(t,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"==typeof i)return i(e,n);var a=r.default.Children.only(i);return r.default.cloneElement(a,n)},n}(r.default.Component);function h(){}m.contextTypes={transitionGroup:n.object},m.childContextTypes={transitionGroup:function(){}},m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},m.UNMOUNTED=0,m.EXITED=1,m.ENTERING=2,m.ENTERED=3,m.EXITING=4;var g=(0,s.polyfill)(m);t.default=g},"./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js":function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=o(i("./node_modules/prop-types/index.js")),r=o(i("./node_modules/react/index.js")),a=i("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js"),s=i("./node_modules/react-select/node_modules/react-transition-group/utils/ChildMapping.js");function o(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(e){var t,i;function n(t,i){var n,r=(n=e.call(this,t,i)||this).handleExited.bind(c(c(n)));return n.state={handleExited:r,firstRender:!0},n}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},a.componentDidMount=function(){this.appeared=!0,this.mounted=!0},a.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,t){var i=t.children,n=t.handleExited;return{children:t.firstRender?(0,s.getInitialChildMapping)(e,n):(0,s.getNextChildMapping)(e,i,n),firstRender:!1}},a.handleExited=function(e,t){var i=(0,s.getChildMapping)(this.props.children);e.key in i||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var i=l({},t.children);return delete i[e.key],{children:i}})))},a.render=function(){var e=this.props,t=e.component,i=e.childFactory,n=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,["component","childFactory"]),a=d(this.state.children).map(i);return delete n.appear,delete n.enter,delete n.exit,null===t?a:r.default.createElement(t,n,a)},n}(r.default.Component);u.childContextTypes={transitionGroup:n.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,a.polyfill)(u);t.default=p,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/index.js":function(e,t,i){"use strict";var n=o(i("./node_modules/react-select/node_modules/react-transition-group/CSSTransition.js")),r=o(i("./node_modules/react-select/node_modules/react-transition-group/ReplaceTransition.js")),a=o(i("./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js")),s=o(i("./node_modules/react-select/node_modules/react-transition-group/Transition.js"));function o(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:s.default,TransitionGroup:a.default,ReplaceTransition:r.default,CSSTransition:n.default}},"./node_modules/react-select/node_modules/react-transition-group/utils/ChildMapping.js":function(e,t,i){"use strict";t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=a,t.getInitialChildMapping=function(e,t){return r(e.children,(function(i){return(0,n.cloneElement)(i,{onExited:t.bind(null,i),in:!0,appear:s(i,"appear",e),enter:s(i,"enter",e),exit:s(i,"exit",e)})}))},t.getNextChildMapping=function(e,t,i){var o=r(e.children),l=a(t,o);return Object.keys(l).forEach((function(r){var a=l[r];if((0,n.isValidElement)(a)){var c=r in t,d=r in o,u=t[r],p=(0,n.isValidElement)(u)&&!u.props.in;!d||c&&!p?d||!c||p?d&&c&&(0,n.isValidElement)(u)&&(l[r]=(0,n.cloneElement)(a,{onExited:i.bind(null,a),in:u.props.in,exit:s(a,"exit",e),enter:s(a,"enter",e)})):l[r]=(0,n.cloneElement)(a,{in:!1}):l[r]=(0,n.cloneElement)(a,{onExited:i.bind(null,a),in:!0,exit:s(a,"exit",e),enter:s(a,"enter",e)})}})),l};var n=i("./node_modules/react/index.js");function r(e,t){var i=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){i[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),i}function a(e,t){function i(i){return i in t?t[i]:e[i]}e=e||{},t=t||{};var n,r=Object.create(null),a=[];for(var s in e)s in t?a.length&&(r[s]=a,a=[]):a.push(s);var o={};for(var l in t){if(r[l])for(n=0;n<r[l].length;n++){var c=r[l][n];o[r[l][n]]=i(c)}o[l]=i(l)}for(n=0;n<a.length;n++)o[a[n]]=i(a[n]);return o}function s(e,t,i){return null!=i[t]?i[t]:e.props[t]}},"./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js":function(e,t,i){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var n;(n=i("./node_modules/prop-types/index.js"))&&n.__esModule;t.timeoutsShape=null;t.classNamesShape=null},"./node_modules/shallowequal/index.js":function(e,t){e.exports=function(e,t,i,n){var r=i?i.call(n,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!o(c))return!1;var d=e[c],u=t[c];if(!1===(r=i?i.call(n,d,u,c):void 0)||void 0===r&&d!==u)return!1}return!0}},"./packages/i18n/formatters.ts":function(e,t,i){"use strict";i.r(t);var n=i("./packages/i18n/src/formatters.ts");i.d(t,"asMoney",(function(){return n.b})),i.d(t,"asNumber",(function(){return n.c})),i.d(t,"asPercentage",(function(){return n.d})),i.d(t,"asTaxRate",(function(){return n.e})),i.d(t,"asCompactNumber",(function(){return n.a}))},"./packages/nachos/icons/admin-chevron.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7072 6.29289C12.3167 5.90237 11.6835 5.90237 11.293 6.29289L6.70011 10.8858C6.31351 11.2724 6.31351 11.8992 6.70011 12.2858C7.08671 12.6724 7.71351 12.6724 8.10011 12.2858L12.0001 8.38579L15.9001 12.2858C16.2867 12.6724 16.9135 12.6724 17.3001 12.2858C17.6867 11.8992 17.6867 11.2724 17.3001 10.8858L12.7072 6.29289ZM17.3001 15.8858L12.7072 11.2929C12.3167 10.9024 11.6835 10.9024 11.293 11.2929L6.70011 15.8858C6.31351 16.2724 6.31351 16.8992 6.70011 17.2858C7.08671 17.6724 7.71351 17.6724 8.10011 17.2858L12.0001 13.3858L15.9001 17.2858C16.2867 17.6724 16.9135 17.6724 17.3001 17.2858C17.6867 16.8992 17.6867 16.2724 17.3001 15.8858Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"AdminChevronIcon",glyph:s})}},"./packages/nachos/icons/archive.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M3.03418 5.59621C2.98604 5.04603 3.39303 4.56099 3.94322 4.51286L19.8823 3.11837C20.4325 3.07023 20.9175 3.47722 20.9657 4.02741L21.0528 5.0236L3.12133 6.5924L3.03418 5.59621Z",fill:"currentColor"}),r.a.createElement("path",{d:"M9 12.9999C9 12.4476 9.44772 11.9999 10 11.9999H14C14.5523 11.9999 15 12.4476 15 12.9999C15 13.5522 14.5523 13.9999 14 13.9999H10C9.44772 13.9999 9 13.5522 9 12.9999Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 18.9999V7.99993H21V18.9999C21 20.1045 20.1046 20.9999 19 20.9999H5C3.89543 20.9999 3 20.1045 3 18.9999ZM5 9.99993H19V18.9999H5L5 9.99993Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"ArchiveIcon",glyph:s})}},"./packages/nachos/icons/business-class.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"BusinessClassIcon",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5C7 3.89543 7.89543 3 9 3H15C16.1046 3 17 3.89543 17 5V6H19V20H5V6H7V5ZM9 6H15V5H9V6ZM7 9C7 8.44772 7.44772 8 8 8H10C10.5523 8 11 8.44772 11 9V16C11 16.5523 10.5523 17 10 17H8C7.44772 17 7 16.5523 7 16V9ZM14 8C13.4477 8 13 8.44772 13 9V14C13 14.5523 13.4477 15 14 15H16C16.5523 15 17 14.5523 17 14V9C17 8.44772 16.5523 8 16 8H14Z",fill:"currentColor"}),r.a.createElement("path",{d:"M4 6C2.89543 6 2 6.89543 2 8V18C2 19.1046 2.89543 20 4 20L4 6Z",fill:"currentColor"}),r.a.createElement("path",{d:"M20 20V6C21.1046 6 22 6.89543 22 8V18C22 19.1046 21.1046 20 20 20Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"BusinessClassIcon",glyph:s})}},"./packages/nachos/icons/butler-bot.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3C13 3.55228 12.5523 4 12 4C11.4477 4 11 3.55228 11 3C11 2.44772 11.4477 2 12 2C12.5523 2 13 2.44772 13 3ZM4 7H20V17H4V7ZM2 7C2 5.89543 2.89543 5 4 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H4C2.89543 19 2 18.1046 2 17V7ZM8 9C8 8.44772 8.44772 8 9 8C9.55228 8 10 8.44772 10 9V11C10 11.5523 9.55228 12 9 12C8.44772 12 8 11.5523 8 11V9ZM14 9C14 8.44772 14.4477 8 15 8C15.5523 8 16 8.44772 16 9V11C16 11.5523 15.5523 12 15 12C14.4477 12 14 11.5523 14 11V9ZM12 16C12.5523 16 13 15.5523 13 15C13 14.4477 12.5523 14 12 14C11.4477 14 11 14.4477 11 15C11 15.5523 11.4477 16 12 16Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"ButlerBotIcon",glyph:s})}},"./packages/nachos/icons/calendar.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"CalendarIcon",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4V5H4.995C3.892 5 3 5.893 3 6.994V19.006C3 20.106 3.893 21 4.995 21H19.005C20.108 21 21 20.107 21 19.006V6.994C21 5.895 20.107 5 19.005 5H18V4C18 3.448 17.552 3 17 3C16.448 3 16 3.448 16 4V5H8V4C8 3.448 7.552 3 7 3C6.448 3 6 3.448 6 4ZM5.25 9.571V17.718C5.25 18.273 5.694 18.714 6.243 18.714H17.758C18.3 18.714 18.75 18.268 18.75 17.718V9.571H5.25ZM9 13V10.999H7V13H9ZM17 10.999V13H15V10.999H17ZM11 13H13.001V10.999H11V13ZM7 17V15H9V17H7ZM11 17H13.001V15H11V17ZM17 15V17H15V15H17Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"CalendarIcon",glyph:s})}},"./packages/nachos/icons/checklist.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H6V6L16 6C16.5523 6 17 5.55228 17 5C17 4.44772 16.5523 4 16 4H6ZM8.73534 10.3223C8.36105 9.91618 7.72841 9.89038 7.3223 10.2647C6.91619 10.639 6.89039 11.2716 7.26467 11.6777L10.8768 15.597C11.4143 16.1231 12.2145 16.1231 12.7111 15.6264L13.0754 15.2683C13.3699 14.9785 13.6981 14.6556 14.0516 14.3075C15.0614 13.313 16.0713 12.3169 17.014 11.3848L17.0543 11.3449C18.7291 9.68869 20.0004 8.42365 20.712 7.70223C21.0998 7.30904 21.0954 6.67589 20.7022 6.28805C20.309 5.90022 19.6759 5.90457 19.2881 6.29777C18.5843 7.01131 17.3169 8.27244 15.648 9.92281L15.6077 9.96263C14.6662 10.8937 13.6572 11.8889 12.6483 12.8825L11.8329 13.6851L8.73534 10.3223Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"ChecklistIcon",glyph:s})}},"./packages/nachos/icons/collection.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"CollectionIcon",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5C7 3.89543 7.89543 3 9 3H15C16.1046 3 17 3.89543 17 5H7ZM7 6C5.89543 6 5 6.89543 5 8H19C19 6.89543 18.1046 6 17 6H7ZM5 11H19V19H5L5 11ZM3 11C3 9.89543 3.89543 9 5 9H19C20.1046 9 21 9.89543 21 11V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V11ZM15 15H9V14C9 13.4477 8.55228 13 8 13C7.44772 13 7 13.4477 7 14V15V16C7 16.5523 7.44772 17 8 17H16C16.5523 17 17 16.5523 17 16V15V14C17 13.4477 16.5523 13 16 13C15.4477 13 15 13.4477 15 14V15Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"CollectionIcon",glyph:s})}},"./packages/nachos/icons/comment.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 17H12.5L8.28037 20.4014C6.97772 21.4869 5 20.5606 5 18.865V16.1973C3.2066 15.1599 2 13.2208 2 11C2 7.68629 4.68629 5 8 5H16C19.3137 5 22 7.68629 22 11C22 14.3137 19.3137 17 16 17ZM16 7H8C5.79086 7 4 8.79086 4 11C4 12.8638 5.27477 14.4299 7 14.874V19L12 15H16C18.2091 15 20 13.2091 20 11C20 8.79086 18.2091 7 16 7Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"CommentIcon",glyph:s})}},"./packages/nachos/icons/copy.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 16V4.99188C5 3.8918 5.90195 3 7.00853 3H14.9915L15 3.00002V5H7V16H5ZM8 19C8 20.1046 8.89543 21 10 21H18C19.1046 21 20 20.1046 20 19V8C20 6.89543 19.1046 6 18 6H10C8.89543 6 8 6.89543 8 8V19ZM10 8V19H18V8H10Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"CopyIcon",glyph:s})}},"./packages/nachos/icons/dashboard.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"DashboardIcon",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1586 10.6697C18.6953 11.6601 19 12.7945 19 14V15C19 15.5523 18.5523 16 18 16H6C5.44772 16 5 15.5523 5 15V14C5 10.134 8.13401 7 12 7C13.2055 7 14.3398 7.30472 15.3301 7.84134L16.2419 6.92954C16.447 6.72443 16.6856 6.57318 16.9401 6.4758C15.522 5.54283 13.8244 5 12 5C7.02944 5 3 9.02944 3 14V16C3 17.1046 3.89543 18 5 18H19C20.1046 18 21 17.1046 21 16V14C21 12.1756 20.4571 10.4779 19.5241 9.05977C19.4267 9.31425 19.2755 9.55284 19.0704 9.75796L18.1586 10.6697ZM13 9C13 9.55228 12.5523 10 12 10C11.4477 10 11 9.55228 11 9C11 8.44772 11.4477 8 12 8C12.5523 8 13 8.44772 13 9ZM16.1989 11.2152L12.7071 14.707C12.3166 15.0976 11.6834 15.0976 11.2929 14.707C10.9023 14.3165 10.9023 13.6833 11.2929 13.2928L16.949 7.63667C17.3395 7.24615 17.9727 7.24615 18.3632 7.63667C18.7538 8.0272 18.7538 8.66036 18.3632 9.05089L16.2152 11.1989L16.1989 11.2152ZM18 14C18 14.5523 17.5523 15 17 15C16.4477 15 16 14.5523 16 14C16 13.4477 16.4477 13 17 13C17.5523 13 18 13.4477 18 14ZM7 15C7.55228 15 8 14.5523 8 14C8 13.4477 7.55228 13 7 13C6.44772 13 6 13.4477 6 14C6 14.5523 6.44772 15 7 15ZM9.5 10.5C9.5 11.0523 9.05228 11.5 8.5 11.5C7.94772 11.5 7.5 11.0523 7.5 10.5C7.5 9.94772 7.94772 9.5 8.5 9.5C9.05228 9.5 9.5 9.94772 9.5 10.5Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"DashboardIcon",glyph:s})}},"./packages/nachos/icons/download.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"DownloadIcon",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M16.062 5.48029C16.318 5.43913 16.578 5.41804 16.839 5.41804C19.644 5.41904 22 7.62002 22 10.4988C22 13.4076 19.615 16.0002 16.9 16.0002H14.019V14.0071H16.9C18.557 14.0071 20.015 12.3443 20.015 10.4988C20.015 8.7205 18.546 7.41217 16.911 7.41217H16.899C16.51 7.41217 16.213 7.46338 15.929 7.56278L15.759 7.62504C15.154 7.87305 14.884 7.37904 14.884 7.37904L14.734 7.11195C14.004 5.76546 12.533 5.0164 11.018 4.99331C8.936 5.02745 7.221 6.54062 6.949 8.63716L6.903 8.97755C6.903 8.97755 6.832 9.50169 6.238 9.50169C6.23123 9.50169 6.22826 9.50332 6.22541 9.50489C6.22279 9.50633 6.22027 9.50771 6.215 9.50771H5.961C4.825 9.50771 3.985 10.4656 3.985 11.6655C3.985 12.8714 4.972 14.0071 6.055 14.0071H10.019V16.0002H6.055C3.895 16.0002 2 13.9548 2 11.6655C2 9.66536 3.312 8.00157 5.138 7.5909C5.845 4.88386 8.191 3.03934 11.024 3.00018C12.999 3.02127 14.925 3.90085 16.062 5.48029Z",fill:"currentColor"}),r.a.createElement("path",{d:"M9.2897 17.2914C9.67569 16.9027 10.3013 16.9029 10.6871 17.2917L11.0009 17.6079L11.0001 10.0065C11 9.45069 11.4477 9.00004 12 8.99998C12.5523 8.99993 13 9.45049 13.0001 10.0063L13.0009 17.653L13.3132 17.3383C13.6991 16.9496 14.3248 16.9496 14.7107 17.3383C15.0966 17.7271 15.0966 18.3574 14.7107 18.7461L12.7917 20.6793C12.5767 20.8959 12.2938 21.0028 12.0118 20.9999C12.0083 21 12.0047 21 12.0012 21C11.8291 21 11.6671 20.9563 11.5257 20.8792C11.4277 20.8285 11.3358 20.7618 11.2538 20.6791L9.28934 18.6992C8.90355 18.3103 8.90371 17.68 9.2897 17.2914Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"DownloadIcon",glyph:s})}},"./packages/nachos/icons/edit.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.82034 14.4893L9.94134 16.6103L18.4303 8.12131L16.3093 6.00031H16.3073L7.82034 14.4893ZM17.7233 4.58531L19.8443 6.70731C20.6253 7.48831 20.6253 8.7543 19.8443 9.53531L10.0873 19.2933L5.13734 14.3433L14.8943 4.58531C15.2853 4.19531 15.7973 4.00031 16.3093 4.00031C16.8203 4.00031 17.3323 4.19531 17.7233 4.58531ZM5.20094 20.4097C4.49794 20.5537 3.87694 19.9327 4.02094 19.2297L4.80094 15.4207L9.00994 19.6297L5.20094 20.4097Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"EditIcon",glyph:s})}},"./packages/nachos/icons/external-link.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.745 8.6082C10.742 8.0352 11.204 7.5722 11.776 7.5722H11.78L15.941 7.5912C16.515 7.5942 16.983 8.0622 16.986 8.6362L17.005 12.7972C17.006 13.3712 16.543 13.8352 15.969 13.8322C15.394 13.8302 14.926 13.3622 14.924 12.7882L14.9163 11.0759L8.19297 17.7992C7.80197 18.1892 7.16797 18.1892 6.77797 17.7992C6.38797 17.4092 6.38797 16.7752 6.77797 16.3842L13.5013 9.66089L11.789 9.6532C11.215 9.6512 10.747 9.1832 10.745 8.6082Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"ExternalLinkIcon",glyph:s})}},"./packages/nachos/icons/filter.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.61799 6C3.87461 6 3.39111 6.78231 3.72356 7.44721L3.99996 8H20L20.2763 7.44721C20.6088 6.78231 20.1253 6 19.3819 6H4.61799ZM10.8618 17.7236C10.9465 17.893 11.1196 18 11.309 18H12.6909C12.8803 18 13.0535 17.893 13.1382 17.7236L14 16H9.99996L10.8618 17.7236ZM17 13H6.99996L5.99996 11H18L17 13Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"FilterIcon",glyph:s})}},"./packages/nachos/icons/heart.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.18194 8.23223C5.20563 9.20854 5.20563 10.7915 6.18194 11.7678L12.1923 17.7782L18.2028 11.7678C19.1791 10.7915 19.1791 9.20854 18.2028 8.23223C17.2264 7.25592 15.6435 7.25592 14.6672 8.23223L12.8995 10C12.5089 10.3905 11.8758 10.3905 11.4852 10L9.71747 8.23223C8.74116 7.25592 7.15825 7.25592 6.18194 8.23223ZM4.76773 13.182C3.01037 11.4246 3.01037 8.57538 4.76773 6.81802C6.52509 5.06066 9.37433 5.06066 11.1317 6.81802L12.1923 7.87868L13.253 6.81802C15.0104 5.06066 17.8596 5.06066 19.617 6.81802C21.3743 8.57538 21.3743 11.4246 19.617 13.182L12.8995 19.8995C12.5089 20.29 11.8758 20.29 11.4852 19.8995L4.76773 13.182Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"HeartIcon",glyph:s})}},"./packages/nachos/icons/image.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 6H5L5 18H19V6ZM5 4C3.89543 4 3 4.89543 3 6V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18V6C21 4.89543 20.1046 4 19 4H5ZM14.2929 11.2929C14.6834 10.9024 15.3166 10.9024 15.7071 11.2929L17.7071 13.2929C18.0976 13.6834 18.0976 14.3166 17.7071 14.7071C17.3166 15.0976 16.6834 15.0976 16.2929 14.7071L15 13.4142L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L10 14.4142L7.70711 16.7071C7.31658 17.0976 6.68342 17.0976 6.29289 16.7071C5.90237 16.3166 5.90237 15.6834 6.29289 15.2929L9.29289 12.2929C9.68342 11.9024 10.3166 11.9024 10.7071 12.2929L12 13.5858L14.2929 11.2929ZM9 11C10.1046 11 11 10.1046 11 9C11 7.89543 10.1046 7 9 7C7.89543 7 7 7.89543 7 9C7 10.1046 7.89543 11 9 11Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"ImageIcon",glyph:s})}},"./packages/nachos/icons/label.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 16.2426C10.8284 17.4142 8.92892 17.4142 7.75734 16.2426C6.58577 15.071 6.58577 13.1715 7.75734 12C8.92892 10.8284 10.8284 10.8284 12 12C13.1716 13.1715 13.1716 15.071 12 16.2426ZM10.5858 14.8284C10.1952 15.2189 9.56208 15.2189 9.17156 14.8284C8.78103 14.4379 8.78103 13.8047 9.17156 13.4142C9.56208 13.0237 10.1952 13.0237 10.5858 13.4142C10.9763 13.8047 10.9763 14.4379 10.5858 14.8284Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2929 2.80759C12.0739 2.02654 13.3403 2.02654 14.1213 2.80759L21.1924 9.87866C21.9734 10.6597 21.9734 11.926 21.1924 12.7071L14.8284 19.071C12.0947 21.8047 7.66258 21.8047 4.92891 19.071C2.19524 16.3374 2.19524 11.9052 4.92891 9.17155L11.2929 2.80759ZM12.7071 4.2218L19.7782 11.2929L13.4142 17.6568C11.4616 19.6095 8.29575 19.6095 6.34313 17.6568C4.39051 15.7042 4.39051 12.5384 6.34313 10.5858L12.7071 4.2218Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"LabelIcon",glyph:s})}},"./packages/nachos/icons/list.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"ListIcon",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7V15C2 16.1046 2.89543 17 4 17H6C7.10457 17 8 16.1046 8 15V7C8 5.89543 7.10457 5 6 5H4C2.89543 5 2 5.89543 2 7ZM4 7V15H6V7L4 7Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7V13C9 14.1046 9.89543 15 11 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5H11C9.89543 5 9 5.89543 9 7ZM11 7V13H13V7L11 7Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 17V7C16 5.89543 16.8954 5 18 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H18C16.8954 19 16 18.1046 16 17ZM18 17V7L20 7V17H18Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"ListIcon",glyph:s})}},"./packages/nachos/icons/location.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"LocationIcon",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C14.2802 21 18 12.3137 18 9C18 5.68629 15.3137 3 12 3C8.68629 3 6 5.68629 6 9C6 12.3137 9.71981 21 12 21ZM12 12C13.6081 12 14.9118 10.6964 14.9118 9.08823C14.9118 7.48011 13.6081 6.17647 12 6.17647C10.3919 6.17647 9.08824 7.48011 9.08824 9.08823C9.08824 10.6964 10.3919 12 12 12Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"LocationIcon",glyph:s})}},"./packages/nachos/icons/move.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.292 4.29149C11.903 4.67949 11.903 5.31649 12.292 5.70549L17.586 10.9995H4C3.45 10.9995 3 11.4495 3 11.9995C3 12.5505 3.45 13.0005 4 13.0005H17.586L12.289 18.2965C11.9 18.6855 11.9 19.3215 12.289 19.7105C12.678 20.1005 13.315 20.1005 13.703 19.7105L20.702 12.7125C20.704 12.7115 20.706 12.7095 20.709 12.7075C20.903 12.5145 21 12.2565 21 11.9995C21 11.7425 20.903 11.4855 20.709 11.2915C20.706 11.2905 20.703 11.2885 20.701 11.2865L13.706 4.29149C13.512 4.09749 13.255 4.00049 12.999 4.00049C12.743 4.00049 12.486 4.09749 12.292 4.29149Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"MoveIcon",glyph:s})}},"./packages/nachos/icons/power-up.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M17.5009 2.65511C18.4967 2.5456 19.5352 2.80718 20.364 3.63597L18.9498 5.05019C18.6192 4.71958 18.2151 4.58335 17.7106 4.63884C17.1593 4.69947 16.4959 4.96246 15.7486 5.38541C15.0122 5.80221 14.272 6.32856 13.5675 6.8454C13.4614 6.92326 13.3548 7.00186 13.2485 7.08031C12.6795 7.50008 12.1166 7.91532 11.6552 8.18878C11.1608 8.48182 10.6363 8.46971 10.3204 8.43815C9.98837 8.40498 9.19934 8.39748 7.94353 8.81849C7.16614 9.07911 6.21617 9.69953 5.40597 10.3177L5.34387 10.3653C5.59079 10.4171 5.85122 10.4646 6.11263 10.5076C6.62099 10.5913 7.11123 10.6543 7.47593 10.6964C7.65774 10.7174 7.80708 10.7331 7.9103 10.7434C7.96189 10.7486 8.00189 10.7525 8.02858 10.755L8.0584 10.7578L8.06686 10.7585L8.96578 11.8603L8.96537 11.8658L8.96296 11.8884C8.96079 11.909 8.95758 11.9404 8.95366 11.9813C8.9458 12.0632 8.93516 12.1826 8.92441 12.3287C8.9028 12.6224 8.88136 13.0163 8.88048 13.4263C8.87958 13.8425 8.90011 14.2437 8.95265 14.563C8.9897 14.7881 9.03099 14.8963 9.04531 14.9338C9.04927 14.9442 9.05033 14.9497 9.05033 14.9497C9.05033 14.9497 9.05582 14.9507 9.06621 14.9547C9.10371 14.969 9.2119 15.0103 9.43702 15.0474C9.75627 15.0999 10.1575 15.1204 10.5737 15.1195C10.9837 15.1186 11.3777 15.0972 11.6714 15.0756L12.1391 15.0341L13.2414 15.933L13.3036 16.5241C13.3457 16.8888 13.4087 17.379 13.4924 17.8874C13.5354 18.1488 13.583 18.4092 13.6347 18.6561L13.6823 18.594C14.3005 17.7838 14.9209 16.8339 15.1815 16.0565C15.6025 14.8007 15.595 14.0116 15.5619 13.6796C15.5303 13.3637 15.5182 12.8392 15.8112 12.3448C16.0847 11.8834 16.4999 11.3206 16.9197 10.7515C16.9981 10.6452 17.0767 10.5386 17.1546 10.4325C17.6715 9.72798 18.1978 8.98784 18.6146 8.25143C19.0376 7.50416 19.3005 6.84067 19.3612 6.28939C19.4167 5.78487 19.2804 5.38079 18.9498 5.05019L20.364 3.63597C21.1928 4.46477 21.4544 5.50334 21.3449 6.4991C21.2405 7.4481 20.8244 8.39124 20.3504 9.22877C19.8702 10.0772 19.2817 10.9 18.762 11.6084C18.674 11.7284 18.5889 11.8439 18.5069 11.9552C18.0946 12.5148 17.7615 12.9669 17.5439 13.3284C17.5413 13.3535 17.5403 13.3991 17.5477 13.4727C17.6103 14.0997 17.58 15.1726 17.0735 16.6835C16.7017 17.7925 15.9064 18.9623 15.2669 19.8003C14.9374 20.2322 14.6293 20.6014 14.4034 20.8629C14.2902 20.9939 14.1971 21.0986 14.1314 21.1714C14.0985 21.2078 14.0725 21.2363 14.0543 21.2561L14.0267 21.286L14.0239 21.289C13.8388 21.4871 13.5813 21.6021 13.3108 21.6073C13.0403 21.6124 12.7798 21.5076 12.5889 21.3167C12.3731 21.1009 12.2313 20.8327 12.1361 20.6177C12.0339 20.3868 11.9481 20.1296 11.8751 19.8725C11.729 19.3576 11.6128 18.7648 11.5231 18.2197C11.4566 17.8154 11.4027 17.425 11.3611 17.0937C11.1199 17.1058 10.8496 17.1146 10.5694 17.1152C10.1037 17.1162 9.57892 17.0947 9.10468 17.0166C8.69213 16.9487 8.05261 16.7804 7.63611 16.3639C7.21962 15.9474 7.05129 15.3079 6.9834 14.8953C6.90535 14.4211 6.88378 13.8964 6.88478 13.4306C6.88539 13.1504 6.89426 12.8801 6.90635 12.6389C6.57502 12.5974 6.18466 12.5434 5.78029 12.4769C5.23522 12.3872 4.64237 12.271 4.12751 12.1249C3.8704 12.0519 3.61317 11.9661 3.38231 11.8639C3.16733 11.7687 2.89915 11.6269 2.68332 11.4111C2.49244 11.2202 2.38758 10.9597 2.39276 10.6892C2.39794 10.4187 2.51272 10.1614 2.71081 9.97631L2.71401 9.97332L2.72063 9.96718L2.74387 9.94573C2.76373 9.92748 2.79221 9.90147 2.82863 9.86862C2.90143 9.80296 3.00612 9.70979 3.13714 9.59661C3.39866 9.37069 3.76781 9.06262 4.19969 8.73309C5.03769 8.09367 6.20752 7.29836 7.31652 6.92656C8.8274 6.42004 9.90036 6.3897 10.5273 6.45233C10.6009 6.45968 10.6465 6.45871 10.6716 6.45614C11.0331 6.23853 11.4852 5.90543 12.0448 5.49314C12.1561 5.41114 12.2716 5.32601 12.3916 5.23804C13.1 4.71833 13.9228 4.12982 14.7712 3.64963C15.6088 3.1756 16.5519 2.75948 17.5009 2.65511Z",fill:"currentColor"}),r.a.createElement("path",{d:"M15.4143 8.58572C15.8048 8.97624 16.438 8.97624 16.8285 8.58572C17.219 8.1952 17.219 7.56203 16.8285 7.17151C16.438 6.78098 15.8048 6.78098 15.4143 7.17151C15.0238 7.56203 15.0238 8.1952 15.4143 8.58572Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"PowerUpIcon",glyph:s})}},"./packages/nachos/icons/private.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C9.79536 3 8 4.79192 8 7.00237V9H7C5.89543 9 5 9.89543 5 11V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V11C19 9.89543 18.1046 9 17 9H16V7.00237C16 4.79182 14.2091 3 12 3ZM14 11H16H17V19H7V11H8H10H14ZM14 9V7.00237C14 5.89617 13.1043 5 12 5C10.8983 5 10 5.89813 10 7.00237V9H14ZM14 15C14 16.1046 13.1046 17 12 17C10.8954 17 10 16.1046 10 15C10 13.8954 10.8954 13 12 13C13.1046 13 14 13.8954 14 15Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"PrivateIcon",glyph:s})}},"./packages/nachos/icons/public.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 18.9291V18C11 17.4477 10.5523 17 10 17C9.44772 17 9 16.5523 9 16V15L5.06227 11.0623C5.0212 11.369 5 11.682 5 12C5 15.5265 7.60771 18.4439 11 18.9291ZM14.9929 5.67024C14.9065 6.69513 14.0472 7.5 13 7.5H11V9C11 9.55228 10.5523 10 10 10H8V12H13C14.1046 12 15 12.8954 15 14V16H16C16.5198 16 16.9469 16.3966 16.9954 16.9037C18.2353 15.6407 19 13.9097 19 12C19 9.20479 17.3617 6.79224 14.9929 5.67024ZM21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"PublicIcon",glyph:s})}},"./packages/nachos/icons/search.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"SearchIcon",glyph:s})}},"./packages/nachos/icons/sparkle.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M8 2L7 7L2 8L7 9L8 14L9 9L14 8L9 7L8 2Z",fill:"currentColor"}),r.a.createElement("path",{d:"M17 11L18 8L19 11L22 12L19 13L18 16L17 13L14 12L17 11Z",fill:"currentColor"}),r.a.createElement("path",{d:"M11 17L12 14L13 17L16 18L13 19L12 22L11 19L8 18L11 17Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"SparkleIcon",glyph:s})}},"./packages/nachos/icons/sticker.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9913 22C6.47244 21.9953 2 17.5199 2 12C2 6.47715 6.47715 2 12 2C17.5194 2 21.9944 6.47151 22 11.9896C22.0028 12.2553 21.8994 12.5149 21.7071 12.7071L12.7071 21.7071C12.5153 21.8989 12.2565 22.0023 11.9913 22ZM4 12C4 7.58172 7.58172 4 12 4C15.9888 4 19.2957 6.91917 19.901 10.7377C19.4642 10.6737 18.9449 10.625 18.375 10.625C16.7209 10.625 14.5466 11.0392 12.7929 12.7929C11.0392 14.5466 10.625 16.7209 10.625 18.375C10.625 18.9449 10.6737 19.4642 10.7377 19.901C6.91918 19.2957 4 15.9888 4 12ZM14.2071 14.2071C15.4534 12.9608 17.0292 12.625 18.375 12.625C18.5714 12.625 18.7609 12.6322 18.9412 12.6446L12.6446 18.9412C12.6322 18.7609 12.625 18.5714 12.625 18.375C12.625 17.0291 12.9608 15.4534 14.2071 14.2071Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"StickerIcon",glyph:s})}},"./packages/nachos/icons/template-board.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M7 3C7 2.44772 7.44772 2 8 2H9C9.55228 2 10 2.44772 10 3C10 3.55228 9.55228 4 9 4H8C7.44772 4 7 3.55228 7 3Z",fill:"currentColor"}),r.a.createElement("path",{d:"M3 7C2.44772 7 2 7.44772 2 8V9C2 9.55228 2.44772 10 3 10C3.55228 10 4 9.55228 4 9V8C4 7.44772 3.55228 7 3 7Z",fill:"currentColor"}),r.a.createElement("path",{d:"M2 12C2 11.4477 2.44772 11 3 11C3.55228 11 4 11.4477 4 12V13C4 13.5523 3.55228 14 3 14C2.44772 14 2 13.5523 2 13V12Z",fill:"currentColor"}),r.a.createElement("path",{d:"M2 16C2 15.4477 2.44772 15 3 15C3.55228 15 4 15.4477 4 16V19C2.89543 19 2 18.1046 2 17V16Z",fill:"currentColor"}),r.a.createElement("path",{d:"M12 2C11.4477 2 11 2.44772 11 3C11 3.55228 11.4477 4 12 4H13C13.5523 4 14 3.55228 14 3C14 2.44772 13.5523 2 13 2H12Z",fill:"currentColor"}),r.a.createElement("path",{d:"M15 3C15 2.44772 15.4477 2 16 2H17C18.1046 2 19 2.89543 19 4H16C15.4477 4 15 3.55228 15 3Z",fill:"currentColor"}),r.a.createElement("path",{d:"M4 2C2.89543 2 2 2.89543 2 4V5C2 5.55228 2.44772 6 3 6C3.55228 6 4 5.55228 4 5V4H5C5.55228 4 6 3.55228 6 3C6 2.44772 5.55228 2 5 2H4Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H7ZM8 7C7.44772 7 7 7.44771 7 8V17C7 17.5523 7.44772 18 8 18H11C11.5523 18 12 17.5523 12 17V8C12 7.44772 11.5523 7 11 7H8ZM14 8C14 7.44772 14.4477 7 15 7H18C18.5523 7 19 7.44772 19 8V13C19 13.5523 18.5523 14 18 14H15C14.4477 14 14 13.5523 14 13V8Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"TemplateBoardIcon",glyph:s})}},"./packages/nachos/icons/timeline.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"TimelineIcon",(function(){return o}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./packages/nachos/src/components/Icon/index.ts");const s=()=>r.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 4H11.5C12.8807 4 14 5.11929 14 6.5C14 7.88071 12.8807 9 11.5 9H4.5C3.11929 9 2 7.88071 2 6.5C2 5.11929 3.11929 4 4.5 4ZM11.5 7C11.7761 7 12 6.77614 12 6.5C12 6.22386 11.7761 6 11.5 6H4.5C4.22386 6 4 6.22386 4 6.5C4 6.77614 4.22386 7 4.5 7H11.5Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 10H13.5C14.8807 10 16 11.1193 16 12.5C16 13.8807 14.8807 15 13.5 15H6.5C5.11929 15 4 13.8807 4 12.5C4 11.1193 5.11929 10 6.5 10ZM13.5 13C13.7761 13 14 12.7761 14 12.5C14 12.2239 13.7761 12 13.5 12H6.5C6.22386 12 6 12.2239 6 12.5C6 12.7761 6.22386 13 6.5 13H13.5Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 16H11.5C10.1193 16 9 17.1193 9 18.5C9 19.8807 10.1193 21 11.5 21H18.5C19.8807 21 21 19.8807 21 18.5C21 17.1193 19.8807 16 18.5 16ZM11.5 19C11.2239 19 11 18.7761 11 18.5C11 18.2239 11.2239 18 11.5 18H18.5C18.7761 18 19 18.2239 19 18.5C19 18.7761 18.7761 19 18.5 19H11.5Z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 4H19.5C20.8807 4 22 5.11929 22 6.5C22 7.88071 20.8807 9 19.5 9H17.5C16.1193 9 15 7.88071 15 6.5C15 5.11929 16.1193 4 17.5 4ZM19.5 7C19.7761 7 20 6.77614 20 6.5C20 6.22386 19.7761 6 19.5 6H17.5C17.2239 6 17 6.22386 17 6.5C17 6.77614 17.2239 7 17.5 7H19.5Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:i,size:n,color:o,label:l,block:c}=e;return r.a.createElement(a.a,{testId:t,size:n,dangerous_className:i,color:o,block:c,label:l||"TimelineIcon",glyph:s})}},"./packages/nachos/select.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return n.a})),i.d(t,"b",(function(){return n.b}));var n=i("./packages/nachos/src/components/Select/Select.tsx")},"./packages/nachos/src/components/List/List.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/List/List.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./packages/nachos/src/components/Select/Select.less":function(e,t,i){var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=i("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Select/Select.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(r,a);e.exports=r.locals||{}},"./packages/nachos/src/components/Select/Select.tsx":function(e,t,i){"use strict";i.d(t,"a",(function(){return z})),i.d(t,"b",(function(){return U}));var n=i("./node_modules/react/index.js"),r=i.n(n),a=i("./node_modules/react-select/dist/react-select.esm.js"),s=i("./node_modules/classnames/index.js"),o=i.n(s),l=i("./packages/keybindings/index.ts"),c=i("./packages/layer-manager/index.ts"),d=i("./packages/test-ids/index.ts"),u=i("./packages/nachos/tokens.ts"),p=i("./packages/nachos/src/components/List/List.less"),m=i.n(p);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase);const g="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameItem),b={BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell),IMAGE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameImage),META:{BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameMeta),SELECTED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameMeta,"--").concat(u.ComponentStateSelected)},LABEL:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameLabel),CONTENT:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameContent)},f=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"--").concat(u.ComponentAppearanceStatic),e=>r.a.createElement("li",h({className:m.a[g]},e),e.children)),v=e=>{const{meta:t,image:i,label:n,isSelected:a}=e;let s=null;i&&("string"==typeof i&&(s=r.a.createElement("img",{className:m.a[b.IMAGE],alt:n,src:i})),r.a.isValidElement(i)&&(s=r.a.createElement("div",{className:m.a[b.IMAGE]},i)));const l=o()({[m.a[b.META.BASE]]:!0,[m.a[b.META.SELECTED]]:a});return r.a.createElement("li",h({className:m.a[b.BASE]},e),s&&s,r.a.createElement("div",{className:m.a[b.CONTENT]},r.a.createElement("div",{className:m.a[b.LABEL]},n),t&&r.a.createElement("div",{className:l},t)))};function k(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach((function(t){w(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const j=(e=!0)=>y(y({},e&&{textOverflow:"ellipsis"}),{},{overflow:"hidden",whiteSpace:"nowrap"});var x=i("./packages/nachos/src/components/Select/Select.less"),C=i.n(x);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function O(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?O(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function T(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}const N="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase),P=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"-").concat(u.SelectClassnameContainer),{BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl),FOCUS:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentStateFocus),COMPACT:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentAppearanceCompact),SUBTLE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentAppearanceSubtle),DISABLED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentStateDisabled)}),I="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameMenu),B={BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption),ACTIVE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentStateActive),DISABLED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentStateDisabled),SELECTED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentStateSelected)},D=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameVal),"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameLabel)),A=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"--").concat(u.ComponentAppearanceStatic),({isCompact:e=!1,isLoading:t=!1})=>({control:t=>{const{backgroundColor:i,border:n,borderColor:r,borderWidth:a,borderStyle:s,boxShadow:o}=t,l=T(t,["backgroundColor","border","borderColor","borderWidth","borderStyle","boxShadow"]),c=e?{height:u.SelectControlCompactHeight,minHeight:u.SelectControlCompactHeight,padding:"".concat(u.SelectControlCompactPaddingY," ").concat(u.SelectControlCompactPaddingX)}:{};return E(E({},l),{},{borderRadius:u.SelectControlDefaultBorderRadius,border:u.SelectControlDefaultBorder,height:u.SelectControlDefaultHeight,minHeight:u.SelectControlDefaultHeight,position:"relative",padding:"".concat(u.SelectControlDefaultPaddingY," ").concat(u.SelectControlDefaultPaddingX)},c)},valueContainer:()=>({padding:u.SelectValueContainerDefaultPadding,position:"initial",display:"inherit",width:"100%",maxWidth:t?u.SelectValueContainerDefaultLoadingMaxWidth:u.SelectValueContainerDefaultMaxWidth,maxHeight:"100%"}),input:()=>E({position:"absolute",top:e?u.SelectInputCompactTop:u.SelectInputDefaultTop,left:e?u.SelectInputCompactLeft:u.SelectInputDefaultLeft,maxWidth:u.SelectInputDefaultMaxWidth},j(!1)),option:(e,{isDisabled:t})=>({cursor:t?"initial":"pointer"}),singleValue:()=>E({marginLeft:u.SelectSingleValueDefaultMarginLeft,width:"100%"},j()),groupHeading:e=>E(E({},e),{},{color:u.SelectGroupHeadingDefaultColor,fontSize:u.SelectGroupHeadingDefaultFontSize,fontWeight:u.SelectGroupHeadingDefaultFontWeight,lineHeight:u.SelectGroupHeadingDefaultLineHeight,marginBottom:u.SelectGroupHeadingDefaultMarginBottom}),indicatorsContainer:e=>E(E({},e),{},{paddingRight:u.SelectIndicatorsContainerDefaultPaddingRight})})),L=e=>{let{selectProps:{isDisabled:t,isFocused:i},isSelected:n,data:{label:s,meta:l,image:c,testId:u}}=e,p=T(e,["selectProps","isSelected","data"]);const m=o()({[C.a[B.BASE]]:!0,[C.a[B.SELECTED]]:n,[C.a[B.DISABLED]]:t,[C.a[B.ACTIVE]]:i});return r.a.createElement("div",{[d.TEST_ID_ATTR]:u},r.a.createElement(a.a.Option,_({className:m},p),l||c?r.a.createElement(v,{label:s,meta:l,image:c,isSelected:n}):r.a.createElement(f,null,s)))},F=e=>{var t,i;const n=null!==(t=null==e||null===(i=e.selectProps)||void 0===i?void 0:i.menuElevation)&&void 0!==t?t:0;return r.a.createElement("div",{[c.ELEVATION_ATTR]:n},r.a.createElement(a.a.Menu,_({className:C.a[I]},e)))},M=e=>{var t,i;const n=o()({[C.a[P.BASE]]:!0,[C.a[P.FOCUS]]:e.isFocused,[C.a[P.COMPACT]]:"compact"===e.selectProps.spacing,[C.a[P.SUBTLE]]:"subtle"===e.selectProps.appearance}),s=null!==(t=null==e||null===(i=e.selectProps)||void 0===i?void 0:i.testId)&&void 0!==t?t:null;return r.a.createElement("div",{[d.TEST_ID_ATTR]:s},r.a.createElement(a.a.Control,_({className:n},e)))},V=()=>null,R=e=>{e.key===l.Key.Escape&&(e.nativeEvent.stopImmediatePropagation(),e.preventDefault())},z=e=>{let{className:t,containerClassName:i,containerStyle:s,defaultValue:l,value:d,label:u,options:p,testId:m,isSearchable:h=!1,scrollIntoViewSelectedOption:g=!0,menuPosition:b="fixed"}=e,f=T(e,["className","containerClassName","containerStyle","defaultValue","value","label","options","testId","isSearchable","scrollIntoViewSelectedOption","menuPosition"]);const v=Object(n.useRef)(null),[k,y]=Object(c.useCallbackRef)(),w=Object(c.useCurrentElevation)(k)+1,j=o()({[N]:!0,[C.a[N]]:!0,[C.a[P.DISABLED]]:f.isDisabled},t);let x=u;"string"==typeof u&&(x=r.a.createElement("label",{className:C.a[D]},u)),p.forEach(((e,t,i)=>{"string"==typeof e&&(i[t]={value:e,label:e})}));let O=d;"string"==typeof d&&(O={value:d,label:d});let S=l;"string"==typeof l&&(S={value:l,label:l});const I=e=>{const{select:t}=v.current,{menuOptions:i,selectValue:n,isFocused:r}=t.state,{isMulti:a}=f;let s="first"===e?0:i.focusable.length-1;if(!a&&n[0]&&g){const e=i.focusable.findIndex((e=>e.value===n[0].value));e>-1&&(s=e)}t.scrollToFocusedOptionOnUpdate=!(r&&t.menuListRef),t.inputIsHiddenAfterUpdate=!1,t.onMenuOpen(),t.setState({focusedValue:null,focusedOption:i.focusable[s]}),t.announceAriaLiveContext({event:"menu"})};return v&&v.current&&(v.current.select.openMenu=I),r.a.createElement("div",{ref:y,className:i,style:s},x,r.a.createElement(a.b,_({ref:v,onKeyDown:R,className:j,styles:A({isCompact:"compact"===f.spacing,isLoading:f.isLoading}),value:O,defaultValue:S,options:p,isOptionDisabled:e=>e.isDisabled,menuPortalTarget:document.body,menuPosition:b,isSearchable:h,components:E({Menu:F,Option:L,Control:M,IndicatorSeparator:V,DropdownIndicator:V},f.components),testId:m,menuElevation:w},f)))},U=a.a},"./packages/nachos/tooltip.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return je})),i.d(t,"b",(function(){return Ce}));var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function r(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var a=function(){return(a=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function s(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var o=i("./node_modules/react/index.js"),l=i.n(o),c=i("./node_modules/flushable/dist/index.umd.js"),d=i.n(c),u=i("./node_modules/react-node-resolver/lib/index.js"),p=i.n(u),m=i("./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),h=i("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),g=i("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),b=i("./node_modules/@atlaskit/popper/dist/esm/Popper.js"),f=i("./node_modules/exenv/index.js"),v=i("./node_modules/react-dom/index.js"),k=i.n(v),y=i("./node_modules/tiny-invariant/dist/tiny-invariant.esm.js"),w=i("./node_modules/styled-components/dist/styled-components.browser.es.js"),j=["light","dark"];function x(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&j.includes(e.theme.mode))return e.theme}return{mode:"light"}}function C(e,t){if("string"==typeof e)return i=e,n=t,function(e){var t=x(e);if(e&&e[i]&&n){var r=n[e[i]];if(r&&r[t.mode]){var a=r[t.mode];if(a)return a}}return""};var i,n,r=e;return function(e){var t=x(e);if(t.mode in r){var i=r[t.mode];if(i)return i}return""}}var _,O,E,S="#FF5630",T="#FFAB00",N="#36B37E",P="#4C9AFF",I="#2684FF",B="#0052CC",D="#FFFFFF",A="#6B778C",L="#172B4D",F="#B8C7E0",M="#8C9CB8",V="#283447",R=(C({light:D,dark:"#1B2638"}),C({light:"#DEEBFF",dark:"#B3D4FF"}),C({light:"#EBECF0",dark:"#3B475C"}),C({light:D,dark:V}),C({light:"#091E42",dark:F}),C({light:L,dark:F}),C({light:B,dark:B}),C({light:A,dark:M}),C({light:"#7A869A",dark:"#7988A3"}),C({light:L,dark:F}),C({light:A,dark:M}),C({light:"#F4F5F7",dark:V}),C({light:B,dark:P}),C({light:"#0065FF",dark:I}),C({light:"#0747A6",dark:P}),C({light:P,dark:I}),C({light:B,dark:P}),C({light:B,dark:P}),C({light:"#00B8D9",dark:"#00C7E6"}),C({light:"#6554C0",dark:"#998DD9"}),C({light:S,dark:S}),C({light:T,dark:T}),C({light:N,dark:N}),{card:function(){return 100},dialog:function(){return 300},navigation:function(){return 200},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}),z=function(e){var t=document.createElement("div");return t.setAttribute("class","atlaskit-portal"),t.setAttribute("style","z-index: "+e+";"),t},U=function(){return Object(y.a)(document&&document.body,"cannot find document.body"),document.body},H=Object.keys(R).reduce((function(e,t){var i=t;return e[R[i]()]=i,e}),{}),W=function(e){return Object.prototype.hasOwnProperty.call(H,e)?H[e]:null},q=function(e,t){var i=function(e,t){var i={layer:W(Number(t)),zIndex:t};if("function"==typeof CustomEvent)return new CustomEvent(e,{detail:i});var n=document.createEvent("CustomEvent"),r={bubbles:!0,cancellable:!0,detail:i};return n.initCustomEvent(e,r.bubbles,r.cancellable,r.detail),n}(e,t);window.dispatchEvent(i)},$=function(){var e=document.querySelector("body > .atlaskit-portal-container");if(!e){var t=document.createElement("div");return t.setAttribute("class","atlaskit-portal-container"),t.setAttribute("style","display: flex;"),U().appendChild(t),t}return e},G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={container:f.canUseDOM?z(t.props.zIndex):void 0,portalIsMounted:!1},t}return r(t,e),t.prototype.componentDidUpdate=function(e,t){var i=this.state.container,n=this.props.zIndex;if(i&&e.zIndex!==n){var r=z(n);$().replaceChild(i,r),this.setState({container:r})}else!t.container&&i&&$().appendChild(i)},t.prototype.componentDidMount=function(){var e=this.state.container,t=this.props.zIndex;if(e)$().appendChild(e);else{var i=z(t);this.setState({container:i})}this.setState({portalIsMounted:!0}),q("akPortalMount",Number(t))},t.prototype.componentWillUnmount=function(){var e=this.state.container,t=this.props.zIndex;e&&($().removeChild(e),!!document.querySelector("body > .atlaskit-portal-container > .atlaskit-portal")||U().removeChild($()));q("akPortalUnmount",Number(t))},t.prototype.render=function(){var e=this.state,t=e.container,i=e.portalIsMounted;return t&&i?k.a.createPortal(this.props.children,t):null},t.defaultProps={zIndex:0},t}(l.a.Component),K=C({light:L,dark:"#0D1424"}),Z=C({light:D,dark:F}),J=w.default.div(_||(_=s(["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"],["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"])),R.tooltip),Q=Object(w.default)(J)(O||(O=s(["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n\n  ","\n"],["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n\n  ","\n"])),K,(function(){return 3}),Z,(function(e){return e.truncate&&"\n      max-width: 420px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    "})),Y=(w.default.div(E||(E=s(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]))),i("./node_modules/@atlaskit/tooltip/dist/esm/version.json")),X=i("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),ee=i("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),te=(i("./node_modules/prop-types/index.js"),!1),ie=l.a.createContext(null),ne="unmounted",re="exited",ae="entering",se="entered",oe="exiting",le=function(e){function t(t,i){var n;n=e.call(this,t,i)||this;var r,a=i&&!i.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(r=re,n.appearStatus=ae):r=se:r=t.unmountOnExit||t.mountOnEnter?ne:re,n.state={status:r},n.nextCallback=null,n}Object(ee.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ne?{status:re}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var i=this.state.status;this.props.in?i!==ae&&i!==se&&(t=ae):i!==ae&&i!==se||(t=oe)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,i,n=this.props.timeout;return e=t=i=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,i=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:i}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===ae?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===re&&this.setState({status:ne})},i.performEnter=function(e){var t=this,i=this.props.enter,n=this.context?this.context.isMounting:e,r=this.props.nodeRef?[n]:[k.a.findDOMNode(this),n],a=r[0],s=r[1],o=this.getTimeouts(),l=n?o.appear:o.enter;!e&&!i||te?this.safeSetState({status:se},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:ae},(function(){t.props.onEntering(a,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:se},(function(){t.props.onEntered(a,s)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,i=this.getTimeouts(),n=this.props.nodeRef?void 0:k.a.findDOMNode(this);t&&!te?(this.props.onExit(n),this.safeSetState({status:oe},(function(){e.props.onExiting(n),e.onTransitionEnd(i.exit,(function(){e.safeSetState({status:re},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:re},(function(){e.props.onExited(n)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,i=!0;return this.nextCallback=function(n){i&&(i=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var i=this.props.nodeRef?this.props.nodeRef.current:k.a.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(i&&!n){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],a=r[0],s=r[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===ne)return null;var t=this.props,i=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(X.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.a.createElement(ie.Provider,{value:null},"function"==typeof i?i(e,n):l.a.cloneElement(l.a.Children.only(i),n))},t}(l.a.Component);function ce(){}le.contextType=ie,le.propTypes={},le.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ce,onEntering:ce,onEntered:ce,onExit:ce,onExiting:ce,onExited:ce},le.UNMOUNTED=ne,le.EXITED=re,le.ENTERING=ae,le.ENTERED=se,le.EXITING=oe;var de,ue=le,pe=function(e){var t=e.children,i=e.immediatelyHide,n=e.immediatelyShow,r=e.onExited,s=e.in,o={enter:n?0:120,exit:i?0:80};return l.a.createElement(ue,{timeout:o,in:s,onExited:r,unmountOnExit:!0,appear:!0},(function(e){return t(function(e,t){return function(){return a(a({},function(e){return{transition:"transform "+e.enter+"ms cubic-bezier(0.23, 1, 0.32, 1), opacity "+e.enter+"ms linear",opacity:0}}(e)),function(e){return{entering:{},entered:{opacity:1},exiting:{opacity:0}}[e]}(t))}}(o,e))}))},me={action:"displayed",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:Y.name,packageVersion:Y.version}},he={action:"hidden",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:Y.name,packageVersion:Y.version}},ge={capture:!0,passive:!0};function be(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}var fe,ve=function(e,t){var i=de&&de.pending();return i&&de.flush(),d()((function(){return e(i)}),i?0:t).cancel},ke=function(e,t){return(de=d()((function(t){return e(t)}),t)).cancel},ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapperRef=null,t.targetRef=null,t.cancelPendingSetState=function(){},t.userInteraction="mouse",t.state={immediatelyHide:!1,immediatelyShow:!1,isVisible:!1,renderTooltip:!1},t.handleWindowScroll=function(){t.state.isVisible&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseClick=function(){t.props.hideTooltipOnClick&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseDown=function(){t.props.hideTooltipOnMouseDown&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseOver=function(e){e.target!==t.wrapperRef&&(t.userInteraction="mouse",t.fakeMouseElement||(t.fakeMouseElement=be({left:e.clientX,top:e.clientY})),t.handleShowTooltip())},t.handleFocus=function(){t.userInteraction="keyboard",t.fakeMouseElement||(t.fakeMouseElement=be({left:0,top:0})),t.handleShowTooltip()},t.handleShowTooltip=function(){t.cancelPendingSetState(),Boolean(t.props.content)&&!t.state.isVisible&&(t.cancelPendingSetState=ve((function(e){t.setState({isVisible:!0,renderTooltip:!0,immediatelyShow:e})}),t.props.delay||0))},t.handleHideTooltip=function(e){e.target!==t.wrapperRef&&(t.cancelPendingSetState(),t.state.isVisible&&(t.cancelPendingSetState=ke((function(e){t.setState({isVisible:!1,immediatelyHide:e})}),t.props.delay||0)))},t.handleMouseMove=function(e){t.state.renderTooltip||(t.fakeMouseElement=be({left:e.clientX,top:e.clientY}))},t}return r(t,e),t.prototype.componentWillUnmount=function(){this.cancelPendingSetState(),this.removeScrollListener()},t.prototype.componentDidUpdate=function(e,t){!t.isVisible&&this.state.isVisible?(this.props.onShow&&this.props.onShow(),window.addEventListener("scroll",this.handleWindowScroll,ge)):t.isVisible&&!this.state.isVisible&&(this.props.onHide&&this.props.onHide(),this.removeScrollListener())},t.prototype.removeScrollListener=function(){window.removeEventListener("scroll",this.handleWindowScroll,ge)},t.prototype.shouldPositionTooltipNearMouse=function(){return"mouse"===this.props.position&&"mouse"===this.userInteraction},t.prototype.render=function(){var e=this,t=this.props,i=t.children,n=t.position,r=t.mousePosition,s=t.content,o=t.truncate,c=t.component,d=t.tag,u=t.testId,m=this.state,h=m.isVisible,g=m.renderTooltip,f=m.immediatelyShow,v=m.immediatelyHide,k="mouse"===n?r:n;return l.a.createElement(l.a.Fragment,null,d&&l.a.createElement(d,{onClick:this.handleMouseClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleHideTooltip,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleHideTooltip,ref:function(t){e.wrapperRef=t}},l.a.createElement(p.a,{innerRef:function(t){e.targetRef=t}},l.a.Children.only(i))),g&&this.targetRef&&this.fakeMouseElement?l.a.createElement(G,{zIndex:R.tooltip()},l.a.createElement(b.a,{placement:k,referenceElement:this.shouldPositionTooltipNearMouse()?this.fakeMouseElement:this.targetRef},(function(t){var i=t.ref,n=t.style;return c&&l.a.createElement(pe,{immediatelyShow:f,immediatelyHide:v,onExited:function(){return e.setState({renderTooltip:!1})},in:h},(function(e){return l.a.createElement(c,{innerRef:i||void 0,className:"Tooltip",style:a(a({},e()),n),truncate:o||!1,"data-placement":k,"data-testid":u},s)}))}))):null)},t.defaultProps={component:Q,delay:300,mousePosition:"bottom",position:"bottom",tag:"div"},t}(l.a.Component),we=Object(m.a)("atlaskit"),je=Object(h.a)({componentName:"tooltip",packageName:Y.name,packageVersion:Y.version})(Object(g.a)({onHide:he,onShow:we(a({},me))})(ye)),xe=i("./packages/colors/index.ts");const Ce=Object(w.default)(J)(fe||(_e=["\n  background: ",";\n  border-radius: 4px;\n  box-shadow: 0 1px 2px ",";\n  box-sizing: content-box;\n  color: ",";\n  max-height: 300px;\n  max-width: 300px;\n  padding: 8px 12px;\n"],Oe||(Oe=_e.slice(0)),fe=Object.freeze(Object.defineProperties(_e,{raw:{value:Object.freeze(Oe)}}))),xe.N0,xe.OpacityDark2,xe.N800);var _e,Oe},"./resources/images/business-class-feature-boards.png":function(e,t,i){e.exports=i.p+"images/business-class-feature-boards.e600c69b7e3fc09e01e7.png"},"./resources/images/business-class-feature-integration.png":function(e,t,i){e.exports=i.p+"images/business-class-feature-integration.3cf8a0a268ae3df9ba86.png"},"./resources/images/business-class-feature-roadmap.png":function(e,t,i){e.exports=i.p+"images/business-class-feature-roadmap.6ef1064adc08b58d544a.png"},"./resources/images/business-class/feature-boards.svg":function(e,t,i){e.exports=i.p+"images/business-class/feature-boards.187fefab238409644c24.svg"},"./resources/images/business-class/feature-butler.svg":function(e,t,i){e.exports=i.p+"images/business-class/feature-butler.a7939b992e0aa414c5dc.svg"},"./resources/images/business-class/feature-control.svg":function(e,t,i){e.exports=i.p+"images/business-class/feature-control.521a9528f5a738a01953.svg"},"./resources/images/business-class/feature-powerups.svg":function(e,t,i){e.exports=i.p+"images/business-class/feature-powerups.21d4cec5c307cd84f315.svg"},"./resources/images/butler/automation-dark.svg":function(e,t,i){e.exports=i.p+"images/butler/automation-dark.8548e886880fadc385da.svg"},"./resources/images/butler/automation-light.svg":function(e,t,i){e.exports=i.p+"images/butler/automation-light.664d88a0fc08655e416b.svg"},"./resources/images/butler/butler-bell-icon-dark.svg":function(e,t,i){e.exports=i.p+"images/butler/butler-bell-icon-dark.2c8e5b539a969f2ec32a.svg"},"./resources/images/butler/butler-bell-icon-light.svg":function(e,t,i){e.exports=i.p+"images/butler/butler-bell-icon-light.fd2c0bdd06b68b8bf6cb.svg"},"./resources/images/directory/icons/compliant.svg":function(e,t,i){e.exports=i.p+"images/directory/icons/compliant.ae7e63776f2f61b39c2b.svg"},"./resources/images/directory/icons/notCompliant.svg":function(e,t,i){e.exports=i.p+"images/directory/icons/notCompliant.f6693799e8236f50455b.svg"},"./resources/images/directory/power-ups-banner-v2.png":function(e,t,i){e.exports=i.p+"images/directory/power-ups-banner-v2.260b9c5f78bd43739ef9.png"},"./resources/images/dropbox-mark.svg":function(e,t,i){e.exports=i.p+"images/dropbox-mark.215858e3544ae873917a.svg"},"./resources/images/free-trial/light.svg":function(e,t,i){e.exports=i.p+"images/free-trial/light.81158fb384d8b22c6c18.svg"},"./resources/images/free-trial/thumbs-up.svg":function(e,t,i){e.exports=i.p+"images/free-trial/thumbs-up.50b570ce7386a670d911.svg"},"./resources/images/icon-link.svg":function(e,t,i){e.exports=i.p+"images/icon-link.c829b81e1241b90d7594.svg"},"./resources/images/illos.png":function(e,t,i){e.exports=i.p+"images/illos.2115ef449c35c60bbc99.png"},"./resources/images/moonshot/bc-sparkle.svg":function(e,t,i){e.exports=i.p+"images/moonshot/bc-sparkle.bd904266f6bf970d90a5.svg"},"./resources/images/powerups/voting-icon.svg":function(e,t,i){e.exports=i.p+"images/powerups/voting-icon.849821308b83ed448d78.svg"},"./resources/images/qr-code/error.svg":function(e,t,i){e.exports=i.p+"images/qr-code/error.d04bdb73176b32293bf7.svg"},"./resources/images/services/lock.svg":function(e,t,i){e.exports=i.p+"images/services/lock.a907e0855299b9fd3b5f.svg"},"./resources/images/services/people.svg":function(e,t,i){e.exports=i.p+"images/services/people.cf4cb77547092c216488.svg"},"./resources/images/stars.svg":function(e,t,i){e.exports=i.p+"images/stars.d19b8361de56914042bd.svg"},"./resources/images/stickers/residue.png":function(e,t,i){e.exports=i.p+"images/stickers/residue.38e223183bf85ac21aa3.png"},"./resources/images/taco.png":function(e,t,i){e.exports=i.p+"images/taco.37f10c6fbefac38fc7d3.png"},"./resources/images/upgrade-prompts/fortnite.svg":function(e,t,i){e.exports=i.p+"images/upgrade-prompts/fortnite.a3213014c3b35e6df4dc.svg"},"./resources/images/upgrade-prompts/google.svg":function(e,t,i){e.exports=i.p+"images/upgrade-prompts/google.a9c8466235317a58716f.svg"},"./resources/images/upgrade-prompts/peloton.svg":function(e,t,i){e.exports=i.p+"images/upgrade-prompts/peloton.724a6ab7c61c893a33f6.svg"},"./resources/images/upgrade-prompts/pinterest.svg":function(e,t,i){e.exports=i.p+"images/upgrade-prompts/pinterest.1892dc0d5d3fa40d15d0.svg"},"./resources/images/views-upsell sync recursive ^\\.\\/.*\\.svg$":function(e,t,i){var n={"./calendar.svg":"./resources/images/views-upsell/calendar.svg","./dashboard.svg":"./resources/images/views-upsell/dashboard.svg","./map.svg":"./resources/images/views-upsell/map.svg","./table.svg":"./resources/images/views-upsell/table.svg","./timeline.svg":"./resources/images/views-upsell/timeline.svg"};function r(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="./resources/images/views-upsell sync recursive ^\\.\\/.*\\.svg$"},"./resources/images/views-upsell/calendar.svg":function(e,t,i){e.exports=i.p+"images/views-upsell/calendar.fde7d53f0f2ededb3b57.svg"},"./resources/images/views-upsell/dashboard.svg":function(e,t,i){e.exports=i.p+"images/views-upsell/dashboard.7c8d3d1ba947aa563852.svg"},"./resources/images/views-upsell/map.svg":function(e,t,i){e.exports=i.p+"images/views-upsell/map.b57fb00e345ff64bfdd6.svg"},"./resources/images/views-upsell/table.svg":function(e,t,i){e.exports=i.p+"images/views-upsell/table.2678f921501e21b23b35.svg"},"./resources/images/views-upsell/timeline.svg":function(e,t,i){e.exports=i.p+"images/views-upsell/timeline.1df2ef6e7cfd3af8f75b.svg"},"./resources/images/views/BoardViewsButtonCalloutImage.svg":function(e,t,i){e.exports=i.p+"images/views/BoardViewsButtonCalloutImage.9d38bb6fb1ed06b64de0.svg"},"./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-image.png":function(e,t,i){e.exports=i.p+"images/workspaces-preamble/workspaces-preamble-prompt-board-image.e9818a5d327d058cd9db.png"},"./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.png":function(e,t,i){e.exports=i.p+"images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.21faec9c81d947be5bd3.png"}}]);
//# sourceMappingURL=board-view.b15c9d042b881e024ce6.js.map